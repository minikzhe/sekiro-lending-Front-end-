/*! For license information please see 42448883.71e2f6ab.js.LICENSE.txt */
function e(){"use strict";(self.webpackChunkvkweb=self.webpackChunkvkweb||[]).push([[20086],{744670:(e,t,r)=>{r.d(t,{Cache:()=>a});var i,o,s=r(77783);!function(e){e.OBJECT="object",e.STRING="string",e.NUMBER="number",e.BOOLEAN="boolean",e.STRING_NUMBER="string_number"}(i||(i={})),function(e){e.HELP_HINTS="helpHints"}(o||(o={}));class a{getHelpHints(){return this.getItem(o.HELP_HINTS)}setHelpHints(e){return this.setItem(o.HELP_HINTS,e)}clear(){return(0,s.clear)(this.store)}async getItem(e){const t=this.buildItemKey(e),r=a.cache.get(t);return(0,s.get)(t,this.store).then((e=>e||r)).catch((()=>r))}async setItem(e,t){const r=this.buildItemKey(e);a.cache.set(r,t),await(0,s.set)(r,t,this.store).catch((()=>{}))}deleteItem(e){const t=this.buildItemKey(e);return(0,s.del)(t,this.store)}buildItemKey(e){return`${e}-${a.VERSION}-${this.userId}`}getItemSync(e,t){const r=this.buildSyncItemKey(e);try{let e=localStorage.getItem(r);if(!e)return;switch(t){case i.OBJECT:try{e=JSON.parse(e)}catch{return}break;case i.NUMBER:e=Number(e)||0;break;case i.STRING_NUMBER:e=Number(e)||e;break;case i.BOOLEAN:e=Boolean(Number(e))}return e}catch{return a.cache.get(r)}}setItemSync(e,t,r){const o=this.buildSyncItemKey(e);switch(r){case i.OBJECT:t=JSON.stringify(t);break;case i.BOOLEAN:t=String(Number(t))}try{localStorage.setItem(o,t)}catch{a.cache.set(o,t)}}buildSyncItemKey(e){return`${a.DB_NAME}_${e}_${a.VERSION}_${this.userId}`}constructor({userId:e=window.vk?.id,categories:t}={}){this.userId=e||0;let r="cache";t?.length&&(r=`${r}-${t.join("-")}`),this.store=(0,s.createStore)(a.DB_NAME,r)}}a.DB_NAME="help-hints",a.VERSION=1,a.CACHE_UPDATE_EVENT_NAME=`${a.DB_NAME}_cache_update`,a.cache=new Map},172850:(e,t,r)=>{r.d(t,{HelpHintsProvider:()=>n});var i=r(474848),o=r(296540),s=r(988456),a=r(931692);function n({api:e,noToken:t,...r}){const[n,c]=(0,o.useState)(!0);return(0,o.useEffect)((()=>{e&&(s.HelpHints.setAPI(e),t&&!e.options.token&&"function"!=typeof e.options.requestMethod)||(async()=>{c(!0),await s.HelpHints.reload(),c(!1)})()}),[e,t]),(0,i.jsx)(a.HelpHintsContext.Provider,{value:{isHelpHintsReloading:n},...r})}},671599:(e,t,r)=>{r.d(t,{HelpHint:()=>i});class i{get id(){return this.hint.id}get title(){return this.hint.title}get description(){return this.hint.description}getResource(e){return this.hint.resources?.find((({key:t})=>t===e))?.value}constructor(e){this.hint=e}}},661897:(e,t,r)=>{r.d(t,{useHelpHint:()=>a});var i=r(296540),o=r(988456),s=r(931692);function a(e){const{isHelpHintsReloading:t}=(0,s.useHelpHints)();return(0,i.useMemo)((()=>{if(e)return o.HelpHints.getSync(e)}),[t])}},42913:(e,t,r)=>{r.d(t,{useHelpHintResource:()=>a});var i=r(296540),o=r(988456),s=r(931692);function a(e,t){const{isHelpHintsReloading:r}=(0,s.useHelpHints)();return(0,i.useMemo)((()=>{if(e&&t)return o.HelpHints.getSync(e)?.getResource(t)}),[e,t,r])}},931692:(e,t,r)=>{r.d(t,{HelpHintsContext:()=>o,useHelpHints:()=>s});var i=r(296540);const o=(0,i.createContext)({});function s(){return(0,i.useContext)(o)}},988456:(e,t,r)=>{r.d(t,{HelpHints:()=>c});var i=r(767396),o=r(282282),s=r(671599),a=r(744670),n=r(565403);class c{static setAPI(e){this.api=e}static setUserId(e){this.cacheOptions.userId=e,this.cache=void 0}static setCategories(e){Array.isArray(e)||(e=[e]),this.cacheOptions.categories=e,this.cache=void 0}static async get(e){return await this.reload(),this.getSync(e)}static getSync(e){const t=this.helpHints?.items.find((({id:t})=>t===e));if(t)return new s.HelpHint(t)}static show(e){return e instanceof s.HelpHint&&(e=e.id),this.api.account.showHelpHint({hint_id:e})}static async hide(e){e instanceof s.HelpHint&&(e=e.id);let t=!1;return await this.reloading,this.helpHints&&(this.helpHints.items=this.helpHints.items.filter((({id:r})=>(r===e&&(t=!0),r!==e))),this.cache?.setHelpHints(this.helpHints)),t?this.api.account.hideHelpHint({hint_id:e}):Promise.resolve()}static async getResource(e,t){const r=await this.get(e);if(r)return r.getResource(t)}static async reload(){return await this.reloading,this.cache||(this.cache=new a.Cache(this.cacheOptions)),this.reloading=new Promise((async e=>{if(!this.api.options.token&&"function"!=typeof this.api.options.requestMethod){const t=await this.getAccessToken();if(!t)return e();this.api=new i.API({token:t}),this.api.onTokenRegenerate((async t=>{const r=await this.getAccessToken();if(!r)return e();t(r)}))}if(this.helpHints=await(this.cache?.getHelpHints()),this.helpHints&&Date.now()-this.helpHints.date<n.TEN_MINUTES&&!this.isDevMode())return e();const{categories:t}=this.cacheOptions;this.helpHints=await this.api.account.getHelpHints({categories:t?String(t):void 0}).then((e=>({...e,date:Date.now()}))).catch((()=>{})),await(this.cache?.setHelpHints(this.helpHints)),this.refresh(),e()})),this.reloading}static refresh(){try{localStorage.setItem(a.Cache.CACHE_UPDATE_EVENT_NAME,""),localStorage.removeItem(a.Cache.CACHE_UPDATE_EVENT_NAME)}catch{}}static async getAccessToken(){const e=await(0,o.login)("web_token").catch((()=>{}));if(!e)return;const{access_token:t}=e;return t}}c.api=new i.API({token:""}),c.cacheOptions={},c.reloading=Promise.resolve(),c.isDevMode=()=>localStorage.getItem("help-hints-dev"),window.addEventListener("storage",(({key:e,newValue:t})=>{e===a.Cache.CACHE_UPDATE_EVENT_NAME&&null!==t&&c.reload()}))},201846:(e,t,r)=>{var i,o;r.d(t,{HelpHintId:()=>o}),function(e){e.DEFAULT="default",e.STICKERS_UGC="stickers_ugc"}(i||(i={})),function(e){e.KEYBOARD_STICKERS_VMOJI="keyboard:stickers_vmoji",e.POSTING_POST_FEED_BADGES="posting:post_feed_badges",e.POSTING_POST_BADGES_ONBOARDING="posting:post_badges_onboarding",e.POSTING_POST_FEED_BADGES_UNSEEN="posting:post_feed_badges_unseen",e.POSTING_POST_BADGES_PAGE_UNSEEN="posting:post_badges_page_unseen",e.POSTING_POST_BADGES_CATALOG_USER="posting:post_badges_catalog_user",e.POSTING_POST_BADGES_FEEDBACK_USER="posting:post_badges_feedback_user",e.POSTING_POST_BADGES_FEEDBACK_USER_UNSEEN="posting:post_badges_feedback_user_unseen",e.STICKERS_UGC_SETTINGS_UNSEEN="stickers:ugc_settings_unseen",e.STICKERS_UGC_KEYBOARD_ONBOARDING="stickers:ugc_keyboard_onboarding",e.STICKERS_UGC_APP_ONBOARDING_MODAL="stickers:ugc_app_onboarding_modal",e.STICKERS_UGC_KEYBOARD_ONBOARDING_TOOLTIP="stickers:ugc_keyboard_onboarding_tooltip"}(o||(o={}))},971377:(e,t,r)=>{var i;r.d(t,{KeyboardStickersVmojiResourceKey:()=>i}),function(e){e.VMOJI_ON_BOARDING_DARK="vmoji_kb_onboarding_dark",e.VMOJI_ON_BOARDING_LIGHT="vmoji_kb_onboarding_light"}(i||(i={}))},129176:(e,t,r)=>{var i,o;r.d(t,{StickersUGCKeyboardOnboardingResourceKey:()=>o}),function(e){e.CLOSE="close",e.IMAGE="image"}(i||(i={})),function(e){e.IMAGE="image"}(o||(o={}))},565403:(e,t,r)=>{r.d(t,{TEN_MINUTES:()=>i});const i=6e5},419230:(e,t,r)=>{r.d(t,{LangPackProvider:()=>d});var i=r(474848),o=r(293721),s=r(296540),a=r(386779),n=r(495520),c=r(144490);const l=new Map;function d({children:e,suspense:t,...r}){const d=(0,s.useMemo)((()=>JSON.stringify(r)),[r]),u=(0,o.useUnit)(n.loadPackFx),m=(0,s.useMemo)((()=>{let e=l.get(d);return e||(e=(0,c.wrapSuspense)(u({id:d,...r})),l.set(d,e)),e}),[d,r]);return t&&m.read(),(0,i.jsx)(a.LangPackIdProvider,{value:d,children:e})}},144490:(e,t,r)=>{r.d(t,{wrapSuspense:()=>i});function i(e){let t,r="pending";const i=e.then((e=>{t=e,r="success"})).catch((e=>{t=e,r="error"}));return{read:()=>{switch(r){case"success":return t;case"pending":throw i;case"error":throw t}}}}},847981:(e,t,r)=>{r.d(t,{APIProvider:()=>u});var i=r(474848),o=r(296540),s=r(348385),a=r(990490),n=r(869343),c=r(767396),l=r(764891),d=r(285627);function u({userId:e,peerId:t,onAPIRequest:r,language:u,children:m,context:h,logError:p}){const[f,v]=(0,o.useReducer)(((e,t)=>(e.cache.destroy(),t)),new a.API({userId:e,peerId:t,onAPIRequest:r,language:u,context:h,logError:p}));return(0,o.useEffect)((()=>{const i=new a.API({userId:e,peerId:t,onAPIRequest:r,language:u,context:h,logError:p});if(v(i),i.cache.reload(),!(0,n.isStaticUpdatesManagerEnabled)())return;const o=c.StaticUpdatesManager.setup(i,{userId:e});o.start(c.UpdatesSource.STICKERS);const s=l.stickersUGCOwnerUpdateHandler.bind(i),m=d.stickersUGCStickerUpdateHandler.bind(i),f=o.queues[c.UpdatesSource.STICKERS];return f.addEventListener(c.StickersQueueEventType.UGC_OWNER_UPDATE,s),f.addEventListener(c.StickersQueueEventType.UGC_STICKER_UPDATE,m),()=>{o.stop(c.UpdatesSource.STICKERS),f.removeEventListener(c.StickersQueueEventType.UGC_OWNER_UPDATE,s),f.removeEventListener(c.StickersQueueEventType.UGC_STICKER_UPDATE,m)}}),[e,t,u,r,h,p]),(0,o.useEffect)((()=>{if(!(0,n.isStaticUpdatesManagerEnabled)())return f.updates.start(),()=>{f.updates.stop()}}),[f]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.APIGate,{api:f}),m]})}},714573:(e,t,r)=>{r.d(t,{AvatarSuggestionRow:()=>p});var i=r(474848),o=r(293721),s=r(715288),a=r(285056),n=r(373080),c=r(547843),l=r(185564),d=r(96270),u=r(895380),m=r(853603),h=r(34855);const p=({Component:e,...t})=>{const r=(0,s.useAppearance)(),{onVmojiSuggestionClick:p}=(0,m.useStickersKeyboard)(),f=(0,o.useStore)(l.$avatarSuggestion),v=(0,o.useStore)(c.$stickersVerticalGap);if(!p)return null;const k=f?.resources?.find((e=>e.key===`image_${r}`))?.value,S=f?.title,b=f?.description;return(0,i.jsx)(e,{style:{"--stickers-vertical-gap":`${v}px`},className:h.default.banner,asideMode:"dismiss",onDismiss:e=>{e.preventDefault(),e.stopPropagation(),(0,d.hideHelpHint)(u.HelpHintIdTypes.VMOJI_AVATAR_SUGGESTION)},onClick:p,mode:"image",imageTheme:"light",before:(0,i.jsx)("div",{className:h.default.placeholder}),background:(0,i.jsx)("div",{className:h.default.character,style:{backgroundImage:`url('${k}')`}}),header:S&&(0,i.jsx)(a.Headline,{level:"1",children:S}),subheader:b&&(0,i.jsx)(a.Paragraph,{children:(0,i.jsx)(n.InnerHTML,{children:b})}),...t})}},410845:(e,t,r)=>{r.d(t,{Emoji:()=>n});var i=r(474848),o=r(8520),s=r(974280),a=r(215943);function n({emoji:e,className:t,...r}){return(0,i.jsx)("i",{className:(0,o.classNames)(a.default.emoji,`@${(0,s.unicodeToByteHex)(e)}`,t),"data-emoji":e,...r})}},192445:(e,t,r)=>{r.d(t,{EmojiItem:()=>n});var i=r(474848),o=r(8520),s=r(410845),a=r(807799);function n({emoji:e,active:t,onEmojiClick:r,className:n,onClick:c,...l}){return(0,i.jsx)("div",{className:(0,o.classNames)(n,a.default.item,{[a.default.itemActive]:t}),onClick:t=>{c?.(t),r?.(e)},...l,children:(0,i.jsx)(s.Emoji,{emoji:e})})}},899461:(e,t,r)=>{r.d(t,{EmojiKeyboard:()=>j});var i=r(474848),o=r(293721),s=r(651220),a=r(8520),n=r(296540),c=r(744440),l=r(251763),d=r(140925),u=r(395469),m=r(879825),h=r(485797),p=r(830922),f=r(895770),v=r(516413),k=r(192641),S=r(503078),b=r(297272),g=r(677363),E=r(722098),y=r(43561),_=r(252691),I=r(967263);function j({className:e,...t}){const{emojiSections:r,insertEmoji:j}=(0,g.useEmojiKeyboard)(),{bannerPackIndex:x,getAvatarSuggestionEmojiRow:w,avatarSuggestion:A,avatarSuggestionTab:R}=(0,E.useAvatarSuggestion)(),C=(0,o.useStore)(h.$emojiPadding),K=(0,o.useStore)(p.$selectedEmojiPackIndex),T=(0,n.useRef)(null),{setGridRef:P,columns:N}=(0,f.useGrid)({tab:v.Tab.EMOJI,itemWidth:u.EMOJI_SIZE+C}),O=(0,n.useMemo)((()=>{const e=[];return r.forEach((([t,r],o)=>{if(e.push({type:y.EmojiKeyboardElementType.HEADER,element:(0,i.jsx)(m.EmojiKeyboardHeader,{title:t},t),sticky:!0}),!x&&o===K||x===o){const t=w(K);t&&e.push(t)}(0,a.chunkArray)(r,N).forEach(((r,s)=>{e.push({type:y.EmojiKeyboardElementType.ROW,element:(0,i.jsx)(d.EmojiKeyboardRow,{"data-section-index":o,"data-row-index":s,emoji:r,onEmojiClick:j},`${t}${r[0]}`)})}))})),e}),[N,r,A]),V=(0,n.useMemo)((()=>O.reduce(((e,{type:t},r)=>(t===y.EmojiKeyboardElementType.HEADER&&e.push(r),e)),[])),[O]),M=e=>V.includes(e),{rangeExtractor:H,isSticky:G}=(0,k.useSticky)({rows:O}),D=(0,s.useVirtualizer)({overscan:5,rangeExtractor:H,count:O.length,getScrollElement:()=>T.current,estimateSize:()=>u.EMOJI_SIZE});(0,S.useScrollView)(T),(0,b.useKeyboardEvent)({columns:N,virtualizer:D,headerIndexes:V}),(0,_.useCalculateSelectedEmojiPackIndex)(D,V),(0,n.useEffect)((()=>{null!==x&&R===v.Tab.EMOJI&&V[x]&&D.scrollToIndex(V[x],{align:"start",behavior:"auto"})}),[x]);const L=D.getVirtualItems().filter(Boolean);return(0,i.jsx)(l.ViewItem,{getRef:P,className:(0,a.classNames)(I.default.keyboard,e),style:{"--emoji-size":`${u.EMOJI_SIZE}px`,"--emoji-padding":`${C}px`,"--emoji-columns":N},...t,children:(0,i.jsx)(c.CustomScrollView,{getRootRef:T,className:I.default.scroll,overscrollBehavior:"none",children:(0,i.jsx)("div",{className:I.default.in,style:{height:D.getTotalSize()},children:L.map((({key:e,index:t,start:r})=>(0,i.jsx)("div",{"data-index":t,ref:D.measureElement,className:(0,a.classNames)(I.default.item,{[I.default.itemHeader]:M(t)}),style:G(t)?{position:"sticky"}:{position:"absolute",transform:`translateY(${r}px)`},children:O[t].element},e)))})})})}},297272:(e,t,r)=>{r.d(t,{useKeyboardEvent:()=>m});var i=r(296540),o=r(293721),s=r(718331),a=r(93272),n=r(138560),c=r(291915),l=r(677363),d=function(e){return e.ENTER="Enter",e.ARROW_UP="ArrowUp",e.ARROW_DOWN="ArrowDown",e.ARROW_LEFT="ArrowLeft",e.ARROW_RIGHT="ArrowRight",e}(d||{});const u=Object.values(d);function m({columns:e,virtualizer:t,headerIndexes:r}){const{emojiSections:d,insertEmoji:m}=(0,l.useEmojiKeyboard)(),h=(0,o.useStore)(s.$isVisible),p=(0,o.useStore)(c.$selectedEmoji),{isEmojiVisibleTab:f}=(0,o.useStore)(a.$visibleTabState),{isEmojiActiveTab:v}=(0,o.useStore)(n.$tabbarActiveTabState),k=p?.emojiIndex||0,S=p?.sectionIndex||0,b=Math.floor(k/e),g=(e,i)=>{const o=r[S]+b;t.scrollToIndex(o,{align:"center",behavior:"auto"}),(0,c.setSelectedEmoji)({sectionIndex:e,emojiIndex:i})};(0,i.useEffect)((()=>{if(!h)return;const t=t=>{const{key:r}=t,i=p;if(u.includes(r)&&(f||v))if((e=>{e.preventDefault(),e.stopPropagation()})(t),i)switch(r){case"Enter":{if(!p)return;const{sectionIndex:e,emojiIndex:t}=p,r=d[e]?.[1][t];return void(r&&m(r))}case"ArrowUp":if(!p)return;if(Number(i.emojiIndex)>=e)return void g(i.sectionIndex,i.emojiIndex-e);if(i.sectionIndex){const t=d[i.sectionIndex-1]?.[1].length||0;if(t){const r=i.emojiIndex%e,o=t-1,s=o%e,a=o-o%e+Math.min(r,s);g(i.sectionIndex-1,a)}}return;case"ArrowDown":{const t=d[i.sectionIndex]?.[1].length||0;return i.emojiIndex-i.emojiIndex%e!=t-1-(t-1)%e?void g(i.sectionIndex,Math.min(i.emojiIndex+e,t-1)):void(i.sectionIndex!==d.length-1&&g(i.sectionIndex+1,i.emojiIndex%e))}case"ArrowLeft":if(i.emojiIndex)return void g(i.sectionIndex,i.emojiIndex-1);if(i.sectionIndex){const e=d[i.sectionIndex-1]?.[1].length||0;e&&g(i.sectionIndex-1,e-1)}return;case"ArrowRight":{const e=d[i.sectionIndex]?.[1].length||0;return i.emojiIndex!==e-1?void g(i.sectionIndex,i.emojiIndex+1):void(i.sectionIndex!==d.length-1&&g(i.sectionIndex+1,0))}}else g(0,0)};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}}),[h,v,f,p,d])}},43561:(e,t,r)=>{r.d(t,{EmojiKeyboardElementType:()=>i});var i=function(e){return e.ROW="row",e.HEADER="header",e}({})},879825:(e,t,r)=>{r.d(t,{EmojiKeyboardHeader:()=>u});var i=r(474848),o=r(285056),s=r(293721),a=r(8520),n=r(1578),c=r(294248),l=r(161187);const d={[c.StickerEmojiKeyboardVariant.WIDE]:l.default.headerWide,[c.StickerEmojiKeyboardVariant.COMPACT]:l.default.headerCompact,[c.StickerEmojiKeyboardVariant.REGULAR]:l.default.headerRegular,[c.StickerEmojiKeyboardVariant.ADAPTIVE]:l.default.headerAdaptive,[c.StickerEmojiKeyboardVariant.SMALL]:l.default.headerSmall};function u({title:e,className:t,...r}){const{translate:u}=(0,n.useLangPack)(),m=(0,s.useStore)(c.$variant);return(0,i.jsx)("div",{"data-testid":"emoji-keyboard-header","data-header":!0,className:(0,a.classNames)(l.default.header,d[m],t),...r,children:(0,i.jsx)(o.Subhead,{className:l.default.title,weight:"3",children:u(e)})})}},395469:(e,t,r)=>{r.d(t,{EMOJI_SIZE:()=>m,EmojiKeyboardProvider:()=>h});var i=r(474848),o=r(293721),s=r(296540),a=r(393321),n=r(718331),c=r(745457),l=r(291915),d=r(445740),u=r(677363);const m=16;function h({onEmojiInsert:e,...t}){const r=(0,d.useAPI)(),m=(0,o.useStore)(n.$isVisible),h=e=>e?e.sort((([,e],[,t])=>t-e)).map((([e])=>e)):[],[p,f]=(0,s.useState)(Object.entries({stickers_picker_recently_used:h(r.cache.recentEmoji.get()),...a.sections})),v=p.filter((([,e])=>e.length));return(0,s.useEffect)((()=>{m||((async()=>{const e=r.cache.recentEmoji.get();e&&((0,c.setRecentEmoji)(e),f((t=>(t[0][1]=h(e),t))))})(),(0,l.setSelectedEmoji)(null))}),[r,m]),(0,i.jsx)(u.EmojiKeyboardContext.Provider,{value:{emojiSections:v,onEmojiInsert:e},...t})}},393321:(e,t,r)=>{r.d(t,{sections:()=>i});const i={stickers_picker_emotions:["😀","😃","😄","😁","😅","😆","😂","🤣","😉","😊","☺","🙂","🙃","😇","😗","😙","😚","😘","😍","🥰","🤩","🤗","😋","😜","🤪","😛","😝","🤑","🤭","🤐","🤫","😶","🤔","🤨","🧐","😐","😑","🙄","😬","🤥","😏","😌","🤤","😴","🤓","😎","🥳","🤠","😒","😔","😪","😕","😟","🙁","☹","😮","😯","😲","😳","🥺","😦","😧","😨","😰","😥","😢","😭","😱","😖","😣","😞","😓","😩","😫","😷","🤒","🤕","🤢","🤮","🤧","🥶","🥵","🥴","😵","🤯","😤","😠","😡","🤬","😈","👿","💀","☠","💩","🤡","👹","👺","👻","👽","👾","🤖","😺","😸","😹","😻","😼","😽","🙀","😿","😾","🙈","🙉","🙊","🦠"],stickers_picker_gestures_and_people:["👍","👎","👌","✌","🤞","🤟","🤘","🤙","🖕","✊","👊","🤛","🤜","👈","👉","👆","👇","☝","👋","🤚","🖐","✋","🖖","👏","🙌","👐","🤲","🤝","🙏","💪","🦵","🦶","👂","👃","🧠","🦷","🦴","👀","👁","👅","👄","✍","💅","🤳","👫","👩‍❤️‍💋‍👨","👩‍❤️‍👨","👪","👶","🧒","👦","👧","🧑","👱","👨","🧔","👱‍♂️","👨‍🦰","👨‍🦱","👨‍🦳","👨‍🦲","👩","👱‍♀️","👩‍🦰","👩‍🦱","👩‍🦳","👩‍🦲","🧓️","🙍‍♂️️","🙍‍♀️️","🙎‍♂️","🙎‍♀️️","🙅‍♂️","🙅‍♀️","🙆‍♂️","🙆‍♀️","💁‍♂️","💁‍♀️️","🙋‍♂️","🙋‍♀️️","🙇‍♂️","🙇‍♀️️","🤦‍♂️","🤦‍♀️","🤷‍♂️","🤷‍♀️","💆‍♂️️","💆‍♀️","💇‍♂️️","💇‍♀️","🚶‍♂️️","🚶‍♀️️","🏃‍♂️️","🏃‍♀️","💃","🕺","🕴️","👯‍♂️️","👯‍♀️","🧖‍♂️","🧖‍♀️️","👼","🎅","🤶","🦸‍♂️","🦸‍♀️","🦹‍♂️","🦹‍♀️","🧙‍♂️","🧙‍♀️","🧚‍♂️","🧚‍♀️","🧛‍♂️","🧛‍♀️","🧜‍♂️","🧜‍♀️","🧝‍♂️","🧝‍♀️","🧞‍♂️","🧞‍♀️","🧟‍♂️","🧟‍♀️","👨‍⚕️","👩‍⚕️","👨‍🎓","👩‍🎓","👨‍🏫","👩‍🏫","👨‍⚖️","👩‍⚖️","👨‍🌾","👩‍🌾","👨‍🍳","👩‍🍳","👨‍🔧","👩‍🔧","👨‍🏭","👩‍🏭","👨‍💼","👩‍💼","👨‍🔬","👩‍🔬","👨‍💻","👩‍💻","👨‍🎤","👩‍🎤","👨‍🎨","👩‍🎨","👨‍✈️","👩‍✈️","👨‍🚀","👩‍🚀","👨‍🚒","👩‍🚒","👮‍♂️","👮‍♀️","🕵️‍♂️","🕵️‍♀️","💂‍♂️","💂‍♀️","👷‍♂️","👷‍♀️","🤴","👸","👳‍♂️","👳‍♀️","👲","🧕","🤵","👰","🤰","🤱","🛀","🛌"],stickers_picker_symbols:["💋","❤","💔","❣","💘","💝","💖","💗","💓","💞","💕","💟","💜","🧡","💛","💚","💙","🖤","💯","💢","💥","💫","🕳","💣","💬","👁️‍🗨️","🗨","🗯","💭","💤","🗣","👤","👥","👣","🔇","🔊","📢","📣","🔔","🔕","🎼","🎵","🎶","⚠","🚸","☢","☣","🆚","🆓","🆕","🚮","🚾","🚭","✅","♻","⚕","🔱","‼","⁉","❓","❗","🆘","⛔","🚫","🚳","🚯","🚱","🚷","📵","🔞"],stickers_picker_animals_and_plants:["🐵","🐒","🦍","🐶","🐕","🐩","🐺","🦊","🦝","🐱","🐈","🦁","🐯","🐅","🐆","🐴","🐎","🦄","🦓","🦌","🐮","🐂","🐃","🐄","🐷","🐽","🐖","🐗","🐏","🐑","🐐","🐪","🐫","🦙","🦒","🐘","🦏","🦛","🐭","🐁","🐀","🐹","🐰","🐇","🐿","🦔","🦇","🐻","🐨","🐼","🦘","🦡","🐾","🦃","🐔","🐓","🐣","🐤","🐥","🐦","🐧","🕊","🦅","🦆","🦢","🦉","🦚","🦜","🐸","🐊","🐢","🦎","🐍","🐲","🐉","🦕","🦖","🐳","🐋","🐬","🐟","🐠","🐡","🦈","🐙","🦀","🦞","🦐","🦑","🐚","🐌","🦋","🐛","🐜","🐝","🐞","🦗","🕷","🕸","🦂","🦟","💐","🌸","💮","🏵","🌹","🥀","🌺","🌻","🌼","🌷","🌳","🌲","🎄","🌴","🌵","🌾","🌱","🌿","☘","🍀","🍁","🍂","🍃","🌑","🌒","🌓","🌔","🌕","🌖","🌗","🌘","🌙","🌚","🌛","🌜","🌡","☀","🌝","🌞","⭐","🌟","🌠","☁","⛅","⛈","🌤","🌥","🌦","🌧","🌨","🌩","🌪","🌫","🌬","💨","🌀","🌈","🌂","☂","☔","⛱","⚡","❄","☃","⛄","☄","🔥","💦","💧","🌊"],stickers_picker_food_and_drink:["🍏","🍎","🍐","🍅","🥝","🍑","🍒","🍓","🍇","🍈","🍉","🍊","🍋","🍌","🍍","🥭","🥥","🥑","🍆","🥔","🥕","🌽","🌶","🥒","🥬","🥦","🍄","🥜","🌰","🍞","🥐","🥖","🥨","🥯","🥞","🧀","🍖","🍗","🥩","🥓","🍔","🍟","🍕","🌭","🥪","🌮","🌯","🥙","🥚","🍳","🥘","🍲","🥣","🥗","🍿","🧂","🥫","🍱","🍘","🍙","🍚","🍛","🍜","🍝","🍠","🍢","🍣","🍤","🍥","🥮","🍡","🥟","🥠","🥡","🍦","🍧","🍨","🍩","🍪","🎂","🍰","🧁","🥧","🍫","🍬","🍭","🍮","🍯","🍼","🥛","☕","🍵","🍶","🍾","🍷","🍸","🍹","🍺","🍻","🥂","🥃","🥤","🥢","🍽","🍴","🥄"],stickers_picker_sport_and_activities:["⚽","⚾","🥎","🏀","🏐","🏈","🏉","🎾","🥏","🎳","🏏","🏑","🏒","🥍","🏓","🏸","🥊","🥋","🥅","⛳","⛸","🎣","🎽","🛹","🎿","🛷","🥌","🎯","🎱","🎮","🕹","🎰","🎲","🧩","♟","🧗‍♂️️","🧗‍♀️","🤺","🏇","⛷","🏂","🏌️‍♂️","🏌️‍♀️","🏄‍♂️","🏄‍♀️","🚣‍♂️","🚣‍♀️","🏊‍♂️","🏊‍♀️","⛹️‍♂️","⛹️‍♀️","🏋️‍♂️","🏋️‍♀️","🚴‍♂️","🚴‍♀️","🚵‍♂️","🚵‍♀️","🤸","🤼‍♂️","🤼‍♀️","🤽‍♂️","🤽‍♀️","🤾‍♂️","🤾‍♀️","🤹‍♂️","🤹‍♀️","🧘‍♂️","🧘‍♀️","🎖","🏆","🏅","🥇","🥈","🥉"],stickers_picker_travel_and_transport:["🚂","🚃","🚄","🚅","🚆","🚇","🚈","🚉","🚊","🚝","🚞","🚋","🚌","🚍","🚎","🚐","🚑","🚒","🚓","🚔","🚕","🚖","🚗","🚘","🚙","🚚","🚛","🚜","🏎","🏍","🛵","🚲","🛴","🚏","🛣","🛤","🛢","⛽","🚨","🚥","🚦","🛑","🚧","⚓","⛵","🛶","🚤","🛳","⛴","🛥","🚢","✈","🛩","🛫","🛬","💺","🚁","🚟","🚠","🚡","🛰","🚀","🛸","🌍","🌎","🌏","🌐","🗺","🗾","🧭","🏔","⛰","🌋","🗻","🏕","🏖","🏜","🏝","🏞","🏟","🏛","🏗","🧱","🏘","🏚","🏠","🏡","🏢","🏣","🏤","🏥","🏦","🏨","🏩","🏪","🏫","🏬","🏭","🏯","🏰","💒","🗼","🗽","⛪","🕌","🕍","⛩","🕋","⛲","⛺","🌁","🌃","🏙","🌄","🌅","🌆","🌇","🌉","♨","🌌","🎠","🎡","🎢","💈","🎪"],stickers_picker_subjects:["🎙","🎚","🎛","🎤","🎧","📻","🎷","🎸","🎹","🎺","🎻","🥁","📯","🎭","🖼","🎨","🧵","🧶","🔮","🧿","🧸","🃏","🀄","🎴","🎃","🎆","🎇","🧨","✨","🎈","🎉","🎊","🎋","🎍","🎎","🎏","🎐","🎑","🧧","🎀","🎁","🎗","🎟","🎫","🛎","🧳","⌛","⏳","⌚","⏰","⏱","⏲","🕰","👓","🕶","🥽","🥼","👔","👕","👖","🧣","🧤","🧥","🧦","👗","👘","👙","👚","👛","👜","👝","🛍","🎒","👞","👟","🥾","🥿","👠","👡","👢","👑","👒","🎩","🎓","🧢","⛑","📿","💄","💍","💎","📱","📲","☎","📞","📟","📠","🔋","🔌","💻","🖥","🖨","⌨","🖱","🖲","💽","💾","💿","📀","🧮","🎥","🎞","📽","🎬","📺","📷","📸","📹","📼","🔍","🔎","🕯","💡","🔦","🏮","📔","📕","📖","📗","📘","📙","📚","📓","📒","📃","📜","📄","📰","🗞","📑","🔖","🏷","💰","💴","💵","💶","💷","💸","💳","🧾","💹","💱","💲","✉","💌","📧","📨","📩","📤","📥","📦","📫","📪","📬","📭","📮","🗳","✏","✒","🖋","🖊","🖌","🖍","📝","💼","📁","📂","🗂","📅","📆","🗒","🗓","📇","📈","📉","📊","📋","📌","📍","📎","🖇","📏","📐","✂","🗃","🗄","🗑","🔒","🔓","🔏","🔐","🔑","🗝","🔨","⛏","⚒","🛠","🗡","⚔","🔪","🔫","🏹","🛡","🔧","🔩","⚙","🗜","⚖","🔗","⛓","🧰","🧲","⚗","🧪","🧫","🧬","🔬","🔭","📡","💉","💊","🚪","🛏","🛋","🚽","🚿","🛁","🧴","🧷","🧹","🧺","🧻","🧼","🧽","🧯","🛒","🚬","⚰","⚱","🏺","🗿"],stickers_picker_flags:["🇷🇺","🇰🇿","🇧🇾","🇺🇦","🇲🇳","🇬🇪","🇦🇿","🇹🇯","🇧🇷","🇱🇹","🇱🇻","🇪🇪","🇦🇲","🏁","🚩","🎌","🏴","🏳","🏴‍☠️","🇦🇨","🇦🇩","🇦🇪","🇦🇫","🇦🇬","🇦🇮","🇦🇱","🇦🇴","🇦🇶","🇦🇷","🇦🇸","🇦🇹","🇦🇺","🇦🇼","🇦🇽","🇧🇦","🇧🇧","🇧🇩","🇧🇪","🇧🇫","🇧🇬","🇧🇭","🇧🇮","🇧🇯","🇧🇱","🇧🇲","🇧🇳","🇧🇴","🇧🇶","🇧🇸","🇧🇹","🇧🇻","🇧🇼","🇧🇿","🇨🇦","🇨🇨","🇨🇩","🇨🇫","🇨🇬","🇨🇭","🇨🇮","🇨🇰","🇨🇱","🇨🇲","🇨🇳","🇨🇴","🇨🇵","🇨🇷","🇨🇺","🇨🇻","🇨🇼","🇨🇽","🇨🇾","🇨🇿","🇩🇪","🇩🇬","🇩🇯","🇩🇰","🇩🇲","🇩🇴","🇩🇿","🇪🇨","🇪🇬","🇪🇭","🇪🇷","🇪🇸","🇪🇹","🇪🇺","🇫🇮","🇫🇯","🇫🇰","🇫🇲","🇫🇴","🇫🇷","🇬🇦","🇬🇧","🇬🇩","🇬🇫","🇬🇬","🇬🇭","🇬🇮","🇬🇱","🇬🇲","🇬🇳","🇬🇵","🇬🇶","🇬🇷","🇬🇸","🇬🇹","🇬🇺","🇬🇼","🇬🇾","🇭🇰","🇭🇲","🇭🇳","🇭🇷","🇭🇹","🇭🇺","🇮🇨","🇮🇩","🇮🇪","🇮🇱","🇮🇲","🇮🇳","🇮🇴","🇮🇶","🇮🇷","🇮🇸","🇮🇹","🇯🇪","🇯🇲","🇯🇴","🇯🇵","🇰🇪","🇰🇬","🇰🇭","🇰🇮","🇰🇲","🇰🇳","🇰🇵","🇰🇷","🇰🇼","🇰🇾","🇱🇦","🇱🇧","🇱🇨","🇱🇮","🇱🇰","🇱🇷","🇱🇸","🇱🇺","🇱🇾","🇲🇦","🇲🇨","🇲🇩","🇲🇪","🇲🇫","🇲🇬","🇲🇭","🇲🇰","🇲🇱","🇲🇲","🇲🇴","🇲🇵","🇲🇶","🇲🇷","🇲🇸","🇲🇹","🇲🇺","🇲🇻","🇲🇼","🇲🇽","🇲🇾","🇲🇿","🇳🇦","🇳🇨","🇳🇪","🇳🇫","🇳🇬","🇳🇮","🇳🇱","🇳🇴","🇳🇵","🇳🇷","🇳🇺","🇳🇿","🇴🇲","🇵🇦","🇵🇪","🇵🇫","🇵🇬","🇵🇭","🇵🇰","🇵🇱","🇵🇲","🇵🇳","🇵🇷","🇵🇸","🇵🇹","🇵🇼","🇵🇾","🇶🇦","🇷🇪","🇷🇴","🇷🇸","🇷🇼","🇸🇦","🇸🇧","🇸🇨","🇸🇩","🇸🇪","🇸🇬","🇸🇭","🇸🇮","🇸🇯","🇸🇰","🇸🇱","🇸🇲","🇸🇳","🇸🇴","🇸🇷","🇸🇸","🇸🇹","🇸🇻","🇸🇽","🇸🇾","🇸🇿","🇹🇦","🇹🇨","🇹🇩","🇹🇫","🇹🇬","🇹🇭","🇹🇰","🇹🇱","🇹🇲","🇹🇳","🇹🇴","🇹🇷","🇹🇹","🇹🇻","🇹🇼","🇹🇿","🇺🇬","🇺🇲","🇺🇳","🇺🇾","🇺🇿","🇻🇦","🇻🇨","🇻🇪","🇻🇬","🇻🇮","🇻🇳","🇻🇺","🇼🇫","🇼🇸","🇽🇰","🇾🇪","🇾🇹","🇿🇦","🇿🇲","🇿🇼"]}},140925:(e,t,r)=>{r.d(t,{EmojiKeyboardRow:()=>h,rowVariantModifier:()=>m});var i=r(474848),o=r(293721),s=r(8520),a=r(296540),n=r(192445),c=r(291915),l=r(294248),d=r(677363),u=r(112935);const m={[l.StickerEmojiKeyboardVariant.WIDE]:u.default.rowWide,[l.StickerEmojiKeyboardVariant.COMPACT]:u.default.rowCompact,[l.StickerEmojiKeyboardVariant.REGULAR]:u.default.rowRegular,[l.StickerEmojiKeyboardVariant.ADAPTIVE]:u.default.rowAdaptive,[l.StickerEmojiKeyboardVariant.SMALL]:u.default.rowSmall};function h({emoji:e,onEmojiClick:t,className:r,...h}){const{emojiSections:p}=(0,d.useEmojiKeyboard)(),f=(0,o.useStore)(l.$variant),v=(0,o.useStore)(c.$selectedEmoji),k=v?.emojiIndex,S=v?.sectionIndex,b=void 0!==k&&void 0!==S?p[S][1][k]:void 0,g=(0,a.useMemo)((()=>e.map((e=>(0,i.jsx)(n.EmojiItem,{className:u.default.emoji,emoji:e,active:e===b,onEmojiClick:t},e)))),[e,b,t]);return(0,i.jsx)("div",{className:(0,s.classNames)(u.default.row,m[f],r),...h,children:g})}},267513:(e,t,r)=>{r.d(t,{EmojiKeyboardRowBanner:()=>l});var i=r(474848),o=r(327626),s=r(8520),a=r(293721),n=r(294248),c=r(140925);const l=({className:e,...t})=>{const r=(0,a.useStore)(n.$variant);return(0,i.jsx)("div",{className:(0,s.classNames)(e,c.rowVariantModifier[r]),children:(0,i.jsx)(o.Banner,{noPadding:!0,...t})})}},499405:(e,t,r)=>{r.d(t,{PeerProvider:()=>d});var i=r(293721),o=r(468073),s=r(296540),a=r(305390),n=r(814950),c=r(559735),l=r(445740);function d({children:e}){const t=(0,l.useAPI)(),r=(0,i.useStore)(a.$peerId);return(0,s.useEffect)((()=>{(0,c.setUserPeer)(null),(0,n.setChatPeer)(null),r&&(o.Ranges.isChatOrChannelPeer(r)?(async()=>{let e;try{e=(await t.messages.getConversationsById({peer_ids:String(r)})).items[0]}catch{}e&&(0,n.setChatPeer)(e)})():o.Ranges.isUserId(r)&&(async()=>{let e;try{e=(await t.users.get({user_ids:String(r),fields:String(["photo_50","first_name_gen"])}))[0]}catch{}e&&(0,c.setUserPeer)(e)})())}),[r]),e}},229653:(e,t,r)=>{r.d(t,{StickersEmojiKeyboard:()=>R});var i=r(474848),o=r(293721),s=r(8520),a=r(296540),n=r(865708),c=r(172850),l=r(419230),d=r(256149),u=r(936207),m=r(847981),h=r(499405),p=r(899461),f=r(264629),v=r(395469),k=r(340159),S=r(541509),b=r(270634),g=r(305390),E=r(138560),y=r(718331),_=r(93272),I=r(539945),j=r(294248),x=r(445740),w=r(973119);const A={[j.StickerEmojiKeyboardVariant.WIDE]:w.default.keyboardWide,[j.StickerEmojiKeyboardVariant.COMPACT]:w.default.keyboardCompact,[j.StickerEmojiKeyboardVariant.REGULAR]:w.default.keyboardRegular,[j.StickerEmojiKeyboardVariant.ADAPTIVE]:w.default.keyboardAdaptive,[j.StickerEmojiKeyboardVariant.SMALL]:w.default.keyboardSmall};function R({lang:e,userId:t,peerId:r,context:o,variant:s,isVisible:a,visibleTab:n,onAPIRequest:c,activePackKey:d,onTabChange:u,onPopUpPlay:p,onShopClick:f,onCatchError:E,onEmojiInsert:x,onStickerSend:w,onUGCEditClick:A,onUGCReportClick:R,onVmojiEditClick:K,onVmojiCreateClick:T,onStockItemGiftClick:P,onStockItemSettingsClick:N,onVmojiSuggestionClick:O,noAnimation:V,renderAsStaticImage:M,...H}){return(0,i.jsxs)(l.LangPackProvider,{name:"stickers_picker",domain:"vk.com",lang:e,suspense:!1,children:[(0,i.jsx)(g.PeerGate,{peerId:r}),(0,i.jsx)(b.ContextGate,{context:o}),(0,i.jsx)(j.VariantGate,{variant:s}),(0,i.jsx)(y.VisibleGate,{isVisible:a}),(0,i.jsx)(_.VisibleTabGate,{visibleTab:n}),(0,i.jsx)(I.ActivePackKeyGate,{activePackKey:d}),(0,i.jsx)(m.APIProvider,{userId:t,peerId:r,language:e,onAPIRequest:c,context:o,logError:E,children:(0,i.jsx)(h.PeerProvider,{children:(0,i.jsx)(S.StickersEmojiKeyboardProvider,{onTabChange:u,onShopClick:f,children:(0,i.jsx)(k.StickersKeyboardProvider,{onPopUpPlay:p,onCatchError:E,onStickerSend:w,onUGCEditClick:A,onVmojiEditClick:K,onUGCReportClick:R,onVmojiCreateClick:T,onStockItemGiftClick:P,onStockItemSettingsClick:N,onVmojiSuggestionClick:O,noAnimation:V,renderAsStaticImage:M,children:(0,i.jsx)(v.EmojiKeyboardProvider,{onEmojiInsert:x,children:(0,i.jsx)(C,{...H})})})})})})]})}function C({className:e,...t}){const r=(0,x.useAPI)(),l=(0,o.useStore)(j.$variant),m=(0,o.useStore)(_.$visibleTab),{isStickersActiveTab:h}=(0,o.useStore)(E.$tabbarActiveTabState),{isEmojiVisibleTab:v,isStickersVisibleTab:k}=(0,o.useStore)(_.$visibleTabState),S=(0,a.useRef)(null);return(0,i.jsx)(c.HelpHintsProvider,{api:r,noToken:!0,children:(0,i.jsx)(n.AppRootProvider,{portalRoot:S,children:(0,i.jsx)("div",{ref:S,className:(0,s.classNames)(e,w.default.keyboard,A[l]),...t,children:(0,i.jsxs)("div",{className:w.default.in,children:[(0,i.jsxs)(d.View,{switched:h&&!m,children:[(0,i.jsx)(p.EmojiKeyboard,{mounted:!m||v}),(0,i.jsx)(f.StickersKeyboard,{mounted:!m||k})]}),(0,i.jsx)(u.Tabbar,{})]})})})})}},541509:(e,t,r)=>{r.d(t,{StickersEmojiKeyboardProvider:()=>l});var i=r(474848),o=r(293721),s=r(296540),a=r(138560),n=r(445740),c=r(229071);function l({onTabChange:e,onShopClick:t,...r}){const l=(0,n.useAPI)(),d=(0,o.useStore)(a.$tabbarActiveTab),u=l.cache.tabbarActiveTab.get();(0,s.useEffect)((()=>{u!==d&&l.cache.tabbarActiveTab.set(d)}),[d,u]);const m=t?e=>{l.store.markAsViewed({type:"stickers",reset:String(["store_new_items","global_promotion"])});t(e,(()=>l.cache.reload()))}:null;return(0,i.jsx)(c.StickersEmojiKeyboardContext.Provider,{value:{onTabChange:e,...m&&{onShopClick:m}},...r})}},264629:(e,t,r)=>{r.d(t,{StickersKeyboard:()=>T});var i=r(474848),o=r(293721),s=r(651220),a=r(256640),n=r(296540),c=r(744440),l=r(8520),d=r(251763),u=r(994669),m=r(695061),h=r(843607),p=r(928349),f=r(89809),v=r(69783),k=r(718331),S=r(539945),b=r(591454),g=r(939659),E=r(547773),y=r(547843),_=r(445740),I=r(895770),j=r(516413),x=r(192641),w=r(503078),A=r(722098),R=r(119801),C=r(853603),K=r(625599);function T({className:e,...t}){const r=(0,_.useAPI)(),{setSelectedPack:T}=(0,C.useStickersKeyboard)(),{getAvatarSuggestionStickerRow:P,bannerPackIndex:N,avatarSuggestion:O}=(0,A.useAvatarSuggestion)(),{packs:V}=(0,o.useStore)(g.$packs),M=(0,o.useStore)(k.$isVisible),H=(0,o.useStore)(E.$avatarSuggestionTab),G=(0,o.useStore)(y.$stickersSize),D=(0,o.useStore)(S.$activePackKey),L=(0,o.useStore)(b.$selectedPackKey),$=(0,o.useStore)(y.$stickersVerticalGap),U=(0,o.useStore)(y.$stickersHorizontalGap),B=(0,o.useStore)(y.$stickersKeyboardVerticalOrder),z=(0,n.useRef)(null),W=(0,n.useRef)([]),F=(0,n.useRef)(!1);(0,w.useScrollView)(z);const{setGridRef:J,columns:q}=(0,I.useGrid)({tab:j.Tab.STICKERS,itemWidth:G+U}),Q=(0,n.useMemo)((()=>{if(!V||!q)return[{type:R.StickersKeyboardElementType.HEADER,element:(0,i.jsx)(h.StickersKeyboardHeader,{},Math.random()),sticky:!0},...(0,l.createArray)(6).map((e=>({type:R.StickersKeyboardElementType.ROW,element:(0,i.jsx)(u.StickersKeyboardRow,{columns:q},e)})))];const e=[];let t=null;const r=V?.get(L);return void 0!==r?.index&&(t=r.index),V.forEach((r=>{const{id:o,index:s}=r,n=r.stickers?.map(a.getStickerContext);e.push({type:R.StickersKeyboardElementType.HEADER,element:(0,i.jsx)(h.StickersKeyboardHeader,{pack:r},o),sticky:!0});const c=o===g.ServicePackKey.VMOJI;c&&e.push({type:R.StickersKeyboardElementType.ROW,element:(0,i.jsx)(f.StickersKeyboardVmojiRow,{},g.ServicePackKey.VMOJI)});const d=o===g.ServicePackKey.UGC&&!n?.length;d&&e.push({type:R.StickersKeyboardElementType.ROW,element:(0,i.jsx)(p.StickersKeyboardUGCRow,{},g.ServicePackKey.UGC)});const m=t||0;if(null===N&&s===m||N===s){const t=P(m,c||d);t&&e.push(t)}n&&(0,l.chunkArray)(n,q).forEach(((t,s)=>{e.push({type:R.StickersKeyboardElementType.ROW,element:(0,i.jsx)(u.StickersKeyboardRow,{stickers:t,columns:q,pack:r},`${o}${s}`)})}))})),e}),[V,q,O]),Y=(0,n.useMemo)((()=>{const e=W.current,t=Q.reduce(((e,{type:t},r)=>(t===R.StickersKeyboardElementType.HEADER&&e.push(r),e)),[]);return(0,l.isEqual)(t,e)||!t.length?e:(W.current=t,t)}),[Q]),Z=e=>Y.includes(e),{rangeExtractor:X,isSticky:ee}=(0,x.useSticky)({rows:Q}),te=(0,s.useVirtualizer)({rangeExtractor:X,count:Q.length,estimateSize:()=>G,getScrollElement:()=>z.current}),{range:re}=te,ie=e=>{const t=V?.get(e);t&&(((e,t,r)=>{const{index:i}=e;if(void 0===i)return;const o=Y[i];(L!==t||r)&&void 0!==o&&te.scrollToIndex(o,{align:"start",behavior:"auto"})})(t,e),T(e))};(0,n.useEffect)((()=>{null!==N&&H===j.Tab.STICKERS&&Y[N]&&te.scrollToIndex(Y[N],{align:"start",behavior:"auto"})}),[N]),(0,n.useEffect)((()=>{const e=z.current;if(e&&!V)return e.style.setProperty("overflow","hidden","important"),()=>{e.style.removeProperty("overflow")}}),[V]),(0,n.useEffect)((()=>{const e=r.cache.stickersActiveTab.get();V&&(F.current=!1,D||e?(ie(D||e),F.current=!0):F.current=!0)}),[Y,V,D,M]),(0,n.useEffect)((()=>{const e=F.current,t=te.calculateRange();if(!t)return;const{startIndex:r,endIndex:i}=t;if(!r&&!i||!Y.length||!V||!e)return;const o=[...V.values()],s=Y.findIndex((e=>e>=r)),a=Y.findIndex((e=>e>=i)),n=o[s-Number(s===a&&r!==i)];if(!n)return;const{id:c}=n;T(c)}),[re,Y]);const oe=te.getVirtualItems().filter(Boolean);return(0,i.jsx)(v.StickersKeyboardSelectProvider,{selectPack:ie,children:(0,i.jsxs)(d.ViewItem,{getRef:J,className:(0,l.classNames)(K.default.keyboard,e),style:{"--stickers-columns":q,"--stickers-size":`${G}px`,"--stickers-vertical-gap":`${$}px`,"--stickers-horizontal-gap":`${U}px`,"--stickers-tab-flex-direction":`${B}`},...t,children:[(0,i.jsx)(c.CustomScrollView,{getRootRef:z,className:(0,l.classNames)(K.default.scroll,{[K.default.scrollDisabled]:!V}),overscrollBehavior:"none",children:(0,i.jsx)("div",{className:K.default.in,style:{height:te.getTotalSize()},children:oe.map((({key:e,index:t,start:r})=>(0,i.jsx)("div",{"data-index":t,ref:te.measureElement,className:(0,l.classNames)(K.default.item,{[K.default.itemHeader]:Z(t)}),"data-testid":"stickers-item",style:ee(t)?{position:"sticky"}:{position:"absolute",transform:`translateY(${r}px)`},children:Q[t].element},e)))})}),V&&(0,i.jsx)(m.StickersKeyboardGroups,{})]})})}},119801:(e,t,r)=>{r.d(t,{StickersKeyboardElementType:()=>i});var i=function(e){return e.ROW="row",e.HEADER="header",e}({})},951533:(e,t,r)=>{r.d(t,{StickersKeyboardGroup:()=>h});var i=r(474848),o=r(293721),s=r(8520),a=r(296540),n=r(23754),c=r(591454),l=r(939659),d=r(853603),u=r(401863);const m=e=>{switch(e){case l.ServicePackKey.FAVORITE:return"stickers-keyboard-group-favorite";case l.ServicePackKey.RECENT:return"stickers-keyboard-group-recent";case l.ServicePackKey.VMOJI:return"stickers-keyboard-group-vmoji";case l.ServicePackKey.UGC:return"stickers-keyboard-group-ugc";default:return""}};function h({group:e,className:t,...r}){const{selectPack:h}=(0,d.useStickersKeyboardSelect)(),p=(0,o.useStore)(c.$selectedPackKey),{packs:f}=(0,o.useStore)(l.$packs),v=(0,a.useRef)(null),[k,S]=(0,a.useState)(),b=e=>()=>{h(e)},g=(0,a.useMemo)((()=>{if(Array.isArray(e)||(e=[e]),f)return e.map((e=>{const t=f.get(e);if(t)return(0,i.jsx)(n.StickersKeyboardGroupItem,{className:u.default.item,pack:t,active:e===p,onClick:b(e)},e)}))}),[e,f,p]);(0,a.useLayoutEffect)((()=>{const e=v.current;if(!e)return;const t=e.children[0]?.clientWidth;t&&S(t)}),[v]);const E=Boolean(Array.isArray(e)&&Number(g?.length)>1&&p&&e.includes(p));return(0,i.jsx)("div",{"data-testid":m(e),ref:v,className:(0,s.classNames)(u.default.group,t,{[u.default.groupActive]:E,[u.default.groupHidden]:!k}),style:{"--group-item-width":`${k}px`},...r,children:g})}},723289:(e,t,r)=>{r.d(t,{StickersKeyboardGroupItemIcon:()=>n});var i=r(474848),o=r(525150),s=r(869343),a=r(548891);const n=({pack:e,...t})=>{const{isPopup:r}=e;let n;return r&&(0,s.isPopUpStickersEnabled)()&&(n=o.Icon12PlayCircle),n?(0,i.jsx)("div",{className:a.default.in,children:(0,i.jsx)(n,{...t})}):null}},23754:(e,t,r)=>{r.d(t,{StickersKeyboardGroupItem:()=>j});var i=r(474848),o=r(293721),s=r(8520),a=r(1578),n=r(578392),c=r(296540),l=r(235717),d=r(799301),u=r(661897),m=r(988456),h=r(729814),p=r(555829),f=r(498916),v=r(216319),k=r(723289),S=r(939659),b=r(138560),g=r(207709),E=r(699212),y=r(980183);const _=new Map([[S.ServicePackKey.UGC,(0,i.jsx)(h.Icon24UgcStickerOutline,{},S.ServicePackKey.UGC)],[S.ServicePackKey.VMOJI,(0,i.jsx)(d.Icon24VmojiOutline,{},S.ServicePackKey.VMOJI)],[S.ServicePackKey.RECENT,(0,i.jsx)(p.Icon24RecentOutline,{},S.ServicePackKey.RECENT)],[S.ServicePackKey.FAVORITE,(0,i.jsx)(f.Icon24FavoriteOutline,{},S.ServicePackKey.FAVORITE)],[S.ServicePackKey.PHOTO_EDITOR,(0,i.jsx)(v.Icon24StickerOutline,{},S.ServicePackKey.PHOTO_EDITOR)]]),I={blue:y.default.inIndicator,red:y.default.inIndicatorRed,gray:y.default.inIndicatorGray,"":""};function j({pack:e,active:t,children:r,indicator:d,...h}){const{translate:p}=(0,a.useLangPack)(),f=(0,o.useStore)(E.$vmojiPromotion),v=(0,o.useStore)(g.$isTransitionActive),{isStickersActiveTab:S}=(0,o.useStore)(b.$tabbarActiveTabState),[j,x]=(0,c.useState)(!0),[w,A]=(0,c.useState)(!1),R=p(e?.title),C=e?.isNew,K=e?.isVmoji,T=e?.hintId,P=e?.hintWidth,N=f?.dot_color||"",O=_.get(e?.id)||r,V=new l.BaseUrlBuilder({size:24,images:e?.previews}).build(),M=(0,u.useHelpHint)(T);(0,c.useEffect)((()=>{O&&x(!1)}),[O]),(0,c.useEffect)((()=>{M&&t&&!w&&(m.HelpHints.hide(M),A(!0))}),[M,t,w]);let H=(0,i.jsx)("div",{...h,children:(0,i.jsx)("div",{className:(0,s.classNames)(y.default.in,{[y.default.inActive]:t,[y.default.inHidden]:j,[y.default.inPlaceholder]:!V&&!O,[y.default.inIndicator]:C||d,[I[N]]:K}),children:O?(0,i.jsx)("div",{"aria-label":R,className:(0,s.classNames)(y.default.icon,y.default.iconService),children:O}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("img",{alt:R,className:y.default.icon,src:V,onLoad:()=>{x(!1)}}),e&&(0,i.jsx)(k.StickersKeyboardGroupItemIcon,{pack:e})]})})});if(M){const{title:e,description:r}=M;H=(0,i.jsx)(n.TextTooltip,{className:y.default.tooltip,maxWidth:P,placement:"top-start",appearance:"accent",header:e,text:r,offsetByMainAxis:-4,shown:!t&&!v&&!w&&S,children:H})}return H}},889227:(e,t,r)=>{r.d(t,{ShopButton:()=>u});var i=r(474848),o=r(293721),s=r(1578),a=r(597239),n=r(23754),c=r(229071),l=r(93272),d=r(560553);function u(){const{translate:e}=(0,s.useLangPack)(),{shopIndicatorMode:t,onShopClick:r}=(0,c.useStickersEmojiKeyboard)(),{isStickersVisibleTab:u}=(0,o.useStore)(l.$visibleTabState);if(!u||!r)return null;const m=Boolean(t);return(0,i.jsx)(n.StickersKeyboardGroupItem,{"aria-label":e("stickers_picker_store"),className:d.default.button,indicator:m,onClick:r,"data-testid":"stickers-shop-button",children:(0,i.jsx)(a.Icon24ShoppingCartOutline,{})})}},695061:(e,t,r)=>{r.d(t,{StickersKeyboardGroups:()=>g});var i=r(474848),o=r(293721),s=r(8520),a=r(220208),n=r(356037),c=r(651220),l=r(296540),d=r(889227),u=r(951533),m=r(939659),h=r(93272),p=r(591454),f=r(395077),v=r(472279),k=r(853603),S=r(695498),b=r(866623);function g({className:e,...t}){const{hasPointer:r}=(0,a.useAdaptivityWithJSMediaQueries)(),{getGroupIndex:g,isGroupedStockItem:E,prevSelectedPackKey:y}=(0,k.useStickersKeyboard)(),{packsGroups:_}=(0,o.useStore)(m.$packs),I=(0,o.useStore)(p.$selectedPackKey),{isStickersVisibleTab:j}=(0,o.useStore)(h.$visibleTabState),x=(0,l.useRef)(null),[w,A]=(0,l.useState)(!1),[R,C]=(0,l.useState)(!0),K=(0,l.useMemo)((()=>_?.map((e=>(0,i.jsx)(u.StickersKeyboardGroup,{className:b.default.groupIn,group:e},String(e))))||[]),[_]),T=K.length,P=(0,c.useVirtualizer)({count:T,overscan:5,horizontal:!0,getScrollElement:()=>x.current,estimateSize:()=>32,onChange:({range:e})=>{if(!e)return;const{startIndex:t,endIndex:r}=e;A(t>0),C(r<K.length-1)}}),{scrollTo:N}=(0,f.useSmoothScroll)(P),O=e=>P.getVirtualItems().find((({index:t})=>t===e)),V=e=>()=>{if(!P.range)return;const{startIndex:t,endIndex:r}=P.range,i=P.scrollElement?.getBoundingClientRect();if(!i)return;const{width:o}=i;switch(e){case"left":{const e=O(t-1);if(!e)return;const{size:r,end:i}=e;N({offset:i+2*r-o});break}case"right":{const e=O(r-1);if(!e)return;const{size:t,start:i}=e;N({offset:i-t});break}}};(0,v.useHorizontalScroll)(x),(0,l.useEffect)((()=>{if(!I||!_)return;const e=g(I),t=g(y),r=E(y);void 0!==e&&(r&&e>Number(t)||P.scrollToIndex(e,{align:"center"}))}),[P,I,_]);const M={"data-popup-sticker-deductible":S.POPUP_STICKER_CONTAINER_ID,"data-popup-sticker-deductible-full-screen":S.POPUP_STICKER_CONTAINER_ID};return(0,i.jsxs)("div",{...M,className:(0,s.classNames)(b.default.groups,{[b.default.groupsForced]:j},e),...t,children:[(0,i.jsx)(d.ShopButton,{}),(0,i.jsxs)("div",{className:b.default.container,children:[r&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:(0,s.classNames)(b.default.shadow,b.default.shadowLeft,{[b.default.shadowVisible]:w})}),(0,i.jsx)("div",{className:(0,s.classNames)(b.default.shadow,b.default.shadowRight,{[b.default.shadowVisible]:R})}),(0,i.jsx)("div",{"aria-hidden":!0,className:(0,s.classNames)(b.default.chevron,b.default.chevronLeft,{[b.default.chevronActive]:w}),onClick:V("left"),children:(0,i.jsx)(n.Icon16ChevronOutline,{})}),(0,i.jsx)("div",{"aria-hidden":!0,className:(0,s.classNames)(b.default.chevron,b.default.chevronRight,{[b.default.chevronActive]:R}),onClick:V("right"),children:(0,i.jsx)(n.Icon16ChevronOutline,{})})]}),(0,i.jsx)("div",{ref:x,className:b.default.in,children:(0,i.jsx)("div",{className:b.default.items,style:{width:P.getTotalSize()},children:Boolean(K.length)&&P.getVirtualItems().map((({key:e,index:t,start:r})=>(0,i.jsx)("div",{"data-index":t,ref:P.measureElement,className:b.default.group,style:{transform:`translateX(${r}px)`},"data-testid":"stickers-groups-item",children:K[t]},e)))})})]})]})}},456032:(e,t,r)=>{r.d(t,{GiftButton:()=>h});var i=r(474848),o=r(293721),s=r(8520),a=r(301354),n=r(238995),c=r(559735),l=r(948926),d=r(853603),u=r(733496),m=r(818893);function h({pack:e}){const{onStockItemGiftClick:t}=(0,d.useStickersKeyboard)(),r=(0,o.useStore)(c.$userPeer),h=(0,o.useStore)(l.$stockItemsAvailableToGift);if(!e?.canGift)return null;const{id:p,canGift:f,stockItem:v}=e,k=Boolean(p&&f&&r&&!h?.includes(p));return(0,i.jsxs)(i.Fragment,{children:[k&&(0,i.jsx)(n.PeerInfo,{className:(0,s.classNames)(u.default.peer,m.default.headerAside),pack:e}),t&&(0,i.jsx)(a.Icon20GiftOutline,{"data-testid":"stickers-keyboard-header-gift-button",className:(0,s.classNames)(m.default.icon,m.default.headerAside),onClick:()=>{v&&t?.(v,r)}})]})}},238995:(e,t,r)=>{r.d(t,{PeerInfo:()=>m});var i=r(474848),o=r(293721),s=r(1578),a=r(376762),n=r(578392),c=r(285056),l=r(612196),d=r(559735),u=r(817169);function m({pack:e,...t}){const{translate:r}=(0,s.useLangPack)(),m=(0,o.useStore)(d.$userPeer);if(!e||!m)return null;const{isStyle:h}=e,{first_name_gen:p,photo_50:f}=m;return(0,i.jsx)(n.TextTooltip,{className:u.default.tooltip,text:(0,i.jsx)(c.Caption,{className:u.default.text,level:"1",children:r(h?"stickers_picker_peer_has_style":"stickers_picker_peer_has_pack",{name:p})}),offsetByMainAxis:8,offsetByCrossAxis:30,placement:"bottom-end",usePortal:!0,children:(0,i.jsx)(l.Avatar,{src:f,size:20,...t,children:(0,i.jsx)(l.Avatar.Badge,{children:(0,i.jsx)(a.Icon12CheckCircleFill,{className:u.default.icon})})})})}},843607:(e,t,r)=>{r.d(t,{StickersKeyboardHeader:()=>b});var i=r(474848),o=r(293721),s=r(8520),a=r(1578),n=r(285056),c=r(157643),l=r(377803),d=r(508898),u=r(456032),m=r(395622),h=r(941518),p=r(77026),f=r(622090),v=r(294248),k=r(818893);const S={[v.StickerEmojiKeyboardVariant.WIDE]:k.default.headerWide,[v.StickerEmojiKeyboardVariant.COMPACT]:k.default.headerCompact,[v.StickerEmojiKeyboardVariant.REGULAR]:k.default.headerRegular,[v.StickerEmojiKeyboardVariant.ADAPTIVE]:k.default.headerAdaptive,[v.StickerEmojiKeyboardVariant.SMALL]:k.default.headerSmall};function b({pack:e,className:t,...r}){const{translate:b}=(0,a.useLangPack)(),g=(0,o.useStore)(v.$variant);if(t=(0,s.classNames)(k.default.header,S[g],t),!e)return(0,i.jsx)("div",{"data-testid":"stickers-keyboard-header-skeleton",className:t,...r,children:(0,i.jsx)(n.Subhead,{children:(0,i.jsx)(c.Skeleton,{width:128,colorFrom:l.default.colorTransparent.active.value,noAnimation:!0})})});const{title:E}=e;return E?(0,i.jsxs)("div",{"data-testid":"stickers-keyboard-header","data-header":!0,className:(0,s.classNames)(k.default.header,t),...r,children:[(0,i.jsx)(n.Subhead,{"data-testid":"stickers-keyboard-header-title",className:k.default.title,weight:"3",children:b(E)}),(0,i.jsx)(d.Tooltip,{pack:e}),(0,i.jsx)(f.StyleSettingsButton,{pack:e}),(0,i.jsx)(p.VmojiEditButton,{pack:e}),(0,i.jsx)(u.GiftButton,{pack:e}),(0,i.jsx)(m.UGCEditButton,{pack:e}),(0,i.jsx)(h.UGCMoreButton,{pack:e})]}):null}},622090:(e,t,r)=>{r.d(t,{StyleSettingsButton:()=>l});var i=r(474848),o=r(8520),s=r(152517),a=r(853603),n=r(746902),c=r(818893);function l({pack:e}){const{onStockItemSettingsClick:t}=(0,a.useStickersKeyboard)();if(!t)return null;if(!e||!(e?.hasStyles||e?.isStyle||e?.isVmoji))return null;const{stockItem:r}=e;return(0,i.jsx)(s.Icon20GearOutline,{className:(0,o.classNames)(n.default.icon,c.default.icon),onClick:()=>{r&&t?.(r)}})}},508898:(e,t,r)=>{r.d(t,{Tooltip:()=>d});var i=r(474848),o=r(8520),s=r(382996),a=r(1578),n=r(578392),c=r(612126),l=r(818893);function d({pack:{tooltip:e}}){const{translate:t}=(0,a.useLangPack)();if(!e)return null;const{text:r,header:d}=e;return(0,i.jsx)(n.TextTooltip,{className:c.default.tooltip,appearance:"black",offsetByMainAxis:8,usePortal:!0,...e,header:d&&t(String(d)),text:r&&t(String(r)),children:(0,i.jsx)(s.Icon16InfoOutline,{className:(0,o.classNames)(c.default.icon,l.default.icon)})})}},395622:(e,t,r)=>{r.d(t,{UGCEditButton:()=>d});var i=r(474848),o=r(293721),s=r(8520),a=r(152517),n=r(969102),c=r(853603),l=r(818893);function d({pack:e}){const{onUGCEditClick:t}=(0,c.useStickersKeyboard)(),r=(0,o.useStore)(n.$ugcInfo);return e?.isPack&&r?.can_edit&&r?.items?.length&&t?(0,i.jsx)(a.Icon20GearOutline,{className:(0,s.classNames)(l.default.icon,l.default.headerAside),onClick:t}):null}},941518:(e,t,r)=>{r.d(t,{UGCMoreButton:()=>h});var i=r(474848),o=r(293721),s=r(8520),a=r(1578),n=r(518710),c=r(56188),l=r(507852),d=r(969102),u=r(853603),m=r(818893);function h({pack:e}){const{translate:t}=(0,a.useLangPack)(),{onUGCReportClick:r}=(0,u.useStickersKeyboard)(),h=(0,o.useStore)(d.$ugcInfo);if(!e?.isPack||h?.can_edit||!h?.items?.length||!r)return null;return(0,i.jsx)(l.DropdownActionSheet,{content:(0,i.jsx)(l.DropdownActionSheet.Item,{type:"destructive",before:(0,i.jsx)(n.Icon20ReportOutline,{}),onClick:()=>{r(e.rawData)},children:t("stickers_picker_report")}),placement:"bottom-end",usePortal:!1,children:(0,i.jsx)(c.Icon20More,{className:(0,s.classNames)(m.default.icon,m.default.headerAside)})})}},77026:(e,t,r)=>{r.d(t,{VmojiEditButton:()=>p});var i=r(474848),o=r(285056),s=r(293721),a=r(8520),n=r(291494),c=r(1578),l=r(699212),d=r(853603),u=r(281537),m=r(818893);const h=99;function p({pack:e}){const{translate:t}=(0,c.useLangPack)(),{onVmojiEditClick:r}=(0,d.useStickersKeyboard)(),p=(0,s.useStore)(l.$vmojiPromotion);if(!e?.isVmoji||!r)return null;const{vmojiAvatar:f}=e,v=p?.constructor_new_items?.counter_value,k=p?.constructor_new_items?.open_params,S=Number(v)>0;let b=t("stickers_picker_vmoji_items_counter",{count:v});return Number(v)>=h&&(b=t("stickers_picker_vmoji_items_counter_max",{count:h})),(0,i.jsxs)("div",{className:(0,a.classNames)(u.default.brush,m.default.headerAside),onClick:()=>{f&&r?.(f,k)},children:[S&&(0,i.jsx)(o.Subhead,{className:(0,a.classNames)(u.default.counter,m.default.icon),weight:"3",children:b}),(0,i.jsx)(n.Icon20BrushOutline,{className:m.default.icon})]})}},340159:(e,t,r)=>{r.d(t,{StickersKeyboardProvider:()=>C});var i=r(474848),o=r(293721),s=r(296540),a=r(718331),n=r(969102),c=r(559735),l=r(853262),d=r(460543),u=r(649179),m=r(409875),h=r(138560),p=r(539945),f=r(508952),v=r(720112),k=r(993190),S=r(432726),b=r(939659),g=r(591454),E=r(948926),y=r(185564),_=r(699212),I=r(270634),j=r(445740),x=r(895380),w=r(516413),A=r(853603),R=r(869343);function C({onPopUpPlay:e,onCatchError:t,onStickerSend:r,onUGCEditClick:C,onVmojiEditClick:K,onUGCReportClick:T,onVmojiCreateClick:P,onStockItemGiftClick:N,onStockItemSettingsClick:O,onVmojiSuggestionClick:V,noAnimation:M,renderAsStaticImage:H,...G}){const D=(0,j.useAPI)(),{isServiceStockItem:L}=(0,A.useStickersKeyboard)(),{packs:$}=(0,o.useStore)(b.$packs),U=(0,o.useStore)(c.$userPeer),B=(0,o.useStore)(a.$isVisible),z=(0,o.useStore)(S.$stockItems),W=(0,o.useStore)(p.$activePackKey),F=(0,o.useStore)(_.$vmojiPromotion),J=(0,o.useStore)(g.$selectedPackKey),q=(0,o.useStore)(I.$context),Q=(0,s.useRef)(),Y=Q.current,Z=async()=>{try{const[e,t]=await Promise.all([D.cache.ugcInfo.get(),D.cache.ugcPacks.get()]);(0,n.setUGCInfo)(e),(0,l.setUGCPacks)(t)}catch(e){t?.(e)}},X=async()=>{try{const[e,t,r,i,o,s,a]=await Promise.all([D.cache.global.get(),D.cache.getStockItems({active:!0}),D.cache.imageConfigs.get(),D.cache.recentStickers.get(),q===I.CONTEXT.PHOTO_EDITOR?D.cache.photoEditorStickers.get():null,D.cache.favoriteStickers.get(),D.cache.avatarSuggestion.get(),Z()]);(0,u.setRecentStickers)(i),(0,m.setPhotoEditorStickers)(o),(0,v.setFavoriteStickers)(s),(0,f.setImageConfigs)(r),(0,y.setAvatarSuggestion)(a),(0,d.setHasAvatar)(D.cache.hasAvatar.get()),(0,_.setVmojiPromotion)(e?.vmoji_promotion||null),(0,k.setStoreNewItemsCount)(e?.store_new_items||0),(0,S.setStockItems)(t)}catch(e){t?.(e)}};return(0,s.useEffect)((()=>{z&&B&&D.cache.reload(),X();const e=D.cache.stickersSync.subscribe(X,!0),t=D.cache.stickersAsync.subscribe(X,!0),r=D.cache.stickersAsync.subscribe((async e=>{if(e===x.AvatarSuggestionAtomName)(0,y.getAvatarSuggestionFromCache)()}),!1),i=(0,R.isStaticUpdatesManagerEnabled)()?D.cache.ugcAsync.subscribe(Z):void 0;return()=>{e(),t(),r(),i?.()}}),[D,B,t]),(0,s.useEffect)((()=>{if((0,E.setStockItemsAvailableToGift)(null),!U)return;const{id:e}=U;var t;t=e,D.store.getStickerPacksAvailableForGift({user_id:t}).then(E.setStockItemsAvailableToGift)}),[U]),(0,s.useEffect)((()=>{null!=W&&(0,h.setTabbarActiveTab)(w.Tab.STICKERS)}),[W]),(0,i.jsx)(A.StickersKeyboardContext.Provider,{value:{setSelectedPack:e=>{if(J&&(Q.current=J),e){const t=$?.get(e);t&&(D.cache.stickersActiveTab.set(e),(e=>{if(L(e))return;const t=z?.find((({product:{id:t}})=>t===e));t&&z&&(t.product.is_vmoji&&F?.dot_color&&(0,_.clearVmojiPromotionDot)(),t.product.is_new&&(t.product.is_new=!1,D.cache.stockItems.set(z,{notify:!1}),D.store.updateStickerProductsState({product_ids:String(e),key:"is_new",value:"0"})))})(e))}(0,g.setSelectedPackKey)(e)},prevSelectedPackKey:Y,onStickerSend:r,onUGCEditClick:C,onUGCReportClick:T,onVmojiEditClick:K,onVmojiCreateClick:P,onStockItemGiftClick:N,onStockItemSettingsClick:O,onVmojiSuggestionClick:V,onPopUpPlay:e,noAnimation:M,renderAsStaticImage:H},...G})}},69783:(e,t,r)=>{r.d(t,{StickersKeyboardSelectProvider:()=>s});var i=r(474848),o=r(853603);function s({selectPack:e,...t}){return(0,i.jsx)(o.StickersKeyboardSelectContext.Provider,{value:{selectPack:e},...t})}},412275:(e,t,r)=>{r.d(t,{StickerKeyboardRowBanner:()=>l});var i=r(474848),o=r(327626),s=r(8520),a=r(293721),n=r(294248),c=r(994669);const l=({className:e,...t})=>{const r=(0,a.useStore)(n.$variant);return(0,i.jsx)("div",{className:(0,s.classNames)(e,c.rowVariantModifier[r]),children:(0,i.jsx)(o.Banner,{noPadding:!0,...t})})}},994669:(e,t,r)=>{r.d(t,{StickersKeyboardRow:()=>A,rowVariantModifier:()=>I});var i=r(474848),o=r(293721),s=r(525150),a=r(8520),n=r(296540),c=r(15978),l=r(715288),d=r(235717),u=r(838670),m=r(794310),h=r(718331),p=r(547843),f=r(508952),v=r(720112),k=r(294248),S=r(409875),b=r(445740),g=r(853603),E=r(869343),y=r(893127);const _=new Map([[c.Appearance.LIGHT,d.Theme.LIGHT],[c.Appearance.DARK,d.Theme.DARK]]),I={[k.StickerEmojiKeyboardVariant.WIDE]:y.default.rowWide,[k.StickerEmojiKeyboardVariant.COMPACT]:y.default.rowCompact,[k.StickerEmojiKeyboardVariant.REGULAR]:y.default.rowRegular,[k.StickerEmojiKeyboardVariant.ADAPTIVE]:y.default.rowAdaptive,[k.StickerEmojiKeyboardVariant.SMALL]:y.default.rowSmall},j=32,x=900,w=1500;function A({pack:e,stickers:t,columns:r,className:c,...d}){const A=(0,n.useRef)(),R=(0,n.useCallback)((()=>{clearTimeout(A.current)}),[]),C=(0,b.useAPI)(),K=(0,l.useAppearance)(),{onPopUpPlay:T,noAnimation:P,renderAsStaticImage:N}=(0,g.useStickersKeyboard)(),{addToFavorite:O,removeFromFavorite:V,onStickerSend:M}=(0,g.useStickersKeyboard)(),H=(0,o.useStore)(k.$variant),G=(0,o.useStore)(h.$isVisible),D=(0,o.useStore)(p.$stickersSize),L=(0,o.useStore)(f.$imageConfigs),$=(0,o.useStore)(v.$favoriteStickers),U=(0,o.useStore)(S.$photoEditorStickers),B=(0,n.useMemo)((()=>new Set((U||[]).filter((({vmoji:e})=>!e)).map((({sticker_id:e})=>e)))),[U]);(0,n.useEffect)((()=>(G||R(),()=>{R()})),[G,R]);const z=(t,r=e?.referrer)=>async(e,i)=>{const{isBase:o,rawData:s,isPopup:a}=t;if(a&&R(),M(t,r,i),!o||!s)return;const n=await C.cache.recentStickers.get();if(!n)return;if(-1!==n.findIndex((({sticker_id:e})=>e===t.id)))return;const c=n.length>=j?n.length-j+1:0;n.splice(0,c,{...s,inner_type:"base_sticker_new"}),C.cache.recentStickers.set(n,{notify:!1})},W=(e,t)=>r=>{const{isPopup:i,popupLayers:o}=e;R();const{relatedTarget:s}=r;(!s||s instanceof HTMLElement)&&i&&o&&(0,E.isPopUpStickersEnabled)()&&(A.current=window.setTimeout((()=>{T?.(r,o)}),t))},F=()=>{R()},J=(0,n.useMemo)((()=>t?.map((r=>{if(!t||!L)return;const{id:o,isAllowed:a,isPopup:n}=r,{items:c,default_id:l}=L,d=Boolean($?.find((({sticker_id:e})=>e===o))),h=B.has(o),p={className:y.default.sticker,name:String(o),size:D,sticker:r,onMouseEnter:W(r,x),onMouseLeave:F,onTouchStart:W(r,w),onTouchEnd:F,theme:_.get(K),configs:c,favorite:d,disabled:!a,defaultConfigId:l,onClick:z(r),noAnimation:P,renderAsStaticImage:N};return h||(p.onFavoriteClick=((t,r)=>{if(!e?.isPack)return()=>{r?V(t):O(t)}})(r,d)),n&&(0,E.isPopUpStickersEnabled)()?(0,i.jsx)(u.StickerRich,{baseStickerProps:p,wrapperProps:{contentClassName:y.default.stickerRichIcon,icon:(0,i.jsx)(s.Icon12PlayCircle,{}),iconPosition:"rightInset"}},o):(0,i.jsx)(m.Sticker,{...p},o)}))||(0,a.createArray)(r).map((e=>(0,i.jsx)(m.Sticker,{className:y.default.sticker,size:D},e)))),[r,t,K,D,$,L]);return(0,i.jsx)("div",{className:(0,a.classNames)(y.default.row,y.default.rowStickers,I[H],c),...d,children:J})}},810822:(e,t,r)=>{r.d(t,{StickersKeyboardRowCard:()=>m});var i=r(474848),o=r(293721),s=r(101214),a=r(220208),n=r(285056),c=r(373080),l=r(994669),d=r(294248),u=r(534667);function m({title:e,image:t,action:r,onHide:m,className:h,...p}){const f=(0,o.useStore)(d.$variant);return(0,i.jsx)("div",{className:l.rowVariantModifier[f],...p,children:(0,i.jsxs)("div",{className:u.default.card,children:[m&&(0,i.jsx)(a.Tappable,{className:u.default.hide,hoverMode:"opacity",activeMode:"opacity",onClick:m,children:(0,i.jsx)(s.Icon24CancelOutline,{})}),t&&(0,i.jsx)("figure",{className:u.default.image,style:{...t,backgroundImage:`url(${t.src})`}}),e&&(0,i.jsx)(n.Title,{className:u.default.title,level:"3",weight:"2",children:(0,i.jsx)(c.InnerHTML,{children:e})}),r&&(0,i.jsx)("div",{className:u.default.action,children:r})]})})}},928349:(e,t,r)=>{r.d(t,{StickersKeyboardUGCRow:()=>m});var i=r(474848),o=r(454154),s=r(1578),a=r(42913),n=r(201846),c=r(129176),l=r(810822),d=r(820643),u=r(853603);function m(){const{translate:e}=(0,s.useLangPack)(),{onUGCEditClick:t}=(0,u.useStickersKeyboard)(),r=(0,a.useHelpHintResource)(n.HelpHintId.STICKERS_UGC_KEYBOARD_ONBOARDING,c.StickersUGCKeyboardOnboardingResourceKey.IMAGE);return(0,i.jsx)(l.StickersKeyboardRowCard,{title:e("stickers_picker_ugc_create_title"),image:{src:r,width:240,height:64},action:t&&(0,i.jsx)(o.Button,{size:"s",mode:"outline",appearance:"accent",onClick:t,children:e("stickers_picker_ugc_create_action")}),onHide:d.hideUGCOnboarding})}},89809:(e,t,r)=>{r.d(t,{StickersKeyboardVmojiRow:()=>p});var i=r(474848),o=r(1578),s=r(715288),a=r(15978),n=r(454154),c=r(42913),l=r(201846),d=r(971377),u=r(810822),m=r(853603),h=r(445740);function p(e){const t=(0,s.useAppearance)(),{translate:r}=(0,o.useLangPack)(),{onVmojiCreateClick:p}=(0,m.useStickersKeyboard)(),f=(0,h.useAPI)(),v=()=>f.cache.reload(),k=(0,c.useHelpHintResource)(l.HelpHintId.KEYBOARD_STICKERS_VMOJI,t===a.Appearance.LIGHT?d.KeyboardStickersVmojiResourceKey.VMOJI_ON_BOARDING_LIGHT:d.KeyboardStickersVmojiResourceKey.VMOJI_ON_BOARDING_DARK);return(0,i.jsx)(u.StickersKeyboardRowCard,{image:{src:k,width:221,height:130},action:p&&(0,i.jsx)(n.Button,{size:"s",mode:"outline",appearance:"accent",onClick:e=>p?.(e,v),children:r("stickers_picker_vmoji_create_character")}),...e})}},936207:(e,t,r)=>{r.d(t,{Tabbar:()=>k});var i=r(474848),o=r(293721),s=r(8520),a=r(296540),n=r(1578),c=r(215402),l=r(646214),d=r(34856),u=r(242189),m=r(93272),h=r(138560),p=r(516413),f=r(229071),v=r(311893);function k({className:e,...t}){const{translate:r}=(0,n.useLangPack)(),{shopIndicatorMode:k,onTabChange:S,onShopClick:b}=(0,f.useStickersEmojiKeyboard)(),g=(0,o.useStore)(m.$visibleTab),{isEmojiActiveTab:E,isStickersActiveTab:y}=(0,o.useStore)(h.$tabbarActiveTabState),_=e=>()=>{(0,h.setTabbarActiveTab)(e),S?.({tab:e})};return(0,a.useEffect)((()=>{g&&(0,h.setTabbarActiveTab)(g)}),[g]),g?null:(0,i.jsxs)("div",{className:(0,s.classNames)(v.default.tabbar,e),...t,children:[(0,i.jsx)(u.TabbarItem,{"data-testid":"sticker-picker-tabbar-item-emoji","aria-label":r("stickers_picker_emoji"),className:v.default.item,active:E,onClick:_(p.Tab.EMOJI),children:(0,i.jsx)(c.Icon24SmileOutline,{})}),(0,i.jsx)(u.TabbarItem,{"data-testid":"sticker-picker-tabbar-item-stickers","aria-label":r("stickers_picker_stickers"),className:v.default.item,active:y,onClick:_(p.Tab.STICKERS),children:(0,i.jsx)(l.Icon24StickerSmileOutline,{})}),b&&(0,i.jsx)(u.TabbarItem,{"data-testid":"sticker-picker-tabbar-item-shop","aria-label":r("stickers_picker_store"),className:v.default.item,indicator:k,onClick:b,children:(0,i.jsx)(d.Icon24StorefrontOutline,{})})]})}},242189:(e,t,r)=>{r.d(t,{TabbarItem:()=>c,TabbarItemIndicator:()=>a});var i=r(474848),o=r(8520),s=r(683255),a=function(e){return e.NONE="none",e.PRIMARY="primary",e.SECONDARY="secondary",e.DESTRUCTIVE="destructive",e}({});const n={none:s.default.indicatorNone,primary:s.default.indicatorPrimary,secondary:s.default.indicatorSecondary,destructive:s.default.indicatorDestructive};function c({active:e,indicator:t="none",className:r,children:a,...c}){return(0,i.jsx)("div",{className:(0,o.classNames)(r,s.default.item,s.default.indicator,n[t],{[s.default.itemActive]:e}),...c,children:a})}},256149:(e,t,r)=>{r.d(t,{View:()=>c});var i=r(474848),o=r(8520),s=r(296540),a=r(207709),n=r(59647);function c({switched:e,children:t,...r}){const c=({target:e})=>{e instanceof HTMLDivElement&&e.dataset.viewPanel&&(0,a.setIsTransitionActive)(!1)};return(0,s.useEffect)((()=>{(0,a.setIsTransitionActive)(!0)}),[e]),(0,i.jsx)("div",{className:n.default.view,...r,children:s.Children.map(t,(t=>(0,s.cloneElement)(t,{"data-view-panel":!0,className:(0,o.classNames)(n.default.panel,{[n.default.panelSwitched]:e}),onTransitionEnd:c})))})}},251763:(e,t,r)=>{r.d(t,{ViewItem:()=>o});var i=r(474848);function o({getRef:e,mounted:t,...r}){return!1===t?null:(0,i.jsx)("div",{ref:e,...r})}},207709:(e,t,r)=>{r.d(t,{$isTransitionActive:()=>s,setIsTransitionActive:()=>o});var i=r(175325);const o=i.stickersEmojiKeyboard.createEvent(),s=i.stickersEmojiKeyboard.createStore(!1).on(o,((e,t)=>t))},695498:(e,t,r)=>{r.d(t,{POPUP_STICKER_CONTAINER_ID:()=>i});const i="popup-sticker-emoji-keyboard-container"},445740:(e,t,r)=>{r.d(t,{useAPI:()=>s});var i=r(293721),o=r(348385);function s(){return(0,i.useStore)(o.$api)}},852305:(e,t,r)=>{r.d(t,{useElementSize:()=>s});var i=r(8520),o=r(296540);function s(){const[e,t]=(0,o.useState)(null),[r,s]=(0,o.useState)({width:0,height:0});return(0,o.useLayoutEffect)((()=>{const t=()=>{s({width:e?.offsetWidth||0,height:e?.offsetHeight||0})};t();const r=(0,i.debounce)(t,150);return window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}}),[e]),{setRef:t,...r}}},677363:(e,t,r)=>{r.d(t,{EmojiKeyboardContext:()=>a,useEmojiKeyboard:()=>c});var i=r(296540),o=r(745457),s=r(445740);const a=(0,i.createContext)({}),n=50;function c(){const e=(0,s.useAPI)(),t=(0,i.useContext)(a),{onEmojiInsert:r}=t;return{...t,insertEmoji:t=>{r?.(t),(t=>{const r=new Map(e.cache.recentEmoji.get()),i=r.get(t)||0;r.set(t,i+1);const s=[...r].reverse().slice(0,n);(0,o.setRecentEmoji)(s),e.cache.recentEmoji.set(s)})(t)}}}},895770:(e,t,r)=>{r.d(t,{useGrid:()=>c});var i=r(296540),o=r(293721),s=r(294248),a=r(852305);const n=new Map;function c({tab:e,itemWidth:t,itemsCount:r=0}){const{setRef:c,width:l}=(0,a.useElementSize)(),d=(0,o.useStore)(s.$variant),u=String([e,d]),m=(0,i.useRef)(n.get(u)||{rows:0,columns:0});return{setGridRef:c,...(0,i.useMemo)((()=>{const e=m.current;if(!l)return e;const i=Math.floor(l/t);if(!i||i===e.columns)return e;const o={rows:Math.ceil(r/i),columns:i};return m.current=o,n.set(u,o),o}),[l,u,t,r])}}},472279:(e,t,r)=>{r.d(t,{useHorizontalScroll:()=>s});var i=r(296540),o=r(503078);function s(e){(0,o.useScrollView)(e),(0,i.useEffect)((()=>{const t=e.current;if(!t)return;const r=e=>{t.scrollLeft+=e.deltaY+e.deltaX};return t.addEventListener("wheel",r,{passive:!0}),()=>{t.removeEventListener("wheel",r)}}),[e])}},503078:(e,t,r)=>{r.d(t,{useScrollView:()=>o});var i=r(296540);function o(e){(0,i.useEffect)((()=>{const t=e.current;t&&t.setAttribute("data-scroll-view","")}),[])}},395077:(e,t,r)=>{r.d(t,{useSmoothScroll:()=>a});var i=r(8520),o=r(296540),s=r(524788);function a(e){const t=(0,o.useRef)(0);return{scrollTo:(0,o.useCallback)((0,i.debounce)((({offset:r=0,duration:i=300}={})=>{t.current=Date.now();let o=e.scrollOffset;const a=t.current,n=()=>{if(t.current!==a)return;const c=Date.now()-a,l=(0,s.easeOutQuart)(Math.min(c/i,1)),d=o+(r-o)*l;c<i&&requestAnimationFrame(n),e.scrollToOffset(d)};requestAnimationFrame(n)}),150),[e])}}},229071:(e,t,r)=>{r.d(t,{StickersEmojiKeyboardContext:()=>n,useStickersEmojiKeyboard:()=>c});var i=r(293721),o=r(296540),s=r(242189),a=r(993190);const n=(0,o.createContext)({});function c(){return{...(0,o.useContext)(n),shopIndicatorMode:(0,i.useStore)(a.$storeNewItemsCount)?s.TabbarItemIndicator.DESTRUCTIVE:void 0}}},853603:(e,t,r)=>{r.d(t,{StickersKeyboardContext:()=>c,StickersKeyboardSelectContext:()=>d,useStickersKeyboard:()=>l,useStickersKeyboardSelect:()=>u});var i=r(293721),o=r(296540),s=r(939659),a=r(720112),n=r(445740);const c=(0,o.createContext)({});function l(){const e=(0,n.useAPI)(),t=(0,i.useStore)(a.$favoriteStickers),{packsGroups:r}=(0,i.useStore)(s.$packs);return{...(0,o.useContext)(c),addToFavorite:async({id:r,isBase:i,rawData:o})=>{if(!i)return;const s=await e.cache.global.get();if(!s)return;const{favorite_stickers_limit:n}=s;if(e.store.addStickersToFavorite({sticker_ids:String(r)}),!t)return;const c=[o,...t].slice(0,n);(0,a.setFavoriteStickers)(c),e.cache.favoriteStickers.set(c)},getGroupIndex:e=>e?r?.findIndex((t=>(Array.isArray(t)||(t=[t]),t.includes(e)))):void 0,removeFromFavorite:async({id:r,isBase:i})=>{if(!i)return;if(e.store.removeStickersFromFavorite({sticker_ids:String(r)}),!t)return;const o=t.findIndex((e=>e.sticker_id===r));if(!(-1!==o))return;const s=[...t];s.splice(o,1),(0,a.setFavoriteStickers)(s),e.cache.favoriteStickers.set(s)},isServiceStockItem:e=>null!=e&&e<0,isGroupedStockItem:e=>r&&void 0!==e&&!r.includes(e)}}const d=(0,o.createContext)({});function u(){return(0,o.useContext)(d)}},192641:(e,t,r)=>{r.d(t,{useSticky:()=>s});var i=r(296540),o=r(842468);function s({rows:e}){const t=(0,i.useRef)(0),r=(0,i.useMemo)((()=>e.reduce(((e,{sticky:t},r)=>(t&&e.push(r),e)),[])),[e]);return{isSticky:e=>t.current===e,rangeExtractor:(0,i.useCallback)((e=>{t.current=[...r].reverse().find((t=>e.startIndex>=t))||0;return[...new Set([t.current,...(0,o.defaultRangeExtractor)(e)])].sort(((e,t)=>e-t))}),[r])}}},722098:(e,t,r)=>{r.d(t,{useAvatarSuggestion:()=>y});var i=r(474848),o=r(293721),s=r(8520),a=r(296540),n=r(348385),c=r(718331),l=r(185564),d=r(138560),u=r(547773),m=r(123789),h=r(49344),p=r(714573),f=r(267513),v=r(412275),k=r(516413),S=r(43561),b=r(119801),g=r(853603),E=r(976412);const y=()=>{const{onVmojiSuggestionClick:e}=(0,g.useStickersKeyboard)(),t=(0,o.useStore)(n.$api),r=(0,o.useStore)(c.$isVisible),y=(0,o.useStore)(d.$tabbarActiveTab),_=(0,o.useStore)(l.$avatarSuggestion),I=(0,o.useStore)(u.$avatarSuggestionTab),j=(0,o.useStore)(d.$tabbarActiveTabState),x=(0,o.useStore)(m.$avatarSuggestionBannerPackIndex),w=(0,o.useStore)(h.$avatarSuggestionIsViewed),A=(0,o.useStore)(E.$avatarSuggestionDisabled);(0,a.useEffect)((()=>{r||((0,m.setAvatarSuggestionPackIndex)(null),(0,u.setAvatarSuggestionTab)(null),(0,h.setAvatarSuggestionIsViewed)(!1),(0,E.setAvatarSuggestionDisabled)(!1))}),[r]);const R=(0,a.useCallback)((0,s.debounce)((e=>{(0,m.setAvatarSuggestionPackIndex)(e)}),100),[]),C=(0,a.useCallback)((0,s.debounce)((e=>(0,u.setAvatarSuggestionTab)(e)),100),[]),K=(0,a.useCallback)((0,s.debounce)((e=>(0,E.setAvatarSuggestionDisabled)(e)),100),[]),T=o=>{if(!e||A)return null;if(!r||w||!Boolean(_)&&t.cache.reloading||(0,h.setAvatarSuggestionIsViewed)(!0),!_||null===o)return null;null===I&&C(y),null===x&&R(o);const s=j.isStickersActiveTab?v.StickerKeyboardRowBanner:f.EmojiKeyboardRowBanner;return(0,i.jsx)(p.AvatarSuggestionRow,{Component:s},_.id)};return{getAvatarSuggestionStickerRow:(e,t=!1)=>{if(I&&I!==k.Tab.STICKERS||y!==k.Tab.STICKERS)return null;if(A||K(t),t)return null;const r=T(e);return r?{type:b.StickersKeyboardElementType.ROW,element:r}:null},getAvatarSuggestionEmojiRow:e=>{if(I&&I!==k.Tab.EMOJI||y!==k.Tab.EMOJI)return null;const t=T(e);return t?{type:S.EmojiKeyboardElementType.ROW,element:t}:null},bannerPackIndex:x,avatarSuggestion:_,avatarSuggestionTab:I}}},252691:(e,t,r)=>{r.d(t,{useCalculateSelectedEmojiPackIndex:()=>a});var i=r(296540),o=r(293721),s=r(830922);const a=(e,t)=>{const{range:r}=e,a=(0,o.useStore)(s.$selectedEmojiPackIndex);(0,i.useEffect)((()=>{const r=e.calculateRange();if(!r)return;const{startIndex:i}=r,o=t.findIndex((e=>e>=i)),n=o-1,c=t[o],l=t[n],d=Math.abs(l-i)<Math.abs(c-i)?n:o;a!==d&&(0,s.setSelectedEmojiPackIndex)(d)}),[r,t])}},745457:(e,t,r)=>{r.d(t,{setRecentEmoji:()=>o});var i=r(175325);const o=i.stickersEmojiKeyboard.createEvent();i.stickersEmojiKeyboard.createStore(null).on(o,((e,t)=>t))},291915:(e,t,r)=>{r.d(t,{$selectedEmoji:()=>s,setSelectedEmoji:()=>o});var i=r(175325);const o=i.stickersEmojiKeyboard.createEvent(),s=i.stickersEmojiKeyboard.createStore(null).on(o,((e,t)=>t))},830922:(e,t,r)=>{r.d(t,{$selectedEmojiPackIndex:()=>s,setSelectedEmojiPackIndex:()=>o});var i=r(175325);const o=i.stickersEmojiKeyboard.createEvent(),s=i.stickersEmojiKeyboard.createStore(0).on(o,((e,t)=>t))},485797:(e,t,r)=>{r.d(t,{$emojiPadding:()=>c});var i=r(32489),o=r(175325),s=r(294248);const a={[s.StickerEmojiKeyboardVariant.WIDE]:9,[s.StickerEmojiKeyboardVariant.COMPACT]:8,[s.StickerEmojiKeyboardVariant.REGULAR]:12,[s.StickerEmojiKeyboardVariant.ADAPTIVE]:9,[s.StickerEmojiKeyboardVariant.SMALL]:8},n=o.stickersEmojiKeyboard.createEvent(),c=o.stickersEmojiKeyboard.createStore(a[s.DEFAULT_VARIANT]);(0,i.sample)({clock:s.setVariantOptions,source:s.$variant,fn:e=>a[e],target:n})},976412:(e,t,r)=>{r.d(t,{$avatarSuggestionDisabled:()=>s,setAvatarSuggestionDisabled:()=>o});var i=r(175325);const o=i.stickersEmojiKeyboard.createEvent(),s=i.stickersEmojiKeyboard.createStore(!1).on(o,((e,t)=>t))},185564:(e,t,r)=>{r.d(t,{$avatarSuggestion:()=>l,getAvatarSuggestionFromCache:()=>n,setAvatarSuggestion:()=>a});var i=r(32489),o=r(348385),s=r(175325);const a=s.stickersEmojiKeyboard.createEvent(),n=s.stickersEmojiKeyboard.createEvent(),c=s.stickersEmojiKeyboard.createEffect((async e=>{const t=await e.cache.avatarSuggestion.get();a(t)})),l=s.stickersEmojiKeyboard.createStore(null).on(a,((e,t)=>t));(0,i.sample)({clock:n,source:o.$api,target:c})},49344:(e,t,r)=>{r.d(t,{$avatarSuggestionIsViewed:()=>l,setAvatarSuggestionIsViewed:()=>c});var i=r(32489),o=r(488442),s=r(175325),a=r(895380),n=r(869343);const c=s.stickersEmojiKeyboard.createEvent(),l=s.stickersEmojiKeyboard.createStore(!1).on(c,((e,t)=>t));(0,i.sample)({clock:c,filter:e=>e&&(0,n.isPromoVmojiCounterEnabled)(),fn:()=>a.HelpHintPromoTypes.VMOJI_AVATAR_SUGGESTION,target:o.markAsViewedHelpHint})},123789:(e,t,r)=>{r.d(t,{$avatarSuggestionBannerPackIndex:()=>s,setAvatarSuggestionPackIndex:()=>o});var i=r(175325);const o=i.stickersEmojiKeyboard.createEvent(),s=i.stickersEmojiKeyboard.createStore(null).on(o,((e,t)=>t))},547773:(e,t,r)=>{r.d(t,{$avatarSuggestionTab:()=>s,setAvatarSuggestionTab:()=>o});var i=r(175325);const o=i.stickersEmojiKeyboard.createEvent(),s=i.stickersEmojiKeyboard.createStore(null).on(o,((e,t)=>t))},96270:(e,t,r)=>{r.d(t,{hideHelpHint:()=>a});var i=r(32489),o=r(348385),s=r(175325);const a=s.stickersEmojiKeyboard.createEvent(),n=s.stickersEmojiKeyboard.createEffect((({api:e,hintId:t})=>e.cache.hideHelpHint(t)));(0,i.sample)({clock:a,source:o.$api,fn:(e,t)=>({api:e,hintId:t}),target:n})},488442:(e,t,r)=>{r.d(t,{markAsViewedHelpHint:()=>a});var i=r(32489),o=r(348385),s=r(175325);const a=s.stickersEmojiKeyboard.createEvent(),n=s.stickersEmojiKeyboard.createEffect((({api:e,promoId:t})=>{e.cache.markHelpHintAsViewed(t)}));(0,i.sample)({clock:a,source:o.$api,fn:(e,t)=>({api:e,promoId:t}),target:n})},814950:(e,t,r)=>{r.d(t,{setChatPeer:()=>o});var i=r(175325);const o=i.stickersEmojiKeyboard.createEvent();i.stickersEmojiKeyboard.createStore(null).on(o,((e,t)=>t))},305390:(e,t,r)=>{r.d(t,{$peerId:()=>n,PeerGate:()=>c});var i=r(32489),o=r(293721),s=r(175325);const a=s.stickersEmojiKeyboard.createEvent(),n=s.stickersEmojiKeyboard.createStore(null).on(a,((e,{peerId:t})=>t||null)),c=(0,o.createGate)();(0,i.forward)({from:c.state,to:a})},559735:(e,t,r)=>{r.d(t,{$userPeer:()=>s,setUserPeer:()=>o});var i=r(175325);const o=i.stickersEmojiKeyboard.createEvent(),s=i.stickersEmojiKeyboard.createStore(null).on(o,((e,t)=>t))},508952:(e,t,r)=>{r.d(t,{$imageConfigs:()=>s,setImageConfigs:()=>o});var i=r(175325);const o=i.stickersEmojiKeyboard.createEvent(),s=i.stickersEmojiKeyboard.createStore(null).on(o,((e,t)=>t))},539945:(e,t,r)=>{r.d(t,{$activePackKey:()=>n,ActivePackKeyGate:()=>c,setActivePackKeyOptions:()=>a});var i=r(32489),o=r(293721),s=r(175325);const a=s.stickersEmojiKeyboard.createEvent(),n=s.stickersEmojiKeyboard.createStore(null).on(a,((e,{activePackKey:t})=>t)),c=(0,o.createGate)();(0,i.forward)({from:c.state,to:a})},591454:(e,t,r)=>{r.d(t,{$selectedPackKey:()=>s,setSelectedPackKey:()=>o});var i=r(175325);const o=i.stickersEmojiKeyboard.createEvent(),s=i.stickersEmojiKeyboard.createStore(null).on(o,((e,t)=>t))},948926:(e,t,r)=>{r.d(t,{$stockItemsAvailableToGift:()=>s,setStockItemsAvailableToGift:()=>o});var i=r(175325);const o=i.stickersEmojiKeyboard.createEvent(),s=i.stickersEmojiKeyboard.createStore(null).on(o,((e,t)=>t))},993190:(e,t,r)=>{r.d(t,{$storeNewItemsCount:()=>s,setStoreNewItemsCount:()=>o});var i=r(175325);const o=i.stickersEmojiKeyboard.createEvent(),s=i.stickersEmojiKeyboard.createStore(0).on(o,((e,t)=>t))},820643:(e,t,r)=>{r.d(t,{hideUGCOnboarding:()=>n});var i=r(32489),o=r(348385),s=r(969102),a=r(175325);const n=a.stickersEmojiKeyboard.createEvent(),c=a.stickersEmojiKeyboard.createEffect((e=>e.cache.hideUGCOnboarding()));(0,i.sample)({clock:n,source:o.$api,target:c}),(0,i.sample)({source:c.doneData,filter:e=>e,target:s.reloadUGCInfo})},547843:(e,t,r)=>{r.d(t,{$stickersHorizontalGap:()=>m,$stickersKeyboardVerticalOrder:()=>h,$stickersSize:()=>d,$stickersVerticalGap:()=>u});var i=r(32489),o=r(175325),s=r(294248);const a={[s.StickerEmojiKeyboardVariant.WIDE]:86,[s.StickerEmojiKeyboardVariant.COMPACT]:80,[s.StickerEmojiKeyboardVariant.REGULAR]:92,[s.StickerEmojiKeyboardVariant.ADAPTIVE]:86,[s.StickerEmojiKeyboardVariant.SMALL]:72},n={[s.StickerEmojiKeyboardVariant.WIDE]:8,[s.StickerEmojiKeyboardVariant.COMPACT]:6,[s.StickerEmojiKeyboardVariant.REGULAR]:8,[s.StickerEmojiKeyboardVariant.ADAPTIVE]:8,[s.StickerEmojiKeyboardVariant.SMALL]:6},c={[s.StickerEmojiKeyboardVariant.WIDE]:6,[s.StickerEmojiKeyboardVariant.COMPACT]:8,[s.StickerEmojiKeyboardVariant.REGULAR]:8,[s.StickerEmojiKeyboardVariant.ADAPTIVE]:6,[s.StickerEmojiKeyboardVariant.SMALL]:8},l={[s.StickerEmojiKeyboardVariant.WIDE]:"column",[s.StickerEmojiKeyboardVariant.COMPACT]:"column",[s.StickerEmojiKeyboardVariant.REGULAR]:"column",[s.StickerEmojiKeyboardVariant.SMALL]:"column",[s.StickerEmojiKeyboardVariant.ADAPTIVE]:"column-reverse"},d=(o.stickersEmojiKeyboard.createEvent(),o.stickersEmojiKeyboard.createEvent(),o.stickersEmojiKeyboard.createEvent(),o.stickersEmojiKeyboard.createStore(a[s.DEFAULT_VARIANT])),u=o.stickersEmojiKeyboard.createStore(c[s.DEFAULT_VARIANT]),m=o.stickersEmojiKeyboard.createStore(n[s.DEFAULT_VARIANT]),h=o.stickersEmojiKeyboard.createStore(l[s.DEFAULT_VARIANT]);(0,i.sample)({clock:s.setVariantOptions,source:s.$variant,fn:e=>a[e],target:d}),(0,i.sample)({clock:s.setVariantOptions,source:s.$variant,fn:e=>c[e],target:u}),(0,i.sample)({clock:s.setVariantOptions,source:s.$variant,fn:e=>n[e],target:m}),(0,i.sample)({clock:s.setVariantOptions,source:s.$variant,fn:e=>l[e],target:h})},699212:(e,t,r)=>{r.d(t,{$vmojiPromotion:()=>l,clearVmojiPromotionDot:()=>n,setVmojiPromotion:()=>a});var i=r(32489),o=r(348385),s=r(175325);const a=s.stickersEmojiKeyboard.createEvent(),n=s.stickersEmojiKeyboard.createEvent(),c=s.stickersEmojiKeyboard.createEffect((async({api:e,vmojiPromotion:t})=>{if(t)return e.cache.clearVmojiPromotionDot()})),l=s.stickersEmojiKeyboard.createStore(null).on(a,((e,t)=>t)).on(c.doneData,(e=>({...e,dot_color:void 0}))),d=(0,i.combine)(o.$api,l,((e,t)=>({api:e,vmojiPromotion:t})));(0,i.sample)({clock:n,source:d,target:c})},294248:(e,t,r)=>{r.d(t,{$variant:()=>l,DEFAULT_VARIANT:()=>c,StickerEmojiKeyboardVariant:()=>a,VariantGate:()=>d,setVariantOptions:()=>n});var i=r(32489),o=r(293721),s=r(175325),a=function(e){return e.WIDE="wide",e.COMPACT="compact",e.REGULAR="regular",e.ADAPTIVE="adaptive",e.SMALL="small",e}({});const n=s.stickersEmojiKeyboard.createEvent(),c="wide",l=s.stickersEmojiKeyboard.createStore(c).on(n,((e,{variant:t})=>t)),d=(0,o.createGate)();(0,i.forward)({from:d.state,to:n})},718331:(e,t,r)=>{r.d(t,{$isVisible:()=>n,VisibleGate:()=>c});var i=r(32489),o=r(293721),s=r(175325);const a=s.stickersEmojiKeyboard.createEvent(),n=s.stickersEmojiKeyboard.createStore(!1).on(a,((e,{isVisible:t})=>t)),c=(0,o.createGate)();(0,i.forward)({from:c.state,to:a})},93272:(e,t,r)=>{r.d(t,{$visibleTab:()=>c,$visibleTabState:()=>l,VisibleTabGate:()=>d});var i=r(293721),o=r(32489),s=r(175325),a=r(516413);const n=s.stickersEmojiKeyboard.createEvent(),c=s.stickersEmojiKeyboard.createStore(null).on(n,((e,{visibleTab:t})=>t??null)),l=(0,o.combine)(c,(e=>({isEmojiVisibleTab:e===a.Tab.EMOJI,isStickersVisibleTab:e===a.Tab.STICKERS}))),d=(0,i.createGate)();(0,o.forward)({from:d.state,to:n})},524788:(e,t,r)=>{function i(e){return 1-Math.pow(1-e,4)}r.d(t,{easeOutQuart:()=>i})},974280:(e,t,r)=>{function i(e){return encodeURIComponent(e.replace(/\uFE0F/giu,"")).replace(/%/gi,"").toLowerCase()}r.d(t,{unicodeToByteHex:()=>i})},838670:(e,t,r)=>{r.d(t,{StickerRich:()=>l});var i=r(474848),o=r(794310),s=r(673953),a=r(308409),n=r(216670),c=r(486325);function l({baseStickerProps:e,wrapperProps:t,popupProps:r}){var l;const{sticker:d}=e,u=(0,n.getStickerContext)(d);e.sticker=u,(l=t).icon??(l.icon=(0,c.getDefaultIcon)(d));const m=(0,i.jsx)(o.Sticker,{...e}),{isUGC:h,isPopup:p}=u;return p?(0,i.jsx)(s.PopupWrapper,{wrapperProps:t,...r,children:m}):h?(0,i.jsx)(a.Wrapper,{...t,children:m}):m}},673953:(e,t,r)=>{r.d(t,{PopupWrapper:()=>n});var i=r(474848),o=r(8520),s=r(308409),a=r(741739);function n({wrapperProps:e,isAnimationPlaying:t,children:r}){return(0,i.jsx)(s.Wrapper,{...e,contentClassName:(0,o.classNames)(e.contentClassName,{[a.default.iconAnimated]:Boolean(e?.onContentClick)}),stickerContainerClassName:(0,o.classNames)(e.stickerContainerClassName,{[a.default.stickerAnimationIsPlaying]:t}),children:r})}},308409:(e,t,r)=>{r.d(t,{Wrapper:()=>n});var i=r(474848),o=r(220208),s=r(8520),a=r(113331);function n({icon:e,children:t,iconPosition:r,iconWrapperRef:n,onContentClick:c,contentClassName:l="",wrapperClassName:d="",stickerContainerClassName:u="",buttonAriaLabel:m}){const h=function(e="rightInset"){let t={wrapper:"",stickerWrapper:"",icon:""};switch(e){case"leftAbsolute":return{...t,icon:(0,s.classNames)(a.default.iconAbsolute,a.default.iconAbsoluteLeft)};case"rightAbsolute":return{...t,icon:(0,s.classNames)(a.default.iconAbsolute,a.default.iconAbsoluteRight)};case"leftInset":return{...t,icon:(0,s.classNames)(a.default.iconAbsolute,a.default.iconAbsoluteInsetLeft)};case"rightInset":return{...t,icon:(0,s.classNames)(a.default.iconAbsolute,a.default.iconAbsoluteInsetRight)};case"leftRelative":return{...t,wrapper:(0,s.classNames)(a.default.wrapperFlex,a.default.wrapperFlexLeft),icon:(0,s.classNames)(a.default.iconRelative,a.default.iconRelativeLeft)};case"rightRelative":return{...t,wrapper:(0,s.classNames)(a.default.wrapperFlex,a.default.wrapperFlexRight),icon:(0,s.classNames)(a.default.iconRelative,a.default.iconRelativeRight)};default:return t}}(r);return(0,i.jsxs)("div",{"data-testid":"sticker-rich-wrapper",className:(0,s.classNames)(a.default.wrapper,h.wrapper,d),children:[(0,i.jsx)("div",{"data-testid":"sticker-rich-sticker-wrapper",className:(0,s.classNames)(u,h.stickerWrapper),children:t}),(0,i.jsx)("div",{"data-testid":"sticker-rich-icon-wrapper",className:(0,s.classNames)(a.default.icon,h.icon,l),children:(0,i.jsx)(o.Tappable,{hoverMode:"opacity",activeMode:"opacity",disabled:!c,getRootRef:n,onClick:c,"aria-label":m,children:e})})]})}},486325:(e,t,r)=>{r.d(t,{getDefaultIcon:()=>a});var i=r(474848),o=r(289825),s=r(216670);const a=e=>{const t=(0,s.getStickerContext)(e),{isUGC:r}=t;return r?(0,i.jsx)(o.Icon20UgcChatStickerCircleFillBlackAlpha,{}):null}},282282:(e,t,r)=>{r.d(t,{login:()=>f});var i=r(458285),o=r(14870),s=r(356781),a=r(395889),n=r(731801),c=/\d+:[a-zA-Z_]+:login:auth/,l=new a.Retries,d={domain:"login.vk.com",maxRetries:3};var u,m,h=new Map,p=new Map;function f(e,t,r,a,c){void 0===r&&(r={}),void 0===a&&(a=!1),void 0===c&&(c={});var u=Object.assign({},d,r),m=u.appId+":"+e+":login:auth",k=m+"--request",S=h.get(k);if(S)return S.get();var b=l.get(k)||l.create(k,u.maxRetries);return S=new n.default,h.set(k,S),(0,s.waitRequestFromOtherTabs)(k).then((function(){return(0,s.waitTimeExp)(b.get())})).then((function(){var n=!p.get(k)||a,d=(0,s.loadCache)(m);if(!n&&(null==d?void 0:d.expires)&&(0,s.checkAuthExpires)(Number(d.expires)))return(0,o.removeItemFromStorage)(k),h.delete(k),S.resolve(d);var g,E=u.domain,y=u.onCaptcha,_="https://"+E+"/?act="+e,I={version:(g=u).version||s.VERSION,app_id:g.appId},j=Object.assign({},t,I,{access_token:null==d?void 0:d.access_token});v(e,r),(0,i.c)(_,j,c).then((function(s){var a;if("error"in s&&(s=function(e){var t,r=e.error,i=r.captcha_sid,o=r.captcha_img,s=r.error_code,a=r.error_msg;switch(s){case 14:t={type:"captcha",captcha_type:"regular",captcha_sid:i,captcha_img:o};break;case 6:t={type:"error",error_info:"check result failure",error_code:String(s)};break;default:t={type:"error",error_info:a,error_code:String(s)}}return t}(s)),"error"===s.type)return h.delete(k),"check result failure"===s.error_info?b.isExceeded()?(l.delete(k),S.reject({type:"login_error",error:{error_code:0,error_msg:"Maximum of login retries exceeded"}})):(b.increment(),f(e,t,r).then(S.resolve).catch(S.reject)):(l.delete(k),S.reject({type:"login_error",error:s.error_info,errorCode:null!==(a=s.error_code)&&void 0!==a?a:"unknown_error"}));if(l.delete(k),"captcha"===s.type){if(!y)return S.reject({type:"login_error",error:"captcha"});var n=s.captcha_sid,c=s.captcha_img,d=s.captcha_type;return y({captcha_sid:n,captcha_img:c,captcha_type:d}).then((function(i){var o=Object.assign({},t,i);return h.delete(k),f(e,o,r).then(S.resolve).catch(S.reject)}))}var u=s.data.expires||1/0;(0,o.setItemToStorage)(m,JSON.stringify((0,i._)((0,i._)({},s.data),{expires:u}))),(0,o.removeItemFromStorage)(k),p.set(k,!0),h.delete(k),S.resolve(s.data)}),(function(e){l.delete(k),h.delete(k),S.reject({type:"network_error",error:e})}))})),S.get()}function v(e,t){if(e){var r=d;t&&(r=Object.assign({},d,t));var i=r.appId+":"+e+":login:auth";(0,o.removeItemFromStorage)(i)}else Object.keys(localStorage).forEach((function(e){c.test(e)&&(0,o.removeItemFromStorage)(e)}))}(m=u||(u={})).PASSWORD_CONFIRMATION_REQUIRED="password_confirmation_required",m.PHONE_VALIDATION_REQUIRED="phone_validation_required",m.USER_ALREADY_HAS_EXTERNAL_BINDING="user_already_has_external_binding"},356781:(e,t,r)=>{r.d(t,{VERSION:()=>o,checkAuthExpires:()=>s,loadCache:()=>n,waitRequestFromOtherTabs:()=>a,waitTimeExp:()=>c});r(458285);var i=r(14870),o="1";function s(e){return 1e3*e-Date.now()>=6e4}var a=function(e){return new Promise((function(t){null===(0,i.getItemFromStorage)(e)?((0,i.setItemToStorage)(e,"1"),t()):setTimeout(t,function(e,t){return~~(Math.random()*(t-e+1)+e)}(500,1500))}))},n=function(e){var t=(0,i.getItemFromStorage)(e),r={};if(t)try{r=JSON.parse(t)}catch(e){}return r};function c(e){return 0===e?Promise.resolve():new Promise((function(t){var r=function(e){if(0===e)return 0;var t=Math.random(),r=100*Math.pow(2,e)/2;return r+r*t}(e);setTimeout((function(){return t()}),r)}))}},731801:(e,t,r)=>{r.d(t,{default:()=>i});const i=function(){var e=this;this.get=function(){return e.promise},this.resolve=function(t){return e.resolveHandler(t)},this.reject=function(t){return e.rejectHandler(t)},this.promise=new Promise((function(t,r){e.resolveHandler=t,e.rejectHandler=r}))}},395889:(e,t,r)=>{r.d(t,{Retries:()=>o});var i=function(e){var t=this;void 0===e&&(e=1/0),this.tries=0,this.increment=function(){t.tries++},this.get=function(){return t.tries},this.isExceeded=function(){return t.tries>=t.maxTries},this.maxTries=e},o=function(){var e=this;this.retries=new Map,this.get=function(t){return e.retries.get(t)},this.create=function(t,r){return e.retries.set(t,new i(r)),e.retries.get(t)},this.delete=function(t){e.retries.delete(t)}}},14870:(e,t,r)=>{r.d(t,{getItemFromStorage:()=>o,removeItemFromStorage:()=>s,setItemToStorage:()=>i});var i=function(e,t){try{localStorage.setItem(e,t)}catch(e){}},o=function(e){try{return localStorage.getItem(e)}catch(e){}},s=function(e){try{localStorage.removeItem(e)}catch(e){}}},458285:(e,t,r)=>{r.d(t,{_:()=>i,c:()=>s,m:()=>o});var i=function(){return(i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function o(e){return Object.keys(e).map((function(t){var r=e[t];return(t=encodeURIComponent(t||""))+"="+encodeURIComponent(r||"")})).join("&")}function s(e,t,r){void 0===r&&(r={});var s=o(t);return fetch(e,i({method:"POST",body:s,mode:"cors",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"}},r)).then((function(e){return e.json()}))}},34855:(e,t,r)=>{r.d(t,{default:()=>i});const i={banner:"AvatarSuggestionRow__banner--wxts2",character:"AvatarSuggestionRow__character--RzTKg",placeholder:"AvatarSuggestionRow__placeholder--igUro"}},215943:(e,t,r)=>{r.d(t,{default:()=>i});const i={emoji:"Emoji__emoji--c4qpa"}},807799:(e,t,r)=>{r.d(t,{default:()=>i});const i={item:"EmojiItem__item--DuraU",itemActive:"EmojiItem__itemActive--bM6wE"}},967263:(e,t,r)=>{r.d(t,{default:()=>i});const i={keyboard:"EmojiKeyboard__keyboard--Ld5uz",scroll:"EmojiKeyboard__scroll--Brwew",in:"EmojiKeyboard__in--m0FNK",item:"EmojiKeyboard__item--xuWZF",itemHeader:"EmojiKeyboard__itemHeader--9JOWg"}},161187:(e,t,r)=>{r.d(t,{default:()=>i});const i={header:"EmojiKeyboardHeader__header--62WGU",headerWide:"EmojiKeyboardHeader__headerWide--ZHzzu",headerRegular:"EmojiKeyboardHeader__headerRegular--4ObTy",headerAdaptive:"EmojiKeyboardHeader__headerAdaptive--QrWat",headerSmall:"EmojiKeyboardHeader__headerSmall--4ss9T",headerCompact:"EmojiKeyboardHeader__headerCompact--LQUUo",title:"EmojiKeyboardHeader__title--usmp4"}},112935:(e,t,r)=>{r.d(t,{default:()=>i});const i={row:"EmojiKeyboardRow__row--YlFOl",rowWide:"EmojiKeyboardRow__rowWide--E2DJg",rowRegular:"EmojiKeyboardRow__rowRegular--sePVK",rowAdaptive:"EmojiKeyboardRow__rowAdaptive--oXIqz",rowSmall:"EmojiKeyboardRow__rowSmall--RR3Ek",rowCompact:"EmojiKeyboardRow__rowCompact--iBvxN",emoji:"EmojiKeyboardRow__emoji--FW1Rt"}},973119:(e,t,r)=>{r.d(t,{default:()=>i});const i={keyboard:"StickersEmojiKeyboard__keyboard--aBlGh",keyboardWide:"StickersEmojiKeyboard__keyboardWide--c4mMA",keyboardCompact:"StickersEmojiKeyboard__keyboardCompact--7zIVf",keyboardRegular:"StickersEmojiKeyboard__keyboardRegular--W7paM",keyboardAdaptive:"StickersEmojiKeyboard__keyboardAdaptive--VBT2T",keyboardSmall:"StickersEmojiKeyboard__keyboardSmall--TuG4n",in:"StickersEmojiKeyboard__in--8z0sQ"}},625599:(e,t,r)=>{r.d(t,{default:()=>i});const i={keyboard:"StickersKeyboard__keyboard--Roopu",scroll:"StickersKeyboard__scroll--25gJH",scrollDisabled:"StickersKeyboard__scrollDisabled--zwEvq",in:"StickersKeyboard__in--Nd9Tf",item:"StickersKeyboard__item--RFENS",itemHeader:"StickersKeyboard__itemHeader--Dwpxx"}},401863:(e,t,r)=>{r.d(t,{default:()=>i});const i={group:"StickersKeyboardGroup__group--torAq",groupActive:"StickersKeyboardGroup__groupActive--DwHOY",groupHidden:"StickersKeyboardGroup__groupHidden--IktFM",item:"StickersKeyboardGroup__item--aBKd2"}},548891:(e,t,r)=>{r.d(t,{default:()=>i});const i={in:"Icon__in--9IlJB"}},980183:(e,t,r)=>{r.d(t,{default:()=>i});const i={in:"StickersKeyboardGroupItem__in--VcJ1c",inPlaceholder:"StickersKeyboardGroupItem__inPlaceholder--kALAE",inActive:"StickersKeyboardGroupItem__inActive--mqUWy",inHidden:"StickersKeyboardGroupItem__inHidden--LolxI",icon:"StickersKeyboardGroupItem__icon--WU3P9",iconService:"StickersKeyboardGroupItem__iconService--SNMID",inIndicator:"StickersKeyboardGroupItem__inIndicator--HTKY6",inIndicatorRed:"StickersKeyboardGroupItem__inIndicatorRed--zplil",inIndicatorGray:"StickersKeyboardGroupItem__inIndicatorGray--XA5B8",tooltip:"StickersKeyboardGroupItem__tooltip--Z2OTp"}},560553:(e,t,r)=>{r.d(t,{default:()=>i});const i={button:"ShopButton__button--njkgu"}},866623:(e,t,r)=>{r.d(t,{default:()=>i});const i={groups:"StickersKeyboardGroups__groups--EuHEh",container:"StickersKeyboardGroups__container--GeZCP",in:"StickersKeyboardGroups__in--Pc5bM",items:"StickersKeyboardGroups__items--xPtfp",group:"StickersKeyboardGroups__group--PYnoi",groupIn:"StickersKeyboardGroups__groupIn--I8eF8",chevron:"StickersKeyboardGroups__chevron--2BoD2",shadow:"StickersKeyboardGroups__shadow--YL2XH",groupsForced:"StickersKeyboardGroups__groupsForced--cp00b",shadowVisible:"StickersKeyboardGroups__shadowVisible--OCDa7",shadowLeft:"StickersKeyboardGroups__shadowLeft--K1Vmj",shadowRight:"StickersKeyboardGroups__shadowRight--n5bpr",chevronActive:"StickersKeyboardGroups__chevronActive--Gay39",chevronLeft:"StickersKeyboardGroups__chevronLeft--tHC1b",chevronRight:"StickersKeyboardGroups__chevronRight--8NXLv"}},733496:(e,t,r)=>{r.d(t,{default:()=>i});const i={peer:"GiftButton__peer--qfhik"}},817169:(e,t,r)=>{r.d(t,{default:()=>i});const i={tooltip:"PeerInfo__tooltip--RPl8E",text:"PeerInfo__text--siVSP",icon:"PeerInfo__icon--d7xxw"}},818893:(e,t,r)=>{r.d(t,{default:()=>i});const i={header:"StickersKeyboardHeader__header--abIjn",headerWide:"StickersKeyboardHeader__headerWide--oa9M3",headerRegular:"StickersKeyboardHeader__headerRegular--E7FuD",headerAdaptive:"StickersKeyboardHeader__headerAdaptive--6SOiI",headerSmall:"StickersKeyboardHeader__headerSmall--A3Xvx",headerCompact:"StickersKeyboardHeader__headerCompact--Hmxz5",headerAside:"StickersKeyboardHeader__headerAside--4AjpR",title:"StickersKeyboardHeader__title--Cqjea",icon:"StickersKeyboardHeader__icon--wixC2"}},746902:(e,t,r)=>{r.d(t,{default:()=>i});const i={icon:"StyleSettingsButton__icon--WlyCw"}},612126:(e,t,r)=>{r.d(t,{default:()=>i});const i={tooltip:"Tooltip__tooltip--iDUSo",icon:"Tooltip__icon--j2W66"}},281537:(e,t,r)=>{r.d(t,{default:()=>i});const i={brush:"VmojiEditButton__brush--QxypQ",counter:"VmojiEditButton__counter--Maxgf"}},893127:(e,t,r)=>{r.d(t,{default:()=>i});const i={row:"StickersKeyboardRow__row--ZoDzf",rowWide:"StickersKeyboardRow__rowWide--BwDmS",rowRegular:"StickersKeyboardRow__rowRegular--ftJ0T",rowAdaptive:"StickersKeyboardRow__rowAdaptive--tyoGh",rowSmall:"StickersKeyboardRow__rowSmall--CAm2M",rowCompact:"StickersKeyboardRow__rowCompact--XEs1d",rowStickers:"StickersKeyboardRow__rowStickers--OrWut",sticker:"StickersKeyboardRow__sticker--UkoyK",stickerRichIcon:"StickersKeyboardRow__stickerRichIcon--BujAB"}},534667:(e,t,r)=>{r.d(t,{default:()=>i});const i={card:"StickersKeyboardRowCard__card--LdFOz",hide:"StickersKeyboardRowCard__hide--nIRdV",image:"StickersKeyboardRowCard__image--5oH2u",title:"StickersKeyboardRowCard__title--s7Iji",action:"StickersKeyboardRowCard__action--VoKbV"}},311893:(e,t,r)=>{r.d(t,{default:()=>i});const i={tabbar:"Tabbar__tabbar--Q62Ls",item:"Tabbar__item--0Qcpv"}},683255:(e,t,r)=>{r.d(t,{default:()=>i});const i={item:"TabbarItem__item--KDicT",itemActive:"TabbarItem__itemActive--RoVj1",indicator:"TabbarItem__indicator--TZLVL",indicatorNone:"TabbarItem__indicatorNone--3Ke3v",indicatorPrimary:"TabbarItem__indicatorPrimary--sjo2T",indicatorSecondary:"TabbarItem__indicatorSecondary--b1uD6",indicatorDestructive:"TabbarItem__indicatorDestructive--DF9TL"}},59647:(e,t,r)=>{r.d(t,{default:()=>i});const i={view:"View__view--CsVjt",panel:"View__panel--svxzq",panelSwitched:"View__panelSwitched--skNOK"}},741739:(e,t,r)=>{r.d(t,{default:()=>i});const i={iconAnimated:"PopupWrapper__iconAnimated--D4Ksd",horizontalTremble:"PopupWrapper__horizontalTremble--biqNH",stickerAnimationIsPlaying:"PopupWrapper__stickerAnimationIsPlaying--oRszE"}},113331:(e,t,r)=>{r.d(t,{default:()=>i});const i={wrapper:"Wrapper__wrapper--hn1gN",wrapperFlex:"Wrapper__wrapperFlex--oWVeI",wrapperFlexLeft:"Wrapper__wrapperFlexLeft--QRwKU",wrapperFlexRight:"Wrapper__wrapperFlexRight--YEnFQ",icon:"Wrapper__icon--8QaT6",iconAbsolute:"Wrapper__iconAbsolute--Qf3fy",iconAbsoluteLeft:"Wrapper__iconAbsoluteLeft--ejSgK",iconAbsoluteRight:"Wrapper__iconAbsoluteRight--31hU0",iconAbsoluteInsetLeft:"Wrapper__iconAbsoluteInsetLeft--uFtQ4",iconAbsoluteInsetRight:"Wrapper__iconAbsoluteInsetRight--9lqmy",iconRelative:"Wrapper__iconRelative--dXqBT",iconRelativeLeft:"Wrapper__iconRelativeLeft--KFwvS",iconRelativeRight:"Wrapper__iconRelativeRight--uDxIA"}},651220:(e,t,r)=>{r.d(t,{useVirtualizer:()=>c,useWindowVirtualizer:()=>l});var i=r(296540),o=r(440961),s=r(842468);const a="undefined"!=typeof document?i.useLayoutEffect:i.useEffect;function n(e){const t=i.useReducer((()=>({})),{})[1],r={...e,onChange:(r,i)=>{var s;i?(0,o.flushSync)(t):t(),null==(s=e.onChange)||s.call(e,r,i)}},[n]=i.useState((()=>new s.Virtualizer(r)));return n.setOptions(r),i.useEffect((()=>n._didMount()),[]),a((()=>n._willUpdate())),n}function c(e){return n({observeElementRect:s.observeElementRect,observeElementOffset:s.observeElementOffset,scrollToFn:s.elementScroll,...e})}function l(e){return n({getScrollElement:()=>"undefined"!=typeof document?window:null,observeElementRect:s.observeWindowRect,observeElementOffset:s.observeWindowOffset,scrollToFn:s.windowScroll,initialOffset:()=>"undefined"!=typeof document?window.scrollY:0,...e})}},842468:(e,t,r)=>{r.d(t,{Virtualizer:()=>f,defaultRangeExtractor:()=>s,elementScroll:()=>p,observeElementOffset:()=>d,observeElementRect:()=>a,observeWindowOffset:()=>u,observeWindowRect:()=>c,windowScroll:()=>h});var i=r(580621);const o=e=>e,s=e=>{const t=Math.max(e.startIndex-e.overscan,0),r=Math.min(e.endIndex+e.overscan,e.count-1),i=[];for(let e=t;e<=r;e++)i.push(e);return i},a=(e,t)=>{const r=e.scrollElement;if(!r)return;const i=e.targetWindow;if(!i)return;const o=e=>{const{width:r,height:i}=e;t({width:Math.round(r),height:Math.round(i)})};if(o(r.getBoundingClientRect()),!i.ResizeObserver)return()=>{};const s=new i.ResizeObserver((e=>{const t=e[0];if(null==t?void 0:t.borderBoxSize){const e=t.borderBoxSize[0];if(e)return void o({width:e.inlineSize,height:e.blockSize})}o(r.getBoundingClientRect())}));return s.observe(r,{box:"border-box"}),()=>{s.unobserve(r)}},n={passive:!0},c=(e,t)=>{const r=e.scrollElement;if(!r)return;const i=()=>{t({width:r.innerWidth,height:r.innerHeight})};return i(),r.addEventListener("resize",i,n),()=>{r.removeEventListener("resize",i)}},l="undefined"==typeof window||"onscrollend"in window,d=(e,t)=>{const r=e.scrollElement;if(!r)return;const o=e.targetWindow;if(!o)return;let s=0;const a=l?()=>{}:(0,i.debounce)(o,(()=>{t(s,!1)}),e.options.isScrollingResetDelay),c=i=>()=>{s=r[e.options.horizontal?"scrollLeft":"scrollTop"],a(),t(s,i)},d=c(!0),u=c(!1);return u(),r.addEventListener("scroll",d,n),r.addEventListener("scrollend",u,n),()=>{r.removeEventListener("scroll",d),r.removeEventListener("scrollend",u)}},u=(e,t)=>{const r=e.scrollElement;if(!r)return;const o=e.targetWindow;if(!o)return;let s=0;const a=l?()=>{}:(0,i.debounce)(o,(()=>{t(s,!1)}),e.options.isScrollingResetDelay),c=i=>()=>{s=r[e.options.horizontal?"scrollX":"scrollY"],a(),t(s,i)},d=c(!0),u=c(!1);return u(),r.addEventListener("scroll",d,n),r.addEventListener("scrollend",u,n),()=>{r.removeEventListener("scroll",d),r.removeEventListener("scrollend",u)}},m=(e,t,r)=>{if(null==t?void 0:t.borderBoxSize){const e=t.borderBoxSize[0];if(e){return Math.round(e[r.options.horizontal?"inlineSize":"blockSize"])}}return Math.round(e.getBoundingClientRect()[r.options.horizontal?"width":"height"])},h=(e,{adjustments:t=0,behavior:r},i)=>{var o,s;const a=e+t;null==(s=null==(o=i.scrollElement)?void 0:o.scrollTo)||s.call(o,{[i.options.horizontal?"left":"top"]:a,behavior:r})},p=(e,{adjustments:t=0,behavior:r},i)=>{var o,s;const a=e+t;null==(s=null==(o=i.scrollElement)?void 0:o.scrollTo)||s.call(o,{[i.options.horizontal?"left":"top"]:a,behavior:r})};class f{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=(()=>{let e=null;const t=()=>e||(this.targetWindow&&this.targetWindow.ResizeObserver?e=new this.targetWindow.ResizeObserver((e=>{e.forEach((e=>{this._measureElement(e.target,e)}))})):null);return{disconnect:()=>{var e;return null==(e=t())?void 0:e.disconnect()},observe:e=>{var r;return null==(r=t())?void 0:r.observe(e,{box:"border-box"})},unobserve:e=>{var r;return null==(r=t())?void 0:r.unobserve(e)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach((([t,r])=>{void 0===r&&delete e[t]})),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:o,rangeExtractor:s,onChange:()=>{},measureElement:m,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,...e}},this.notify=(e,t)=>{var r,i;const{startIndex:o,endIndex:s}=this.range??{startIndex:void 0,endIndex:void 0},a=this.calculateRange();(e||o!==(null==a?void 0:a.startIndex)||s!==(null==a?void 0:a.endIndex))&&(null==(i=(r=this.options).onChange)||i.call(r,this,t))},this.cleanup=()=>{this.unsubs.filter(Boolean).forEach((e=>e())),this.unsubs=[],this.scrollElement=null},this._didMount=()=>(this.measureElementCache.forEach(this.observer.observe),()=>{this.observer.disconnect(),this.cleanup()}),this._willUpdate=()=>{var e;const t=this.options.getScrollElement();this.scrollElement!==t&&(this.cleanup(),this.scrollElement=t,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=(null==(e=this.scrollElement)?void 0:e.window)??null,this._scrollToOffset(this.scrollOffset,{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,(e=>{this.scrollRect=e,this.notify(!1,!1)}))),this.unsubs.push(this.options.observeElementOffset(this,((e,t)=>{this.scrollAdjustments=0,this.scrollDirection=t?this.scrollOffset<e?"forward":"backward":null,this.scrollOffset=e;const r=this.isScrolling;this.isScrolling=t,this.notify(r!==t,t)}))))},this.getSize=()=>this.scrollRect[this.options.horizontal?"width":"height"],this.getMeasurementOptions=(0,i.memo)((()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey]),((e,t,r,i)=>(this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:t,scrollMargin:r,getItemKey:i})),{key:!1}),this.getFurthestMeasurement=(e,t)=>{const r=new Map,i=new Map;for(let o=t-1;o>=0;o--){const t=e[o];if(r.has(t.lane))continue;const s=i.get(t.lane);if(null==s||t.end>s.end?i.set(t.lane,t):t.end<s.end&&r.set(t.lane,!0),r.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort(((e,t)=>e.end===t.end?e.index-t.index:e.end-t.end))[0]:void 0},this.getMeasurements=(0,i.memo)((()=>[this.getMeasurementOptions(),this.itemSizeCache]),(({count:e,paddingStart:t,scrollMargin:r,getItemKey:i},o)=>{const s=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const a=this.measurementsCache.slice(0,s);for(let n=s;n<e;n++){const e=i(n),s=1===this.options.lanes?a[n-1]:this.getFurthestMeasurement(a,n),c=s?s.end+this.options.gap:t+r,l=o.get(e),d="number"==typeof l?l:this.options.estimateSize(n),u=c+d,m=s?s.lane:n%this.options.lanes;a[n]={index:n,start:c,size:d,end:u,key:e,lane:m}}return this.measurementsCache=a,a}),{key:!1,debug:()=>this.options.debug}),this.calculateRange=(0,i.memo)((()=>[this.getMeasurements(),this.getSize(),this.scrollOffset]),((e,t,r)=>this.range=e.length>0&&t>0?function({measurements:e,outerSize:t,scrollOffset:r}){const i=e.length-1,o=t=>e[t].start,s=v(0,i,o,r);let a=s;for(;a<i&&e[a].end<r+t;)a++;return{startIndex:s,endIndex:a}}({measurements:e,outerSize:t,scrollOffset:r}):null),{key:!1,debug:()=>this.options.debug}),this.getIndexes=(0,i.memo)((()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count]),((e,t,r,i)=>null===t?[]:e({startIndex:t.startIndex,endIndex:t.endIndex,overscan:r,count:i})),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=e=>{const t=this.options.indexAttribute,r=e.getAttribute(t);return r?parseInt(r,10):(console.warn(`Missing attribute name '${t}={index}' on measured element.`),-1)},this._measureElement=(e,t)=>{const r=this.measurementsCache[this.indexFromElement(e)];if(!r||!e.isConnected)return void this.measureElementCache.forEach(((t,r)=>{t===e&&(this.observer.unobserve(e),this.measureElementCache.delete(r))}));const i=this.measureElementCache.get(r.key);i!==e&&(i&&this.observer.unobserve(i),this.observer.observe(e),this.measureElementCache.set(r.key,e));const o=this.options.measureElement(e,t,this);this.resizeItem(r,o)},this.resizeItem=(e,t)=>{const r=t-(this.itemSizeCache.get(e.key)??e.size);0!==r&&((void 0!==this.shouldAdjustScrollPositionOnItemSizeChange?this.shouldAdjustScrollPositionOnItemSizeChange(e,r,this):e.start<this.scrollOffset+this.scrollAdjustments)&&this._scrollToOffset(this.scrollOffset,{adjustments:this.scrollAdjustments+=r,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(e.index),this.itemSizeCache=new Map(this.itemSizeCache.set(e.key,t)),this.notify(!0,!1))},this.measureElement=e=>{e&&this._measureElement(e,void 0)},this.getVirtualItems=(0,i.memo)((()=>[this.getIndexes(),this.getMeasurements()]),((e,t)=>{const r=[];for(let i=0,o=e.length;i<o;i++){const o=t[e[i]];r.push(o)}return r}),{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{const t=this.getMeasurements();return(0,i.notUndefined)(t[v(0,t.length-1,(e=>(0,i.notUndefined)(t[e]).start),e)])},this.getOffsetForAlignment=(e,t)=>{const r=this.getSize();"auto"===t&&(t=e<=this.scrollOffset?"start":e>=this.scrollOffset+r?"end":"start"),"start"===t||("end"===t?e-=r:"center"===t&&(e-=r/2));const i=this.options.horizontal?"scrollWidth":"scrollHeight",o=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[i]:this.scrollElement[i]:0)-this.getSize();return Math.max(Math.min(o,e),0)},this.getOffsetForIndex=(e,t="auto")=>{e=Math.max(0,Math.min(e,this.options.count-1));const r=(0,i.notUndefined)(this.getMeasurements()[e]);if("auto"===t)if(r.end>=this.scrollOffset+this.getSize()-this.options.scrollPaddingEnd)t="end";else{if(!(r.start<=this.scrollOffset+this.options.scrollPaddingStart))return[this.scrollOffset,t];t="start"}const o="end"===t?r.end+this.options.scrollPaddingEnd:r.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(o,t),t]},this.isDynamicMode=()=>this.measureElementCache.size>0,this.cancelScrollToIndex=()=>{null!==this.scrollToIndexTimeoutId&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(e,{align:t="start",behavior:r}={})=>{this.cancelScrollToIndex(),"smooth"===r&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(e,t),{adjustments:void 0,behavior:r})},this.scrollToIndex=(e,{align:t="auto",behavior:r}={})=>{e=Math.max(0,Math.min(e,this.options.count-1)),this.cancelScrollToIndex(),"smooth"===r&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const[o,s]=this.getOffsetForIndex(e,t);this._scrollToOffset(o,{adjustments:void 0,behavior:r}),"smooth"!==r&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout((()=>{this.scrollToIndexTimeoutId=null;if(this.measureElementCache.has(this.options.getItemKey(e))){const[t]=this.getOffsetForIndex(e,s);(0,i.approxEqual)(t,this.scrollOffset)||this.scrollToIndex(e,{align:s,behavior:r})}else this.scrollToIndex(e,{align:s,behavior:r})})))},this.scrollBy=(e,{behavior:t}={})=>{this.cancelScrollToIndex(),"smooth"===t&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.scrollOffset+e,{adjustments:void 0,behavior:t})},this.getTotalSize=()=>{var e;const t=this.getMeasurements();let r;return r=0===t.length?this.options.paddingStart:1===this.options.lanes?(null==(e=t[t.length-1])?void 0:e.end)??0:Math.max(...t.slice(-this.options.lanes).map((e=>e.end))),r-this.options.scrollMargin+this.options.paddingEnd},this._scrollToOffset=(e,{adjustments:t,behavior:r})=>{this.options.scrollToFn(e,{behavior:r,adjustments:t},this)},this.measure=()=>{var e,t;this.itemSizeCache=new Map,null==(t=(e=this.options).onChange)||t.call(e,this,!1)},this.setOptions(e),this.scrollRect=this.options.initialRect,this.scrollOffset="function"==typeof this.options.initialOffset?this.options.initialOffset():this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach((e=>{this.itemSizeCache.set(e.key,e.size)})),this.notify(!1,!1)}}const v=(e,t,r,i)=>{for(;e<=t;){const o=(e+t)/2|0,s=r(o);if(s<i)e=o+1;else{if(!(s>i))return o;t=o-1}}return e>0?e-1:0}},580621:(e,t,r)=>{function i(e,t,r){let i,o=r.initialDeps??[];return()=>{var s,a,n,c;let l;r.key&&(null==(s=r.debug)?void 0:s.call(r))&&(l=Date.now());const d=e();if(!(d.length!==o.length||d.some(((e,t)=>o[t]!==e))))return i;let u;if(o=d,r.key&&(null==(a=r.debug)?void 0:a.call(r))&&(u=Date.now()),i=t(...d),r.key&&(null==(n=r.debug)?void 0:n.call(r))){const e=Math.round(100*(Date.now()-l))/100,t=Math.round(100*(Date.now()-u))/100,i=t/16,o=(e,t)=>{for(e=String(e);e.length<t;)e=" "+e;return e};console.info(`%c⏱ ${o(t,5)} /${o(e,5)} ms`,`\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(${Math.max(0,Math.min(120-120*i,120))}deg 100% 31%);`,null==r?void 0:r.key)}return null==(c=null==r?void 0:r.onChange)||c.call(r,i),i}}function o(e,t){if(void 0===e)throw new Error("Unexpected undefined"+(t?`: ${t}`:""));return e}r.d(t,{approxEqual:()=>s,debounce:()=>a,memo:()=>i,notUndefined:()=>o});const s=(e,t)=>Math.abs(e-t)<1,a=(e,t,r)=>{let i;return function(...o){e.clearTimeout(i),i=e.setTimeout((()=>t.apply(this,o)),r)}}},289825:(e,t,r)=>{r.d(t,{Icon20UgcChatStickerCircleFillBlackAlpha:()=>s});var i=r(474848),o=(r(296540),r(506447));const s=e=>(0,i.jsxs)(o.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"ugc_chat_sticker_circle_fill_black_alpha_20",vkuiAttrs:{fill:"none"},vkuiProps:e,children:[(0,i.jsx)("rect",{width:"20",height:"20",fill:"#000",fillOpacity:.35,rx:"10"}),(0,i.jsx)("path",{fill:"#fff",d:"M9.47 4v2.286c0 2.612 2.105 4.728 4.702 4.728h1.986c-.832 1.797-3.026 3.515-5.655 3.515a6.8 6.8 0 0 1-1.703-.216 12 12 0 0 1-1.896 1.34q-.173.098-.401.21l-.159.078a.604.604 0 0 1-.802-.275.58.58 0 0 1-.017-.477 9 9 0 0 0 .225-.61q.264-.826.404-1.699C5.128 11.93 4.5 10.644 4.5 9.23 4.5 6.599 6.632 4.416 9.47 4m1.4.318v1.968a3.31 3.31 0 0 0 3.302 3.32H16.5z"})]})},799301:(e,t,r)=>{r.d(t,{Icon24VmojiOutline:()=>s});var i=r(474848),o=(r(296540),r(506447));const s=e=>(0,i.jsx)(o.SvgIconRootV2,{viewBox:"0 0 24 24",width:24,height:24,vkuiIconId:"vmoji_outline_24",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,i.jsx)("path",{d:"M9.998 2.9a.9.9 0 0 1-.9.9A5.306 5.306 0 0 0 3.8 9.107.9.9 0 0 1 2 9.1C2.005 5.185 5.18 2 9.098 2a.9.9 0 0 1 .9.9M8.5 9.549a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3m5.956.754c.872-.445 1.878-.445 2.764.308a.766.766 0 0 1 .063 1.125.88.88 0 0 1-1.192.06l-.085-.066c-.252-.177-.477-.163-.748-.025a1 1 0 0 0-.149.09l-.083.063a.88.88 0 0 1-1.11-.122.766.766 0 0 1 .063-1.125c.106-.09.266-.2.477-.309Zm-.1 4.692c.1-.543-.354-.995-.906-.995h-2.9c-.552 0-1.006.451-.906.995.026.138.057.26.093.347a2.44 2.44 0 0 0 1.325 1.322c.298.123.616.188.938.188a2.46 2.46 0 0 0 2.264-1.51 2 2 0 0 0 .092-.347M2 14.901a.9.9 0 0 1 1.8-.008A5.306 5.306 0 0 0 9.098 20.2a.9.9 0 1 1 0 1.8C5.178 22 2.005 18.815 2 14.901M14.002 2.9a.9.9 0 0 0 .9.9A5.306 5.306 0 0 1 20.2 9.107a.9.9 0 0 0 .9.892.91.91 0 0 0 .9-.9C21.995 5.185 18.821 2 14.902 2a.9.9 0 0 0-.9.9M21.1 14.001a.9.9 0 0 0-.9.892 5.306 5.306 0 0 1-5.298 5.307.9.9 0 1 0 0 1.8c3.92 0 7.093-3.185 7.098-7.099 0-.49-.41-.9-.9-.9"})})},376762:(e,t,r)=>{r.d(t,{Icon12CheckCircleFill:()=>s});var i=r(474848),o=(r(296540),r(506447));const s=e=>(0,i.jsxs)(o.SvgIconRootV2,{viewBox:"0 0 12 12",width:12,height:12,vkuiIconId:"check_circle_fill_12",vkuiAttrs:{fill:"none"},vkuiProps:e,children:[(0,i.jsx)("path",{fill:"#99a2ad",d:"M6 12A6 6 0 1 0 6 0a6 6 0 0 0 0 12"}),(0,i.jsx)("path",{fill:"#fff",fillRule:"evenodd",d:"M8.78 3.97a.75.75 0 0 1 0 1.06L5.53 8.28a.75.75 0 0 1-1.06 0L3.22 7.03a.75.75 0 0 1 1.06-1.06l.72.72 2.72-2.72a.75.75 0 0 1 1.06 0",clipRule:"evenodd"})]})},525150:(e,t,r)=>{r.d(t,{Icon12PlayCircle:()=>s});var i=r(474848),o=(r(296540),r(506447));const s=e=>(0,i.jsx)(o.SvgIconRootV2,{viewBox:"0 0 12 12",width:12,height:12,vkuiIconId:"play_circle_12",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M6 12A6 6 0 1 0 6 0a6 6 0 0 0 0 12M4.592 3.323a.4.4 0 0 0-.592.35v4.653a.4.4 0 0 0 .592.351l4.264-2.326a.4.4 0 0 0 0-.702z",clipRule:"evenodd"})})},356037:(e,t,r)=>{r.d(t,{Icon16ChevronOutline:()=>s});var i=r(474848),o=(r(296540),r(506447));const s=e=>(0,i.jsx)(o.SvgIconRootV2,{viewBox:"0 0 12 16",width:12,height:16,vkuiIconId:"chevron_outline_16",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,i.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.22 3.47a.75.75 0 0 1 1.06 0l4 4a.75.75 0 0 1 0 1.06l-4 4a.75.75 0 0 1-1.06-1.06L7.69 8 4.22 4.53a.75.75 0 0 1 0-1.06",clipRule:"evenodd"})})},291494:(e,t,r)=>{r.d(t,{Icon20BrushOutline:()=>s});var i=r(474848),o=(r(296540),r(506447));const s=e=>(0,i.jsx)(o.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"brush_outline_20",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M6.667 12.493c-1.006 0-1.77.77-1.814 1.726-.064 1.352-.707 2.16-1.285 2.65.528.155 1.268.213 2.226-.072 1.903-.567 2.687-1.724 2.687-2.613 0-.897-.775-1.69-1.814-1.69ZM3.36 14.148a3.295 3.295 0 0 1 3.308-3.156c1.791 0 3.31 1.392 3.31 3.192 0 1.806-1.499 3.38-3.758 4.052-2.157.642-3.64-.025-4.348-.548a.9.9 0 0 1-.293-.353.84.84 0 0 1-.036-.614c.15-.46.637-.658.987-.938.382-.305.789-.761.83-1.635M15.702 2.001a1.61 1.61 0 0 1 2.261-.07 1.69 1.69 0 0 1 .17 2.287l-6.08 7.498a.746.746 0 0 1-1.052.108.753.753 0 0 1-.108-1.056l6.074-7.491a.185.185 0 0 0-.017-.242c-.067-.061-.133-.026-.202.04L9.745 9.783a.746.746 0 0 1-1.057-.025.753.753 0 0 1 .025-1.061z",clipRule:"evenodd"})})},301354:(e,t,r)=>{r.d(t,{Icon20GiftOutline:()=>s});var i=r(474848),o=(r(296540),r(506447));const s=e=>(0,i.jsx)(o.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"gift_outline_20",vkuiProps:e,children:(0,i.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,i.jsx)("path",{d:"M0 0h20v20H0z"}),(0,i.jsx)("path",{fill:"currentColor",fillRule:"nonzero",d:"M14.846 2.314c1.026 1.026 1.23 2.875-.257 4.186h.911a3 3 0 0 1 3 3v.49c0 .827-.093 1.16-.267 1.487-.174.326-.43.582-.756.756a1.9 1.9 0 0 1-.477.182v1.618c0 1.56-.162 2.126-.467 2.696a3.2 3.2 0 0 1-1.324 1.324l-.202.101c-.48.224-1.037.349-2.229.364l-5.291.002c-1.56 0-2.126-.162-2.696-.467a3.2 3.2 0 0 1-1.324-1.324l-.101-.202c-.224-.48-.349-1.037-.364-2.229L3 12.415a1.9 1.9 0 0 1-.477-.182 1.8 1.8 0 0 1-.756-.756c-.16-.299-.251-.605-.265-1.29L1.5 9.5a3 3 0 0 1 3-3h.911c-1.487-1.31-1.283-3.16-.257-4.186C6.369 1.099 8.738 1.038 10 3.569c1.262-2.531 3.631-2.47 4.846-1.255M9.25 12.499 4.5 12.5l.001 1.762.009.399c.021.604.083.924.202 1.2l.078.161q.246.462.708.708l.162.078c.33.143.724.203 1.598.211l1.991-.001zm6.251.001-4.751-.001v4.519l1.993.001.399-.009c.604-.021.924-.083 1.2-.202l.161-.078a1.7 1.7 0 0 0 .708-.708c.186-.348.267-.688.286-1.551l.004-.438zM9.159 7.999 4.5 8A1.5 1.5 0 0 0 3 9.5v.638l.007.232c.012.227.037.315.083.4a.32.32 0 0 0 .14.14c.11.059.223.085.632.09l5.387-.001.002-3L9.16 8zM15.5 8l-4.661-.001h-.09v3h5.39c.408-.004.521-.03.63-.089a.32.32 0 0 0 .141-.14c.065-.122.09-.248.09-.78V9.5A1.5 1.5 0 0 0 15.5 8M9.223 6.159c-.43-3.101-1.96-3.834-3.009-2.785C5.165 4.424 5.898 5.952 9 6.384l.257.032Zm1.554 0-.024.191.007.062.241-.029c3.101-.43 3.834-1.96 2.785-3.009-1.05-1.049-2.578-.316-3.01 2.785"})]})})},56188:(e,t,r)=>{r.d(t,{Icon20More:()=>s});var i=r(474848),o=(r(296540),r(506447));const s=e=>(0,i.jsx)(o.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"more_20",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,i.jsx)("path",{fill:"currentColor",d:"M15 8.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3m-5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3m-5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3"})})},498916:(e,t,r)=>{r.d(t,{Icon24FavoriteOutline:()=>s});var i=r(474848),o=(r(296540),r(506447));const s=e=>(0,i.jsx)(o.SvgIconRootV2,{viewBox:"0 0 24 24",width:24,height:24,vkuiIconId:"favorite_outline_24",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M12.554 4.694a.6.6 0 0 0-1.108 0l-1.614 3.9a.9.9 0 0 1-.774.554l-4.125.266a.6.6 0 0 0-.357 1.05l3.267 2.859a.9.9 0 0 1 .282.888l-.93 3.852a.6.6 0 0 0 .883.66l3.472-2.003a.9.9 0 0 1 .9 0l3.472 2.004a.6.6 0 0 0 .883-.661l-.93-3.852a.9.9 0 0 1 .282-.888l3.267-2.858a.6.6 0 0 0-.357-1.05l-4.125-.267a.9.9 0 0 1-.774-.554zm-2.772-.689c.818-1.976 3.618-1.976 4.436 0l1.4 3.383 3.565.23c2.136.138 3.037 2.792 1.426 4.201l-2.856 2.5.802 3.322c.494 2.05-1.706 3.696-3.533 2.642L12 18.539l-3.022 1.744C7.15 21.337 4.95 19.69 5.445 17.64l.802-3.322-2.856-2.5c-1.611-1.41-.71-4.063 1.426-4.201l3.566-.23z",clipRule:"evenodd"})})},597239:(e,t,r)=>{r.d(t,{Icon24ShoppingCartOutline:()=>s});var i=r(474848),o=(r(296540),r(506447));const s=e=>(0,i.jsx)(o.SvgIconRootV2,{viewBox:"0 0 24 24",width:24,height:24,vkuiIconId:"shopping_cart_outline_24",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M3.935 4.817a14 14 0 0 0-.94-.017H2.9a.9.9 0 0 1 0-1.8h.127c.401 0 .751 0 1.043.022.31.023.618.075.923.21a2.7 2.7 0 0 1 1.139.952c.094.138.167.28.227.427l11.586.362c.64.02 1.18.037 1.611.09.445.053.892.156 1.284.424a2.7 2.7 0 0 1 1.116 1.655c.101.465.03.917-.088 1.35-.113.42-.3.927-.522 1.527l-.511 1.387c-.495 1.345-.828 2.248-1.426 2.93a4.9 4.9 0 0 1-1.938 1.352c-.848.324-1.81.324-3.243.323H9.804c-.402 0-.752 0-1.043-.022a2.7 2.7 0 0 1-.924-.21 2.7 2.7 0 0 1-1.139-.951 2.7 2.7 0 0 1-.37-.872 15 15 0 0 1-.208-1.022L4.944 6.428a14 14 0 0 0-.183-.921c-.052-.199-.092-.273-.118-.312a.9.9 0 0 0-.38-.317c-.043-.02-.123-.046-.328-.061m2.838 1.608 1.113 6.158c.079.434.13.711.184.921.051.199.091.273.118.313a.9.9 0 0 0 .38.317c.042.019.123.045.328.06a14 14 0 0 0 .939.017h4.213c1.682 0 2.283-.014 2.78-.204a3.1 3.1 0 0 0 1.227-.855c.35-.401.571-.96 1.153-2.538l.435-1.179c.24-.649.398-1.08.487-1.412.089-.328.078-.449.067-.497a.9.9 0 0 0-.372-.552c-.04-.028-.149-.084-.486-.125-.342-.041-.8-.057-1.491-.078zM10 19.25a1.75 1.75 0 1 1-3.5 0 1.75 1.75 0 0 1 3.5 0M16.75 21a1.75 1.75 0 1 0 0-3.5 1.75 1.75 0 0 0 0 3.5"})})},215402:(e,t,r)=>{r.d(t,{Icon24SmileOutline:()=>s});var i=r(474848),o=(r(296540),r(506447));const s=e=>(0,i.jsx)(o.SvgIconRootV2,{viewBox:"0 0 24 24",width:24,height:24,vkuiIconId:"smile_outline_24",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,i.jsx)("path",{d:"M8.438 14.297a.9.9 0 0 1 1.259.133c.013.016.196.223.53.432.383.24.97.488 1.773.488a3.3 3.3 0 0 0 1.773-.488c.191-.12.382-.26.53-.432a.9.9 0 0 1 1.4 1.132 4 4 0 0 1-.976.826A5.1 5.1 0 0 1 12 17.15a5.1 5.1 0 0 1-2.727-.762 4 4 0 0 1-.976-.826.9.9 0 0 1 .14-1.265Zm1.812-4.047a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0M15 11.5A1.25 1.25 0 1 0 15 9a1.25 1.25 0 0 0 0 2.5m-3-9.4c-5.468 0-9.9 4.432-9.9 9.9s4.432 9.9 9.9 9.9 9.9-4.432 9.9-9.9-4.432-9.9-9.9-9.9M3.9 12a8.1 8.1 0 1 1 16.2 0 8.1 8.1 0 0 1-16.2 0",clipRule:"evenodd"})})},216319:(e,t,r)=>{r.d(t,{Icon24StickerOutline:()=>s});var i=r(474848),o=(r(296540),r(506447));const s=e=>(0,i.jsx)(o.SvgIconRootV2,{viewBox:"0 0 24 24",width:24,height:24,vkuiIconId:"sticker_outline_24",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M11.639 2.106a.9.9 0 0 1 .668.263l9.324 9.324a.9.9 0 0 1 .262.668A9.87 9.87 0 0 1 19 19.001a9.87 9.87 0 0 1-7 2.899A9.87 9.87 0 0 1 5 19a9.87 9.87 0 0 1-2.9-7c0-2.734 1.11-5.21 2.9-7a9.87 9.87 0 0 1 6.639-2.894m-1.301 1.965a8.1 8.1 0 0 0-4.066 2.201A8.07 8.07 0 0 0 3.9 12c0 2.237.906 4.26 2.372 5.727A8.07 8.07 0 0 0 12 20.1a8.07 8.07 0 0 0 5.727-2.373 8.1 8.1 0 0 0 2.202-4.065A8 8 0 0 1 18 13.9a7.88 7.88 0 0 1-5.586-2.314A7.88 7.88 0 0 1 10.1 6c0-.665.082-1.311.238-1.93Zm1.71.585A6 6 0 0 0 11.9 6c0 1.685.682 3.208 1.787 4.313A6.08 6.08 0 0 0 18 12.1a6 6 0 0 0 1.344-.148z",clipRule:"evenodd"})})},646214:(e,t,r)=>{r.d(t,{Icon24StickerSmileOutline:()=>s});var i=r(474848),o=(r(296540),r(506447));const s=e=>(0,i.jsxs)(o.SvgIconRootV2,{viewBox:"0 0 24 24",width:24,height:24,vkuiIconId:"sticker_smile_outline_24",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:[(0,i.jsx)("path",{d:"M11.295 10.25a1.256 1.256 0 0 1-1.255 1.251c-.69 0-1.248-.56-1.245-1.25C8.798 9.56 9.36 9 10.05 9s1.248.56 1.245 1.25m4.244.251c.69 0 1.25-.56 1.254-1.25A1.244 1.244 0 0 0 15.549 8c-.69 0-1.251.56-1.254 1.25a1.244 1.244 0 0 0 1.244 1.251"}),(0,i.jsx)("path",{fillRule:"evenodd",d:"m11.452 21.295-.005-.025-.399.056c-.845.12-1.406.198-1.906.167a4.89 4.89 0 0 1-4.296-3.245c-.167-.472-.244-1.033-.361-1.879l-.662-4.784c-.149-1.076-.268-1.939-.308-2.644-.04-.724-.003-1.361.208-1.972a4.9 4.9 0 0 1 1.828-2.42c.53-.37 1.132-.58 1.84-.74.689-.155 1.55-.276 2.627-.427l5.096-.717c.783-.11 1.302-.183 1.765-.16a4.885 4.885 0 0 1 4.394 3.317c.148.44.22.96.328 1.742l.02.142h.002l.247 1.655q.036.245.031.483c.082.726.117 1.292.09 1.816a9.93 9.93 0 0 1-6.718 8.896c-.765.26-1.666.407-3.1.612zm5.336-16.992c-.27-.013-.607.03-1.53.16l-4.954.696c-1.124.158-1.914.27-2.522.407-.599.135-.945.278-1.202.458a3.1 3.1 0 0 0-1.156 1.53c-.103.298-.146.67-.112 1.282.035.623.143 1.413.299 2.537l.64 4.635c.139.996.194 1.36.291 1.635a3.09 3.09 0 0 0 2.718 2.053c.292.018.656-.028 1.652-.168l.17-.024.82-.116 1.603-.283c.6-.106 1-.68.893-1.28l-.236-1.324c-1.403.152-3.005.008-4.27-.857a.9.9 0 0 1 1.017-1.487c.817.559 2.008.694 3.23.534a4.41 4.41 0 0 1 3.43-3.475l1.655-.345c.48-.1.824-.499.872-.965a100 100 0 0 0-.263-1.989c-.128-.922-.178-1.258-.265-1.515a3.09 3.09 0 0 0-2.78-2.1Zm-.576 13.853a8.13 8.13 0 0 0 3.885-5.677 3 3 0 0 1-.51.155l-1.655.345a2.606 2.606 0 0 0-2.034 3.008l.271 1.52q.059.328.043.649",clipRule:"evenodd"})]})},34856:(e,t,r)=>{r.d(t,{Icon24StorefrontOutline:()=>s});var i=r(474848),o=(r(296540),r(506447));const s=e=>(0,i.jsxs)(o.SvgIconRootV2,{viewBox:"0 0 24 24",width:24,height:24,vkuiIconId:"storefront_outline_24",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:[(0,i.jsx)("path",{fillRule:"evenodd",d:"M7 14a.9.9 0 0 1 .9.9v4.2h8.2v-4.2a.9.9 0 0 1 1.8 0V20a.9.9 0 0 1-.9.9H7a.9.9 0 0 1-.9-.9v-5.1A.9.9 0 0 1 7 14",clipRule:"evenodd"}),(0,i.jsx)("path",{fillRule:"evenodd",d:"M3 20a.9.9 0 0 1 .9-.9h16.2a.9.9 0 1 1 0 1.8H3.9A.9.9 0 0 1 3 20m13.9-10a1.1 1.1 0 0 0 2.2 0h1.8a2.9 2.9 0 0 1-5.8 0z",clipRule:"evenodd"}),(0,i.jsx)("path",{fillRule:"evenodd",d:"M16 9.1a.9.9 0 0 1 .9.9 1.1 1.1 0 0 0 2.2 0 .9.9 0 1 1 1.8 0 2.9 2.9 0 0 1-5.8 0 .9.9 0 0 1 .9-.9",clipRule:"evenodd"}),(0,i.jsx)("path",{fillRule:"evenodd",d:"M12 9.1a.9.9 0 0 1 .9.9 1.1 1.1 0 0 0 2.2 0 .9.9 0 1 1 1.8 0 2.9 2.9 0 0 1-5.8 0 .9.9 0 0 1 .9-.9",clipRule:"evenodd"}),(0,i.jsx)("path",{fillRule:"evenodd",d:"M8 9.1a.9.9 0 0 1 .9.9 1.1 1.1 0 0 0 2.2 0 .9.9 0 1 1 1.8 0 2.9 2.9 0 0 1-5.8 0 .9.9 0 0 1 .9-.9",clipRule:"evenodd"}),(0,i.jsx)("path",{fillRule:"evenodd",d:"M4 9.1a.9.9 0 0 1 .9.9 1.1 1.1 0 0 0 2.2 0 .9.9 0 0 1 1.8 0 2.9 2.9 0 0 1-5.8 0 .9.9 0 0 1 .9-.9",clipRule:"evenodd"}),(0,i.jsx)("path",{fillRule:"evenodd",d:"M8.703 3.1h6.594c.553 0 1.019-.001 1.453.137a2.9 2.9 0 0 1 1.033.585c.342.301.581.7.865 1.175l.056.094 1.612 2.686.027.045c.143.239.264.44.352.66q.116.293.167.604c.038.234.038.47.038.747V10h-1.8v-.114c0-.358-.003-.438-.014-.51a1 1 0 0 0-.064-.228c-.027-.068-.066-.138-.25-.445L17.16 6.017c-.37-.618-.462-.752-.566-.843a1.1 1.1 0 0 0-.392-.222c-.131-.042-.294-.052-1.014-.052H8.812c-.72 0-.883.01-1.014.052a1.1 1.1 0 0 0-.392.222c-.104.091-.196.225-.566.843L5.228 8.703c-.185.307-.223.377-.25.445a1 1 0 0 0-.064.228c-.011.072-.014.152-.014.51V10H3.1v-.167c0-.278 0-.513.038-.747a3 3 0 0 1 .167-.603c.088-.22.209-.422.352-.66l.027-.046L5.296 5.09l.056-.094c.284-.474.523-.874.865-1.175a2.9 2.9 0 0 1 1.033-.585c.434-.138.9-.138 1.453-.137Z",clipRule:"evenodd"})]})},729814:(e,t,r)=>{r.d(t,{Icon24UgcStickerOutline:()=>s});var i=r(474848),o=(r(296540),r(506447));const s=e=>(0,i.jsx)(o.SvgIconRootV2,{viewBox:"0 0 24 24",width:24,height:24,vkuiIconId:"ugc_sticker_outline_24",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M13.481 3.562a1.85 1.85 0 0 0-1.403-.56c-4.963.228-9.045 4.133-9.045 8.592 0 1.527.485 2.952 1.318 4.16-.04.476-.178.986-.382 1.531-.186.496-.406.973-.632 1.462q-.111.24-.223.486c-.394.865.29 1.801 1.194 1.766 2.098-.081 3.83-.6 5.035-1.69 1.002.308 2.079.474 3.199.474 4.124 0 7.977-2.28 9.295-5.631.403-1.024.008-2.063-.635-2.718zM11.2 4.9c-3.67.603-6.362 3.606-6.362 6.695 0 1.222.414 2.37 1.149 3.347.117.155.18.345.18.539 0 .86-.229 1.691-.507 2.434-.156.415-.337.83-.515 1.219 1.595-.191 2.637-.71 3.267-1.442a.9.9 0 0 1 .999-.257 9 9 0 0 0 3.132.551c3.401 0 6.37-1.81 7.484-4.182-1.345 0-2.412-.001-3.273-.071-.891-.073-1.642-.224-2.326-.572a5.9 5.9 0 0 1-2.584-2.575c-.349-.682-.5-1.43-.573-2.319-.071-.87-.071-1.949-.071-3.314zm8.04 7.105-6.236-6.358c.002 1.04.012 1.83.065 2.474.063.777.185 1.262.382 1.649a4.1 4.1 0 0 0 1.796 1.79c.387.196.874.317 1.654.38.616.05 1.366.062 2.338.065Z",clipRule:"evenodd"})})}}])}if("undefined"!=typeof window&&window.partConfigEnabled?.("static_loading_execute_errors"))try{e(),window.stManager?.done?.("dist/web/chunks/42448883.71e2f6ab.js")}catch(e){throw window.stManager?.fail?.("dist/web/chunks/42448883.71e2f6ab.js",e),e}else e(),"undefined"!=typeof window&&window.stManager?.done?.("dist/web/chunks/42448883.71e2f6ab.js");