function e(){"use strict";(self.webpackChunkvkweb=self.webpackChunkvkweb||[]).push([[66460],{807043:(e,t,a)=>{a.d(t,{AudioPlayerContext:()=>i});var o=a(296540),r=a(738313);const i=(0,o.createContext)({status:r.AudioPlayerStatus.NO,currentAudio:null,currentPlaylist:null,currentAudioProgress:0,currentAudioVolume:0,audioPlayerContext:""})},738313:(e,t,a)=>{a.d(t,{AudioPlayerStatus:()=>o,RADIO_PLAYLIST_ID:()=>r});var o=function(e){return e.NO="no",e.INIT="init",e.LOADING="loading",e.PLAYING="playing",e.PAUSED="paused",e.ENDED="ended",e.STOPPED="stopped",e}({});const r=-110},29560:(e,t,a)=>{a.d(t,{useAudioPlayer:()=>i});var o=a(296540),r=a(807043);const i=()=>(0,o.useContext)(r.AudioPlayerContext)},767514:(e,t,a)=>{a.d(t,{Catalog:()=>p});var o=a(474848),r=a(296540),i=a(293721),n=a(308631),s=a(705470),l=a(418755),c=a(351137),d=a(220208),u=a(172656),_=a(194528);const p=({blockLayoutResolver:e,catalog:t,nextFromSections:a,loadingBlockIds:p,extendedData:g,onGetSection:m=()=>{},onGetBlockItems:v=()=>{},onPendingSection:S=()=>{},onErrorSection:h=()=>{},onSelectAction:C,onCatalogUpdate:f=()=>{},show:I=!0,island:E,sliderProps:k,collectClick:y,collectView:T,catalogVars:A,platformVars:R,blockResolvers:x,isIndexUsedAsBlockKey:L,supportSubsections:O,withStretchedPlaceholders:b,actionProps:w,loaderSpacingBeneath:V,internalSwitchSection:P,loaderLineHeight:N,appCatalogService:B=n.appCatalogService})=>{const M=(0,i.useStore)(B.catalogService.$catalog),D=(0,i.useStore)(B.catalogService.$sections),j=(0,i.useStore)(B.catalogService.$sectionResponse),G=(0,i.useUnit)(B.catalogService.$catalogGetBlockItemsResponse),F=(0,i.useStore)(B.catalogService.$isSectionPending),U=(0,i.useStore)(B.catalogService.$fetchSectionError),H=(0,i.useStore)(B.actionsService.$selectedAction),$=(0,i.useStore)(B.catalogService.$updatedCatalog),z=(0,i.useStore)(B.catalogService.$lastSectionId),W=(0,i.useStore)(B.catalogService.$nextFrom),K=(0,i.useStore)(B.layoutService.$snackbar),Y=(0,i.useStore)(B.layoutService.$popout),q=(0,i.useEvent)(B.catalogService.fireLoadingBlockIds),Q=(0,i.useEvent)(B.catalogService.fireClearSectionResponse),Z=(0,i.useEvent)(B.catalogService.fireClearUpdatedCatalog),X=(0,i.useEvent)(B.catalogService.fireSetCatalog),J=(0,i.useEvent)(B.layoutService.setSnackbar),ee=(0,i.useEvent)(B.pageService.fireSetCacheId),te=(0,i.useEvent)(B.actionsService.selectAction),ae=(0,i.useEvent)(B.pageService.fireSetPageId),oe=(0,i.useEvent)(B.pageService.fireSetCatalogType),re=(0,i.useEvent)(B.storiesService.fireSetStoriesOpener),ie=(0,i.useEvent)(B.catalogService.fireSetSections),ne=(0,i.useEvent)(B.fireSetExtendedData),se=(0,i.useEvent)(B.catalogService.fireClearCatalogGetBlockItemsResponse),le=(0,r.useMemo)((()=>{if(O){const{currentSubsection:e}=(0,l.getCurrentSubsectionFromCatalogById)({catalog:M,subsectionId:M?.default_section});if(e)return e}const e=M?.sections?.find((({id:e})=>e===M?.default_section));if(e)return e}),[M?.sections,M?.default_section,O]),ce=(0,r.useMemo)((()=>(0,l.unionBlocksByLayout)(le?[le,...D]:D)),[le,D,le?.blocks?.length]);if((0,r.useEffect)((()=>{J(null)}),[le]),(0,r.useEffect)((()=>{p&&q(p)}),[p]),(0,r.useEffect)((()=>{ee(A?.cacheId||"")}),[A?.cacheId]),(0,r.useEffect)((()=>{j&&(m(j),Q())}),[j]),(0,r.useEffect)((()=>{G&&G.block&&(v(G),se())}),[G]),(0,r.useEffect)((()=>{S(F)}),[F]),(0,r.useEffect)((()=>{h(U)}),[U]),(0,r.useEffect)((()=>{H&&C&&C(H)}),[H]),(0,r.useEffect)((()=>{(le||D.length>0)&&te(null)}),[le,D]),(0,r.useEffect)((()=>{if($){const e=window.location.href;f({id:e,updatedCatalog:$,cacheId:A?.cacheId||""}),Z()}}),[$]),(0,r.useEffect)((()=>{t&&X(t)}),[t]),(0,r.useEffect)((()=>{g&&ne(g)}),[g]),(0,r.useEffect)((()=>{a&&ie(a)}),[a]),(0,r.useEffect)((()=>{A?.pageId&&ae(A.pageId)}),[A?.pageId]),(0,r.useEffect)((()=>{A?.catalogType&&oe(A.catalogType)}),[A?.catalogType]),(0,r.useEffect)((()=>{R?.openStories&&re(R.openStories)}),[R?.openStories]),(0,r.useEffect)((()=>()=>{X({sections:[],default_section:""})}),[]),!I)return null;const de=t=>t.map(((t,a)=>{if(!t?.id)return null;const o=e(t),i=L?`section_${a}`:`${t.id}_section_${a}`;return(0,r.createElement)(o,{...t,...w,blockIndex:a,key:i})}));return(0,o.jsx)(c.CatalogConfigProvider,{...R,blockResolvers:x,appCatalogService:B,internalSwitchSection:P,withStretchedPlaceholders:b,sliderProps:k,children:(0,o.jsx)(c.CatalogLogProvider,{collectClick:y,collectView:T,children:(0,o.jsx)(c.CatalogOwnerProvider,{children:(0,o.jsx)(d.SplitLayout,{popout:Y,children:(0,o.jsxs)(d.SplitCol,{children:[E?(0,l.splitCatalogBlocksByIsland)(ce).map(((e,t,a)=>(0,o.jsxs)(u.Group,{mode:"card",children:[de(e),a.length-1===t&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.NextFrom,{nextFrom:W,sectionId:z,rootMargin:A?.rootMargin,loaderLineHeight:N},z),V&&(0,o.jsx)(_.Spacing,{size:V})]})]},`${e[0]?.id}_section_group_${t}`))):de(ce),!E&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.NextFrom,{nextFrom:W,sectionId:z,loaderLineHeight:N},z),V&&(0,o.jsx)(_.Spacing,{size:V})]}),K]})})})})})}},493026:(e,t,a)=>{a(474848),a(296540),a(351137),a(767514),a(861743)},55617:(e,t,a)=>{a.d(t,{addAudio:()=>V,addFriend:()=>s,addRecent:()=>p,addToPlaylist:()=>v,addVideo:()=>S,agreeBlurRestriction:()=>D,clearSearchRecent:()=>c,deleteAudio:()=>P,deleteFriend:()=>l,deleteVideo:()=>h,faveAddPost:()=>T,faveAddProduct:()=>u,faveAddVideo:()=>C,faveRemovePost:()=>A,faveRemoveProduct:()=>_,faveRemoveVideo:()=>E,followRadioStation:()=>N,getPlaylistsByVideoExtended:()=>x,getPlaylistsExtended:()=>O,getSection:()=>i,getStories:()=>n,getVideosFromAlbum:()=>L,groupsRemoveRecent:()=>d,likeAdd:()=>g,likeDelete:()=>m,markNotInterested:()=>f,markNotOwnerRecommend:()=>I,removeFromPlaylist:()=>k,removeSearchRecentQuery:()=>j,removeViewingHistoryRecords:()=>y,restoreAudio:()=>M,saveSelection:()=>R,subscribeToVideoPlaylist:()=>b,unfollowRadioStation:()=>B,unsubscribeFromVideoPlaylist:()=>w});var o=a(957994),r=a(49932);a(869071);function i(e,t){return(0,o.api)(r.CATALOG_API_METHODS.GET_SECTION,{...e},void 0,t)}function n(e){return(0,o.api)(r.CATALOG_API_METHODS.GET_STORIES,{...e})}function s(e){return(0,o.api)(r.CATALOG_API_METHODS.ADD_FRIEND,e)}function l(e){return(0,o.api)(r.CATALOG_API_METHODS.DELETE_FRIEND,e)}function c(e){return(0,o.api)(r.CATALOG_API_METHODS.CLEAR_RECENT,{...e})}function d(e){return(0,o.api)(r.CATALOG_API_METHODS.GROUPS_REMOVE_RECENT,{...e})}function u(e){return(0,o.api)(r.CATALOG_API_METHODS.FAVE_ADD_PRODUCT,{...e})}function _(e){return(0,o.api)(r.CATALOG_API_METHODS.FAVE_REMOVE_PRODUCT,{...e})}function p(e){return(0,o.api)(r.CATALOG_API_METHODS.ADD_RECENT,e)}function g(e){return(0,o.api)(r.CATALOG_API_METHODS.LIKES_ADD,e)}function m(e){return(0,o.api)(r.CATALOG_API_METHODS.LIKES_DELETE,e)}function v(e){return(0,o.api)(r.CATALOG_API_METHODS.ADD_VIDEO_TO_PLAYLIST,e)}function S(e){return(0,o.api)(r.CATALOG_API_METHODS.ADD_VIDEO,e)}function h(e){return(0,o.api)(r.CATALOG_API_METHODS.DELETE_VIDEO,e)}function C(e){return(0,o.api)(r.CATALOG_API_METHODS.ADD_VIDEO_TO_FAVE,e)}function f(e){return(0,o.api)(r.CATALOG_API_METHODS.MARK_VIDEO_NOT_INTERESTED,e)}function I(e){return(0,o.api)(r.CATALOG_API_METHODS.NOT_RECOMMEND_OWNER,e)}function E(e){return(0,o.api)(r.CATALOG_API_METHODS.REMOVE_VIDEO_FROM_FAVE,e)}function k(e){return(0,o.api)(r.CATALOG_API_METHODS.REMOVE_VIDEO_FROM_PLAYLIST,e)}function y(e){return(0,o.api)(r.CATALOG_API_METHODS.REMOVE_VIEWING_HISTORY_RECORDS,e)}function T(e){return(0,o.api)(r.CATALOG_API_METHODS.FAVE_ADD_POST,e)}function A(e){return(0,o.api)(r.CATALOG_API_METHODS.FAVE_REMOVE_POST,e)}function R(e){return(0,o.api)(r.CATALOG_API_METHODS.SAVE_SELECTION,e)}function x(e,t){return(0,o.api)(r.CATALOG_API_METHODS.GET_PLAYLISTS_BY_VIDEO,e,void 0,t)}function L(e,t){return(0,o.api)(r.CATALOG_API_METHODS.GET_VIDEOS_FROM_ALBUM,e,void 0,t)}function O(e,t){return(0,o.api)(r.CATALOG_API_METHODS.GET_PLAYLISTS,e,void 0,t)}function b(e){return(0,o.api)(r.CATALOG_API_METHODS.SUBSCRIBE_TO_ALBUM,e)}function w(e){return(0,o.api)(r.CATALOG_API_METHODS.UNSUBSCRIBE_TO_ALBUM,e)}function V(e,t){return(0,o.api)(r.CATALOG_API_METHODS.ADD_AUDIO,e,{version:"5.251"},t)}function P(e,t){return(0,o.api)(r.CATALOG_API_METHODS.DELETE_AUDIO,e,{version:"5.251"},t)}function N(e,t){return(0,o.api)(r.CATALOG_API_METHODS.FOLLOW_RADIO_STATION,e,void 0,t)}function B(e,t){return(0,o.api)(r.CATALOG_API_METHODS.UNFOLLOW_RADIO_STATION,e,void 0,t)}function M(e,t){return(0,o.api)(r.CATALOG_API_METHODS.RESTORE_AUDIO,e,void 0,t)}function D(e){return(0,o.api)(r.CATALOG_API_METHODS.AGREE_BLUR_RESTRICTION,e)}function j(e){return(0,o.api)(r.CATALOG_API_METHODS.REMOVE_SEARCH_RECENT_QUERY,e)}},165077:(e,t,a)=>{a.d(t,{CatalogSnackbar:()=>s});var o=a(474848),r=a(351137),i=a(25114),n=a(620360);const s=({event:e,actionLink:t,...a})=>{const{isError:s,content:l,onActionClick:c}=a,{navGo:d}=(0,r.useCatalogConfig)();return(0,o.jsx)(n.Snackbar,{layout:"vertical",before:s?void 0:(0,i.getSnackbarStatusIcon)(e),onActionClick:t?()=>{d(t)}:c,content:e?(0,i.getSnackbarStatusText)(e):l,...a})}},158479:(e,t,a)=>{a.d(t,{CatalogSnackbar:()=>o.CatalogSnackbar});var o=a(165077)},25114:(e,t,a)=>{a.d(t,{getAppPromoSlowYtSnackbarProps:()=>m,getSnackbarStatusIcon:()=>p,getSnackbarStatusText:()=>_,isAppPromoSlowYtSnackbarEnabled:()=>g});var o=a(474848),r=a(866467),i=a(373594),n=a(762964),s=a(16496),l=a(723723),c=a(540462),d=a(558294),u=a(101272);const _=e=>{switch(e){case i.SNACKBAR_EVENTS.ADD_TO_FAVE:return g()?(0,r.getLang)("mobile_video_app_promo_slow_yt_snackbar_watch_later_text"):(0,r.getLang)("mobile_video_added_to_watch_later");case i.SNACKBAR_EVENTS.REMOVE_FROM_FAVE:return(0,r.getLang)("mobile_video_removed_from_watch_later");case i.SNACKBAR_EVENTS.ADD_TO_MY:return(0,r.getLang)("mobile_video_added_to_my_videos");case i.SNACKBAR_EVENTS.REMOVE_FROM_MY:return(0,r.getLang)("mobile_video_removed_from_my_videos");case i.SNACKBAR_EVENTS.REMOVE_FROM_GROUP:return(0,r.getLang)("mobile_video_removed_from_group");case i.SNACKBAR_EVENTS.ADD_TO_PLAYLIST:return(0,r.getLang)("mobile_video_added_to_playlist");case i.SNACKBAR_EVENTS.ADD_TO_PLAYLISTS:return(0,r.getLang)("mobile_video_added_to_playlists");case i.SNACKBAR_EVENTS.REMOVE_FROM_PLAYLIST:return(0,r.getLang)("mobile_video_removed_from_playlist");case i.SNACKBAR_EVENTS.REMOVE_FROM_PLAYLISTS:return(0,r.getLang)("mobile_video_removed_from_playlists");case i.SNACKBAR_EVENTS.COPY_LINK:return(0,r.getLang)("mobile_video_link_copied");case i.SNACKBAR_EVENTS.COPY_ERID:return(0,r.getLang)("mobile_video_erid_copied");case i.SNACKBAR_EVENTS.ORD_ADDED:return(0,r.getLang)("mobile_video_ord_snackbar_added");case i.SNACKBAR_EVENTS.DELETE_PLAYLIST:return(0,r.getLang)("mobile_video_playlist_deleted");case i.SNACKBAR_EVENTS.PLAYLIST_SAVED:return(0,r.getLang)("mobile_video_playlist_saved");case i.SNACKBAR_EVENTS.REMOVE_FROM_HISTORY:return(0,r.getLang)("mobile_video_removed_from_history");case i.SNACKBAR_EVENTS.CLEAR_VIEWING_HISTORY:return(0,r.getLang)("mobile_video_cleared_history");case i.SNACKBAR_EVENTS.ONBOARDING_RELOAD_CATALOG:return(0,r.getLang)("mobile_video_onboarding_snackbar_refresh_text");case i.SNACKBAR_EVENTS.UPLOAD_SUCCESS:return(0,r.getLang)("mobile_video_showcase_form_file_upload_success");case i.SNACKBAR_EVENTS.UPLOAD_PROGRESS:return(0,r.getLang)("mobile_video_showcase_form_upload_in_progress");case i.SNACKBAR_EVENTS.VIDEO_SAVED:return(0,r.getLang)("mobile_video_saved");case i.SNACKBAR_EVENTS.ERROR:return(0,r.getLang)("mobile_video_global_error")}},p=e=>{if(e===i.SNACKBAR_EVENTS.ADD_TO_FAVE&&g())return(0,o.jsx)(d.Icon40VkVideoLogo,{});switch(e){case i.SNACKBAR_EVENTS.ADD_TO_FAVE:case i.SNACKBAR_EVENTS.REMOVE_FROM_FAVE:return(0,o.jsx)(n.Icon24ClockOutline,{className:(0,l.getColorClass)("color_accent_blue")});default:return(0,o.jsx)(s.Icon24CheckCircleOn,{className:(0,l.getColorClass)("color_accent_blue")})}};function g(){return(0,c.partConfigEnabled)("feed_mvk_vkvideo_app_promo_slow_yt_snackbar_watch_later")}function m(){return{event:i.SNACKBAR_EVENTS.ADD_TO_FAVE,action:(0,r.getLang)("mobile_video_app_promo_slow_yt_snackbar_watch_later_action"),layout:"horizontal",onActionClick:()=>{(0,u.saveStatlogEvents)({name:i.APP_PROMO_SLOW_YT_SNACKBAR_EVENT_TYPE,value:i.AppPromoSlowYtSnackbarEventTypes.MVK_APP_PROMO_SLOW_YT_SNACKBAR_CLICK,keys:[window.cur.screen]}),location.href="https://trk.mail.ru/c/vj7n7y5?mt_js=0"},onClose:()=>{(0,u.saveStatlogEvents)({name:i.APP_PROMO_SLOW_YT_SNACKBAR_EVENT_TYPE,value:i.AppPromoSlowYtSnackbarEventTypes.MVK_APP_PROMO_SLOW_YT_SNACKBAR_CLOSE,keys:[window.cur.screen]})}}}},791893:(e,t,a)=>{a.d(t,{IconButton:()=>s});var o=a(474848),r=a(8520),i=a(271036),n=a(141815);const s=({className:e,children:t,...a})=>(0,o.jsx)(i.IconButton,{className:(0,r.classNames)(n.default.button,e),...a,children:t})},641412:(e,t,a)=>{a.d(t,{IconButton:()=>o.IconButton});var o=a(791893)},843349:(e,t,a)=>{a.d(t,{VirtualList:()=>d});var o=a(474848),r=a(296540),i=a(174269),n=a(333962),s=a(8520),l=a(293721),c=a(840023);const d=({Item:e,items:t})=>{const{appCatalogService:a}=(0,i.useCatalogConfig)(),[d,u]=(0,r.useState)(!1),[_,p]=(0,r.useState)(0),g=(0,r.useRef)(null),m=(0,r.useRef)(null),v=(0,l.useStore)(a.postsService.$postExpandedStates);(0,r.useEffect)((()=>{const e=g.current;if(!e)return;const t=(0,s.throttle)((()=>{const t=(0,n.getScrollTop)();u((a=>!t&&a?a:t<=e.offsetTop+e.offsetHeight+800&&t+window.innerHeight>=e.offsetTop-800))}),50);return t(),window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)}),[]);const S=(0,r.useCallback)((0,s.throttle)((e=>{const t=e.contentRect.height??e.target.clientHeight;t&&p(t)}),50),[]);(0,r.useEffect)((()=>{if(!m.current||!d||_)return;const e=new ResizeObserver((e=>{e.forEach(S)}));return e.observe(m.current),()=>e.disconnect()}),[S,d]),(0,r.useEffect)((()=>{d&&m.current&&p(m.current.clientHeight)}),[v]);const h={"--virtual-list-height":_?`${_}px`:"100%"};return(0,o.jsx)("div",{ref:g,className:c.default.root,style:h,children:(0,o.jsx)("div",{className:(0,s.classNames)(_&&c.default.viewport),children:d&&(0,o.jsx)("div",{ref:m,children:t.map((t=>(0,r.createElement)(e,{...t,key:t.id})))})})})}},368044:(e,t,a)=>{a.d(t,{VirtualList:()=>o.VirtualList});var o=a(843349)},643400:(e,t,a)=>{a.d(t,{CatalogSnackbar:()=>o.CatalogSnackbar,VirtualList:()=>r.VirtualList});a(641412);var o=a(158479),r=a(368044)},373594:(e,t,a)=>{a.d(t,{APP_PROMO_SLOW_YT_SNACKBAR_EVENT_TYPE:()=>n,AppPromoSlowYtSnackbarEventTypes:()=>s,CRITERIA_PARAMS_REG_EXP:()=>o,FAVORITE_SOURCES:()=>i,SNACKBAR_EVENTS:()=>r});const o=/^\w\[(.*)]$/,r={ADD_TO_FAVE:"ADD_TO_FAVE",REMOVE_FROM_FAVE:"REMOVE_FROM_FAVE",ADD_TO_MY:"ADD_TO_MY",REMOVE_FROM_MY:"REMOVE_FROM_MY",REMOVE_FROM_GROUP:"REMOVE_FROM_GROUP",ADD_TO_PLAYLIST:"ADD_TO_PLAYLIST",ADD_TO_PLAYLISTS:"ADD_TO_PLAYLISTS",REMOVE_FROM_PLAYLIST:"REMOVE_FROM_PLAYLIST",REMOVE_FROM_PLAYLISTS:"REMOVE_FROM_PLAYLISTS",DELETE_PLAYLIST:"DELETE_PLAYLIST",PLAYLIST_SAVED:"PLAYLIST_SAVED",COPY_LINK:"COPY_LINK",COPY_ERID:"COPY_ERID",ORD_ADDED:"ORD_ADDED",REMOVE_FROM_HISTORY:"REMOVE_FROM_HISTORY",CLEAR_VIEWING_HISTORY:"CLEAR_VIEWING_HISTORY",ONBOARDING_RELOAD_CATALOG:"ONBOARDING_RELOAD_CATALOG",UPLOAD_SUCCESS:"UPLOAD_SUCCESS",UPLOAD_PROGRESS:"UPLOAD_PROGRESS",VIDEO_SAVED:"VIDEO_SAVED",ERROR:"ERROR"},i={VIDEO_PLAYER_MODAL:"video_player_modal",VIDEO_PLAYER_BUTTON:"video_player_button",VIDEO_CARD_MODAL:"video_card_modal",VIDEO_CARD_BUTTON:"video_card_button",SNACKBAR:"snackbar"},n="mvk_video_app_promo_slow_yt_snackbar_event";var s=function(e){return e.MVK_APP_PROMO_SLOW_YT_SNACKBAR_SHOW="mvk_app_promo_slow_yt_snackbar_show",e.MVK_APP_PROMO_SLOW_YT_SNACKBAR_CLOSE="mvk_app_promo_slow_yt_snackbar_close",e.MVK_APP_PROMO_SLOW_YT_SNACKBAR_CLICK="mvk_app_promo_slow_yt_snackbar_click",e}({})},994591:(e,t,a)=>{a(474848),a(174269),a(866467),a(412888),a(837046),a(815138),a(724244)},853649:(e,t,a)=>{a.d(t,{getCatalogUserDescription:()=>n});var o=a(474848),r=a(412888),i=a(837046);const n=({friendsDescription:e,descriptions:t,friendsPhotos:a,userStackSize:n="s"})=>{const s=[],l=e?.text,[c,d]=t?.map((e=>e.text))||[];return!c||a.length&&!l||s.push((0,o.jsx)(r.TextClamp,{"data-testid":"catalog_user_list_description",lines:1,children:c})),d?s.push((0,o.jsx)(r.TextClamp,{lines:1,children:d})):a.length&&(l||c)&&s.push((0,o.jsx)(i.UsersStack,{photos:a,size:n,children:(0,o.jsx)(r.TextClamp,{lines:1,children:l||c})})),s}},629261:(e,t,a)=>{a(994591),a(853649)},247368:(e,t,a)=>{a.d(t,{prepareSpellcheck:()=>o});const o=e=>{const t={...e};return t.title&&(t.title=t.title.replace(/\$query/g,"")),t.suggest&&(t.suggest=t.suggest.replace(/\$search_action/g,"")),t}},962271:(e,t,a)=>{a.d(t,{APP_PROMO_SLOW_YT_SNACKBAR_EVENT_TYPE:()=>r.APP_PROMO_SLOW_YT_SNACKBAR_EVENT_TYPE,AppPromoSlowYtSnackbarEventTypes:()=>r.AppPromoSlowYtSnackbarEventTypes,FAVORITE_SOURCES:()=>r.FAVORITE_SOURCES,SNACKBAR_EVENTS:()=>r.SNACKBAR_EVENTS,VirtualList:()=>o.VirtualList,chunks:()=>i.chunks,getObjectPropertyNumber:()=>i.getObjectPropertyNumber,getObjectPropertyString:()=>i.getObjectPropertyString,getUrlWithTrackCode:()=>i.getUrlWithTrackCode});var o=a(643400),r=(a(629261),a(373594)),i=a(665606)},665606:(e,t,a)=>{a.d(t,{chunks:()=>u,extractIds:()=>d,fromQueryObjectField:()=>c,getAvatarOwnerSrc:()=>_,getObjectPropertyNumber:()=>g,getObjectPropertyString:()=>p,getUrlWithTrackCode:()=>l});var o=a(373594),r=a(22421),i=a(174269),n=a(8520);const s=e=>{switch(e){case i.CatalogType.SEARCH:return"search_track_code";case i.CatalogType.VIDEO:return"video_track_code";case i.CatalogType.GROUPS:return"trackcode";default:return"search_track_code"}},l=(e,t,a)=>t&&a?(0,r.makeUrl)(e,{[s(a)]:t,from:a}):e,c=(e="")=>{const t=decodeURI(e);let a=t;return t.startsWith("?")&&(a=a.substr(1)),a.split("&").reduce(((e,t)=>{let[a="",r=""]=t.split("=");if(o.CRITERIA_PARAMS_REG_EXP.test(a)){const e=a.match(o.CRITERIA_PARAMS_REG_EXP);a=e?.length&&e[1]?e[1]:""}return{...e,[a]:r}}),{})},d=e=>{const[t,a]=`${e}`.split("_");return[+t,+a]};function*u(e,t){for(let a=0;a<e.length;a+=t)yield e.slice(a,a+t)}const _=e=>e.photo_100||e.photo_200,p=(e,t)=>{if((0,n.isObject)(e)&&(0,n.isString)(e[t]))return e[t]},g=(e,t)=>{if((0,n.isObject)(e)&&(0,n.isNumber)(e[t]))return e[t]}},951461:(e,t,a)=>{a.d(t,{Action:()=>n});var o=a(474848),r=a(842600),i=a(296540);const n=({action:e,dataTestId:t,...a})=>{if(!e)return(0,o.jsx)(i.Fragment,{});const n=(0,r.getAction)(e);return(0,o.jsx)(n,{...a,action:e,dataTestId:t})}},766438:(e,t,a)=>{a.d(t,{BlockFilter:()=>u});var o=a(474848),r=a(296540),i=a(694992),n=a(293721),s=a(49932),l=a(351137),c=a(213442);const d=e=>`catalog-action-${e}`,u=({layout:e,action:t})=>{const{appCatalogService:a}=(0,l.useCatalogConfig)(),u=(0,n.useStore)(a.actionsService.$selectedAction);switch((0,r.useEffect)((()=>{u?.replacement_id&&document.getElementById(d(u.replacement_id))?.scrollIntoView({block:"nearest",behavior:"smooth",inline:"center"})}),[u?.replacement_id]),e){case s.CatalogBlockLayoutName.HORIZONTAL_BUTTONS:case s.CatalogBlockLayoutName.SLIDER:return(0,o.jsx)(r.Fragment,{children:(t.options||[]).map((e=>{const t=e.icon_sizes?.[0]?.url,r=u?e.replacement_id===u.replacement_id:1===e.selected;return(0,o.jsx)(i.SubnavigationButton,{"data-testid":"block_filter",id:d(e.replacement_id),className:c.default.root,selected:r,mode:r?"tertiary":"outline",before:t&&(0,o.jsx)("img",{className:c.default.icon,alt:e.text,src:t}),onClick:()=>(e=>{e.replacement_id!==u?.replacement_id&&a.actionsService.selectAction(e)})(e),children:e.text},e.replacement_id)}))});default:return(0,o.jsx)(r.Fragment,{})}}},95917:(e,t,a)=>{a.d(t,{BlockFilter:()=>o.BlockFilter});var o=a(766438)},693582:(e,t,a)=>{a.d(t,{ClearRecentGroups:()=>p});var o=a(474848),r=a(271036),i=a(723723),n=a(391329),s=a(317216),l=a(657293),c=a(351137),d=a(293721),u=a(49932),_=a(866467);const p=({action:e})=>{const{appCatalogService:t}=(0,c.useCatalogConfig)(),a=(0,c.useCollectClick)(),p=(0,d.useStore)(t.pageService.$catalogType),g=(0,l.useRefLogView)({type:s.EventItemType.CATALOG_ITEM,trackCode:e.track_code});return(0,o.jsx)(r.IconButton,{"data-testid":"clear_recent_groups",getRootRef:g,onClick:()=>{if(a({track_code:e.track_code,type:s.EventItemType.CATALOG_ITEM,action:s.SearchClickActionMap.REMOVE_RECENT}),t.catalogService.fireRemoveBlocks(e.target_block_ids||[]),p===u.CatalogType.SEARCH)return t.searchRecentService.fireClearSearchRecent({});t.searchRecentService.fireGroupsRemoveRecent({})},noPadding:!0,"aria-label":(0,_.getLang)("groups_catalog_header_aria_label_clear_recent"),children:(0,o.jsx)(n.Icon24Dismiss,{className:(0,i.getColorClass)("color_icon_secondary")})})}},738164:(e,t,a)=>{a.d(t,{ClearRecentGroups:()=>o.ClearRecentGroups});var o=a(693582)},804044:(e,t,a)=>{a.d(t,{CreatePlaylist:()=>l});var o=a(474848),r=a(303800),i=a(454154),n=a(298096),s=a(866467);const l=({action:e})=>{const t=e.owner_id??window.vk.id;return(0,o.jsx)(r.Div,{children:(0,o.jsx)(i.Button,{before:(0,o.jsx)(n.Icon24Add,{}),mode:"secondary",stretched:!0,href:`/video?action=add_playlist&owner_id=${t}`,size:"m",children:(0,s.getLang)("mobile_video_showcase_create_playlist")})})}},606784:(e,t,a)=>{a.d(t,{CreatePlaylist:()=>o.CreatePlaylist});var o=a(804044)},179068:(e,t,a)=>{a.d(t,{GroupsMyGroupsTabs:()=>u});var o=a(474848),r=a(296540),i=a(194528),n=a(774038),s=a(502656),l=a(293721),c=a(49932),d=a(351137);const u=({layout:e,action:t})=>{const{appCatalogService:a}=(0,d.useCatalogConfig)(),u=(0,l.useStore)(a.actionsService.$selectedAction);return t.options&&e===c.CatalogBlockLayoutName.LIST?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.Spacing,{size:4}),(0,o.jsx)(n.Tabs,{children:t.options.map((e=>{const t=u?e.replacement_id===u.replacement_id:1===e.selected,r=e.badge?.text?Number(e.badge.text):void 0;return(0,o.jsx)(s.TabsItem,{"data-testid":"tabs_item",id:(i=e.replacement_id,`catalog-action-${i}`),selected:t,status:r,onClick:()=>(e=>{e.replacement_id!==u?.replacement_id&&a.actionsService.selectAction(e)})(e),children:e.text},e.replacement_id);var i}))})]}):(0,o.jsx)(r.Fragment,{})}},818164:(e,t,a)=>{a.d(t,{GroupsMyGroupsTabs:()=>o.GroupsMyGroupsTabs});var o=a(179068)},14806:(e,t,a)=>{a.d(t,{HideBlock:()=>u});var o=a(474848),r=a(141575),i=a(293721),n=a(296540),s=a(866467),l=a(507852),c=a(279734),d=a(174269);const u=({action:e})=>{const{appCatalogService:t}=(0,d.useCatalogConfig)(),a=(0,i.useEvent)(t.catalogService.fireHideBlock),u=(0,n.useRef)(null),_=(0,s.getLang)("global_hide"),p=(0,n.useCallback)((()=>{e?.block_id&&a(e.block_id)}),[e.block_id]);return(0,o.jsx)(l.DropdownActionSheet,{offsetByMainAxis:-7,placement:"bottom-end",content:(0,o.jsx)(l.DropdownActionSheet.Item,{onClick:p,children:_},_),children:(0,o.jsx)(c.Link,{mode:"tertiary",getRootRef:u,children:(0,o.jsx)(r.Icon24MoreHorizontal,{})})})}},874611:(e,t,a)=>{a.d(t,{HideBlock:()=>o.HideBlock});var o=a(14806)},426718:(e,t,a)=>{a.d(t,{Onboarding:()=>m});var o=a(474848),r=a(296540),i=a(694992),n=a(454154),s=a(285056),l=a(293721),c=a(974081),d=a(586594),u=a(866467),_=a(573856),p=a(66474),g=a(174269);const m=({action:e})=>{const{appCatalogService:t}=(0,g.useCatalogConfig)(),a=(0,l.useStore)(t.onboardingService.$onboardingOptions),m=(0,l.useStore)(t.onboardingService.$onboardingStatus),v=a.some((e=>!!e.selected)),S=e.title,h=e.block_id;(0,r.useEffect)((()=>{t.onboardingService.fireInitOptions(e.options||[])}),[e.options]);return(0,o.jsxs)(o.Fragment,{children:[(m.status===_.OnboardingResponseStatus.IDLE||m.status===_.OnboardingResponseStatus.PENDING)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:p.default.options,children:a.map((e=>(0,o.jsx)(i.SubnavigationButton,{size:"m",mode:"primary",selected:!!e.selected,onClick:()=>t.onboardingService.fireToggleOption(e),children:e.text},e.replacement_id)))}),v&&(0,o.jsx)(n.Button,{onClick:()=>{const e=a.filter((e=>!!e.selected)).map((e=>e.replacement_id)).join(",");h&&t.onboardingService.fireSaveOptions({selection_ids:e,block_id:h})},loading:m.status===_.OnboardingResponseStatus.PENDING,size:"m",stretched:!0,className:p.default.saveButton,children:S})]}),m.status===_.OnboardingResponseStatus.SUCCESS&&(0,o.jsxs)("div",{className:p.default.doneBox,children:[(0,o.jsx)(c.Icon56LikeOutline,{className:p.default.doneBoxIcon}),(0,o.jsx)(s.Headline,{className:p.default.headlineDone,children:m.message})]}),m.status===_.OnboardingResponseStatus.ERROR&&(0,o.jsxs)("div",{className:p.default.doneBox,children:[(0,o.jsx)(d.Icon56ErrorOutline,{className:p.default.doneBoxIcon}),(0,o.jsx)(s.Headline,{className:p.default.headlineDone,children:(0,u.getLang)("mobile_video_global_error")})]})]})}},484331:(e,t,a)=>{a.d(t,{Onboarding:()=>o.Onboarding});var o=a(426718)},982798:(e,t,a)=>{a.d(t,{OpenSearchTab:()=>p});var o=a(474848),r=a(296540),i=a(279734),n=a(665606),s=a(317216),l=a(49932),c=a(351137),d=a(657293),u=a(444430),_=a(275370);const p=({action:e})=>{const{navGo:t}=(0,c.useCatalogConfig)(),a=(0,c.useCollectClick)(),p=(0,d.useRefLogView)({type:s.EventItemType.CATALOG_ITEM,trackCode:e.track_code}),g=(0,n.fromQueryObjectField)(window.location.search),m=(0,u.encodeUrlSearchParams)({q:g.q},"&"),v=(0,r.useMemo)((()=>{switch(e.search_tab){case"groups":return`${l.OPEN_SEARCH_TAB_ACTION_URL.GROUPS}${m}`;case"people":return`${l.OPEN_SEARCH_TAB_ACTION_URL.PEOPLE}${m}`;case"video":case"videos":return`${l.OPEN_SEARCH_TAB_ACTION_URL.VIDEO}${m}`;case"mini_apps":return`${l.OPEN_SEARCH_TAB_ACTION_URL.SERVICES}${m}`;case"games":return`${l.OPEN_SEARCH_TAB_ACTION_URL.GAMES}${m}`;case"music":return`${l.OPEN_SEARCH_TAB_ACTION_URL.MUSIC}${m}`;case"clips":return`${l.OPEN_SEARCH_TAB_ACTION_URL.CLIPS}${m}`;default:return""}}),[e]),S=(0,r.useCallback)((o=>{o.preventDefault(),a({track_code:e.track_code,type:s.EventItemType.CATALOG_ITEM,action:s.SearchClickActionMap.TAP_SHOW_ALL}),t(v)}),[e,v]);return(0,o.jsx)(i.Link,{"data-testid":"open_search_tab",getRootRef:p,href:v,onClick:S,className:_.default.link,children:e.title})}},472949:(e,t,a)=>{a.d(t,{OpenSearchTab:()=>o.OpenSearchTab});var o=a(982798)},85062:(e,t,a)=>{a.d(t,{OpenSection:()=>g});var o=a(474848),r=a(896412),i=a(271036),n=a(279734),s=a(657293),l=a(293721),c=a(317216),d=a(351137),u=a(174269),_=a(22421),p=a(62784);const g=({action:e,layout:t,ariaLabel:a,dataTestId:g,onShowMoreActionClick:m})=>{const{appCatalogService:v}=(0,d.useCatalogConfig)(),S=(0,l.useStore)(v.pageService.$catalogType),h=(0,s.useRefLogView)({type:c.EventItemType.CATALOG_ITEM,trackCode:e.track_code}),C=(0,d.useCollectClick)(),f=t===u.CatalogBlockLayoutName.HEADER_LARGE&&S===u.CatalogType.GROUPS?void 0:e?.action?.url,I=e.section_id,E=(0,p.getActionIcon)(e.icon);if(E)return(0,o.jsx)(i.IconButton,{noPadding:!0,href:f,"aria-hidden":!f,"aria-label":a,children:E});const k=f?e?.action?.type===u.CatalogActionType.OPEN_URL?(0,u.getUrlWithTrackCode)((0,_.makeUrl)(f,{section_id:I||""}),e.track_code,S):(0,_.makeUrl)(f,{section_id:I||"",from:S}):"";return(0,o.jsx)(n.Link,{"data-testid":Boolean(g)?g:"open_section",getRootRef:h,href:k,onClick:t=>{(0,r.cancelEvent)(t),m?.("header",e.section_id),window.nav?.go(k),C({action:c.SearchClickActionMap.TAP_SHOW_ALL,track_code:e.track_code,type:c.EventItemType.CATALOG_ITEM})},children:e.title})}},55713:(e,t,a)=>{a.d(t,{OpenSection:()=>o.OpenSection});var o=a(85062)},62784:(e,t,a)=>{a.d(t,{getActionIcon:()=>s});var o=a(474848),r=a(728498),i=a(723723),n=a(49932);const s=e=>e===n.CatalogActionIcons.CHEVRON_RIGHT_CIRCLE_28?(0,o.jsx)(r.Icon28ChevronRightCircle,{className:(0,i.getColorClass)("color_icon_secondary")}):null},175962:(e,t,a)=>{a.d(t,{OpenSectionSliderCell:()=>u});var o=a(474848),r=a(213338),i=a(454154),n=a(285056),s=a(216549),l=a(351137),c=a(317216),d=a(596910);const u=e=>{const{title:t,section_id:a,track_code:u,action:_}=e.action,p=(0,l.useCollectClick)(),g=_?.url?_?.url+(a?`?section_id=${a}`:""):void 0;return(0,o.jsx)("div",{className:d.default.openSectionSliderCell,children:(0,o.jsxs)(r.HorizontalCell,{"data-testid":"open_section_slider_cell",href:g,onClick:()=>{p({action:c.SearchClickActionMap.TAP_SHOW_ALL,track_code:u,type:c.EventItemType.CATALOG_ITEM})},className:d.default.openSectionSliderCard,children:[(0,o.jsx)(i.Button,{appearance:"accent",mode:"tertiary",className:d.default.openSectionSliderCellButton,children:(0,o.jsx)(s.Icon24ChevronCompactRight,{className:d.default.openSectionSliderCellButtonIcon})}),(0,o.jsx)(n.Text,{className:d.default.openSectionSliderCellText,children:t})]})})}},997750:(e,t,a)=>{a.d(t,{PlayVideosFromBlock:()=>v});var o=a(474848),r=a(293721),i=a(191601),n=a(866467),s=a(296540),l=a(454154),c=a(768035),d=a(174269),u=a(351137),_=a(317216),p=a(540462),g=a(298077),m=a(841315);const v=({action:e,id:t})=>{const{appCatalogService:a}=(0,u.useCatalogConfig)(),v=(0,r.useStore)(a.catalogService.$catalog),S=(0,r.useStore)(a.pageService.$catalogType),h=(0,u.useCollectClick)(),C=(0,s.useMemo)((()=>v?.sections?.find((({id:e})=>e===v?.default_section))),[v?.sections,v?.default_section]),f=(0,s.useMemo)((()=>C?.blocks?.find((e=>e.videos_ids?.length))?.videos_ids?.[0]),[C]),{trackCode:I,videoUrl:E}=(0,r.useStoreMap)({store:a.videoService.$videoItems,keys:[f,t],fn:(e,[t,a])=>{const o={trackCode:void 0,videoUrl:(0,p.partConfigEnabled)("video_mvk_videopage_with_playlist")?`/playlist/${a}/video${t}`:`/video${t}`};if(!t)return o;try{const{id:a,ownerId:r}=(0,c.parseRawId)(t),i=e.find((({id:e,owner_id:t})=>e===a&&t===r));return i?{trackCode:i.track_code,videoUrl:(0,p.partConfigEnabled)("vkvideo_sport_domain")?(0,m.getVideoUrl)(i):o.videoUrl}:o}catch(e){return(0,g.logError)(e),o}}}),k=(0,d.getUrlWithTrackCode)(E,I,S);return(0,o.jsx)(l.Button,{before:(0,o.jsx)(i.Icon24Play,{}),appearance:"overlay",mode:"primary",stretched:!0,href:f?k:"",onClick:()=>{h?.({action:_.SearchClickActionMap.PLAY_ALL_OUT,track_code:e?.track_code,type:_.EventItemType.VIDEO})},size:"m",children:(0,n.getLang)("mobile_video_playlist_play")})}},214825:(e,t,a)=>{a.d(t,{PlayVideosFromBlock:()=>o.PlayVideosFromBlock});var o=a(997750)},503844:(e,t,a)=>{a.d(t,{SearchShowMore:()=>d});var o=a(474848),r=a(209808),i=a(652862),n=a(540431),s=a(866467),l=a(351137),c=a(293721);const d=({action:e,next_from:t})=>{const{appCatalogService:a}=(0,l.useCatalogConfig)(),d=(0,c.useUnit)(a.catalogService.fireGetBlockItems);return(0,c.useUnit)(a.catalogService.CatalogGetBlockItemsFx.pending)?(0,o.jsx)(r.PanelSpinner,{size:"regular"}):(0,o.jsx)(i.CellButton,{centered:!0,after:(0,o.jsx)(n.Icon16DropdownOutline,{}),onClick:()=>{e.block_id&&d({block_id:e.block_id,start_from:t})},children:(0,s.getLang)("search_show_more")})}},474622:(e,t,a)=>{a.d(t,{ShowFilters:()=>g});var o=a(474848),r=a(78021),i=a(548099),n=a(293721),s=a(317216),l=a(296540),c=a(351137),d=a(260546),u=a(350072),_=a(285056),p=a(507898);const g=({action:e})=>{const{appCatalogService:t}=(0,c.useCatalogConfig)(),{appliedFiltersCount:a,setFilterModal:g}=(0,c.useCatalogSearch)(),m=(0,c.useCollectClick)(),v=(0,n.useStore)(t.pageService.$pageId);return(0,o.jsx)(d.SimpleCell,{"data-testid":"show_filters",className:p.default.root,onClick:()=>{m({track_code:e.track_code,type:s.EventItemType.CATALOG_ITEM,action:s.SearchClickActionMap.OPEN_FILTERS}),g(v)},before:(0,o.jsx)(r.Icon24Filter,{className:p.default.iconBefore}),after:(0,o.jsxs)(l.Fragment,{children:[!!a&&(0,o.jsx)(u.Counter,{mode:"primary",children:a}),(0,o.jsx)(i.Icon24ChevronRight,{})]}),children:(0,o.jsx)(_.Headline,{className:p.default.headline,children:e.title})})}},443278:(e,t,a)=>{a.d(t,{ShowFilters:()=>o.ShowFilters});var o=a(474622)},817474:(e,t,a)=>{a.d(t,{ToggleAlbumSubscription:()=>g});var o=a(474848),r=a(454154),i=a(285056),n=a(134034),s=a(432817),l=a(866467),c=a(293721),d=a(351137),u=a(451549),_=a(558e3),p=a(317216);const g=({id:e,action:t})=>{const{appCatalogService:a}=(0,d.useCatalogConfig)(),{openUnauthorizedMoreBox:g}=(0,d.useCatalogVideo)(),[m,v]=e.toString().split("_"),S=(0,d.useCollectClick)(),h=(0,c.useStoreMap)({store:a.playlistService.$playlistItems,keys:[m,v],fn:(e,[t,a])=>e.find((({id:e,owner_id:o})=>e===+a&&o===+t))}),C=Boolean(h?.is_subscribed);if(!h)return null;if((0,u.isVKUserAnonymous)()){const e=e=>{g({source:_.UnauthorizedSourceType.SUBSCRIBE_VIDEO_AUTHOR,event:e})};return(0,o.jsx)(r.Button,{appearance:"overlay",mode:"outline",stretched:!0,onClick:e,size:"m",children:(0,o.jsx)(i.Paragraph,{children:(0,l.getLang)("mobile_video_playlist_subscribe_need_auth_action")})})}return(0,o.jsx)(r.Button,{before:C?(0,o.jsx)(n.Icon24CheckSquareOutline,{}):(0,o.jsx)(s.Icon24AddSquareOutline,{}),appearance:"overlay",mode:C?"secondary":"primary",stretched:!0,onClick:()=>{const e=h.owner_id,o=h.id;void 0!==e&&void 0!==o&&(C?(a.playlistService.unsubscribeFromPlaylist({owner_id:e,album_id:o}),S?.({action:p.SearchClickActionMap.UNSUBSCRIBE_OUT,track_code:t?.track_code,type:p.EventItemType.VIDEO_PLAYLIST})):(a.playlistService.subscribeOnPlaylist({owner_id:e,album_id:o}),S?.({action:p.SearchClickActionMap.SUBSCRIBE_OUT,track_code:t?.track_code,type:p.EventItemType.VIDEO_PLAYLIST})))},size:"m",children:C?(0,l.getLang)("mobile_groups_you_are_in_public"):(0,l.getLang)("mobile_groups_public_subscribe")})}},116420:(e,t,a)=>{a.d(t,{ToggleAlbumSubscription:()=>o.ToggleAlbumSubscription});var o=a(817474)},947009:(e,t,a)=>{a.d(t,{Action:()=>o.Action});var o=a(951461)},842600:(e,t,a)=>{a.d(t,{getAction:()=>S});var o=a(49932),r=a(55713),i=a(472949),n=a(738164),s=a(95917),l=a(484331),c=a(175962),d=a(443278),u=a(214825),_=a(116420),p=a(606784),g=a(818164),m=a(874611),v=a(503844);const S=e=>{switch(e.action?.type){case o.CatalogActionType.OPEN_URL:case o.CatalogActionType.OPEN_SECTION:return r.OpenSection;case o.CatalogActionType.OPEN_SEARCH_TAB:return i.OpenSearchTab;case o.CatalogActionType.CLEAR_RECENT_GROUPS:return n.ClearRecentGroups;case o.CatalogActionType.GROUPS_MY_GROUPS_TABS:return g.GroupsMyGroupsTabs;case o.CatalogActionType.BLOCK_FILTER:return s.BlockFilter;case o.CatalogActionType.OPEN_SECTION_SLIDER_CELL:return c.OpenSectionSliderCell;case o.CatalogActionType.ONBOARDING:return l.Onboarding;case o.CatalogActionType.SHOW_FILTERS:return d.ShowFilters;case o.CatalogActionType.PLAY_VIDEOS_FROM_BLOCK:return u.PlayVideosFromBlock;case o.CatalogActionType.TOGGLE_ALBUM_SUBSCRIPTION:return _.ToggleAlbumSubscription;case o.CatalogActionType.CREATE_ALBUM:return p.CreatePlaylist;case o.CatalogActionType.HIDE_BLOCK:return m.HideBlock;case o.CatalogActionType.SEARCH_SHOW_MORE:return v.SearchShowMore;default:return()=>null}}},395899:(e,t,a)=>{a.d(t,{AudioPlaylist:()=>I});var o=a(474848),r=a(293721),i=a(294691),n=a(213338),s=a(412888),l=a(285056),c=a(260546),d=a(139612),u=a(174269),_=a(641495),p=a(703488),g=a(351137),m=a(317216),v=a(657293),S=a(49932),h=a(432148),C=a(874921);const f="photo_270",I=({id:e,layout:t})=>{const{appCatalogService:a}=(0,u.useCatalogConfig)(),{ownerId:I}=(0,d.mapAPIRawIdToAudioIdentity)(String(e)),E=(0,u.useCatalogStoreMap)(a.musicPlaylistsService.$musicPlaylists,e),k=(0,u.useCatalogStoreMap)(a.groupsService.$groups,Math.abs(Number(I))),y=(0,r.useStoreMap)({store:a.profilesService.$profiles,keys:[I],fn:(e,[t])=>e.get(+t)}),T=E&&"playlist"===(0,i.getAudioPlaylistAlbumType)(E)?m.EventItemType.MUSIC_PLAYLIST:m.EventItemType.MUSIC_ALBUM,A=(0,g.useCollectClick)(),R=(0,v.useRefLogView)({type:T,trackCode:E?.track_code});if(!E)return null;const x=`/audio_playlist${e}`,{title:L,main_artists:O,thumbs:b,photo:w,year:V,track_code:P}=E,N=O?.length&&(0,p.createAuthorsString)(O)||(0,_.getOwnerName)(k||y);let B=b?.filter((e=>f in e)).map((e=>e[f]))||[];!B.length&&w&&f in w&&B.push(w[f]);const M=()=>{A({action:m.SearchClickActionMap.TAP,track_code:P,type:T})};switch(t){case S.CatalogBlockLayoutName.LARGE_SLIDER:return(0,o.jsx)(n.HorizontalCell,{size:"dynamic",header:(0,o.jsx)(s.TextClamp,{TypographyComponent:l.Text,className:C.default.title,lines:1,children:L}),onClick:M,getRootRef:R,href:x,subtitle:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(s.TextClamp,{TypographyComponent:l.Subhead,className:C.default.subtitle,weight:"3",lines:1,children:[N," "]}),V&&(0,o.jsx)(l.Subhead,{weight:"3",className:C.default.year,children:V})]}),children:(0,o.jsx)(h.AudioPlaylistImage,{images:B,size:156})},e);case S.CatalogBlockLayoutName.LIST:return(0,o.jsx)(c.SimpleCell,{onClick:M,getRootRef:R,href:x,before:(0,o.jsx)(h.AudioPlaylistImage,{images:B,size:72}),subtitle:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.TextClamp,{TypographyComponent:l.Subhead,weight:"3",lines:1,children:N}),V&&(0,o.jsx)(l.Subhead,{weight:"3",className:C.default.year,children:V})]}),children:(0,o.jsx)(s.TextClamp,{TypographyComponent:l.Text,lines:1,children:L})});default:return null}}},432148:(e,t,a)=>{a.d(t,{AudioPlaylistImage:()=>s});var o=a(474848),r=a(875730),i=a(952352),n=a(293116);const s=({images:e,size:t})=>e?.length?(0,o.jsx)(i.GridImage,{size:t,src:e}):(0,o.jsx)(n.Image,{size:t,children:(0,o.jsx)(r.Icon56PlaylistOutline,{width:t/2,height:t/2})})},984905:(e,t,a)=>{a.d(t,{AudioPlaylist:()=>o.AudioPlaylist});var o=a(395899)},703488:(e,t,a)=>{function o(e){return e?.map((({name:e})=>e)).join(", ")}a.d(t,{createAuthorsString:()=>o})},38113:(e,t,a)=>{a.d(t,{Banner:()=>u});var o=a(474848),r=a(296540),i=a(261880),n=a(418755),s=a(947009),l=a(174269),c=a(762855),d=a(704547);const u=e=>{const t=(0,r.useMemo)((()=>(0,i.extractItemsIds)(e)),[e]),a=(0,i.getBlockByDataType)(e),u=(0,n.getEventItemTypeByDataType)(e);return e.data_type===l.CatalogBlockDataType.GROUPS_COLLECTION?(0,o.jsx)(c.DoubleStackedList,{...e}):(0,o.jsx)("div",{children:t.map((t=>(0,o.jsxs)("div",{className:d.default.banner,children:[(0,o.jsx)(a,{...t,layout:e.layout.name,type:u}),(0,o.jsx)("div",{className:d.default.actionsWrapper,children:e.actions?.map(((e,a)=>(0,o.jsx)(s.Action,{id:t.id,action:e},e.track_code||a)))})]},t.id)))})}},105681:(e,t,a)=>{a.d(t,{Banner:()=>o.Banner});var o=a(38113)},261880:(e,t,a)=>{a.d(t,{extractItemsIds:()=>i,getBlockByDataType:()=>n});var o=a(49932),r=a(708109);const i=e=>e.data_type===o.CatalogBlockDataType.ALBUMS&&e.albums_ids?.map((e=>({id:e})))||[],n=e=>e.data_type===o.CatalogBlockDataType.ALBUMS?r.Playlist:()=>null},484781:(e,t,a)=>{a.d(t,{Button:()=>s});var o=a(474848),r=a(296540),i=a(462770),n=a(418755);const s=e=>{const t=(0,r.useMemo)((()=>(0,i.extractItemsIds)(e)),[e]),a=(0,i.getBlockByDataType)(e),s=(0,n.getEventItemTypeByDataType)(e);return(0,o.jsx)(r.Fragment,{children:t.map((t=>(0,o.jsx)(a,{...t,layout:e.layout.name,type:s},t.id)))})}},228555:(e,t,a)=>{a.d(t,{Button:()=>o.Button});var o=a(484781)},462770:(e,t,a)=>{a.d(t,{extractItemsIds:()=>n,getBlockByDataType:()=>s});var o=a(49932),r=a(418562),i=a(947009);const n=e=>e.data_type===o.CatalogBlockDataType.ACTION&&e.actions?.map((e=>({id:(0,r.default)(),action:e})))||[],s=e=>e.data_type===o.CatalogBlockDataType.ACTION?i.Action:()=>null},999541:(e,t,a)=>{a.d(t,{CatalogSeparator:()=>i});var o=a(474848),r=a(582192);const i=()=>(0,o.jsx)(r.Separator,{})},828433:(e,t,a)=>{a.d(t,{CatalogSeparator:()=>o.CatalogSeparator});var o=a(999541)},495799:(e,t,a)=>{a.d(t,{Chips:()=>_});var o=a(474848),r=a(296540),i=a(285056),n=a(293721),s=a(8520),l=a(947009),c=a(573856),d=a(540909),u=a(174269);const _=({actions:e,layout:t,...a})=>{const{appCatalogService:_}=(0,u.useCatalogConfig)(),p=(0,n.useStore)(_.onboardingService.$onboardingStatus),{title:g,subtitle:m}=t;return(0,r.useEffect)((()=>{if(p.status===c.OnboardingResponseStatus.SUCCESS){const e=setTimeout((()=>_.onboardingService.fireCompleteOnboarding()),3e3);return()=>clearTimeout(e)}}),[p.status]),(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:(0,s.classNames)(d.default.chips,p.status===c.OnboardingResponseStatus.COMPLETE&&d.default.chipsHidden,p.status===c.OnboardingResponseStatus.SUCCESS&&d.default.chipsFadedOut),children:[(p.status===c.OnboardingResponseStatus.IDLE||p.status===c.OnboardingResponseStatus.PENDING)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.Headline,{level:"1",className:d.default.chipsHeadline,children:g}),(0,o.jsx)(i.Subhead,{className:d.default.chipsSubhead,children:m})]}),e?.map(((e,o)=>(0,r.createElement)(l.Action,{...a,key:o,action:e,layout:t.name})))]})})}},476370:(e,t,a)=>{a.d(t,{Chips:()=>o.Chips});var o=a(495799)},459923:(e,t,a)=>{a.d(t,{DoubleStackedList:()=>_});var o=a(474848),r=a(296540),i=a(8520),n=a(149342),s=a(418755),l=a(174269),c=a(220208),d=a(591378),u=a(144033);const _=e=>{const t=(0,c.useAdaptivityWithJSMediaQueries)(),a=(0,n.getColumnsCount)(e.data_type,t),_=(0,n.getBlockByDataType)(e),p=(0,s.getEventItemTypeByDataType)(e),g=(0,r.useMemo)((()=>(0,n.extractItemsIds)(e).map((t=>(0,r.createElement)(_,{...t,key:t.id,layout:e.layout.name,type:p})))),[e]),m=e.data_type===l.CatalogBlockDataType.ALBUMS;return(0,o.jsx)("div",{className:(0,i.classNames)(u.default.root,m&&u.default.rootWithoutGrid),children:m?g:(0,o.jsx)(d.Grid,{columns:a,spacing:8,children:g.map((e=>(0,o.jsx)(d.Grid.Item,{children:e},e.key)))})})}},762855:(e,t,a)=>{a.d(t,{DoubleStackedList:()=>o.DoubleStackedList});var o=a(459923)},149342:(e,t,a)=>{a.d(t,{extractItemsIds:()=>s,getBlockByDataType:()=>l,getColumnsCount:()=>c});var o=a(220208),r=a(49932),i=a(708109),n=a(689477);const s=e=>{switch(e.data_type){case r.CatalogBlockDataType.ALBUMS:return e?.albums_ids?.map((e=>({id:e})))||[];case r.CatalogBlockDataType.GROUPS_ITEMS:case r.CatalogBlockDataType.GROUPS_COLLECTION:return e.group_items||[];default:return[]}},l=e=>{switch(e.data_type){case r.CatalogBlockDataType.ALBUMS:return i.Playlist;case r.CatalogBlockDataType.GROUPS_ITEMS:case r.CatalogBlockDataType.GROUPS_COLLECTION:return n.GroupItem;default:return()=>null}},c=(e,t)=>{const a=(e=>{switch(e){case r.CatalogBlockDataType.GROUPS_ITEMS:case r.CatalogBlockDataType.GROUPS_COLLECTION:return!0;default:return!1}})(e);if(a&&t.viewWidth){return t.viewWidth>=o.ViewWidth.SMALL_TABLET?3:2}return 2}},111967:(e,t,a)=>{a.d(t,{GroupCategory:()=>h});var o=a(474848),r=a(296540),i=a(293721),n=a(213338),s=a(916388),l=a(260546),c=a(293116),d=a(49932),u=a(657293),_=a(317216),p=a(8520),g=a(22421),m=a(367887),v=a(174269);const S=({id:e,layout:t,action:a,group_items:r=[]})=>{const{appCatalogService:S}=(0,v.useCatalogConfig)(),h=(0,i.useStoreMap)({store:S.groupCategoryItemsService.$groupCategoryItems,keys:[e],fn:(e,[t])=>e.find((({id:e})=>e===t))}),C=(0,u.useRefLogView)({type:_.EventItemType.GROUP_CATEGORY_ITEM,trackCode:a?.track_code});if(!h)return null;const f=a?.action?.url,I=a?.section_id,E=f?(0,g.makeUrl)(f,{section_id:I||"",from:_.EventItemType.GROUP_CATEGORY_ITEM}):void 0,k=h.images?(0,p.getPhotoSize)(h.images,44*window.devicePixelRatio)?.url:void 0;if(!k||!h.name)return null;switch(t){case d.CatalogBlockLayoutName.TRIPLE_STACKED_SLIDER:return(0,o.jsx)(n.HorizontalCell,{getRootRef:C,"data-testid":"group_category_item_triple_stacked_slider_card",size:"dynamic",children:(0,o.jsx)(s.CommunityCategoryItem,{mode:"horizontal",src:k,title:h.name,href:E})});case d.CatalogBlockLayoutName.SMALL_SLIDER:return(0,o.jsx)(n.HorizontalCell,{getRootRef:C,"data-testid":"group_category_item_small_slider_card",size:"dynamic",children:(0,o.jsx)(s.CommunityCategoryItem,{mode:"vertical",src:k,title:h.name,href:E})});case d.CatalogBlockLayoutName.LARGE_SLIDER:return(0,o.jsx)(m.GroupCategoryLargeItem,{categoryItem:h,href:E,getRootRef:C,groupItems:r});case d.CatalogBlockLayoutName.LIST:return(0,o.jsx)(l.SimpleCell,{"data-testid":"group_category_list_item",getRootRef:C,href:E,before:(0,o.jsx)(c.Image,{borderRadius:"l",size:44,src:k}),children:h.name});default:return null}},h=(0,r.memo)(S)},367887:(e,t,a)=>{a.d(t,{GroupCategoryLargeItem:()=>l});var o=a(474848),r=a(469732),i=a(8520),n=a(225482),s=a(962125);const l=({categoryItem:e,getRootRef:t,href:a,groupItems:l})=>{const c=(0,n.useCommunityCollectionItems)(l),d=e.images?(0,i.getPhotoSize)(e.images,307*window.devicePixelRatio)?.url:void 0,u={title:e.link_text||"",href:a};return(0,o.jsx)("div",{className:s.default.largeSliderCard,ref:t,"data-testid":"group_category_item_large_slider_card",children:(0,o.jsx)(r.CommunityCollection,{title:e.name,action:u,coverSrc:d,items:c})})}},374154:(e,t,a)=>{a.d(t,{GroupCategory:()=>o.GroupCategory});var o=a(111967)},181719:(e,t,a)=>{a.d(t,{GroupCollection:()=>g});var o=a(474848),r=a(456921),i=a(866467),n=a(469732),s=a(723723),l=a(49932),c=a(657293),d=a(174269),u=a(225482),_=a(31987),p=a(140157);const g=(0,r.observer)((function({id:e,layout:t,type:a,group_items:r=[],isSingleItem:g}){const{groupsService:m}=(0,d.useCatalogGroupsContext)(),v=m?.getCollection?.(String(e)),S=g?6:3,h=r.slice(0,S),C=(0,u.useCommunityCollectionItems)(h),f=(0,_.getTrackCodesArray)(h),I=(0,c.useRefLogView)({type:a,trackCodes:f});if(!v)return null;const E=(0,_.getGroupCollectionCover)(v,g),k={title:(0,i.getLang)("groups_catalog_view_all"),href:v.url};return t===l.CatalogBlockLayoutName.SLIDER_CARD?(0,o.jsx)("div",{className:g?p.default.singleSliderCard:p.default.sliderCard,ref:I,"data-testid":"group_community_item_slider_card",children:(0,o.jsx)(n.CommunityCollection,{title:(0,o.jsx)("span",{className:(0,s.getColorClass)("color_text_contrast"),children:v.name}),action:k,coverSrc:E,subtitle:v.short_description,items:C,columns:g?2:1})}):null}))},716286:(e,t,a)=>{a.d(t,{GroupCollection:()=>o.GroupCollection});var o=a(181719)},31987:(e,t,a)=>{a.d(t,{getGroupCollectionCover:()=>i,getTrackCodesArray:()=>r});var o=a(8520);const r=e=>e.reduce(((e,t)=>(t.track_code&&e.push(t.track_code),e)),[]),i=(e,t)=>t&&e.images_wide?(0,o.getPhotoSize)(e.images_wide,window.innerWidth*window.devicePixelRatio)?.url:e.images?(0,o.getPhotoSize)(e.images,300*window.devicePixelRatio)?.url:void 0},859567:(e,t,a)=>{a.d(t,{CommonFriends:()=>c});var o=a(474848),r=a(837046),i=a(724244),n=a(723723),s=a(866467),l=a(984140);const c=({group:e})=>{const t=e.friends?.count||0,a=e.friends?.preview_profiles?.reduce(((e,t)=>t.photo_50?[...e,t.photo_50]:e),[])??[],c=(0,l.getMembersCountText)(e.members_count);return t>0?(0,o.jsxs)(r.UsersStack,{photos:a,children:[c,(0,o.jsx)(i.InterpunctSeparator,{spacing:4}),(0,s.getLang)("groups_friends_count",t).replace("{count}",String(t))]}):(0,o.jsx)("span",{className:(0,n.getColorClass)("color_text_secondary"),children:c})}},335203:(e,t,a)=>{a.d(t,{GroupInvite:()=>v});var o=a(474848),r=a(456921),i=a(276898),n=a(612196),s=a(220208),l=a(723723),c=a(49932),d=a(984140),u=a(174269),_=a(476806),p=a(859567),g=a(200512),m=a(569726);const v=(0,r.observer)((function({id:e,layout:t}){const{groupsService:a,profilesService:r,platformVars:v}=(0,u.useCatalogGroupsContext)(),S=Number(e),h=a?.getGroup(S),C=r?.getProfile(Number(h?.invited_by)),f=a?.getGroup(Math.abs(Number(h?.invited_by)));if(!h||!C&&!f)return null;const{hasSenderAvatar:I,avatarSize:E}=v?.groupInviteConfig||{avatarSize:48},k=C?`${C.first_name} ${C.last_name}`:f?.name||f?.screen_name||"",y=(0,m.getInviterHref)(C,f),T=C?.photo_100||f?.photo_100,A=a?.getIsLeftGroup?.(S)??!1,R=a?.checkSubscriptionLoading(S)??!1;return t===c.CatalogBlockLayoutName.LIST?(0,o.jsx)(i.RichCell,{before:(0,o.jsx)(n.Avatar,{size:E,src:h.photo_100,href:(0,d.getGroupUrl)(h),"aria-hidden":!0,tabIndex:-1}),caption:(0,o.jsx)(g.GroupInviteSender,{inviterName:k,inviterHref:y}),after:I&&(0,o.jsx)(n.Avatar,{size:48,src:T,alt:""}),bottom:(0,o.jsx)(p.CommonFriends,{group:h}),actions:(0,o.jsx)(_.GroupInviteActions,{groupId:S,groupIsLeft:A,isMember:h.is_member,subscriptionLoading:R,isEvent:"event"===h.type}),disabled:!0,"aria-disabled":!1,role:"",children:(0,o.jsx)(s.Tappable,{href:(0,d.getGroupUrl)(h),className:(0,l.getColorClass)("color_text_primary"),hoverMode:"",hasActive:!1,children:h.name})}):null}))},476806:(e,t,a)=>{a.d(t,{GroupInviteActions:()=>u});var o=a(474848),r=a(351137),i=a(454154),n=a(723723),s=a(175400),l=a(363046),c=a(866467),d=a(925228);const u=({groupId:e,isMember:t,groupIsLeft:a,subscriptionLoading:u,isEvent:_})=>{const{platformVars:p,groupsService:g}=(0,r.useCatalogGroupsContext)(),{negativeButtonMode:m,hasEventNotSureButton:v}=p?.groupInviteConfig||{},S=_&&v;return t?(0,o.jsx)(i.Button,{mode:"link",size:"s",before:(0,o.jsx)(d.Icon16CheckOutline,{className:(0,n.getColorClass)("color_icon_secondary")}),onClick:l.cancelEvent,hasHover:!1,hasActive:!1,children:(0,o.jsx)("span",{className:(0,n.getColorClass)("color_text_secondary"),children:(0,c.getLang)("notifications_group_invite_accept_success")})}):a?(0,o.jsx)(i.Button,{mode:"link",size:"s",onClick:l.cancelEvent,hasHover:!1,hasActive:!1,children:(0,o.jsx)("span",{className:(0,n.getColorClass)("color_text_secondary"),children:(0,c.getLang)("notifications_group_invite_decline_success")})}):(0,o.jsxs)(s.ButtonGroup,{mode:"horizontal",gap:"m",stretched:!0,children:[(0,o.jsx)(i.Button,{mode:"primary",size:"s",onClick:t=>{(0,l.cancelEvent)(t),g?.subscribe({group_id:e})},disabled:u,children:S?(0,c.getLang)("groups_event_action_will_go"):(0,c.getLang)("global_accept")}),S&&(0,o.jsx)(i.Button,{mode:"secondary",size:"s",onClick:t=>{(0,l.cancelEvent)(t),g?.subscribe({group_id:e,not_sure:"1"})},disabled:u,children:(0,c.getLang)("groups_event_action_maybe_will_go")}),(0,o.jsx)(i.Button,{mode:m,size:"s",onClick:t=>{(0,l.cancelEvent)(t),g?.unsubscribe({group_id:e})},disabled:u,children:S?(0,c.getLang)("groups_catalog_decline_invitation_event"):(0,c.getLang)("groups_decline")})]})}},200512:(e,t,a)=>{a.d(t,{GroupInviteSender:()=>c});var o=a(474848),r=a(731860),i=a(279734),n=a(723723),s=a(866467),l=a(174269);const c=({inviterName:e,inviterHref:t})=>{const{platformVars:a}=(0,l.useCatalogGroupsContext)(),{isClickableSender:c}=a?.groupInviteConfig||{},d=(0,s.getLang)("groups_tag_user_invite").replace("{user}",e),u=(0,s.getLang)("groups_user_invite").replace("{user}",e);return c&&t?(0,o.jsx)(r.LangTag,{tag:"tag",Component:i.Link,href:t,target:"_blank","aria-label":u,children:d}):(0,o.jsx)(r.LangTag,{tag:"tag",className:(0,n.getColorClass)("color_text_primary"),"aria-label":u,children:d})}},984839:(e,t,a)=>{a.d(t,{CommonFriends:()=>r.CommonFriends,GroupInvite:()=>o.GroupInvite});var o=a(335203),r=a(859567)},569726:(e,t,a)=>{a.d(t,{getInviterHref:()=>r});var o=a(984140);const r=(e,t)=>e?`/id${e.id}`:t?(0,o.getGroupUrl)(t):""},648061:(e,t,a)=>{a.d(t,{FavoriteActionSheetItemWidget:()=>_});var o=a(474848),r=a(456921),i=a(657842),n=a(786936),s=a(149333),l=a(507852),c=a(993031),d=a(132028);const u=(0,r.observer)((function(){const{groupsFavoriteService:e,group:t}=(0,c.useGroupActionsSheetItemModel)(),{getLang:a}=(0,s.useLangs)(),r=t.is_favorite,d=e.getIsLoading(t.id);return void 0===r?null:(0,o.jsx)(l.DropdownActionSheet.Item,{before:r?(0,o.jsx)(i.Icon20BookmarkSlashOutline,{}):(0,o.jsx)(n.Icon20BookmarkOutline,{}),keepOpen:!0,loading:d,onClick:()=>e.toggle(t.id),children:a(r?"groups_bookmark_delete":"groups_bookmark_add")})})),_=(0,d.createWidget)(c.GroupActionsSheetItemModelProvider,u)},429057:(e,t,a)=>{a.d(t,{SubscribeActionSheetItemWidget:()=>g});var o=a(474848),r=a(456921),i=a(845794),n=a(507852),s=a(723723),l=a(149333),c=a(993031),d=a(132028),u=a(831505),_=a(174269);const p=(0,r.observer)((function(){const{groupsSubscribeService:e,group:t,trackCode:a}=(0,c.useGroupActionsSheetItemModel)(),{platformVars:r}=(0,_.useCatalogGroupsContext)(),{getLang:d}=(0,l.useLangs)(),p=e.getIsLoading(t.id);if(!t.is_member)return null;return(0,o.jsx)(n.DropdownActionSheet.Item,{loading:p,onClick:()=>{!t.is_member||t.is_closed!==u.GroupsGroupIsClosedEnumNames.CLOSED&&t.is_closed!==u.GroupsGroupIsClosedEnumNames.PRIVATE?e.leave({group_id:t.id,track_code:a}):r?.showConfirmModal?.({groupId:t.id,isAdmin:Boolean(t.is_admin),trackCode:a})},before:(0,o.jsx)(i.Icon20MinusSquareOutline,{className:(0,s.getColorClass)("color_icon_negative")}),children:d("groups_unsubscribe")})})),g=(0,d.createWidget)(c.GroupActionsSheetItemModelProvider,p)},333021:(e,t,a)=>{a.d(t,{WallSubscribeActionSheetItemWidget:()=>_});var o=a(474848),r=a(456921),i=a(971711),n=a(168325),s=a(149333),l=a(507852),c=a(993031),d=a(132028);const u=(0,r.observer)((function(){const{groupsWallSubscribeService:e,group:t}=(0,c.useGroupActionsSheetItemModel)(),{getLang:a}=(0,s.useLangs)(),r=t.is_subscribed,d=e.getIsLoading(t.id);return void 0===r?null:(0,o.jsx)(l.DropdownActionSheet.Item,{before:r?(0,o.jsx)(i.Icon20NotificationSlashOutline,{}):(0,o.jsx)(n.Icon20NotificationOutline,{}),keepOpen:!0,loading:d,onClick:()=>e.toggle(t.id),children:a(r?"wall_unsubscribe_from_posts":"wall_subscribe_to_posts")})})),_=(0,d.createWidget)(c.GroupActionsSheetItemModelProvider,u)},569297:(e,t,a)=>{a.d(t,{FavoriteActionSheetItemWidget:()=>r.FavoriteActionSheetItemWidget,SubscribeActionSheetItemWidget:()=>o.SubscribeActionSheetItemWidget,WallSubscribeActionSheetItemWidget:()=>i.WallSubscribeActionSheetItemWidget});var o=a(429057),r=a(648061),i=a(333021)},948588:(e,t,a)=>{a.d(t,{GroupActionsSheetItemModelProvider:()=>u,useGroupActionsSheetItemModel:()=>d});var o=a(331635),r=a(276289),i=a(504715),n=a(734773),s=a(327813),l=a(132028);class c{[l.init]({group:e,trackCode:t}){this._group=e,this._trackCode=t}get trackCode(){if(!this._trackCode)throw new Error("Trying to use before initialization");return this._trackCode}get group(){if(!this._group)throw new Error("Trying to use before initialization");return this._group}constructor(e,t,a){this.groupsSubscribeService=e,this.groupsFavoriteService=t,this.groupsWallSubscribeService=a,(0,s.makeAutoObservable)(this)}}c=(0,o.__decorate)([l.scope.transient(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[void 0===r.GroupsSubscribeService?Object:r.GroupsSubscribeService,void 0===i.GroupsFavoriteService?Object:i.GroupsFavoriteService,void 0===n.GroupsWallSubscribeService?Object:n.GroupsWallSubscribeService])],c);const{useModel:d,Provider:u}=(0,l.createProvider)(c,{isolatedContext:!1,onlyTransient:!0})},993031:(e,t,a)=>{a.d(t,{GroupActionsSheetItemModelProvider:()=>o.GroupActionsSheetItemModelProvider,useGroupActionsSheetItemModel:()=>o.useGroupActionsSheetItemModel});var o=a(948588)},459983:(e,t,a)=>{a.d(t,{GroupItem:()=>V});var o=a(474848),r=a(665606),i=a(984140),n=a(49932),s=a(351137),l=a(657293),c=a(866467),d=a(723723),u=a(213338),_=a(412888),p=a(751268),g=a(224788),m=a(329477),v=a(260546),S=a(612196),h=a(84136),C=a(482199),f=a(532795),I=a(684273),E=a(8520),k=a(831505),y=a(468073),T=a(456921),A=a(296540),R=a(730710),x=a(536562),L=a(103941),O=a(918277),b=a(69381),w=a(621258);const V=(0,T.observer)((function({id:e,track_code:t,layout:a,type:T,itemIndex:V,description:P,counter:N,meta:B}){const{groupsService:M,platformVars:D}=(0,s.useCatalogGroupsContext)(),j=M?.getGroup(Number(e)),G=M?.checkSubscriptionLoading(Number(e)),F=(0,A.useCallback)((e=>{e?.stopPropagation(),e?.preventDefault(),j?.id&&!G&&(j.is_member||j.member_status===k.GroupsGroupFullMemberStatusEnumNames.HAS_SENT_A_REQUEST?M?.unsubscribe({group_id:j.id,track_code:t}):M?.subscribe({group_id:j.id,track_code:t}))}),[j,t,G]),U=(0,l.useRefLogView)({type:T,trackCode:t,meta:B});if(!j)return null;const H=D?.openStories,$=(0,r.getUrlWithTrackCode)((0,i.getGroupUrl)(j),t,n.CatalogType.GROUPS),z=!!V&&V>3,W=z?-1:0,K=j.cover?.images?(0,E.getPhotoSize)(j.cover.images,400*window.devicePixelRatio)?.url:void 0,Y=y.Ranges.convertGroupIdToOwnerId(j.id),q=j.has_unseen_stories&&(j.is_member||j.is_closed===k.GroupsGroupIsClosedEnumNames.OPEN),Q=e=>{q&&H&&(e.metaKey||e.ctrlKey||(e.preventDefault(),e.stopPropagation(),H(`${Y}/owner_feed${Y}`,{source:"avatar"})))},Z=Boolean(j.verified)?{badgeIcon:(0,o.jsx)(O.RasterIcon24Verified,{alt:(0,c.getLang)("search_verified")}),icon:(0,o.jsx)(C.Icon16Verified,{})}:j.trust_mark===k.GroupsGroupFullTrustMarkEnumNames.PREMIUM?{badgeIcon:(0,o.jsx)(b.RasterIcon24CrownVerified,{"data-testid":"business_premium_icon",alt:(0,c.getLang)("search_business_premium")}),icon:(0,o.jsx)(f.Icon16CrownVerified,{"data-testid":"business_mark_verified"})}:j.trust_mark===k.GroupsGroupFullTrustMarkEnumNames.CONFIRMED?{badgeIcon:(0,o.jsx)(w.RasterIcon24BusinessVerified,{"data-testid":"business_confirmed_icon",alt:(0,c.getLang)("search_business_verified")}),icon:(0,o.jsx)(C.Icon16Verified,{className:(0,d.getColorClass)("color_icon_secondary"),"data-testid":"verified_business_icon"})}:null;switch(a){case n.CatalogBlockLayoutName.SMALL_LIST:return(0,o.jsx)(x.GroupItemActions,{group:j,href:$,onButtonClick:F,description:P,trackCode:t,showStoryHandler:Q,hasUnseenStories:q});case n.CatalogBlockLayoutName.SLIDER:return(0,o.jsx)(u.HorizontalCell,{size:"s",href:$,getRootRef:U,"data-testid":"group_item_slider",header:(0,o.jsx)(_.TextClamp,{lines:1,children:j.name}),"aria-label":j.name,noPadding:!0,children:(0,o.jsx)(p.RichAvatar,{size:n.SLIDER_AVATAR_SIZE_SM,nft:Boolean(j.is_nft_photo),src:j.photo_200,alt:"",children:Z?.badgeIcon&&(0,o.jsx)(p.RichAvatar.Badge,{children:Z.badgeIcon})})});case n.CatalogBlockLayoutName.SLIDER_MINIMALISTIC_CARD:case n.CatalogBlockLayoutName.SLIDER_CARD:return(0,o.jsx)("div",{className:L.default.sliderCard,ref:U,"data-testid":"group_item_slider_card",children:(0,o.jsx)(g.RecommendationBlock.Card,{stretched:!0,titleWeight:"2",badgeSize:"s",hideButtonIcon:!G,title:j.name||"",subtitle:j.activity||"",image:j.photo_400,href:$,badge:(0,i.getBadge)(j.members_count,j.friends),buttonLabel:j.is_member?(0,c.getLang)("groups_dd_you_in_group"):(0,c.getLang)("global_share_button_join_public"),hasButtonLoading:G,onButtonClick:F,verified:Boolean(j.verified),hasButtonDone:Boolean(j.is_member),"aria-label":j.name,ariaHidden:z,tabIndex:W,buttonAriaHidden:z,buttonTabIndex:W})});case n.CatalogBlockLayoutName.COMPACT_LIST:return(0,o.jsx)(m.CommunityListItem,{subtitle:(0,i.getMembersCountText)(j.members_count),getRootRef:U,photo:j.photo_100,href:$,checked:Boolean(j.is_member),loading:G,verified:Boolean(j.verified),onSubscribeClick:F,buttonAriaLabel:Boolean(j.is_member)?(0,c.getLang)("groups_dd_you_in_group"):(0,c.getLang)("global_share_button_join_public"),ariaLabel:j.name,children:j.name});case n.CatalogBlockLayoutName.LARGE_LIST:return(0,o.jsx)(v.SimpleCell,{before:(0,o.jsx)(S.Avatar,{src:j.photo_100,size:48,alt:""}),getRootRef:U,subtitle:j.activity,badgeAfterTitle:Z?.icon,extraSubtitle:(0,i.getMembersCountText)(j.members_count),href:$,children:j.name});case n.CatalogBlockLayoutName.SLIDER_EVENT:return(0,o.jsx)("div",{className:L.default.sliderEvent,ref:U,"data-testid":"group_item_slider_event",children:(0,o.jsx)(h.EventCard,{title:(0,o.jsx)("span",{className:(0,d.getColorClass)("color_text_primary"),title:j.name,children:j.name}),avatar:j.photo_100,cover:K,href:$,descriptions:[{text:j.activity}],"aria-label":j.name,"aria-hidden":z,tabIndex:W})});case n.CatalogBlockLayoutName.STACKED_LIST:return(0,o.jsx)("div",{className:L.default.stacked,ref:U,"data-testid":"group_item_stacked_event",children:(0,o.jsx)(h.EventCard,{title:(0,o.jsx)("span",{className:(0,d.getColorClass)("color_text_primary"),title:j.name,children:j.name}),avatar:j.photo_100,cover:K,href:$,descriptions:[{text:j.activity}],"aria-label":j.name})});case n.CatalogBlockLayoutName.DOUBLE_STACKED_LIST_MINIMALISTIC_CARD:case n.CatalogBlockLayoutName.DOUBLE_STACKED_LIST:case n.CatalogBlockLayoutName.BANNER:return(0,o.jsx)("div",{className:L.default.stacked,ref:U,"data-testid":"group_item_double_stacked_list",children:(0,o.jsx)(g.RecommendationBlock.Card,{stretched:!0,titleWeight:"2",badgeSize:"s",hideButtonIcon:!G,title:j.name||"",subtitle:j.activity||"",image:j.photo_400,href:$,badge:(0,i.getBadge)(j.members_count,j.friends),buttonLabel:j.is_member?(0,c.getLang)("groups_dd_you_in_group"):(0,c.getLang)("global_share_button_join_public"),hasButtonLoading:G,onButtonClick:F,verified:Boolean(j.verified),hasButtonDone:Boolean(j.is_member),"aria-label":j.name})});case n.CatalogBlockLayoutName.DOUBLE_LIST:return(0,o.jsx)(v.SimpleCell,{href:$,subtitle:j.activity,getRootRef:U,"data-testid":"group_item_list","aria-label":j.name,badgeAfterTitle:Z?.icon,after:(0,o.jsx)(R.GroupItemCounter,{value:N}),before:(0,o.jsx)(p.RichAvatar,{size:n.CATALOG_AVATAR_SIZE_M,src:(0,r.getAvatarOwnerSrc)(j),nft:Boolean(j.is_nft_photo),onClick:Q,"aria-hidden":!0,tabIndex:-1,alt:"",children:q&&(0,o.jsx)(p.RichAvatar.Outline,{appearance:"accent"})}),badgeBeforeSubtitle:Boolean(j.is_government_organization)&&(0,o.jsx)(I.Icon12Flag,{className:(0,d.getColorClass)("color_icon_tertiary")}),children:j.name});default:return null}}))},536562:(e,t,a)=>{a.d(t,{GroupItemActions:()=>C});var o=a(474848),r=a(456921),i=a(276898),n=a(751268),s=a(412888),l=a(285056),c=a(723723),d=a(279734),u=a(174269),_=a(730710),p=a(569297),g=a(8520),m=a(684273),v=a(866467),S=a(831505),h=a(103941);const C=(0,r.observer)((function({group:e,href:t,onButtonClick:a,trackCode:r,description:C,showStoryHandler:f,hasUnseenStories:I}){const{groupsService:E}=(0,u.useCatalogGroupsContext)(),k=E?.checkSubscriptionLoading(e.id),y=E?.getIsJoinedGroup?.(e.id),T=e.is_closed===S.GroupsGroupIsClosedEnumNames.PRIVATE,A=e.is_closed===S.GroupsGroupIsClosedEnumNames.CLOSED,R="event"===e.type;return(0,o.jsx)(i.RichCell,{className:!e.is_member&&(T||R&&A)?h.default.blur:"",before:(0,o.jsx)(n.RichAvatar,{size:u.CATALOG_AVATAR_SIZE_L,src:e.photo_200,nft:!!e?.is_nft_photo,href:t,onClick:f,children:I&&(0,o.jsx)(n.RichAvatar.Outline,{appearance:"accent"})}),after:(0,o.jsx)(_.GroupItemAfter,{group:e,loading:k,canLeaveGroup:y,actionSheetContent:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p.FavoriteActionSheetItemWidget,{group:e}),(0,o.jsx)(p.WallSubscribeActionSheetItemWidget,{group:e}),(0,o.jsx)(p.SubscribeActionSheetItemWidget,{group:e,trackCode:r})]}),toggleMembership:a}),afterAlign:"center",contentAlign:"center",extraSubtitle:(0,o.jsx)(s.TextClamp,{TypographyComponent:l.Footnote,lines:1,children:e.is_government_organization?(0,o.jsxs)("div",{className:(0,g.classNames)(h.default.government,(0,c.getColorClass)("color_text_secondary")),children:[(0,o.jsx)(m.Icon12Flag,{className:h.default.governmentIcon}),(0,o.jsx)(l.Text,{weight:"2",children:(0,v.getLang)("search_search_government_label")})]}):C||e.activity}),bottom:(0,o.jsx)(_.GroupItemBottom,{membersCount:e.members_count,membersCountText:e.members_count_text}),children:Boolean(e.trust_mark)?(0,o.jsx)(_.GroupItemVerifiedLabel,{href:t,groupName:e.name,verifiedType:e.trust_mark}):(0,o.jsx)(d.Link,{href:t,className:(0,c.getColorClass)("color_text_primary"),children:(0,o.jsx)(s.TextClamp,{TypographyComponent:l.Headline,level:"1",weight:"2",lines:1,children:e.name})})})}))},601778:(e,t,a)=>{a.d(t,{GroupItemAfter:()=>_});var o=a(474848),r=a(641412),i=a(866467),n=a(454154),s=a(700272),l=a(507852),c=a(723723),d=a(141575),u=a(831505);const _=(0,a(456921).observer)((function({loading:e,canLeaveGroup:t,actionSheetContent:a,toggleMembership:_,group:p}){const g=p.is_closed===u.GroupsGroupIsClosedEnumNames.PRIVATE,m=p.is_closed===u.GroupsGroupIsClosedEnumNames.CLOSED,v=p.is_member,S="event"===p.type;if(p.ban_info||p.deactivated||g&&!v)return null;if(S&&m&&!v)return null;if(!v||t&&v){const t=()=>v?S?(0,i.getLang)("search_joined_event_group_btn"):(0,i.getLang)("search_joined_group_btn"):m?p.member_status===u.GroupsGroupFullMemberStatusEnumNames.HAS_SENT_A_REQUEST?(0,i.getLang)("groups_cancel_application"):(0,i.getLang)("groups_apply"):S?(0,i.getLang)("search_join_event_group_btn"):(0,i.getLang)("search_join_group_btn");return(0,o.jsx)(n.Button,{minWidth:134,mode:"secondary",loading:e,disabled:e,onClick:_,"data-testid":"desktop_group_item_button",children:t()})}return a?e?(0,o.jsx)(r.IconButton,{disabled:!0,size:40,children:(0,o.jsx)(s.Spinner,{stretched:!1})}):(0,o.jsx)(l.DropdownActionSheet,{restoreFocus:!1,width:225,placement:"bottom-end",content:a,children:(0,o.jsx)(r.IconButton,{size:40,"data-testid":"desktop_group_item_button","aria-label":(0,i.getLang)("global_more"),children:(0,o.jsx)(d.Icon24MoreHorizontal,{className:(0,c.getColorClass)("color_icon_secondary")})})}):null}))},725819:(e,t,a)=>{a.d(t,{GroupItemBottom:()=>l});var o=a(474848),r=a(412888),i=a(285056),n=a(723723),s=a(984140);const l=(0,a(296540).memo)((function({membersCount:e,membersCountText:t,text:a}){const l=t??e?(0,s.getMembersCountText)(e):a;if(l)return(0,o.jsx)(r.TextClamp,{lines:1,children:(0,o.jsx)(i.Text,{weight:"3",className:(0,n.getColorClass)("color_text_secondary"),children:l})})}))},756880:(e,t,a)=>{a.d(t,{GroupItemCounter:()=>n});var o=a(474848),r=a(220208),i=a(350072);const n=({value:e,minCountForShowBadge:t=20})=>e?e>t?(0,o.jsx)(r.Badge,{mode:"new"}):(0,o.jsx)(i.Counter,{size:"s",children:e}):null},454526:(e,t,a)=>{a.d(t,{GroupItemVerifiedLabel:()=>d});var o=a(474848),r=a(456921),i=a(412888),n=a(285056),s=a(699032),l=a(279734),c=a(2901);const d=(0,r.observer)((function({verifiedType:e=1,groupName:t,href:a}){const r=(0,c.useTrustMarksLabel)(e);if(r)return(0,o.jsx)(i.TextClamp,{TypographyComponent:n.Headline,level:"1",weight:"2",lines:1,children:(0,o.jsx)(s.VerifiedLabel,{mode:"primary",href:a,icon:r.icon,tooltip:{text:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.Text,{children:r.tooltipText}),(0,o.jsx)(l.Link,{href:r.tooltipLink,target:"_blank",children:r.tooltipLinkText})]}),header:r.header,maxWidth:r.maxWidth},iconHref:r.iconHref,iconLabel:r.iconLabel,children:t})})}))},2901:(e,t,a)=>{a.d(t,{useTrustMarksLabel:()=>o.useTrustMarksLabel});var o=a(941030)},941030:(e,t,a)=>{a.d(t,{useTrustMarksLabel:()=>p});var o=a(474848),r=a(149333),i=a(482199),n=a(532795),s=a(279734),l=a(723723),c=a(831505);const d="/verify",u="/@business-otmetky-dlya-biznesa?anchor=otmetka-podtverzhd-nny-biznes",_="/@business-otmetky-dlya-biznesa?anchor=otmetka-premium-biznes",p=e=>{const{getLang:t}=(0,r.useLangs)();return e===c.GroupsGroupFullTrustMarkEnumNames.VERIFIED?{header:(0,o.jsx)(s.Link,{href:d,children:t("groups_catalog_verification_tooltip_title")}),tooltipText:t("groups_catalog_verification_tooltip_text"),tooltipLinkText:t("groups_catalog_verification_tooltip_blog_link"),tooltipLink:"/blog/verification",icon:(0,o.jsx)(i.Icon16Verified,{}),iconLabel:t("groups_main_verified_icon_text"),iconHref:d,maxWidth:237}:e===c.GroupsGroupFullTrustMarkEnumNames.PREMIUM?{tooltipText:t("groups_main_premium_mark_tooltip_text"),tooltipLinkText:t("groups_main_marks_tooltip_link_text"),tooltipLink:_,icon:(0,o.jsx)(n.Icon16CrownVerified,{className:(0,l.getColorClass)("color_icon_accent"),"data-testid":"business_mark_verified"}),iconLabel:t("groups_main_premium_mark_text"),iconHref:_,maxWidth:288}:e===c.GroupsGroupFullTrustMarkEnumNames.CONFIRMED?{tooltipText:t("groups_main_confirmed_mark_tooltip_text"),tooltipLinkText:t("groups_main_marks_tooltip_link_text"),tooltipLink:u,icon:(0,o.jsx)(i.Icon16Verified,{className:(0,l.getColorClass)("color_icon_secondary"),"data-testid":"verified_business_icon"}),iconLabel:t("groups_main_confirmed_mark_text"),iconHref:u,maxWidth:237}:null}},730710:(e,t,a)=>{a.d(t,{GroupItemAfter:()=>o.GroupItemAfter,GroupItemBottom:()=>r.GroupItemBottom,GroupItemCounter:()=>n.GroupItemCounter,GroupItemVerifiedLabel:()=>i.GroupItemVerifiedLabel});var o=a(601778),r=a(725819),i=a(454526),n=a(756880)},689477:(e,t,a)=>{a.d(t,{GroupItem:()=>o.GroupItem});var o=a(459983)},984140:(e,t,a)=>{a.d(t,{getBadge:()=>s,getGroupUrl:()=>i,getMembersCountText:()=>n});var o=a(866467),r=a(908671);const i=e=>e.screen_name?`/${e.screen_name}`:`/club${e.id}`,n=(e=0)=>{const t=(0,r.formatCount)(e),a=e<1e3?e:0;return(0,o.getLang)("groups_catalog_subscribers_count",a).replace(String(a),t)},s=(e,t)=>{if(!t||!t.count)return{text:n(e)};const a=t.preview_profiles?.reduce(((e,t)=>t.photo_50?[...e,t.photo_50]:e),[]);return{photos:a,text:(0,o.getLang)("groups_subscribed_friends",t.count)}}},527607:(e,t,a)=>{a.d(t,{HeaderCompact:()=>v});var o=a(474848),r=a(296540),i=a(293721),n=a(552292),s=a(557992),l=a(947009),c=a(8520),d=a(540462),u=a(174269),_=a(743395),p=a(418755),g=a(409323),m=a(327677);const v=({actions:e,layout:t,badge:a,data_type:v,...S})=>{const h=(0,d.partConfigEnabled)("search_enable_new_design_catalog_header"),C=(0,d.partConfigEnabled)("video_showcase_mvk_continue_watch_design_fixes"),f="small"===t.style,I=(0,u.useScrollToBlockById)(S.id),{appCatalogService:E}=(0,u.useCatalogConfig)(),k=(0,i.useStore)(E.pageService.$pageId),y=(0,d.partConfigEnabled)("video_mvk_fix_playlist_actions_disappear")?"Playlist"===k:"video_playlist"===window.cur.screen;return(0,o.jsxs)(o.Fragment,{children:[I,C?(0,o.jsx)(n.HeaderLayout,{className:m.default.header,aside:!e&&y?(0,o.jsx)(g.PlaylistActions,{}):e?.map(((e,a)=>(0,r.createElement)(l.Action,{...S,key:e.track_code||a,action:e,layout:t.name,dataTestId:(0,p.getClipDataTestId)(e)||(0,p.getGroupItemsDataTestId)({layout:t,type:e.action?.type,isAction:Boolean(e.action)})}))),children:(0,o.jsx)(s.Header,{indicator:(0,o.jsx)(_.HeaderIndicator,{badge:a}),size:h&&!f?"large":"small",mode:h?"primary":"secondary",className:(0,c.classNames)(!h&&"CatalogHeaderCompact"),"data-testid":(0,p.getGroupItemsDataTestId)({layout:t,type:v,isAction:Boolean(e?.length)})||"catalog-header-section-block",children:t.title})}):(0,o.jsx)(s.Header,{indicator:(0,o.jsx)(_.HeaderIndicator,{badge:a}),size:h&&!f?"large":"small",mode:h?"primary":"secondary",className:(0,c.classNames)(m.default.header,!h&&"CatalogHeaderCompact"),aside:e?.map(((e,a)=>(0,r.createElement)(l.Action,{...S,key:e.track_code||a,action:e,layout:t.name,dataTestId:(0,p.getClipDataTestId)(e)}))),children:t.title})]})}},264383:(e,t,a)=>{a.d(t,{HeaderCompact:()=>o.HeaderCompact});var o=a(527607)},705303:(e,t,a)=>{a.d(t,{HeaderIndicator:()=>i});var o=a(474848),r=a(350072);const i=({badge:e})=>e?.text?"prominent"===e?.type?(0,o.jsx)(r.Counter,{size:"s",mode:"prominent",children:e.text}):(0,o.jsx)(o.Fragment,{children:e.text}):null},743395:(e,t,a)=>{a.d(t,{HeaderIndicator:()=>o.HeaderIndicator});var o=a(705303)},630667:(e,t,a)=>{a.d(t,{HeaderLarge:()=>_});var o=a(474848),r=a(296540),i=a(557992),n=a(293116),s=a(947009),l=a(766824),c=a(743395),d=a(293721),u=a(174269);const _=({actions:e,layout:t,badge:a,..._})=>{const{appCatalogService:p}=(0,u.useCatalogConfig)(),g=(0,d.useStore)(p.pageService.$catalogType)===u.CatalogType.GROUPS?(0,l.getOpenSectionHref)(e):void 0;return(0,o.jsx)(i.Header,{size:"large",href:g,mode:"primary",indicator:(0,o.jsx)(c.HeaderIndicator,{badge:a}),before:t.icon&&(0,o.jsx)(n.Image,{src:t.icon,size:28,borderRadius:"l"}),aside:e?.map(((e,a)=>(0,r.createElement)(s.Action,{..._,key:e.track_code||a,action:e,layout:t.name,ariaLabel:t.title}))),"aria-label":t.title,children:t.title})}},900417:(e,t,a)=>{a.d(t,{HeaderLarge:()=>o.HeaderLarge});var o=a(630667)},766824:(e,t,a)=>{a.d(t,{getOpenSectionHref:()=>o});const o=e=>e?.find((e=>"open_section"===e.action?.type))?.action?.url},216629:(e,t,a)=>{a.d(t,{Link:()=>L});var o=a(474848),r=a(314799),i=a(632731),n=a(751268),s=a(293116),l=a(213338),c=a(412888),d=a(260546),u=a(220208),_=a(918277),p=a(69381),g=a(621258),m=a(831505),v=a(424060),S=a(418755),h=a(931040),C=a(900388),f=a(49932),I=a(317216),E=a(911922),k=a(657293),y=a(351137),T=a(174269),A=a(856289),R=a(866467),x=a(342079);const L=({id:e,layout:t,type:a})=>{const{appCatalogService:L}=(0,y.useCatalogConfig)(),O=(0,y.useCollectClick)(),b=(0,T.useCatalogStoreMap)(L.linksService.$links,e),w=b?.meta?.track_code,V=(0,k.useRefLogView)({type:a,trackCode:w}),P=(0,r.useHelpHint)(i.AvailableHelpHints.ACCOUNT_HINT_VIDEO_WATCH_LATER_MENU),N=(0,r.useHelpHint)(i.AvailableHelpHints.ACCOUNT_HINT_VIDEO_WATCH_LATER_ACTION);if(!b)return null;const B=b?.url,M=()=>{O({track_code:w,type:a,action:I.SearchClickActionMap.TAP})},D=(0,E.getImageSrc)(t,b?.image);switch(t){case"slider":const e="verified"===b?.meta?.icon?(0,o.jsx)(_.RasterIcon24Verified,{alt:(0,R.getLang)("search_verified")}):b?.meta?.trust_mark===m.VideoCatalogLinkMetaTrustMarkEnumNames.PREMIUM?(0,o.jsx)(p.RasterIcon24CrownVerified,{alt:(0,R.getLang)("search_business_premium")}):b?.meta?.trust_mark===m.VideoCatalogLinkMetaTrustMarkEnumNames.CONFIRMED?(0,o.jsx)(g.RasterIcon24BusinessVerified,{alt:(0,R.getLang)("search_business_verified")}):null,t="mini_app"!==b?.meta?.content_type?(0,o.jsx)(n.RichAvatar,{size:f.SLIDER_AVATAR_SIZE_SM,src:D,nft:Boolean(b?.is_nft),children:e&&(0,o.jsx)(n.RichAvatar.Badge,{children:e})}):(0,o.jsx)(s.Image,{src:D,size:f.SLIDER_AVATAR_SIZE_SM,borderRadius:"l",children:e&&(0,o.jsx)(s.Image.Badge,{children:e})});return(0,o.jsx)(l.HorizontalCell,{"data-testid":"link_slider",getRootRef:V,size:"s",header:(0,o.jsx)(c.TextClamp,{lines:2,children:b.title}),href:B,onClick:M,children:t});case"triple_stacked_slider":return(0,o.jsx)(v.TripleStackedSliderLinkItem,{href:B,ref:V,avatarSrc:D,onClick:M,title:b.title||""});case"list":return(0,o.jsx)(d.SimpleCell,{"data-testid":"link_list",getRootRef:V,href:B,before:(0,E.isContentTypeUrl)(b)?(0,o.jsx)("div",{className:x.default.iconUrl,children:(0,o.jsx)(h.Icon28LinkOutline,{})}):(0,o.jsx)(s.Image,{size:f.CATALOG_AVATAR_SIZE_M,src:D,borderRadius:"l"}),after:(0,E.isArrowVisible)(b)?(0,o.jsx)(C.Icon28ChevronRightOutline,{}):void 0,subtitle:b.subtitle,onClick:M,children:b.title});case"small_list":return(0,o.jsx)(u.OnboardingTooltipContainer,{fixed:!0,children:(0,o.jsx)(d.SimpleCell,{"data-testid":"link_small_list",getRootRef:V,href:B,before:(0,S.testBookmarksSection)(B)&&P&&N?(0,o.jsx)(A.MenuHelpHintTooltip,{helpHint:P,placement:"top-start",maxWidth:262,children:(0,o.jsx)("img",{className:x.default.iconSmall,src:D})}):(0,o.jsx)("img",{className:x.default.iconSmall,src:D}),expandable:"always",onClick:M,children:b.title})});default:return null}}},424060:(e,t,a)=>{a.d(t,{TripleStackedSliderLinkItem:()=>c});var o=a(474848),r=a(296540),i=a(482199),n=a(49932),s=a(260546),l=a(751268);const c=(0,r.forwardRef)((({href:e,onClick:t,title:a,isVerified:r,avatarSrc:c},d)=>(0,o.jsx)(s.SimpleCell,{"data-testid":"link_triple_stacked_slider",getRootRef:d,onClick:t,href:e,before:(0,o.jsx)(l.RichAvatar,{size:n.CATALOG_AVATAR_SIZE_M,src:c,onClick:t}),badgeAfterTitle:r?(0,o.jsx)(i.Icon16Verified,{}):null,children:a})));c.displayName="TripleStackedSliderLinkItem"},677707:(e,t,a)=>{a.d(t,{Link:()=>o.Link});var o=a(216629)},911922:(e,t,a)=>{a.d(t,{getImageSrc:()=>n,isArrowVisible:()=>i,isContentTypeUrl:()=>r});var o=a(898848);const r=e=>"url"===e.meta?.content_type,i=e=>!r(e)&&!["curator","artist"].includes(e?.meta?.content_type??""),n=(e,t)=>{if(!t||!t?.length)return"";const[a,r,i]=t;return"small_list"===e?i?.url??"":(0,o.isRetina)()&&r?.url?r.url:a?.url??""}},166617:(e,t,a)=>{a.d(t,{List:()=>h});var o=a(474848),r=a(296540),i=a(172656),n=a(209808),s=a(49932),l=a(418755),c=a(8520),d=a(842600),u=a(351137),_=a(293721),p=a(174269),g=a(982058),m=a(878701),v=a(780571);const S=e=>{switch(e.data_type){case s.CatalogBlockDataType.LINKS:return null;case s.CatalogBlockDataType.VIDEOS:return"CatalogList--small";case s.CatalogBlockDataType.NEWSFEED_ITEMS:return"CatalogList--statuses";case s.CatalogBlockDataType.SEARCH_ENTITY_ITEMS:return"card"===e.layout.style?(0,c.classNames)("CatalogList--no-bottom","CatalogList--entity-card"):(0,c.classNames)("CatalogList--no-bottom",v.default.searchEntityFlat,0===e.blockIndex&&v.default.searchEntityFlatFirst)}if(0===e.blockIndex)return"CatalogList--no-header"},h=e=>{const{blockResolvers:t,appCatalogService:a}=(0,u.useCatalogConfig)(),v=(0,_.useStore)(a.pageService.$catalogType),{data_type:h,layout:C,actions:f}=e,I=(0,_.useStore)(a.catalogService.$loadingBlockIds),E=t?.[C.name]?.(e)||(0,g.getBlockByDataType)(e),k=h===s.CatalogBlockDataType.CATALOG_SEARCH_SUGGESTION,y=h===s.CatalogBlockDataType.NEWSFEED_ITEMS,T=(0,l.getEventItemTypeByDataType)(e),A=I.includes(e.id),R=(0,r.useMemo)((()=>{const t=(0,l.extractItemsIds)(e),a=(0,l.getMaxItemsByBlock)(e);return a?[...(0,p.chunks)(t,a)]:[t]}),[e]);return(0,o.jsx)(o.Fragment,{children:R.map(((t,a)=>(0,o.jsxs)(i.Group,{"data-suggester-item":k,mode:"plain",separator:"hide",className:(0,c.classNames)("CatalogList",v===s.CatalogType.GROUPS&&"CatalogList--groups",S(e)),children:[f?.map(((t,a)=>{const o=(0,d.getAction)(t);return(0,r.createElement)(o,{...e,key:t.track_code||a,action:t,layout:C.name})})),A&&(0,o.jsx)(n.PanelSpinner,{}),!A&&(y&&(0,m.isResizeObserverSupported)()?(0,o.jsx)(p.VirtualList,{items:t,Item:E}):t.map((t=>(0,r.createElement)(E,{...t,key:t.id,layout:e.layout.name,block_id:e.id,blockActions:e.actions,type:T,onOwnerActionClick:e.onOwnerActionClick}))))]},t[0]?.id||a)))})}},897907:(e,t,a)=>{a.d(t,{List:()=>o.List});var o=a(166617)},982058:(e,t,a)=>{a.d(t,{getBlockByDataType:()=>p});var o=a(49932),r=a(677707),i=a(657210),n=a(708109),s=a(469335),l=a(214955),c=a(762817),d=a(984905),u=a(374154),_=a(984839);const p=e=>{switch(e.data_type){case o.CatalogBlockDataType.GROUPS_CATEGORY_ITEMS:return u.GroupCategory;case o.CatalogBlockDataType.GROUPS_INVITES:return _.GroupInvite;case o.CatalogBlockDataType.LINKS:return r.Link;case o.CatalogBlockDataType.VIDEOS:return i.Video;case o.CatalogBlockDataType.ALBUMS:return n.Playlist;case o.CatalogBlockDataType.SEARCH_SUGGESTIONS:return l.SearchSuggestion;case o.CatalogBlockDataType.CATALOG_SEARCH_SUGGESTION:return s.Suggestion;case o.CatalogBlockDataType.MUSIC_AUDIOS:return c.MusicAudios;case o.CatalogBlockDataType.MUSIC_PLAYLISTS:return d.AudioPlaylist;default:return()=>null}}},179987:(e,t,a)=>{a.d(t,{MarketItem:()=>L});var o=a(474848),r=a(296540),i=a(293721),n=a(930291),s=a(206412),l=a(482199),c=a(534492),d=a(167751),u=a(865416),_=a(106965),p=a(49932),g=a(317216),m=a(351137),v=a(657293),S=a(469821),h=a(213338),C=a(279734),f=a(293116),I=a(271036),E=a(285056),k=a(211114),y=a(220208),T=a(412888),A=a(665606),R=a(174269),x=a(245665);const L=({id:e,type:t,layout:a})=>{const{appCatalogService:L}=(0,m.useCatalogConfig)(),O=(0,m.useCollectClick)(),[[b]]=(0,r.useState)((0,A.extractIds)(e)),[w,V]=(0,S.useElementSize)(),P=(0,R.useCatalogStoreMap)(L.marketItemsService.$marketItems,e),N=(0,R.useCatalogStoreMap)(L.groupsService.$groups,Math.abs(b)),B=(0,R.useCatalogStoreArray)(L.marketItemsService.$marketItemPendingIds,String(e)),M=(0,i.useStore)(L.pageService.$catalogType),D=P?.track_code,j=(0,v.useRefLogView)({type:t,trackCode:D}),G=e=>{O({track_code:D,type:t,action:e})},F=()=>G(g.SearchClickActionMap.TAP),U=(0,r.useCallback)((()=>{L.searchRecentService.fireAddRecent({owner_ids:`-${N?.id}`})}),[N]),H=(0,r.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),!B&&P&&(P.is_favorite?(G(g.SearchClickActionMap.UNFAVE),L.marketItemsService.fireRemoveFavorite({id:P.id,owner_id:P.owner_id})):(G(g.SearchClickActionMap.FAVE),L.marketItemsService.fireMakeFavorite({params:{id:P.id,owner_id:P.owner_id}})))}),[P,B]),$=(0,r.useMemo)((()=>{switch(a){case p.CatalogBlockLayoutName.SLIDER:return(0,_.getClosestImage)(P?.thumb||[],p.MARKET_ITEM_AVATAR_SIZE_SM)?.url??"";case p.CatalogBlockLayoutName.STACKED_LIST:return V.width?(0,_.getClosestImage)(P?.thumb||[],V.width)?.url??P?.thumb_photo??"":"";default:return P?.thumb_photo??""}}),[a,P,V.width]);if(!P)return null;const z=(0,A.getUrlWithTrackCode)((0,_.getMarketItemUrl)(P),D,M),W={"--image-height":`${V.width}px`};switch(a){case p.CatalogBlockLayoutName.SLIDER:return(0,o.jsx)(h.HorizontalCell,{"data-testid":"market_item_slider",getRootRef:j,size:"dynamic",className:"CatalogMarketItem",onClick:F,children:(0,o.jsxs)("div",{className:"CatalogMarketItem__inner",children:[(0,o.jsxs)(C.Link,{className:"CatalogMarketItem__avatar",hasHover:!1,href:z,children:[(0,o.jsx)(f.Image,{size:p.MARKET_ITEM_AVATAR_SIZE_SM,src:$}),(0,o.jsx)(I.IconButton,{"data-testid":"market_item_favorite",size:48,className:"CatalogMarketItem__avatarBtn",onClick:H,children:P.is_favorite?(0,o.jsx)(n.Icon28Favorite,{}):(0,o.jsx)(s.Icon28FavoriteOutline,{})})]}),(0,o.jsx)(C.Link,{className:"CatalogMarketItem__title",hasHover:!1,href:z,children:P.title}),(0,o.jsx)(E.Text,{weight:"1",className:"CatalogMarketItem__price",children:P.price.text}),N&&(0,o.jsxs)(C.Link,{className:"CatalogMarketItem__owner",hasHover:!1,href:`/${N.screen_name}`,onClick:U,children:[(0,o.jsx)("span",{className:"CatalogMarketItem__ownerName",children:N.name}),Boolean(N.verified)&&(0,o.jsx)("span",{className:"CatalogMarketItem__ownerIcon",children:(0,o.jsx)(l.Icon16Verified,{})})]})]})});case p.CatalogBlockLayoutName.STACKED_LIST:return(0,o.jsx)(k.Card,{"data-testid":"market_item_stacked_list",className:x.default.card,mode:"tint",children:(0,o.jsxs)(y.Tappable,{href:z,hasActive:!1,hasHover:!1,onClick:F,children:[(0,o.jsxs)("div",{className:x.default.imageWrapper,ref:w,style:W,children:[$?(0,o.jsx)("img",{className:x.default.image,src:$,width:"100%",height:"100%",alt:P.title}):(0,o.jsx)(c.Icon56MarketOutline,{}),(0,o.jsx)(I.IconButton,{"data-testid":"market_item_favorite",className:x.default.bookmark,onClick:H,children:P.is_favorite?(0,o.jsx)(d.Icon28Bookmark,{}):(0,o.jsx)(u.Icon28BookmarkOutline,{})})]}),(0,o.jsxs)("div",{className:x.default.body,children:[(0,o.jsx)(T.TextClamp,{TypographyComponent:E.Footnote,lines:1,weight:"3",className:x.default.subtitle,children:P.title}),(0,o.jsxs)(E.Subhead,{className:x.default.header,weight:"1",children:[(0,o.jsx)("span",{children:P.price.text}),P.price.old_amount_text&&(0,o.jsx)(E.Footnote,{weight:"3",className:x.default.oldPrice,children:P.price.old_amount_text})]}),N&&(0,o.jsxs)(E.Footnote,{className:x.default.group,weight:"3",children:[(0,o.jsx)(T.TextClamp,{lines:1,className:x.default.caption,children:N.name}),!!N.verified&&(0,o.jsx)(l.Icon16Verified,{className:x.default.verified})]})]})]})});default:return null}}},726984:(e,t,a)=>{a.d(t,{MarketItem:()=>o.MarketItem});var o=a(179987)},106965:(e,t,a)=>{a.d(t,{getClosestImage:()=>i,getMarketItemUrl:()=>r});var o=a(898848);const r=e=>`/product${e.owner_id}_${e.id}`,i=(e,t)=>{(0,o.isRetina)()&&(t*=2);return e.sort(((e,a)=>{const o=Math.max(e.width,e.height),r=Math.max(a.width,a.height),i=Math.abs(o-t),n=Math.abs(r-t);return i===n?r-o:i-n}))[0]}},430819:(e,t,a)=>{a.d(t,{MusicAudios:()=>v});var o=a(474848),r=a(8520),i=a(34897),n=a(642852),s=a(293721),l=a(29560),c=a(351137),d=a(317216),u=a(657293),_=a(866467),p=a(174269),g=a(139612),m=a(261233);const v=({id:e,type:t})=>{const{musicPlayer:a,userId:v,appCatalogService:S}=(0,c.useCatalogConfig)(),{id:h}=(0,g.mapAPIRawIdToAudioIdentity)(String(e)),C=(0,s.useStoreMap)(S.audioService.$audioItems,(e=>Array.from(e,(([,e])=>e)))),f=(0,p.useCatalogStoreMap)(S.audioService.$audioItems,e),I=(0,s.useStore)(S.audioService.$audioModifiedItems),E=I?.[h],k=(0,l.useAudioPlayer)(),y=(0,c.useCollectClick)(),T=(0,u.useRefLogView)({type:t,trackCode:f?.track_code});if(!f)return null;const A=k?.currentAudio?.id===f?.id,R=A&&"playing"===k.status;return(0,o.jsx)("div",{ref:T,children:(0,o.jsx)(n.MusicCell,{thumb:f?.album?.thumb?.photo_135,title:f.title,artists:[{name:f.artist}],duration:f.duration,hasThumbPlaying:R,hasThumbActivated:A,explicit:f.is_explicit,onClick:()=>{if(y({action:R?d.SearchClickActionMap.PAUSE:d.SearchClickActionMap.PLAY,track_code:f.track_code,type:t}),R)k?.platformAudioPlayer?.pause();else{const e=a?.playlistType&&{ownerId:v,albumId:f?.id,type:a.playlistType};k?.platformAudioPlayer?.playAudio(f,C,k?.audioPlayerContext,e)}},after:(0,o.jsx)(i.Icon24MoreVertical,{className:m.default.moreIcon,onClick:e=>{e.stopPropagation();const o=!!E?.isAdded||!E?.isDeleted&&f.owner_id===v,r={action:o?d.SearchClickActionMap.REMOVE_FROM_ME:d.SearchClickActionMap.ADD_TO_ME,track_code:f.track_code,type:t},i={audio_id:f.id,owner_id:f.owner_id,user_id:v,access_key:f.access_key||""},n={buttonText:o?(0,_.getLang)("global_delete_audio"):(0,_.getLang)("global_add_to_audio"),target:e.currentTarget,onButtonClick:(s=()=>(o?S.audioService.deleteAudioFromMyList:S.audioService.addAudioToMyList)(i),l=r,(...e)=>{y(l),s(...e)})};var s,l;a?.openAudioActions?.(n)}}),thumbSize:48,className:(0,r.classNames)(m.default.musicCell,m.default.padding)})})}},762817:(e,t,a)=>{a.d(t,{MusicAudios:()=>o.MusicAudios});var o=a(430819)},613719:(e,t,a)=>{a.d(t,{NextFrom:()=>c});var o=a(474848),r=a(293721),i=a(456921),n=a(564508),s=a(174269),l=a(540462);const c=(0,i.observer)((function({nextFrom:e,sectionId:t,rootMargin:a,loaderLineHeight:i}){const{appCatalogService:c}=(0,s.useCatalogConfig)(),d=(0,r.useStore)(c.catalogService.$isSectionPending),u=(0,r.useStore)(c.catalogService.$loadingBlockIds),_=(0,r.useStore)(c.catalogService.$fetchSectionError),{currentSectionService:p}=(0,s.useCatalogHandlersContext)(),g=t&&0===u.length;return g||(0,l.partConfigEnabled)("video_catalog_performance_improve")?(0,o.jsx)(n.DynamicPagination,{isLoading:p?p.checkNextLoading():d,fetchData:()=>{const a={section_id:t,start_from:e};p?p.fetchNext():c.catalogService.fireGetSection(a)},fetchError:_,nextFrom:e,rootMargin:a,loaderLineHeight:i,hide:(0,l.partConfigEnabled)("video_catalog_performance_improve")?!g:void 0,dontSavePrevious:!0}):null}))},705470:(e,t,a)=>{a.d(t,{NextFrom:()=>o.NextFrom});var o=a(613719)},853883:(e,t,a)=>{a.d(t,{Placeholder:()=>m});var o=a(474848),r=a(720836),i=a(866467),n=a(293721),s=a(49932),l=a(147853),c=a(8520),d=a(351137),u=a(296540),_=a(934393);const p={[s.CatalogBlockLayoutName.PLACEHOLDER]:56,[s.CatalogBlockLayoutName.PLACEHOLDER_IMAGE_WARNING]:100,[s.CatalogBlockLayoutName.PLACEHOLDER_ILLEGAL_QUERY]:100},g={[s.CatalogBlockLayoutName.PLACEHOLDER]:_.default.placeholderStretched,[s.CatalogBlockLayoutName.PLACEHOLDER_IMAGE_WARNING]:_.default.placeholderStretched,[s.CatalogBlockLayoutName.PLACEHOLDER_BIG]:_.default.placeholderBig,[s.CatalogBlockLayoutName.PLACEHOLDER_ILLEGAL_QUERY]:_.default.placeholderStretched},m=({placeholder_ids:e,layout:t})=>{const{appCatalogService:a}=(0,d.useCatalogConfig)(),{setContentRestricted:m}=(0,d.useCatalogSearch)(),v=(0,n.useStore)(a.placeholdersService.$placeholders),S=p[t.name];return(0,u.useEffect)((()=>{if(t.name===s.CatalogBlockLayoutName.PLACEHOLDER_ILLEGAL_QUERY){const e=setTimeout((()=>m(!0)));return()=>{clearTimeout(e),m(!1)}}}),[t.name]),(0,o.jsx)("div",{className:(0,c.classNames)(_.default.placeholder,g[t.name]),children:e?.map((e=>{const t=v.get(e);if(!t)return null;const a=t.buttons?.map(((t,a)=>{const r=(0,l.getButton)(t);return(0,o.jsx)(r,{id:e,button:t},a)}));return(0,o.jsx)(r.Placeholder,{header:t.title,action:a,icon:t.icons&&(0,o.jsx)("img",{className:_.default.image,width:S,height:S,srcSet:t.icons.map(((e,t)=>`${e.url} ${t+1}x`)).join(", "),alt:t.title}),children:t.text||(0,i.getLang)("mobile_search_no_found_summary")},e)}))})}},683766:(e,t,a)=>{a.d(t,{StartLive:()=>n});var o=a(474848),r=a(454154),i=a(174269);const n=({button:e})=>{const{openLiveSettings:t,liveEnabled:a}=(0,i.useCatalogVideo)();return(0,o.jsx)(o.Fragment,{children:a&&(0,o.jsx)(r.Button,{size:"m",mode:"primary",onClick:()=>{t({ownerId:e.owner_id})},children:e.title})})}},72736:(e,t,a)=>{a.d(t,{StartLive:()=>o.StartLive});var o=a(683766)},86658:(e,t,a)=>{a.d(t,{UploadVideo:()=>s});var o=a(474848),r=a(454154),i=a(293721),n=a(351137);const s=({button:e})=>{const{appCatalogService:t}=(0,n.useCatalogConfig)(),{openVideoUploader:a}=(0,n.useCatalogVideo)(),s=(0,i.useStoreMap)({store:t.playlistService.$playlistItems,keys:[e.owner_id||0,e.album_id||0],fn:(e,[t,a])=>e.find((({id:e,owner_id:o})=>e===a&&o===t))});return(0,o.jsx)(r.Button,{size:"m",mode:"primary",onClick:()=>{a({playlist:s})},children:e.title})}},263074:(e,t,a)=>{a.d(t,{UploadVideo:()=>o.UploadVideo});var o=a(86658)},681776:(e,t,a)=>{a.d(t,{Placeholder:()=>o.Placeholder});var o=a(853883)},147853:(e,t,a)=>{a.d(t,{getButton:()=>n});var o=a(263074),r=a(49932),i=a(72736);const n=e=>{switch(e.action?.type){case r.CatalogActionType.UPLOAD_VIDEO:return o.UploadVideo;case r.CatalogActionType.START_LIVE:return i.StartLive;default:return()=>null}}},733901:(e,t,a)=>{a.d(t,{Playlist:()=>T});var o=a(474848),r=a(296540),i=a(293721),n=a(866467),s=a(49932),l=a(831312),c=a(603710),d=a(671112),u=a(980353),_=a(402711),p=a(612570),g=a(657293),m=a(317216),v=a(314309),S=a(665606),h=a(351137),C=a(531424),f=a(792698),I=a(591485),E=a(172479),k=a(222062),y=a(174269);const T=({id:e,layout:t,type:a,badge:T})=>{const{appCatalogService:A}=(0,h.useCatalogConfig)(),[R,x]=e.toString().split("_"),{openPlaylistActions:L,isVideoPWA:O,isVideoStandalone:b}=(0,h.useCatalogVideo)(),w=(0,h.useCollectClick)(),V=(0,u.useWindowWidth)(),P=(0,i.useStore)(A.pageService.$catalogType),N=(0,i.useStore)(A.$isStandaloneSection),B=(0,i.useStoreMap)({store:A.playlistService.$playlistItems,keys:[R,x],fn:(e,[t,a])=>e.find((({id:e,owner_id:o})=>e===+a&&o===+t))}),M=(0,S.getUrlWithTrackCode)((0,d.getPlaylistURL)(B?.owner_id,B?.id),B?.track_code,P),D=(0,y.useCatalogStoreMap)(A.groupsService.$groups,Math.abs(Number(R))),j=(0,i.useStoreMap)({store:A.profilesService.$profiles,keys:[R],fn:(e,[t])=>e.get(+t)}),G=(0,r.useMemo)((()=>D||j),[D,j]),F=(0,r.useCallback)((e=>{const t=e=>()=>{w?.({action:e,track_code:B?.track_code,type:m.EventItemType.VIDEO_PLAYLIST}),v.searchStatsCollector.logOutOfSerpEvent({action:e,type:m.EventItemType.VIDEO_PLAYLIST})},a={copy:t(N?m.SearchClickActionMap.COPY_LINK_OUT:m.SearchClickActionMap.COPY_LINK),remove:t(N?m.SearchClickActionMap.REMOVE_FROM_ME_OUT:m.SearchClickActionMap.REMOVE_FROM_ME),unsubscribe:t(N?m.SearchClickActionMap.UNSUBSCRIBE_OUT:m.SearchClickActionMap.UNSUBSCRIBE),share:t(N?m.SearchClickActionMap.SHARE_OUT:m.SearchClickActionMap.SHARE)};L({target:e.currentTarget,playlist:B,clickEvents:a})}),[B,N]),U=()=>{w?.({action:m.SearchClickActionMap.TAP,track_code:B?.track_code,type:m.EventItemType.VIDEO_PLAYLIST})},H=()=>{w?.({action:N?m.SearchClickActionMap.OPEN_OWNER_OUT:m.SearchClickActionMap.OPEN_OWNER,track_code:B?.track_code,type:m.EventItemType.VIDEO_PLAYLIST})},$=(0,g.useRefLogView)({type:a,trackCode:B?.track_code});if(!B)return null;switch(t){case s.CatalogBlockLayoutName.LIST:return(0,o.jsx)(_.VideoListItem,{getRootRef:$,title:B?.title,secondTitle:(0,n.langNumeric)(B?.count||0,(0,n.getLang)("mobile_video_videos_counter","raw"),!0),url:M,preview:(0,o.jsx)(c.PlaylistPreview,{playlist:B,badge:T}),onMoreClick:F,onClick:U});case s.CatalogBlockLayoutName.SLIDER:case s.CatalogBlockLayoutName.DOUBLE_STACKED_SLIDER:return(0,o.jsx)(p.SliderCard,{playlist:B,getRootRef:$,badge:T});case s.CatalogBlockLayoutName.DOUBLE_STACKED_LIST:return(0,o.jsx)(l.PlaylistCard,{getRootRef:$,playlist:B,parentWidth:V});case s.CatalogBlockLayoutName.BANNER:return(0,o.jsx)(C.PlaylistBanner,{images:B.image,imageBlur:Boolean(B.image_blur)});case s.CatalogBlockLayoutName.TITLE_SUBTITLE_AVATAR:return(0,o.jsx)(f.PlaylistHeader,{ownerId:B.owner_id,title:B.title,ownerUrl:(0,E.getOwnerUrl)(G,O||b?"/@":"/"),ownerAvatar:(0,I.getOwnerAvatar)(G),isNFT:(0,k.checkOwnerIsNFT)(G),followersCount:B.followers_count,onAuthorClick:H});default:return null}}},132070:(e,t,a)=>{a.d(t,{PlaylistActions:()=>l});var o=a(474848),r=a(175400),i=a(540462),n=a(94528),s=a(843781);const l=()=>(0,o.jsxs)(r.ButtonGroup,{children:[(0,o.jsx)(n.PlaylistSortButton,{}),(0,i.partConfigEnabled)("video_mvk_videopage_with_playlist")&&(0,i.partConfigEnabled)("video_mvk_playlist_page_shuffle_btn")&&(0,o.jsx)(s.PlaylistShuffleButton,{})]})},409323:(e,t,a)=>{a.d(t,{PlaylistActions:()=>o.PlaylistActions});var o=a(132070)},531424:(e,t,a)=>{a.d(t,{PlaylistBanner:()=>c});var o=a(474848),r=a(296540),i=a(8520),n=a(812009),s=a(980353),l=a(828336);const c=({images:e=[],imageBlur:t=!1})=>{const[a,c]=(0,r.useState)(!1),d=(0,s.useWindowWidth)(),u=(0,i.getPhotoSize)(e.filter((e=>!e.with_padding)),d);(0,r.useEffect)((()=>{u?.url&&c(!1)}),[u?.url]);const _=!!u&&u.height/u.width>1;return(0,o.jsx)("div",{className:(0,i.classNames)(l.default.root,l.default.ratio,{[l.default.verticalRatio]:_}),children:u?.url&&!a?(0,o.jsx)("img",{onError:()=>c(!0),className:(0,i.classNames)(l.default.thumb,{[l.default.verticalThumb]:_,[l.default.blur]:t}),loading:"lazy",src:u.url,width:u.width,height:u.height}):(0,o.jsx)(n.Icon56ListPlayOutline,{className:l.default.placeholder})})}},831312:(e,t,a)=>{a.d(t,{PlaylistCard:()=>g});var o=a(474848),r=a(866467),i=a(504944),n=a(671112),s=a(8520),l=a(317216),c=a(351137),d=a(293721),u=a(665606),_=a(285056),p=a(412888);const g=({playlist:e,parentWidth:t=0,getRootRef:a})=>{const{devicePixelRatio:g,appCatalogService:m}=(0,c.useCatalogConfig)(),v=(0,c.useCollectClick)(),S=(0,s.getPhotoSize)(e?.image||[],t/2*g),h=Boolean(e?.image_blur),C=(0,d.useStore)(m.pageService.$catalogType),f=(0,u.getUrlWithTrackCode)((0,n.getPlaylistURL)(e?.owner_id,e?.id),e?.track_code,C),I=()=>{v?.({action:l.SearchClickActionMap.TAP,track_code:e?.track_code,type:l.EventItemType.VIDEO_PLAYLIST})};return(0,o.jsxs)("div",{ref:a,className:i.default.root,children:[(0,o.jsxs)("a",{"data-testid":"album_card",href:f,onClick:I,className:i.default.preview,children:[(0,o.jsx)("img",{src:S?.url,className:(0,s.classNames)(i.default.thumb,{[i.default.blur]:h})}),e?.count&&e.count>1&&(0,o.jsx)(_.Footnote,{weight:"1",className:i.default.counter,children:(0,r.getLang)("mobile_video_series_counter",e.count,!0)})]}),!!e?.title&&(0,o.jsx)(p.TextClamp,{TypographyComponent:_.Headline,Component:"a",level:"2",href:f,onClick:I,className:i.default.title,lines:2,children:e.title})]})}},792698:(e,t,a)=>{a.d(t,{PlaylistHeader:()=>_});var o=a(474848),r=a(916126),i=a(751268),n=a(412888),s=a(285056),l=a(866467),c=a(351137),d=a(451549),u=a(558e3);const _=({ownerId:e,ownerUrl:t,ownerAvatar:a,title:_,followersCount:p,isNFT:g,onAuthorClick:m})=>{const{navGo:v}=(0,c.useCatalogConfig)(),{openUnauthorizedMoreBox:S}=(0,c.useCatalogVideo)();return(0,o.jsxs)("div",{className:r.default.root,children:[e!==window.vk.id&&(0,o.jsx)(i.RichAvatar,{className:r.default.avatar,nft:!!g,size:40,src:a,onClick:e=>{m?.(),(0,d.isVKUserAnonymous)()?S({source:u.UnauthorizedSourceType.SUBSCRIBE_VIDEO_AUTHOR,event:e}):v(t)}}),(0,o.jsxs)("div",{className:r.default.titleWrapper,children:[(0,o.jsx)(n.TextClamp,{TypographyComponent:s.Title,level:"3",className:r.default.title,lines:2,children:_}),(0,o.jsx)(s.Headline,{level:"2",className:r.default.subtitle,children:p?(0,o.jsx)("span",{dangerouslySetInnerHTML:{__html:(0,l.langNumeric)(p,(0,l.getLang)("video_showcase_N_subscribers","raw"),!0)}}):(0,l.getLang)("mobile_video_playlist_no_subscribers")})]})]})}},603710:(e,t,a)=>{a.d(t,{PlaylistPreview:()=>c});var o=a(474848),r=a(220208),i=a(90330),n=a(246055),s=a(308951),l=a(351137);const c=({playlist:e,owner:t,badge:a})=>{const{userId:c}=(0,l.useCatalogConfig)();return(0,o.jsxs)("div",{className:i.default.root,children:[(0,o.jsx)(n.VideoPreview,{video:{image:e?.image,privacy_view:e?.privacy,restriction:e?.cover_video_restriction},ownerId:t?.id||0,viewerId:c,mode:"compact"}),(0,o.jsx)("div",{className:i.default.overlay,children:(0,o.jsx)(s.Icon20ListPlayOutline,{})}),!!a&&(0,o.jsx)(r.Badge,{mode:"new",className:i.default.badge})]})}},476314:(e,t,a)=>{a.d(t,{PlaylistShuffleButton:()=>p});var o=a(474848),r=a(296540),i=a(870821),n=a(700272),s=a(271036),l=a(723723),c=a(149333),d=a(768035),u=a(670542);const _=e=>{const{getLang:t}=(0,c.useLangs)(),{isLoading:a,isDisabled:r,shufflePlaylist:d}=(0,u.useShufflePlaylist)(e);return a?(0,o.jsx)(n.Spinner,{}):(0,o.jsx)(s.IconButton,{className:(0,l.getColorClass)("color_icon_secondary"),onClick:d,label:t("video_mvk_videopage_shuffled_order"),disabled:r,activeMode:"opacity",hoverMode:"opacity",hasActive:!1,noPadding:!0,children:(0,o.jsx)(i.Icon24ShuffleOutline,{})})},p=(0,r.memo)((function(){const e=window.location.pathname.split("/").at(2);if(!e)return null;const{id:t,ownerId:a}=(0,d.parseRawId)(e);return(0,o.jsx)(_,{ownerId:a,playlistId:t})}))},670542:(e,t,a)=>{a.d(t,{useShufflePlaylist:()=>p});var o=a(296540),r=a(293721),i=a(8520),n=a(22421),s=a(768035),l=a(873900),c=a(883828),d=a(174269),u=a(841315);const _="shuffle_key",p=({playlistId:e,ownerId:t})=>{const{setSnackbar:a,showSnackbar:p}=(0,r.useUnit)(d.appCatalogService.layoutService),{catalog:g,catalogType:m}=(0,r.useUnit)({catalog:d.appCatalogService.catalogService.$catalog,catalogType:d.appCatalogService.pageService.$catalogType}),{$shuffleKey:v,$randomVideo:S,$randomVideoPending:h,$randomVideoError:C,$needSortPlaylist:f}=(0,r.useUnit)(d.appCatalogService.playlistService),I=(0,o.useMemo)((()=>g.sections[0]?.blocks?.find((e=>"videos"===e.data_type))?.videos_ids?.[0]),[g]),E=(0,r.useStoreMap)({store:d.appCatalogService.videoService.$videoItems,keys:[I],fn:(e,[t])=>{if(t)try{const{id:a,ownerId:o}=(0,s.parseRawId)(t),r=e.find((({id:e,owner_id:t})=>e===a&&t===o));return r?.track_code}catch{return}}}),k=(0,o.useCallback)((()=>{d.appCatalogService.playlistService.fireGetRandomVideo({owner_id:t,album_id:e,track_code:E,shuffle_key:(0,i.getRandomInt)(1,c.MAX_INT32)})}),[e,t,E]);return(0,o.useEffect)((()=>{if(h||!v||!S)return;const a=(0,l.getIdentityRawId)({id:e,ownerId:t}),o=(0,u.getVideoUrl)(S,{playlistId:a}),r=(0,d.getUrlWithTrackCode)(o,S.track_code,m),i=(0,n.makeUrl)(r,{[_]:`${v}`});window.nav.go(i)}),[h,S,m,v,e,t]),(0,o.useEffect)((()=>{C&&(a(null),p({isError:!0,event:d.SNACKBAR_EVENTS.ERROR}),d.appCatalogService.playlistService.fireClearRandomVideoData())}),[C]),(0,o.useEffect)((()=>()=>{d.appCatalogService.playlistService.fireClearRandomVideoData()}),[]),{shufflePlaylist:k,isLoading:h,isDisabled:f}}},843781:(e,t,a)=>{a.d(t,{PlaylistShuffleButton:()=>o.PlaylistShuffleButton});var o=a(476314)},895196:(e,t,a)=>{a.d(t,{PlaylistSortButton:()=>u});var o=a(474848),r=a(867696),i=a(271036),n=a(723723),s=a(296540),l=a(149333),c=a(264552);const d=({ownerId:e,playlistId:t})=>{const{getLang:a}=(0,l.useLangs)(),{isReversed:s,reversePlaylist:d,playlistSortDisabled:u}=(0,c.useReversedPlaylist)({ownerId:e,playlistId:t}),_=a(s?"video_playlist_reset_order":"video_playlist_reverse_tt");return(0,o.jsx)(i.IconButton,{className:(0,n.getColorClass)(s?"color_icon_primary":"color_icon_secondary"),onClick:d,label:_,activeMode:"opacity",hoverMode:"opacity",disabled:u,hasActive:!1,noPadding:!0,children:(0,o.jsx)(r.Icon24SortOutline,{})})},u=(0,s.memo)((function(){const e=window.nav.path.split("/").at(-1);if(!e)return null;const[t,a]=e.split("_").map(Number);return(0,o.jsx)(d,{ownerId:t,playlistId:a})}))},264552:(e,t,a)=>{a.d(t,{useReversedPlaylist:()=>s});var o=a(296540),r=a(174269),i=a(293721),n=a(344384);const s=({playlistId:e,ownerId:t})=>{const[a,s]=(0,o.useState)((()=>(0,n.checkIsPlaylistReversed)({playlistId:e,ownerId:t}))),l=(0,i.useStore)(r.appCatalogService.playlistService.$needSortPlaylist),c=(0,i.useStore)(r.appCatalogService.playlistService.$randomVideoPending),d=l||c,u=(0,o.useCallback)((()=>{if(d)return;const o=a?0:1;(0,n.setReversedPlaylist)({playlistId:e,ownerId:t,isReversed:o}),r.appCatalogService.playlistService.fireNeedSortPlaylist(!0),s(o)}),[a,t,e,d]);return{playlistSortDisabled:d,isReversed:a,reversePlaylist:u}}},94528:(e,t,a)=>{a.d(t,{PlaylistSortButton:()=>o.PlaylistSortButton});var o=a(895196)},612570:(e,t,a)=>{a.d(t,{SliderCard:()=>_});var o=a(474848),r=a(671112),i=a(603710),n=a(351137),s=a(317216),l=a(665606),c=a(293721),d=a(213338),u=a(412888);const _=({playlist:e,getRootRef:t,badge:a})=>{const{appCatalogService:_}=(0,n.useCatalogConfig)(),p=(0,n.useCollectClick)(),g=(0,c.useStore)(_.pageService.$catalogType),m=(0,l.getUrlWithTrackCode)((0,r.getPlaylistURL)(e?.owner_id,e?.id),e?.track_code,g);return(0,o.jsx)(d.HorizontalCell,{"data-testid":"slider_card",getRootRef:t,size:"dynamic",href:m,onClick:()=>{p({action:s.SearchClickActionMap.TAP,track_code:e?.track_code,type:s.EventItemType.VIDEO_PLAYLIST})},header:e?.title?(0,o.jsx)(u.TextClamp,{lines:2,children:e.title}):null,children:(0,o.jsx)(i.PlaylistPreview,{playlist:e,badge:a})})}},708109:(e,t,a)=>{a.d(t,{Playlist:()=>o.Playlist});var o=a(733901)},155603:(e,t,a)=>{a.d(t,{Preview:()=>i});var o=a(474848),r=a(824921);const i=e=>{const{group_items:t,layout:a,actions:i,id:n}=e,s=(0,r.getBlockByDataType)(e),l=i?.find((({action:e})=>"open_url"===e?.type));return(0,o.jsx)(s,{id:n,group_items:t,action:l,layout:a.name,description:a.subtitle,title:a.title})}},824921:(e,t,a)=>{a.d(t,{getBlockByDataType:()=>i});var o=a(49932),r=a(25168);const i=e=>e.data_type===o.CatalogBlockDataType.GROUPS_ITEMS?r.PreviewGroupItems:()=>null},875705:(e,t,a)=>{a.d(t,{Preview:()=>o.Preview});var o=a(155603)},405755:(e,t,a)=>{a.d(t,{PreviewGroupItems:()=>p});var o=a(474848),r=a(296540),i=a(293721),n=a(174269),s=a(49932),l=a(260546),c=a(655676),d=a(194528),u=a(525421);const _=({group_items:e,layout:t,description:a,title:r,action:_})=>{const{appCatalogService:p}=(0,n.useCatalogConfig)(),g=e?.map((e=>e.id)),m=(0,i.useStoreMap)({store:p.groupsService.$groups,keys:[g],fn:(e,[t=[]])=>t.map((t=>e.get(t))).filter((e=>Boolean(e))).map((e=>e.photo_50))}),v=(0,u.getHref)(_);return t===s.CatalogBlockLayoutName.PREVIEW?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.SimpleCell,{href:v,before:(0,o.jsxs)(c.AvatarStack,{size:48,direction:"top",hasHover:!1,hasActive:!1,children:[(0,o.jsx)(c.AvatarStack.Item,{src:m[0]}),(0,o.jsx)(c.AvatarStack.Item,{src:m[1]})]}),expandable:"always",subtitle:a,children:r}),(0,o.jsx)(d.Spacing,{size:12})]}):null},p=(0,r.memo)(_)},25168:(e,t,a)=>{a.d(t,{PreviewGroupItems:()=>o.PreviewGroupItems});var o=a(405755)},525421:(e,t,a)=>{a.d(t,{getHref:()=>o});const o=e=>e?.action?.url?e.action.url.replace("static.vk.com","m.vk.com/vkui"):""},671423:(e,t,a)=>{a.d(t,{SearchSpellchecker:()=>g});var o=a(474848),r=a(293721),i=a(260546),n=a(285056),s=a(194528),l=a(279734),c=a(247368),d=a(317216),u=a(657293),_=a(351137),p=a(929477);const g=({id:e,type:t})=>{const{appCatalogService:a}=(0,_.useCatalogConfig)(),{search:g}=(0,_.useCatalogSearch)(),m=(0,_.useCollectClick)(),v=(0,r.useStore)(a.pageService.$pageId),S=(0,r.useStoreMap)({store:a.searchSpellcheckersService.$searchSpellcheckers,keys:[e],fn:(e,[t])=>e.find((({id:e})=>e===t))}),h=S?.track_code,C=(0,u.useRefLogView)({type:t,trackCode:h});if(!S)return null;const f=(0,c.prepareSpellcheck)(S);return(0,o.jsxs)(i.SimpleCell,{getRootRef:C,className:p.default.searchSpellcheck,hasActive:!1,hasHover:!1,children:[(0,o.jsxs)(n.Text,{"data-testid":"spellcheker_text",className:p.default.searchSpellcheckTitle,children:[f.title," ",(0,o.jsx)(n.Text,{"data-testid":"spellcheker_request",className:p.default.searchSpellcheckQuery,weight:"1",children:f.query.text})]}),(0,o.jsx)(s.Spacing,{size:4}),(0,o.jsxs)(n.Text,{className:p.default.searchSpellcheckSubtitle,children:[f.suggest," ",(0,o.jsx)(l.Link,{"data-testid":"search_spellchecker",onClick:()=>{S?.id&&h&&(g({q:S.search_action.next_search_query,page:v,additionalParams:{suggestTrackCode:h,noSpellcheck:1}}),m({action:d.SearchClickActionMap.TAP,track_code:S.track_code,type:d.EventItemType.CATALOG_ITEM}))},className:p.default.searchSpellcheckSubtitleButton,children:f.search_action.text})]})]})}},402329:(e,t,a)=>{a.d(t,{SearchSuggestion:()=>_});var o=a(474848),r=a(293721),i=a(260546),n=a(386872),s=a(258617),l=a(351137),c=a(317216),d=a(657293),u=a(174269);const _=({id:e,layout:t,type:a})=>{const{appCatalogService:_}=(0,l.useCatalogConfig)(),{search:p}=(0,l.useCatalogSearch)(),g=(0,l.useCollectClick)(),m=(0,r.useStore)(_.pageService.$pageId),v=(0,u.useCatalogStoreMap)(_.suggestionsService.$suggestions,e),S=(0,d.useRefLogView)({type:a,trackCode:v?.track_code});if(!v)return null;const{title:h="",subtitle:C,context:f,id:I,track_code:E}=v,k=()=>{I&&h&&(g({action:c.SearchClickActionMap.TAP,track_code:E,type:a}),p({q:h,page:m,additionalParams:{context:f,suggestTrackCode:E}}))};return"slider"===t?(0,o.jsx)(s.SliderSuggestion,{title:h,subtitle:C,onClick:k,ref:S}):(0,o.jsx)(i.SimpleCell,{"data-testid":"search_suggestion","data-suggester-item":!0,onClick:k,before:(0,o.jsx)(n.Icon28SearchOutline,{}),getRootRef:S,children:h})}},813864:(e,t,a)=>{a.d(t,{SliderSuggestion:()=>l});var o=a(474848),r=a(296540),i=a(303800),n=a(865786),s=a(682624);const l=(0,r.forwardRef)((({title:e,subtitle:t,onClick:a},r)=>(0,o.jsx)(i.Div,{className:s.default.suggestionItem,getRootRef:r,children:(0,o.jsx)(n.SearchSuggestion,{title:e,subtitle:t,onClick:a})})))},258617:(e,t,a)=>{a.d(t,{SliderSuggestion:()=>o.SliderSuggestion});var o=a(813864)},214955:(e,t,a)=>{a.d(t,{SearchSuggestion:()=>o.SearchSuggestion});var o=a(402329)},144967:(e,t,a)=>{a.d(t,{Slider:()=>v});var o=a(474848),r=a(296540),i=a(49932),n=a(418755),s=a(947009),l=a(418562),c=a(781036),d=a(351137),u=a(467463),_=a(354592),p=a(303800),g=a(770973);const m=[i.CatalogBlockLayoutName.SLIDER_MINIMALISTIC_CARD,i.CatalogBlockLayoutName.SLIDER_CARD,i.CatalogBlockLayoutName.SLIDER_EVENT,i.CatalogBlockLayoutName.SHORT_VIDEO_SLIDER_WITH_VIEW_COUNTER],v=e=>{const{blockResolvers:t}=(0,d.useCatalogConfig)(),{layout:a,actions:v}=e,S=(0,r.useMemo)((()=>(0,n.extractItemsIds)(e)),[e]),h=t?.[a.name]?.(e)||(0,c.getBlockByDataType)(e),C=(0,n.getEventItemTypeByDataType)(e);if(!S.length&&1===v?.length&&a.name===i.CatalogBlockLayoutName.HORIZONTAL_BUTTONS){const e=v?.[0],t=e?.track_code||(0,l.default)();return(0,o.jsx)(s.Action,{id:t,action:e,layout:a.name},t)}const f=(0,c.getScrollSize)(a),I=m.includes(a.name),E={className:g.default.content,spacing:0,...I?{mode:"horizontal",paddingBottom:4}:{mode:"vertical",paddingBottom:8,paddingTop:8}};return(0,o.jsx)(_.HorizontalScroll,{getScrollToLeft:e=>e-f,getScrollToRight:e=>e+f,children:(0,o.jsxs)(p.Div,{...E,children:[S.map(((e,t)=>(0,o.jsx)(h,{...e,layout:a.name,type:C,itemIndex:t},e.id))),(0,o.jsx)(u.SliderPagination,{...e}),v?.map((e=>{const t=e.track_code||(0,l.default)();return(0,o.jsx)(s.Action,{id:t,action:e,layout:a.name},t)}))]})})}},467463:(e,t,a)=>{a.d(t,{SliderPagination:()=>d});var o=a(474848),r=a(564508),i=a(174269),n=a(235104),s=a(456921),l=a(293721),c=a(770973);const d=(0,s.observer)((function(e){const{appCatalogService:t}=(0,i.useCatalogConfig)(),a=(0,l.useStore)(t.catalogService.CatalogGetBlockItemsFx.pending),{next_from:s,id:d}=e,{hasPagination:u,loadingComponent:_}=(0,n.paginationData)(e),{currentSectionService:p}=(0,i.useCatalogHandlersContext)(),g=()=>{p?p.fetchNextFromBlock(d):t.catalogService.fireGetBlockItems({block_id:d,start_from:s})};return u&&s?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:c.default.pagination,children:(0,o.jsx)(r.DynamicPagination,{withSpinner:!1,isLoading:p?p.checkNextFromBlockLoading(d):a,nextFrom:s,fetchData:g})}),_]}):null}))},781036:(e,t,a)=>{a.d(t,{getBlockByDataType:()=>g,getScrollSize:()=>m});var o=a(49932),r=a(677707),i=a(726984),n=a(689477),s=a(657210),l=a(708109),c=a(947009),d=a(214955),u=a(984905),_=a(716286),p=a(374154);const g=e=>{switch(e.data_type){case o.CatalogBlockDataType.LINKS:return r.Link;case o.CatalogBlockDataType.ACTION:return c.Action;case o.CatalogBlockDataType.MARKET_ITEMS:return i.MarketItem;case o.CatalogBlockDataType.GROUPS_ALL:case o.CatalogBlockDataType.GROUPS_ITEMS:return n.GroupItem;case o.CatalogBlockDataType.GROUPS_COLLECTION:return _.GroupCollection;case o.CatalogBlockDataType.GROUPS_CATEGORY_ITEMS:return p.GroupCategory;case o.CatalogBlockDataType.VIDEOS:return s.Video;case o.CatalogBlockDataType.ALBUMS:return l.Playlist;case o.CatalogBlockDataType.SEARCH_SUGGESTIONS:return d.SearchSuggestion;case o.CatalogBlockDataType.MUSIC_PLAYLISTS:return u.AudioPlaylist;default:return()=>null}},m=e=>{switch(e.name){case o.CatalogBlockLayoutName.SLIDER_MINIMALISTIC_CARD:return o.GROUP_REDESIGN_SLIDER_SCROLL;case o.CatalogBlockLayoutName.SLIDER_CARD:case o.CatalogBlockLayoutName.SLIDER_EVENT:return o.GROUP_REDESIGN_EVENT_SLIDER_SCROLL;default:return o.SLIDER_SCROLL}}},260938:(e,t,a)=>{a.d(t,{Slider:()=>o.Slider});var o=a(144967)},235104:(e,t,a)=>{a.d(t,{paginationData:()=>s});var o=a(474848),r=a(49932),i=a(224788),n=a(770973);const s=({data_type:e,layout:t})=>(e=>{switch(e.name){case r.CatalogBlockLayoutName.SLIDER_MINIMALISTIC_CARD:case r.CatalogBlockLayoutName.SLIDER_EVENT:return!0;default:return!1}})(t)&&e===r.CatalogBlockDataType.GROUPS_ITEMS?{hasPagination:!0,loadingComponent:(0,o.jsx)("div",{className:n.default.groupsItemSliderElement,children:(0,o.jsx)(i.RecommendationBlock.LoadingCard,{size:"square",cardProps:{stretched:!0,withButton:!0}})})}:{hasPagination:!1}},792687:(e,t,a)=>{a.d(t,{StackedList:()=>_});var o=a(474848),r=a(296540),i=a(53525),n=a(418755),s=a(220208),l=a(303800),c=a(591378),d=a(812950),u=a(174269);const _=e=>{const{layout:t,data_type:a}=e,{blockResolvers:_}=(0,u.useCatalogConfig)(),p=(0,r.useMemo)((()=>(0,n.extractItemsIds)(e)),[e]),g=_?.[t.name]?.(e)||(0,i.getBlockByDataType)(e),m=(0,n.getEventItemTypeByDataType)(e),{viewWidth:v=s.ViewWidth.MOBILE}=(0,s.useAdaptivityWithJSMediaQueries)(),S=v>=s.ViewWidth.SMALL_TABLET;return(0,i.getIsWideGridStackedItem)(a)?(0,o.jsx)(l.Div,{mode:"horizontal",spacing:0,children:(0,o.jsx)(c.Grid,{columns:S?2:1,spacing:12,children:p.map((t=>(0,o.jsx)(c.Grid.Item,{children:(0,o.jsx)(g,{...t,layout:e.layout.name,block_id:e.id,type:m})},t.id)))})}):(0,o.jsx)(d.CardGrid,{size:S?"s":"m",spaced:!0,children:p.map((t=>(0,r.createElement)(g,{...t,key:t.id,layout:e.layout.name,block_id:e.id,type:m})))})}},285768:(e,t,a)=>{a.d(t,{StackedList:()=>o.StackedList});var o=a(792687)},53525:(e,t,a)=>{a.d(t,{getBlockByDataType:()=>i,getIsWideGridStackedItem:()=>n});var o=a(49932),r=a(689477);const i=e=>e.data_type===o.CatalogBlockDataType.GROUPS_ITEMS?r.GroupItem:()=>null,n=e=>e===o.CatalogBlockDataType.GROUPS_ITEMS},475138:(e,t,a)=>{a.d(t,{Suggestion:()=>m});var o=a(474848),r=a(293721),i=a(260546),n=a(271036),s=a(516744),l=a(560265),c=a(386872),d=a(317216),u=a(351137),_=a(657293),p=a(174269),g=a(458431);const m=({id:e,track_code:t,block_id:a,type:m})=>{const{appCatalogService:v}=(0,u.useCatalogConfig)(),{search:S}=(0,u.useCatalogSearch)(),h=(0,u.useCollectClick)(),C=(0,r.useStore)(v.pageService.$pageId),f=(0,p.useCatalogStoreMap)(v.suggestionsService.$suggestions,e),I=f?.track_code||t,E=(0,_.useRefLogView)({type:m,trackCode:I}),k=()=>{f?.id&&f.title&&(S({q:f.title,page:C,additionalParams:{suggestTrackCode:I}}),h({action:d.SearchClickActionMap.TAP,track_code:I,type:m}))},y=e=>{e.stopPropagation(),e.preventDefault(),f?.id&&(a&&v.suggestionsService.fireRemoveSearchRecentQuery({block_id:a,params:{item_id:f.id,track_code:I}}),h({action:d.SearchClickActionMap.REMOVE_RECENT,track_code:I,type:m}))};return f?"recent"===f.type?(0,o.jsx)(i.SimpleCell,{"data-testid":"suggestion_recent",getRootRef:E,"data-suggester-item":!0,onClick:k,before:(0,o.jsx)(s.Icon28HistoryBackwardOutline,{}),after:(0,o.jsx)(n.IconButton,{onClick:y,"data-testid":"suggestion_recent_clear",children:(0,o.jsx)(l.Icon24Cancel,{className:g.default.suggestionRemove})}),children:f.title}):(0,o.jsx)(i.SimpleCell,{"data-testid":"search_suggestion",getRootRef:E,"data-suggester-item":!0,onClick:k,before:(0,o.jsx)(c.Icon28SearchOutline,{}),children:f.title}):null}},469335:(e,t,a)=>{a.d(t,{Suggestion:()=>o.Suggestion});var o=a(475138)},854411:(e,t,a)=>{a.d(t,{Text:()=>l});var o=a(474848),r=a(296540),i=a(172656),n=a(635457),s=a(418755);const l=e=>{const t=(0,r.useMemo)((()=>(0,n.extractItemsIds)(e)),[e]),a=(0,n.getBlockByDataType)(e),l=(0,s.getEventItemTypeByDataType)(e);return(0,o.jsx)(i.Group,{mode:"plain",separator:"hide",children:t.map((t=>(0,r.createElement)(a,{...t,key:t.id,layout:e.layout.name,block_id:e.id,type:l})))})}},872196:(e,t,a)=>{a.d(t,{Text:()=>o.Text});var o=a(854411)},635457:(e,t,a)=>{a.d(t,{extractItemsIds:()=>i,getBlockByDataType:()=>n});var o=a(49932),r=a(671423);const i=e=>e.data_type===o.CatalogBlockDataType.SEARCH_SPELLCHECKER&&e?.search_spellcheckers_ids?.map((e=>({id:e})))||[],n=e=>e.data_type===o.CatalogBlockDataType.SEARCH_SPELLCHECKER?r.SearchSpellchecker:()=>null},874335:(e,t,a)=>{a.d(t,{TitleSubtitleAvatar:()=>s});var o=a(474848),r=a(296540),i=a(378319),n=a(418755);const s=e=>{const t=(0,r.useMemo)((()=>(0,i.extractItemsIds)(e)),[e]),a=(0,i.getBlockByDataType)(e),s=(0,n.getEventItemTypeByDataType)(e);return(0,o.jsx)("div",{children:t.map((t=>(0,o.jsx)(a,{...t,layout:e.layout.name,type:s},t.id)))})}},874794:(e,t,a)=>{a.d(t,{TitleSubtitleAvatar:()=>o.TitleSubtitleAvatar});var o=a(874335)},378319:(e,t,a)=>{a.d(t,{extractItemsIds:()=>i,getBlockByDataType:()=>n});var o=a(49932),r=a(708109);const i=e=>e.data_type===o.CatalogBlockDataType.ALBUMS&&e.albums_ids?.map((e=>({id:e})))||[],n=e=>e.data_type===o.CatalogBlockDataType.ALBUMS?r.Playlist:()=>null},31619:(e,t,a)=>{a.d(t,{TripleStackedSlider:()=>d});var o=a(474848),r=a(296540),i=a(354592),n=a(171284),s=a(418755),l=a(975654),c=a(174269);const d=e=>{const{blockResolvers:t}=(0,c.useCatalogConfig)(),a=(0,r.useMemo)((()=>(0,n.extractItemsIds)(e)),[e]),d=t?.[e.layout.name]?.(e)||(0,n.getBlockByDataType)(e),u=(0,s.getEventItemTypeByDataType)(e),_=(0,n.getDirectionType)(e),p=(0,n.getColumnsSize)(e),g=(0,r.useMemo)((()=>a.map((t=>({key:t.id,length:t.content_length,component:(0,o.jsx)(d,{...t,layout:e.layout.name,type:u})})))),a);return(0,o.jsx)(i.HorizontalScroll,{children:(0,o.jsx)(l.TripleStackedSliderItems,{directionType:_,content:g,columnsSize:p})})}},526376:(e,t,a)=>{a.d(t,{TripleStackedSliderItems:()=>c});var o=a(474848),r=a(174269),i=a(249368),n=a(8520),s=a(111648);const l={s:s.default.catalogTripleStackedSliderColumnS,m:s.default.catalogTripleStackedSliderColumn},c=({directionType:e,content:t,columnsSize:a="m"})=>{const c=e===i.DirectionType.row,d=c?(0,r.toColumnWithRows)(t,3):(0,n.chunkArray)(t,3);return(0,o.jsx)("div",{className:s.default.catalogTripleStackedSliderInner,children:d.map(((e,t)=>(0,o.jsx)("ul",{className:l[a],children:e?.map((e=>(0,o.jsx)("li",{children:(0,o.jsx)("div",{className:(0,n.classNames)(c&&s.default.row),children:e.component})},e.key)))},t)))})}},975654:(e,t,a)=>{a.d(t,{TripleStackedSliderItems:()=>o.TripleStackedSliderItems});var o=a(526376)},86941:(e,t,a)=>{a.d(t,{TripleStackedSlider:()=>o.TripleStackedSlider});var o=a(31619)},249368:(e,t,a)=>{a.d(t,{DirectionType:()=>o});var o=function(e){return e.row="row",e.column="column",e}({})},171284:(e,t,a)=>{a.d(t,{extractItemsIds:()=>d,getBlockByDataType:()=>u,getColumnsSize:()=>c,getDirectionType:()=>l});var o=a(49932),r=a(762817),i=a(677707),n=a(374154),s=a(249368);const l=e=>e.data_type===o.CatalogBlockDataType.GROUPS_CATEGORY_ITEMS?s.DirectionType.row:s.DirectionType.column,c=e=>e.data_type===o.CatalogBlockDataType.MUSIC_AUDIOS?"s":"m",d=e=>{switch(e.data_type){case o.CatalogBlockDataType.MUSIC_AUDIOS:return e.audios_ids?.map((e=>({id:e})))||[];case o.CatalogBlockDataType.LINKS:return e.links_ids?.map((e=>({id:e})))||[];case o.CatalogBlockDataType.GROUPS_ITEMS:return e.group_items||[];case o.CatalogBlockDataType.GROUPS_CATEGORY_ITEMS:return e?.group_category_items?.map((({id:e,click_action:t})=>({id:e||"",action:t,content_length:t?.title?.length})))||[];default:return[]}},u=e=>{switch(e.data_type){case o.CatalogBlockDataType.MUSIC_AUDIOS:return r.MusicAudios;case o.CatalogBlockDataType.LINKS:return i.Link;case o.CatalogBlockDataType.GROUPS_CATEGORY_ITEMS:return n.GroupCategory;default:return()=>null}}},821771:(e,t,a)=>{a.d(t,{ShortVideoCard:()=>m});var o=a(474848),r=a(303800),i=a(279734),n=a(425072),s=a(93016),l=a(908671),c=a(540462),d=a(348882),u=a(652547),_=a(781945),p=a(57873);const g=131,m=({video:e,owner:t,href:a,getRootRef:m,onClick:v})=>{if(!e||!t)return null;const S=(0,u.getThumb)(e.image??e.first_frame??[],g),h=Boolean(e.restriction?.blur);return(0,c.partConfigEnabled)("clips_add_seized_restrictions_web")&&e.restriction?(0,o.jsx)(r.Div,{mode:"vertical",paddingTop:4,paddingBottom:4,spacing:4,children:(0,o.jsx)(i.Link,{href:a,children:(0,o.jsx)(n.ClipRestricted,{width:g,cover:S,title:e.restriction?.title??"",borderRadius:"s",icon:(0,d.getClipIcon)(e.restriction?.icon_name),blurred:Boolean(e.restriction.blur),"data-testid":`clips-restricted-${e.owner_id}_${e.id}`})})}):(0,c.partConfigEnabled)("clips_add_seized_restrictions_web")?(0,o.jsx)(r.Div,{mode:"vertical",paddingTop:4,paddingBottom:4,spacing:4,children:(0,o.jsx)(i.Link,{href:a,children:(0,o.jsx)(s.ClipContainer,{width:g,size:"compact",locked:(0,_.isLockedVideo)(e,t),mode:"cover",views:(0,l.formatCount)(e.views??0),cover:S,"data-testid":"clips-catalog-clip-card",onClick:v})})}):(0,o.jsx)("div",{ref:m,className:p.default.card,children:(0,o.jsx)(i.Link,{href:a,children:(0,o.jsx)(s.ClipContainer,{width:g,size:"compact",locked:h?void 0:(0,_.isLockedVideo)(e,t),blurred:h,mode:"cover",views:h?void 0:(0,l.formatCount)(e.views??0),cover:S,"data-testid":"clips-catalog-clip-card",onClick:v})})})}},794572:(e,t,a)=>{a.d(t,{ShortVideoCard:()=>o.ShortVideoCard});var o=a(821771)},781945:(e,t,a)=>{a.d(t,{isLockedVideo:()=>r});var o=a(720028);function r(e,t){return Boolean(t?.id===window.vk.id)&&Boolean(e.privacy_view&&(0,o.isBasePrivacyLimited)(e.privacy_view))}},961143:(e,t,a)=>{a.d(t,{Video:()=>R});var o=a(474848),r=a(296540),i=a(213338),n=a(361121),s=a(293721),l=a(317216),c=a(314309),d=a(49932),u=a(159884),_=a(794572),p=a(991547),g=a(405938),m=a(246055),v=a(224241),S=a(682040),h=a(402711),C=a(657293),f=a(351137),I=a(665606),E=a(652547),k=a(174269),y=a(841315),T=a(866467),A=a(540462);a(235641);const R=({id:e,layout:t,type:a,onOwnerActionClick:R})=>{const{userId:x,appCatalogService:L}=(0,f.useCatalogConfig)(),O=(0,f.useCollectClick)(),b=(0,s.useStore)(L.$isStandaloneSection),w=(0,s.useStore)(L.pageService.$catalogType),V=(0,s.useStore)(L.catalogService.$catalog),[P,N]=e.toString().split("_"),B=(0,s.useStoreMap)({store:L.videoService.$videoItems,keys:[P,N],fn:(e,[t,a])=>e.find((({id:e,owner_id:o})=>e===+a&&o===+t))}),M=(0,s.useStoreMap)({store:L.videoService.$notInterestedVideos,keys:[e],fn:(e,[t])=>e.hasOwnProperty(String(t))}),D=(0,s.useStoreMap)({store:L.videoService.$notOwnerRecommend,keys:[e],fn:(e,[t])=>{const a=Object.keys(e),{ownerId:o}=(0,n.splitRawId)(t.toString()||"");return a.includes(o.toString())}}),j=(0,k.useCatalogStoreMap)(L.groupsService.$groups,Math.abs(Number(P))),G=(0,s.useStoreMap)({store:L.profilesService.$profiles,keys:[P],fn:(e,[t])=>e.get(+t)}),F=B?.main_artists?.length?B.main_artists[0]:void 0,U=B?.track_code,H=(0,C.useRefLogView)({type:a,trackCode:U}),$=(0,r.useMemo)((()=>V?.sections?.find((({id:e})=>e===V?.default_section))?.blocks?.find((e=>"videos"===e.data_type))?.layout.owner_id),[V?.sections,V?.default_section]),z=(0,r.useCallback)((e=>{if(B){const t=e=>()=>{O?.({action:e,track_code:B.track_code,type:l.EventItemType.VIDEO})},a={fave:t(b?l.SearchClickActionMap.FAVE_OUT:l.SearchClickActionMap.FAVE),unfave:t(b||"video"===w?l.SearchClickActionMap.UNFAVE_OUT:l.SearchClickActionMap.UNFAVE),share:t(b||"video"===w?l.SearchClickActionMap.SHARE_OUT:l.SearchClickActionMap.SHARE),copy:t(b||"video"===w?l.SearchClickActionMap.COPY_LINK_OUT:l.SearchClickActionMap.COPY_LINK),addToMe:t(b||"video"===w?l.SearchClickActionMap.ADD_TO_ME_OUT:l.SearchClickActionMap.ADD_TO_ME),removeFromMe:t(b||"video"===w?l.SearchClickActionMap.REMOVE_FROM_ME_OUT:l.SearchClickActionMap.REMOVE_FROM_ME),removeRecent:t(l.SearchClickActionMap.REMOVE_RECENT)};L.videoService.openVideoActions({target:e.currentTarget,video:B,clickEvents:a,targetId:$})}}),[B,O,b,$]);if(!B)return null;const W=()=>{O?.({action:l.SearchClickActionMap.TAP,track_code:B?.track_code,type:l.EventItemType.VIDEO})},K=()=>{B?.owner_id&&B?.id&&L.videoService.markVideoNotInterested({owner_id:B.owner_id,video_id:B.id,is_unset:1})},Y=()=>{B?.owner_id&&B?.id&&(L.videoService.markVideoNotOwnerRecommend({owner_id:B.owner_id,video_id:B.id,is_unset:1}),c.videoRecommendOwnerCollector.logEvent(l.ClickProductionStatEventTypes.TYPE_VIDEO_UNDO_STOP_RECOMMENDING_CREATOR,{id:Number(B.id),ownerId:Number(B.owner_id),trackCode:B.track_code||""}))},q=(0,A.partConfigEnabled)("video_mvk_videopage_with_playlist")&&"video_playlist"===window.cur.screen?window.nav.path.split("/")?.at(-1):void 0,Q=(0,I.getUrlWithTrackCode)((0,y.getVideoUrl)(B,{playlistId:q}),U,w);switch(t){case d.CatalogBlockLayoutName.VIDEO_SLIDER:return(0,o.jsx)(u.VideoCard,{videoData:B||{},owner:j||G||F,catalogType:w,onMoreClick:z,isLargeCard:!0,getRootRef:H,onOwnerClick:R});case d.CatalogBlockLayoutName.SLIDER:return(0,o.jsx)(i.HorizontalCell,{getRootRef:H,size:"dynamic",href:Q,children:(0,o.jsx)(u.VideoCard,{videoData:B||{},owner:j||G||F,catalogType:w,onOwnerClick:R})});case d.CatalogBlockLayoutName.LIST:case d.CatalogBlockLayoutName.SHORT_VIDEO_LIST:return(0,o.jsx)(h.VideoListItem,{getRootRef:H,title:B.title,secondTitle:(0,S.formatViews)(B.views,!0),lastTitle:(0,v.formatDateTime)(B.date,!0),url:Q,preview:(0,o.jsx)(m.VideoPreview,{video:B||{},ownerId:Number((j||G||F)?.id||0),viewerId:x,mode:"compact"}),onMoreClick:z,onClick:W});case d.CatalogBlockLayoutName.LARGE_LIST:return M?(0,o.jsx)(p.VideoNotInterestedCard,{onClick:K}):D?(0,o.jsx)(g.VideoAlertCard,{placeholder:(0,T.getLang)("mobile_video_not_owner_recommend_placeholder"),actionPlaceholder:(0,T.getLang)("mobile_video_not_owner_recommend_action_placeholder"),onClick:Y}):(0,o.jsx)(u.VideoCard,{getRootRef:H,videoData:B,owner:j||G||F,fullWidth:!0,onMoreClick:z,onOwnerClick:R,catalogType:w});case d.CatalogBlockLayoutName.SHORT_VIDEO_SLIDER_WITH_VIEW_COUNTER:return(0,o.jsx)(_.ShortVideoCard,{getRootRef:H,href:B.owner_id&&B.id?(0,I.getUrlWithTrackCode)((0,E.getUrlToOwnerFeedShortVideo)(B.owner_id,B.id,(G||j)?.screen_name),U,w):"",video:B,owner:G||j,onClick:W});default:return null}}},940651:(e,t,a)=>{a.d(t,{VideoAlertCard:()=>d});var o=a(474848),r=a(303800),i=a(782818),n=a(285056),s=a(723723),l=a(454154),c=a(194528);function d({placeholder:e,actionPlaceholder:t,onClick:a}){return(0,o.jsxs)(r.Div,{mode:"horizontal",spacing:8,children:[(0,o.jsx)(i.StatusBanner,{header:(0,o.jsx)(n.Subhead,{className:(0,s.getColorClass)("color_text_secondary"),children:e}),after:(0,o.jsx)(l.Button,{"data-testid":"video_not_interested_card_button",onClick:a,mode:"tertiary",children:t})}),(0,o.jsx)(c.Spacing,{})]})}},405938:(e,t,a)=>{a.d(t,{VideoAlertCard:()=>o.VideoAlertCard});var o=a(940651)},766291:(e,t,a)=>{a.d(t,{VideoCard:()=>x});var o=a(474848),r=a(218409),i=a(856473),n=a(8520),s=a(724648),l=a(612196),c=a(412888),d=a(271036),u=a(723723),_=a(785631),p=a(57892),g=a(141575),m=a(246055),v=a(641495),S=a(172479),h=a(841315),C=a(224241),f=a(591485),I=a(682040),E=a(866467),k=a(351137),y=a(317216),T=a(665606),A=a(451549),R=a(856289);const x=({videoData:e,owner:t,fullWidth:a,onMoreClick:x,onOwnerClick:L,getRootRef:O,catalogType:b,isLargeCard:w,replaceLocation:V,onClick:P})=>{const{userId:N}=(0,k.useCatalogConfig)(),B=Boolean(x&&!(0,A.isVKUserAnonymous)()),M=(0,k.useCollectClick)(),{restriction:D,live_status:j}=e,G=(0,v.getOwnerName)(t),F=(0,f.getOwnerAvatar)(t),U=Boolean(t&&"verified"in t&&t?.verified),H=(0,T.getUrlWithTrackCode)((0,h.getVideoUrl)(e),e.track_code,b),$=(0,R.getVideoPrefix)("doubleSlash"),z=t?(0,S.getOwnerUrl)(t,`${$}@`):void 0,W=!a&&!w,K=!D,Y=({children:e,href:t,...a})=>W?(0,o.jsx)("div",{...a,children:e}):(0,o.jsx)("a",{href:t,...a,children:e});let q;(a||w)&&e.width&&e.height&&(q=Math.max(r.MAX_RATIO,Math.min(e.height/e.width,r.MIN_RATIO)));const Q=()=>{V&&window.nav?.go(H,null,{replace:!0}),M({action:y.SearchClickActionMap.TAP,track_code:e.track_code,type:y.EventItemType.VIDEO}),P?.()},Z=t=>{M({action:y.SearchClickActionMap.OPEN_OWNER,track_code:e.track_code,type:y.EventItemType.VIDEO}),L?.(t,z)},X=(0,o.jsxs)("div",{className:i.default.subtitle,children:[(0,o.jsx)("div",{className:i.default.userNameWrapper,children:(0,o.jsx)(Y,{"data-testid":"video_card_author_name",href:z,onClick:Z,className:i.default.userName,children:G})}),U&&(0,o.jsx)(_.Icon12Verified,{className:i.default.verifiedIcon}),(a||w)&&K&&(0,o.jsxs)(o.Fragment,{children:["·",(0,o.jsxs)("span",{className:i.default.views,children:[(0,o.jsx)(p.Icon12View,{className:i.default.viewIcon})," ",(0,I.formatViews)(e?.views)]}),!j&&(0,o.jsxs)(o.Fragment,{children:["·",(0,o.jsx)("span",{children:(0,C.formatDateTime)(e?.date)})]})]})]});return(0,o.jsxs)("div",{ref:O,className:(0,n.classNames)(!a&&!w&&i.default.cardRounded,w&&i.default.largeCard),children:[(0,o.jsx)(m.VideoPreview,{video:e,ownerId:Number(t?.id||0),viewerId:N,itemUrl:W?"":H,onItemClick:Q,mode:"regular",ratio:q,withTimeline:!0,fullWidth:a}),(0,o.jsxs)(s.Flex,{justify:w?"space-between":void 0,className:i.default.info,children:[(0,o.jsxs)("div",{className:i.default.main,children:[(a||w)&&(0,o.jsx)(Y,{"data-testid":"video_card_author",href:z,onClick:Z,className:i.default.avatarWrapper,children:(0,o.jsx)(l.Avatar,{src:F,size:40})}),(0,o.jsxs)("div",{className:i.default.titleWrapper,children:[(0,o.jsx)(Y,{"data-testid":"video_card_title",href:H,onClick:Q,className:i.default.title,children:(0,o.jsx)(c.TextClamp,{lines:w?1:2,children:e?.title})}),X]})]}),B&&(0,o.jsx)(d.IconButton,{"data-testid":"video_card_more",className:(0,u.getColorClass)("color_icon_tertiary"),onClick:x,"aria-label":(0,E.getLang)("video_additional_options"),children:(0,o.jsx)(g.Icon24MoreHorizontal,{})})]})]})}},159884:(e,t,a)=>{a.d(t,{VideoCard:()=>o.VideoCard});var o=a(766291)},941397:(e,t,a)=>{a.d(t,{VideoCardActionSheet:()=>g});var o=a(474848),r=a(293721),i=a(296540),n=a(418755),s=a(866467),l=a(174269),c=a(373594),d=a(361121),u=a(540462),_=a(314309),p=a(317216);const g=({target:e,video:t,clickEvents:a={},targetId:g})=>{const{appCatalogService:m}=(0,l.useCatalogConfig)(),{openVideoEditor:v,useConfirmPopout:S,VideoActionSheet:h}=(0,l.useCatalogVideo)(),C=(0,r.useStore)(m.catalogService.$catalog),f=(0,r.useStore)(m.$isStandaloneSection),I=(0,i.useMemo)((()=>C?.sections?.find((({id:e})=>e===C?.default_section))),[C?.sections,C?.default_section]),E=I?.blocks?.[0]?.albums_ids?.[0],{ownerId:k,itemId:y}=(0,d.splitRawId)(E||""),T=(0,r.useStoreMap)({store:m.playlistService.$playlistItems,keys:[k||0,y||0],fn:(e,[t,a])=>e.find((({id:e,owner_id:o})=>e===a&&o===t))}),A=t.owner_id||0,R=t.id||0,x=t.track_code||"",L=Boolean((0,n.testPlaylistSection)(I?.url)&&k&&y&&T?.can_upload),O=(0,n.testHistorySection)(f?window.location.pathname:I?.url),b=Boolean(!T?.can_upload||k===window.vk.id),w=Boolean(t.can_dislike&&((0,n.testDiscoverSection)(I?.url)||"/video"===window.location.pathname)),V=(0,u.partConfigEnabled)("video_not_owner_recommend_mobile")&&Boolean((0,n.testDiscoverSection)(I?.url)||"/video"===window.location.pathname),P=(0,u.partConfigEnabled)("mvk_video_show_delete_video_button")?t.can_delete&&A!==window.vk.id&&g!==window.vk.id:t.can_delete&&A!==window.vk.id,N=S({titleLabel:(0,s.getLang)("mobile_video_delete_video_confirm_title"),textLabel:(0,s.getLang)("mobile_video_delete_video_confirm_text"),callback:()=>{m.videoService.removeVideoFromMyVideos({target_id:window.vk.id,owner_id:A,video_id:R})}}),B=S({titleLabel:(0,s.getLang)("mobile_video_delete_video_confirm_title"),textLabel:(0,s.getLang)("mobile_video_delete_video_from_group_confirm_text"),callback:()=>{m.videoService.removeVideoFromMyVideos({target_id:(0,u.partConfigEnabled)("mvk_video_show_delete_video_button")?g:A,owner_id:A,video_id:R})}});return(0,o.jsx)(h,{actionSheetId:"catalog_sheet_video_card",target:e,video:t,onClose:()=>m.layoutService.setPopout(null),onSuccessCopyLink:()=>m.layoutService.showSnackbar({event:c.SNACKBAR_EVENTS.COPY_LINK}),clickEvents:a,removeVideoFromMyVideos:b?N:void 0,removeVideo:P?B:void 0,addVideoToMyVideos:()=>{m.videoService.addVideoToMyVideos({target_id:window.vk.id,owner_id:A,video_id:R})},removeVideoFromFave:()=>{m.videoService.removeVideoFromFave({owner_id:A,id:R})},addVideoToFave:()=>{m.videoService.addVideoToFave({owner_id:A,id:R,ref:t.track_code})},editVideo:()=>{v({video:t,ownerId:A})},moveToPlaylist:()=>{m.videoService.openAddToPlaylistModal({ownerId:A,videoId:R})},removeVideoFromHistory:O?()=>{m.videoService.removeVideoFromHistory({owner_id:A,video_id:R})}:void 0,removeVideoFromPlaylist:L?()=>{m.videoService.removeVideoFromPlaylist({target_id:Number(k),album_ids:String(y),owner_id:A,video_id:R})}:void 0,markVideoNotInterested:w?()=>{m.videoService.markVideoNotInterested({owner_id:A,video_id:R,is_unset:0})}:void 0,markVideoNotOwnerRecommend:V?()=>{m.videoService.markVideoNotOwnerRecommend({owner_id:A,video_id:R,is_unset:0}),_.videoRecommendOwnerCollector.logEvent(p.ClickProductionStatEventTypes.TYPE_VIDEO_STOP_RECOMMENDING_CREATOR,{id:Number(R),ownerId:Number(A),trackCode:x})}:void 0})}},812521:(e,t,a)=>{a.d(t,{VideoCardActionSheet:()=>o.VideoCardActionSheet});var o=a(941397)},991547:(e,t,a)=>{a.d(t,{VideoNotInterestedCard:()=>u});var o=a(474848),r=a(303800),i=a(782818),n=a(285056),s=a(723723),l=a(454154),c=a(194528),d=a(866467);const u=({onClick:e})=>(0,o.jsxs)(r.Div,{mode:"horizontal",spacing:8,children:[(0,o.jsx)(i.StatusBanner,{header:(0,o.jsx)(n.Subhead,{className:(0,s.getColorClass)("color_text_secondary"),children:(0,d.getLang)("mobile_video_not_interested_placeholder")}),before:null,after:(0,o.jsx)(l.Button,{"data-testid":"video_not_interested_card_button",onClick:e,mode:"tertiary",children:(0,d.getLang)("mobile_video_not_interested_placeholder_action")})}),(0,o.jsx)(c.Spacing,{})]})},657210:(e,t,a)=>{a.d(t,{Video:()=>o.Video});var o=a(961143)},235641:(e,t,a)=>{var o=a(474848),r=a(174269),i=a(32489),n=a(812521);const s=r.appCatalogService.domain.createEffect({name:"fetch/openVideoActions",handler:({target:e,video:t,clickEvents:a,targetId:i})=>{t&&(r.appCatalogService.layoutService.setSnackbar(null),r.appCatalogService.layoutService.setPopout((0,o.jsx)(n.VideoCardActionSheet,{target:e,video:t,clickEvents:a,targetId:i})))}});(0,i.sample)({clock:r.appCatalogService.videoService.openVideoActions,target:s})},495284:(e,t,a)=>{a.d(t,{Action:()=>i});var o=a(474848),r=a(363335);const i=({action:e,...t})=>{if(!e)return null;const a=(0,r.getActionByType)(e);return(0,o.jsx)(a,{...t,action:e})}},462969:(e,t,a)=>{a.d(t,{BlockFilter:()=>u});var o=a(474848),r=a(296540),i=a(694992),n=a(293721),s=a(49932),l=a(174269),c=a(586507);const d=e=>`catalog-action-${e}`,u=({layout:e,action:t})=>{const{appCatalogService:a}=(0,l.useCatalogConfig)(),u=(0,n.useStore)(a.actionsService.$selectedAction),_=(0,r.useCallback)((e=>{const{replacement_id:t,url:o}=e;if(t!==u?.replacement_id&&a.actionsService.selectAction(e),!o)return;const r=new URL(o);r.origin===window.location.origin&&history.replaceState(null,"",r)}),[u]);return(0,r.useEffect)((()=>{u?.replacement_id&&document.getElementById(d(u.replacement_id))?.scrollIntoView({block:"nearest",behavior:"smooth",inline:"center"})}),[u?.replacement_id]),e===s.CatalogBlockLayoutName.SLIDER?(0,o.jsx)(o.Fragment,{children:t.options?.map((e=>{const{replacement_id:t,selected:a,text:r}=e,n=u?t===u.replacement_id:1===a;return(0,o.jsx)(i.SubnavigationButton,{id:d(t),className:c.default.root,selected:n,mode:n?"tertiary":"outline",onClick:()=>_(e),size:"s","data-testid":`tab-${r.replace(" ","_")}`,children:r},t)}))}):null}},284956:(e,t,a)=>{a.d(t,{BlockFilter:()=>o.BlockFilter});var o=a(462969)},851697:(e,t,a)=>{a.d(t,{ModalBanner:()=>i});var o=a(474848),r=a(260546);const i=({href:e,target:t,title:a,onClick:i})=>(0,o.jsx)(r.SimpleCell,{href:e,expandable:"always",minHeight:48,target:t,onClick:i,children:a})},392100:(e,t,a)=>{a.d(t,{ModalBannerOpenSection:()=>n});var o=a(474848),r=a(351137),i=a(851697);const n=({action:e})=>{const{title:t,section_id:a,id:n}=e,{onAuthorsActualizeOpen:s,onSendLog:l,currentSectionId:c}=(0,r.useCatalogDesktopVideo)();return(0,o.jsx)(i.ModalBanner,{title:t,onClick:()=>{if(a&&s){const e="video_subscriptions_all_creators";s(a,e),l?.({sectionId:c,id:n,screen:e})}}})}},326254:(e,t,a)=>{a.d(t,{ModalBannerOpenUrl:()=>n});var o=a(474848),r=a(351137),i=a(851697);const n=({action:e})=>{const{title:t,id:a}=e,{onSendLog:n}=(0,r.useCatalogDesktopVideo)(),s=e.action?.url;return(0,o.jsx)(i.ModalBanner,{href:s,target:"_blank",title:t,onClick:()=>{n?.({id:a})}})}},546384:(e,t,a)=>{a.d(t,{ModalBannerOpenSection:()=>r.ModalBannerOpenSection,ModalBannerOpenUrl:()=>o.ModalBannerOpenUrl});var o=a(326254),r=a(392100)},53475:(e,t,a)=>{a.d(t,{getOpenSectionByActionId:()=>n});var o=a(55713),r=a(596817),i=a(202771);const n=e=>e?.id===r.BANNER_ID.VIDEO_SUBSCRIPTIONS_SELECT?(0,i.getOpenSectionByRefDataType)(e):o.OpenSection},202771:(e,t,a)=>{a.d(t,{getOpenSectionByRefDataType:()=>n});var o=a(49932),r=a(546384),i=a(876038);const n=e=>{switch(e?.ref_data_type){case o.CatalogBlockDataType.SEARCH_AUTHORS:return r.ModalBannerOpenSection;case o.CatalogBlockDataType.VIDEOS:return i.SliderBannerOpenSection;default:return()=>null}}},822960:(e,t,a)=>{a.d(t,{getOpenSectionByActionId:()=>o.getOpenSectionByActionId});var o=a(53475)},319037:(e,t,a)=>{a.d(t,{OpenUrl:()=>s});var o=a(474848),r=a(333910),i=a(279734),n=a(49932);const s=({action:e,layout:t})=>{const a=e?.action?.url;return t===n.CatalogBlockLayoutName.SLIDER?(0,o.jsx)(r.HorizontalCellShowMore,{href:a,size:"l",stretched:!0,children:e.title}):(0,o.jsx)(i.Link,{href:a,children:e.title})}},50435:(e,t,a)=>{a.d(t,{getOpenUrlByActionId:()=>n});var o=a(596817),r=a(319037),i=a(729651);const n=e=>e?.id===o.BANNER_ID.VIDEO_TRANSFER_FROM_YOUTUBE?(0,i.getOpenUrlByRefDataType)(e):r.OpenUrl},729651:(e,t,a)=>{a.d(t,{getOpenUrlByRefDataType:()=>n});var o=a(49932),r=a(546384),i=a(876038);const n=e=>{switch(e?.ref_data_type){case o.CatalogBlockDataType.SEARCH_AUTHORS:return r.ModalBannerOpenUrl;case o.CatalogBlockDataType.VIDEOS:return i.SliderBannerOpenUrl;default:return()=>null}}},212006:(e,t,a)=>{a.d(t,{getOpenUrlByActionId:()=>o.getOpenUrlByActionId});a(319037);var o=a(50435)},185697:(e,t,a)=>{a.d(t,{OpenVideo:()=>s});var o=a(474848),r=a(361121),i=a(279734),n=a(351137);const s=({action:e})=>{const{videoCardProps:t}=(0,n.useCatalogDesktopVideo)(),{video_raw_id:a}=e;if(void 0===a)return null;return(0,o.jsx)(i.Link,{noUnderline:!0,onClick:e=>{const{itemId:o,ownerId:i}=(0,r.splitRawId)(a);t.onVideoOpen(e,{id:o,owner_id:i})},children:e.title})}},209464:(e,t,a)=>{a.d(t,{OpenVideo:()=>o.OpenVideo});var o=a(185697)},67677:(e,t,a)=>{a.d(t,{OpenVideoPlaylist:()=>n});var o=a(474848),r=a(279734),i=a(351137);const n=({action:e})=>{const{onPlaylistOpen:t}=(0,i.useCatalogDesktopVideo)(),{album_id:a,owner_id:n,video_raw_id:s}=e,{url:l}=e.action??{};return void 0===a||void 0===n||void 0===s?null:(0,o.jsx)(r.Link,{noUnderline:!0,onClick:e=>t(e,{id:a,owner_id:n,first_video_id:s,first_video_url:l}),"data-testid":"play_all_playlist_button",children:e.title})}},579034:(e,t,a)=>{a.d(t,{OpenVideoPlaylist:()=>o.OpenVideoPlaylist});var o=a(67677)},63573:(e,t,a)=>{a.d(t,{SliderBanner:()=>u});var o=a(474848),r=a(303800),i=a(220208),n=a(327626),s=a(194528),l=a(185094),c=a(598381),d=a(352671);const u=({actionId:e,href:t,target:a,title:u,onClick:_})=>(0,o.jsx)(r.Div,{mode:"vertical",paddingTop:6,paddingBottom:6,spacing:6,children:(0,o.jsx)(i.Tappable,{activeMode:"opacity",hoverMode:"opacity",href:t,target:a,onClick:_,children:(0,o.jsx)(n.Banner,{background:(0,o.jsx)(c.SliderBannerBackground,{actionId:e}),className:d.default.banner,header:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.SliderBannerIcon,{actionId:e}),(0,o.jsx)(s.Spacing,{size:6}),u]}),imageTheme:"light",mode:"image",noPadding:!0,size:"s",stretched:!0})})})},598381:(e,t,a)=>{a.d(t,{SliderBannerBackground:()=>n});var o=a(474848),r=a(596817),i=a(352671);const n=({actionId:e})=>{switch(e){case r.BANNER_ID.VIDEO_SUBSCRIPTIONS_SELECT:return(0,o.jsx)("div",{className:i.default.videoSubscriptionsSelectBg});case r.BANNER_ID.VIDEO_TRANSFER_FROM_YOUTUBE:return(0,o.jsx)("div",{className:i.default.videoTransferFromYoutubeBg});default:return null}}},185094:(e,t,a)=>{a.d(t,{SliderBannerIcon:()=>s});var o=a(474848),r=a(310182),i=a(128704),n=a(596817);const s=({actionId:e})=>{switch(e){case n.BANNER_ID.VIDEO_SUBSCRIPTIONS_SELECT:return(0,o.jsx)(r.Icon28UserCircleFillBlue,{});case n.BANNER_ID.VIDEO_TRANSFER_FROM_YOUTUBE:return(0,o.jsx)(i.Icon28PlayCircleFillRed,{});default:return null}}},462408:(e,t,a)=>{a.d(t,{SliderBannerOpenSection:()=>n});var o=a(474848),r=a(351137),i=a(63573);const n=({action:e})=>{const{title:t,section_id:a,id:n}=e,{onAuthorsActualizeOpen:s,onSendLog:l,currentSectionId:c}=(0,r.useCatalogDesktopVideo)();return(0,o.jsx)(i.SliderBanner,{actionId:e?.id,title:t,onClick:()=>{if(a&&s){const e="video_subscriptions_creators";s(a,e),l?.({sectionId:c,id:n,screen:e})}}})}},950146:(e,t,a)=>{a.d(t,{SliderBannerOpenUrl:()=>n});var o=a(474848),r=a(351137),i=a(63573);const n=({action:e})=>{const{title:t,id:a}=e,{onSendLog:n}=(0,r.useCatalogDesktopVideo)(),s=e.action?.url;return(0,o.jsx)(i.SliderBanner,{actionId:e?.id,href:s,target:"_blank",title:t,onClick:()=>{n?.({id:a})}})}},876038:(e,t,a)=>{a.d(t,{SliderBannerOpenSection:()=>r.SliderBannerOpenSection,SliderBannerOpenUrl:()=>o.SliderBannerOpenUrl});var o=a(950146),r=a(462408)},251049:(e,t,a)=>{a.d(t,{SwitchSection:()=>_});var o=a(474848),r=a(333910),i=a(279734),n=a(231450),s=a(314309),l=a(317216),c=a(49932),d=a(296540),u=a(174269);const _=({action:e,layout:t})=>{const a=e?.action?.url,{internalSwitchSection:_}=(0,u.useCatalogConfig)(),p=(0,d.useCallback)((e=>{e.preventDefault();const t=e.currentTarget.getAttribute("href");if(!t)return;if(e.ctrlKey||e.metaKey)return e.stopPropagation(),void window.open(t,"_blank");const a=new URL(t),o=t.substring(a.origin.length+1);window.nav.setLoc(o)}),[]),g=e=>{_&&p(e);const t=(0,n.getTrackCode)("search_track_code");t&&s.searchStatsCollector.logEvent({action:l.SearchClickActionMap.TAP_SHOW_ALL,track_code:t,type:l.EventItemType.CATALOG_ITEM})};switch(t){case c.CatalogBlockLayoutName.SLIDER:case c.CatalogBlockLayoutName.SHORT_VIDEO_SLIDER_WITH_VIEW_COUNTER:return(0,o.jsx)(r.HorizontalCellShowMore,{href:a,onClick:p,size:"l",stretched:!0,children:e.title});default:return(0,o.jsx)(i.Link,{"data-testid":"catalog_action",href:a,onClick:g,children:e.title})}}},854948:(e,t,a)=>{a.d(t,{SwitchSection:()=>o.SwitchSection});var o=a(251049)},478457:(e,t,a)=>{a.d(t,{VideoSubscriptionsBlockFilter:()=>c});var o=a(474848),r=a(293721),i=a(314309),n=a(308631),s=a(218486),l=a(379036);const c=({action:e,layout:t})=>{const a=(0,r.useStore)(n.appCatalogService.actionsService.$selectedAction);if(!e.options?.length)return null;const c=e.options.some((e=>1===e.selected));return(0,o.jsx)(o.Fragment,{children:e.options.map((r=>{const d=()=>{r.replacement_id!==a?.replacement_id&&1!==r.selected?(i.videoAuthorFilterClickCollector.logEvent(r.trackcode),n.appCatalogService.actionsService.selectAction(r)):e.default_option&&n.appCatalogService.actionsService.selectAction(e.default_option)};return r.group_id?(0,o.jsx)(s.GroupItem,{badge:r.badge,elementId:(u=r.replacement_id,`catalog-action-${u}`),id:r.group_id,layout:t,onClick:d,...(0,l.getBlockFilterGroupMode)(a,r,c)},r.group_id):null;var u}))})}},379036:(e,t,a)=>{a.d(t,{getBlockFilterGroupMode:()=>o});const o=(e,t,a)=>e?e.replacement_id===t.replacement_id?{activated:!0}:{disableOpacity:!0}:a?1===t.selected?{activated:!0}:{disableOpacity:!0}:void 0},926205:(e,t,a)=>{a.d(t,{VideoSubscriptionsBlockFilter:()=>o.VideoSubscriptionsBlockFilter});var o=a(478457)},596817:(e,t,a)=>{a.d(t,{BANNER_ID:()=>o});const o={VIDEO_SUBSCRIPTIONS_SELECT:"video_subscriptions_select",VIDEO_TRANSFER_FROM_YOUTUBE:"video_transfer_from_youtube"}},363335:(e,t,a)=>{a.d(t,{getActionByType:()=>p});var o=a(738164),r=a(49932),i=a(284956),n=a(822960),s=a(212006),l=a(209464),c=a(579034),d=a(854948),u=a(926205);const _=()=>null,p=e=>{switch(e.action?.type){case r.CatalogActionType.BLOCK_FILTER:return i.BlockFilter;case r.CatalogActionType.OPEN_URL:return(0,s.getOpenUrlByActionId)(e);case r.CatalogActionType.SWITCH_SECTION:return d.SwitchSection;case r.CatalogActionType.CLEAR_RECENT_GROUPS:return o.ClearRecentGroups;case r.CatalogActionType.VIDEO_SUBSCRIPTIONS_BLOCK_FILTER:return u.VideoSubscriptionsBlockFilter;case r.CatalogActionType.OPEN_SECTION:return(0,n.getOpenSectionByActionId)(e);case r.CatalogActionType.OPEN_VIDEO_MODAL:return l.OpenVideo;case r.CatalogActionType.OPEN_VIDEO_PLAYLIST_MODAL:return c.OpenVideoPlaylist;default:return _}}},363476:(e,t,a)=>{a.d(t,{Action:()=>o.Action});var o=a(495284)},27356:(e,t,a)=>{a.d(t,{FootnoteBlockTitle:()=>s});var o=a(474848),r=a(303800),i=a(285056),n=a(723723);const s=({title:e})=>(0,o.jsx)(r.Div,{paddingBottom:16,paddingTop:0,children:(0,o.jsx)(i.Footnote,{className:(0,n.getColorClass)("color_text_secondary"),weight:"3",children:e})})},372309:(e,t,a)=>{a.d(t,{FootnoteBlockTitle:()=>o.FootnoteBlockTitle});var o=a(27356)},253912:(e,t,a)=>{a.d(t,{getBlockTitleByLayoutStyle:()=>n});var o=a(49932),r=a(372309);const i=()=>null,n=e=>e===o.CatalogBlockLayoutStyle.WITH_BUTTON?r.FootnoteBlockTitle:i},801659:(e,t,a)=>{a.d(t,{getBlockTitleByLayoutStyle:()=>o.getBlockTitleByLayoutStyle});var o=a(253912)},347082:(e,t,a)=>{a.d(t,{GroupItem:()=>m});var o=a(474848),r=a(296540),i=a(468073),n=a(751268),s=a(213338),l=a(412888),c=a(174269),d=a(898848),u=a(49932),_=a(693679),p=a(540462),g=a(885470);const m=({activated:e,badge:t,disableOpacity:a,elementId:m,id:v,layout:S,onClick:h})=>{const{appCatalogService:C}=(0,c.useCatalogConfig)(),[f,I]=(0,r.useState)(Boolean(t)),E=(0,c.useCatalogStoreMap)(C.groupsService.$groups,v),k=({detail:e})=>{const{author_id:t,type:a}=e;if(i.Ranges.convertGroupIdToOwnerId(Number(v))===t)switch(a){case _.VIDEO_SUBSCRIPTIONS_BADGE_EVENT_TYPES.ADD_BADGE:I(!0);break;case _.VIDEO_SUBSCRIPTIONS_BADGE_EVENT_TYPES.RM_BADGE:I(!1)}};if((0,r.useEffect)((()=>(document.addEventListener(_.VIDEO_SUBSCRIPTIONS_BADGE_EVENT_NAME,k),()=>{document.removeEventListener(_.VIDEO_SUBSCRIPTIONS_BADGE_EVENT_NAME,k)})),[]),!E)return null;const y=((0,d.isRetina)()?E.photo_200:E.photo_100)||"",T=(0,p.partConfigEnabled)("video_add_subscriptions_notify_dots")&&f?(0,o.jsx)(n.RichAvatar.BadgeWithPreset,{preset:"content-unseen"}):null;return S===u.CatalogBlockLayoutName.SLIDER?(0,o.jsx)(s.HorizontalCell,{activated:e,disableOpacity:a,header:(0,o.jsx)(l.TextClamp,{className:g.default.title,lines:1,title:E.name,children:E.name}),id:m,onClick:h,size:"m",children:(0,o.jsx)(n.RichAvatar,{nft:Boolean(E.is_nft_photo),size:72,src:y,children:T})}):null}},218486:(e,t,a)=>{a.d(t,{GroupItem:()=>o.GroupItem});var o=a(347082)},901058:(e,t,a)=>{a.d(t,{Header:()=>s});var o=a(474848),r=a(296540),i=a(557992),n=a(363476);const s=({actions:e,layout:t,badge:a,...s})=>(0,o.jsx)(i.Header,{"data-testid":"catalog_header",size:"large",aside:e?.map(((e,a)=>(0,r.createElement)(n.Action,{...s,key:e.track_code||a,action:e,layout:t.name}))),subtitle:t.subtitle,indicator:a?.text,stretched:"stretched"===t.style,children:(0,o.jsx)("span",{"data-testid":"catalog_header_title",children:t.title})})},361251:(e,t,a)=>{a.d(t,{Header:()=>o.Header});var o=a(901058)},389882:(e,t,a)=>{a.d(t,{IslandSeparator:()=>i});var o=a(474848),r=a(160478);const i=()=>(0,o.jsxs)("div",{className:r.default.separator,children:[(0,o.jsx)("div",{className:r.default.upperSeparator}),(0,o.jsx)("div",{className:r.default.lowerSeparatorWrapper,children:(0,o.jsx)("div",{className:r.default.lowerSeparator})})]})},917286:(e,t,a)=>{a.d(t,{IslandSeparator:()=>o.IslandSeparator});var o=a(389882)},117960:(e,t,a)=>{a.d(t,{Link:()=>n});var o=a(474848),r=a(642852),i=a(174269);const n=({id:e})=>{const{appCatalogService:t}=(0,i.useCatalogConfig)(),a=(0,i.useCatalogStoreMap)(t.linksService.$links,e);return a?(0,o.jsx)(r.MusicCell,{thumb:a?.image?.length?a.image[0].url:"",title:"",duration:0,after:(0,o.jsx)(o.Fragment,{}),artists:[{name:a.title??"",href:a.url??""}],thumbSize:48}):null}},710354:(e,t,a)=>{a.d(t,{Link:()=>o.Link});var o=a(117960)},550840:(e,t,a)=>{a.d(t,{List:()=>l});var o=a(474848),r=a(293721),i=a(351137),n=a(509385),s=a(227147);const l=e=>{const{appCatalogService:t}=(0,i.useCatalogConfig)();return(0,r.useStore)(t.catalogService.$loadingBlockIds).includes(e.id)?(0,o.jsx)(n.ListLoading,{...e}):(0,o.jsx)(s.ListReady,{...e})}},550329:(e,t,a)=>{a.d(t,{ListGrid:()=>c});var o=a(474848),r=a(591378),i=a(680118),n=a(908970),s=a(351137),l=a(578118);const c=({children:e,onSortChange:t,sortItems:a,testId:c})=>{const{listGridProps:d}=(0,s.useCatalogDesktopVideo)(),{spacing:u,rowSpacing:_,columnSpacing:p,numberOfSkeletons:g,columnsQueries:m,columnsDefault:v,...S}=d||l.defaultGridProps,h=u?{spacing:u}:{rowSpacing:_,columnSpacing:p},C=(0,n.useListAdaptivityColumns)(m,v),f=(0,o.jsx)(r.Grid,{"data-testid":c,...S,...h,columns:C,children:e});return a?(0,o.jsx)(i.Sortable,{"data-testid":c,items:a,onSortChange:t,children:f}):f}},578118:(e,t,a)=>{a.d(t,{defaultGridProps:()=>o});const o={className:a(58643).default.list,rowSpacing:24,columnSpacing:12}},877051:(e,t,a)=>{a.d(t,{ListGrid:()=>o.ListGrid,useListAdaptivityColumns:()=>r.useListAdaptivityColumns});var o=a(550329),r=a(908970)},908970:(e,t,a)=>{a.d(t,{useListAdaptivityColumns:()=>r});var o=a(513950);const r=(e=[{value:3,query:{minWidth:1106,maxWidth:1357}},{value:4,query:{minWidth:1358,maxWidth:2040}},{value:5,query:{minWidth:2041}}],t=2)=>(0,o.useAdaptivityMediaQueries)(e,t)},48221:(e,t,a)=>{a.d(t,{ListItemSkeleton:()=>s});var o=a(474848),r=a(49932),i=a(389257),n=a(665936);const s=e=>(0,n.isListItemSkeletonAvailable)(e)&&e.data_type===r.CatalogBlockDataType.VIDEOS?(0,o.jsx)(i.VideoCardSkeleton,{singleLineTitle:!0}):null},41287:(e,t,a)=>{a.d(t,{ListItemSkeleton:()=>r.ListItemSkeleton,isListItemSkeletonAvailable:()=>o.isListItemSkeletonAvailable});var o=a(665936),r=a(48221)},665936:(e,t,a)=>{a.d(t,{isListItemSkeletonAvailable:()=>r});var o=a(49932);const r=e=>[o.CatalogBlockDataType.VIDEOS].includes(e.data_type)},553243:(e,t,a)=>{a.d(t,{ListLoading:()=>s});var o=a(474848),r=a(209808),i=a(41287),n=a(444590);const s=e=>(0,i.isListItemSkeletonAvailable)(e)?(0,o.jsx)(n.ListSkeleton,{...e}):(0,o.jsx)(r.PanelSpinner,{})},444590:(e,t,a)=>{a.d(t,{ListSkeleton:()=>d});var o=a(474848),r=a(8520),i=a(591378),n=a(351137),s=a(877051),l=a(41287),c=a(170328);const d=e=>{const{listGridProps:t}=(0,n.useCatalogDesktopVideo)(),{numberOfSkeletons:a}=t??c.defaultGridProps;return(0,o.jsx)(s.ListGrid,{children:(0,r.createArray)(a||0).map(((t,a)=>(0,o.jsx)(i.Grid.Item,{children:(0,o.jsx)(l.ListItemSkeleton,{...e})},a)))})}},170328:(e,t,a)=>{a.d(t,{defaultGridProps:()=>o});const o={numberOfSkeletons:12}},509385:(e,t,a)=>{a.d(t,{ListLoading:()=>o.ListLoading});var o=a(553243)},227147:(e,t,a)=>{a.d(t,{ListReady:()=>u});var o=a(474848),r=a(418755),i=a(351137),n=a(363476),s=a(801659),l=a(137486),c=a(966492),d=a(344284);const u=e=>{const{sortingProps:t}=(0,i.useCatalogDesktopVideo)(),a=(0,r.extractItemsIds)(e),u=(0,d.getBlockByDataType)(e),_=(0,s.getBlockTitleByLayoutStyle)(e.layout.style),p=(0,r.getDataTestId)("list",e.data_type),g=e.actions?.map(((t,a)=>(0,o.jsx)(n.Action,{...e,action:t,layout:e.layout.name},t.track_code||a))),m=t?.isSortableBlock?.(e)?(0,o.jsx)(c.ListSortable,{testId:p,block:e,Item:u,items:a,...t}):(0,o.jsx)(l.ListSimple,{testId:p,block_id:e.id,Item:u,itemBadges:e.item_badges,items:a,layout:e.layout.name,layoutStyle:e.layout.style});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(_,{title:e.title}),g,m]})}},137486:(e,t,a)=>{a.d(t,{ListSimple:()=>n});var o=a(474848),r=a(591378),i=a(877051);const n=({items:e,Item:t,testId:a,...n})=>(0,o.jsx)(i.ListGrid,{testId:a,children:e?.map((e=>(0,o.jsx)(r.Grid.Item,{children:(0,o.jsx)(t,{...e,...n})},e.id)))})},966492:(e,t,a)=>{a.d(t,{ListSortable:()=>l});var o=a(474848),r=a(296540),i=a(680118),n=a(591378),s=a(877051);const l=({block:e,items:t,isSortableItem:a,Item:l,onSortChange:c,testId:d})=>{const u=(0,r.useRef)(e);(0,r.useEffect)((()=>{u.current=e}),[e]);const _=(0,r.useMemo)((()=>t.map((({id:t,title:o})=>({disabled:a?.(e,t),id:String(t),label:o??""})))),[t,a]),p=(0,r.useCallback)(((e,t,a)=>{const o=e.map((({id:e})=>e));c(u.current,o,t,a)}),[c]);return(0,o.jsx)(s.ListGrid,{testId:d,sortItems:_,onSortChange:p,children:t?.map(((t,a)=>(0,o.jsx)(i.Sortable.Item,{..._[a],children:(0,o.jsx)(n.Grid.Item,{children:(0,o.jsx)(l,{...t,layout:e.layout.name,layoutStyle:e.layout.style,itemBadges:e.item_badges})})},t.id)))})}},344284:(e,t,a)=>{a.d(t,{getBlockByDataType:()=>u});var o=a(49932),r=a(950600),i=a(389257),n=a(539254),s=a(593965),l=a(984839),c=a(979717);const d=()=>null,u=e=>{switch(e.data_type){case o.CatalogBlockDataType.ALBUMS:return r.Playlist;case o.CatalogBlockDataType.SEARCH_AUTHORS:return s.SearchAuthor;case o.CatalogBlockDataType.VIDEOS:return i.Video;case o.CatalogBlockDataType.GROUPS_INVITES:return l.GroupInvite;case o.CatalogBlockDataType.MUSIC_AUDIOS:return n.MusicAudios;case o.CatalogBlockDataType.VIDEO_SHOWCASE_VKLIVE_CHANNELS_ITEMS:return c.VKVideoLive;case o.CatalogBlockDataType.VIDEO_SHOWCASE_VKLIVE_CATEGORIES_ITEMS:return c.VKVideoLiveCategory;default:return d}}},170810:(e,t,a)=>{a.d(t,{List:()=>o.List,isListItemSkeletonAvailable:()=>i.isListItemSkeletonAvailable,useListAdaptivityColumns:()=>r.useListAdaptivityColumns});var o=a(550840),r=a(877051),i=a(41287)},617998:(e,t,a)=>{a.d(t,{MusicAudios:()=>v});var o=a(474848),r=a(949711),i=a(866467),n=a(303800),s=a(642852),l=a(293721),c=a(29560),d=a(351137),u=a(317216),_=a(657293),p=a(174269),g=a(392358),m=a(139612);const v=({id:e,type:t,block_id:a})=>{const{musicPlayer:v,userId:S,appCatalogService:h}=(0,d.useCatalogConfig)(),{id:C}=(0,m.mapAPIRawIdToAudioIdentity)(String(e)),f=(0,l.useStoreMap)(h.audioService.$audioItems,(e=>Array.from(e,(([,e])=>e)))),I=(0,p.useCatalogStoreMap)(h.audioService.$audioItems,e),E=(0,l.useStore)(h.audioService.$audioModifiedItems),k=E?.[C],y=(0,c.useAudioPlayer)(),T=(0,d.useCollectClick)(),A=(0,_.useRefLogView)({type:t,trackCode:I?.track_code});if(!I)return null;const R=y?.currentAudio?.id===I?.id,x=R&&"playing"===y.status,L=(()=>{const a=!!k?.isAdded||!k?.isDeleted&&I.owner_id===S,o={action:a?u.SearchClickActionMap.REMOVE_FROM_ME:u.SearchClickActionMap.ADD_TO_ME,track_code:I.track_code,type:t},r={audio_id:I.id,owner_id:I.owner_id,user_id:S,access_key:I.access_key||""};return[{children:a?(0,i.getLang)("global_delete_audio"):(0,i.getLang)("global_add_to_audio"),onClick:t=>(t.stopPropagation(),T(o),y.platformAudioPlayer?.notify?.(a?g.AudioPlayerEventType.REMOVED:g.AudioPlayerEventType.ADDED,e),void(a?h.audioService.deleteAudioFromMyList:h.audioService.addAudioToMyList)(r))}]})();return(0,o.jsx)(n.Div,{getRootRef:A,mode:"horizontal",children:(0,o.jsx)(s.MusicCell,{thumb:I?.album?.thumb?.photo_135,title:I.title,artists:I.main_artists?I.main_artists:[{name:I.artist}],featuredArtists:I.featured_artists,duration:I.duration,hasThumbPlaying:x,hasThumbActivated:R,explicit:I.is_explicit,onClick:()=>{if(T({action:x?u.SearchClickActionMap.PAUSE:u.SearchClickActionMap.PLAY,track_code:I.track_code,type:t}),x)y?.platformAudioPlayer?.pause();else{const e=v?.playlistType&&{ownerId:S,albumId:I?.id,type:v.playlistType,blockId:a},t=`catalog:${a}`;y?.platformAudioPlayer?.playAudio(I,f,t,e)}},after:(0,o.jsx)(r.MusicAudiosMenu,{items:L}),thumbSize:48})})}},949711:(e,t,a)=>{a.d(t,{MusicAudiosMenu:()=>s});var o=a(474848),r=a(507852),i=a(723723),n=a(141575);const s=({items:e=[]})=>{const t=e.map(((e,t)=>(0,o.jsx)(r.DropdownActionSheet.Item,{...e},t)));return(0,o.jsx)(r.DropdownActionSheet,{trigger:"click",placement:"bottom-end",content:(0,o.jsx)(o.Fragment,{children:t}),children:(0,o.jsx)(n.Icon24MoreHorizontal,{onClick:e=>{e.stopPropagation(),e.preventDefault()},className:(0,i.getColorClass)("color_icon_secondary")})})}},539254:(e,t,a)=>{a.d(t,{MusicAudios:()=>o.MusicAudios});var o=a(617998)},686102:(e,t,a)=>{a.d(t,{MusicPlaylist:()=>S});var o=a(474848),r=a(296540),i=a(908671),n=a(392764),s=a(412888),l=a(285056),c=a(815138),d=a(294691),u=a(641495),_=a(174269),p=a(317216),g=a(738313),m=a(29560),v=a(231450);const S=(0,r.memo)((0,_.withCatalogStore)((({item:e,blockId:t,collectClick:a,getRootRef:d,trackCode:S})=>{const{findOwner:h}=(0,_.useCatalogOwner)(),{showAudioPlaylist:C}=(0,_.useCatalogSearch)(),{currentPlaylist:f,platformAudioPlayer:I,status:E}=(0,m.useAudioPlayer)(),k=(0,r.useMemo)((()=>h(e.owner_id)),[h,e]),y=`catalog:${t}`,T=e.original?e.original.playlist_id===f?.original?.playlist_id&&e.original.owner_id===f.original.owner_id:f?.id===e.id&&f.owner_id===e.owner_id,A=T&&E===g.AudioPlayerStatus.PLAYING,{title:R,main_artists:x,thumbs:L,photo:O,year:b,count:w,plays:V}=e,P=x?.map((e=>e.name)).join(", ")||(0,u.getOwnerName)(k),N=[O,...L??[]].map((e=>e?.photo_270)).filter((e=>Boolean(e)));return(0,o.jsx)("div",{ref:d,children:(0,o.jsx)(n.MusicPlaylistItem,{size:"l",thumbs:N,onClick:t=>{a(p.SearchClickActionMap.TAP),C?.({event:t,ctx:y,audioPlaylist:e,onDone:()=>(0,v.setTrackCode)("search_track_code",S)})},countLabel:w,hasThumbActivated:T,hasThumbPlaying:A,playsLabel:(0,i.formatCount)(V),onPlayPauseClick:()=>{I&&(a(A?p.SearchClickActionMap.PAUSE:p.SearchClickActionMap.PLAY),A?I.pause():I.playPlaylist(e,y))},title:(0,o.jsx)(s.TextClamp,{TypographyComponent:l.Text,lines:1,children:R}),subtitle:(0,o.jsxs)(c.Join,{separator:" ",children:[(0,o.jsx)(s.TextClamp,{TypographyComponent:l.Subhead,weight:"3",lines:1,children:P}),b&&(0,o.jsx)(l.Subhead,{weight:"3",children:b})]})})})}),_.appCatalogService.musicPlaylistsService.$musicPlaylists,(e=>"playlist"===(0,d.getAudioPlaylistAlbumType)(e)?p.EventItemType.MUSIC_PLAYLIST:p.EventItemType.MUSIC_ALBUM)))},541747:(e,t,a)=>{a.d(t,{MusicPlaylist:()=>o.MusicPlaylist});var o=a(686102)},199162:(e,t,a)=>{a.d(t,{PinnedVideo:()=>u});var o=a(474848),r=a(418755),i=a(351137),n=a(491527),s=a(293721),l=a(209808),c=a(303800),d=a(526094);const u=e=>{const{appCatalogService:t}=(0,i.useCatalogConfig)(),a=(0,r.extractItemsIds)(e),u=(0,n.getBlockByDataType)(e);if((0,s.useStore)(t.catalogService.$loadingBlockIds).includes(e.id))return(0,o.jsx)(l.PanelSpinner,{});const[{id:_,...p}]=a,g=String(_);return(0,o.jsx)(c.Div,{mode:"vertical",spacing:8,className:d.default.container,children:(0,o.jsx)(u,{id:g,...p,layout:e.layout.name,kitVideoCardProps:{direction:"horizontal"}})})}},491527:(e,t,a)=>{a.d(t,{getBlockByDataType:()=>n});var o=a(49932),r=a(389257);const i=()=>null,n=e=>e.data_type===o.CatalogBlockDataType.VIDEOS?r.Video:i},167111:(e,t,a)=>{a.d(t,{PinnedVideo:()=>o.PinnedVideo});var o=a(199162)},352054:(e,t,a)=>{a.d(t,{Placeholder:()=>d});var o=a(474848),r=a(293721),i=a(209808),n=a(720836),s=a(351137),l=a(613910),c=a(640384);const d=({placeholder_ids:e,id:t})=>{const{appCatalogService:a,withStretchedPlaceholders:d}=(0,s.useCatalogConfig)(),u=(0,r.useStore)(a.placeholdersService.$placeholders);return(0,r.useStore)(a.catalogService.$loadingBlockIds).includes(t)?(0,o.jsx)(i.PanelSpinner,{}):(0,o.jsx)(o.Fragment,{children:e?.map((e=>{const t=u.get(e);if(!t)return null;const{buttons:a,title:r,text:i,vk_icons_icon:s}=t,_=(0,l.getPlaceholderIcon)(s),p=a?.map(((t,a)=>{const r=(0,c.getButtonByActionType)(t);return(0,o.jsx)(r,{id:e,button:t},a)}));return(0,o.jsx)(n.Placeholder,{action:p,icon:_,header:r,stretched:d,children:i},e)}))})}},19277:(e,t,a)=>{a.d(t,{TertiaryButtonOpenUrl:()=>i});var o=a(474848),r=a(454154);const i=({button:e})=>{const{action:t,title:a}=e,i=t?.url;return(0,o.jsx)(r.Button,{appearance:"accent",href:i,mode:"tertiary",size:"m",target:"_blank",children:a})}},785652:(e,t,a)=>{a.d(t,{TertiaryButtonOpenUrl:()=>o.TertiaryButtonOpenUrl});var o=a(19277)},963726:(e,t,a)=>{a.d(t,{PLACEHOLDER_ICONS:()=>s});var o=a(65956),r=a(455548),i=a(499121),n=a(760045);const s={hearts_2_outline_36:o.Icon36Hearts2Outline,hide_outline_56:r.Icon56HideOutline,list_play_outline_36:i.Icon36ListPlayOutline,user_add_outline_56:n.Icon56UserAddOutline}},640384:(e,t,a)=>{a.d(t,{getButtonByActionType:()=>n});var o=a(49932),r=a(785652);const i=()=>null,n=e=>e.action?.type===o.CatalogActionType.OPEN_URL?r.TertiaryButtonOpenUrl:i},405571:(e,t,a)=>{a.d(t,{Placeholder:()=>o.Placeholder});var o=a(352054)},613910:(e,t,a)=>{a.d(t,{getPlaceholderIcon:()=>i});var o=a(474848),r=a(963726);const i=e=>{const t=e?r.PLACEHOLDER_ICONS[e]:void 0;return t&&(0,o.jsx)(t,{})}},721540:(e,t,a)=>{a.d(t,{Playlist:()=>l});var o=a(474848),r=a(361121),i=a(293721),n=a(190770),s=a(174269);const l=({id:e,itemBadges:t,layoutStyle:a})=>{const{appCatalogService:l}=(0,s.useCatalogConfig)(),c=(0,i.useStoreMap)({store:l.playlistService.$playlistItems,keys:[e],fn:(e,[t])=>{const{ownerId:a,itemId:o}=(0,r.splitRawId)(t);return e.find((e=>e.id===o&&e.owner_id===a))??null}});return c?(0,o.jsx)(n.PlaylistSimple,{id:e,playlist:c,itemBadges:t,layoutStyle:a}):null}},135383:(e,t,a)=>{a.d(t,{PlaylistCard:()=>m});var o=a(474848),r=a(98972),i=a(768035),n=a(873900),s=a(671112),l=a(351137),c=a(866467),d=a(540462),u=a(841315),_=a(217728),p=a(6932),g=a(544987);const m=e=>{const{playlist:t,isUpdated:a}=e,{isAvatarHidden:m,onPlaylistOpen:v,onPlaylistPageOpen:S}=(0,l.useCatalogDesktopVideo)(),h=(0,p.usePlaylist)(t),C=(0,_.useOverlay)(t),f=(0,g.useMenuItems)(e),{owner_id:I,id:E,first_video_id:k}=t;if(!h)return null;const y=(0,d.partConfigEnabled)("video_community_simple_playlistcard")&&"invisible_author"===e.layoutStyle;if(k){const{id:e,ownerId:t}=(0,i.parseRawId)(k);h.href=(0,u.getVideoUrl)({id:e,owner_id:t},{playlistId:(0,n.getIdentityRawId)({id:E,ownerId:I})})}const T=(0,s.getPlaylistURL)(I,E);return(0,o.jsx)(r.VideoPlaylistCard,{item:h,withBadge:a,noAvatar:m,noOwner:y,menuItems:f,overlay:C,hoverText:(0,c.getLang)("video_playlist_watch_all_videos"),onClick:e=>v(e,t),onTitleClick:e=>{e.preventDefault(),S?.(e,t)},titleHref:T})}},349045:(e,t,a)=>{a.d(t,{PlaylistCard:()=>o.PlaylistCard});var o=a(135383)},544987:(e,t,a)=>{a.d(t,{useMenuItems:()=>p});var o=a(474848),r=a(296540),i=a(264992),n=a(954647),s=a(753833),l=a(22225),c=a(726519),d=a(927841),u=a(866467),_=a(351137);const p=e=>{const{playlist:t,isSubscribeLoading:a}=e,{onPlaylistUpload:p,onPlaylistEdit:g,onPlaylistCopyUrl:m,onPlaylistToggleSubscribe:v,onPlaylistDelete:S}=(0,_.useCatalogDesktopVideo)();return(0,r.useMemo)((()=>{const e=[],r=window.vk.id===t.owner_id;return t.can_upload&&e.push({before:(0,o.jsx)(i.Icon20ListAddOutline,{}),children:(0,u.getLang)("video_playlist_add"),onClick:e=>p(e,t),"data-testid":"playlist_card_add_video_button"}),t.can_edit&&e.push({before:(0,o.jsx)(n.Icon20WriteOutline,{}),children:(0,u.getLang)("video_edit_playlist"),onClick:e=>g(e,t),"data-testid":"playlist_card_edit_button"}),t.can_subscribe&&!r&&e.push({before:t.is_subscribed?(0,o.jsx)(s.Icon20CheckAlt,{}):(0,o.jsx)(l.Icon20AddSquareOutline,{}),children:t.is_subscribed?(0,u.getLang)("video_you_subscribed_to_playlist"):(0,u.getLang)("video_subscribe_to_playlist"),onClick:a?void 0:e=>v(e,t),loading:a,keepOpen:!0,"data-testid":"playlist_card_subscribe_button"}),e.push({before:(0,o.jsx)(c.Icon20CopyOutline,{}),children:(0,u.getLang)("video_copy_playlist_url"),onClick:e=>m(e,t),"data-testid":"playlist_card_copy_link_button"}),t.can_delete&&e.push({type:"destructive",before:(0,o.jsx)(d.Icon20DeleteOutline,{}),children:(0,u.getLang)("video_delete_playlist"),onClick:e=>S(e,t),"data-testid":"playlist_card_delete_button"}),e}),[t,a,p,g,v,m,S])}},217728:(e,t,a)=>{a.d(t,{useOverlay:()=>i});var o=a(296540),r=a(351137);const i=e=>{const{playlistOverlay:t}=(0,r.useCatalogDesktopVideo)(),[a,i]=(0,o.useState)(!0),[n,s]=(0,o.useMemo)((()=>{const o=t?.(e);if(!o)return[];const{actionProps:r,hideTime:i,...n}=o;return[i,a?{...n,actionProps:r}:n]}),[a,e,t]);return(0,o.useEffect)((()=>{if(void 0===n)return;const e=setTimeout((()=>{i(!1)}),n);return()=>{clearTimeout(e)}}),[n]),s}},6932:(e,t,a)=>{a.d(t,{usePlaylist:()=>n});var o=a(296540),r=a(351137),i=a(856289);const n=e=>{const{findOwner:t}=(0,r.useCatalogOwner)(),{ownerRoutePrefix:a}=(0,r.useCatalogDesktopVideo)();return(0,o.useMemo)((()=>{const o=t(e.owner_id);return o?{...(0,i.mapPlaylistToPlaylistCardItem)(e),owner:(0,i.mapUserOrGroupToPlaylistCardOwner)(o,a)}:null}),[e,t,a])}},190770:(e,t,a)=>{a.d(t,{PlaylistSimple:()=>c});var o=a(474848),r=a(293721),i=a(538522),n=a(296540),s=a(349045),l=a(351137);const c=({playlist:e,itemBadges:t,layoutStyle:a})=>{const{appCatalogService:c}=(0,l.useCatalogConfig)(),d=(0,n.useMemo)((()=>(0,i.joinRawId)({ownerId:e.owner_id,itemId:e.id})),[e.owner_id,e.id]),u=(0,r.useStoreMap)({store:c.playlistService.$playlistsSubscribeLoading,keys:[d],fn:(e,[t])=>e.has(t)}),_=(0,n.useMemo)((()=>t?.some((e=>e.item_id===d&&"primary"===e.badge?.type))),[t,d]);return(0,o.jsx)(s.PlaylistCard,{playlist:e,isSubscribeLoading:u,isUpdated:_,layoutStyle:a})}},136165:(e,t,a)=>{a.d(t,{SliderPlaylist:()=>c});var o=a(474848),r=a(293721),i=a(361121),n=a(351137),s=a(190770),l=a(505695);const c=({id:e,layoutStyle:t})=>{const{appCatalogService:a}=(0,n.useCatalogConfig)(),c=(0,r.useStoreMap)({store:a.playlistService.$playlistItems,keys:[e],fn:(e,[t])=>{const{ownerId:a,itemId:o}=(0,i.splitRawId)(`${t}`);return e.find((e=>e.id===o&&e.owner_id===a))??null}});return c?(0,o.jsx)("div",{className:l.default.container,children:(0,o.jsx)(s.PlaylistSimple,{id:e,playlist:c,layoutStyle:t})}):null}},110582:(e,t,a)=>{a.d(t,{SliderPlaylist:()=>o.SliderPlaylist});var o=a(136165)},950600:(e,t,a)=>{a.d(t,{Playlist:()=>o.Playlist,SliderPlaylist:()=>r.SliderPlaylist});var o=a(721540),r=(a(190770),a(110582))},87538:(e,t,a)=>{a.d(t,{SearchAuthor:()=>d});var o=a(474848),r=a(468073),i=a(174269),n=a(49932),s=a(366910),l=a(317216),c=a(293721);const d=({content_type:e,id:t,description:a,layout:d,layoutStyle:u,track_code:_,block_id:p})=>{const{appCatalogService:g}=(0,i.useCatalogConfig)(),m=(0,c.useStore)(g.pageService.$catalogType),v=(0,i.useCollectClick)(),S=(0,i.useRefLogView)({type:l.EventItemType.SEARCH_AUTHOR,trackCode:_}),h=(0,c.useStore)(g.pageService.$pageId),C=(0,i.useCatalogStoreMap)(g.groupsService.$groups,r.Ranges.convertOwnerIdToGroupId(t));if(!C)return null;const f=()=>{m===i.CatalogType.SEARCH&&v({action:l.SearchClickActionMap.TAP,track_code:_,type:l.EventItemType.SEARCH_AUTHOR})};switch(d){case n.CatalogBlockLayoutName.LARGE_LIST:case n.CatalogBlockLayoutName.LIST_WITH_NOTIFICATION_STATE:case n.CatalogBlockLayoutName.LIST_WITH_RETURN_STATE:if("videos"===e)return(0,o.jsx)(s.VideoSearchAuthor,{blockId:p,description:a,getRootRef:m===i.CatalogType.SEARCH?S:void 0,group:C,layoutStyle:u,onClick:f,trackCode:"SearchSubscriptionsModal"===h?_:void 0});default:return null}}},818562:(e,t,a)=>{a.d(t,{AllAuthorsRichCellActions:()=>p});var o=a(474848),r=a(454154),i=a(507852),n=a(881940),s=a(845794),l=a(213220),c=a(866467),d=a(457694),u=a(540462);const _=e=>{e.preventDefault(),(0,u.partConfigEnabled)("video_fix_return_subscription_page_reload")&&e.stopPropagation()},p=e=>{const{isVideoSubscriptionHidden:t,isVideoSubscriptionMember:a,toggleGroupMembership:u,toggleHideAuthor:p}=(0,d.useRichCellActions)(e);return t?(0,o.jsx)(r.Button,{mode:"secondary",onClick:p,size:"s",children:(0,c.getLang)("video_catalog_subscriptions_hidden_tab_video_search_author_restore_button")}):a?(0,o.jsx)(i.DropdownActionSheet,{content:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.DropdownActionSheet.Item,{before:(0,o.jsx)(n.Icon20HideOutline,{}),onClick:p,children:(0,c.getLang)("video_catalog_subscriptions_group_hide")}),(0,o.jsx)(i.DropdownActionSheet.Item,{before:(0,o.jsx)(s.Icon20MinusSquareOutline,{}),onClick:u,children:(0,c.getLang)("video_catalog_subscriptions_group_leave")})]}),placement:"bottom-end",children:(0,o.jsx)(r.Button,{after:(0,o.jsx)(l.Icon12Dropdown,{}),appearance:"accent",mode:"secondary",onClick:_,size:"s",children:(0,c.getLang)("video_catalog_subscriptions_group_subscribed")})}):(0,o.jsx)(r.Button,{mode:"secondary",onClick:u,size:"s",children:(0,c.getLang)("video_catalog_subscriptions_all_tab_video_search_subscription_restore_button")})}},866025:(e,t,a)=>{a.d(t,{HiddenAuthorsRichCellActions:()=>s});var o=a(474848),r=a(454154),i=a(866467),n=a(457694);const s=e=>{const{isVideoSubscriptionHidden:t,toggleHideAuthor:a}=(0,n.useRichCellActions)(e),s=t?(0,i.getLang)("video_catalog_subscriptions_hidden_tab_video_search_author_restore_button"):(0,i.getLang)("video_catalog_subscriptions_hidden_tab_video_search_author_hide_button");return(0,o.jsx)(r.Button,{mode:"secondary",onClick:a,size:"s",children:s})}},501739:(e,t,a)=>{a.d(t,{getRichCellActionsByLayoutStyle:()=>s});var o=a(49932),r=a(818562),i=a(866025);const n=()=>null,s=e=>{switch(e){case o.CatalogBlockLayoutStyle.WITH_BUTTON:return i.HiddenAuthorsRichCellActions;case o.CatalogBlockLayoutStyle.WITH_DROPDOWN:return r.AllAuthorsRichCellActions;default:return n}}},382964:(e,t,a)=>{a.d(t,{getRichCellActionsByLayoutStyle:()=>o.getRichCellActionsByLayoutStyle});var o=a(501739)},457694:(e,t,a)=>{a.d(t,{useRichCellActions:()=>l});var o=a(296540),r=a(293721),i=a(468073),n=a(351137),s=a(540462);const l=({blockId:e,group:t})=>{const{id:a,is_member:l,is_video_subscription_hidden:c}=t,{appCatalogService:d}=(0,n.useCatalogConfig)(),{subscriptionsModalProps:u}=(0,n.useCatalogDesktopVideo)(),_=(0,r.useEvent)(d.groupsService.fireJoinGroup),p=(0,r.useEvent)(d.groupsService.fireLeaveGroup),[g,m]=(0,o.useState)(Boolean(c)),[v,S]=(0,o.useState)(Boolean(l)),h=u?.onToggleHideAuthor;return{isVideoSubscriptionHidden:g,isVideoSubscriptionMember:v,toggleHideAuthor:t=>{if(t.preventDefault(),(0,s.partConfigEnabled)("video_fix_return_subscription_page_reload")&&t.stopPropagation(),!h)return;const o=i.Ranges.convertGroupIdToOwnerId(a);h(t,{isVideoSubscriptionHidden:g,ownerId:o,trackCode:e}),m((e=>!e))},toggleGroupMembership:e=>{e.preventDefault(),(0,s.partConfigEnabled)("video_fix_return_subscription_page_reload")&&e.stopPropagation();(v?p:_)({group_id:a}),S((e=>!e))}}}},305954:(e,t,a)=>{a.d(t,{VideoSearchAuthor:()=>_});var o=a(474848),r=a(276898),i=a(751268),n=a(412888),s=a(285056),l=a(174269),c=a(898848),d=a(172479),u=a(382964);const _=({blockId:e,description:t,getRootRef:a,group:_,layoutStyle:p,onClick:g,trackCode:m})=>{const{ownerRoutePrefix:v}=(0,l.useCatalogDesktopVideo)(),S=m?`?search_track_code=${m}`:"",h=(0,d.getOwnerUrl)(_,v,S),C=((0,c.isRetina)()?_.photo_200:_.photo_100)||"",f=(0,u.getRichCellActionsByLayoutStyle)(p);return(0,o.jsx)(r.RichCell,{actions:f&&(0,o.jsx)(f,{blockId:e,group:_}),getRootRef:a,href:h,onClick:g,before:(0,o.jsx)(i.RichAvatar,{src:C,size:96}),caption:t?(0,o.jsx)(n.TextClamp,{TypographyComponent:s.Footnote,lines:1,title:t,children:t}):void 0,children:(0,o.jsx)(n.TextClamp,{TypographyComponent:s.Headline,level:"1",weight:"2",lines:1,title:_.name,children:_.name})})}},366910:(e,t,a)=>{a.d(t,{VideoSearchAuthor:()=>o.VideoSearchAuthor});var o=a(305954)},593965:(e,t,a)=>{a.d(t,{SearchAuthor:()=>o.SearchAuthor});var o=a(87538)},733474:(e,t,a)=>{a.d(t,{Separator:()=>s});var o=a(474848),r=a(194528),i=a(582192);const n={"top-small-bottom-small":{top:3,bottom:3},"top-small-bottom-large":{top:3,bottom:11},"top-large":{top:20},"top-extra-large":{top:28}},s=({layout:e})=>{const t=e.custom_style?n[e.custom_style]:null;return(0,o.jsxs)(o.Fragment,{children:[t?.top&&(0,o.jsx)(r.Spacing,{size:t.top}),(0,o.jsx)(i.Separator,{}),t?.bottom&&(0,o.jsx)(r.Spacing,{size:t.bottom})]})}},360397:(e,t,a)=>{a.d(t,{Separator:()=>o.Separator});var o=a(733474)},504385:(e,t,a)=>{a.d(t,{ShortVideoList:()=>m});var o=a(474848),r=a(209808),i=a(591378),n=a(8520),s=a(293721),l=a(351137),c=a(418755),d=a(344284),u=a(426593),_=a(170810),p=a(488561);const g={className:a(653258).default.shortVideoList,rowSpacing:12,columnSpacing:12,numberOfSkeletons:12},m=e=>{const{listGridProps:t}=(0,l.useCatalogDesktopVideo)(),{appCatalogService:a}=(0,l.useCatalogConfig)(),{spacing:m,rowSpacing:v,columnSpacing:S,numberOfSkeletons:h,...C}=t||g,f=m?{spacing:m}:{rowSpacing:v,columnSpacing:S},I=(0,u.useListAdaptivityShortVideoColumns)(t?.columnsQueries,t?.columnsDefault),E=(0,c.extractItemsIds)(e),k=(0,d.getBlockByDataType)(e),y=(0,s.useStore)(a.catalogService.$loadingBlockIds).includes(e.id),T=(0,_.isListItemSkeletonAvailable)(e);return y&&!T?(0,o.jsx)(r.PanelSpinner,{}):(0,o.jsx)(i.Grid,{...C,...f,columns:I,children:y?(0,n.createArray)(h||0).map(((t,a)=>(0,o.jsx)(i.Grid.Item,{children:(0,o.jsx)(p.ShortVideoListItemSkeleton,{...e},a)},a))):E?.map((({id:t,...a})=>(0,o.jsx)(i.Grid.Item,{children:(0,o.jsx)(k,{...a,id:t,layout:e.layout.name,itemBadges:e.item_badges})},t)))})}},196128:(e,t,a)=>{a.d(t,{ShortVideoListItemSkeleton:()=>s});var o=a(474848),r=a(49932),i=a(170810),n=a(885741);const s=e=>(0,i.isListItemSkeletonAvailable)(e)&&e.data_type===r.CatalogBlockDataType.VIDEOS?(0,o.jsx)(n.ShortVideoCardSkeleton,{}):null},488561:(e,t,a)=>{a.d(t,{ShortVideoListItemSkeleton:()=>o.ShortVideoListItemSkeleton});var o=a(196128)},883075:(e,t,a)=>{a.d(t,{ShortVideoList:()=>o.ShortVideoList,useListAdaptivityShortVideoColumns:()=>r.useListAdaptivityShortVideoColumns});var o=a(504385),r=a(426593)},426593:(e,t,a)=>{a.d(t,{useListAdaptivityShortVideoColumns:()=>r});var o=a(513950);const r=(e=[{value:5,query:{minWidth:1106,maxWidth:1357}},{value:6,query:{minWidth:1358,maxWidth:1535}},{value:7,query:{minWidth:1536,maxWidth:2040}},{value:8,query:{minWidth:2041}}],t=4)=>(0,o.useAdaptivityMediaQueries)(e,t)},614174:(e,t,a)=>{a.d(t,{Slider:()=>v});var o=a(474848),r=a(8520),i=a(354592),n=a(172656),s=a(351137),l=a(418755),c=a(363476),d=a(697531),u=a(947946),_=a(49932);const p={isGroupExpanded:!0,showArrows:!0,arrowSize:"m"},g={arrow_center_sm:-21,arrow_center_md:-47},m=e=>{const{sliderProps:t={}}=(0,s.useCatalogConfig)(),{isGroupExpanded:a,...n}={...p,...t},m=(0,l.extractItemsIds)(e),v=(0,d.getBlockByDataType)(e),S=(0,l.getDataTestId)("slider",e.data_type);return e.layout.style&&g[e.layout.style]&&(n.arrowOffsetY=g[e.layout.style]),(0,o.jsx)(i.HorizontalScroll,{"data-testid":S,...n,children:(0,o.jsxs)("div",{className:(0,r.classNames)(u.default.scrollContainer,a&&u.default.groupContainer),children:[m.map((t=>(0,o.jsx)(v,{...t,layout:e.layout.name,layoutStyle:e.layout.style,album_id:e.data_type===_.CatalogBlockDataType.VIDEOS?e.albums_ids?.[0]:void 0},t.id))),e.actions?.map(((t,a)=>(0,o.jsx)(c.Action,{...e,action:t,layout:e.layout.name},t.track_code||a)))]})})},v=e=>{const{sliderProps:t={}}=(0,s.useCatalogConfig)(),{isGroupExpanded:a}={...p,...t};return a?(0,o.jsx)(n.Group.ExpandedContent,{children:(0,o.jsx)(m,{...e})}):(0,o.jsx)(m,{...e})}},697531:(e,t,a)=>{a.d(t,{getBlockByDataType:()=>_});var o=a(49932),r=a(541747),i=a(710354),n=a(389257),s=a(689477),l=a(950600),c=a(292598),d=a(361278);const u=()=>null,_=e=>{switch(e.data_type){case o.CatalogBlockDataType.VIDEOS:return n.Video;case o.CatalogBlockDataType.MUSIC_PLAYLISTS:return r.MusicPlaylist;case o.CatalogBlockDataType.LINKS:return i.Link;case o.CatalogBlockDataType.GROUPS_ITEMS:return s.GroupItem;case o.CatalogBlockDataType.ALBUMS:return l.SliderPlaylist;case o.CatalogBlockDataType.VIDEO_SHOWCASE_VKLIVE_CHANNELS_ITEMS:return c.VKVideoLive;case o.CatalogBlockDataType.VIDEO_SHOWCASE_VKLIVE_CATEGORIES_ITEMS:return d.VKVideoLiveCategory;default:return u}}},348419:(e,t,a)=>{a.d(t,{Slider:()=>o.Slider});var o=a(614174)},595054:(e,t,a)=>{a.d(t,{TripleStackedSlider:()=>c});var o=a(474848),r=a(296540),i=a(171284),n=a(418755),s=a(467379),l=a(109724);const c=e=>{const t=(0,r.useMemo)((()=>(0,i.extractItemsIds)(e)),[e]),a=(0,l.getBlockByDataType)(e),c=(0,n.getEventItemTypeByDataType)(e),d=(0,i.getDirectionType)(e),u=(0,r.useMemo)((()=>t.map((t=>({key:t.id,length:t.content_length,component:(0,o.jsx)(a,{...t,layout:e.layout.name,type:c,block_id:e.id})})))),t);return(0,o.jsx)(s.TripleStackedSliderItems,{directionType:d,content:u})}},426237:(e,t,a)=>{a.d(t,{TripleStackedSliderItems:()=>d});var o=a(474848),r=a(591378),i=a(296540),n=a(249368),s=a(174269),l=a(8520),c=a(163023);const d=({directionType:e,content:t})=>{const a=e===n.DirectionType.row?(0,s.toColumnWithRows)(t,3):(0,l.chunkArray)(t,3),d=a.length>2;return(0,o.jsx)(r.Grid,{columns:d?"dynamic":2,children:(0,o.jsx)(r.Grid.HorizontalScroll,{getScrollToLeft:e=>e-800,getScrollToRight:e=>e+800,arrowSize:"m",children:a.map(((e,t)=>(0,o.jsx)(r.Grid.Item,{children:(0,o.jsx)("div",{className:(0,l.classNames)(d&&c.default.item),children:e?.map(((e,t)=>(0,o.jsx)(i.Fragment,{children:e.component},t)))})},t)))})})}},467379:(e,t,a)=>{a.d(t,{TripleStackedSliderItems:()=>o.TripleStackedSliderItems});var o=a(426237)},109724:(e,t,a)=>{a.d(t,{getBlockByDataType:()=>n});var o=a(174269),r=a(710354),i=a(539254);const n=e=>{switch(e.data_type){case o.CatalogBlockDataType.MUSIC_AUDIOS:return i.MusicAudios;case o.CatalogBlockDataType.LINKS:return r.Link;default:return()=>null}}},100858:(e,t,a)=>{a.d(t,{TripleStackedSlider:()=>o.TripleStackedSlider});var o=a(595054)},727918:(e,t,a)=>{a.d(t,{VKVideoLive:()=>d});var o=a(474848),r=a(293721),i=a(174269),n=a(344356),s=a(618068),l=a(866467),c=a(891742);const d=({id:e,layout:t})=>{const{appCatalogService:a}=(0,i.useCatalogConfig)(),d=(0,r.useStoreMap)({store:a.VKLiveChannelsService.$vkliveChannels,keys:[e],fn:(e,[t])=>e.get(t)});if(!d)return null;const u=`${window.cur?.live_link}/${d.url}`,_={title:d.stream_title,isLive:"online"===d.status,thumbSrc:d.stream_preview_url,owner:{name:d.vklive_owner_nick,photo_50:d.vklive_owner_avatar_url,href:u},additionalInfo:(0,o.jsx)(n.Interpolate,{children:(0,l.getLang)("video_live_N_watching",d.stream_viewers,!0)}),href:u};return t===i.CatalogBlockLayoutName.SLIDER?(0,o.jsx)(c.VKVideoLiveCardSlider,{video:_}):(0,o.jsx)(s.VideoCard,{testId:"catalog_item_live",video:_})}},927071:(e,t,a)=>{a.d(t,{VKVideoLiveCardSlider:()=>s});var o=a(474848),r=a(174269),i=a(618068),n=a(286277);const s=({video:e})=>{const{videoCardProps:{sliderCardSize:t="m"}}=(0,r.useCatalogDesktopVideo)();return(0,o.jsx)(n.VideoCardSliderWrapper,{size:t,children:(0,o.jsx)(i.VideoCard,{testId:"catalog_item_live",video:e})})}},891742:(e,t,a)=>{a.d(t,{VKVideoLiveCardSlider:()=>o.VKVideoLiveCardSlider});var o=a(927071)},292598:(e,t,a)=>{a.d(t,{VKVideoLive:()=>o.VKVideoLive});var o=a(727918)},174450:(e,t,a)=>{a.d(t,{VKVideoLiveCategory:()=>l});var o=a(474848),r=a(293721),i=a(174269),n=a(53568),s=a(522903);const l=({id:e,layout:t})=>{const{appCatalogService:a}=(0,i.useCatalogConfig)(),l=(0,r.useStoreMap)({store:a.VKLiveCategoryService.$vkliveCategories,keys:[e],fn:(e,[t])=>e.get(t)});return l?t===i.CatalogBlockLayoutName.SLIDER?(0,o.jsx)(n.VKVideoLiveCategorySlider,{category:l}):(0,o.jsx)(s.VKVideoLiveCategoryCard,{category:l}):null}},8135:(e,t,a)=>{a.d(t,{VKVideoLiveCategoryCard:()=>i});var o=a(474848),r=a(620068);const i=({category:e,size:t="l"})=>{const{title:a,cover_url:i,id:n,viewers:s}=e;return(0,o.jsx)(r.VideoCategoryCard,{testId:"catalog_item_video_category",title:a,thumbSrc:i,viewersCount:s,size:t,href:`/lives/categories/${n}`,altText:a})}},522903:(e,t,a)=>{a.d(t,{VKVideoLiveCategoryCard:()=>o.VKVideoLiveCategoryCard});var o=a(8135)},261235:(e,t,a)=>{a.d(t,{VKVideoLiveCategorySlider:()=>n});var o=a(474848),r=a(522903),i=a(303800);const n=({category:e})=>(0,o.jsx)(i.Div,{mode:"vertical",spacing:6,paddingTop:4,paddingBottom:4,children:(0,o.jsx)(r.VKVideoLiveCategoryCard,{category:e,size:"m"})})},53568:(e,t,a)=>{a.d(t,{VKVideoLiveCategorySlider:()=>o.VKVideoLiveCategorySlider});var o=a(261235)},361278:(e,t,a)=>{a.d(t,{VKVideoLiveCategory:()=>o.VKVideoLiveCategory});var o=a(174450)},176174:(e,t,a)=>{a.d(t,{ShortVideoCard:()=>h});var o=a(474848),r=a(93016),i=a(425072),n=a(720836),s=a(285056),l=a(194528),c=a(279734),d=a(764001),u=a(589745),_=a(908671),p=a(296540),g=a(866467),m=a(540462),v=a(348882),S=a(351137);const h=({video:e})=>{const t=(0,p.useMemo)((()=>e?.image?.filter((e=>!e.with_padding))||[]),[e?.image]),{videoCardProps:a}=(0,S.useCatalogDesktopVideo)(),{onVideoOpen:h,onVideoDelete:C,onVideoEdit:f}=a,[I,E]=(0,p.useState)(!1),k=t=>{E(!I),C?.(t,e)};return(0,m.partConfigEnabled)("clips_add_seized_restrictions_web")&&e.restriction?(0,o.jsx)(i.ClipRestricted,{cover:t[0]?.url,title:e.restriction?.title??"",borderRadius:"s",icon:(0,v.getClipIcon)(e.restriction?.icon_name),blurred:Boolean(e.restriction.blur),"data-testid":`clips-restricted-${e.owner_id}_${e.id}`}):e?.restriction?.blur?(0,o.jsx)(r.ClipContainer,{size:"compact",blurred:!0,onClick:t=>h(t,e),cover:t[0]?.url}):0===e?.restriction?.can_preview&&0===e?.restriction?.can_play&&e?.restriction?.title?(0,o.jsx)(r.ClipContainer,{size:"compact",centerComponent:(0,o.jsx)(n.Placeholder,{icon:(0,o.jsx)(d.Icon28BlockOutline,{}),children:e?.restriction?.title}),onClick:t=>h(t,e)}):I?(0,o.jsx)(r.ClipContainer,{size:"compact",centerComponent:(0,o.jsxs)(n.Placeholder,{icon:(0,o.jsx)(u.Icon28DeleteOutline,{}),children:[(0,o.jsx)(s.Headline,{level:"1",weight:"2",children:(0,g.getLang)("video_clip_deleted")}),(0,o.jsx)(l.Spacing,{size:8}),(0,o.jsx)(c.Link,{onClick:k,children:(0,g.getLang)("video_restore")})]})}):(0,o.jsx)(r.ClipContainer,{size:"compact",views:(0,_.formatCount)(e.views??0),onClick:t=>h(t,e),cover:t[0]?.url,actions:(()=>{if(Boolean(e.can_edit||e.can_delete))return(0,o.jsxs)(o.Fragment,{children:[1===e.can_edit&&(0,o.jsx)(r.ClipContainer.Action,{label:(0,g.getLang)("video_edit"),icon:"edit",onClick:t=>f(t,e)},"edit"),1===e.can_delete&&(0,o.jsx)(r.ClipContainer.Action,{label:(0,g.getLang)("global_delete"),icon:"delete",onClick:k},"delete")]})})()})}},347463:(e,t,a)=>{a.d(t,{ShortVideoCardSkeleton:()=>n});var o=a(474848),r=a(220208),i=a(157643);const n=()=>(0,o.jsx)(r.AspectRatio,{ratio:9/16,children:(0,o.jsx)("div",{children:(0,o.jsx)(i.Skeleton,{borderRadius:8,width:"100%",height:"100%"})})})},885741:(e,t,a)=>{a.d(t,{ShortVideoCard:()=>o.ShortVideoCard,ShortVideoCardSkeleton:()=>r.ShortVideoCardSkeleton});var o=a(176174),r=a(347463)},653512:(e,t,a)=>{a.d(t,{SliderShortVideoCard:()=>n});var o=a(474848),r=a(885741),i=a(786176);const n=({video:e})=>(0,o.jsx)("div",{className:i.default.clipContainer,children:(0,o.jsx)(r.ShortVideoCard,{video:e})})},573024:(e,t,a)=>{a.d(t,{SliderShortVideoCard:()=>o.SliderShortVideoCard});var o=a(653512)},559074:(e,t,a)=>{a.d(t,{Video:()=>u});var o=a(474848),r=a(293721),i=a(361121),n=a(174269),s=a(463111),l=a(463802),c=a(885741),d=a(573024);const u=({id:e,layout:t,layoutStyle:a,kitVideoCardProps:u={},album_id:_})=>{const{appCatalogService:p}=(0,n.useCatalogConfig)(),g=(0,r.useStoreMap)({store:p.videoService.$videoItems,keys:[e],fn:(e,[t])=>{const{ownerId:a,itemId:o}=(0,i.splitRawId)(t);return e.find((e=>e.id===o&&e.owner_id===a))}});if(!g)return null;switch(t){case n.CatalogBlockLayoutName.SLIDER:return(0,o.jsx)(l.VideoCardSlider,{video:g,layoutStyle:a,albumId:_});case n.CatalogBlockLayoutName.SHORT_VIDEO_LIST:return(0,o.jsx)(c.ShortVideoCard,{video:g});case n.CatalogBlockLayoutName.SHORT_VIDEO_SLIDER_WITH_VIEW_COUNTER:return(0,o.jsx)(d.SliderShortVideoCard,{video:g});default:return(0,o.jsx)(s.VideoCard,{video:g,layoutStyle:a,kitVideoCardProps:u})}}},776800:(e,t,a)=>{a.d(t,{IconControls:()=>s});var o=a(474848),r=a(296540),i=a(618068),n=a(57938);const s=(0,r.memo)((function({video:e,controls:t,cardRef:a,searchTrackCode:r}){return t.length?(0,o.jsx)(o.Fragment,{children:t.map((t=>{if(t.type===n.ControlTypes.ICON){const{text:a,onClick:r,component:n,...s}=t;return(0,o.jsx)(i.VideoCard.IconControl,{tooltipText:a,onClick:t=>r(t,e),icon:n,...s},a)}if(t.type===n.ControlTypes.PLAYLIST_POPOVER){const{component:i,...n}=t;return(0,o.jsx)(i,{video:e,cardRef:a,searchTrackCode:r,...n},e.id)}}))}):null}))},53731:(e,t,a)=>{a.d(t,{getDeleteControl:()=>n});var o=a(224173),r=a(866467),i=a(57938);const n=(e,t)=>({component:o.Icon16Cancel,text:t??(0,r.getLang)("global_delete"),onClick:e,type:i.ControlTypes.ICON,"data-testid":"video_card_delete_button"})},877002:(e,t,a)=>{a.d(t,{getWatchLaterControls:()=>s});var o=a(373561),r=a(353322),i=a(866467),n=a(57938);const s=(e,t)=>e.is_favorite?[{type:n.ControlTypes.ICON,component:o.Icon16Clock,text:(0,i.getLang)("video_remove_from_watch_later"),onClick:t,"data-testid":"video_card_watch_later_button"}]:e.can_add_to_faves?[{type:n.ControlTypes.ICON,component:r.Icon16ClockOutline,text:(0,i.getLang)("video_catalog_showcase_section_my_watch_later_title"),onClick:t,"data-testid":"video_card_watch_later_button"}]:[]},642311:(e,t,a)=>{a.d(t,{ControlTypes:()=>r.ControlTypes,IconControls:()=>o.IconControls,isShowingPlaylistPopover:()=>i.isShowingPlaylistPopover});var o=a(776800),r=a(57938),i=a(316709)},316709:(e,t,a)=>{a.d(t,{isShowingPlaylistPopover:()=>r});var o=a(540462);const r=e=>1===e&&(0,o.partConfigEnabled)("video_can_show_playlist_popover_with_watch_later")},57938:(e,t,a)=>{a.d(t,{ControlTypes:()=>o});var o=function(e){return e[e.ICON=0]="ICON",e[e.PLAYLIST_POPOVER=1]="PLAYLIST_POPOVER",e}({})},146534:(e,t,a)=>{a.d(t,{useControls:()=>m});var o=a(378204),r=a(435485),i=a(745401),n=a(468073),s=a(351137),l=a(856289),c=a(866467),d=a(53731),u=a(877002),_=a(57938),p=a(642311),g=a(962271);const m=e=>{const{videoCardProps:t,isCurrentUserEditor:a,onOpenPlaylistModal:m}=(0,s.useCatalogDesktopVideo)(),{isFaves:v,videoDeleteText:S,onVideoToggleFave:h,onVideoDelete:C,onVideoDownload:f,onVideoEdit:I,addToPlaylistControl:E,searchTrackCode:k}=t,y=[];if(!n.Ranges.isUserId(window.vk.id))return y;const T=m&&(0,l.canAddVideoToCommunityPlaylist)(e)&&a;T||v||y.push(...(0,u.getWatchLaterControls)(e,(t=>h(t,e,{source:g.FAVORITE_SOURCES.VIDEO_CARD_BUTTON,searchTrackCode:k}))));return(2===e.can_download||3===e.can_download)&&"interactive"!==e.type&&y.push({component:o.Icon16DownloadOutline,text:(0,c.getLang)("video_download"),onClick:t=>f(t,e),type:_.ControlTypes.ICON,"data-testid":"video_download"}),1===e.can_edit&&y.push({component:r.Icon16PenOutline,text:(0,c.getLang)("video_edit"),onClick:t=>I(t,e),type:_.ControlTypes.ICON,"data-testid":"video_edit"}),T&&y.push({component:i.Icon16ListPlayOutline,text:(0,c.getLang)("video_move_to_playlist"),onClick:()=>m(e),type:_.ControlTypes.ICON,"data-testid":"video_card_add_to_playlist"}),v?((0,p.isShowingPlaylistPopover)(e.can_add)&&y.push({type:_.ControlTypes.PLAYLIST_POPOVER,component:E,"data-testid":"video_card_delete_button"}),y.push((0,d.getDeleteControl)((t=>h(t,e,{searchTrackCode:k})),S))):1===e.can_delete&&C&&y.push((0,d.getDeleteControl)((t=>C(t,e)),S)),v||T||!(0,p.isShowingPlaylistPopover)(e.can_add)||y.push({type:_.ControlTypes.PLAYLIST_POPOVER,component:E,"data-testid":"video_card_add_to_my_videos_button"}),y}},505606:(e,t,a)=>{a.d(t,{VideoCard:()=>E});var o=a(474848),r=a(296540),i=a(8520),n=a(344356),s=a(618068),l=a(468073),c=a(866467),d=a(671112),u=a(540462),_=a(841315),p=a(351137),g=a(924398),m=a(642311),v=a(156802),S=a(273765),h=a(576013),C=a(146534);const f=e=>Boolean(e.onSelect&&e.selectMode&&e.selectButtonAriaLabel),I=({isHighlighted:e,size:t,direction:a,...o})=>o,E=({video:e,kitVideoCardProps:t={},albumId:a,layoutStyle:E})=>{const{isAvatarHidden:k,videoCardProps:y,showCurrentOnline:T}=(0,p.useCatalogDesktopVideo)(),{appCatalogService:A}=(0,p.useCatalogConfig)(),R=(0,g.useCatalogStoreMap)(A.groupsService.$groups,l.Ranges.convertOwnerIdToGroupId(e.owner_id)),{menuItems:x,onMenuPopoverShownChange:L,onMenuPopoverShownChanged:O}=(0,h.useMenuItems)(e,R),b=(0,C.useControls)(e),w=(0,v.useOverlay)(e,R),V=(0,S.useVideo)(e,R),P=(0,r.useRef)(null);"live"===e.type&&T&&(V.additionalInfo=(0,o.jsx)(n.Interpolate,{children:(0,c.getLang)("video_live_N_watching",e.spectators||0,!0)}));const N=e.vk_live_channel_url&&(0,d.isLiveVideo)(e),B={controlItems:b.length?(0,o.jsx)(m.IconControls,{controls:b,video:e,cardRef:P,searchTrackCode:y.searchTrackCode}):void 0,getRef:P,isAvatarHidden:k,menuItems:x,onAuthorClick:t=>y.onVideoAuthorClick?.(t,e),onMenuPopoverShownChange:L,onMenuPopoverShownChanged:O,onRestrictionButtonClick:e=>{e.preventDefault(),V?.restriction&&y.onRestrictionAction?.(V.restriction)},onVideoOpen:N?i.noop:t=>{t.preventDefault(),y.onVideoOpen(t,e)},overlay:w,video:{...V,href:N?e.vk_live_channel_url:(0,_.getVideoUrl)(e,{playlistId:a})},noPlayIcon:Boolean(e?.restriction)};return(0,o.jsx)(s.VideoCard,{testId:"catalog_item_video",...(()=>{const{size:e,direction:a}=t;if("s"!==e||"horizontal"!==a){if(f(t))return{size:e,direction:a,...B,...I(t)};const o=(0,u.partConfigEnabled)("video_community_simple_videocard")&&"invisible_author"===E?{noAvatar:!0,noOwner:!0}:{},{selectMode:r,onSelect:i,selectButtonAriaLabel:n,isHighlighted:s,...l}=t;return{...B,...l,...o}}const{isHighlighted:o,onSelect:r,selectMode:i,selectButtonAriaLabel:n,size:s,direction:l,...c}=t,d={...B,direction:a,size:e,isHighlighted:o};return f(t)?{...d,...I(t)}:{...d,...c}})()})}},463111:(e,t,a)=>{a.d(t,{VideoCard:()=>o.VideoCard});var o=a(505606)},576013:(e,t,a)=>{a.d(t,{useMenuItems:()=>f});var o=a(474848),r=a(296540),i=a(382965),n=a(881940),s=a(843387),l=a(968637),c=a(757295),d=a(314799),u=a(632731),_=a(984745),p=a(468073),g=a(866467),m=a(351137),v=a(540462),S=a(856289),h=a(370420),C=a(962271);const f=(e,t)=>{const[a,f]=(0,r.useState)(!1),{videoCardProps:I}=(0,m.useCatalogDesktopVideo)(),{onVideoSendReport:E,onVideoShare:k,onVideoToggleFave:y,onToggleHideAuthor:T,onVideoTogglePin:A,onClipFromVideoCreate:R}=I,x=(0,v.partConfigEnabled)("video_community_redesign_pinned_video"),L=(0,d.useHelpHint)(u.AvailableHelpHints.ACCOUNT_HINT_VIDEO_PIN),O=()=>{L&&(0,_.ensureAccountHelpHintsService)().hideHelpHint({hintId:L.id})};return{menuItems:(0,r.useMemo)((()=>{const a=[];if(p.Ranges.isUserId(window.vk.id)){if(e.can_edit&&R&&(0,S.canCreateClipFromVideo)(e)&&a.push({onClick:t=>R(t,e),before:(0,o.jsx)(i.Icon20LogoClipsOutline,{}),children:(0,g.getLang)("video_create_clip"),"data-testid":"video_card_create_clip_from_video_button"}),T){const r=()=>{const a={onClick:a=>T(a,e,void 0,t),children:(0,g.getLang)("video_subscribes_menu_hide_author"),before:(0,o.jsx)(n.Icon20HideOutline,{}),"data-testid":"video_subscribes_menu_hide_author"};return t?.is_video_subscription_hidden&&(a.before=(0,o.jsx)(s.Icon20ViewOutline,{}),a.children=(0,g.getLang)("video_subscribes_menu_unhide_author")),a};a.push(r())}if(e.can_be_pinned&&x&&A){const t=(t,a)=>{const r=t=>A(t,e);if(L){const e=e=>{O(),r(e)};return{before:(0,o.jsx)(S.MenuHelpHintTextTooltip,{text:`${L.title} ${L.description}`,placement:"top-start",appearance:"accent",maxWidth:230,children:t}),children:a,onClick:e,"data-testid":"video_card_pin_button"}}return{before:t,children:a,onClick:r}};a.push(e.is_pinned?t((0,o.jsx)(l.Icon20PinSlashOutline,{}),(0,g.getLang)("video_unpin_video_action")):t((0,o.jsx)(c.Icon20PinOutline,{}),(0,g.getLang)("video_pin_video_action")))}return h.getMenuItems(...a,h.watchLater(e,(t=>y(t,e,{source:C.FAVORITE_SOURCES.VIDEO_CARD_MODAL}))),h.share(e,(t=>k(t,e))),h.report(e,(t=>E(t,e))))}}),[a]),onMenuPopoverShownChange:e=>{x&&L&&!e&&O()},onMenuPopoverShownChanged:e=>{f(e)}}}},156802:(e,t,a)=>{a.d(t,{useOverlay:()=>i});var o=a(296540),r=a(351137);const i=(e,t)=>{const{videoCardProps:{videoOverlay:a}}=(0,r.useCatalogDesktopVideo)(),[i,n]=(0,o.useState)(!0),[s,l]=(0,o.useMemo)((()=>{const o="function"==typeof a?a(e,t):a;if(!o)return[];const{actionProps:r,hideTime:n,...s}=o;return[n,i?{...s,actionProps:r}:s]}),[i,e,t,a]);return(0,o.useEffect)((()=>{if(void 0===s)return;const e=setTimeout((()=>{n(!1)}),s);return()=>{clearTimeout(e)}}),[s]),l}},273765:(e,t,a)=>{a.d(t,{useVideo:()=>l});var o=a(296540),r=a(468073),i=a(540462),n=a(351137),s=a(856289);const l=(e,t)=>{const{findOwner:a}=(0,n.useCatalogOwner)(),{ownerRoutePrefix:l,videoCardProps:{getVerifiedBadge:c}}=(0,n.useCatalogDesktopVideo)();return(0,o.useMemo)((()=>{const o=e?.user_id??e.owner_id,n=(0,i.partConfigEnabled)("video_channel_link_on_video_clip")&&r.Ranges.isUMA(o)&&e.main_artists?.[0]?.video_owner_id?e.main_artists[0].video_owner_id:o,d=a(n),u={...(0,s.mapVideoToVideoCardItem)(e),owner:{...(0,s.mapArtistToVideoCardOwner)(e)??(0,s.mapUserOrGroupToVideoCardOwner)(d,l),badge:c(d)}};return t?.is_video_subscription_hidden&&(u.restriction={mode:"hidden"}),u}),[e,a,l,c,t])}},321658:(e,t,a)=>{a.d(t,{VideoCardSkeleton:()=>n});var o=a(474848),r=a(437016),i=a(174269);const n=({singleLineTitle:e})=>{const{isAvatarHidden:t}=(0,i.useCatalogDesktopVideo)();return(0,o.jsx)(r.VideoCardSkeleton,{singleLineTitle:e,withAvatar:!t})}},183964:(e,t,a)=>{a.d(t,{VideoCardSkeleton:()=>o.VideoCardSkeleton});var o=a(321658)},666610:(e,t,a)=>{a.d(t,{VideoCardSlider:()=>c});var o=a(474848),r=a(8520),i=a(174269),n=a(463111),s=a(623377);const l={s:s.default.sizeS,m:s.default.sizeM,l:s.default.sizeL},c=({video:e,albumId:t,layoutStyle:a})=>{const{videoCardProps:{sliderCardSize:c="m"}}=(0,i.useCatalogDesktopVideo)();return(0,o.jsx)("div",{className:(0,r.classNames)(s.default.container,l[c]),children:(0,o.jsx)(n.VideoCard,{"data-testid":"catalog_item_video",video:e,albumId:t,layoutStyle:a})})}},463802:(e,t,a)=>{a.d(t,{VideoCardSlider:()=>o.VideoCardSlider});var o=a(666610)},389257:(e,t,a)=>{a.d(t,{Video:()=>o.Video,VideoCardSkeleton:()=>r.VideoCardSkeleton});var o=a(559074),r=a(183964);a(573024)},692050:(e,t,a)=>{a.d(t,{VideoCardSliderWrapper:()=>s});var o=a(474848),r=a(8520),i=a(253222);const n={s:i.default.sizeS,m:i.default.sizeM,l:i.default.sizeL},s=({children:e,size:t})=>(0,o.jsx)("div",{className:(0,r.classNames)(i.default.container,n[t]),children:e})},286277:(e,t,a)=>{a.d(t,{VideoCardSliderWrapper:()=>o.VideoCardSliderWrapper});var o=a(692050)},979717:(e,t,a)=>{a.d(t,{Header:()=>o.Header,IslandSeparator:()=>v.IslandSeparator,List:()=>r.List,MusicPlaylist:()=>g.MusicPlaylist,PinnedVideo:()=>n.PinnedVideo,Placeholder:()=>s.Placeholder,Playlist:()=>l.Playlist,Separator:()=>c.Separator,ShortVideoList:()=>i.ShortVideoList,Slider:()=>d.Slider,TripleStackedSlider:()=>m.TripleStackedSlider,VKVideoLive:()=>_.VKVideoLive,VKVideoLiveCategory:()=>p.VKVideoLiveCategory,Video:()=>u.Video,useListAdaptivityColumns:()=>r.useListAdaptivityColumns});var o=a(361251),r=a(170810),i=a(883075),n=a(167111),s=a(405571),l=a(950600),c=a(360397),d=a(348419),u=a(389257),_=a(292598),p=a(361278),g=a(541747),m=(a(710354),a(100858)),v=(a(539254),a(917286));a(286277)},596911:(e,t,a)=>{a.d(t,{Button:()=>i});var o=a(474848),r=a(734716);const i=({actions:e=[],title:t,blockIndex:a})=>(0,o.jsx)(o.Fragment,{children:e?.map(((e,i)=>{const n=(0,r.getButton)(e);return(0,o.jsx)(n,{action:e,title:t,itemIndex:(a||0)+i,id:i},i)}))})},13310:(e,t,a)=>{a.d(t,{OpenUrl:()=>g});var o=a(474848),r=a(296540),i=a(293721),n=a(260546),s=a(285056),l=a(489569),c=a(317216),d=a(657293),u=a(351137),_=a(198485),p=a(251138);const g=({action:e,itemIndex:t,title:a})=>{const{displayTopSearch:g,setCurrentQuery:m,currentQuery:v,onOpenUrlClick:S}=(0,u.useCatalogSearch)(),h=(0,i.useStore)(_.$isMouseActive),C=(0,i.useStore)(_.$selectedItemIndex),f=(0,u.useCollectClick)(),I=(0,d.useRefLogView)({type:c.EventItemType.CATALOG_ITEM,trackCode:e?.track_code}),E=`${e?.action?.url}${encodeURIComponent(v)}`,k=(0,r.useCallback)(((t,a)=>{t&&!(0,l.isMainClick)(t?.nativeEvent)||(t?.preventDefault(),t?.stopPropagation(),f({type:c.EventItemType.CATALOG_ITEM,track_code:e?.track_code,action:c.SearchClickActionMap.TAP}),a?window.open(E):(m(""),g(!1),S?.(e?.action?.url||"",E)))}),[v,f,g,m,S]);return(0,r.useEffect)((()=>{(0,_.fireSetItemIndex)({id:t||0,callback:k})}),[t,k]),(0,o.jsx)(n.SimpleCell,{"data-testid":"modal_open_url",hovered:C?.id===t,onPointerLeave:()=>{(0,_.fireSetSelectionIndexByItem)(-1)},onPointerEnter:()=>{(0,_.fireSetSelectionIndexByItem)(t||-1)},onClick:k,hasHover:h||C?.id===t,href:E,expandable:"always",className:p.default.container,getRootRef:I,children:(0,o.jsx)(s.Headline,{className:p.default.link,level:"1",weight:"3",children:a||e?.title})})}},206135:(e,t,a)=>{a.d(t,{OpenUrl:()=>o.OpenUrl});var o=a(13310)},430005:(e,t,a)=>{a.d(t,{Button:()=>o.Button});var o=a(596911)},734716:(e,t,a)=>{a.d(t,{getButton:()=>i});var o=a(49932),r=a(206135);const i=e=>e.action?.type===o.CatalogActionType.OPEN_URL?r.OpenUrl:()=>null},579297:(e,t,a)=>{a.d(t,{CatalogUser:()=>k});var o=a(474848),r=a(296540),i=a(293721),n=a(482199),s=a(655332),l=a(260546),c=a(751268),d=a(759322),u=a(49932),_=a(8520),p=a(540462),g=a(489569),m=a(657293),v=a(351137),S=a(317216),h=a(198485),C=a(665606),f=a(853649),I=a(934456);const E=({id:e,itemIndex:t,type:a})=>{const E=(0,v.useCollectClick)(),{navGo:k,pageVerifiedTip:y,appCatalogService:T}=(0,v.useCatalogConfig)(),{displayTopSearch:A}=(0,v.useCatalogSearch)(),R=(0,i.useStore)(h.$isMouseActive),x=(0,i.useStore)(h.$selectedItemIndex),L=(0,i.useStore)(T.pageService.$catalogType),[O,b]=(0,r.useState)(!0),w=(0,i.useStoreMap)({store:T.catalogUsersService.$catalogUsers,keys:[e],fn:(e,[t])=>e.get(t)}),V=(0,i.useStoreMap)({store:T.profilesService.$profiles,keys:[w?.user_id],fn:(e,[t])=>t?e.get(t):void 0}),P=(0,i.useStoreMap)({store:T.profilesService.$profiles,keys:[w?.common_friends],fn:(e,[t])=>(t||[]).map((t=>e.get(t))).filter((e=>Boolean(e))).map((({photo_50:e,photo_100:t})=>e||t||""))}),N=(0,i.useStoreMap)({store:T.catalogUsersService.$deletableFriendsIds,keys:[V?.id],fn:(e,[t])=>!!e.find((e=>e===t))}),B=(0,i.useStore)(T.catalogUsersService.$pendingFriendsIds),M=(0,p.partConfigEnabled)("vkui_account_common_verification_mark")&&(V?.is_esia_verified||V?.is_sber_verified||V?.is_tinkoff_verified),D=V?.track_code||w?.track_code,j=(0,m.useRefLogView)({type:a,trackCode:D}),G=(0,C.getUrlWithTrackCode)(`/${V?.screen_name}`,D,L),F=e=>{E({track_code:D,type:S.EventItemType.USER,action:e})},U=(0,r.useMemo)((()=>(0,d.getFriendsButtonState)(V?.friend_status,!!V?.can_write_private_message,N)),[V?.friend_status,V?.can_write_private_message,N]),H=(0,r.useCallback)(((e,t)=>{!V||e&&!(0,g.isMainClick)(e?.nativeEvent)||(e?.preventDefault(),e?.stopPropagation(),F(S.SearchClickActionMap.TAP),T.searchRecentService.fireAddRecent({owner_ids:`${V.id}`}),t?window.open(G):(A(!1),k(G,e?.nativeEvent||null)))}),[V,A]);if((0,r.useEffect)((()=>{(0,h.fireSetItemIndex)({id:t||0,callback:H})}),[t,H]),!V||!w)return null;const $=(0,_.classNames)(M&&I.default.itemVerification),[z,W]=(0,f.getCatalogUserDescription)({friendsPhotos:P,friendsDescription:w.common_friends_description,descriptions:w.descriptions}),K=(0,d.getOnlineStatus)(V);return(0,o.jsxs)(l.SimpleCell,{"data-testid":"modal_catalog_user",hovered:x?.id===t,onClick:H,onPointerLeave:()=>{(0,h.fireSetSelectionIndexByItem)(-1)},onPointerEnter:()=>{(0,h.fireSetSelectionIndexByItem)(t||-1)},hasHover:R||x?.id===t,href:G,getRootRef:j,before:(0,o.jsxs)(c.RichAvatar,{size:u.CATALOG_AVATAR_SIZE_SM,src:(0,d.getListAvatarSrc)(V),nft:!!V.is_nft,children:[K&&(0,o.jsx)(c.RichAvatar.BadgeWithPreset,{preset:K}),V.has_unseen_stories&&(0,o.jsx)(c.RichAvatar.Outline,{appearance:"accent"})]}),badgeAfterTitle:V.verified||M?(0,o.jsx)("div",{onMouseOver:e=>{const t=e.target?.closest('[data-catalog-item="list"]'),a=e.target?.closest('[data-verified-container="true"]'),o=O?u.FIRST_VERIFIED_TOOLTIP_SHIFT:u.VERIFIED_TOOLTIP_SHIFT;y(a,{type:M?8:1,oid:V?.id,appendEl:t,shift:o}),b(!1)},"data-verified-container":"true",children:(0,o.jsx)(n.Icon16Verified,{className:$})}):null,after:(0,o.jsx)(s.CatalogUserButton,{userId:V.id,action:U,loading:B.includes(V.id),logClickEvent:F}),subtitle:z,extraSubtitle:(0,o.jsx)("div",{className:I.default.extraDescription,children:W}),children:[V.first_name," ",V.last_name]})},k=(0,r.memo)(E)},578056:(e,t,a)=>{a.d(t,{CatalogUserButton:()=>g});var o=a(474848),r=a(296540),i=a(700272),n=a(641412),s=a(49932),l=a(255121),c=a(240557),d=a(208103),u=a(317216),_=a(351137),p=a(989488);const g=({userId:e,action:t,loading:a,logClickEvent:g})=>{const{userId:m,openChat:v,appCatalogService:S}=(0,_.useCatalogConfig)(),{displayTopSearch:h}=(0,_.useCatalogSearch)(),C=(0,r.useCallback)((o=>{if(o.stopPropagation(),o.preventDefault(),!a)switch(t){case s.FRIENDS_BUTTON_ACTIONS.ADD_FRIEND:return g(u.SearchClickActionMap.ADD_FRIEND),void S.catalogUsersService.fireAddFriend({user_id:e});case s.FRIENDS_BUTTON_ACTIONS.REMOVE_FRIEND:return g(u.SearchClickActionMap.REMOVE_FRIEND),void S.catalogUsersService.fireDeleteFriend({user_id:e});case s.FRIENDS_BUTTON_ACTIONS.SEND_MESSAGE:return g(u.SearchClickActionMap.SEND_MESSAGE),v(e,"global_search"),void h(!1);case s.FRIENDS_BUTTON_ACTIONS.NO_ACTION:return}}),[t,e,g,a,h,v]);if(t===s.FRIENDS_BUTTON_ACTIONS.NO_ACTION||e===m)return null;let f;switch(t){case s.FRIENDS_BUTTON_ACTIONS.ADD_FRIEND:f=(0,o.jsx)(l.Icon20UserAddOutline,{});break;case s.FRIENDS_BUTTON_ACTIONS.REMOVE_FRIEND:f=(0,o.jsx)(c.Icon20Check,{className:p.default.buttonRemove});break;case s.FRIENDS_BUTTON_ACTIONS.SEND_MESSAGE:f=(0,o.jsx)(d.Icon20MessageOutline,{})}return a&&(f=(0,o.jsx)(i.Spinner,{size:"regular"})),(0,o.jsx)(n.IconButton,{"data-testid":"modal_catalog_user_button",onClick:C,children:f})}},655332:(e,t,a)=>{a.d(t,{CatalogUserButton:()=>o.CatalogUserButton});var o=a(578056)},373539:(e,t,a)=>{a.d(t,{CatalogUser:()=>o.CatalogUser});var o=a(579297)},759322:(e,t,a)=>{a.d(t,{getFriendsButtonState:()=>n,getListAvatarSrc:()=>l,getOnlineStatus:()=>s});var o=a(49932),r=a(898848),i=a(472658);const n=(e,t=!1,a=!1)=>a?o.FRIENDS_BUTTON_ACTIONS.REMOVE_FRIEND:[i.FRIENDS_STATUS.NOT_FRIEND,i.FRIENDS_STATUS.INCOMING_REQUEST].includes(e)?o.FRIENDS_BUTTON_ACTIONS.ADD_FRIEND:t||e!==i.FRIENDS_STATUS.OUTCOMING_REQUEST?o.FRIENDS_BUTTON_ACTIONS.SEND_MESSAGE:o.FRIENDS_BUTTON_ACTIONS.NO_ACTION,s=e=>{if(e.online_info){const{visible:t,is_online:a,is_mobile:o}=e.online_info;if(t&&a)return o?"online-mobile":"online"}},l=e=>((0,r.isRetina)()?e.photo_100:e.photo_50)||e.photo_100||e.photo_200},96601:(e,t,a)=>{a.d(t,{GroupItem:()=>E});var o=a(474848),r=a(296540),i=a(293721),n=a(379996),s=a(34030),l=a(260546),c=a(751268),d=a(49932),u=a(831505),_=a(898848),p=a(489569),g=a(657293),m=a(351137),v=a(317216),S=a(198485),h=a(665606),C=a(174269),f=a(181045);const I=({id:e,track_code:t,friends:a,description:I,itemIndex:E,type:k})=>{const{navGo:y,pageVerifiedTip:T,openChat:A,appCatalogService:R}=(0,m.useCatalogConfig)(),{displayTopSearch:x}=(0,m.useCatalogSearch)(),L=(0,i.useStore)(S.$isMouseActive),O=(0,i.useStore)(S.$selectedItemIndex),b=(0,i.useStore)(R.pageService.$catalogType),w=(0,m.useCollectClick)(),[V,P]=(0,r.useState)(!0),N=(0,C.useCatalogStoreMap)(R.groupsService.$groups,e),B=(0,i.useStoreMap)({store:R.profilesService.$profiles,keys:[a],fn:e=>(a?.preview||[]).map((t=>e.get(t))).filter((e=>!!e)).map((({first_name:e="",photo_50:t="",photo_100:a=""})=>({first_name:e,photo_50:t,photo_100:a})))}),M=(0,i.useStoreMap)({store:R.groupsService.$groupsToLeave,keys:[e],fn:(e,[t])=>!!e.find((e=>e===t))}),D=(0,i.useStoreMap)({store:R.groupsService.$groupPendingIds,keys:[e],fn:(e,[t])=>!!e.find((e=>e===t))}),j=(0,g.useRefLogView)({type:k,trackCode:t}),G=(0,h.getUrlWithTrackCode)(`/${N?.screen_name}?from=quick_search`,t,b),F=e=>{w({track_code:t,type:v.EventItemType.GROUP,action:e})},U=(0,r.useCallback)((e=>{if(e.stopPropagation(),e.preventDefault(),N?.id&&!D){if(N.is_member&&N.can_message&&!M)return F(v.SearchClickActionMap.SEND_MESSAGE),A(-N.id,"global_search"),void x(!1);if(N.is_member&&M)return F(v.SearchClickActionMap.LEAVE_GROUP),void R.groupsService.fireLeaveGroup({group_id:N.id,track_code:t});F(v.SearchClickActionMap.JOIN_GROUP),R.groupsService.fireJoinGroup({group_id:N.id,track_code:t})}}),[N,M,t,D,w,x,A]),H=(0,r.useCallback)(((e,t)=>{!N||e&&!(0,p.isMainClick)(e?.nativeEvent)||(e?.preventDefault(),e?.stopPropagation(),F(v.SearchClickActionMap.TAP),R.searchRecentService.fireAddRecent({owner_ids:`-${N.id}`}),t?window.open(G):(x(!1),y(G,e?.nativeEvent||null)))}),[N,t,w,x]);if((0,r.useEffect)((()=>{(0,S.fireSetItemIndex)({id:E||0,callback:H})}),[E,H]),!N)return null;const $=((0,_.isRetina)()?N.photo_100:N.photo_50)||N.photo_100||N.photo_200,z=(()=>{if(N?.verified)return f.GroupItemVerifiedIconType.Verified;switch(N?.trust_mark){case u.GroupsGroupFullTrustMarkEnumNames.CONFIRMED:return f.GroupItemVerifiedIconType.ConfirmedBusiness;case u.GroupsGroupFullTrustMarkEnumNames.PREMIUM:return f.GroupItemVerifiedIconType.PremiumBusiness}})();return(0,o.jsx)(l.SimpleCell,{"data-testid":"modal_group_item",hovered:O?.id===E,onClick:H,onPointerLeave:()=>{(0,S.fireSetSelectionIndexByItem)(-1)},onPointerEnter:()=>{(0,S.fireSetSelectionIndexByItem)(E||-1)},hasHover:L||O?.id===E,href:G,getRootRef:j,before:(0,o.jsx)(c.RichAvatar,{size:d.CATALOG_AVATAR_SIZE_SM,src:$,nft:!!N.is_nft_photo,children:N.has_unseen_stories&&(0,o.jsx)(c.RichAvatar.Outline,{appearance:"accent"})}),badgeAfterTitle:z?(0,o.jsx)("div",{"data-verified-container":"true",onMouseOver:e=>{const t=N?.trust_mark&&N?.trust_mark>1?16:1,a=e.target?.closest('[data-catalog-item="list"]'),o=e.target?.closest('[data-verified-container="true"]'),r=V?d.FIRST_VERIFIED_TOOLTIP_SHIFT:d.VERIFIED_TOOLTIP_SHIFT;T(o,{type:t,oid:`-${N?.id}`,appendEl:a,shift:r}),P(!1)},children:(0,o.jsx)(f.GroupItemVerifiedIcon,{type:z})}):null,after:(0,o.jsx)(n.GroupItemButton,{click:U,isMember:!!N.is_member,canMessage:!!N.can_message,canLeave:M,loading:D}),subtitle:(0,o.jsx)(s.GroupItemDescription,{isMember:!!N.is_member,profiles:N.friends?.preview_profiles||B,text:N.members_count_text||"",description:I,governmentOrganization:!!N.is_government_organization,activity:N.activity||"",profilesCount:a?.count||B.length}),children:N.name})},E=(0,r.memo)(I)},917648:(e,t,a)=>{a.d(t,{GroupItemButton:()=>d});var o=a(474848),r=a(700272),i=a(641412),n=a(208103),s=a(240557),l=a(22225),c=a(724072);const d=({isMember:e,canLeave:t,canMessage:a,click:d,loading:u})=>{let _=null;return e&&a&&!t&&(_=(0,o.jsx)(n.Icon20MessageOutline,{})),e&&t&&(_=(0,o.jsx)(s.Icon20Check,{className:c.default.buttonLeave})),e||(_=(0,o.jsx)(l.Icon20AddSquareOutline,{})),u&&(_=(0,o.jsx)(r.Spinner,{size:"regular"})),_?(0,o.jsx)(i.IconButton,{"data-testid":"modal_group_item_button",onClick:d,children:_}):null}},379996:(e,t,a)=>{a.d(t,{GroupItemButton:()=>o.GroupItemButton});var o=a(917648)},92894:(e,t,a)=>{a.d(t,{GroupItemDescription:()=>d});var o=a(474848),r=a(684273),i=a(837046),n=a(412888),s=a(866467),l=a(49932),c=a(440802);const d=({isMember:e,profilesCount:t,profiles:a,text:d,activity:u,description:_,governmentOrganization:p})=>{let g="";const[m]=a,[v,S]=a.map((e=>e.first_name)),h=a.slice(0,l.MAX_FRIENDS_IN_GROUP_TO_SHOW),C=(0,s.getLang)("search_search_friends_in_group_and"),f=(0,s.getLang)("search_search_friends_in_group","raw");switch(t){case l.FRIENDS_IN_GROUP.NO_ONE:g="";break;case l.FRIENDS_IN_GROUP.ONE:g=m.first_name||"";break;case l.FRIENDS_IN_GROUP.TWO:g=(0,s.langReplace)(C,{first_user:v,second_user:S});break;default:g=(0,s.langNumeric)(t,f)}const I=_||(u?`${u}, ${d}`:d),E=p?(0,o.jsxs)("div",{className:c.default.government,children:[(0,o.jsx)(r.Icon12Flag,{className:c.default.governmentIcon}),(0,o.jsx)("span",{children:(0,s.getLang)("search_search_government_label")})]}):null;return e||!h.length?(0,o.jsxs)(o.Fragment,{children:[E,I]}):(0,o.jsxs)(o.Fragment,{children:[E,(0,o.jsx)(i.UsersStack,{className:c.default.userStack,photos:h.map((e=>e.photo_50||"")),size:"s",children:(0,o.jsxs)(n.TextClamp,{lines:1,children:[g," · ",d]})})]})}},34030:(e,t,a)=>{a.d(t,{GroupItemDescription:()=>o.GroupItemDescription});var o=a(92894)},470264:(e,t,a)=>{a.d(t,{GroupItemVerifiedIcon:()=>l,GroupItemVerifiedIconType:()=>s});var o=a(474848),r=a(482199),i=a(532795),n=a(723723),s=function(e){return e.Verified="verified",e.ConfirmedBusiness="confirmedBusiness",e.PremiumBusiness="premiumBusiness",e}({});const l=({type:e})=>{if(e)switch(e){case"verified":return(0,o.jsx)(r.Icon16Verified,{});case"confirmedBusiness":return(0,o.jsx)(r.Icon16Verified,{className:(0,n.getColorClass)("color_icon_secondary"),"data-testid":"business_mark_verified"});case"premiumBusiness":return(0,o.jsx)(i.Icon16CrownVerified,{className:(0,n.getColorClass)("color_icon_accent"),"data-testid":"verified_business_icon"});default:return}}},181045:(e,t,a)=>{a.d(t,{GroupItemVerifiedIcon:()=>o.GroupItemVerifiedIcon,GroupItemVerifiedIconType:()=>o.GroupItemVerifiedIconType});var o=a(470264)},802387:(e,t,a)=>{a.d(t,{GroupItem:()=>o.GroupItem});var o=a(96601)},162985:(e,t,a)=>{a.d(t,{HeaderCompact:()=>l});var o=a(474848),r=a(296540),i=a(557992),n=a(436744),s=a(985219);const l=({actions:e,layout:t,...a})=>(0,o.jsx)(i.Header,{className:s.default.root,mode:"primary",aside:e?.map(((e,o)=>{const i=(0,n.getAction)(e);return(0,r.createElement)(i,{...a,key:e.track_code||o,action:e,layout:t.name})})),children:t.title})},189643:(e,t,a)=>{a.d(t,{ClearRecentGroups:()=>_});var o=a(474848),r=a(560265),i=a(279734),n=a(271036),s=a(317216),l=a(351137),c=a(293721),d=a(49932),u=a(729265);const _=({action:e})=>{const t=(0,l.useCollectClick)(),{appCatalogService:a}=(0,l.useCatalogConfig)(),_=(0,c.useStore)(a.pageService.$catalogType),p=()=>{if(t({track_code:e.track_code,type:s.EventItemType.CATALOG_ITEM,action:s.SearchClickActionMap.REMOVE_RECENT}),a.catalogService.fireRemoveBlocks(e.target_block_ids||[]),_===d.CatalogType.SEARCH)return a.searchRecentService.fireClearSearchRecent({});a.searchRecentService.fireGroupsRemoveRecent({})};return e.title?(0,o.jsx)(i.Link,{"data-testid":"modal_clear_recent",hasHover:!1,className:u.default.link,onClick:p,children:e.title}):(0,o.jsx)(n.IconButton,{"data-testid":"modal_clear_recent",className:u.default.button,onClick:p,children:(0,o.jsx)(r.Icon24Cancel,{className:u.default.icon})})}},551991:(e,t,a)=>{a.d(t,{ClearRecentGroups:()=>o.ClearRecentGroups});var o=a(189643)},621921:(e,t,a)=>{a.d(t,{HeaderCompact:()=>o.HeaderCompact});var o=a(162985)},436744:(e,t,a)=>{a.d(t,{getAction:()=>i});var o=a(551991),r=a(49932);const i=e=>e.action?.type===r.CatalogActionType.CLEAR_RECENT_GROUPS?o.ClearRecentGroups:()=>null},985791:(e,t,a)=>{a.d(t,{Link:()=>y});var o=a(474848),r=a(293721),i=a(751268),n=a(293116),s=a(213338),l=a(412888),c=a(260546),d=a(918277),u=a(621258),_=a(69381),p=a(831505),g=a(49932),m=a(317216),v=a(351137),S=a(296540),h=a(489569),C=a(690272),f=a(174269),I=a(198485),E=a(866467),k=a(540462);const y=({id:e,layout:t,type:a,itemIndex:y})=>{const{navGo:T,appCatalogService:A}=(0,v.useCatalogConfig)(),R=(0,v.useCollectClick)(),{displayTopSearch:x}=(0,v.useCatalogSearch)(),L=(0,f.useCatalogStoreMap)(A.linksService.$links,e),O=L?.meta?.track_code,b=(0,f.useRefLogView)({type:a,trackCode:O}),w=(0,r.useStore)(I.$isMouseActive),V=(0,r.useStore)(I.$selectedItemIndex),P="list"===t,N=L?.url,B=(()=>{const e=new URL(L?.url||"");return"mini_app"===L?.meta?.content_type?e.pathname+"?ref=quick_search_recent":e.pathname})(),M=(0,S.useCallback)(((e,t)=>{R({track_code:O,type:m.EventItemType.LINK,action:m.SearchClickActionMap.TAP}),!B||e&&!(0,h.isMainClick)(e.nativeEvent)||(P||(e?.preventDefault(),e?.stopPropagation()),t?window.open(N):(x(!1),T(B,e?.nativeEvent||null)))}),[L,R,x,t]),D=()=>{P&&(0,I.fireSetSelectionIndexByItem)(-1)},j=()=>{P&&(0,I.fireSetSelectionIndexByItem)(y||-1)};if((0,S.useEffect)((()=>{P&&(0,I.fireSetItemIndex)({id:y||0,callback:M})}),[t,y,M]),!L)return null;const G="verified"===L?.meta?.icon?(0,o.jsx)(d.RasterIcon24Verified,{alt:(0,E.getLang)("search_verified")}):L?.meta?.trust_mark===p.VideoCatalogLinkMetaTrustMarkEnumNames.CONFIRMED?(0,o.jsx)(u.RasterIcon24BusinessVerified,{alt:(0,E.getLang)("search_business_verified"),"data-testid":"verified_business_icon"}):L?.meta?.trust_mark===p.VideoCatalogLinkMetaTrustMarkEnumNames.PREMIUM?(0,o.jsx)(_.RasterIcon24CrownVerified,{alt:(0,E.getLang)("search_business_premium"),"data-testid":"business_mark_verified"}):void 0,F="mini_app"!==L?.meta?.content_type?(0,o.jsx)(i.RichAvatar,{size:g.SLIDER_AVATAR_SIZE_SM,src:L?.image?.length?L.image[0].url:"",nft:!!L?.is_nft,children:G&&(0,o.jsx)(i.RichAvatar.Badge,{children:G})}):(0,o.jsx)(n.Image,{src:L?.image?.length?L.image[0].url:"",size:g.SLIDER_AVATAR_SIZE_SM,borderRadius:"l",children:G&&(0,o.jsx)(n.Image.Badge,{children:G})});switch(t){case"slider":return(0,o.jsx)(s.HorizontalCell,{"data-testid":"modal_link",size:"s",header:(0,o.jsx)(l.TextClamp,{lines:(0,k.partConfigEnabled)("search_top_recent_single_line_title")?1:2,children:L.title}),getRootRef:b,href:B,onClick:M,children:F});case"list":return(0,o.jsx)(c.SimpleCell,{"data-testid":"modal_link_list",getRootRef:b,href:N,before:(0,o.jsx)(n.Image,{size:g.CATALOG_AVATAR_SIZE_SM,src:L?.image?.length?L.image[0].url:"",borderRadius:"m"}),after:(0,o.jsx)(C.Icon20ChevronCircleOutline,{}),subtitle:L.subtitle,onClick:M,onPointerLeave:D,onPointerEnter:j,hasHover:w||V?.id===y,hovered:V?.id===y,children:L.title});default:return null}}},660025:(e,t,a)=>{a.d(t,{Link:()=>o.Link});var o=a(985791)},736515:(e,t,a)=>{a.d(t,{List:()=>c});var o=a(474848),r=a(296540),i=a(172656),n=a(637556),s=a(418755),l=a(234073);const c=e=>{const t=(0,r.useMemo)((()=>(0,s.extractItemsIds)(e)),[e]),a=(0,n.getBlockByDataType)(e),c=(0,s.getEventItemTypeByDataType)(e);return(0,o.jsx)(i.Group,{mode:"plain",separator:"hide",padding:"s",className:l.default.list,"data-catalog-item":"list",children:t.map(((t,o)=>(0,r.createElement)(a,{...t,key:t.id,layout:e.layout.name,block_id:e.id,itemIndex:(e.blockIndex||0)+o,type:c})))})}},861053:(e,t,a)=>{a.d(t,{List:()=>o.List});var o=a(736515)},637556:(e,t,a)=>{a.d(t,{getBlockByDataType:()=>l});var o=a(49932),r=a(802387),i=a(373539),n=a(270145),s=a(660025);const l=e=>{switch(e.data_type){case o.CatalogBlockDataType.GROUPS:case o.CatalogBlockDataType.GROUPS_ITEMS:return r.GroupItem;case o.CatalogBlockDataType.CATALOG_USERS:return i.CatalogUser;case o.CatalogBlockDataType.MINI_APPS:return n.MiniApp;case o.CatalogBlockDataType.LINKS:return s.Link;default:return()=>null}}},375573:(e,t,a)=>{a.d(t,{MiniApp:()=>v});var o=a(474848),r=a(296540),i=a(293721),n=a(641412),s=a(260546),l=a(293116),c=a(690272),d=a(49932),u=a(489569),_=a(317216),p=a(657293),g=a(351137),m=a(198485);const v=({id:e,itemIndex:t,type:a})=>{const{navGo:v,appCatalogService:S}=(0,g.useCatalogConfig)(),{displayTopSearch:h}=(0,g.useCatalogSearch)(),C=(0,i.useStore)(m.$isMouseActive),f=(0,i.useStore)(m.$selectedItemIndex),I=(0,g.useCollectClick)(),E=(0,i.useStoreMap)({store:S.appsService.$apps,keys:[e],fn:(e,[t])=>e.get(t)}),k=(0,p.useRefLogView)({type:a,trackCode:E?.track_code}),y=(0,r.useCallback)(((e,t)=>{!E||e&&!(0,u.isMainClick)(e?.nativeEvent)||(e?.preventDefault(),e?.stopPropagation(),I({type:_.EventItemType.MINI_APP,track_code:E.track_code,action:_.SearchClickActionMap.TAP}),t?window.open(`/${E.screen_name}?ref=quick_search`):(h(!1),v(`/${E.screen_name}?ref=quick_search`,e?.nativeEvent||null)))}),[E,I,h]);return(0,r.useEffect)((()=>{(0,m.fireSetItemIndex)({id:t||0,callback:y})}),[t,y]),E?(0,o.jsx)(s.SimpleCell,{"data-testid":"modal_mini_app",hovered:f?.id===t,onClick:y,onPointerLeave:()=>{(0,m.fireSetSelectionIndexByItem)(-1)},onPointerEnter:()=>{(0,m.fireSetSelectionIndexByItem)(t||-1)},getRootRef:k,hasHover:C||f?.id===t,href:`/${E.screen_name}?ref=quick_search`,before:(0,o.jsx)(l.Image,{borderRadius:"l",size:d.CATALOG_AVATAR_SIZE_SM,src:E.icon_139?E.icon_139:E.icon_150}),after:(0,o.jsx)(n.IconButton,{children:(0,o.jsx)(c.Icon20ChevronCircleOutline,{})}),subtitle:E.description,children:E.title}):null}},270145:(e,t,a)=>{a.d(t,{MiniApp:()=>o.MiniApp});var o=a(375573)},61539:(e,t,a)=>{a.d(t,{PlaceholderSmall:()=>l});var o=a(474848),r=a(720836),i=a(866467),n=a(293721),s=a(174269);const l=({placeholder_ids:e})=>{const{appCatalogService:t}=(0,s.useCatalogConfig)(),a=(0,n.useStore)(t.placeholdersService.$placeholders);return(0,o.jsx)(o.Fragment,{children:e?.map((e=>{const t=a.get(e);return t?(0,o.jsx)(r.Placeholder,{children:t.text?t.text:(0,i.getLang)("search_search_no_found_summary")},e):null}))})}},78129:(e,t,a)=>{a.d(t,{PlaceholderSmall:()=>o.PlaceholderSmall});var o=a(61539)},320793:(e,t,a)=>{a.d(t,{Slider:()=>d});var o=a(474848),r=a(296540),i=a(354592),n=a(267485),s=a(49932),l=a(418755),c=a(627619);const d=e=>{const t=(0,r.useMemo)((()=>(0,n.extractItemsIds)(e)),[e]),a=(0,n.getBlockByDataType)(e),d=(0,l.getEventItemTypeByDataType)(e);return(0,o.jsx)(i.HorizontalScroll,{className:c.default.root,getScrollToLeft:e=>e-s.SLIDER_SCROLL,getScrollToRight:e=>e+s.SLIDER_SCROLL,arrowSize:"m",children:(0,o.jsx)("div",{className:c.default.inner,children:t.map((t=>(0,o.jsx)(a,{...t,layout:e.layout.name,type:d},t.id)))})})}},173760:(e,t,a)=>{a.d(t,{Slider:()=>o.Slider});var o=a(320793)},267485:(e,t,a)=>{a.d(t,{extractItemsIds:()=>i,getBlockByDataType:()=>n});var o=a(49932),r=a(660025);const i=e=>e.data_type===o.CatalogBlockDataType.LINKS&&e.links_ids?.map((e=>({id:e})))||[],n=e=>e.data_type===o.CatalogBlockDataType.LINKS?r.Link:()=>null},164785:(e,t,a)=>{a.d(t,{CatalogSeparator:()=>n});var o=a(474848),r=a(194528),i=a(582192);const n=({layout:e})=>(0,o.jsxs)(o.Fragment,{children:["spacing"===e.style&&(0,o.jsx)(r.Spacing,{size:10}),(0,o.jsx)(i.Separator,{wide:!0})]})},288413:(e,t,a)=>{a.d(t,{CatalogSeparator:()=>o.CatalogSeparator});var o=a(164785)},573011:(e,t,a)=>{a.d(t,{CatalogSeparatorCommunity:()=>n});var o=a(474848),r=a(194528),i=a(582192);const n=({layout:e})=>(0,o.jsxs)(o.Fragment,{children:["spacing"===e.style&&(0,o.jsx)(r.Spacing,{size:10}),(0,o.jsx)(i.Separator,{})]})},697395:(e,t,a)=>{a.d(t,{Header:()=>i});var o=a(474848),r=a(557992);const i=e=>{const{layout:t}=e;return(0,o.jsx)(r.Header,{size:"medium",children:t.title})}},402723:(e,t,a)=>{a.d(t,{HeaderCompact:()=>r});var o=a(474848);const r=e=>{const{layout:t}=e;return(0,o.jsxs)("div",{className:"VideoSubheader ",children:[(0,o.jsx)("div",{className:"VideoSubheader__title",children:(0,o.jsx)("div",{className:"VideoSubheader__titleText js-video-subtitle",children:t.title})}),(0,o.jsx)("div",{className:"VideoSubheader__actions"})]})}},365003:(e,t,a)=>{a.d(t,{HeaderCompact:()=>o.HeaderCompact});var o=a(402723)},195059:(e,t,a)=>{a.d(t,{HeaderListVideos:()=>i});var o=a(474848),r=a(557992);const i=e=>{const{layout:t}=e;return(0,o.jsx)(r.Header,{style:{padding:0},mode:"primary",size:"medium",children:t.title})}},534002:(e,t,a)=>{a.d(t,{HeaderListVideos:()=>o.HeaderListVideos});var o=a(195059)},819429:(e,t,a)=>{a.d(t,{List:()=>s});var o=a(474848),r=a(378455),i=a(8520),n=a(162879);const s=e=>{const t=(0,r.extractItemsIds)(e),a=(0,r.getBlockComponentByDataType)(e.data_type);return(0,o.jsx)("div",{className:(0,i.classNames)("videos"===e.data_type&&"video_items_list _video_search_global_videos_list VideoGrid","search_authors"===e.data_type&&n.default.authors),children:t.map((e=>(0,o.jsx)(a,{...e},e.id)))})}},287911:(e,t,a)=>{a.d(t,{List:()=>o.List});var o=a(819429)},592595:(e,t,a)=>{a.d(t,{ListCommunity:()=>g});var o=a(474848),r=a(296540),i=a(378455),n=a(591378),s=a(652862),l=a(194528),c=a(979717),d=a(540431),u=a(866467),_=a(842600);const p={className:a(827217).default.list,rowSpacing:20,columnSpacing:12},g=e=>{const[t,a]=(0,r.useState)(4),g=(0,i.extractItemsIds)(e),m=(0,i.getBlockComponentByDataType)(e.data_type),v=(0,c.useListAdaptivityColumns)(),{spacing:S,rowSpacing:h,columnSpacing:C,...f}=p,I=S?{spacing:S}:{rowSpacing:h,columnSpacing:C};return"albums"===e.data_type?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.Grid,{...f,...I,columns:v,children:g.slice(0,t).map((({id:t,...a})=>(0,o.jsx)(n.Grid.Item,{children:(0,o.jsx)(m,{...a,id:t,layout:e.layout.name})},t)))}),g?.length>t?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.CellButton,{centered:!0,after:(0,o.jsx)(d.Icon16DropdownOutline,{}),onClick:()=>a(g?.length),children:(0,u.getLang)("search_show_all")}),(0,o.jsx)(l.Spacing,{})]}):(0,o.jsx)(l.Spacing,{size:12})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.Grid,{...f,...I,columns:v,children:g.map((({id:t,...a})=>(0,o.jsx)(n.Grid.Item,{children:(0,o.jsx)(m,{...a,id:t,layout:e.layout.name})},t)))}),e.actions?.map(((t,a)=>{const o=(0,_.getAction)(t);return(0,r.createElement)(o,{...e,key:t.track_code||a,action:t,layout:e.layout.name})}))]})}},161249:(e,t,a)=>{a.d(t,{ListVideos:()=>n});var o=a(474848),r=a(378455),i=a(237091);const n=e=>{const t=(0,r.extractItemsIds)(e),a=(0,r.getBlockComponentByDataType)(e.data_type),n=t.map((e=>(0,o.jsx)(a,{...e},e.id)));return"videos"===e.data_type?(0,o.jsx)("div",{className:i.default.horizontalVideo,children:n}):(0,o.jsx)(o.Fragment,{children:n})}},992543:(e,t,a)=>{a.d(t,{ListVideos:()=>o.ListVideos});var o=a(161249)},179815:(e,t,a)=>{a.d(t,{Placeholder:()=>c});var o=a(474848),r=a(293721),i=a(347929),n=a(49932),s=a(720836),l=a(174269);const c=({placeholder_ids:e,layout:t})=>{const{appCatalogService:a}=(0,l.useCatalogConfig)(),c=(0,r.useStore)(a.placeholdersService.$placeholders);return(0,o.jsx)(o.Fragment,{children:e?.map((e=>{const a=c.get(e);if(void 0===a)return null;const{title:r,text:l}=a;return t.name===n.CatalogBlockLayoutName.PLACEHOLDER_LINE?(0,o.jsx)(s.Placeholder,{children:l},e):(0,o.jsxs)("div",{className:"VideoEmptyStub",children:[(0,o.jsx)("div",{className:"VideoEmptyStub__icon",children:(0,o.jsx)(i.Icon56VideoOutline,{})}),(0,o.jsx)("div",{className:"VideoEmptyStub__title",children:r}),(0,o.jsx)("div",{className:"VideoEmptyStub__text",children:l})]},e)}))})}},8652:(e,t,a)=>{a.d(t,{Placeholder:()=>o.Placeholder});var o=a(179815)},147091:(e,t,a)=>{a.d(t,{SearchAuthor:()=>d});var o=a(474848),r=a(174269),i=a(35945),n=a(826583),s=a(172479),l=a(293721),c=a(856289);const d=({id:e,track_code:t,description:a})=>{const{appCatalogService:d}=(0,r.useCatalogConfig)(),u=(0,r.useCatalogStoreMap)(d.groupsService.$groups,Math.abs(Number(e))),_=(0,l.useStoreMap)({store:d.profilesService.$profiles,keys:[e],fn:(e,[t])=>e.get(+t)}),p=u||_;if(!p)return null;const g=(0,r.getUrlWithTrackCode)((0,s.getOwnerUrl)(p,`/${(0,c.getVideoPrefix)("at")}`),t,r.CatalogType.SEARCH);return u?(0,o.jsx)(i.SearchAuthorGroup,{group:u,description:a,url:g,trackCode:t}):_?(0,o.jsx)(n.SearchAuthorProfile,{profile:_,description:a,url:g,trackCode:t}):null}},35945:(e,t,a)=>{a.d(t,{SearchAuthorGroup:()=>m});var o=a(474848),r=a(317216),i=a(482199),n=a(260546),s=a(751268),l=a(454154),c=a(898848),d=a(174269),u=a(540462),_=a(866467),p=a(293721),g=a(169786);const m=({group:e,description:t,url:a,trackCode:m})=>{const{appCatalogService:v,pageVerifiedTip:S}=(0,d.useCatalogConfig)(),h=(0,p.useStoreMap)({store:v.groupsService.$groupPendingIds,keys:[e.id],fn:(e,[t])=>!!e.find((e=>e===t))}),C=(0,d.useCollectClick)(),f=(0,u.partConfigEnabled)("search_videoshowcase_horizontal")?((0,c.isRetina)()?e.photo_200:e.photo_100)||e.photo_200||e.photo_100:((0,c.isRetina)()?e.photo_100:e.photo_50)||e.photo_100||e.photo_200,I=(0,d.useRefLogView)({type:r.EventItemType.SEARCH_AUTHOR,trackCode:m});return(0,o.jsx)(n.SimpleCell,{className:g.default.author,"data-testid":"author_group",getRootRef:I,href:a,onClick:()=>{C?.({action:r.SearchClickActionMap.TAP,track_code:m,type:r.EventItemType.SEARCH_AUTHOR})},before:(0,o.jsx)(s.RichAvatar,{size:(0,u.partConfigEnabled)("search_videoshowcase_horizontal")?d.CATALOG_AVATAR_SIZE_L:d.CATALOG_AVATAR_SIZE_SM,src:f,nft:!!e?.is_nft_photo}),badgeAfterTitle:e.verified?(0,o.jsx)(i.Icon16Verified,{onMouseOver:t=>{S&&S(t.currentTarget,{type:1,oid:-e.id,force_new_tab:!0,forceToDown:!0})}}):null,after:(0,o.jsx)(l.Button,{mode:e?.is_member?"secondary":"primary",size:"s",appearance:"accent",onClick:e?.is_member?t=>{t.stopPropagation(),t.preventDefault(),v.groupsService.fireLeaveGroup({group_id:e.id}),C?.({action:r.SearchClickActionMap.UNSUBSCRIBE,track_code:m,type:r.EventItemType.SEARCH_AUTHOR})}:t=>{t.stopPropagation(),t.preventDefault(),v.groupsService.fireJoinGroup({group_id:e.id}),C?.({action:r.SearchClickActionMap.SUBSCRIBE,track_code:m,type:r.EventItemType.SEARCH_AUTHOR})},loading:h,children:e?.is_member?(0,_.getLang)("search_video_author_subscribed"):(0,_.getLang)("search_video_author_subscribe")}),subtitle:t,children:e.name})}},826583:(e,t,a)=>{a.d(t,{SearchAuthorProfile:()=>m});var o=a(474848),r=a(293721),i=a(317216),n=a(482199),s=a(260546),l=a(751268),c=a(454154),d=a(898848),u=a(866467),_=a(540462),p=a(174269),g=a(169786);const m=({profile:e,description:t,url:a,trackCode:m})=>{const{appCatalogService:v}=(0,p.useCatalogConfig)(),S=(0,r.useStore)(v.catalogUsersService.$pendingFriendsIds),h=(0,p.useCollectClick)(),C=(0,_.partConfigEnabled)("search_videoshowcase_horizontal")?((0,d.isRetina)()?e.photo_200:e.photo_100)||e.photo_200||e.photo_100:((0,d.isRetina)()?e.photo_100:e.photo_50)||e.photo_100||e.photo_200,f=(0,p.useRefLogView)({type:i.EventItemType.SEARCH_AUTHOR,trackCode:m});return(0,o.jsxs)(s.SimpleCell,{className:g.default.author,"data-testid":"author_profile",getRootRef:f,href:a,onClick:()=>{h?.({action:i.SearchClickActionMap.TAP,track_code:m,type:i.EventItemType.SEARCH_AUTHOR})},before:(0,o.jsx)(l.RichAvatar,{size:(0,_.partConfigEnabled)("search_videoshowcase_horizontal")?p.CATALOG_AVATAR_SIZE_L:p.CATALOG_AVATAR_SIZE_SM,src:C,nft:!!e?.is_nft}),badgeAfterTitle:e.verified?(0,o.jsx)(n.Icon16Verified,{}):null,after:(0,o.jsx)(c.Button,{mode:e.friend_status?"secondary":"primary",size:"s",appearance:"accent",onClick:e.friend_status?t=>{t.stopPropagation(),t.preventDefault(),v.catalogUsersService.fireDeleteFriend({user_id:e.id}),h?.({action:i.SearchClickActionMap.UNSUBSCRIBE,track_code:m,type:i.EventItemType.SEARCH_AUTHOR})}:t=>{t.stopPropagation(),t.preventDefault(),v.catalogUsersService.fireAddFriend({user_id:e.id}),h?.({action:i.SearchClickActionMap.SUBSCRIBE,track_code:m,type:i.EventItemType.SEARCH_AUTHOR})},loading:S.includes(e.id),children:e.friend_status?(0,u.getLang)("search_video_author_subscribed"):(0,u.getLang)("search_video_author_subscribe")}),subtitle:t,children:[e.first_name," ",e.last_name]})}},143652:(e,t,a)=>{a.d(t,{SearchAuthor:()=>o.SearchAuthor});var o=a(147091)},897291:(e,t,a)=>{a.d(t,{SearchSpellchecker:()=>p});var o=a(474848),r=a(293721),i=a(351137),n=a(657293),s=a(317216),l=a(247368),c=a(260546),d=a(285056),u=a(279734),_=a(555657);const p=({id:e})=>{const{appCatalogService:t}=(0,i.useCatalogConfig)(),{search:a}=(0,i.useCatalogSearch)(),p=(0,i.useCollectClick)(),g=(0,r.useStore)(t.pageService.$pageId),m=(0,r.useStoreMap)({store:t.searchSpellcheckersService.$searchSpellcheckers,keys:[e],fn:(e,[t])=>e.find((({id:e})=>e===t))}),v=m?.track_code,S=(0,n.useRefLogView)({type:s.EventItemType.SEARCH_SUGGESTION,trackCode:v});if(!m)return null;const h=(0,l.prepareSpellcheck)(m);return(0,o.jsx)(c.SimpleCell,{className:_.default.searchSpellcheck,getRootRef:S,hasActive:!1,hasHover:!1,multiline:!0,children:(0,o.jsxs)(d.Text,{children:[h.title," ",(0,o.jsx)(d.Text,{normalize:!1,weight:"1",children:h.query.text})," · ",h.suggest,(0,o.jsx)(u.Link,{"data-testid":"search_spellchecker",onClick:()=>{a&&m?.id&&v&&(a({q:m.search_action.next_search_query,page:g,additionalParams:{suggestTrackCode:v,noSpellcheck:1}}),p({action:s.SearchClickActionMap.TAP,track_code:m.track_code,type:s.EventItemType.CATALOG_ITEM}))},children:h.search_action.text})]})})}},58766:(e,t,a)=>{a.d(t,{SearchSpellchecker:()=>o.SearchSpellchecker});var o=a(897291)},442455:(e,t,a)=>{a.d(t,{Text:()=>s});var o=a(474848),r=a(296540),i=a(172656),n=a(378455);const s=e=>{const t=(0,r.useMemo)((()=>(0,n.extractItemsIds)(e)),[e]),a=(0,n.getBlockComponentByDataType)(e.data_type);return(0,o.jsx)(i.Group,{mode:"plain",separator:"hide",children:t.map((({id:e})=>(0,o.jsx)(a,{id:e},e)))})}},57744:(e,t,a)=>{a.d(t,{Text:()=>o.Text});var o=a(442455)},821555:(e,t,a)=>{a.d(t,{Video:()=>P});var o=a(474848),r=a(296540),i=a(506011),n=a(8520),s=a(601379),l=a(538522),c=a(363046),d=a(768035),u=a(980353),_=a(854950),p=a(461787),g=a(794758),m=a(829005),v=a(501975),S=a(926182),h=a(922812),C=a(324672),f=a(347929),I=a(810068),E=a(174269),k=a(351137),y=a(317216),T=a(841315),A=a(657293),R=a(601517),x=a(293721),L=a(540462),O=a(373594),b=a(856289),w=a(481900),V=a(857551);const P=({id:e})=>{const t=(0,E.useCollectClick)(),{userId:a,appCatalogService:P}=(0,E.useCatalogConfig)(),{showVideo:N,getVideoCardWrapper:B}=(0,k.useCatalogSearch)(),{videoCardProps:M,onOpenPlaylistModal:D}=(0,k.useCatalogDesktopVideo)(),{onVideoDelete:j,onVideoEdit:G}=M,{ownerId:F,id:U}=(0,d.parseRawId)(String(e)),H=(0,x.useStoreMap)({store:P.videoService.$videoItems,keys:[F,U],fn:(e,[t,a])=>{const o=e.find((({id:e,owner_id:o})=>e===Number(a)&&o===Number(t)));if(o&&(0,s.isVideoVideoFullWithIds)(o))return o;return{id:0,owner_id:0}}}),$=(0,E.useCatalogStoreMap)(P.groupsService.$groups,Math.abs(Number(F))),z=(0,x.useStoreMap)({store:P.profilesService.$profiles,keys:[F],fn:(e,[t])=>e.get(+t)}),W=H?(0,T.getVideoUrl)(H):"",[K,Y]=(0,r.useState)(!1),q=H?.main_artists?.at(0),Q=I.Ranges.isGroupId(Number(F))?$:z,Z=(0,u.useWindowWidth)(),X=(0,r.useMemo)((()=>{const e=H?.image??[];let t=e.filter((e=>!e.with_padding));return t.length||(t=e),(0,n.getPhotoSize)(t,(0,_.getImageMinWidth)(Z))}),[Z]),[J,ee]=(0,r.useState)(!0),te=(0,A.useRefLogView)({type:y.EventItemType.VIDEO,trackCode:H?.track_code});if(void 0===H)return null;const ae=H.trailer?.mp4_360??"",oe=(0,i.getVideoClasses)(H,String(e)),re=(0,L.partConfigEnabled)("video_new_restriction_in_search")?(0,V.mapRestrictions)(H.restriction):H.restriction;let ie=0;H.viewed_duration&&H.duration&&(ie=100*H.viewed_duration/H.duration);const ne=H.duration?(0,n.formatDuration)(H.duration):"",se=a=>{const o="live"===H.type&&H.live_status&&["started","waiting"].includes(H.live_status),r="music_video"===H.type,i="short_video"===H.type;if((!(0,b.isVideoStandaloneOrSection)()||r||o||i)&&a.preventDefault(),window.cur.cancelClick)window.cur.cancelClick=!1;else{if(window.cur.chooseVideoMedia)return window.cur.chooseVideoMedia(a.target,String(e));t({action:y.SearchClickActionMap.TAP,track_code:H.track_code,type:y.EventItemType.VIDEO}),N&&N({event:a,id:String(e),video:H})}},le=B&&B({video:H,owner:Q,handleFavToggle:e=>(e=>{if(!F)return;const a=H?.is_favorite;a?P.videoService.removeVideoFromWatchLater({owner_id:Number(F),id:Number(U),ref:H?.track_code,source:e}):P.videoService.addVideoToWatchLater({owner_id:Number(F),id:Number(U),ref:H?.track_code,source:e});const o=(0,l.joinRawId)({ownerId:Number(F),itemId:Number(U)});window.dispatchEvent(new CustomEvent(i.VideoShowcaseFaveEvents.TOGGLE,{detail:{id:o,isFave:a,rollbackCallback:()=>{P.videoService.addVideoToWatchLater({owner_id:Number(F),id:Number(U),ref:H?.track_code,source:O.FAVORITE_SOURCES.SNACKBAR}),window.dispatchEvent(new CustomEvent(i.VideoShowcaseFaveEvents.TOGGLE,{detail:{id:o,isFave:!1}}))}}})),t({action:a?y.SearchClickActionMap.UNFAVE:y.SearchClickActionMap.FAVE,track_code:H?.track_code,type:y.EventItemType.VIDEO})})(e),handleToggleAdd:()=>{const e=H?.added;e?(t({action:y.SearchClickActionMap.REMOVE_FROM_ME,track_code:H?.track_code,type:y.EventItemType.VIDEO}),P.videoService.removeVideoFromMyVideosWithoutEffect({target_id:a,owner_id:Number(F),video_id:Number(U)})):(t({action:y.SearchClickActionMap.ADD_TO_ME,track_code:H?.track_code,type:y.EventItemType.VIDEO}),P.videoService.addVideoToMyVideosWithoutEffect({target_id:a,owner_id:Number(F),video_id:Number(U)}))},handleClickShowVideo:se,handleClickAuthor:()=>{t({action:y.SearchClickActionMap.OPEN_OWNER,track_code:H.track_code,type:y.EventItemType.VIDEO})}});if(le)return le;const ce=D&&(0,b.canAddVideoToCommunityPlaylist)(H);return(0,o.jsxs)("div",{ref:te,className:oe,id:`video_item_${e}`,"data-id":e,"data-owner-id":F,"data-video-id":U,"data-thumb":X?.url,"data-trailer":ae,"data-task-mouseenter":"VideoShowcase/play_trailer","data-task-mouseleave":"VideoShowcase/stop_trailer",children:[(0,o.jsx)("a",{className:"VideoCard__thumbLink video_item__thumb_link",href:W,onClick:se,children:(0,o.jsxs)("div",{className:(0,n.classNames)("VideoCard__thumbWrapper video_item_thumb_wrap",(0,L.partConfigEnabled)("video_new_restriction_in_search")&&"VideoCard__thumbDisableBg"),children:[(0,o.jsxs)("div",{className:"VideoCard__thumb",children:[X&&!K&&(0,o.jsx)("img",{className:(0,n.classNames)("VideoCard__thumbImg","js-video-item-thumb","VideoRestriction__thumb",{VideoRestriction__thumb:Boolean(re)}),"data-thumb":X.url,src:X.url,onError:()=>Y(!0),alt:H.title}),K&&(0,o.jsx)(f.Icon56VideoOutline,{})]}),re?(0,L.partConfigEnabled)("video_new_restriction_in_search")&&"iconType"in re?(0,o.jsx)(w.VideoCardRestrictionOverlay,{title:re.title,mode:re.mode,iconType:re.iconType,size:"m",stretched:!1}):"icon_name"in re&&(0,o.jsx)(p.VideoRestriction,{icon:re.icon_name,title:re.title}):null,(0,o.jsx)("div",{className:"video_thumb_play VideoCard__play"}),ae?(0,o.jsx)("video",{className:(0,n.classNames)("VideoCard__trailer",{"VideoCard__trailer--loading":J}),onLoadedData:()=>ee(!1),crossOrigin:"anonymous",src:ae,muted:!0,loop:!0}):null,(0,o.jsxs)("div",{className:"VideoCard__controls video_item_controls",children:[(0,o.jsx)("div",{className:"VideoCard__privacyIconWrapper"}),(0,o.jsx)(R.VideoCardLabel,{video:H,duration:ne}),(0,o.jsx)("div",{onClick:e=>{(0,c.cancelEvent)(e)},className:"VideoCard__elementControls",children:(0,o.jsx)(g.VideoActions,{video:H,onVideoEdit:e=>{H&&G?.(e,H)},onOpenPlaylistModal:()=>{H&&ce&&D?.(H)},onVideoDelete:e=>{H&&j?.(e,H)}})}),(0,o.jsx)(C.MediaCheckButton,{videoId:String(e)}),ie?(0,o.jsx)("div",{className:"VideoCard__viewedDurationWrapper",children:(0,o.jsx)("div",{className:"VideoCard__viewedDuration",style:{width:`${ie}%`}})}):null]})]})}),(0,o.jsxs)("div",{className:"VideoCard__info",children:[(0,o.jsx)(m.Avatar,{owner:Q||q}),(0,o.jsxs)("div",{className:"VideoCard__infoContent",children:[(0,o.jsxs)("div",{className:"VideoCard__titleWrapper",id:`video_card_title_wrapper_${U}`,children:[(0,o.jsx)("a",{className:"VideoCard__title",href:W,"data-queue":"0","data-id":e,"data-task-mouseover":"Video/check_title",onClick:se,children:H?.title}),(0,o.jsx)(v.MenuToggle,{videoRawId:String(e)})]}),(0,o.jsx)("div",{className:"VideoCard__additionalInfo",children:(0,o.jsx)(S.VideoOwner,{owner:Q||q,ownerId:H.owner_id,trackCode:H.track_code})}),(0,o.jsx)("div",{className:"VideoCard__additionalInfo VideoCard__extendedInfo",children:(0,o.jsx)(h.SubTitle,{video:H})})]})]})]})}},828520:(e,t,a)=>{a.d(t,{Avatar:()=>n});var o=a(474848),r=a(591485),i=a(172479);const n=({owner:e})=>{const t=(0,r.getOwnerAvatar)(e);return t.length?(0,o.jsx)("a",{href:(0,i.getOwnerUrl)(e,"/video/@"),className:"VideoCard__avatar VideoCard__avatar--base",style:{backgroundImage:`url(${t})`}}):null}},829005:(e,t,a)=>{a.d(t,{Avatar:()=>o.Avatar});var o=a(828520)},50642:(e,t,a)=>{a.d(t,{MediaCheckButton:()=>i});var o=a(474848),r=a(296540);const i=({videoId:e})=>{const t=(0,r.useRef)(null);return(0,o.jsx)("div",{ref:t,className:"media_check_btn_wrap",onClick:()=>{if(window.cur.chooseVideoMedia&&t.current)return window.cur.chooseVideoMedia(t.current,e,!0)},children:(0,o.jsx)("div",{className:"media_check_btn"})})}},324672:(e,t,a)=>{a.d(t,{MediaCheckButton:()=>o.MediaCheckButton});var o=a(50642)},45812:(e,t,a)=>{a.d(t,{MenuToggle:()=>s});var o=a(474848),r=a(296540),i=a(141575),n=a(351137);const s=({videoRawId:e})=>{const{showVideoMenu:t}=(0,n.useCatalogSearch)(),a=(0,r.useRef)(null),s=()=>{t&&t(a.current,e)};return(0,o.jsx)("button",{ref:a,className:"VideoCard__menuToggle",onMouseOver:s,onClick:s,children:(0,o.jsx)("div",{className:"VideoCard__menuToggleIcon",children:(0,o.jsx)(i.Icon24MoreHorizontal,{})})})}},501975:(e,t,a)=>{a.d(t,{MenuToggle:()=>o.MenuToggle});var o=a(45812)},584038:(e,t,a)=>{a.d(t,{SubTitle:()=>i});var o=a(474848),r=a(856289);const i=({video:e})=>(0,o.jsxs)(o.Fragment,{children:[e.views&&(0,o.jsx)("span",{className:"VideoCard__extendedInfoView",children:(0,r.getFormattedViews)(e.views)}),(0,o.jsxs)("span",{className:"VideoCard__extendedInfoDate",children:[(0,o.jsx)("span",{className:"divider VideoCard__extendedInfoDateDivider"}),e.date&&(0,o.jsx)("span",{className:"VideoCard__extendedInfoUpdated",children:(0,r.getFormattedUpdatedTime)(e.date,!0)})]})]})},922812:(e,t,a)=>{a.d(t,{SubTitle:()=>o.SubTitle});var o=a(584038)},72166:(e,t,a)=>{a.d(t,{VideoActions:()=>_});var o=a(474848),r=a(435485),i=a(745401),n=a(224173),s=a(378204),l=a(866467),c=a(540462),d=a(578392),u=a(506011);const _=({video:e,onVideoEdit:t,onOpenPlaylistModal:a,onVideoDelete:_})=>{const p=(0,c.partConfigEnabled)("video_can_show_playlist_popover_with_watch_later"),g=(0,c.partConfigEnabled)("video_bookmarks_renaming_to_watch_later");return(0,o.jsxs)(o.Fragment,{children:[e.id&&e.owner_id&&(0,o.jsx)(d.TextTooltip,{text:(0,l.getLang)("video_edit"),appearance:"black",placement:"bottom",children:(0,o.jsx)("div",{className:"VideoCard__controlIcon",children:(0,o.jsx)(r.Icon16PenOutline,{onClick:t,"aria-label":(0,l.getLang)("video_edit"),"data-testid":"video_card_edit_button"})})}),Boolean(e.can_add)&&(p||!g)&&(0,o.jsx)(d.TextTooltip,{text:(0,l.getLang)("video_move_to_playlist"),appearance:"black",placement:"bottom",children:(0,o.jsx)("div",{className:"VideoCard__controlIcon",children:(0,o.jsx)(i.Icon16ListPlayOutline,{onClick:a,"aria-label":(0,l.getLang)("video_move_to_playlist"),"data-testid":"video_card_playlist_button"})})}),e.id&&e.owner_id&&(0,o.jsx)(d.TextTooltip,{text:(0,l.getLang)("global_delete"),appearance:"black",placement:"bottom",children:(0,o.jsx)("div",{className:"VideoCard__controlIcon",children:(0,o.jsx)(n.Icon16Cancel,{onClick:_,"aria-label":(0,l.getLang)("global_delete"),"data-testid":"video_card_delete_button"})})}),3===e.can_download&&"interactive"!==e.type&&(0,o.jsx)("button",{className:"VideoCard__action VideoCard__action--download",onClick:t=>(0,u.downloadVideo)(t,e),"aria-label":(0,l.getLang)("video_download"),"data-testid":"video_card_download_button",children:(0,o.jsx)(s.Icon16DownloadOutline,{})})]})}},794758:(e,t,a)=>{a.d(t,{VideoActions:()=>o.VideoActions});var o=a(72166)},668228:(e,t,a)=>{a.d(t,{VideoCardLabel:()=>l});var o=a(474848),r=a(506011),i=a(8520),n=a(620483),s=a(866467);const l=({video:e,duration:t})=>{const a=!!e?.interactive_info,l=a?(0,s.getLang)("video_interactive_label"):e.platform;return(0,o.jsxs)("div",{className:(0,i.classNames)("VideoCard__label",{"VideoCard__label--interactive":a}),children:[a&&(0,o.jsx)(n.Icon12HandPointUp,{}),l&&(0,o.jsx)("span",{className:"VideoCard__labelItem",children:l}),e.duration?(0,o.jsx)("span",{className:"VideoCard__labelItem",children:t}):null,(0,r.isActiveLiveStatus)(e)&&(0,o.jsx)("span",{className:"video_thumb_label_live_icon"})]})}},601517:(e,t,a)=>{a.d(t,{VideoCardLabel:()=>o.VideoCardLabel});var o=a(668228)},605242:(e,t,a)=>{a.d(t,{VideoOwner:()=>c});var o=a(474848),r=a(172479),i=a(641495),n=a(174269),s=a(317216),l=a(351137);const c=({owner:e,trackCode:t,ownerId:a})=>{const c=(0,n.useCollectClick)(),{pageVerifiedTip:d}=(0,l.useCatalogConfig)(),u=e?(0,r.getOwnerUrl)(e,"/video/@"):void 0,_=(0,i.getOwnerName)(e),p=Boolean(e&&"verified"in e&&e?.verified);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("a",{onClick:()=>{c({action:s.SearchClickActionMap.OPEN_OWNER,track_code:t,type:s.EventItemType.VIDEO})},href:u,className:"VideoCard__ownerLink",children:_}),p&&(0,o.jsx)("a",{href:"/verify",className:"page_verified ",onMouseOver:e=>{d&&d(e.currentTarget,{type:1,oid:a})}})]})}},926182:(e,t,a)=>{a.d(t,{VideoOwner:()=>o.VideoOwner});var o=a(605242)},455756:(e,t,a)=>{a.d(t,{VideoRestriction:()=>i});var o=a(474848);const r=e=>"hide_outline"===e?"age":e,i=({icon:e,title:t})=>(0,o.jsx)("div",{className:"VideoRestriction__boxWrap",children:(0,o.jsxs)("div",{className:"VideoRestriction__box",children:[(0,o.jsx)("div",{className:`VideoRestriction__icon VideoRestriction__icon--${r(e)}`}),(0,o.jsx)("div",{className:"VideoRestriction__title",children:t})]})})},461787:(e,t,a)=>{a.d(t,{VideoRestriction:()=>o.VideoRestriction});var o=a(455756)},931766:(e,t,a)=>{a.d(t,{Video:()=>o.Video});var o=a(821555)},506011:(e,t,a)=>{a.d(t,{VideoShowcaseFaveEvents:()=>l,downloadVideo:()=>d,getPlayFromByDuration:()=>c,getVideoClasses:()=>s,isActiveLiveStatus:()=>n});var o=a(8520),r=a(856289),i=a(538522);const n=e=>["waiting","started"].some((t=>t===e.live_status)),s=(e,t)=>{const a=(0,r.isLiveVideo)(e),i=Boolean(e.platform)&&!a,s=Boolean(e.can_edit),l=Boolean(e.can_add),c=3===e.can_download&&"interactive"!==e.type,d=!s,u=!l,_=Boolean(e.content_restricted);return(0,o.classNames)("_video_item",`ge_video_item_${t}`,{video_ext:i,video_active_live:n(e),video_can_edit:s,video_can_add:l,video_can_download:c,video_can_delete:!1,video_nap:Boolean(e.no_autoplay),video_added:Boolean(e.added),"VideoCard--private":Boolean(e.is_private),video_no_duration:!Boolean(e.platform)&&!Boolean(e.duration)&&!n(e),video_no_actions:d&&(u||_),video_blocked:_,VideoRestriction:Boolean(e.restriction),"VideoRestriction--small":Boolean(e.restriction),"VideoRestriction--canPreview":Boolean(e.restriction?.can_preview),"VideoRestriction--blur":Boolean(e.restriction?.blur),"VideoCard--videoAdded":Boolean(e.added),"VideoCard--bookmarked":Boolean(e.is_favorite)},"VideoCard")},l={TOGGLE:"VideoShowcaseFaveEvents/TOGGLE",EVENT_TRIGGER:"VideoShowcaseFaveEvents/EVENT_TRIGGER"},c=e=>{let t="";const a=Math.floor(e/3600);a&&(t+=`${a}h`);const o=Math.floor(e%3600/60);o&&(t+=`${o}m`);const r=e%60;return r&&(t+=`${r}s`),t},d=(e,{id:t,owner_id:a,title:o,type:r})=>{o&&r&&a&&t&&(e.preventDefault(),e.stopPropagation(),window.ajax.post("al_video.php?act=get_download_url",{video_raw_id:(0,i.joinRawId)({ownerId:a,itemId:t})},{onDone:e=>{(({url:e,title:t})=>{if(!e)return!1;const a=document.createElement("a");a.href=e,a.download=`${t}.mp4`,document.body.appendChild(a),a.click(),document.body.removeChild(a)})({title:o,url:e})}}))}},951979:(e,t,a)=>{a.d(t,{ECatalogBlockDataType:()=>o});const o={VIDEOS:"videos",CATALOG_VIDEOS:"catalog_videos",ALBUMS:"albums",SEARCH_SPELLCHECKER:"search_spellchecker",SEARCH_AUTHORS:"search_authors"}},378455:(e,t,a)=>{a.d(t,{extractItemsIds:()=>c,getBlockComponentByDataType:()=>d});var o=a(951979),r=a(931766),i=a(143652),n=a(58766),s=a(979717);const l=e=>e?.map((e=>({id:e}))),c=e=>{const{data_type:t}=e;switch(t){case o.ECatalogBlockDataType.VIDEOS:case o.ECatalogBlockDataType.CATALOG_VIDEOS:return l(e?.videos_ids)||[];case o.ECatalogBlockDataType.ALBUMS:return l(e?.albums_ids)||[];case o.ECatalogBlockDataType.SEARCH_SPELLCHECKER:return l(e?.search_spellcheckers_ids)||[];case o.ECatalogBlockDataType.SEARCH_AUTHORS:return e?.search_author_items||[]}return[]},d=e=>{switch(e){case o.ECatalogBlockDataType.VIDEOS:case o.ECatalogBlockDataType.CATALOG_VIDEOS:return r.Video;case o.ECatalogBlockDataType.SEARCH_AUTHORS:return i.SearchAuthor;case o.ECatalogBlockDataType.SEARCH_SPELLCHECKER:return n.SearchSpellchecker;case o.ECatalogBlockDataType.ALBUMS:return s.Playlist}return()=>null}},49932:(e,t,a)=>{a.d(t,{CATALOG_API_METHODS:()=>O,CATALOG_AVATAR_SIZE_L:()=>m,CATALOG_AVATAR_SIZE_M:()=>g,CATALOG_AVATAR_SIZE_SM:()=>p,CatalogActionIcons:()=>b,CatalogActionType:()=>s,CatalogBlockDataType:()=>n,CatalogBlockLayoutName:()=>r,CatalogBlockLayoutStyle:()=>i,CatalogExtendedDataName:()=>l,CatalogType:()=>o,FIRST_VERIFIED_TOOLTIP_SHIFT:()=>R,FRIENDS_BUTTON_ACTIONS:()=>d,FRIENDS_IN_GROUP:()=>I,GROUP_REDESIGN_EVENT_SLIDER_SCROLL:()=>T,GROUP_REDESIGN_SLIDER_SCROLL:()=>y,MARKET_ITEM_AVATAR_SIZE_M:()=>f,MARKET_ITEM_AVATAR_SIZE_SM:()=>C,MARKET_ITEM_SLIDER_SCROLL:()=>A,MAX_FRIENDS_IN_GROUP_TO_SHOW:()=>E,MINI_APP_AVATAR_SIZE:()=>v,ONLINE_STATUS:()=>c,OPEN_SEARCH_TAB_ACTION_URL:()=>u,OPEN_SEARCH_TAB_ACTION_URL_WEB:()=>_,RICH_CELL_BUTTON_WIDTH_L:()=>L,SLIDER_AVATAR_SIZE_M:()=>h,SLIDER_AVATAR_SIZE_SM:()=>S,SLIDER_SCROLL:()=>k,VERIFIED_TOOLTIP_SHIFT:()=>x});var o=function(e){return e.SEARCH="search",e.VIDEO="video",e.GROUPS="groups",e}({});const r={HEADER:"header",HEADER_COMPACT:"header_compact",HEADER_LARGE:"header_large",HEADER_EXTENDED:"header_extended",HEADER_HIDDEN:"header_hidden",SMALL_SLIDER:"small_slider",LARGE_SLIDER:"large_slider",SLIDER:"slider",VIDEO_SLIDER:"video_slider",SLIDER_CARD:"slider_card",SLIDER_MINIMALISTIC_CARD:"slider_minimalistic_card",SLIDER_EVENT:"slider_event",SEPARATOR:"separator",LIST:"list",LIST_WITH_NOTIFICATION_STATE:"list_with_notification_state",LIST_WITH_RETURN_STATE:"list_with_return_state",LARGE_LIST:"large_list",SMALL_LIST:"small_list",STACKED_LIST:"stacked_list",SHORT_VIDEO_LIST:"short_video_list",COMPACT_LIST:"compact_list",PLACEHOLDER:"placeholder",PLACEHOLDER_LINE:"placeholder_line",PLACEHOLDER_SMALL:"placeholder_small",PLACEHOLDER_BIG:"placeholder_big",PLACEHOLDER_IMAGE_WARNING:"placeholder_image_warning",PLACEHOLDER_ILLEGAL_QUERY:"placeholder_illegal_query",DOUBLE_STACKED_SLIDER:"double_stacked_slider",DOUBLE_LIST:"double_list",DOUBLE_STACKED_LIST:"double_stacked_list",DOUBLE_STACKED_LIST_MINIMALISTIC_CARD:"double_stacked_list_minimalistic_card",HORIZONTAL_BUTTONS:"horizontal_buttons",TRIPLE_STACKED_SLIDER:"triple_stacked_slider",PREVIEW:"preview",CHIPS:"chips",TITLE_SUBTITLE_AVATAR:"title_subtitle_avatar",TEXT:"text",BUTTON:"button",BANNER:"banner",SHORT_VIDEO_SLIDER:"short_video_slider",SHORT_VIDEO_SLIDER_WITH_VIEW_COUNTER:"short_video_slider_with_view_counter",VIDEO_SETTINGS_PIN:"video_settings_pin",VIDEO_SETTINGS_PLAYLISTS:"video_settings_playlists",SHORT_VIDEO_DOUBLE_STACKED_LIST:"short_video_double_stacked_list"},i={WITH_BUTTON:"with_button",WITH_DROPDOWN:"with_dropdown"},n={GROUPS:"groups",GROUPS_INVITES:"groups_invites",GROUPS_ITEMS:"groups_items",GROUPS_ALL:"groups_all_groups_or_recommendations",GROUPS_COLLECTION:"groups_collection",GROUPS_CATEGORY_ITEMS:"groups_category_items",GROUPS_EVENTS:"groups_events",ACTION:"action",LINKS:"links",CATALOG_USERS:"catalog_users",MINI_APPS:"mini_apps",MARKET_ITEMS:"market_items",VIDEOS:"videos",VIDEO_SHOWCASE_VKLIVE_CHANNELS_ITEMS:"video_showcase_vklive_channels_items",VIDEO_SHOWCASE_VKLIVE_CATEGORIES_ITEMS:"video_showcase_vklive_categories_items",ALBUMS:"albums",CATALOG_SEARCH_SUGGESTION:"catalog_search_suggestion",SEARCH_SPELLCHECKER:"search_spellchecker",SEARCH_AUTHORS:"search_authors",MUSIC_AUDIOS:"music_audios",MUSIC_PLAYLISTS:"music_playlists",SEARCH_SUGGESTIONS:"search_suggestions",NEWSFEED_ITEMS:"newsfeed_items",AUDIOS:"audios",GAMES:"games",STICKERS_PACKS:"stickers_packs",MINI_APPS_CONTENT:"mini_apps_content",SEARCH_ENTITY_ITEMS:"search_entity_items",NAVIGATION_TABS:"navigation_tabs",PLACEHOLDER:"placeholder",RADIO_STATIONS:"radiostations"},s={OPEN_SEARCH_TAB:"open_search_tab",OPEN_SECTION:"open_section",OPEN_URL:"open_url",CLEAR_RECENT_GROUPS:"clear_recent_groups",OPEN_SECTION_SLIDER_CELL:"open_section_slider_cell",ONBOARDING:"onboarding",BLOCK_FILTER:"block_filter",VIDEO_SUBSCRIPTIONS_BLOCK_FILTER:"video_subscriptions_block_filter",SHOW_FILTERS:"show_filters",PLAY_VIDEOS_FROM_BLOCK:"play_videos_from_block",TOGGLE_ALBUM_SUBSCRIPTION:"toggle_album_subscription",UPLOAD_VIDEO:"upload_video",CREATE_ALBUM:"create_album",START_LIVE:"start_live",GROUPS_MY_GROUPS_TABS:"groups_my_groups_tabs",GROUPS_EVENTS_TABS:"groups_events_tabs",HIDE_BLOCK:"hide_block",SWITCH_SECTION:"switch_section",SEARCH_SHOW_MORE:"search_show_more",OPEN_VIDEO_MODAL:"open_video_modal",OPEN_VIDEO_PLAYLIST_MODAL:"open_video_playlist_modal"},l={GROUPS:"groups",LINKS:"links",CATALOG_USERS:"catalog_users",MINI_APPS:"mini_apps",MARKET_ITEMS:"market_items",VIDEOS:"videos",ALBUMS:"albums",PLACEHOLDERS:"placeholders",PROFILES:"profiles",SUGGESTIONS:"suggestions",SEARCH_SPELLCHECKERS:"search_spellcheckers",NEWSFEED_ITEMS:"newsfeed_items",REACTION_SETS:"reaction_sets",PLAYLISTS:"playlists",AUDIOS:"audios",GROUP_COLLECTION_ITEMS:"group_collection_items",GROUP_CATEGORY_ITEMS:"group_category_items",GAMES:"games",STICKERS_PACK_PREVIEWS:"stickers_pack_previews",SEARCH_ENTITY_ITEMS:"search_entity_items",NAVIGATION_TABS:"navigation_tabs",CLASSIFIEDS_CATEGORY_TREE:"classifieds_category_tree",RADIO_STATIONS:"radio_stations",TEXTS:"texts"},c={ONLINE:"online",MOBILE:"online-mobile"};var d=function(e){return e.ADD_FRIEND="addFriend",e.REMOVE_FRIEND="removeFriend",e.SEND_MESSAGE="sendMessage",e.NO_ACTION="noAction",e.SUBSCRIBE="subscribe",e.UNSUBSCRIBE="unsubscribe",e.CALL="call",e}({});const u={GROUPS:"/search?section=communities",PEOPLE:"/search?section=people",VIDEO:"/search?section=video",SERVICES:"/search?section=services",GAMES:"/search?section=games",MUSIC:"/search?section=audio",CLIPS:"/search?section=clips"},_={GROUPS:"/search/communities",PEOPLE:"/search/people",VIDEO:"/search/video",SERVICES:"/search/mini_apps",GAMES:"/search/games",MUSIC:"/search/audio",CLIPS:"/search/clips",MARKET:"/search/market"},p=40,g=48,m=80,v=56,S=56,h=64,C=135,f=140,I={NO_ONE:0,ONE:1,TWO:2},E=2,k=120,y=170,T=310,A=225,R=[96,20,5],x=[96,3,3],L=134,O={GET_SECTION:"catalog.getSection",SAVE_SELECTION:"catalog.saveSelection",GET_STORIES:"stories.get",JOIN_GROUP:"groups.join",LEAVE_GROUP:"groups.leave",ADD_FRIEND:"friends.add",DELETE_FRIEND:"friends.delete",CLEAR_RECENT:"search.clearRecents",GROUPS_REMOVE_RECENT:"groups.removeRecents",FAVE_ADD_PRODUCT:"fave.addProduct",FAVE_REMOVE_PRODUCT:"fave.removeProduct",ADD_RECENT:"search.addRecents",REMOVE_SEARCH_RECENT_QUERY:"search.removeSearchRecentQuery",LIKES_ADD:"likes.add",LIKES_DELETE:"likes.delete",ADD_VIDEO:"video.add",DELETE_VIDEO:"video.delete",ADD_VIDEO_TO_FAVE:"fave.addVideo",REMOVE_VIDEO_FROM_FAVE:"fave.removeVideo",ADD_VIDEO_TO_PLAYLIST:"video.addToAlbum",REMOVE_VIDEO_FROM_PLAYLIST:"video.removeFromAlbum",GET_PLAYLISTS_BY_VIDEO:"video.getAlbumsByVideo",GET_PLAYLISTS:"video.getAlbums",SUBSCRIBE_TO_ALBUM:"video.subscribeToAlbum",UNSUBSCRIBE_TO_ALBUM:"video.unsubscribeFromAlbum",REMOVE_VIEWING_HISTORY_RECORDS:"video.removeViewingHistoryRecords",MARK_VIDEO_NOT_INTERESTED:"video.notInterested",GET_VIDEOS_FROM_ALBUM:"video.getFromAlbum",NOT_RECOMMEND_OWNER:"video.notRecommendOwner",FAVE_ADD_POST:"fave.addPost",FAVE_REMOVE_POST:"fave.removePost",ADD_AUDIO:"audio.add",DELETE_AUDIO:"audio.delete",RESTORE_AUDIO:"audio.restore",AGREE_BLUR_RESTRICTION:"photos.agreeBlurRestriction",FOLLOW_RADIO_STATION:"audio.followRadioStation",UNFOLLOW_RADIO_STATION:"audio.unfollowRadioStation"},b={CHEVRON_RIGHT_CIRCLE_28:"chevron_right_circle_28"}},579691:(e,t,a)=>{a.d(t,{CatalogConfigProvider:()=>l,useCatalogConfig:()=>s});var o=a(474848),r=a(296540),i=a(308631);const n=(0,r.createContext)({navGo:()=>!1,navigate:()=>{},userId:0,isAnonymous:!1,devicePixelRatio:0,pageVerifiedTip:()=>({}),openChat:()=>({}),call:()=>({}),openStories:()=>({}),internalSwitchSection:!1,appCatalogService:i.appCatalogService}),s=()=>(0,r.useContext)(n),l=({navGo:e=()=>!1,navigate:t=()=>{},userId:a=0,isAnonymous:s=!1,devicePixelRatio:l=0,pageVerifiedTip:c=()=>({}),openChat:d=()=>({}),call:u=()=>({}),openStories:_=()=>({}),musicPlayer:p,blockResolvers:g,appCatalogService:m=i.appCatalogService,withStretchedPlaceholders:v,scrollToBlockOffset:S,internalSwitchSection:h,sliderProps:C,iconSize:f,children:I})=>{const E=(0,r.useMemo)((()=>({navGo:e,internalSwitchSection:h,navigate:t,userId:a,isAnonymous:s,devicePixelRatio:l,pageVerifiedTip:c,openChat:d,call:u,openStories:_,musicPlayer:p,sliderProps:C,iconSize:f,blockResolvers:g,appCatalogService:m,scrollToBlockOffset:S,withStretchedPlaceholders:v})),[e,t,a,s,l,h,c,d,u,_,p,C,f,g,m,S,v]);return(0,o.jsx)(n.Provider,{value:E,children:I})}},533356:(e,t,a)=>{a.d(t,{CatalogDesktopVideoProvider:()=>s,useCatalogDesktopVideo:()=>n});var o=a(474848),r=a(296540);const i=(0,r.createContext)(null),n=()=>{const e=(0,r.useContext)(i);if(!e)throw new Error("You must call useCatalogDesktopVideo only inside CatalogDesktopVideoProvider");return e},s=({videoCardProps:e,listGridProps:t,isAvatarHidden:a,children:n,currentSectionId:s,isCurrentUserEditor:l,isCurrentUserAdmin:c,onOpenPlaylistModal:d,onPlaylistUpload:u,onPlaylistEdit:_,onPlaylistCopyUrl:p,onPlaylistDelete:g,onPlaylistToggleSubscribe:m,onPlaylistOpen:v,onAuthorsActualizeOpen:S,onPlaylistPageOpen:h,onSendLog:C,ownerRoutePrefix:f,showCurrentOnline:I,sortingProps:E,subscriptionsModalProps:k})=>{const y=(0,r.useMemo)((()=>({videoCardProps:e,listGridProps:t,isAvatarHidden:a,isCurrentUserEditor:l,isCurrentUserAdmin:c,currentSectionId:s,onOpenPlaylistModal:d,onPlaylistUpload:u,onPlaylistEdit:_,onPlaylistCopyUrl:p,onPlaylistDelete:g,onPlaylistToggleSubscribe:m,onPlaylistOpen:v,onAuthorsActualizeOpen:S,onPlaylistPageOpen:h,onSendLog:C,ownerRoutePrefix:f,showCurrentOnline:I,sortingProps:E,subscriptionsModalProps:k})),[e,t,a,l,c,s,d,u,_,p,g,m,v,S,h,C,f,I,E,k]);return(0,o.jsx)(i.Provider,{value:y,children:n})}},130713:(e,t,a)=>{a.d(t,{CatalogGroupsProvider:()=>s,useCatalogGroupsContext:()=>n});var o=a(474848),r=a(296540);const i=(0,r.createContext)({}),n=()=>(0,r.useContext)(i),s=({children:e,...t})=>(0,o.jsx)(i.Provider,{value:t,children:e})},211410:(e,t,a)=>{a.d(t,{CatalogHandlersProvider:()=>s,useCatalogHandlersContext:()=>n});var o=a(474848),r=a(296540);const i=(0,r.createContext)({}),n=()=>(0,r.useContext)(i),s=({children:e,...t})=>(0,o.jsx)(i.Provider,{value:t,children:e})},459297:(e,t,a)=>{a.d(t,{CatalogLogProvider:()=>l,useCollectClick:()=>n,useCollectView:()=>s});var o=a(474848),r=a(296540);const i=(0,r.createContext)({collectClick:()=>{}}),n=()=>(0,r.useContext)(i).collectClick,s=()=>(0,r.useContext)(i).collectView,l=({collectView:e,collectClick:t=()=>{},children:a})=>(0,o.jsx)(i.Provider,{value:{collectView:e,collectClick:t||(()=>{})},children:a})},7261:(e,t,a)=>{a(474848),a(296540)},769422:(e,t,a)=>{a.d(t,{CatalogOwnerProvider:()=>d,useCatalogOwner:()=>c});var o=a(474848),r=a(296540),i=a(293721),n=a(468073),s=a(351137);const l=(0,r.createContext)({findOwner:()=>{}}),c=()=>(0,r.useContext)(l),d=({children:e})=>{const{appCatalogService:t}=(0,s.useCatalogConfig)(),a=(0,i.useStore)(t.groupsService.$groups),c=(0,i.useStore)(t.profilesService.$profiles),d=(0,r.useCallback)((e=>{if(!e)return;const t=Math.abs(e);return n.Ranges.isGroupId(e)?a.get(t):c.get(t)}),[a,c]);return(0,o.jsx)(l.Provider,{value:{findOwner:d},children:e})}},128553:(e,t,a)=>{a.d(t,{CatalogSearchProvider:()=>s,useCatalogSearch:()=>n});var o=a(474848),r=a(296540);const i=(0,r.createContext)({search:()=>({}),applyFilters:()=>{},resetFilters:()=>{},setFilterModal:()=>({}),displayTopSearch:()=>!1,setCurrentQuery:()=>({}),showVideo:()=>({}),appliedFiltersCount:0,currentQuery:"",callFriend:()=>({}),setContentRestricted:()=>{},showAudioPlaylist:()=>({})}),n=()=>(0,r.useContext)(i),s=({search:e=()=>({}),applyFilters:t=()=>{},resetFilters:a=()=>{},setFilterModal:n=()=>({}),displayTopSearch:s=()=>!1,setCurrentQuery:l=()=>({}),showVideo:c=()=>({}),currentQuery:d="",appliedFiltersCount:u=0,children:_,callFriend:p=()=>({}),setContentRestricted:g=()=>{},getVideoCardWrapper:m,showVideoMenu:v,openProductWiki:S,marketRefSource:h,onOpenUrlClick:C,showMiniAppTooltip:f,showGameTooltip:I,showClip:E,showAudioPlaylist:k=()=>({}),selector:y,showAuthBox:T})=>{const A=(0,r.useMemo)((()=>({setFilterModal:n,applyFilters:t,resetFilters:a,appliedFiltersCount:u,search:e,displayTopSearch:s,currentQuery:d,setCurrentQuery:l,showVideo:c,callFriend:p,setContentRestricted:g,getVideoCardWrapper:m,showVideoMenu:v,openProductWiki:S,marketRefSource:h,onOpenUrlClick:C,showMiniAppTooltip:f,showGameTooltip:I,showAudioPlaylist:k,showClip:E,selector:y,showAuthBox:T})),[n,u,e,s,d,l,c,p,g,m,v,S,h,C,f,I,k,E,t,a,y,T]);return(0,o.jsx)(i.Provider,{value:A,children:_})}},529094:(e,t,a)=>{a.d(t,{useCatalogVideo:()=>i});a(474848);var o=a(296540);const r=(0,o.createContext)({openVideoEditor:()=>({}),openVideoUploader:()=>({}),openPlaylistActions:()=>({}),openLiveSettings:()=>({}),useConfirmPopout:()=>()=>({}),VideoActionSheet:()=>null,isVideoPWA:!1,isVideoStandalone:!1,liveEnabled:!1,openUnauthorizedMoreBox:()=>({})}),i=()=>(0,o.useContext)(r)},351137:(e,t,a)=>{a.d(t,{CatalogConfigProvider:()=>o.CatalogConfigProvider,CatalogDesktopVideoProvider:()=>r.CatalogDesktopVideoProvider,CatalogGroupsProvider:()=>i.CatalogGroupsProvider,CatalogHandlersProvider:()=>d.CatalogHandlersProvider,CatalogLogProvider:()=>n.CatalogLogProvider,CatalogOwnerProvider:()=>s.CatalogOwnerProvider,CatalogSearchProvider:()=>l.CatalogSearchProvider,useCatalogConfig:()=>o.useCatalogConfig,useCatalogDesktopVideo:()=>r.useCatalogDesktopVideo,useCatalogGroupsContext:()=>i.useCatalogGroupsContext,useCatalogHandlersContext:()=>d.useCatalogHandlersContext,useCatalogOwner:()=>s.useCatalogOwner,useCatalogSearch:()=>l.useCatalogSearch,useCatalogVideo:()=>c.useCatalogVideo,useCollectClick:()=>n.useCollectClick,useCollectView:()=>n.useCollectView});var o=a(579691),r=a(533356),i=a(130713),n=a(459297),s=(a(7261),a(769422)),l=a(128553),c=a(529094),d=a(211410)},165553:(e,t,a)=>{a.d(t,{withCatalogBlock:()=>o.withCatalogBlock,withCatalogStore:()=>r.withCatalogStore,withCatalogStoreOwner:()=>i.withCatalogStoreOwner});var o=a(738095),r=a(424815),i=(a(307362),a(48494))},738095:(e,t,a)=>{a.d(t,{withCatalogBlock:()=>n});var o=a(474848),r=a(296540),i=a(174269);function n(e,t){const a=({blockIndex:a=0,...n})=>{const s=(0,r.useMemo)((()=>(0,i.extractItemsIds)(n)),[n]),l=t(n);return s.length&&l?(0,o.jsx)(e,{index:a,block:n,items:s,ItemComponent:l}):null};return a.displayName=`${e.displayName}_withCatalogBlock`,a}},424815:(e,t,a)=>{a.d(t,{withCatalogStore:()=>s});var o=a(474848),r=a(174269),i=a(293721),n=a(8520);function s(e,t,a,{attachTrackCodeToUrl:s,getId:l,getUrl:c,getTrackCode:d,onView:u}={}){const _=_=>{const{appCatalogService:p}=(0,r.useCatalogConfig)(),g=(0,i.useStore)(p.pageService.$catalogType),m=(0,r.useCatalogStoreMap)(t,l?l(_):_.id),v=(0,n.isFunction)(a)?m&&a(m):a,S=d?d(m):_.track_code||(0,r.getObjectPropertyString)(m,"track_code"),h=(0,r.useLogClick)(v,S),C=(0,r.useRefLogView)({type:v,trackCode:S,callback:m&&u?()=>u(m,_):void 0});return m&&v?(0,o.jsx)(e,{..._,item:m,type:v,getRootRef:C,trackCode:S,blockId:_.block_id,collectClick:h,index:_.itemIndex||_.index,href:c&&(s?(0,r.getUrlWithTrackCode)(c(m,_),S,g):c(m,_))}):null};return _.displayName=`${e.displayName}_withCatalogStore`,_}},307362:(e,t,a)=>{a(474848),a(296540),a(174269),a(293721),a(8520)},48494:(e,t,a)=>{a.d(t,{withCatalogStoreOwner:()=>l});var o=a(474848),r=a(296540),i=a(174269),n=a(293721),s=a(8520);function l(e,t,a,{attachTrackCodeToUrl:l,getId:c,getUrl:d,getOwnerId:u,onView:_}={}){const p=p=>{const{appCatalogService:g}=(0,i.useCatalogConfig)(),m=(0,n.useStore)(g.pageService.$catalogType),{findOwner:v}=(0,i.useCatalogOwner)(),S=(0,i.useCatalogStoreMap)(t,c?c(p):p.id),h=(0,s.isFunction)(a)?S&&a(S):a,C=p.track_code||(0,i.getObjectPropertyString)(S,"track_code"),f=(0,i.useLogClick)(h,C),I=(0,i.useRefLogView)({type:h,trackCode:C,callback:S&&_?()=>_(S,p):void 0}),E=(0,r.useMemo)((()=>v(S&&u?u(S):(0,i.getObjectPropertyNumber)(S,"owner_id"))),[v,S]);return S&&E&&h?(0,o.jsx)(e,{...p,item:S,owner:E,type:h,getRootRef:I,trackCode:C,blockId:p.block_id,collectClick:f,index:p.itemIndex||p.index,href:d&&(l?(0,i.getUrlWithTrackCode)(d(S,E),C,m):d(S,E))}):null};return p.displayName=`${e.displayName}_withCatalogStoreOwner`,p}},924398:(e,t,a)=>{a.d(t,{useCatalogCommonFriends:()=>o.useCatalogCommonFriends,useCatalogOwnerStories:()=>r.useCatalogOwnerStories,useCatalogOwnerSubscribe:()=>i.useCatalogOwnerSubscribe,useCatalogStoreArray:()=>n.useCatalogStoreArray,useCatalogStoreMap:()=>n.useCatalogStoreMap,useLogClick:()=>s.useLogClick,useScrollToBlockById:()=>l.useScrollToBlockById});var o=a(501058),r=a(279046),i=a(135575),n=a(496049),s=a(992883),l=(a(657293),a(902476))},501058:(e,t,a)=>{a.d(t,{useCatalogCommonFriends:()=>n});var o=a(293721),r=a(351137),i=a(296540);const n=({friendsIds:e})=>{const{appCatalogService:t}=(0,r.useCatalogConfig)(),a=(0,o.useStoreMap)({store:t.profilesService.$profiles,keys:[e],fn:(e,[t])=>(t||[]).map((t=>e.get(t))).filter((e=>Boolean(e))).map((({first_name:e="",photo_50:t,photo_100:a})=>({first_name:e,photo_50:t,photo_100:a})))}),n=(0,i.useMemo)((()=>a.map((e=>e.photo_50||e.photo_100||""))),[a]);return{commonFriends:a,commonFriendsPhotos:n}}},279046:(e,t,a)=>{a.d(t,{useCatalogOwnerStories:()=>n});var o=a(296540),r=a(363046),i=a(351137);const n=({ownerId:e,callback:t,hasUnseenStories:a})=>{const{appCatalogService:n}=(0,i.useCatalogConfig)();return{onOpenStories:(0,o.useCallback)((o=>{if(a){(0,r.cancelEvent)(o),t?.();const a=()=>n.profilesService.fireCheckUserStories(e);n.storiesService.fireOpenStories({ownerId:e,storiesCallback:a})}}),[e,a])}}},135575:(e,t,a)=>{a.d(t,{useCatalogOwnerSubscribe:()=>l});var o=a(174269),r=a(468073),i=a(363046),n=a(296540),s=a(831505);const l=({ownerId:e,status:t,callback:a})=>{const{appCatalogService:l}=(0,o.useCatalogConfig)(),c=Math.abs(e),d=r.Ranges.isUserId(e),u=void 0!==t&&(d?(e=>{switch(e){case s.FriendsFriendStatusStatusEnumNames.NOT_A_FRIEND:case s.FriendsFriendStatusStatusEnumNames.INCOMING_REQUEST:return!1;case s.FriendsFriendStatusStatusEnumNames.OUTCOMING_REQUEST:case s.FriendsFriendStatusStatusEnumNames.IS_FRIEND:return!0}})(t):(e=>{switch(e){case s.GroupsGroupFullMemberStatusEnumNames.NOT_A_MEMBER:case s.GroupsGroupFullMemberStatusEnumNames.NOT_SURE:case s.GroupsGroupFullMemberStatusEnumNames.DECLINED:case s.GroupsGroupFullMemberStatusEnumNames.INVITED:return!1;case s.GroupsGroupFullMemberStatusEnumNames.MEMBER:case s.GroupsGroupFullMemberStatusEnumNames.HAS_SENT_A_REQUEST:return!0}})(t)),_=(0,o.useCatalogStoreArray)(l.groupsService.$groupsToLeave,d?void 0:c),p=(0,o.useCatalogStoreArray)(l.catalogUsersService.$deletableFriendsIds,d?c:void 0),g=(0,o.useCatalogStoreArray)(l.groupsService.$groupPendingIds,d?void 0:c),m=(0,o.useCatalogStoreArray)(l.catalogUsersService.$pendingFriendsIds,d?c:void 0),v=_||p,S=_||p||u,h=g||m,C=(0,n.useCallback)((e=>{(0,i.cancelEvent)(e),h||(a?.(!S),d?S?l.catalogUsersService.fireDeleteFriend({user_id:c}):l.catalogUsersService.fireAddFriend({user_id:c}):S?l.groupsService.fireLeaveGroup({group_id:c}):l.groupsService.fireJoinGroup({group_id:c}))}),[S,d,c,h]);return{isUser:d,pending:h,canUnsubscribe:S,addedRecently:v,onSubscribeToggle:C,subscribed:u}}},496049:(e,t,a)=>{a.d(t,{useCatalogStoreArray:()=>i,useCatalogStoreMap:()=>r});var o=a(293721);const r=(e,t)=>(0,o.useStoreMap)({store:e,keys:[t],fn:(e,[t])=>t?e.get(t):void 0}),i=(e,t)=>(0,o.useStoreMap)({store:e,keys:[t],fn:(e,[t])=>Boolean(t&&e.includes(t))})},225482:(e,t,a)=>{a.d(t,{useCommunityCollectionItems:()=>l});var o=a(174269),r=a(898848),i=a(984140),n=a(908671),s=a(866467);const l=(e=[])=>{const{groupsService:t}=(0,o.useCatalogGroupsContext)();return e.reduce(((e,a)=>{const o=t?.getGroup(a.id);return o?[...e,o]:e}),[]).map((a=>{const l=(0,r.isRetina)()?a.photo_100:a.photo_50,c=e.find((e=>e.id===a.id))?.track_code,d=(0,o.getUrlWithTrackCode)((0,i.getGroupUrl)(a),c,o.CatalogType.GROUPS),u=t?.checkSubscriptionLoading(a.id),_=a.members_count||0,p=(0,n.formatCount)(_),g=_<1e3?_:0,m=(0,s.getLang)("groups_X_app_users",g).replace(String(g),p);return{key:`${a.id}`,children:a.name,subtitle:m,photo:l,href:d,checked:Boolean(a.is_member),loading:u,isVerified:Boolean(a.verified),onSubscribeClick:()=>{a.is_member?t?.unsubscribe({group_id:a.id,track_code:c}):t?.subscribe({group_id:a.id,track_code:c})},ariaLabel:a.name,buttonAriaLabel:Boolean(a.is_member)?(0,s.getLang)("groups_dd_you_in_group"):(0,s.getLang)("global_share_button_join_public")}}))}},992883:(e,t,a)=>{a.d(t,{useLogClick:()=>i});var o=a(174269),r=a(8520);const i=(e,t)=>{const a=(0,o.useCollectClick)();return e&&t?o=>a({type:e,track_code:t,action:o}):r.noop}},657293:(e,t,a)=>{a.d(t,{useRefLogView:()=>s});var o=a(296540),r=a(351137),i=a(220208),n=a(538166);const s=({type:e,trackCode:t,trackCodes:a=[],callback:s,threshold:l=.8,meta:c,vkRef:d})=>{const u=(0,r.useCollectView)(),{viewWidth:_=i.ViewWidth.MOBILE}=(0,i.useAdaptivityWithJSMediaQueries)(),p=_<i.ViewWidth.TABLET,[g,m]=(0,n.useIntersectionObserver)({rootMargin:p?"0px 0px -48px 0px":void 0,threshold:l});return(0,o.useEffect)((()=>{const o=[...a,t].filter(Boolean);m&&u&&o.length>0&&e&&!c?.disable_track_rec_shown&&(o.forEach((t=>{u({type:e,track_code:t,vk_ref:d})})),s?.())}),[m,u,t,e,a.length,d]),g}},902476:(e,t,a)=>{a.d(t,{useScrollToBlockById:()=>s});var o=a(474848),r=a(293721),i=a(174269),n=a(296540);const s=e=>{const{scrollToBlockOffset:t}=(0,i.useCatalogConfig)(),a=(0,r.useStore)(i.appCatalogService.layoutService.$scrollToBlockById),s=(0,n.useRef)(null),[l,c]=(0,n.useState)(!1);if((0,n.useEffect)((()=>{a===e&&c(!0)}),[a,e]),(0,n.useEffect)((()=>{l&&(s.current?.scrollIntoView(),c(!1))}),[l]),l){const e="string"==typeof t?`calc(${t} * -1)`:-(t??0)+"px";return(0,o.jsx)("div",{style:{position:"relative"},children:(0,o.jsx)("div",{style:{position:"absolute",top:e},ref:s})})}return null}},174269:(e,t,a)=>{a.d(t,{APP_PROMO_SLOW_YT_SNACKBAR_EVENT_TYPE:()=>n.APP_PROMO_SLOW_YT_SNACKBAR_EVENT_TYPE,AppPromoSlowYtSnackbarEventTypes:()=>n.AppPromoSlowYtSnackbarEventTypes,CATALOG_AVATAR_SIZE_L:()=>c.CATALOG_AVATAR_SIZE_L,CATALOG_AVATAR_SIZE_SM:()=>c.CATALOG_AVATAR_SIZE_SM,Catalog:()=>r.Catalog,CatalogActionType:()=>c.CatalogActionType,CatalogBlockDataType:()=>c.CatalogBlockDataType,CatalogBlockLayoutName:()=>c.CatalogBlockLayoutName,CatalogDesktopVideoProvider:()=>d.CatalogDesktopVideoProvider,CatalogGroupsProvider:()=>d.CatalogGroupsProvider,CatalogHandlersProvider:()=>d.CatalogHandlersProvider,CatalogLogProvider:()=>d.CatalogLogProvider,CatalogSearchProvider:()=>d.CatalogSearchProvider,CatalogSnackbar:()=>h.CatalogSnackbar,CatalogType:()=>c.CatalogType,FAVORITE_SOURCES:()=>n.FAVORITE_SOURCES,FRIENDS_IN_GROUP:()=>c.FRIENDS_IN_GROUP,GROUP_REDESIGN_EVENT_SLIDER_SCROLL:()=>c.GROUP_REDESIGN_EVENT_SLIDER_SCROLL,GROUP_REDESIGN_SLIDER_SCROLL:()=>c.GROUP_REDESIGN_SLIDER_SCROLL,ListenMutateEventsType:()=>i.ListenMutateEventsType,MARKET_ITEM_SLIDER_SCROLL:()=>c.MARKET_ITEM_SLIDER_SCROLL,MAX_FRIENDS_IN_GROUP_TO_SHOW:()=>c.MAX_FRIENDS_IN_GROUP_TO_SHOW,MINI_APP_AVATAR_SIZE:()=>c.MINI_APP_AVATAR_SIZE,OPEN_SEARCH_TAB_ACTION_URL_WEB:()=>c.OPEN_SEARCH_TAB_ACTION_URL_WEB,RICH_CELL_BUTTON_WIDTH_L:()=>c.RICH_CELL_BUTTON_WIDTH_L,SLIDER_AVATAR_SIZE_M:()=>c.SLIDER_AVATAR_SIZE_M,SLIDER_SCROLL:()=>c.SLIDER_SCROLL,SNACKBAR_EVENTS:()=>n.SNACKBAR_EVENTS,VirtualList:()=>n.VirtualList,appCatalogService:()=>l.appCatalogService,chunks:()=>n.chunks,createAppCatalogService:()=>l.createAppCatalogService,desktopLayoutResolver:()=>_.desktopLayoutResolver,extractExtendedData:()=>S.extractExtendedData,extractItemsIds:()=>S.extractItemsIds,getObjectPropertyNumber:()=>n.getObjectPropertyNumber,getObjectPropertyString:()=>n.getObjectPropertyString,getPlayFromByDuration:()=>f.getPlayFromByDuration,getUrlWithTrackCode:()=>n.getUrlWithTrackCode,modalLayoutResolver:()=>p.modalLayoutResolver,toColumnWithRows:()=>S.toColumnWithRows,useCatalogCommonFriends:()=>s.useCatalogCommonFriends,useCatalogConfig:()=>d.useCatalogConfig,useCatalogDesktopVideo:()=>d.useCatalogDesktopVideo,useCatalogGroupsContext:()=>d.useCatalogGroupsContext,useCatalogHandlersContext:()=>d.useCatalogHandlersContext,useCatalogOwner:()=>d.useCatalogOwner,useCatalogOwnerStories:()=>s.useCatalogOwnerStories,useCatalogOwnerSubscribe:()=>s.useCatalogOwnerSubscribe,useCatalogSearch:()=>d.useCatalogSearch,useCatalogStoreArray:()=>s.useCatalogStoreArray,useCatalogStoreMap:()=>s.useCatalogStoreMap,useCatalogVideo:()=>d.useCatalogVideo,useCollectClick:()=>d.useCollectClick,useLogClick:()=>s.useLogClick,useRefLogView:()=>C.useRefLogView,useScrollToBlockById:()=>s.useScrollToBlockById,videoCommunityLayoutResolver:()=>m.videoCommunityLayoutResolver,videoLayoutResolver:()=>g.videoLayoutResolver,videoListShowcaseLayoutResolver:()=>v.videoListShowcaseLayoutResolver,withCatalogBlock:()=>u.withCatalogBlock,withCatalogStore:()=>u.withCatalogStore,withCatalogStoreOwner:()=>u.withCatalogStoreOwner});var o=a(679005),r=a(767514),i=(a(493026),a(231736)),n=a(962271),s=a(924398),l=a(308631),c=a(49932),d=a(351137),u=a(165553),_=a(440013),p=a(300084),g=(a(594639),a(709758)),m=a(272068),v=a(184249),S=a(418755),h=a(643400),C=(a(159884),a(603710),a(657293)),f=a(506011);(0,o.enableMapSet)()},440013:(e,t,a)=>{a.d(t,{desktopLayoutResolver:()=>n});var o=a(979717),r=a(49932);const i=()=>null,n=({layout:e})=>{switch(e.name){case r.CatalogBlockLayoutName.LARGE_LIST:return"fit"===e.style?o.PinnedVideo:o.List;case r.CatalogBlockLayoutName.LIST:case r.CatalogBlockLayoutName.LIST_WITH_NOTIFICATION_STATE:case r.CatalogBlockLayoutName.LIST_WITH_RETURN_STATE:return o.List;case r.CatalogBlockLayoutName.SHORT_VIDEO_LIST:return o.ShortVideoList;case r.CatalogBlockLayoutName.PLACEHOLDER:case r.CatalogBlockLayoutName.PLACEHOLDER_SMALL:return o.Placeholder;case r.CatalogBlockLayoutName.HEADER:return o.Header;case r.CatalogBlockLayoutName.SLIDER:case r.CatalogBlockLayoutName.SHORT_VIDEO_SLIDER_WITH_VIEW_COUNTER:return o.Slider;case r.CatalogBlockLayoutName.SEPARATOR:return o.Separator;default:return i}}},594639:(e,t,a)=>{a(174269),a(828433),a(264383),a(900417),a(897907),a(285768),a(762855),a(260938),a(86941),a(476370),a(681776),a(872196),a(228555),a(105681),a(874794),a(875705)},300084:(e,t,a)=>{a.d(t,{modalLayoutResolver:()=>d});var o=a(582192),r=a(49932),i=a(621921),n=a(861053),s=a(173760),l=a(78129),c=a(430005);const d=({layout:e})=>{switch(e.name){case r.CatalogBlockLayoutName.SEPARATOR:return o.Separator;case r.CatalogBlockLayoutName.HEADER_COMPACT:return i.HeaderCompact;case r.CatalogBlockLayoutName.LIST:return n.List;case r.CatalogBlockLayoutName.SLIDER:return s.Slider;case r.CatalogBlockLayoutName.PLACEHOLDER_SMALL:return l.PlaceholderSmall;case r.CatalogBlockLayoutName.BUTTON:return c.Button;default:return()=>null}}},709758:(e,t,a)=>{a.d(t,{videoLayoutResolver:()=>c});var o=a(174269),r=a(365003),i=a(287911),n=a(57744),s=a(8652),l=a(288413);const c=({layout:e})=>{switch(e.name){case o.CatalogBlockLayoutName.SEPARATOR:return l.CatalogSeparator;case o.CatalogBlockLayoutName.HEADER_COMPACT:return r.HeaderCompact;case o.CatalogBlockLayoutName.LARGE_LIST:case o.CatalogBlockLayoutName.LIST:return i.List;case o.CatalogBlockLayoutName.TEXT:return n.Text;case o.CatalogBlockLayoutName.PLACEHOLDER_SMALL:case o.CatalogBlockLayoutName.PLACEHOLDER_LINE:return s.Placeholder;default:return()=>null}}},272068:(e,t,a)=>{a.d(t,{videoCommunityLayoutResolver:()=>c});var o=a(174269),r=a(592595),i=a(57744),n=a(8652),s=a(697395),l=a(573011);const c=({layout:e})=>{switch(e.name){case o.CatalogBlockLayoutName.SEPARATOR:return l.CatalogSeparatorCommunity;case o.CatalogBlockLayoutName.HEADER_COMPACT:return s.Header;case o.CatalogBlockLayoutName.LARGE_LIST:case o.CatalogBlockLayoutName.LIST:return r.ListCommunity;case o.CatalogBlockLayoutName.TEXT:return i.Text;case o.CatalogBlockLayoutName.PLACEHOLDER_SMALL:case o.CatalogBlockLayoutName.PLACEHOLDER_LINE:return n.Placeholder;default:return()=>null}}},184249:(e,t,a)=>{a.d(t,{videoListShowcaseLayoutResolver:()=>c});var o=a(174269),r=a(992543),i=a(57744),n=a(8652),s=a(288413),l=a(534002);const c=({layout:e})=>{switch(e.name){case o.CatalogBlockLayoutName.SEPARATOR:return s.CatalogSeparator;case o.CatalogBlockLayoutName.HEADER_COMPACT:return l.HeaderListVideos;case o.CatalogBlockLayoutName.LARGE_LIST:case o.CatalogBlockLayoutName.LIST:return r.ListVideos;case o.CatalogBlockLayoutName.TEXT:return i.Text;case o.CatalogBlockLayoutName.PLACEHOLDER_SMALL:case o.CatalogBlockLayoutName.PLACEHOLDER_LINE:return n.Placeholder;default:return()=>null}}},760503:(e,t,a)=>{a.d(t,{createActionsService:()=>r});var o=a(32489);const r=({domain:e})=>{const t=e.createEvent("select/Action"),a=e.createStore(null,{name:"selectedAction"});return(0,o.sample)({clock:t,source:a,fn:(e,t)=>t,target:a}),{selectAction:t,$selectedAction:a}}},448319:(e,t,a)=>{a.d(t,{createAppCatalogService:()=>W});var o=a(32489),r=a(174269),i=a(760503),n=a(454764),s=a(284763),l=a(819464),c=a(680241),d=a(901430),u=a(432276),_=a(9123),p=a(432448),g=a(822053),m=a(555671),v=a(170053),S=a(70343),h=a(698062),C=a(674870),f=a(490999),I=a(165853),E=a(587869),k=a(806533),y=a(263836),T=a(866870),A=a(578452),R=a(494299),x=a(703330),L=a(757230),O=a(232933),b=a(308587),w=a(247642),V=a(128586),P=a(820734),N=a(15573),B=a(345192),M=a(55617),D=a(876761),j=a(8520),G=a(664331),F=a(540462),U=a(105330),H=a(418755),$=a(679005);const z=(0,o.createDomain)("CATALOG/APP"),W=()=>{const e=z.createStore(!1,{name:"isStandaloneSection"}),t=z.createEvent("fire/SetIsStandaloneSection"),a=z.createEvent("fire/ClearApp"),W=z.createEvent("fire/SetExtendedData"),K=z.createEvent("fire/SetCatalog"),Y=z.createEvent("fire/ClearUpdatedCatalog"),q=z.createEvent("fire/RemoveBlock"),Q=z.createEvent("fire/RemoveBlock"),Z=z.createEvent("fire/SetSections"),X=z.createEvent("fire/GetSection"),J=z.createEvent("fire/AbortGetSection"),ee=z.createEvent("fire/ClearSectionResponse"),te=z.createEvent("fire/ClearCatalogGetBlockItemsResponse"),ae=z.createEvent("fire/UpdateNextFrom"),oe=z.createEvent("fire/HideBlock"),re=z.createEvent("fire/GetBlockItems"),ie=z.createStore({sections:[],default_section:""},{name:"catalog"}),ne=z.createStore(null,{name:"updatedCatalog"}),se=z.createStore(null,{name:"section"}),le=z.createStore([],{name:"sections"}),ce=z.createStore([],{name:"loadingBlockIds"}),de=z.createStore("",{name:"lastSectionId"}),ue=z.createStore("",{name:"nextFrom"}),_e=z.createStore(!1,{name:"fetchSectionPending"}),pe=z.createStore(!1,{name:"fetchSectionError"}),ge=z.createStore({}),me=z.createEffect({name:"fetch/GetSection",handler:async({cacheId:e,params:t,controller:a})=>{const o=a?.signal,r=new URL(window.location.href);r.search="";return{id:r.href,data:await(0,M.getSection)(t,{signal:o}),cacheId:e}}}),ve=(0,D.createCatalogHideBlockFx)({domain:z}),Se=(0,D.createCatalogGetBlockItemsFx)({domain:z}),he=(0,v.createStoriesService)({domain:z}),Ce=(0,f.createVideoService)({domain:z,data:W,$catalog:ie}),fe=(0,S.createPageService)({domain:z}),Ie=(0,I.createSuggestionsService)({domain:z,data:W}),Ee=(0,i.createActionsService)({domain:z}),ke=(0,n.createGroupsService)({domain:z,data:W,fetchStories:he.FetchStoriesEffectFx}),ye=(0,s.createGroupCategoryItemsService)({domain:z,data:W}),Te=(0,l.createGroupCollectionItemsService)({domain:z,data:W}),Ae=(0,c.createLinksService)({domain:z,data:W}),Re=(0,d.createProfilesService)({domain:z,data:W,fetchStories:he.FetchStoriesEffectFx}),xe=(0,C.createPlaylistService)({domain:z,$catalog:ie,$videoItems:Ce.$videoItems,data:W,removeVideoFromPlaylists:Ce.RemoveVideoFromPlaylistsEffectFx,removeVideoFromMyVideos:Ce.RemoveVideoFromMyVideosEffectFx}),Le=(0,k.createOnboardingService)({domain:z}),Oe=(0,x.createLayoutService)({domain:z,data:W,...Ce,SaveOnboardingEffectFx:Le.SaveOnboardingEffectFx,fireCompleteOnboarding:Le.fireCompleteOnboarding,$playlistItems:xe.$playlistItems}),be=(0,u.createCatalogUsersService)({domain:z,data:W,$profiles:Re.$profiles}),we=(0,_.createClipsService)({domain:z,data:W}),Ve=(0,p.createAppsService)({domain:z,data:W}),Pe=(0,g.createMarketItemsService)({domain:z,data:W}),Ne=(0,m.createSearchRecentService)({domain:z}),Be=(0,h.createPlaceholdersService)({domain:z,data:W}),Me=(0,E.createSearchSpellcheckersService)({domain:z,data:W}),De=(0,y.createNewsfeedItemsService)({domain:z,data:W}),je=(0,T.createPostsService)({domain:z,data:W}),Ge=(0,A.createStickersService)({domain:z,data:W}),Fe=(0,R.createMusicPlaylistsService)({domain:z,data:W}),Ue=(0,L.createAudioService)({domain:z,data:W}),He=(0,O.createEntitiesSearchEntityItemsService)({domain:z,data:W}),$e=(0,b.createNavigationTabsService)({domain:z,data:W}),ze=(0,w.createVKLiveChannelsService)({domain:z,data:W}),We=(0,V.createVKLiveCategoryService)({domain:z,data:W}),Ke=(0,P.createClassifiedsCategoryTreeService)({domain:z,data:W}),Ye=(0,N.createRadioStationsService)({domain:z,data:W}),qe=(0,B.createTextsService)({domain:z,data:W});return(0,o.sample)({clock:t,target:e}),z.onCreateStore((e=>{e?.reset(a)})),(0,o.sample)({clock:K,source:ie,filter:(e,t)=>!(0,j.isEqual)(e,t),fn:(e,t)=>t,target:ie}),(0,o.sample)({clock:ie,target:ae}),(0,o.sample)({clock:ae,source:{lastSectionId:de,catalog:ie},fn:({lastSectionId:e,catalog:t})=>t?.default_section||e,target:de}),(0,o.sample)({clock:ae,source:ie,filter:le.map((e=>!e.length)),fn:e=>{const t=e.sections.find((t=>t.id===e.default_section));return t?.next_from||""},target:ue}),se.reset(ee),(0,o.sample)({clock:X,source:fe.$cacheId,fn:(e,t)=>({cacheId:e,params:t,controller:new AbortController}),target:me}),(0,o.sample)({clock:[J,X],source:me,filter:me.pending.map((e=>e))}).watch((({controller:e})=>{e?.abort()})),(0,o.sample)({clock:me.pending,target:_e}),(0,o.sample)({clock:me.doneData,target:se}),(0,o.sample)({clock:Z,target:le}),(0,o.sample)({clock:le,target:ae}),(0,o.sample)({clock:ae,source:le,filter:le.map((e=>!!e?.length)),fn:e=>{const t=e[e.length-1];return t?.next_from?t?.next_from:""},target:ue}),(0,o.sample)({clock:me.failData,filter:e=>e&&!(0,G.isRequestAbortError)(e.error),fn:()=>!0,target:pe}),(0,o.sample)({clock:me.doneData,fn:e=>!e?.data?.section,target:pe}),(0,o.sample)({clock:K,fn:()=>!1,target:pe}),(0,o.sample)({clock:[Ce.RemoveVideoFromPlaylistsEffectFx.done,Ce.RemoveVideoFromMyVideosEffectFx.done],source:{sections:le,playlistItems:xe.$playlistItems},filter:({sections:e,playlistItems:t},{result:a})=>(0,H.checkRequestResultForPlaylist)(a,e,t)||Boolean(a),fn:({sections:e},{params:t})=>(0,$.produce)(e,(e=>{const a=e.find((e=>(0,H.testMySection)(e?.url)||(0,H.testUploadedSection)(e.url)||(0,H.testPlaylistSection)(e?.url)));a&&(0,H.mutateSectionBlocks)({section:a,ownerId:t.owner_id,itemId:t.video_id,event:r.ListenMutateEventsType.RemoveVideo})})),target:le}),(0,o.sample)({clock:Ce.RemoveVideoFromHistoryEffectFx.done,source:le,filter:(e,{params:t})=>Boolean(e&&(0,j.isNumber)(t.owner_id)&&(0,j.isNumber)(t.video_id)),fn:(e,{params:t})=>(0,$.produce)(e,(e=>{const a=e.find((e=>(0,H.testMySection)(e?.url)||(0,H.testHistorySection)(e.url)));a&&(0,H.mutateSectionBlocks)({section:a,ownerId:t.owner_id,itemId:t.video_id,event:r.ListenMutateEventsType.RemoveVideo})})),target:le}),(0,o.sample)({clock:Ce.MarkVideoNotInterestedEffectFx.done,source:le,filter:(e,{result:t})=>Boolean(e&&t),fn:(e,{params:t})=>(0,$.produce)(e,(e=>{const{params:a,sectionId:o}=t,i=e.find((e=>!(0,H.testMySection)(e?.url)&&e?.id!==o));i&&(0,H.mutateSectionBlocks)({section:i,ownerId:a.owner_id,itemId:a.video_id,event:r.ListenMutateEventsType.RemoveVideo})})),target:le}),(0,o.sample)({clock:q,source:ie,fn:(e,t)=>{const a=e.sections.findIndex((t=>t.id===e.default_section));if(-1!==a){const o=[...e.sections],r={...o[a]};return r.blocks=r?.blocks?.filter((e=>!t.includes(e.id))),o[a]=r,{...e,sections:[...o]}}return e},target:ne}),(0,o.sample)({clock:Ie.fireRemoveSearchRecentQuery,source:ie,fn:(e,{params:t,block_id:a})=>(0,$.produce)(e,(o=>{const i=o.sections.find((t=>t.id===e.default_section)),n=i?.blocks,s=n?.findIndex((e=>e.id===a));if(!n||void 0===s||-1===s)return;const l=n[s];if(l.search_suggestions_ids=l.search_suggestions_ids?.filter((e=>e!==t.item_id)),l.search_suggestions_ids?.length)return;const c=n[s-1],d=n[s+1];let u=s,_=1;c?.layout.name===r.CatalogBlockLayoutName.HEADER_COMPACT&&(u=s-1,++_),d?.layout.name===r.CatalogBlockLayoutName.SEPARATOR&&++_,n.splice(u,_)})),target:ne}),(0,o.sample)({clock:[Ce.RemoveVideoFromPlaylistsEffectFx.done,Ce.RemoveVideoFromMyVideosEffectFx.done],source:{catalog:ie,playlistItems:xe.$playlistItems},filter:({catalog:e,playlistItems:t},{result:a})=>(0,H.checkRequestResultForPlaylist)(a,e.sections,t)||Boolean(a),fn:({catalog:e},{params:t})=>(0,$.produce)(e,(e=>{const a=!(0,F.partConfigEnabled)("video_deleting_from_playlist_bug")||!((0,U.isMvk)()&&t.owner_id!==window.vk.id),o=e.sections?.find((e=>(0,H.testMySection)(e?.url)||(0,H.testUploadedSection)(e.url)||(0,H.testPlaylistSection)(e?.url)&&a));if(o&&((0,H.mutateSectionBlocks)({section:o,ownerId:t.owner_id,itemId:t.video_id,event:r.ListenMutateEventsType.RemoveVideo}),o.blocks))for(const e of o.blocks)e.layout.name===r.CatalogBlockLayoutName.HEADER&&e.badge?.text&&(e.badge.text=(+e.badge.text-1).toString())})),target:ne}),(0,o.sample)({clock:Ce.AddVideoToMyVideosEffectFx.done,source:ie,filter:(e,{params:t})=>!!e&&(0,j.isNumber)(t.owner_id)&&(0,j.isNumber)(t.video_id),fn:(e,{params:t})=>(0,$.produce)(e,(e=>{const a=e.sections?.find((e=>(0,H.testMySection)(e?.url)));a&&(0,H.mutateSectionBlocks)({section:a,ownerId:t.owner_id,itemId:t.video_id,event:r.ListenMutateEventsType.AddVideo})})),target:ne}),(0,o.sample)({clock:Ce.RemoveVideoFromHistoryEffectFx.done,source:ie,filter:(e,{params:t})=>!!e&&(0,j.isNumber)(t.owner_id)&&(0,j.isNumber)(t.video_id),fn:(e,{params:t})=>(0,$.produce)(e,(e=>{const a=e.sections?.find((e=>(0,H.testMySection)(e?.url)||(0,H.testHistorySection)(e.url)));a&&(0,H.mutateSectionBlocks)({section:a,ownerId:t.owner_id,itemId:t.video_id,event:r.ListenMutateEventsType.RemoveVideo})})),target:ne}),(0,o.sample)({clock:Ce.MarkVideoNotInterestedEffectFx.done,source:ie,filter:(e,{result:t})=>Boolean(e&&t),fn:(e,{params:t})=>(0,$.produce)(e,(e=>{const{params:a,sectionId:o}=t,i=e.sections?.find((e=>!(0,H.testMySection)(e?.url)&&e?.id!==o));i&&(0,H.mutateSectionBlocks)({section:i,ownerId:a.owner_id,itemId:a.video_id,event:r.ListenMutateEventsType.RemoveVideo})})),target:ne}),(0,o.sample)({clock:Ce.DislikeVideoEffectFx.done,source:le,filter:(e,{result:t})=>Boolean(e&&t),fn:(e,{params:t})=>(0,$.produce)(e,(e=>{const a=e.find((e=>(0,H.testLikedSection)(e.url)));a&&(0,H.mutateSectionBlocks)({section:a,ownerId:t.owner_id,itemId:t.item_id,event:r.ListenMutateEventsType.RemoveVideo})})),target:le}),(0,o.sample)({clock:Ce.DislikeVideoEffectFx.done,source:ie,filter:(e,{result:t})=>Boolean(e&&t),fn:(e,{params:t})=>(0,$.produce)(e,(e=>{const a=e.sections?.find((e=>(0,H.testLikedSection)(e.url)));a&&(0,H.mutateSectionBlocks)({section:a,ownerId:t.owner_id,itemId:t.item_id,event:r.ListenMutateEventsType.RemoveVideo})})),target:ne}),(0,o.sample)({clock:Ce.RemoveVideoFromFaveEffectFx.done,source:le,filter:(e,{result:t})=>Boolean(e&&t),fn:(e,{params:t})=>(0,$.produce)(e,(e=>{const a=e.find((e=>(0,H.testBookmarksSection)(e.url)));a&&(0,H.mutateSectionBlocks)({section:a,ownerId:t.owner_id,itemId:t.id,event:r.ListenMutateEventsType.RemoveVideo})})),target:le}),(0,o.sample)({clock:Ce.RemoveVideoFromFaveEffectFx.done,source:ie,filter:(e,{result:t})=>Boolean(e&&t),fn:(e,{params:t})=>(0,$.produce)(e,(e=>{const a=e.sections?.find((e=>(0,H.testBookmarksSection)(e.url)));a&&(0,H.mutateSectionBlocks)({section:a,ownerId:t.owner_id,itemId:t.id,event:r.ListenMutateEventsType.RemoveVideo})})),target:ne}),(0,o.sample)({clock:Y,fn:()=>null,target:ne}),(0,o.sample)({clock:oe,fn:e=>({query:{block_id:e}}),target:ve}),(0,o.sample)({clock:oe,source:ie,fn:(e,t)=>{const a=e.sections.findIndex((({id:t})=>t===e.default_section));if(-1!==a){const o=[...e.sections],i=o[a].blocks,n=i?.findIndex((({id:e})=>e===t));if(!i||!n||-1===n)return e;const s=i[n-1],l=i[n+1];let c=n,d=1;return s?.layout?.name===r.CatalogBlockLayoutName.HEADER&&(--c,++d),i[n-2]?.layout?.name===r.CatalogBlockLayoutName.SEPARATOR&&(--c,++d),l?.layout?.name===r.CatalogBlockLayoutName.SEPARATOR&&++d,i.splice(c,d),{...e,sections:[...o]}}return e},target:ne}),(0,o.sample)({clock:Q,target:ce}),(0,o.sample)({clock:re,fn:({block_id:e,start_from:t})=>({query:{block_id:e,start_from:t}}),target:Se}),(0,o.sample)({clock:Se.doneData,target:ge}),ge.reset(te),{storiesService:he,videoService:Ce,pageService:fe,suggestionsService:Ie,actionsService:Ee,groupsService:ke,groupCategoryItemsService:ye,groupCollectionItemsService:Te,linksService:Ae,profilesService:Re,playlistService:xe,onboardingService:Le,layoutService:Oe,catalogUsersService:be,clipsService:we,appsService:Ve,marketItemsService:Pe,searchRecentService:Ne,placeholdersService:Be,searchSpellcheckersService:Me,newsfeedItemsService:De,postsService:je,stickersService:Ge,musicPlaylistsService:Fe,audioService:Ue,searchEntityItemsService:He,navigationTabsService:$e,VKLiveChannelsService:ze,VKLiveCategoryService:We,classifiedsCategoryTreeService:Ke,radioStationsService:Ye,textsService:qe,catalogService:{fireSetCatalog:K,fireClearCatalog:a,fireClearUpdatedCatalog:Y,fireRemoveBlocks:q,fireLoadingBlockIds:Q,fireSetSections:Z,fireGetSection:X,fireAbortGetSection:J,fireClearSectionResponse:ee,fireClearCatalogGetBlockItemsResponse:te,fireUpdateNextFrom:ae,fireHideBlock:oe,fireGetBlockItems:re,$catalog:ie,$updatedCatalog:ne,$sectionResponse:se,$sections:le,$loadingBlockIds:ce,$lastSectionId:de,$nextFrom:ue,$isSectionPending:_e,$fetchSectionError:pe,$catalogGetBlockItemsResponse:ge,GetSectionEffectFx:me,CatalogGetBlockItemsFx:Se},fireSetExtendedData:W,fireSetIsStandaloneSection:t,fireClearCatalog:a,domain:z,$isStandaloneSection:e}}},432448:(e,t,a)=>{a.d(t,{createAppsService:()=>i});var o=a(32489),r=a(679005);const i=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"apps"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.mini_apps?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.mini_apps.forEach((t=>e.set(t.id,t)))})),target:a}),(0,o.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.games?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.games.forEach((t=>e.set(t.id,t)))})),target:a}),{$apps:a}}},757230:(e,t,a)=>{a.d(t,{createAudioService:()=>s});var o=a(55617),r=a(32489),i=a(679005),n=a(538522);const s=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"audioItems"}),s=e.createStore({},{name:"audioModifiedItems"}),l=e.createEvent(),c=e.createEvent(),d=e.createEffect((e=>(0,o.addAudio)(e))),u=e.createEffect((e=>(0,o.deleteAudio)(e))),_=e.createEffect((e=>(0,o.restoreAudio)(e)));return(0,r.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.audios?.length),fn:(e,t)=>(0,i.produce)(e,(e=>{t.audios.forEach((t=>e.set((0,n.joinRawId)({ownerId:t.owner_id,itemId:t.id}),t)))})),target:a}),(0,r.sample)({clock:t,fn:()=>({}),target:s}),(0,r.sample)({clock:l,source:s,filter:(e,t)=>{const{audio_id:a}=t;return!e[a]?.isDeleted},fn:(e,t)=>t,target:d}),(0,r.sample)({clock:l,source:s,filter:(e,t)=>{const{audio_id:a}=t;return!!e[a]?.isDeleted},fn:(e,t)=>t,target:_}),(0,r.sample)({clock:d.done,source:s,filter:(e,{result:t})=>!!t?.items?.length,fn:(e,{params:t,result:a})=>(0,i.produce)(e,(e=>{const{audio_id:o,user_id:r}=t,i=a?.items||[],{new_audio_id:n}=i.length?i[0]:{};if(n){const t={newAudioId:n,ownerId:r,isAdded:!0};e[o]=t}})),target:s}),(0,r.sample)({clock:_.done,source:s,filter:(e,{result:t})=>!!t,fn:(e,{params:t})=>(0,i.produce)(e,(e=>{const{audio_id:a}=t;e[a]?.isDeleted&&delete e[a]})),target:s}),(0,r.sample)({clock:c,source:s,fn:(e,t)=>{const{audio_id:a}=t,{newAudioId:o,ownerId:r,isAdded:i}=e?.[a]||{};return i&&o?{...t,audio_id:o,owner_id:r,prev_audio_id:a}:t},target:u}),(0,r.sample)({clock:u.done,source:s,filter:(e,{result:t})=>1===t,fn:(e,{params:t})=>(0,i.produce)(e,(e=>{const{audio_id:a,prev_audio_id:o,owner_id:r}=t;o&&e[o].isAdded?delete e[o]:e[a]={ownerId:r,isDeleted:!0}})),target:s}),{$audioItems:a,$audioModifiedItems:s,addAudioToMyList:l,deleteAudioFromMyList:c}}},432276:(e,t,a)=>{a.d(t,{createCatalogUsersService:()=>l});var o=a(831505),r=a(55617),i=a(32489),n=a(679005),s=a(472658);const l=({domain:e,data:t,$profiles:a})=>{const l=e.createEvent("fire/AddFriend"),c=e.createEvent("fire/DeleteFriend"),d=e.createEvent("fire/CancelRequest"),u=e.createStore(new Map,{name:"catalogUsers"}),_=e.createStore([],{name:"deletableFriendsIds"}),p=e.createStore([],{name:"returnableFriendsIds"}),g=e.createStore([],{name:"pendingFriendsIds"}),m=e.createEffect({name:"fetch/AddFriend",handler:e=>(0,r.addFriend)(e)}),v=e.createEffect({name:"fetch/DeleteFriend",handler:e=>(0,r.deleteFriend)(e)}),S=e.createEffect({name:"fetch/DeleteFriend",handler:e=>(0,r.deleteFriend)(e)});return(0,i.sample)({clock:t,source:u,filter:(e,t)=>Boolean(t.catalog_users?.length),fn:(e,t)=>(0,n.produce)(e,(e=>{t.catalog_users.forEach((t=>e.set(t.item_id,t)))})),target:u}),(0,i.sample)({clock:[l,c,d],source:g,fn:(e,{user_id:t})=>(0,n.produce)(e,(e=>{e.includes(t)||e.push(t)})),target:g}),(0,i.sample)({clock:[m.done,v.done,S.done],source:g,fn:(e,{params:t})=>e.filter((e=>e!==t.user_id)),target:g}),(0,i.sample)({clock:l,target:m}),(0,i.sample)({clock:m.done,source:a,fn:(e,{params:t,result:a})=>(0,n.produce)(e,(e=>{const r=e.get(t.user_id);if(r)switch(a){case s.FRIENDS_STATUS_REQUEST.ADDED:r.friend_status=o.FriendsFriendStatusStatusEnumNames.IS_FRIEND;break;case s.FRIENDS_STATUS_REQUEST.REQUEST:case s.FRIENDS_STATUS_REQUEST.REPEAT:r.friend_status=o.FriendsFriendStatusStatusEnumNames.OUTCOMING_REQUEST}})),target:a}),(0,i.sample)({clock:c,target:v}),(0,i.sample)({clock:d,target:S}),(0,i.sample)({clock:[v.done,S.done],source:a,filter:(e,{result:t})=>Boolean(t.success),fn:(e,{params:t})=>(0,n.produce)(e,(e=>{const a=e.get(t.user_id);a&&(a.friend_status=o.FriendsFriendStatusStatusEnumNames.NOT_A_FRIEND)})),target:a}),(0,i.sample)({clock:m.done,source:_,fn:(e,{params:t})=>(0,n.produce)(e,(e=>{e.push(t.user_id)})),target:_}),(0,i.sample)({clock:v.done,source:_,fn:(e,{params:t})=>e.filter((e=>e!==t.user_id)),target:_}),(0,i.sample)({clock:v.done,source:p,fn:(e,{params:t})=>(0,n.produce)(e,(e=>{e.push(t.user_id)})),target:p}),(0,i.sample)({clock:m.done,source:p,fn:(e,{params:t})=>e.filter((e=>e!==t.user_id)),target:p}),{fireAddFriend:l,fireDeleteFriend:c,fireCancelRequest:d,$catalogUsers:u,$deletableFriendsIds:_,$returnableFriendsIds:p,$pendingFriendsIds:g,AddFriendEffectFx:m,DeleteFriendEffectFx:v,CancelRequestEffectFx:S}}},820734:(e,t,a)=>{a.d(t,{createClassifiedsCategoryTreeService:()=>i});var o=a(32489),r=a(679005);const i=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"classifiedsCategoryTree"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.classifieds_category_tree?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.classifieds_category_tree.forEach((t=>e.set(t.id,t)))})),target:a}),{$classifiedsCategoryTree:a}}},9123:(e,t,a)=>{a.d(t,{createClipsService:()=>i});var o=a(32489),r=a(679005);const i=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"clips"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.videos?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.videos.forEach((t=>{"short_video"===t.type&&e.set(`${t.owner_id}_${t.id}`,t)}))})),target:a}),{$clips:a}}},284763:(e,t,a)=>{a.d(t,{createGroupCategoryItemsService:()=>r});var o=a(32489);const r=({domain:e,data:t})=>{const a=e.createStore([],{name:"groupCategoryItems"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>!!t?.group_category_items?.length,fn:(e,t)=>{if(t?.group_category_items?.length){const a=t.group_category_items.filter((t=>-1===e.findIndex((e=>e.id===t.id))));return[...e,...a]}return e},target:a}),{$groupCategoryItems:a}}},819464:(e,t,a)=>{a.d(t,{createGroupCollectionItemsService:()=>r});var o=a(32489);const r=({domain:e,data:t})=>{const a=e.createStore([],{name:"groupCollectionItems"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>!!t?.group_collection_items?.length,fn:(e,t)=>{if(t?.group_collection_items?.length){const a=t.group_collection_items.filter((t=>-1===e.findIndex((e=>e.id===t.id))));return[...e,...a]}return e},target:a}),{$groupCollectionItems:a}}},454764:(e,t,a)=>{a.d(t,{createGroupsService:()=>d});var o=a(831505),r=a(755812),i=a(278116),n=a(929052),s=a(32489),l=a(679005),c=a(869071);const d=({domain:e,data:t,fetchStories:a})=>{const d=e.createEvent("fire/JoinGroup"),u=e.createEvent("fire/LeaveGroup"),_=e.createEvent("fire/AddGroupToFave"),p=e.createEvent("fire/GroupSubscribe"),g=e.createEvent("fire/GroupUnsubscribe"),m=e.createEvent("fire/RemoveGroupFromFave"),v=e.createEvent("fire/CheckStories"),S=e.createEvent("fire/AllowLeaveGroup"),h=e.createStore(new Map,{name:"groups"}),C=e.createStore([],{name:"groupsToLeave"}),f=e.createStore([],{name:"groupsLeft"}),I=e.createStore([],{name:"groupPendingIds"}),E=(0,r.createGroupsJoinFx)({domain:e}),k=(0,r.createGroupsLeaveFx)({domain:e}),y=(0,i.createFaveAddGroupFx)({domain:e}),T=(0,i.createFaveRemoveGroupFx)({domain:e}),A=(0,n.createWallSubscribeFx)({domain:e}),R=(0,n.createWallUnsubscribeFx)({domain:e});return(0,c.connectTrackTmrGroupsJoin)(E),(0,s.sample)({clock:t,source:h,filter:(e,t)=>Boolean(t.groups?.length),fn:(e,t)=>(0,l.produce)(e,(e=>{t.groups.forEach((t=>e.set(t.id,t)))})),target:h}),(0,s.sample)({clock:v,fn:e=>({owner_id:e}),target:a}),(0,s.sample)({clock:a.done,source:h,fn:(e,{params:t,result:a})=>(0,l.produce)(e,(e=>{const o=e.get(Math.abs(t.owner_id));o&&(o.has_unseen_stories=Boolean(a.items.find((e=>e.name===o.name))?.has_unseen))})),target:h}),(0,s.sample)({clock:[d,u,_,m],source:I,filter:(e,t)=>!!t?.group_id&&!e.includes(t.group_id),fn:(e,t)=>t?.group_id?[...e,t.group_id]:e,target:I}),(0,s.sample)({clock:[E.done,k.done,y.done,T.done,E.fail,k.fail,y.fail,T.fail],source:I,filter:(e,{params:t})=>!!t?.query?.group_id,fn:(e,{params:t})=>t?.query?.group_id?e.filter((e=>e!==t.query.group_id)):e,target:I}),(0,s.sample)({clock:[p,g],source:I,filter:(e,t)=>!!t?.owner_id&&!e.includes(t.owner_id),fn:(e,t)=>t?.owner_id?[...e,Math.abs(t.owner_id)]:e,target:I}),(0,s.sample)({clock:[A.done,R.done],source:I,filter:(e,{params:t})=>!!t?.query?.owner_id,fn:(e,{params:t})=>t?.query?.owner_id?e.filter((e=>e!==Math.abs(t.query.owner_id))):e,target:I}),(0,s.sample)({clock:d,fn:e=>({query:{...e}}),target:E}),(0,s.sample)({clock:E.done,source:h,filter:(e,{params:t,result:a})=>Boolean(t.query.group_id&&1===a),fn:(e,{params:t,result:a})=>(0,l.produce)(e,(e=>{const r=t.query.group_id?e.get(Math.abs(t.query.group_id)):null;r&&(r.is_member=a,r.member_status=o.GroupsGroupFullMemberStatusEnumNames.HAS_SENT_A_REQUEST)})),target:h}),(0,s.sample)({clock:E.done,fn:({params:e})=>e.query,target:S}),(0,s.sample)({clock:u,fn:e=>({query:{...e}}),target:k}),(0,s.sample)({clock:k.done,source:h,filter:(e,{params:t,result:a})=>Boolean(t.query.group_id&&1===a),fn:(e,{params:t})=>(0,l.produce)(e,(e=>{const a=e.get(Math.abs(t.query.group_id));a&&(a.is_member=0,a.member_status=o.GroupsGroupFullMemberStatusEnumNames.NOT_A_MEMBER)})),target:h}),(0,s.sample)({clock:_,fn:e=>({query:{...e}}),target:y}),(0,s.sample)({clock:y.done,source:h,filter:(e,{params:t})=>Boolean(t.query.group_id),fn:(e,{params:t})=>(0,l.produce)(e,(e=>{const a=e.get(Math.abs(t.query.group_id));a&&(a.is_favorite=1)})),target:h}),(0,s.sample)({clock:m,fn:e=>({query:{...e}}),target:T}),(0,s.sample)({clock:T.done,source:h,filter:(e,{params:t})=>Boolean(t.query.group_id),fn:(e,{params:t})=>(0,l.produce)(e,(e=>{const a=e.get(Math.abs(t.query.group_id));a&&(a.is_favorite=0)})),target:h}),(0,s.sample)({clock:p,fn:e=>({query:{...e}}),target:A}),(0,s.sample)({clock:A.done,source:h,filter:(e,{params:t})=>Boolean(t.query.owner_id),fn:(e,{params:t})=>(0,l.produce)(e,(e=>{const a=e.get(Math.abs(t.query.owner_id));a&&(a.is_subscribed=1)})),target:h}),(0,s.sample)({clock:g,fn:e=>({query:{...e}}),target:R}),(0,s.sample)({clock:R.done,source:h,filter:(e,{params:t})=>Boolean(t.query.owner_id),fn:(e,{params:t})=>(0,l.produce)(e,(e=>{const a=e.get(Math.abs(t.query.owner_id));a&&(a.is_subscribed=0)})),target:h}),(0,s.sample)({clock:S,source:C,filter:(e,t)=>!!t?.group_id,fn:(e,t)=>t?.group_id?[...e,t.group_id]:e,target:C}),(0,s.sample)({clock:k.done,source:C,filter:(e,{params:t})=>!!t?.query?.group_id,fn:(e,{params:t})=>t?.query?.group_id?e.filter((e=>e!==t?.query?.group_id)):e,target:C}),(0,s.sample)({clock:k.done,source:f,fn:(e,{params:t})=>t?.query?.group_id?[...e,t.query.group_id]:e,target:f}),{fireJoinGroup:d,fireLeaveGroup:u,fireAddGroupToFave:_,fireGroupSubscribe:p,fireGroupUnsubscribe:g,fireRemoveGroupFromFave:m,$groups:h,$groupsToLeave:C,$groupsLeft:f,$groupPendingIds:I,JoinGroupEffectFx:E,LeaveGroupEffectFx:k}}},308631:(e,t,a)=>{a.d(t,{appCatalogService:()=>i,createAppCatalogService:()=>o.createAppCatalogService,isNewsfeedItemWallpost:()=>r.isNewsfeedItemWallpost});var o=a(448319),r=a(182427);const i=(0,o.createAppCatalogService)()},703330:(e,t,a)=>{a.d(t,{createLayoutService:()=>u});var o=a(474848),r=a(32489),i=a(174269),n=a(418755),s=a(866467),l=a(856289),c=a(25114),d=a(101272);const u=({domain:e,LikeVideoEffectFx:t,DislikeVideoEffectFx:a,AddVideoToFaveEffectFx:u,RemoveVideoFromFaveEffectFx:_,AddVideoToPlaylistsEffectFx:p,RemoveVideoFromPlaylistsEffectFx:g,AddVideoToMyVideosEffectFx:m,RemoveVideoFromMyVideosEffectFx:v,RemoveVideoFromHistoryEffectFx:S,fireCompleteOnboarding:h,$playlistItems:C,SaveOnboardingEffectFx:f})=>{const I=e.createEvent(),E=e.createEvent(),k=e.createEvent(),y=e.createEvent("fire/ScrollToBlock"),T=(0,r.restore)(I,null),A=(0,r.restore)(k,null),R=e.createStore(null,{name:"scrollToBlock"}),x=e.createEffect("showSnackbarEffectFx");return x.use((({onClose:e,...t})=>{I((0,o.jsx)(i.CatalogSnackbar,{onClose:()=>{I(null),e&&e()},...t}))})),(0,r.sample)({clock:E,target:x}),(0,r.sample)({clock:[t.finally,a.finally,u.finally,_.finally,p.finally,g.finally,m.finally,v.finally,S.finally],filter:e=>"fail"===e.status,fn:()=>({isError:!0,event:i.SNACKBAR_EVENTS.ERROR}),target:E}),(0,r.sample)({clock:u.done,fn:()=>(0,c.isAppPromoSlowYtSnackbarEnabled)()?((0,d.saveStatlogEvents)({name:i.APP_PROMO_SLOW_YT_SNACKBAR_EVENT_TYPE,value:i.AppPromoSlowYtSnackbarEventTypes.MVK_APP_PROMO_SLOW_YT_SNACKBAR_SHOW,keys:[window.cur.screen]}),(0,c.getAppPromoSlowYtSnackbarProps)()):{event:i.SNACKBAR_EVENTS.ADD_TO_FAVE},target:E}),(0,r.sample)({clock:_.done,fn:()=>({event:i.SNACKBAR_EVENTS.REMOVE_FROM_FAVE}),target:E}),(0,r.sample)({clock:p.done,source:C,filter:(e,{result:t})=>Boolean(t),fn:(e,{result:t})=>{if(Array.isArray(t)&&1===t.length){const a=e.find((({id:e})=>e===t[0]));if(a)return{content:`${(0,s.getLang)("mobile_video_added_to_playlist")} «${a.title}»`,action:(0,s.getLang)("mobile_video_showcase_form_upload_goto_video"),actionLink:(0,l.getPlaylistURL)(a.owner_id,a.id),layout:"horizontal"}}return{event:i.SNACKBAR_EVENTS.ADD_TO_PLAYLISTS}},target:E}),(0,r.sample)({clock:g.done,filter:({result:e})=>Boolean(e),fn:({result:e})=>Array.isArray(e)&&1===e.length?{event:i.SNACKBAR_EVENTS.REMOVE_FROM_PLAYLIST}:{event:i.SNACKBAR_EVENTS.REMOVE_FROM_PLAYLISTS},target:E}),(0,r.sample)({clock:m.done,fn:()=>({event:i.SNACKBAR_EVENTS.ADD_TO_MY}),target:E}),(0,r.sample)({clock:v.done,fn:({params:e})=>({event:(0,n.isCurrentUserId)(e.target_id)?i.SNACKBAR_EVENTS.REMOVE_FROM_MY:i.SNACKBAR_EVENTS.REMOVE_FROM_GROUP}),target:E}),(0,r.sample)({clock:S.done,fn:()=>({event:i.SNACKBAR_EVENTS.REMOVE_FROM_HISTORY}),target:E}),(0,r.sample)({clock:f.done,filter:({result:e})=>1===e.code,fn:()=>({event:i.SNACKBAR_EVENTS.ONBOARDING_RELOAD_CATALOG,action:(0,s.getLang)("mobile_video_onboarding_snackbar_refresh_action"),onActionClick:()=>{h()},layout:"horizontal"}),target:E}),(0,r.sample)({clock:y,target:R}),{fireScrollToBlockById:y,setSnackbar:I,showSnackbar:E,setPopout:k,$snackbar:T,$popout:A,$scrollToBlockById:R,ShowSnackbarEffectFx:x}}},680241:(e,t,a)=>{a.d(t,{createLinksService:()=>i});var o=a(32489),r=a(679005);const i=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"links"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.links?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.links.forEach((t=>{t.id&&e.set(t.id,t)}))})),target:a}),{$links:a}}},822053:(e,t,a)=>{a.d(t,{createMarketItemsService:()=>c});var o=a(55617),r=a(32489),i=a(679005),n=a(612392),s=a(538522),l=a(468073);const c=({domain:e,data:t})=>{const a=e.createEvent("fire/MakeFavorite"),c=e.createEvent("fire/RemoveFavorite"),d=e.createEvent("fire/AddToCart"),u=e.createStore(new Map,{name:"marketItems"}),_=e.createStore([],{name:"marketItemPendingIds"}),p=e.createEffect({name:"fetch/MakeFavorite",handler:({params:e,successCallback:t})=>(0,o.faveAddProduct)(e).then((e=>(t?.(),e)))}),g=e.createEffect({name:"fetch/RemoveFavorite",handler:async e=>(0,o.faveRemoveProduct)(e)}),m=(0,n.createMarketAddToCartFx)({domain:e});return(0,r.sample)({clock:t,source:u,filter:(e,t)=>Boolean(t.market_items?.length),fn:(e,t)=>(0,i.produce)(e,(e=>{t.market_items.forEach((t=>e.set((0,s.joinRawId)({ownerId:t.owner_id,itemId:t.id}),t)))})),target:u}),(0,r.sample)({clock:a,target:p}),(0,r.sample)({clock:c,target:g}),(0,r.sample)({clock:p.done,source:u,filter:(e,{result:t})=>Boolean(t),fn:(e,{params:t})=>(0,i.produce)(e,(e=>{const a=e.get((0,s.joinRawId)({ownerId:t.params.owner_id,itemId:t.params.id}));a&&(a.is_favorite=!0)})),target:u}),(0,r.sample)({clock:g.done,source:u,filter:(e,{result:t})=>Boolean(t),fn:(e,{params:t})=>(0,i.produce)(e,(e=>{const a=e.get((0,s.joinRawId)({ownerId:t.owner_id,itemId:t.id}));a&&(a.is_favorite=!1)})),target:u}),(0,r.sample)({clock:a,source:_,filter:(e,{params:t})=>!e.includes((0,s.joinRawId)({ownerId:t.owner_id,itemId:t.id})),fn:(e,{params:t})=>(0,i.produce)(e,(e=>{e.push((0,s.joinRawId)({ownerId:t.owner_id,itemId:t.id}))})),target:_}),(0,r.sample)({clock:c,source:_,filter:(e,t)=>!e.includes((0,s.joinRawId)({ownerId:t.owner_id,itemId:t.id})),fn:(e,t)=>(0,i.produce)(e,(e=>{e.push((0,s.joinRawId)({ownerId:t.owner_id,itemId:t.id}))})),target:_}),(0,r.sample)({clock:p.done,source:_,fn:(e,{params:t})=>{const a=(0,s.joinRawId)({ownerId:t.params.owner_id,itemId:t.params.id});return e.filter((e=>e!==a))},target:_}),(0,r.sample)({clock:g.done,source:_,fn:(e,{params:t})=>{const a=(0,s.joinRawId)({ownerId:t.owner_id,itemId:t.id});return e.filter((e=>e!==a))},target:_}),(0,r.sample)({clock:d,fn:e=>({query:e}),target:m}),(0,r.sample)({clock:m.done,source:u,fn:(e,{params:{query:t}})=>(0,i.produce)(e,(e=>{const a=e.get((0,s.joinRawId)({itemId:t.item_id,ownerId:l.Ranges.convertGroupIdToOwnerId(t.group_id)}));a&&(a.cart_quantity=(a.cart_quantity??0)+t.quantity)})),target:u}),(0,r.sample)({clock:d,source:_,fn:(e,t)=>(0,i.produce)(e,(e=>{e.push((0,s.joinRawId)({itemId:t.item_id,ownerId:l.Ranges.convertGroupIdToOwnerId(t.group_id)}))})),target:_}),(0,r.sample)({clock:m.done,source:_,fn:(e,{params:{query:t}})=>{const a=(0,s.joinRawId)({itemId:t.item_id,ownerId:l.Ranges.convertGroupIdToOwnerId(t.group_id)});return e.filter((e=>e!==a))},target:_}),{fireMakeFavorite:a,fireRemoveFavorite:c,fireAddToCart:d,$marketItems:u,$marketItemPendingIds:_}}},494299:(e,t,a)=>{a.d(t,{createMusicPlaylistsService:()=>n});var o=a(32489),r=a(679005),i=a(538522);const n=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"musicPlaylists"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.playlists?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.playlists.forEach((t=>e.set((0,i.joinRawId)({ownerId:t.owner_id,itemId:t.id}),t)))})),target:a}),{$musicPlaylists:a}}},308587:(e,t,a)=>{a.d(t,{createNavigationTabsService:()=>i});var o=a(32489),r=a(679005);const i=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"navigationTabs"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.navigation_tabs?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.navigation_tabs.forEach((t=>e.set(t.id,t)))})),target:a}),{$navigationTabs:a}}},263836:(e,t,a)=>{a.d(t,{createNewsfeedItemsService:()=>i});var o=a(32489),r=a(679005);const i=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"newsFeedItems"}),i=e.createStore(new Map,{name:"reactions"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.newsfeed_items?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.newsfeed_items.forEach((({id:t,item:a})=>a&&e.set(t,a)))})),target:a}),(0,o.sample)({clock:t,source:i,filter:(e,t)=>Boolean(t.reaction_sets?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.reaction_sets.forEach((({id:t,items:a})=>e.set(t,a)))})),target:i}),{$newsFeedItems:a,$reactions:i}}},806533:(e,t,a)=>{a.d(t,{createOnboardingService:()=>n});var o=a(32489),r=a(55617),i=a(573856);const n=({domain:e})=>{const t=e.createEvent("fire/InitOnboardingOptions"),a=e.createEvent("fire/ToggleOnboardingOption"),n=e.createEvent("fire/SaveOnboarding"),s=e.createEvent("fire/CompleteOnboarding"),l=e.createStore([],{name:"onboardingOptions"}),c=e.createStore({status:i.OnboardingResponseStatus.IDLE},{name:"onboardingStatus"}),d=e.createEffect({name:"fetch/SaveOnboarding",handler:e=>(0,r.saveSelection)(e)});return(0,o.sample)({clock:n,target:d}),(0,o.sample)({clock:t,fn:e=>[...e],target:l}),(0,o.sample)({clock:a,source:l,fn:(e,t)=>e.map((e=>(t.replacement_id===e.replacement_id&&(e.selected=e.selected?0:1),e))),target:l}),(0,o.sample)({clock:d.done,filter:e=>1===e.result.code,fn:({result:e})=>({status:i.OnboardingResponseStatus.SUCCESS,message:e.message}),target:c}),(0,o.sample)({clock:d.fail,fn:()=>({status:i.OnboardingResponseStatus.ERROR}),target:c}),(0,o.sample)({clock:d.pending,filter:e=>e,fn:()=>({status:i.OnboardingResponseStatus.PENDING}),target:c}),(0,o.sample)({clock:s,fn:()=>({status:i.OnboardingResponseStatus.COMPLETE}),target:c}),{fireInitOptions:t,fireToggleOption:a,fireSaveOptions:n,fireCompleteOnboarding:s,$onboardingOptions:l,$onboardingStatus:c,SaveOnboardingEffectFx:d}}},573856:(e,t,a)=>{a.d(t,{OnboardingResponseStatus:()=>o});const o={IDLE:"IDLE",SUCCESS:"SUCCESS",ERROR:"ERROR",PENDING:"PENDING",COMPLETE:"COMPLETE"}},70343:(e,t,a)=>{a.d(t,{createPageService:()=>i});var o=a(49932),r=a(32489);const i=({domain:e})=>{const t=e.createEvent("fire/SetPageId"),a=e.createEvent("fire/SetCacheId"),i=e.createEvent("fire/SetCatalogType"),n=e.createStore("",{name:"pageId"}),s=e.createStore("",{name:"cacheId"}),l=e.createStore(o.CatalogType.SEARCH,{name:"catalogType"});return(0,r.sample)({clock:t,target:n}),(0,r.sample)({clock:a,target:s}),(0,r.sample)({clock:i,target:l}),{fireSetPageId:t,fireSetCacheId:a,fireSetCatalogType:i,$pageId:n,$cacheId:s,$catalogType:l}}},698062:(e,t,a)=>{a.d(t,{createPlaceholdersService:()=>i});var o=a(32489),r=a(679005);const i=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"placeholders"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.placeholders?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.placeholders.forEach((t=>t.id&&e.set(t.id,t)))})),target:a}),{$placeholders:a}}},674870:(e,t,a)=>{a.d(t,{createPlaylistService:()=>_});var o=a(6598),r=a(810780),i=a(32489),n=a(55617),s=a(538522),l=a(679005),c=a(8520),d=a(507380),u=a(418755);const _=({domain:e,data:t,removeVideoFromPlaylists:a,removeVideoFromMyVideos:_,$videoItems:p,$catalog:g})=>{const m=e.createStore([],{name:"playlistItems"}),v=e.createStore(new Set,{name:"playlistsSubscribeLoading"}),S=e.createEvent("subscribeOnPlaylist"),h=e.createEvent("unsubscribeFromPlaylist"),C=e.createEffect("fetch/SubscribeToPlaylist"),f=e.createEffect("fetch/UnsubscribeFromPlaylist"),I=e.createEvent(),E=e.createStore(null,{name:"playlists"}),k=e.createStore(null,{name:"playlistsByVideo"}),y=e.createStore(!1,{name:"needSort"}),T=e.createStore(null,{name:"randomVideo"}),A=e.createStore(!1,{name:"randomVideoError"}),R=e.createStore(null,{name:"shuffleKey"}),x=e.createEvent("fire/GetPlaylistsByVideo"),L=e.createEvent("fire/GetPlaylists"),O=e.createEvent("fire/NeedSortPlaylist"),b=e.createEvent("fire/GetRandomVideo"),w=e.createEvent("fire/ClearRandomVideoData"),V=e.createEffect("fetch/GetPlaylistsByVideo"),P=(0,o.pending)({effects:[V]}),N=e.createEffect("fetch/GetPlaylists"),B=(0,o.pending)({effects:[N]}),M=e.createEffect("action/ControllerAbort"),D=e.createEffect("fetch/GetRandomVideo"),j=(0,o.pending)({effects:[D]});return k.reset(x),T.reset(w),R.reset(w),A.reset(w),C.use((e=>(0,n.subscribeToVideoPlaylist)(e))),f.use((e=>(0,n.unsubscribeFromVideoPlaylist)(e))),(0,i.sample)({clock:t,source:m,filter:(e,t)=>!!t?.albums?.length,fn:(e,t)=>{const a=new Map(e.map(((e,t)=>[(0,s.joinRawId)({itemId:e.id,ownerId:e.owner_id}),t])));return(0,l.produce)(e,(e=>{t.albums?.length&&t.albums.forEach((t=>{const o=(0,s.joinRawId)({itemId:t.id,ownerId:t.owner_id}),r=a.get(o);(0,c.isNumber)(r)&&r>=0?e[r]=t:e.push(t)}))}))},target:m}),N.use((({params:e,controller:t})=>{const{signal:a}=t||{};return(0,n.getPlaylistsExtended)({extended:1,...e},{signal:a})})),V.use((({params:e,controller:t})=>{const{signal:a}=t||{};return(0,n.getPlaylistsByVideoExtended)({extended:1,...e},{signal:a})})),M.use((({controller:e})=>{e?.abort()})),(0,i.sample)({clock:O,target:y}),(0,i.sample)({clock:L,fn:e=>({params:e,controller:new AbortController}),target:N}),(0,i.sample)({clock:L,source:N,filter:N.pending.map((e=>e)),target:M}),(0,i.sample)({clock:x,fn:e=>({params:e,controller:new AbortController}),target:V}),(0,i.sample)({clock:x,source:V,filter:V.pending.map((e=>e)),target:M}),(0,i.sample)({clock:V.doneData,filter:e=>Boolean(e?.items),fn:e=>({items:e.items.filter((({is_system:e})=>!e)),count:e.count}),target:k}),(0,i.sample)({clock:N.done,source:E,filter:(e,{result:t})=>Boolean(t?.items),fn:(e,{result:t,params:a})=>e&&a.params.offset?(0,l.produce)(e,(e=>{e.items.push(...t.items),e.count=t.count})):t,target:E}),(0,i.sample)({clock:[N.doneData,V.doneData],filter:e=>Boolean(e?.items),fn:e=>({albums:e.items}),target:t}),(0,i.sample)({clock:S,target:C}),(0,i.sample)({clock:h,target:f}),(0,i.sample)({clock:I,source:m,fn:(e,{album_id:t,owner_id:a,is_subscribed:o})=>(0,l.produce)(e,(e=>{const r=e.find((e=>e.id===t&&e.owner_id===a));r&&(r.is_subscribed=o)})),target:m}),(0,i.sample)({clock:C.done,filter:({result:e})=>Boolean(e),fn:({params:e})=>({...e,is_subscribed:!0}),target:I}),(0,i.sample)({clock:f.done,filter:({result:e})=>Boolean(e),fn:({params:e})=>({...e,is_subscribed:!1}),target:I}),(0,i.sample)({clock:[S,h],source:v,fn:(e,{album_id:t,owner_id:a})=>(0,l.produce)(e,(e=>{void 0!==t&&e.add((0,s.joinRawId)({ownerId:a,itemId:t}))})),target:v}),(0,i.sample)({clock:[C.done,f.done],source:v,fn:(e,{params:t})=>(0,l.produce)(e,(e=>{const{album_id:a,owner_id:o}=t;void 0!==a&&e.delete((0,s.joinRawId)({ownerId:o,itemId:a}))})),target:v}),(0,i.sample)({clock:[a.done,_.done],source:{playlistItems:m,videoItems:p,catalog:g},filter:({playlistItems:e,catalog:t},{result:a})=>(0,u.checkRequestResultForPlaylist)(a,t.sections,e),fn:({playlistItems:e,videoItems:t,catalog:a},{params:o})=>(0,l.produce)(e,(e=>{const r=a.sections.find((e=>(0,u.testPlaylistSection)(e?.url))),i=r?.blocks?.[0]?.albums_ids?.[0];if(r&&i){const a=e?.find((e=>(0,s.joinFullId)(e.owner_id,e.id)===i));if(a){if(t?.length){const e=t.find((e=>e.id===o.video_id&&e?.image?.[0]?.url&&e.image[0].url===a.image?.[0]?.url));if(e){const o=r.blocks?.find((e=>e.videos_ids?.length)),i=(0,s.joinFullId)(Number(e.owner_id),Number(e.id)),n=o?.videos_ids?.find((e=>e!==i)),l=t.find((e=>(0,s.joinFullId)(Number(e.owner_id),Number(e.id))===n));a.image=l?.image,a.cover_video_restriction=l?.restriction,l?.restriction?.blur&&(a.image_blur=l?.restriction?.blur)}}a.count--}}})),target:m}),(0,i.sample)({clock:b,fn:e=>({params:e,controller:new AbortController}),target:D}),D.use((({params:e,controller:t})=>{const{signal:a}=t||{};return(0,n.getVideosFromAlbum)({count:1,...e},{signal:a})})),(0,i.sample)({clock:D.failData,filter:e=>!!e?.error&&!(0,d.isRequestAbortError)(e.error),fn:()=>!0,target:A}),(0,i.sample)({clock:[b,w],source:D,filter:D.pending.map((e=>e))}).watch((({controller:e})=>{e?.abort()})),(0,i.sample)({clock:D.done,filter:({params:{params:e},result:t})=>Boolean(t?.items[0]?.video&&e.shuffle_key),fn:({params:{params:e},result:t})=>({randomVideo:t.items[0].video||null,shuffleKey:e.shuffle_key||null}),target:(0,r.spread)({targets:{randomVideo:T,shuffleKey:R}})}),{$playlistItems:m,$playlistsSubscribeLoading:v,$playlists:E,$playlistsByVideo:k,$pendingPlaylistsByVideo:P,$pendingPlaylists:B,subscribeOnPlaylist:S,unsubscribeFromPlaylist:h,updatePlaylistSubscriptionState:I,fireGetPlaylistsByVideo:x,fireGetPlaylists:L,fireNeedSortPlaylist:O,$needSortPlaylist:y,UnsubscribeFromPlaylistEffectFx:f,SubscribeToPlaylistEffectFx:C,fireGetRandomVideo:b,$shuffleKey:R,$randomVideo:T,$randomVideoPending:j,$randomVideoError:A,fireClearRandomVideoData:w}}},866870:(e,t,a)=>{a.d(t,{createPostsService:()=>l});var o=a(308631),r=a(754908),i=a(55617),n=a(32489),s=a(679005);a(182427);const l=({domain:e,data:t})=>{const a=e.createEvent("fire/FaveAddPost"),l=e.createEvent("fire/FaveRemovePost"),c=e.createEvent("fire/LikePost"),d=e.createEvent("fire/DislikePost"),u=e.createEvent("fire/AgreeBlurRestriction"),_=e.createEvent("fire/ExpandPostText"),p=e.createEvent("fire/ExpandPostAttachments"),g=e.createEvent("fire/ViewPost"),m=e.createStore(new Map,{name:"posts"}),v=e.createStore([],{name:"pendingPostIds"}),S=e.createStore(new Set,{name:"viewedPostIds"}),h=e.createStore(new Map,{name:"postExpandedStates"}),C=e.createEffect({name:"fetch/FaveAddPost",handler:({params:e,successCallback:t})=>(0,i.faveAddPost)(e).then((e=>(t?.(),e)))}),f=e.createEffect({name:"fetch/FaveRemovePost",handler:i.faveRemovePost}),I=e.createEffect({name:"fetch/LikePost",handler:e=>(0,i.likeAdd)({...e,type:"post"})}),E=e.createEffect({name:"fetch/DislikePost",handler:e=>(0,i.likeDelete)({...e,type:"post"})}),k=e.createEffect({name:"fetch/AgreeBlurRestriction",handler:i.agreeBlurRestriction});return(0,n.sample)({clock:t,source:m,filter:(e,t)=>Boolean(t.newsfeed_items?.length),fn:(e,t)=>(0,s.produce)(e,(e=>{t.newsfeed_items.forEach((({item:t})=>{(0,o.isNewsfeedItemWallpost)(t)&&e.set((0,r.getPostRawId)(t),t)}))})),target:m}),(0,n.sample)({clock:a,target:C}),(0,n.sample)({clock:l,target:f}),(0,n.sample)({clock:u,target:k}),(0,n.sample)({clock:C.done,source:m,filter:(e,{result:t})=>Boolean(t),fn:(e,{params:t})=>(0,s.produce)(e,(e=>{const a=e.get((0,r.getPostRawId)(t.params));a&&(a.is_favorite=!0)})),target:m}),(0,n.sample)({clock:f.done,source:m,filter:(e,{result:t})=>Boolean(t),fn:(e,{params:t})=>(0,s.produce)(e,(e=>{const a=e.get((0,r.getPostRawId)(t));a&&(a.is_favorite=!1)})),target:m}),(0,n.sample)({clock:c,target:I}),(0,n.sample)({clock:d,target:E}),(0,n.sample)({clock:[I.done,E.done],source:m,fn:(e,{params:t,result:a})=>(0,s.produce)(e,(e=>{const o=e.get((0,r.getPostRawId)(t));o&&(o.reactions=a.reactions)})),target:m}),(0,n.sample)({clock:a,source:v,fn:(e,{params:t})=>(0,s.produce)(e,(e=>{e.push((0,r.getPostRawId)(t))})),target:v}),(0,n.sample)({clock:[l,c,d],source:v,fn:(e,t)=>(0,s.produce)(e,(e=>{e.push((0,r.getPostRawId)(t))})),target:v}),(0,n.sample)({clock:[f.done,I.done,E.done],source:v,fn:(e,{params:t})=>e.filter((e=>e!==(0,r.getPostRawId)(t))),target:v}),(0,n.sample)({clock:C.done,source:v,fn:(e,{params:t})=>e.filter((e=>e!==(0,r.getPostRawId)(t.params))),target:v}),(0,n.sample)({clock:_,source:h,fn:(e,t)=>(0,s.produce)(e,(e=>{const a=e.get(t);a?a.textExpanded=!0:e.set(t,{textExpanded:!0})})),target:h}),(0,n.sample)({clock:p,source:h,fn:(e,t)=>(0,s.produce)(e,(e=>{const a=e.get(t);a?a.attachmentsExpanded=!0:e.set(t,{attachmentsExpanded:!0})})),target:h}),(0,n.sample)({clock:g,source:S,fn:(e,t)=>(0,s.produce)(e,(e=>{e.add(t)})),target:S}),{fireFaveAddPost:a,fireFaveRemovePost:l,fireLikePost:c,fireDislikePost:d,fireAgreeBlurRestriction:u,fireExpandPostText:_,fireExpandPostAttachments:p,$posts:m,$pendingPostIds:v,$postExpandedStates:h}}},182427:(e,t,a)=>{a.d(t,{isNewsfeedItemWallpost:()=>r});const o="post",r=e=>e?.type===o},901430:(e,t,a)=>{a.d(t,{createProfilesService:()=>i});var o=a(32489),r=a(679005);const i=({domain:e,data:t,fetchStories:a})=>{const i=e.createEvent("fire/CheckStories"),n=e.createStore(new Map,{name:"profiles"});return(0,o.sample)({clock:t,source:n,filter:(e,t)=>Boolean(t.profiles?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.profiles.forEach((t=>e.set(t.id,t)))})),target:n}),(0,o.sample)({clock:i,fn:e=>({owner_id:Math.abs(e)}),target:a}),(0,o.sample)({clock:a.done,source:n,fn:(e,{params:t,result:a})=>(0,r.produce)(e,(e=>{const o=e.get(t.owner_id);o&&(o.has_unseen_stories=Boolean(a.items.find((e=>e.name===o.first_name))?.has_unseen))})),target:n}),{fireCheckUserStories:i,$profiles:n}}},15573:(e,t,a)=>{a.d(t,{createRadioStationsService:()=>n});var o=a(32489),r=a(679005),i=a(55617);const n=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"radioStations"}),n=e.createStore([],{name:"loadingRadioStations"}),s=e.createEvent(),l=e.createEvent(),c=e.createEffect(i.followRadioStation),d=e.createEffect(i.unfollowRadioStation);return(0,o.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.radio_stations?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.radio_stations.forEach((t=>e.set(t.id,t)))})),target:a}),(0,o.sample)({clock:s,target:c}),(0,o.sample)({clock:l,target:d}),(0,o.sample)({clock:c.done,source:a,filter:(e,{result:t})=>1===t,fn:(e,{params:t})=>(0,r.produce)(e,(e=>{const a=e.get(t.station_id);a&&(a.is_followed=!0)})),target:a}),(0,o.sample)({clock:d.done,source:a,filter:(e,{result:t})=>1===t,fn:(e,{params:t})=>(0,r.produce)(e,(e=>{const a=e.get(t.station_id);a&&(a.is_followed=!1)})),target:a}),(0,o.sample)({clock:[s,l],source:n,fn:(e,t)=>[...e,t.station_id],target:n}),(0,o.sample)({clock:[c.done,d.done],source:n,filter:(e,{result:t})=>1===t,fn:(e,{params:t})=>e.filter((e=>e!==t.station_id)),target:n}),{$radioStations:a,$loadingRadioStations:n,fireFollowRadioStation:s,fireUnfollowRadioStation:l}}},555671:(e,t,a)=>{a.d(t,{createSearchRecentService:()=>i});var o=a(32489),r=a(55617);const i=({domain:e})=>{const t=e.createEvent("fire/AddRecent"),a=e.createEvent("fire/ClearRecent"),i=e.createEvent("fire/GroupsRemoveRecent"),n=e.createEffect({name:"fetch/AddRecent",handler:async e=>(0,r.addRecent)(e)}),s=e.createEffect({name:"fetch/ClearRecent",handler:async e=>(0,r.clearSearchRecent)(e)}),l=e.createEffect({name:"fetch/RemoveRecent",handler:e=>(0,r.groupsRemoveRecent)(e)});return(0,o.sample)({clock:t,target:n}),(0,o.sample)({clock:a,target:s}),(0,o.sample)({clock:i,target:l}),{fireAddRecent:t,fireClearSearchRecent:a,fireGroupsRemoveRecent:i}}},232933:(e,t,a)=>{a.d(t,{createEntitiesSearchEntityItemsService:()=>i});var o=a(32489),r=a(679005);const i=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"searchEntityItems"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.search_entity_items?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.search_entity_items.forEach((t=>{"vk_person"===t.type&&e.set(t.id,t)}))})),target:a}),{$searchEntityItems:a}}},587869:(e,t,a)=>{a.d(t,{createSearchSpellcheckersService:()=>r});var o=a(32489);const r=({domain:e,data:t})=>{const a=e.createStore([],{name:"searchSpellcheckers"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>!!t?.search_spellcheckers?.length,fn:(e,t)=>{if(t?.search_spellcheckers?.length){const a=t.search_spellcheckers.filter((t=>-1===e.findIndex((e=>e.id===t.id))));return[...e,...a]}return e},target:a}),{$searchSpellcheckers:a}}},578452:(e,t,a)=>{a.d(t,{createStickersService:()=>i});var o=a(32489),r=a(679005);const i=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"stickersPackPreviews"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.stickers_pack_previews?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.stickers_pack_previews.forEach((t=>e.set(t.id,t)))})),target:a}),{$stickersPackPreviews:a}}},170053:(e,t,a)=>{a.d(t,{createStoriesService:()=>i});var o=a(32489),r=a(55617);const i=({domain:e})=>{const t=e.createStore((()=>({})),{name:"storiesOpener"}),a=e.createEvent("fire/SetStoriesOpener"),i=e.createEvent("fire/OpenStories"),n=e.createEffect({name:"action/OpenStories",handler:({ownerId:e,openStories:t=()=>({}),storiesCallback:a=()=>!1})=>{t(`${e}/owner_feed${e}`,{source:"avatar",ownerId:e},{onClose:a})}}),s=e.createEffect({name:"action/FetchStories",handler:async e=>await(0,r.getStories)(e)});return(0,o.sample)({clock:i,source:t,fn:(e,t)=>({...t,openStories:e}),target:n}),(0,o.sample)({clock:a,target:t}),{fireSetStoriesOpener:a,fireOpenStories:i,FetchStoriesEffectFx:s}}},165853:(e,t,a)=>{a.d(t,{createSuggestionsService:()=>n});var o=a(55617),r=a(32489),i=a(679005);const n=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"suggestions"}),n=e.createEvent("fire/RemoveSearchRecentQuery"),s=e.createEffect({name:"fetch/RemoveSearchRecentQuery",handler:e=>{(0,o.removeSearchRecentQuery)(e)}});return(0,r.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.suggestions?.length),fn:(e,t)=>(0,i.produce)(e,(e=>{t.suggestions.forEach((t=>t.id&&e.set(t.id,t)))})),target:a}),(0,r.sample)({clock:n,fn:({params:e})=>e,target:s}),{$suggestions:a,fireRemoveSearchRecentQuery:n}}},345192:(e,t,a)=>{a.d(t,{createTextsService:()=>i});var o=a(32489),r=a(679005);const i=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"texts"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.texts?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.texts.forEach((t=>t.id&&e.set(t.id,t)))})),target:a}),{$texts:a}}},490999:(e,t,a)=>{a.d(t,{createVideoService:()=>l});var o=a(55617),r=a(538522),i=a(32489),n=a(679005),s=a(8520);const l=({domain:e,data:t,$catalog:a})=>{const l=e.createStore([],{name:"videoItems"}),c=e.createStore({},{name:"notOwnerRecommend"}),d=e.createStore({},{name:"notInterestedVideos"}),u=e.createStore(null,{name:"addToPlaylistModal"}),_=e.createEvent("openVideoActions"),p=e.createEvent("openAddToPlaylistModal"),g=e.createEvent("likeVideo"),m=e.createEvent("dislikeVideo"),v=e.createEvent("addVideoToFave"),S=e.createEvent("removeVideoFromFave"),h=e.createEvent("addVideoToWatchLater"),C=e.createEvent("removeVideoFromWatchLater"),f=e.createEvent("addVideoToPlaylist"),I=e.createEvent("removeVideoFromPlaylist"),E=e.createEvent("addVideoToMyVideos"),k=e.createEvent("removeVideoFromMyVideos"),y=e.createEvent("removeVideoFromHistory"),T=e.createEvent("markVideoNotInterested"),A=e.createEvent("markVideoNotOwnerRecommend"),R=e.createEvent("addVideoToMyVideosWithoutEffect"),x=e.createEvent("removeVideoFromMyVideosWithoutEffect"),L=e.createEffect({name:"fetch/likeVideo",handler:e=>(0,o.likeAdd)(e)}),O=e.createEffect({name:"fetch/dislikeVideo",handler:e=>(0,o.likeDelete)(e)}),b=e.createEffect({name:"fetch/addVideoToFave",handler:e=>(0,o.faveAddVideo)(e)}),w=e.createEffect({name:"fetch/removeVideoFromFave",handler:e=>(0,o.faveRemoveVideo)(e)}),V=e.createEffect({name:"fetch/addVideoToWatchLater",handler:e=>(0,o.faveAddVideo)(e)}),P=e.createEffect({name:"fetch/removeVideoFromWatchLater",handler:e=>(0,o.faveRemoveVideo)(e)}),N=e.createEffect({name:"fetch/addVideoToPlaylist",handler:e=>(0,o.addToPlaylist)(e)}),B=e.createEffect({name:"fetch/removeVideoFromPlaylist",handler:e=>(0,o.removeFromPlaylist)(e)}),M=e.createEffect({name:"fetch/addVideoToMyVideos",handler:e=>(0,o.addVideo)(e)}),D=e.createEffect({name:"fetch/removeVideoFromMyVideos",handler:e=>(0,o.deleteVideo)(e)}),j=e.createEffect({name:"fetch/removeVideoFromHistory",handler:e=>(0,o.removeViewingHistoryRecords)({video_ids:(0,r.joinFullId)(e.owner_id,e.video_id)})}),G=e.createEffect({name:"fetch/markVideoNotInterested",handler:({params:e})=>(0,o.markNotInterested)(e)}),F=e.createEffect({name:"fetch/notRecommendOwner",handler:({params:e})=>(0,o.markNotOwnerRecommend)(e)});return(0,i.sample)({clock:g,target:L}),(0,i.sample)({clock:m,target:O}),(0,i.sample)({clock:v,target:b}),(0,i.sample)({clock:S,target:w}),(0,i.sample)({clock:f,target:N}),(0,i.sample)({clock:h,target:V}),(0,i.sample)({clock:C,target:P}),(0,i.sample)({clock:I,target:B}),(0,i.sample)({clock:E,target:M}),(0,i.sample)({clock:k,target:D}),(0,i.sample)({clock:y,target:j}),(0,i.sample)({clock:T,source:a,filter:e=>Boolean(e),fn:(e,t)=>({sectionId:e.default_section,params:t}),target:G}),(0,i.sample)({clock:A,source:a,filter:e=>Boolean(e),fn:(e,t)=>({sectionId:e.default_section,params:t}),target:F}),(0,i.sample)({clock:p,target:u}),(0,i.sample)({clock:t,source:l,filter:(e,t)=>Boolean(t?.videos?.length),fn:(e,t)=>{const a=e=>void 0!==e.id&&void 0!==e.owner_id?(0,r.joinRawId)({itemId:e.id,ownerId:e.owner_id}):e.id,o=new Map(e.map(((e,t)=>[a(e),t]))),i=new Map(t.videos?.map(((e,t)=>[a(e),t])));return(0,n.produce)(e,(e=>{t.videos?.length&&t.videos.forEach(((t,r)=>{const n=a(t),l=o.get(n);(0,s.isNumber)(l)&&l>=0?e[l]=t:i.get(n)===r&&e.push(t)}))}))},target:l}),(0,i.sample)({clock:L.done,source:l,filter:(e,{result:t})=>Boolean(t&&t.likes>-1),fn:(e,{params:t,result:a})=>(0,n.produce)(e,(e=>{const o=e.find((e=>e.id===t.item_id&&e.owner_id===t.owner_id));o&&(o.likes={count:a.likes,user_likes:1})})),target:l}),(0,i.sample)({clock:O.done,source:l,filter:(e,{result:t})=>Boolean(t&&t.likes>-1),fn:(e,{params:t,result:a})=>(0,n.produce)(e,(e=>{const o=e.find((e=>e.id===t.item_id&&e.owner_id===t.owner_id));o&&(o.likes={count:a.likes,user_likes:0})})),target:l}),(0,i.sample)({clock:M.done,source:l,filter:(e,{result:t})=>Boolean(t),fn:(e,{params:t})=>(0,n.produce)(e,(e=>{const a=e.find((e=>e.id===t.video_id&&e.owner_id===t.owner_id));a&&(a.added=1)})),target:l}),(0,i.sample)({clock:D.done,source:l,filter:(e,{result:t})=>Boolean(t),fn:(e,{params:t})=>(0,n.produce)(e,(e=>{const a=e.find((e=>e.id===t.video_id&&e.owner_id===t.owner_id));a&&(a.added=0)})),target:l}),(0,i.sample)({clock:R,source:l,fn:(e,{video_id:t,owner_id:a})=>(0,n.produce)(e,(e=>{const o=e.find((e=>e.id===t&&e.owner_id===a));o&&(o.added=1)})),target:l}),(0,i.sample)({clock:x,source:l,fn:(e,{video_id:t,owner_id:a})=>(0,n.produce)(e,(e=>{const o=e.find((e=>e.id===t&&e.owner_id===a));o&&(o.added=0)})),target:l}),(0,i.sample)({clock:[b.done,V.done],source:l,filter:(e,{result:t})=>Boolean(t),fn:(e,{params:t})=>(0,n.produce)(e,(e=>{const a=e.find((e=>e.id===t.id&&e.owner_id===t.owner_id));a&&(a.is_favorite=!0)})),target:l}),(0,i.sample)({clock:[w.done,P.done],source:l,filter:(e,{result:t})=>Boolean(t),fn:(e,{params:t})=>(0,n.produce)(e,(e=>{const a=e.find((e=>e.id===t.id&&e.owner_id===t.owner_id));a&&(a.is_favorite=!1)})),target:l}),(0,i.sample)({clock:F.done,source:c,filter:(e,{result:t})=>Boolean(t),fn:(e,{params:t})=>(0,n.produce)(e,(e=>{const{params:a,sectionId:o}=t;a.is_unset?delete e[a.owner_id]:e[a.owner_id]=o})),target:c}),(0,i.sample)({clock:G.done,source:d,filter:(e,{result:t})=>Boolean(t),fn:(e,{params:t})=>(0,n.produce)(e,(e=>{const{params:a,sectionId:o}=t,i=(0,r.joinRawId)({itemId:a.video_id,ownerId:a.owner_id});a.is_unset?delete e[i]:e[i]=o})),target:d}),{$videoItems:l,$notInterestedVideos:d,$notOwnerRecommend:c,$addToPlaylistModal:u,openVideoActions:_,openAddToPlaylistModal:p,likeVideo:g,dislikeVideo:m,addVideoToFave:v,removeVideoFromFave:S,addVideoToWatchLater:h,removeVideoFromWatchLater:C,addVideoToPlaylist:f,removeVideoFromPlaylist:I,addVideoToMyVideos:E,removeVideoFromMyVideos:k,removeVideoFromHistory:y,markVideoNotInterested:T,markVideoNotOwnerRecommend:A,addVideoToMyVideosWithoutEffect:R,removeVideoFromMyVideosWithoutEffect:x,LikeVideoEffectFx:L,DislikeVideoEffectFx:O,AddVideoToFaveEffectFx:b,RemoveVideoFromFaveEffectFx:w,AddVideoToPlaylistsEffectFx:N,RemoveVideoFromPlaylistsEffectFx:B,AddVideoToMyVideosEffectFx:M,RemoveVideoFromMyVideosEffectFx:D,RemoveVideoFromHistoryEffectFx:j,MarkVideoNotInterestedEffectFx:G}}},128586:(e,t,a)=>{a.d(t,{createVKLiveCategoryService:()=>i});var o=a(32489),r=a(679005);const i=({domain:e,data:t})=>{const a=e.createStore(null,{name:"vkliveCategory"}),i=e.createStore(new Map,{name:"vkliveCategories"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.vklive_categories?.length),fn:(e,t)=>{const a=t.vklive_categories?.[0];return a?{...a}:e},target:a}),(0,o.sample)({clock:t,source:i,filter:(e,t)=>Boolean(t.vklive_categories?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.vklive_categories?.forEach((t=>e.set(t.id,t)))})),target:i}),{$vkliveCategory:a,$vkliveCategories:i}}},247642:(e,t,a)=>{a.d(t,{createVKLiveChannelsService:()=>i});var o=a(32489),r=a(679005);const i=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"vkliveChannels"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.vklive_channels?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.vklive_channels?.forEach((t=>e.set(t.stream_id,t)))})),target:a}),{$vkliveChannels:a}}},231736:(e,t,a)=>{a.d(t,{ListenMutateEventsType:()=>o});var o=function(e){return e.AddVideo="add_video",e.RemoveVideo="remove_video",e}({})},861743:(e,t,a)=>{a.d(t,{convertSectionToCatalog:()=>o,convertUpdatedCatalogToUpdatedSection:()=>i});const o=e=>e?{sections:e?[e]:[],default_section:e.id||"",pinned_section:""}:null,r=e=>e?e.sections[0]:null,i=({updatedCatalog:e,...t})=>({...t,updatedSection:r(e)})},183112:(e,t,a)=>{a.d(t,{extractItemsIds:()=>i});var o=a(49932);const r=e=>e?.map((e=>({id:e}))),i=e=>(e=>{switch(e.data_type){case o.CatalogBlockDataType.GROUPS:return r(e.group_ids);case o.CatalogBlockDataType.GROUPS_INVITES:return r(e.group_invites);case o.CatalogBlockDataType.GROUPS_ALL:case o.CatalogBlockDataType.GROUPS_ITEMS:case o.CatalogBlockDataType.GROUPS_EVENTS:return e.group_items;case o.CatalogBlockDataType.CATALOG_USERS:return r(e.catalog_users_ids);case o.CatalogBlockDataType.MINI_APPS:return e.mini_app_ids?.map((e=>({id:Number(e)})));case o.CatalogBlockDataType.LINKS:return r(e.links_ids);case o.CatalogBlockDataType.VIDEOS:return r(e.videos_ids);case o.CatalogBlockDataType.VIDEO_SHOWCASE_VKLIVE_CHANNELS_ITEMS:return r(e.vklive_channels_ids);case o.CatalogBlockDataType.VIDEO_SHOWCASE_VKLIVE_CATEGORIES_ITEMS:return r(e.vklive_categories_ids);case o.CatalogBlockDataType.ALBUMS:return e.albums_ids?.map((t=>({id:t,badge:e.item_badges?.some((({item_id:e})=>e===t))})));case o.CatalogBlockDataType.CATALOG_SEARCH_SUGGESTION:return r(e.search_suggestions_ids);case o.CatalogBlockDataType.SEARCH_AUTHORS:return e.search_author_items;case o.CatalogBlockDataType.SEARCH_SUGGESTIONS:return r(e.suggestions_ids);case o.CatalogBlockDataType.NEWSFEED_ITEMS:return r(e.newsfeed_item_ids);case o.CatalogBlockDataType.MUSIC_AUDIOS:return r(e.audios_ids);case o.CatalogBlockDataType.MUSIC_PLAYLISTS:return r(e.playlists_ids);case o.CatalogBlockDataType.GAMES:return e.games_items;case o.CatalogBlockDataType.MARKET_ITEMS:return r(e.market_item_ids);case o.CatalogBlockDataType.GROUPS_COLLECTION:return e?.group_collection_items_ids?.map((t=>({id:t,group_items:e.entity_group_items?.find((e=>e.id===t))?.group_items,isSingleItem:1===e.group_collection_items_ids?.length})))||[];case o.CatalogBlockDataType.GROUPS_CATEGORY_ITEMS:return e?.group_category_items?.map((({id:t,click_action:a})=>({id:t||"",group_items:e.entity_group_items?.find((e=>e.id===t))?.group_items,action:a})))||[];case o.CatalogBlockDataType.STICKERS_PACKS:return r(e.stickers_pack_ids);case o.CatalogBlockDataType.MINI_APPS_CONTENT:return t=e.miniapps_content_items,t?.map((e=>({...e,id:e.id??""})));case o.CatalogBlockDataType.SEARCH_ENTITY_ITEMS:return r(e.search_entity_ids);case o.CatalogBlockDataType.NAVIGATION_TABS:return r(e.navigation_tab_ids);case o.CatalogBlockDataType.PLACEHOLDER:return r(e.placeholder_ids);case o.CatalogBlockDataType.RADIO_STATIONS:return r(e.radio_stations_ids);default:return}var t})(e)??[]},43353:(e,t,a)=>{a.d(t,{getDataTestId:()=>r});const o="catalog",r=(...e)=>[o,...e].join("_")},418755:(e,t,a)=>{a.d(t,{checkRequestResultForPlaylist:()=>r.checkRequestResultForPlaylist,extractExtendedData:()=>r.extractExtendedData,extractItemsIds:()=>o.extractItemsIds,getClipDataTestId:()=>r.getClipDataTestId,getCurrentSubsectionFromCatalogById:()=>r.getCurrentSubsectionFromCatalogById,getDataTestId:()=>n.getDataTestId,getEventItemTypeByDataType:()=>r.getEventItemTypeByDataType,getGroupItemsDataTestId:()=>r.getGroupItemsDataTestId,getMaxItemsByBlock:()=>r.getMaxItemsByBlock,isCurrentUserId:()=>r.isCurrentUserId,mutateSectionBlocks:()=>r.mutateSectionBlocks,splitCatalogBlocksByIsland:()=>r.splitCatalogBlocksByIsland,testBookmarksSection:()=>r.testBookmarksSection,testDiscoverSection:()=>r.testDiscoverSection,testHistorySection:()=>r.testHistorySection,testLikedSection:()=>r.testLikedSection,testMySection:()=>r.testMySection,testPlaylistSection:()=>r.testPlaylistSection,testUploadedSection:()=>r.testUploadedSection,toColumnWithRows:()=>i.toColumnWithRows,unionBlocksByLayout:()=>r.unionBlocksByLayout});var o=a(183112),r=a(484474),i=a(672851),n=a(43353)},672851:(e,t,a)=>{a.d(t,{toColumnWithRows:()=>n});var o=a(474848),r=a(296540);const i=()=>({resultLength:0,components:[]});function n(e,t){const a=Array(t).fill(null).map(i);return e.forEach((e=>{const t=a.reduce(((e,t)=>t.resultLength<e.resultLength?t:e));e.length&&(t.resultLength+=e.length),t.components.push(e)})),[a.map(((e,t)=>({key:t,component:e.components.map((({component:e,key:t})=>(0,o.jsx)(r.Fragment,{children:e},t)))})))]}},484474:(e,t,a)=>{a.d(t,{checkRequestResultForPlaylist:()=>k,extractExtendedData:()=>u,getClipDataTestId:()=>y,getCurrentSubsectionFromCatalogById:()=>E,getEventItemTypeByDataType:()=>_,getGroupItemsDataTestId:()=>T,getMaxItemsByBlock:()=>d,isCurrentUserId:()=>g,mutateSectionBlocks:()=>p,splitCatalogBlocksByIsland:()=>A,testBookmarksSection:()=>C,testDiscoverSection:()=>h,testHistorySection:()=>S,testLikedSection:()=>f,testMySection:()=>m,testPlaylistSection:()=>v,testUploadedSection:()=>I,unionBlocksByLayout:()=>c});var o=a(49932),r=a(317216),i=a(231736),n=a(679005),s=a(538522);const l=(e,t,a)=>{const o=e[a]??[],r=t[a]??[];return Array.isArray(o)&&Array.isArray(r)?{...t,id:e.id,[a]:[...o,...r]}:null},c=e=>e.reduce(((e,t)=>(0,n.produce)(e,(a=>{e.some((e=>e.next_from===t.next_from))||a.push(t)}))),[]).reduce(((e,t)=>(0,n.produce)(e,(e=>{t.blocks?.length&&e.push(...t.blocks)}))),[]).reduce(((e,t)=>(0,n.produce)(e,(e=>{if(0===e.length)return void e.push(t);const a=((e,t)=>{if(e.layout.name!==t.layout.name||e.data_type!==t.data_type)return null;switch(e.data_type){case o.CatalogBlockDataType.MARKET_ITEMS:return l(e,t,"market_item_ids");case o.CatalogBlockDataType.VIDEOS:return l(e,t,"videos_ids");case o.CatalogBlockDataType.ALBUMS:return l(e,t,"albums_ids");default:return null}})(e[e.length-1],t);a?e[e.length-1]=a:e.push(t)}))),[]),d=e=>e.data_type===o.CatalogBlockDataType.NEWSFEED_ITEMS?10:null,u=e=>{const t={};return Object.entries(e).forEach((([e,a])=>{if("catalog"!==e&&"section"!==e&&Array.isArray(a))switch(e){case o.CatalogExtendedDataName.ALBUMS:case o.CatalogExtendedDataName.CATALOG_USERS:case o.CatalogExtendedDataName.GROUPS:case o.CatalogExtendedDataName.LINKS:case o.CatalogExtendedDataName.MARKET_ITEMS:case o.CatalogExtendedDataName.MINI_APPS:case o.CatalogExtendedDataName.PLACEHOLDERS:case o.CatalogExtendedDataName.PROFILES:case o.CatalogExtendedDataName.VIDEOS:case o.CatalogExtendedDataName.SUGGESTIONS:case o.CatalogExtendedDataName.SEARCH_SPELLCHECKERS:case o.CatalogExtendedDataName.NEWSFEED_ITEMS:case o.CatalogExtendedDataName.REACTION_SETS:case o.CatalogExtendedDataName.PLAYLISTS:case o.CatalogExtendedDataName.AUDIOS:case o.CatalogExtendedDataName.GROUP_COLLECTION_ITEMS:case o.CatalogExtendedDataName.GROUP_CATEGORY_ITEMS:case o.CatalogExtendedDataName.GAMES:case o.CatalogExtendedDataName.STICKERS_PACK_PREVIEWS:case o.CatalogExtendedDataName.SEARCH_ENTITY_ITEMS:case o.CatalogExtendedDataName.NAVIGATION_TABS:case o.CatalogExtendedDataName.CLASSIFIEDS_CATEGORY_TREE:case o.CatalogExtendedDataName.RADIO_STATIONS:case o.CatalogExtendedDataName.TEXTS:t[e]=[...a];break;default:return}})),t},_=e=>{switch(e.data_type){case o.CatalogBlockDataType.LINKS:return r.EventItemType.LINK;case o.CatalogBlockDataType.MINI_APPS:return r.EventItemType.MINI_APP;case o.CatalogBlockDataType.MARKET_ITEMS:return r.EventItemType.MARKET_ITEM;case o.CatalogBlockDataType.GROUPS_ITEMS:case o.CatalogBlockDataType.GROUPS:case o.CatalogBlockDataType.GROUPS_COLLECTION:case o.CatalogBlockDataType.GROUPS_CATEGORY_ITEMS:return r.EventItemType.GROUP;case o.CatalogBlockDataType.CATALOG_USERS:return r.EventItemType.USER;case o.CatalogBlockDataType.VIDEOS:return r.EventItemType.VIDEO;case o.CatalogBlockDataType.CATALOG_SEARCH_SUGGESTION:case o.CatalogBlockDataType.SEARCH_SUGGESTIONS:case o.CatalogBlockDataType.SEARCH_SPELLCHECKER:return r.EventItemType.SEARCH_SUGGESTION;case o.CatalogBlockDataType.ALBUMS:return r.EventItemType.VIDEO_PLAYLIST;case o.CatalogBlockDataType.NEWSFEED_ITEMS:return r.EventItemType.POST;case o.CatalogBlockDataType.SEARCH_AUTHORS:return r.EventItemType.SEARCH_AUTHOR;case o.CatalogBlockDataType.MUSIC_AUDIOS:return r.EventItemType.MUSIC_AUDIO;case o.CatalogBlockDataType.GAMES:return r.EventItemType.GAME;case o.CatalogBlockDataType.STICKERS_PACKS:return r.EventItemType.STICKERS;default:return}},p=({section:e,ownerId:t,itemId:a,clear:o=!1,event:r})=>{if(!e?.blocks||(Number.isNaN(t)||Number.isNaN(a))&&!o)return;const n=(0,s.joinFullId)(t,a);for(const t of e.blocks)switch(r){case i.ListenMutateEventsType.AddVideo:t.videos_ids&&t.videos_ids.unshift(n);break;case i.ListenMutateEventsType.RemoveVideo:t.videos_ids&&(t.videos_ids=o?[]:t.videos_ids.filter((e=>e!==n)))}},g=e=>e===window.vk.id,m=e=>Boolean(e?.endsWith("my")),v=e=>Boolean(e?.includes("playlist")),S=e=>Boolean(e?.includes("history")),h=e=>Boolean(e?.includes("discover")),C=e=>Boolean(e?.includes("bookmarks")),f=e=>Boolean(e?.includes("liked")),I=e=>Boolean(e?.includes("uploaded")),E=({catalog:e,subsectionId:t})=>{const a={sectionIndex:-1,subsectionIndex:-1};if(!e||!t)return a;let o=-1;const r=e.sections.findIndex((e=>e?.subsections?.some((({id:e},a)=>!(e!==t)&&(o=a,!0)))));if(o<0&&r<0)return a;const i=e?.sections?.[r]?.subsections?.[o];return{currentSubsection:i,sectionIndex:r,subsectionIndex:o}},k=(e,t,a)=>{if(t&&a){const o=t.find((e=>v(e?.url))),r=o?.blocks?.[0]?.albums_ids?.[0];if(o&&r){const t=a?.find((e=>(0,s.joinFullId)(e.owner_id,e.id)===r));if(t?.can_edit)return Array.isArray(e)?e.includes(t.id):Boolean(e)}}return!1},y=({action:e,ref_layout_name:t})=>t===o.CatalogBlockLayoutName.SHORT_VIDEO_SLIDER_WITH_VIEW_COUNTER&&e?.type===o.CatalogActionType.OPEN_URL?"clips-catalog-open-url":void 0,T=({layout:e,type:t,isAction:a=!1})=>{if(!a)return"";const r=e.name===o.CatalogBlockLayoutName.HEADER&&"none"===t,i=e.name===o.CatalogBlockLayoutName.HEADER&&t===o.CatalogActionType.OPEN_SECTION;return r?"market-group-items-header-title":i?"market-group-items-header-open-section":""},A=(e,t=[])=>{const a=e.findIndex((e=>e.layout.name===o.CatalogBlockLayoutName.SEPARATOR&&"island"===e.layout.style));return a>=0?A(e.slice(a+1),[...t,e.slice(0,a)]):[...t,e]}},19783:(e,t,a)=>{a.d(t,{DynamicPagination:()=>u});var o=a(474848),r=a(296540),i=a(456921),n=a(700272),s=a(8520),l=a(140094),c=a(540462),d=a(964213);const u=(0,i.observer)((({isLoading:e,fetchData:t,fetchError:a,nextFrom:i,rootMargin:u,withSpinner:_=!0,loaderLineHeight:p,hide:g,dontSavePrevious:m=!1})=>{const v=(0,r.useRef)(),[S,h]=(0,r.useState)(),[C,f]=(0,l.useInView)({rootMargin:u}),I=void 0!==p?{height:p}:{},E=(0,c.partConfigEnabled)("video_catalog_performance_improve")&&void 0!==g,k=E?v.current:S,y=(0,r.useMemo)((()=>(0,s.classNames)(d.default.pagination,{[d.default.paginationHidden]:e})),[e]);return(0,r.useEffect)((()=>{if(g)return;const e=setTimeout((()=>{m&&f&&i?t():k!==i?E?v.current=i:h(i):f&&i&&t()}),200);return()=>{clearTimeout(e)}}),[f,i,S]),!i||g||a?null:(0,o.jsxs)("div",{className:d.default.root,style:I,children:[_&&(0,o.jsx)(n.Spinner,{size:"small"}),(0,o.jsx)("div",{className:y,ref:C})]})}))},564508:(e,t,a)=>{a.d(t,{DynamicPagination:()=>o.DynamicPagination});var o=a(19783)},846347:(e,t,a)=>{a.d(t,{Snackbar:()=>d});var o=a(474848),r=a(892401),i=a(16496),n=a(8520),s=a(220208),l=a(723723),c=a(793793);const d=({content:e="",isError:t,onClose:a=()=>{},...d})=>(0,o.jsx)(s.Snackbar,{layout:"vertical",before:t?(0,o.jsx)(r.Icon24ErrorCircleOutline,{className:(0,l.getColorClass)("color_accent_red")}):(0,o.jsx)(i.Icon24CheckCircleOn,{className:(0,l.getColorClass)("color_accent_blue")}),onClose:a,duration:5e3,className:c.default.root,...d,children:(0,n.decodeHTMLEntities)(e)})},620360:(e,t,a)=>{a.d(t,{Snackbar:()=>o.Snackbar});var o=a(846347)},402711:(e,t,a)=>{a.d(t,{VideoListItem:()=>_});var o=a(474848),r=a(141575),i=a(17173),n=a(220208),s=a(412888),l=a(285056),c=a(271036),d=a(723723),u=a(451549);const _=({onMoreClick:e,onClick:t,preview:a,title:_="",secondTitle:p,lastTitle:g,url:m,getRootRef:v,endAdornment:S,isActive:h})=>{const C=Boolean(e&&!(0,u.isVKUserAnonymous)());return(0,o.jsx)(n.Tappable,{"data-testid":"video_list_item",href:m,onClick:e=>{t?.(e)},activated:h,activeClassName:i.default.active,children:(0,o.jsxs)("div",{className:i.default.root,children:[(0,o.jsx)("div",{ref:v,className:i.default.preview,children:a}),(0,o.jsxs)("div",{className:i.default.info,children:[(0,o.jsxs)("div",{className:i.default.main,children:[(0,o.jsx)(s.TextClamp,{TypographyComponent:l.Headline,level:"2",className:i.default.title,lines:2,children:_}),!!p&&(0,o.jsx)(l.Subhead,{className:i.default.subtitle,dangerouslySetInnerHTML:{__html:p}}),!!g&&(0,o.jsx)(l.Subhead,{className:i.default.subtitle,dangerouslySetInnerHTML:{__html:g}})]}),C&&(0,o.jsx)(c.IconButton,{"data-testid":"video_list_item_more",className:(0,d.getColorClass)("color_icon_tertiary"),onClick:t=>{t.preventDefault(),t.stopPropagation(),e?.(t)},children:(0,o.jsx)(r.Icon24MoreHorizontal,{})}),S&&(0,o.jsx)("div",{className:i.default.endAdornment,children:S})]})]})})}},246055:(e,t,a)=>{a.r(t),a.d(t,{VideoPreview:()=>V});var o=a(474848),r=a(296540),i=a(8520),n=a(854950),s=a(720028),l=a(347929),c=a(707427),d=a(988398),u=a(355940),_=a(309481),p=a(470704),g=a(353322),m=a(620483),v=a(661823),S=a(934679),h=a(948258),C=a(220208),f=a(578392),I=a(783856),E=a(723723),k=a(15978),y=a(815138),T=a(980353),A=a(218409),R=a(120903),x=a(856289),L=a(866467),O=a(276293),b=a(540462);const w=["waiting","started"];function V(e){const{video:t,itemUrl:a,mode:V="regular",ratio:P,withTimeline:N=!1,withPlayBtn:B=!1,fullWidth:M=!1,onItemClick:D,onButtonClick:j,isActive:G}=e,{restriction:F,image:U=[]}=t,H=(0,T.useWindowWidth)(),$=(0,A.useVideoThumbRatio)(P),[z,W]=(0,r.useState)(!1),K=(0,h.useAppearanceDetector)(),Y=(0,r.useMemo)((()=>{let e=U.filter((e=>!e.with_padding));return e.length||(e=U),(0,i.getPhotoSize)(e,(0,n.getImageMinWidth)(M?H:250))}),[U,M,H]);(0,r.useEffect)((()=>{Y?.url&&W(!1)}),[Y?.url]);const q=(0,r.useCallback)((e=>D?.(e,t)),[D,t]),Q=Boolean(t.processing),Z="upcoming"===t.live_status,X=(0,s.isBasePrivacyLimited)(t?.privacy_view),J=(0,x.isLiveVideo)(t),ee="by_link"==t?.privacy_view?.category,te=F&&Boolean(F.blur),ae=!te&&!F&&Boolean(t.duration)&&!G,oe=Boolean(t.interactive_info),re=oe&&(0,b.partConfigEnabled)("interactive_video_redesign_badge_mvk"),ie=!ae&&J&&w.some((e=>e===t.live_status)),ne=Boolean(F?.can_play&&F?.mute_info_link);let se=0;N&&t.viewed_duration&&t.duration&&!oe&&(se=100*t.viewed_duration/t.duration);const le=oe?"compact"===V?"":(0,L.getLang)("video_interactive_label"):t.platform;return(0,o.jsxs)(C.Tappable,{"data-testid":"video_preview",Component:a?"a":"div",hasHover:!1,href:a,className:(0,i.classNames)(O.default.video,{[O.default.videoRounded]:!M,[O.default.videoPage]:M,[O.default.videoBlur]:te}),style:{paddingBottom:`${$}%`},onClick:q,children:[Y&&!z?(0,o.jsx)("img",{onError:()=>W(!0),className:(0,i.classNames)(O.default.videoImage,{[O.default.videoImageBlur]:te}),loading:"lazy",src:Y.url,width:Y.width,height:Y.height}):!F&&(0,o.jsx)("div",{className:O.default.previewFailed,children:(0,o.jsx)(l.Icon56VideoOutline,{})}),X&&!Q?(0,o.jsx)(f.TextTooltip,{placement:"top",text:(0,o.jsx)("span",{dangerouslySetInnerHTML:{__html:(0,L.getLang)("profile_user_content_videos_is_privacy_locked")}}),appearance:"black",children:(0,o.jsx)("div",{className:(0,i.classNames)(O.default.cornerIcon,O.default.cornerIconPrivacy),children:ee?(0,o.jsx)(c.Icon16ChainOutline,{}):(0,o.jsx)(d.Icon16Lock,{})})}):null,G&&(0,o.jsx)(I.Overlay,{centered:!0,className:O.default.activeIconOverlay,children:(0,o.jsx)(u.Icon16Poll,{className:(0,E.getColorClass)("color_icon_contrast")})}),B?(0,o.jsx)("div",{className:O.default.playBtn,children:(0,o.jsx)(_.Icon28Play,{})}):null,ne?(0,o.jsx)("div",{className:O.default.playBtn,children:(0,o.jsx)(p.Icon24Mute,{})}):null,Q||Z?(0,o.jsx)("div",{className:O.default.cornerIcon,children:(0,o.jsx)(g.Icon16ClockOutline,{})}):null,ae||oe?(0,o.jsx)(k.AppearanceProvider,{value:re?"dark":K,children:(0,o.jsxs)("span",{className:(0,i.classNames)(O.default.videoDuration,{[O.default.videoInteractive]:re}),children:[re&&(0,o.jsx)("div",{className:O.default.interactiveIcon,children:(0,o.jsx)(m.Icon12HandPointUp,{})}),(0,o.jsx)(y.Join,{separator:" · ",children:[le,ae&&(0,i.formatDuration)(t?.duration||0)]})]})}):null,ie?(0,o.jsx)("div",{className:O.default.videoLive,children:(0,o.jsx)(v.Icon20LiveBadge,{})}):null,Z?(0,o.jsx)("div",{className:(0,i.classNames)(O.default.videoLive,O.default.videoUpcomingLive),children:(0,o.jsx)(S.IconLiveText20h,{className:(0,E.getColorClass)("color_icon_contrast")})}):null,!!se&&(0,o.jsx)("div",{className:O.default.progressBar,children:(0,o.jsx)("div",{className:O.default.progress,style:{width:`${se}%`}})}),(0,o.jsx)(R.VideoPreviewOverlay,{video:t,mode:V,fullWidth:M,className:O.default.overlay,onClick:j})]})}},120903:(e,t,a)=>{a.d(t,{VideoPreviewOverlay:()=>v});var o=a(474848),r=a(459382),i=a(8520),n=a(397729),s=a(40853),l=a(842321),c=a(359841),d=a(588069),u=a(220208),_=a(285056),p=a(720836),g=a(454154),m=a(706789);const v=e=>{const{video:t,className:a,mode:v="regular",fullWidth:S=!1,onClick:h}=e,{restriction:C,converting:f,live_status:I}=t,{getLang:E}=(0,r.useLangContext)(),{viewWidth:k=u.ViewWidth.SMALL_MOBILE}=(0,u.useAdaptivityWithJSMediaQueries)(),y=k<u.ViewWidth.MOBILE,T=Boolean(f),A="upcoming"===I,R=C&&Boolean(C.blur),x="regular"===v,L=!S&&x||!x,O=Boolean(C?.icon_name),b=Boolean(C?.can_play&&C?.mute_info_link),w=L?_.Subhead:_.Text;if(C&&!b&&O){const e=L?28:56,t=(0,i.getPhotoSize)(C.card_icon,e*window.devicePixelRatio),{title:r,text:s,button:l}=C,c=Boolean(x&&r),d=Boolean(S&&s),u=Boolean(C.can_play&&h&&S&&l),v=Boolean(t&&!c&&!u&&!d),f=t&&!(c&&d&&u&&y);return(0,o.jsx)("div",{className:(0,i.classNames)(m.default.overlay,{[m.default.blur]:R},a),children:(0,o.jsx)(p.Placeholder,{icon:f&&(0,o.jsx)(n.MaskIcon,{className:(0,i.classNames)(m.default.icon,{[m.default.center]:v}),src:t.url,size:e}),header:c&&(0,o.jsx)(w,{Component:"span",className:m.default.title,children:r}),action:u&&(0,o.jsx)(g.Button,{mode:"secondary",size:"s",appearance:"overlay",onClick:h,children:l?.title}),noPadding:!0,children:d&&(0,o.jsx)(_.Footnote,{Component:"span",className:m.default.text,children:s})})})}if(T){const e=!x,t=L?s.Icon28RecentOutline:l.Icon56RecentOutline;return(0,o.jsx)("div",{className:(0,i.classNames)(m.default.overlay,{[m.default.blur]:R},a),children:(0,o.jsx)(p.Placeholder,{icon:(0,o.jsx)(t,{className:(0,i.classNames)(m.default.icon,{[m.default.center]:e})}),header:x&&(0,o.jsx)(w,{Component:"span",className:m.default.title,children:E("profile_user_content_videos_video_is_processing")}),noPadding:!0})})}if(A){const e=!x,t=L?c.Icon28LiveClockBadgeOutline:d.Icon56LiveClockBadgeOutline;return(0,o.jsx)("div",{className:(0,i.classNames)(m.default.overlay,{[m.default.blur]:R},a),children:(0,o.jsx)(p.Placeholder,{icon:(0,o.jsx)(t,{className:(0,i.classNames)(m.default.icon,{[m.default.center]:e})}),header:x&&(0,o.jsx)(w,{Component:"span",className:m.default.title,children:E("mobile_video_live_start_soon")}),noPadding:!0})})}return null}},472658:(e,t,a)=>{a.d(t,{FRIENDS_STATUS:()=>r,FRIENDS_STATUS_REQUEST:()=>o});const o={REQUEST:1,ADDED:2,REPEAT:4},r={NOT_FRIEND:0,OUTCOMING_REQUEST:1,INCOMING_REQUEST:2,IS_FRIENDS:3}},404939:(e,t,a)=>{a.d(t,{getImageIsomorphic:()=>r});var o=a(744757);const r=({images:e,width:t=0,height:a,isRetina:r=!1})=>{if(!e||0===e.length)return"";const i=r?2:1,n=t*i,s=("number"==typeof a?a:t)*i,l=[...e];(0,o.sort)(l,((e,t)=>e.height<t.height?-1:e.height>t.height?1:e.width<t.width?-1:e.width>t.width?1:0));for(let e=0;e<l.length;e++)if(l[e].width>=n&&l[e].height>=s)return l[e];return l[l.length-1]}},744757:(e,t,a)=>{function o(e,t){return e.sort(t)}a.d(t,{sort:()=>o})},538166:(e,t,a)=>{a.d(t,{useIntersectionObserver:()=>n});var o=a(296540),r=a(150585),i=a(878701);const n=({triggerOnce:e=!1,rootMargin:t,threshold:a=1,delay:n=200})=>{const[s,l]=(0,o.useState)(null),c=1-a,[d,u]=(0,o.useState)(!1),{top:_=0,bottom:p=0,left:g=0,right:m=0}=(0,o.useMemo)((()=>(e=>{if(!e)return{};if(!/^[-+]?\d+px [-+]?\d+px [-+]?\d+px [-+]?\d+px$/.test(e))throw new Error(`useIntersectionObserver: unsupported rootMargin format: ${e}`);const[t,a,o,r]=e.split(" ").map(parseFloat);return{top:t,right:a,bottom:o,left:r}})(t)),[t]);return(0,o.useEffect)((()=>{if((0,i.isIntersectionObserverSupported)()&&s){const t=new IntersectionObserver((([a])=>{u(a.isIntersecting),e&&a.isIntersecting&&t.disconnect()}),{threshold:a,rootMargin:`${_}px ${m}px ${p}px ${g}px`});return t.observe(s),()=>t.disconnect()}}),[a,e,_,p,m,g,s]),(0,o.useEffect)((()=>{if(!(0,i.isIntersectionObserverSupported)()&&s&&(!d||!e)){const e=(0,r.throttle)((()=>{const e=s.getBoundingClientRect();u(e.top+c*e.height>=-_&&e.bottom-c*e.height<=window.innerHeight+p&&e.left+c*e.width>=-g&&e.right-c*e.width<=window.innerWidth+m)}),n);return e(),document.addEventListener("scroll",e,{passive:!0,capture:!0}),()=>document.removeEventListener("scroll",e,{capture:!0})}}),[d,e,_,p,m,g,a,n,s]),[l,d]}},218409:(e,t,a)=>{a.d(t,{MAX_RATIO:()=>r,MIN_RATIO:()=>i,useVideoThumbRatio:()=>n});var o=a(296540);const r=56.25,i=112.54,n=(e=0)=>(0,o.useMemo)((()=>e?e<r?r:e>i?i:+e.toFixed(2):r),[e])},980353:(e,t,a)=>{a.d(t,{useWindowWidth:()=>i});var o=a(296540),r=a(8520);const i=()=>{const[e,t]=(0,o.useState)(window.innerWidth);return(0,o.useEffect)((()=>{const e=()=>t(window.innerWidth);return(0,r.debounce)(e,700),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),e}},459382:(e,t,a)=>{a.d(t,{useLangContext:()=>n});var o=a(296540);function r(){console.warn("This is default implementation. Please use platform specific lang context")}const i=(0,o.createContext)({getLang:e=>(r(),e),langSex:(e,t)=>(r(),`${t}`),langNumeric:(e,t)=>(r(),t.join("")),langDate:e=>(r(),String(e)),langReplace:e=>(r(),String(e))}),n=()=>(0,o.useContext)(i)},489569:(e,t,a)=>{a.d(t,{KEY:()=>i,checkEvent:()=>r.checkEvent,isMainClick:()=>o.isMainClick,preventLinkOpening:()=>n});var o=a(596597),r=a(49568);const i={LEFT:37,UP:38,RIGHT:39,DOWN:40,DEL:8,TAB:9,RETURN:13,ENTER:13,ESC:27,PAGEUP:33,PAGEDOWN:34,SPACE:32,CTRL:17,ALT:18,SHIFT:16,META_LEFT:91,META_RIGHT:93},n=e=>new Promise((t=>{(0,o.isMainClick)(e instanceof MouseEvent?e:e.nativeEvent)&&(e.stopPropagation(),e.preventDefault(),t())}))},397729:(e,t,a)=>{a.d(t,{MaskIcon:()=>i});var o=a(474848),r=a(8520);function i({src:e,size:t,className:a,style:i,...n}){return(0,o.jsx)("div",{className:(0,r.classNames)("MaskIcon",`MaskIcon--${t}`,a),style:{...i,maskImage:`url("${e}")`,WebkitMaskImage:`url("${e}")`,width:`${t}px`,height:`${t}px`},...n})}},198485:(e,t,a)=>{a.d(t,{$isMouseActive:()=>o.$isMouseActive,$selectedItemIndex:()=>o.$selectedItemIndex,fireDownSelectionIndex:()=>o.fireDownSelectionIndex,fireResetItemsIndex:()=>o.fireResetItemsIndex,fireResetSelectionIndex:()=>o.fireResetSelectionIndex,fireSetItemIndex:()=>o.fireSetItemIndex,fireSetSelectionIndexByItem:()=>o.fireSetSelectionIndexByItem,fireUpSelectionIndex:()=>o.fireUpSelectionIndex});var o=a(787587)},787587:(e,t,a)=>{a.d(t,{$isMouseActive:()=>r,$itemsIndex:()=>n,$selectedIndex:()=>i,$selectedItemIndex:()=>s,fireDownSelectionIndex:()=>d,fireResetItemsIndex:()=>p,fireResetSelectionIndex:()=>_,fireSetItemIndex:()=>u,fireSetSelectionIndexByItem:()=>l,fireUpSelectionIndex:()=>c});const o=(0,a(32489).createDomain)("SEARCH_TOP/MODAL"),r=o.createStore(!0,{name:"isMouseActive"}),i=o.createStore(-1,{name:"selectedIndex"}),n=o.createStore([],{name:"maxItemsIndex"}),s=o.createStore(null,{name:"selectedItemIndex"}),l=o.createEvent("fire/SetSelectionIndexByItem"),c=o.createEvent("fire/UpSelectionIndex"),d=o.createEvent("fire/DownSelectionIndex"),u=o.createEvent("fire/SetItemIndex"),_=(o.createEvent("fire/SetItemIndex"),o.createEvent("fire/ResetSelectionIndex")),p=o.createEvent("fire/ResetItemsIndex")},652547:(e,t,a)=>{a.d(t,{CLIP_MAX_LIMIT:()=>p,CLIP_MIN_LIMIT:()=>_,checkStopActionOnEventOnShortVideo:()=>d,formatNumberTranslation:()=>u,getThumb:()=>l,getUrlToOwnerFeedShortVideo:()=>g,isLockedVideo:()=>c});var o=a(8520),r=a(908671),i=a(866467),n=a(105330),s=(a(615650),a(540462),a(468073));function l(e,t,a){const r=e.filter((e=>!e.with_padding)),i=a&&(0,o.isRetina)()?2:1,n=((0,o.isNumber)(t)?t:t.width||0)*i,s=((0,o.isNumber)(t)?0:t.height||0)*i;return(0,o.getPhotoSize)(r.length?r:e,n,s)?.url}function c(e,t){return Boolean(t?.userIsAdmin)&&Boolean(e.privacyView&&!function(e){return function(e,t){return!e.category||!t.length||t.includes(e.category)}(e,["all","any"])&&0===(e?.excludedCategory?.length||0)&&0===(e?.lists?.allowed?.length||0)&&0===(e?.lists?.excluded?.length||0)&&0===(e?.owners?.allowed?.length||0)&&0===(e?.owners?.excluded?.length||0)}(e.privacyView))}const d=e=>{const t=e?.target,a=new RegExp(`^https?:\\/\\/${n.VK_HOST_REGEX_UNSAFE.source}\\/clip(-?\\d+_\\d+)$`);return!!t?.href&&a.test(t.href)};function u(e,t){return`${(0,r.formatCount)(e)} ${(0,i.langNumeric)(e>=1e3?1e3:e,t)}`}const _=1,p=60;function g(e,t,a){let o=a;return o||(o=s.Ranges.isGroupId(e)?`club${s.Ranges.convertOwnerIdToGroupId(e)}`:`id${e}`),`/clips/${o}/feed/clip${e}_${t}`}},451549:(e,t,a)=>{a.d(t,{isVKUserAnonymous:()=>r});var o=a(810068);const r=()=>o.Ranges.isZeroOwner(window.vk.id)},664331:(e,t,a)=>{a.d(t,{getAPIErrorMessage:()=>r,isRequestAbortError:()=>i});var o=a(866467);const r=e=>e.error_text||e.error_msg||(0,o.getLang)("global_unknown_error"),i=e=>e instanceof DOMException&&(20===e.code||"AbortError"===e.name)},720028:(e,t,a)=>{a.d(t,{isBasePrivacyLimited:()=>o});const o=e=>!(e=>!e||((e,t)=>!e?.category||!t?.length||t.includes(e.category))(e,["all","any"])&&0===(e?.excluded_category?.length||0)&&0===(e?.lists?.allowed?.length||0)&&0===(e?.lists?.excluded?.length||0)&&0===(e?.owners?.allowed?.length||0)&&0===(e?.owners?.excluded?.length||0))(e)},444430:(e,t,a)=>{a.d(t,{encodeUrlSearchParams:()=>o});const o=(e,t="")=>{const a=Object.entries(e).filter((([,e])=>Boolean(e||0===e))).map((([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t)}`)).join("&");return a?`${t}${a}`:""}},224241:(e,t,a)=>{a.d(t,{formatDateTime:()=>i});var o=a(866467),r=a(898848);const i=(e=0,t=!1)=>{if(!e)return"";const a=3600,i=1e3*e,n=new Date(i),s=new Date,l=(Date.now()-n.getTime())/1e3,c=n.getFullYear(),d=n.getMonth();if(l<5)return(0,o.getLang)("mobile_profile_status_just_now");if(l<60)return(0,o.getLang)("mobile_profile_status_secs_ago",Math.ceil(l));if(l<a){const e=Math.ceil(l/60),t=(0,o.getLang)("mobile_profile_status_word_mins_ago","raw");return(0,r.isArray)(t)&&e<t.length?t[e]:(0,o.langNumeric)(e,(0,o.getLang)("mobile_profile_status_mins_ago","raw"))}if(l/a<5){const e=Math.ceil(l/a),t=(0,o.getLang)("mobile_profile_status_word_hours_ago","raw");return(0,r.isArray)(t)&&e<t.length?t[e]:(0,o.langNumeric)(e,(0,o.getLang)("mobile_profile_status_hours_ago","raw"))}const u=s.getFullYear(),_=s.getMonth(),p=t?(0,o.getLang)("months_of","raw"):(0,o.getLang)("months_sm_of","raw");return c<u&&(_>1||d<9||u-c>=2)?(0,o.langDate)(i,(0,o.getLang)("global_date","raw"),0,p):(0,o.langDate)(i,(0,o.getLang)("global_short_date_time","raw"),0,p)}},682040:(e,t,a)=>{a.d(t,{formatViews:()=>r});var o=a(866467);const r=(e=0,t=!1)=>{if(e<=1e3)return t?(0,o.getLang)("video_N_views_list",e):e.toString();let a=1;const r=e>1e6?"M":"K",i=e>1e6?1e6:1e3,n=e/i;n.toFixed(a).endsWith("0")&&(a=0);const s=(n.toFixed(a)+r).replace(".",",");if(t){const e=Math.trunc(n)*i;return(0,o.getLang)("video_N_views_list",e).replace(e.toString(),s)}return s}},591485:(e,t,a)=>{a.d(t,{getOwnerAvatar:()=>i});var o=a(404939),r=a(898848);const i=e=>{if(e){if("photo"in e){if((0,r.isArray)(e.photo)){const t=(0,o.getImageIsomorphic)({images:e.photo,width:50,isRetina:(0,r.isRetina)()});return t&&t.url||""}return e.photo||""}if("photo_100"in e&&"photo_100"in e)return(0,r.isRetina)()?e.photo_100||e.photo_50||"":e.photo_50||""}return""}},370420:(e,t,a)=>{a.d(t,{getMenuItems:()=>v,report:()=>m,share:()=>g,watchLater:()=>p});var o=a(474848),r=a(863318),i=a(44348),n=a(473148),s=a(848659),l=a(518710),c=a(671112),d=a(866467),u=a(540462),_=a(451549);const p=(e,t)=>{if(!(e.can_add_to_faves||e.is_favorite))return null;return(0,u.partConfigEnabled)("video_bookmarks_renaming_to_watch_later")?{onClick:t,children:e.is_favorite?(0,d.getLang)("video_remove_from_watch_later"):(0,d.getLang)("video_catalog_showcase_section_my_watch_later_title"),before:e.is_favorite?(0,o.jsx)(r.Icon20DeleteClockOutline,{}):(0,o.jsx)(i.Icon20ClockOutline,{}),"data-testid":"video_card_watch_later_button"}:{onClick:t,children:e.is_favorite?(0,d.getLang)("global_remove_from_bookmarks"):(0,d.getLang)("global_add_to_bookmarks"),before:(0,o.jsx)(n.Icon20FavoriteOutline,{}),"data-testid":"video_card_favorite_button"}},g=(e,t)=>e.can_repost?{onClick:t,before:(0,o.jsx)(s.Icon20ShareOutline,{}),children:(0,d.getLang)("video_share_with_friends"),"data-testid":"video_card_share_button"}:null,m=(e,t)=>{const a=!!e.vk_live_channel_url&&(0,c.isLiveVideo)(e);return e.owner_id!==window.vk.id&&e.owner_id&&e.id&&!a?{onClick:t,before:(0,o.jsx)(l.Icon20ReportOutline,{}),children:(0,d.getLang)("global_report_spam"),"data-testid":"video_card_complain_button"}:null};function v(...e){if((0,_.isVKUserAnonymous)())return;const t=e.filter((e=>Boolean(e)));return t.length?t:void 0}},744138:(e,t,a)=>{a.d(t,{VIDEO_SUBSCRIPTIONS_BADGE_EVENT_NAME:()=>o,VIDEO_SUBSCRIPTIONS_BADGE_EVENT_TYPES:()=>r});const o="videosubscriptionbadge",r={ADD_BADGE:"add_badge",RM_BADGE:"rm_badge"}},693679:(e,t,a)=>{a.d(t,{VIDEO_SUBSCRIPTIONS_BADGE_EVENT_NAME:()=>o.VIDEO_SUBSCRIPTIONS_BADGE_EVENT_NAME,VIDEO_SUBSCRIPTIONS_BADGE_EVENT_TYPES:()=>o.VIDEO_SUBSCRIPTIONS_BADGE_EVENT_TYPES});var o=a(744138)},344384:(e,t,a)=>{a.d(t,{checkIsPlaylistReversed:()=>s,setReversedPlaylist:()=>l});var o=a(873900),r=a(553608);const i="video_reversed_playlists",n=()=>JSON.parse(r.vkLocalStorage.getItem(i)||"{}"),s=({playlistId:e,ownerId:t})=>{const a=(0,o.getIdentityRawId)({id:e,ownerId:t});return n()[a]||0},l=({playlistId:e,ownerId:t,isReversed:a})=>{const s=(0,o.getIdentityRawId)({id:e,ownerId:t}),l=n();r.vkLocalStorage.setItem(i,JSON.stringify({...l,[s]:a}))}},395846:(e,t,a)=>{a.d(t,{ACCESS_DENIED_CODE:()=>v,CLIP_UPLOAD_MAX_FILE_SIZE_IN_GB:()=>c,SHORT_VIDEO_UPLOAD_EXTS:()=>r,SHORT_VIDEO_UPLOAD_INPUT_ACCEPT:()=>n,VIDEO_DEFAULT_THUMB_ID:()=>m,VIDEO_UPLOAD_CHUNK_MAX_RETRY_NUMBER:()=>_,VIDEO_UPLOAD_CHUNK_SIZE:()=>d,VIDEO_UPLOAD_EXTS:()=>i,VIDEO_UPLOAD_FILE_THREAD_NUMBER:()=>u,VIDEO_UPLOAD_INPUT_ACCEPT:()=>s,VIDEO_UPLOAD_MAX_FILE_SIZE_IN_GB:()=>l,VIDEO_UPLOAD_SUBTITLES_DISABLED:()=>p,VIDEO_UPLOAD_SUBTITLES_USER_LANG:()=>g});const o=e=>["video/*",...e.map((e=>`.${e}`))].join(","),r="avi mp4 3gp mpeg mov flv f4v wmv mkv webm vob rm rmvb m4v mpg ogv ts m2ts mts mxf".split(" "),i=[...r,"torrent"],n=o(r),s=o(i),l=5,c=8,d=4194304,u=4,_=10,p=-1,g=-2,m="0_0",v=15},615650:(e,t,a)=>{a.d(t,{ErrorCodes:()=>d,checkFileType:()=>c,getUploadErrorInfo:()=>_,getUploadErrorText:()=>u,getVideoMetadata:()=>s,getVideoSize:()=>l,sendVideoMetadataStatsBeforeUpload:()=>p});var o=a(866467),r=a(395846),i=a(314309),n=a(317216);function s(e){return new Promise((t=>{try{const a=document.createElement("video");a.preload="metadata",a.onloadedmetadata=()=>{const e=a.duration||0,o=a.videoWidth,r=a.videoHeight;t({duration:e,width:o,height:r})},a.onerror=()=>t(null),a.src=window.URL.createObjectURL(e)}catch(e){t(null)}}))}function l(e){return e.size}function c(e,t){const a=(e.name.split(".").pop()||"").toLowerCase(),o=(t||r.VIDEO_UPLOAD_EXTS).includes(a);return!!(e.type&&e.type.match(/^video/i)||o)}var d=function(e){return e[e.SHORT_VIDEO_TOO_SHORT=100]="SHORT_VIDEO_TOO_SHORT",e[e.SHORT_VIDEO_TOO_LONG=101]="SHORT_VIDEO_TOO_LONG",e[e.INCORRECT_PUBLISH_DATE=-1]="INCORRECT_PUBLISH_DATE",e[e.LIMIT_POSTPONE_POSTS=-2]="LIMIT_POSTPONE_POSTS",e[e.LIMIT_POSTPONE_POSTS_PER_DAY=-3]="LIMIT_POSTPONE_POSTS_PER_DAY",e[e.SAME_POSTPONE_POST_DATE=-4]="SAME_POSTPONE_POST_DATE",e[e.LIMIT_POSTS_PER_DAY=-5]="LIMIT_POSTS_PER_DAY",e[e.SHORT_VIDEO_CONVERT=20]="SHORT_VIDEO_CONVERT",e[e.CLAIMED_NOT_UPLOADED=15]="CLAIMED_NOT_UPLOADED",e}({});function u(e,t){switch(e){case 100:return(0,o.getLang)("video_upload_encode_error_too_short_1s");case 101:return(0,o.getLang)("video_upload_encode_error_too_long");case 20:return(0,o.getLang)("video_upload_error_uploading");case-1:return(0,o.getLang)("video_upload_error_incorrect_publish_date");case-2:return(0,o.getLang)("video_upload_error_limit_postpone_posts");case-3:return(0,o.getLang)("video_upload_error_day_limit_postpone_posts");case-4:return(0,o.getLang)("video_upload_error_same_publish_date");case-5:return(0,o.getLang)("video_upload_error_day_limit_posts");case 15:return(0,o.getLang)("video_claimed_not_uploaded");default:return t||(0,o.getLang)("global_unknown_error")}}function _(e){switch(e){case-2:return(0,o.getLang)("video_upload_error_info_limit_postpone_posts");case-3:return(0,o.getLang)("video_upload_error_info_day_limit_postpone_posts");case-4:return(0,o.getLang)("video_upload_error_info_same_publish_date")}}const p=async(e,t,a)=>{const o=await s(e);o?.duration&&o?.width&&i.videoUploadStatsCollector.logEvent({event_type:n.VideoUploadActionEventTypes.DECODE_VIDEO_METAINFO,video_owner_id:t,video_id:a,decode_metainfo:JSON.stringify({width:o.width,height:o.height,video_duration:o.duration,format:(e.name.split(".").pop()||"").toLowerCase()})})}},353034:(e,t,a)=>{a.d(t,{browser:()=>r});const o=navigator.userAgent.toLowerCase(),r={version:(o.match(/.+(?:me|ox|on|rv|it|era|opr|ie|edge)[\/: ]([\d.]+)/)||[0,"0"])[1],opera:/opera/i.test(o)||/opr/i.test(o),vivaldi:/vivaldi/i.test(o),amigo:/amigo.*mrchrome soc/i.test(o),msie:/msie/i.test(o)&&!/opera/i.test(o)||/trident\//i.test(o)||/edge/i.test(o),msie6:/msie 6/i.test(o)&&!/opera/i.test(o),msie7:/msie 7/i.test(o)&&!/opera/i.test(o),msie8:/msie 8/i.test(o)&&!/opera/i.test(o),msie9:/msie 9/i.test(o)&&!/opera/i.test(o),msie_edge:/edge/i.test(o)&&!/opera/i.test(o),mozilla:/firefox/i.test(o),yabrowser:/yabrowser/i.test(o),whale:/whale/i.test(o),chrome:/chrome/i.test(o)&&!/edge/i.test(o),safari:!/chrome/i.test(o)&&/webkit|safari|khtml/i.test(o),iphone:/iphone/i.test(o),ipod:/ipod/i.test(o),iphone4:/iphone.*OS 4/i.test(o),ipod4:/ipod.*OS 4/i.test(o),ipad:/ipad/i.test(o),ios:/.+(ipod|ipad|iphone.*os)/i.test(o),android:/android/i.test(o),bada:/bada/i.test(o),mobile:/iphone|ipod|ipad|opera mini|opera mobi|iemobile|android/i.test(o),msie_mobile:/iemobile/i.test(o),safari_mobile:/iphone|ipod|ipad/i.test(o),opera_mobile:/opera mini|opera mobi/i.test(o),opera_mini:/opera mini/i.test(o),mac:/mac/i.test(o),windows7:/windows nt 6.1/i.test(o),windowsVista:/windows nt 6.0/i.test(o),windowsXp:/windows nt (5.2|5.1)/i.test(o),search_bot:/(yandex|google|stackrambler|aport|slurp|msnbot|bingbot|twitterbot|ia_archiver|facebookexternalhit)/i.test(o),smart_tv:/smart-tv|smarttv/i.test(o)}},49568:(e,t,a)=>{a.d(t,{checkEvent:()=>r});var o=a(596597);function r(e){return!!(e&&e instanceof MouseEvent)&&!(0,o.isMainClick)(e)}},596597:(e,t,a)=>{function o(e){return!("click"!==e.type&&"mousedown"!==e.type&&"mouseup"!==e.type||0!==e.button||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)}a.d(t,{isMainClick:()=>o})},638055:(e,t,a)=>{a.d(t,{AUDIO_LIST_TYPES:()=>o});const o=new Set(["album","generated","chat","ugc"])},797488:(e,t,a)=>{a.d(t,{isExperimentalAudioPlaylist:()=>r});var o=a(638055);function r(e){return o.AUDIO_LIST_TYPES.has(e.type)}},294691:(e,t,a)=>{a.d(t,{getAudioPlaylistAlbumType:()=>r});var o=a(797488);function r(e){return(0,o.isExperimentalAudioPlaylist)(e)?e.album?.view:e.album_type}},876761:(e,t,a)=>{a.d(t,{createCatalogGetAudioSearchFx:()=>u,createCatalogGetBlockItemsFx:()=>S,createCatalogGetClassifiedsFx:()=>r,createCatalogGetOwnerVideosSearchFx:()=>v,createCatalogGetPeopleSearchFx:()=>n,createCatalogGetSearchGamesFx:()=>g,createCatalogGetSearchGroupsFx:()=>h,createCatalogGetSearchMiniAppsFx:()=>p,createCatalogGetSectionFx:()=>i,createCatalogGetShortVideoSearchFx:()=>C,createCatalogGetVideoFx:()=>c,createCatalogGetVideoSearchWeb2Fx:()=>_,createCatalogGetVideoShowcaseFx:()=>d,createCatalogHideBlockFx:()=>l,createCatalogPrefetchPeopleSearchFx:()=>s,createCatalogReplaceBlocksFx:()=>m});var o=a(412554);const r=e=>(0,o.createApiEffect)("catalog.getClassifieds",e),i=e=>(0,o.createApiEffect)("catalog.getSection",e),n=e=>(0,o.createApiEffect)("catalog.getPeopleSearch",e),s=e=>(0,o.createPrefetchEffect)("catalog.getPeopleSearch",e),l=e=>(0,o.createApiEffect)("catalog.hideBlock",e),c=e=>(0,o.createApiEffect)("catalog.getVideo",e),d=e=>(0,o.createApiEffect)("catalog.getVideoShowcase",e),u=e=>(0,o.createApiEffect)("catalog.getAudioSearch",e),_=e=>(0,o.createApiEffect)("catalog.getVideoSearchWeb2",e),p=e=>(0,o.createApiEffect)("catalog.getSearchMiniApps",e),g=e=>(0,o.createApiEffect)("catalog.getSearchGames",e),m=e=>(0,o.createApiEffect)("catalog.replaceBlocks",e),v=e=>(0,o.createApiEffect)("catalog.getOwnerVideosSearch",e),S=e=>(0,o.createApiEffect)("catalog.getBlockItems",e),h=e=>(0,o.createApiEffect)("catalog.getSearchGroups",e),C=e=>(0,o.createApiEffect)("catalog.getShortVideoSearch",e)},612392:(e,t,a)=>{a.d(t,{createMarketAddToCartFx:()=>u,createMarketDeleteAlbumFx:()=>d,createMarketDeleteFx:()=>m,createMarketGetAlbumByIdFx:()=>c,createMarketGetAlbumsFx:()=>s,createMarketGetByIdFx:()=>r,createMarketGetEditUrlFx:()=>g,createMarketGetSellerResponseTimeFx:()=>l,createMarketGetSettingsFx:()=>n,createMarketGetTotalCountersFx:()=>i,createMarketRemoveFromCartFx:()=>_,createMarketReorderAlbumsFx:()=>p});var o=a(412554);const r=e=>(0,o.createApiEffect)("market.getById",e),i=e=>(0,o.createApiEffect)("market.getCounters",e),n=e=>(0,o.createApiEffect)("market.getSettings",e),s=e=>(0,o.createApiEffect)("market.getAlbums",e),l=e=>(0,o.createApiEffect)("market.getSellerResponseTime",e),c=e=>(0,o.createApiEffect)("market.getAlbumById",e),d=e=>(0,o.createApiEffect)("market.deleteAlbum",e),u=e=>(0,o.createApiEffect)("market.addToCart",e),_=e=>(0,o.createApiEffect)("market.removeFromCart",e),p=e=>(0,o.createApiEffect)("market.reorderAlbums",e),g=e=>(0,o.createApiEffect)("market.getEditUrl",e),m=e=>(0,o.createApiEffect)("market.delete",e)},929052:(e,t,a)=>{a.d(t,{createWallSubscribeFx:()=>r,createWallUnsubscribeFx:()=>i});var o=a(412554);const r=e=>(0,o.createApiEffect)("wall.subscribe",e),i=e=>(0,o.createApiEffect)("wall.unsubscribe",e)},314799:(e,t,a)=>{a.d(t,{useHelpHint:()=>i});var o=a(984745),r=a(335797);const i=e=>(0,r.useEntitiesStore)((0,o.ensureAccountHelpHintsService)().$helpHints,e)},601379:(e,t,a)=>{a.d(t,{isVideoVideoFullWithIds:()=>o});const o=e=>void 0!==e.id&&void 0!==e.owner_id},100460:(e,t,a)=>{a.d(t,{moveArrayElement:()=>r});const o=(e,t)=>e>=0?e:t+e,r=({items:e,from:t,to:a})=>{const r=[...e];return(({items:e,from:t,to:a})=>{if(!e.length)return;const r=o(t,e.length),i=o(a,e.length);r!==i&&e.splice(i,0,...e.splice(t,1))})({items:r,from:t,to:a}),r}},883828:(e,t,a)=>{a.d(t,{MAX_INT32:()=>o,MIN_INT32:()=>r});const o=2**31-1,r=-(2**31)},507380:(e,t,a)=>{a.d(t,{isRequestAbortError:()=>o});const o=e=>e instanceof DOMException&&(e.code===DOMException.ABORT_ERR||"AbortError"===e.name)},141815:(e,t,a)=>{a.d(t,{default:()=>o});const o={button:"IconButton__button--egAsj"}},840023:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"VirtualList__root--XpVO4",viewport:"VirtualList__viewport--HarWT"}},213442:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"BlockFilter__root--tWVY7",icon:"BlockFilter__icon--AKZ6c"}},66474:(e,t,a)=>{a.d(t,{default:()=>o});const o={options:"Onboarding__options--3fhaE",saveButton:"Onboarding__saveButton--JiczL",doneBox:"Onboarding__doneBox--Xvb69",headlineDone:"Onboarding__headlineDone--pYTu0",doneBoxIcon:"Onboarding__doneBoxIcon--7nHlq"}},275370:(e,t,a)=>{a.d(t,{default:()=>o});const o={link:"OpenSearchTab__link--tGF8M"}},596910:(e,t,a)=>{a.d(t,{default:()=>o});const o={openSectionSliderCell:"OpenSectionSliderCell__openSectionSliderCell--MXzLQ",openSectionSliderCard:"OpenSectionSliderCell__openSectionSliderCard--ZFLv8",openSectionSliderCellButton:"OpenSectionSliderCell__openSectionSliderCellButton--1WPo8",openSectionSliderCellButtonIcon:"OpenSectionSliderCell__openSectionSliderCellButtonIcon--cLF5l",openSectionSliderCellText:"OpenSectionSliderCell__openSectionSliderCellText--q42oQ"}},507898:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"ShowFilters__root--W9cQr",iconBefore:"ShowFilters__iconBefore--T78Yt",headline:"ShowFilters__headline--1dVyM"}},874921:(e,t,a)=>{a.d(t,{default:()=>o});const o={title:"AudioPlaylist__title--n8LrG",subtitle:"AudioPlaylist__subtitle--1h8fY",year:"AudioPlaylist__year--bmqVe"}},704547:(e,t,a)=>{a.d(t,{default:()=>o});const o={banner:"Banner__banner--ajyPV",actionsWrapper:"Banner__actionsWrapper--1lOAl"}},540909:(e,t,a)=>{a.d(t,{default:()=>o});const o={chips:"Chips__chips--USbQX",chipsFadedOut:"Chips__chipsFadedOut--mbzGE",chipsHidden:"Chips__chipsHidden--4xa6c",chipsHeadline:"Chips__chipsHeadline--PZvxC",chipsSubhead:"Chips__chipsSubhead--36Ndf"}},144033:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"DoubleStackedList__root--YRzWj",rootWithoutGrid:"DoubleStackedList__rootWithoutGrid--v4dt1"}},962125:(e,t,a)=>{a.d(t,{default:()=>o});const o={largeSliderCard:"GroupCategoryLargeItem__largeSliderCard--FRmgy"}},140157:(e,t,a)=>{a.d(t,{default:()=>o});const o={sliderCard:"GroupCollection__sliderCard--RgYQR",singleSliderCard:"GroupCollection__singleSliderCard--xqesh"}},103941:(e,t,a)=>{a.d(t,{default:()=>o});const o={iconLeave:"GroupItem__iconLeave--3Utqz",government:"GroupItem__government--kxTt9",governmentIcon:"GroupItem__governmentIcon--3FxBN",stack:"GroupItem__stack--puENg",sliderCard:"GroupItem__sliderCard--wLQCG",sliderEvent:"GroupItem__sliderEvent--SY4Jq",stacked:"GroupItem__stacked--mJrGZ",blur:"GroupItem__blur--x43js"}},327677:(e,t,a)=>{a.d(t,{default:()=>o});const o={header:"HeaderCompact__header--cZq7Y"}},342079:(e,t,a)=>{a.d(t,{default:()=>o});const o={iconSmall:"Link__iconSmall--UIaIM",iconUrl:"Link__iconUrl--iZLhN"}},780571:(e,t,a)=>{a.d(t,{default:()=>o});const o={searchEntityFlat:"List__searchEntityFlat--Zuso3",searchEntityFlatFirst:"List__searchEntityFlatFirst--3T2fv"}},245665:(e,t,a)=>{a.d(t,{default:()=>o});const o={card:"MarketItem__card--1rVb8",imageWrapper:"MarketItem__imageWrapper--GhuJ5",image:"MarketItem__image--pwqOe",bookmark:"MarketItem__bookmark--Vcvpc",body:"MarketItem__body--aLPya",subtitle:"MarketItem__subtitle--8Cmec",header:"MarketItem__header--wFvOf",oldPrice:"MarketItem__oldPrice--lPb9g",group:"MarketItem__group--JXcH7",caption:"MarketItem__caption--nTYye",verified:"MarketItem__verified--pNJus"}},261233:(e,t,a)=>{a.d(t,{default:()=>o});const o={musicCell:"MusicAudios__musicCell--F4tZa",padding:"MusicAudios__padding--dAFsN",moreIcon:"MusicAudios__moreIcon--RZdYM"}},934393:(e,t,a)=>{a.d(t,{default:()=>o});const o={placeholder:"Placeholder__placeholder--7F7w7",placeholderBig:"Placeholder__placeholderBig--fGylw",placeholderStretched:"Placeholder__placeholderStretched--q6AF8",image:"Placeholder__image--T9aGo"}},828336:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"PlaylistBanner__root--8kKyp",ratio:"PlaylistBanner__ratio--hHVe7",verticalRatio:"PlaylistBanner__verticalRatio--NhL4R",thumb:"PlaylistBanner__thumb--Avefg",blur:"PlaylistBanner__blur--KtJwi",verticalThumb:"PlaylistBanner__verticalThumb--tqLeq",placeholder:"PlaylistBanner__placeholder--puuDK"}},504944:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"PlaylistCard__root--NHOaf",preview:"PlaylistCard__preview--fHOnq",thumb:"PlaylistCard__thumb--mPciY",blur:"PlaylistCard__blur--6xXG8",counter:"PlaylistCard__counter--y27EK",title:"PlaylistCard__title--TQJda"}},916126:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"PlaylistHeader__root--zfRpr",titleWrapper:"PlaylistHeader__titleWrapper--7glTe",avatar:"PlaylistHeader__avatar--mEU6j",title:"PlaylistHeader__title--qFHih",subtitle:"PlaylistHeader__subtitle--VPWLt"}},90330:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"PlaylistPreview__root--YC94K",overlay:"PlaylistPreview__overlay--9ToBL",badge:"PlaylistPreview__badge--8ncV3"}},929477:(e,t,a)=>{a.d(t,{default:()=>o});const o={searchSpellcheck:"SearchSpellchecker__searchSpellcheck--3rV6K",searchSpellcheckSubtitle:"SearchSpellchecker__searchSpellcheckSubtitle--2Ugd2",searchSpellcheckSubtitleButton:"SearchSpellchecker__searchSpellcheckSubtitleButton--qPy5r",searchSpellcheckTitle:"SearchSpellchecker__searchSpellcheckTitle--HysRb",searchSpellcheckQuery:"SearchSpellchecker__searchSpellcheckQuery--FcGkp"}},682624:(e,t,a)=>{a.d(t,{default:()=>o});const o={suggestionItem:"SliderSuggestion__suggestionItem--dsmYR"}},770973:(e,t,a)=>{a.d(t,{default:()=>o});const o={content:"Slider__content--S4KHN",pagination:"Slider__pagination--4j3Nc",groupsItemSliderElement:"Slider__groupsItemSliderElement--ySIGf"}},458431:(e,t,a)=>{a.d(t,{default:()=>o});const o={suggestionRemove:"Suggestion__suggestionRemove--Y6lkf"}},111648:(e,t,a)=>{a.d(t,{default:()=>o});const o={catalogTripleStackedSliderInner:"TripleStackedSliderItems__catalogTripleStackedSliderInner--kSLGO",catalogTripleStackedSliderColumnS:"TripleStackedSliderItems__catalogTripleStackedSliderColumnS--VcScn",catalogTripleStackedSliderColumn:"TripleStackedSliderItems__catalogTripleStackedSliderColumn--jT1kV",row:"TripleStackedSliderItems__row--O3VRd"}},57873:(e,t,a)=>{a.d(t,{default:()=>o});const o={card:"ShortVideoCard__card--HciQa"}},856473:(e,t,a)=>{a.d(t,{default:()=>o});const o={cardRounded:"VideoCard__cardRounded--AFkh1",cardRoundedSmall:"VideoCard__cardRoundedSmall--WVpzt",info:"VideoCard__info--e8Hty",largeCard:"VideoCard__largeCard--6RCf1",main:"VideoCard__main--JSEpE",avatarWrapper:"VideoCard__avatarWrapper--66k0L",titleWrapper:"VideoCard__titleWrapper--YSebH",title:"VideoCard__title--3Z3on",subtitle:"VideoCard__subtitle--PC5qv",userNameWrapper:"VideoCard__userNameWrapper--FVMKl",userName:"VideoCard__userName--hDyqd",verifiedIcon:"VideoCard__verifiedIcon--kEShI",viewIcon:"VideoCard__viewIcon--LKf9f",views:"VideoCard__views--9AxEW"}},586507:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"BlockFilter__root--4YrYX",icon:"BlockFilter__icon--eCFl3"}},352671:(e,t,a)=>{a.d(t,{default:()=>o});const o={banner:"SliderBanner__banner--mfhT9",videoSubscriptionsSelectBg:"SliderBanner__videoSubscriptionsSelectBg--jmUlX",videoTransferFromYoutubeBg:"SliderBanner__videoTransferFromYoutubeBg--cfiTr"}},885470:(e,t,a)=>{a.d(t,{default:()=>o});const o={title:"GroupItem__title--vLpxZ"}},160478:(e,t,a)=>{a.d(t,{default:()=>o});const o={separator:"IslandSeparator__separator--Yv9HF",lowerSeparatorWrapper:"IslandSeparator__lowerSeparatorWrapper--FnnIe",upperSeparator:"IslandSeparator__upperSeparator--8W8XF",lowerSeparator:"IslandSeparator__lowerSeparator--qN8jS"}},58643:(e,t,a)=>{a.d(t,{default:()=>o});const o={list:"ListGrid__list--un8QD"}},526094:(e,t,a)=>{a.d(t,{default:()=>o});const o={container:"PinnedVideo__container--eUI4S"}},505695:(e,t,a)=>{a.d(t,{default:()=>o});const o={container:"SliderPlaylist__container--dWrmd"}},653258:(e,t,a)=>{a.d(t,{default:()=>o});const o={shortVideoList:"ShortVideoList__shortVideoList--AIrxY"}},947946:(e,t,a)=>{a.d(t,{default:()=>o});const o={scrollContainer:"Slider__scrollContainer--Stu8X",groupContainer:"Slider__groupContainer--vlxH4"}},163023:(e,t,a)=>{a.d(t,{default:()=>o});const o={item:"TripleStackedSliderItems__item--dVdi6"}},786176:(e,t,a)=>{a.d(t,{default:()=>o});const o={clipContainer:"SliderShortVideoCard__clipContainer--1gis6"}},623377:(e,t,a)=>{a.d(t,{default:()=>o});const o={sizeM:"VideoCardSlider__sizeM--WidWb",sizeL:"VideoCardSlider__sizeL--0cGhR",sizeS:"VideoCardSlider__sizeS--eGn8r",container:"VideoCardSlider__container--wMRYE"}},253222:(e,t,a)=>{a.d(t,{default:()=>o});const o={sizeM:"VideoCardSliderWrapper__sizeM--lKfsV",sizeL:"VideoCardSliderWrapper__sizeL--M0LvO",sizeS:"VideoCardSliderWrapper__sizeS--BAeTn",container:"VideoCardSliderWrapper__container--HzSoj"}},251138:(e,t,a)=>{a.d(t,{default:()=>o});const o={container:"OpenUrl__container--NqtDh",link:"OpenUrl__link--hA9mc"}},934456:(e,t,a)=>{a.d(t,{default:()=>o});const o={itemVerification:"CatalogUser__itemVerification--vYwE7",extraDescription:"CatalogUser__extraDescription--bQOI1"}},989488:(e,t,a)=>{a.d(t,{default:()=>o});const o={buttonRemove:"CatalogUserButton__buttonRemove--clKSO"}},724072:(e,t,a)=>{a.d(t,{default:()=>o});const o={buttonLeave:"GroupItemButton__buttonLeave--e3d6F"}},440802:(e,t,a)=>{a.d(t,{default:()=>o});const o={government:"GroupItemDescription__government--KoNcP",governmentIcon:"GroupItemDescription__governmentIcon--y2oAQ",userStack:"GroupItemDescription__userStack--hgkU7"}},985219:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"HeaderCompact__root--A715j"}},729265:(e,t,a)=>{a.d(t,{default:()=>o});const o={button:"ClearRecentGroups__button--kmoca",icon:"ClearRecentGroups__icon--Z0LJg",link:"ClearRecentGroups__link--pJ9mD"}},234073:(e,t,a)=>{a.d(t,{default:()=>o});const o={list:"List__list--wuKh2"}},627619:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"Slider__root--GL39x",inner:"Slider__inner--qvBLN"}},162879:(e,t,a)=>{a.d(t,{default:()=>o});const o={authors:"List__authors--3wwGO"}},827217:(e,t,a)=>{a.d(t,{default:()=>o});const o={list:"ListCommunity__list--JBIIY"}},237091:(e,t,a)=>{a.d(t,{default:()=>o});const o={horizontalVideo:"ListVideos__horizontalVideo--1UVl0"}},169786:(e,t,a)=>{a.d(t,{default:()=>o});const o={author:"SearchAuthor__author--DV4OJ"}},555657:(e,t,a)=>{a.d(t,{default:()=>o});const o={searchSpellcheck:"SearchSpellchecker__searchSpellcheck--42uru"}},964213:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"DynamicPagination__root--6kze0",rootHidden:"DynamicPagination__rootHidden--VpXEE",pagination:"DynamicPagination__pagination--tToY2",paginationHidden:"DynamicPagination__paginationHidden--cNIyL"}},793793:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"Snackbar__root--HGitv"}},17173:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"VideoListItem__root--Jb2YU",active:"VideoListItem__active--BS1no",preview:"VideoListItem__preview--WxsqK",info:"VideoListItem__info--Y8IgK",main:"VideoListItem__main--dXnDr",title:"VideoListItem__title--QfaKw",subtitle:"VideoListItem__subtitle--t9PVL",endAdornment:"VideoListItem__endAdornment--9At5J"}},276293:(e,t,a)=>{a.d(t,{default:()=>o});const o={video:"VideoPreview__video--ge4wE",videoRounded:"VideoPreview__videoRounded--1xF8a",videoPage:"VideoPreview__videoPage--mxbot",videoDuration:"VideoPreview__videoDuration--4OljO",videoInteractive:"VideoPreview__videoInteractive--dzZeH",interactiveIcon:"VideoPreview__interactiveIcon--MSD3O",videoLive:"VideoPreview__videoLive--4pa3S",videoUpcomingLive:"VideoPreview__videoUpcomingLive--zKJZx",videoImage:"VideoPreview__videoImage--L4wly",views:"VideoPreview__views--5LAqV",previewFailed:"VideoPreview__previewFailed--u96Ys",processingLabel:"VideoPreview__processingLabel--RBPyj",adultLock:"VideoPreview__adultLock--cQaSZ",cornerIcon:"VideoPreview__cornerIcon--uHf89",cornerIconPrivacy:"VideoPreview__cornerIconPrivacy--7Yu3w",progressBar:"VideoPreview__progressBar--GAdDq",progress:"VideoPreview__progress--Ex8SF",playBtn:"VideoPreview__playBtn--gSWSP",activeIconOverlay:"VideoPreview__activeIconOverlay--mmyI4",videoImageBlur:"VideoPreview__videoImageBlur--0v1Uc",videoBlur:"VideoPreview__videoBlur--zGUvo",overlay:"VideoPreview__overlay--6ghp4"}},706789:(e,t,a)=>{a.d(t,{default:()=>o});const o={overlay:"VideoPreviewOverlay__overlay--QqZOE",title:"VideoPreviewOverlay__title--h8PQQ",icon:"VideoPreviewOverlay__icon--n5ob5",center:"VideoPreviewOverlay__center--cpPfj",text:"VideoPreviewOverlay__text--1ZX2n",blur:"VideoPreviewOverlay__blur--kKzPc"}},320933:(e,t,a)=>{e.exports=a.p+"icons/3ccf7e5538a2b3e1.png"},126468:(e,t,a)=>{e.exports=a.p+"icons/99b52bcc7860598e.png"},981600:(e,t,a)=>{e.exports=a.p+"icons/309c84b2bf7649a4.png"},890031:(e,t,a)=>{e.exports=a.p+"icons/27380207479bae55.png"},144813:(e,t,a)=>{e.exports=a.p+"icons/185a450d8369e998.png"},677620:(e,t,a)=>{e.exports=a.p+"icons/51cab928166b3f7f.png"},806884:(e,t,a)=>{e.exports=a.p+"icons/65dacff3c65f7222.png"},369916:(e,t,a)=>{e.exports=a.p+"icons/ac45eda0fb95c09a.png"},912796:(e,t,a)=>{e.exports=a.p+"icons/221c62f925ff3643.png"},612096:(e,t,a)=>{e.exports=a.p+"icons/3f9ddcf87d8417e1.png"},53976:(e,t,a)=>{e.exports=a.p+"icons/6817ed9f0117bbcc.png"},466101:(e,t,a)=>{e.exports=a.p+"icons/32e664a0b23ccabe.png"},111579:(e,t,a)=>{e.exports=a.p+"icons/e0618453a9c76d6d.png"},785249:(e,t,a)=>{e.exports=a.p+"icons/9021b39b6a693d5f.png"},2847:(e,t,a)=>{e.exports=a.p+"icons/246ccdfadbfaade2.png"},989100:(e,t,a)=>{e.exports=a.p+"icons/496b5c46e87dbf81.png"},470380:(e,t,a)=>{e.exports=a.p+"icons/f6c2768b427d7152.png"},800073:(e,t,a)=>{e.exports=a.p+"icons/1a7b53f02abb2d56.png"},682871:(e,t,a)=>{e.exports=a.p+"icons/7e5fb002d24b07e1.png"},47221:(e,t,a)=>{e.exports=a.p+"icons/6cc35b91f8c4d0ae.png"},626779:(e,t,a)=>{e.exports=a.p+"icons/8e60acd721e6e66d.png"},67091:(e,t,a)=>{e.exports=a.p+"icons/d166f714b3f65499.png"},246847:(e,t,a)=>{e.exports=a.p+"icons/cdec9b7d01b56e8e.png"},105234:(e,t,a)=>{e.exports=a.p+"icons/a78ee04401e212f3.png"},33986:(e,t,a)=>{e.exports=a.p+"icons/6b8b070a217a2c7c.png"},501762:(e,t,a)=>{e.exports=a.p+"icons/e33dc112cec9bb3a.png"},125554:(e,t,a)=>{e.exports=a.p+"icons/babe6642db74a3a8.png"},988705:(e,t,a)=>{e.exports=a.p+"icons/0749331c1904c608.png"},246705:(e,t,a)=>{e.exports=a.p+"icons/83a1b1525cd1590a.png"},22500:(e,t,a)=>{e.exports=a.p+"icons/2d1be6c7a82f5e5a.png"},280616:(e,t,a)=>{e.exports=a.p+"icons/158b2a6044b89e51.png"},674976:(e,t,a)=>{e.exports=a.p+"icons/d969b2f0fe244fcf.png"},734252:(e,t,a)=>{e.exports=a.p+"icons/b331d96a2ba3e100.png"},934679:(e,t,a)=>{a.d(t,{IconLiveText20h:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 42 20",width:42,height:20,vkuiIconId:"live_text_20h",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,o.jsx)("path",{d:"M8 5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4a1 1 0 1 0 0-2H9V6a1 1 0 0 0-1-1m7 1a1 1 0 1 1 2 0v8a1 1 0 1 1-2 0zm15-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4a1 1 0 1 0 0-2h-3v-2h3a1 1 0 1 0 0-2h-3V7h3a1 1 0 1 0 0-2zm-8.325 9.31-2.55-7.824a1 1 0 0 1-.117-.363L19 6.1h.005a1 1 0 1 1 1.99-.199L21 5.9l2 6.4 2-6.4h.005a1 1 0 0 1 1.99.2H27l-.008.023a1 1 0 0 1-.118.363l-2.55 7.824a1 1 0 0 1-.95.69h-.748a1 1 0 0 1-.95-.69Z"})})},558294:(e,t,a)=>{a.d(t,{Icon40VkVideoLogo:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsxs)(r.SvgIconRootV2,{viewBox:"0 0 40 40",width:40,height:40,vkuiIconId:"vk_video_logo_40",vkuiAttrs:{fill:"none"},vkuiProps:e,children:[(0,o.jsxs)("g",{clipPath:"url(#vk_video_logo_40__a)",children:[(0,o.jsx)("path",{fill:"#07F",d:"M0 14.624C0 2.581 2.581 0 14.624 0h10.752C37.419 0 40 2.581 40 14.624v10.752C40 37.419 37.419 40 25.376 40H14.624C2.581 40 0 37.419 0 25.376z"}),(0,o.jsx)("path",{fill:"#FF2B42",d:"M21.493 40h3.814c11.816 0 14.566-2.462 14.689-13.793q.004-.408.004-.831V14.624q0-.457-.005-.895C39.863 2.452 37.1 0 25.307 0h-3.814C9.393 0 6.8 2.581 6.8 14.624v10.752C6.8 37.419 9.393 40 21.493 40"}),(0,o.jsx)("path",{fill:"#fff",d:"M28.225 16.54c2.022 1.167 3.033 1.75 3.373 2.513a2.57 2.57 0 0 1 0 2.088c-.34.763-1.35 1.346-3.373 2.514l-5.541 3.199c-2.022 1.168-3.033 1.751-3.863 1.664a2.57 2.57 0 0 1-1.809-1.044c-.49-.675-.49-1.843-.49-4.178v-6.398c0-2.335 0-3.503.49-4.178a2.57 2.57 0 0 1 1.809-1.044c.83-.087 1.84.497 3.863 1.664z"})]}),(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:"vk_video_logo_40__a",children:(0,o.jsx)("path",{fill:"#fff",d:"M0 0h40v40H0z"})})})]})},509163:(e,t,a)=>{a.d(t,{RasterIcon20LockShadow:()=>s});var o=a(506447),r=a(320933),i=a(126468),n=a(981600);const s=(0,o.makeRasterIcon)("RasterIcon20LockShadow","lock_shadow",20,{lightmdpi:r,lightxhdpi:i,lightxxhdpi:n})},621258:(e,t,a)=>{a.d(t,{RasterIcon24BusinessVerified:()=>d});var o=a(506447),r=a(144813),i=a(890031),n=a(53976),s=a(612096),l=a(470380),c=a(989100);const d=(0,o.makeRasterIcon)("RasterIcon24BusinessVerified","business_verified",24,{lightmdpi:r,darkmdpi:i,lightxhdpi:n,darkxhdpi:s,lightxxhdpi:l,darkxxhdpi:c})},69381:(e,t,a)=>{a.d(t,{RasterIcon24CrownVerified:()=>d});var o=a(506447),r=a(806884),i=a(677620),n=a(111579),s=a(466101),l=a(682871),c=a(800073);const d=(0,o.makeRasterIcon)("RasterIcon24CrownVerified","crown_verified",24,{lightmdpi:r,darkmdpi:i,lightxhdpi:n,darkxhdpi:s,lightxxhdpi:l,darkxxhdpi:c})},918277:(e,t,a)=>{a.d(t,{RasterIcon24Verified:()=>d});var o=a(506447),r=a(912796),i=a(369916),n=a(2847),s=a(785249),l=a(626779),c=a(47221);const d=(0,o.makeRasterIcon)("RasterIcon24Verified","verified",24,{lightmdpi:r,darkmdpi:i,lightxhdpi:n,darkxhdpi:s,lightxxhdpi:l,darkxxhdpi:c})},130149:(e,t,a)=>{a.d(t,{RasterIcon40CheckCircleShadow:()=>s});var o=a(506447),r=a(988705),i=a(22500),n=a(674976);const s=(0,o.makeRasterIcon)("RasterIcon40CheckCircleShadow","check_circle_shadow",40,{lightmdpi:r,lightxhdpi:i,lightxxhdpi:n})},243517:(e,t,a)=>{a.d(t,{RasterIcon40CircleOutlineShadow:()=>s});var o=a(506447),r=a(246705),i=a(280616),n=a(734252);const s=(0,o.makeRasterIcon)("RasterIcon40CircleOutlineShadow","circle_outline_shadow",40,{lightmdpi:r,lightxhdpi:i,lightxxhdpi:n})},133785:(e,t,a)=>{a.d(t,{RasterIcon48CheckCircleShadowLarge:()=>s});var o=a(506447),r=a(67091),i=a(105234),n=a(501762);const s=(0,o.makeRasterIcon)("RasterIcon48CheckCircleShadowLarge","check_circle_shadow_large",48,{lightmdpi:r,lightxhdpi:i,lightxxhdpi:n})},606753:(e,t,a)=>{a.d(t,{RasterIcon48CircleOutlineShadowLarge:()=>s});var o=a(506447),r=a(246847),i=a(33986),n=a(125554);const s=(0,o.makeRasterIcon)("RasterIcon48CircleOutlineShadowLarge","circle_outline_shadow_large",48,{lightmdpi:r,lightxhdpi:i,lightxxhdpi:n})},684273:(e,t,a)=>{a.d(t,{Icon12Flag:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 12 12",width:12,height:12,vkuiIconId:"flag_12",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,o.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M1.75 0A.75.75 0 0 0 1 .75v9.5a.75.75 0 0 0 1.5 0V6.805c.261.112.533.184.808.192.79.022 1.525-.227 2.257-.5q.25-.094.5-.19c.626-.241 1.25-.482 1.915-.596.733-.149 1.492-.258 2.143.123l.232.149a.094.094 0 0 0 .145-.079V1.47c0-.25 0-.376-.063-.554A1.5 1.5 0 0 0 10.172.5a.9.9 0 0 0-.315-.217 2.9 2.9 0 0 0-.95-.27c-.68-.06-1.33.094-1.968.312a72 72 0 0 0-.866.307c-.56.202-1.12.403-1.689.576A2.94 2.94 0 0 1 2.5 1.2V.75A.75.75 0 0 0 1.75 0",clipRule:"evenodd"})})},707427:(e,t,a)=>{a.d(t,{Icon16ChainOutline:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 16 16",width:16,height:16,vkuiIconId:"chain_outline_16",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,o.jsx)("path",{d:"M10.422 3.023a1.82 1.82 0 0 1 2.552 0 1.77 1.77 0 0 1-.003 2.502l-.746.747a.75.75 0 0 0 1.06 1.06l.746-.744a3.25 3.25 0 0 0-.002-4.631 3.32 3.32 0 0 0-4.661 0L6.14 5.153a3.25 3.25 0 0 0 0 4.633.75.75 0 1 0 1.054-1.067 1.75 1.75 0 0 1 0-2.5zM5.575 12.98a1.82 1.82 0 0 1-2.552 0 1.75 1.75 0 0 1 0-2.5l.754-.754a.75.75 0 1 0-1.06-1.06l-.75.75a3.25 3.25 0 0 0 .002 4.63 3.32 3.32 0 0 0 4.661 0l3.228-3.197a3.25 3.25 0 0 0 0-4.632.75.75 0 0 0-1.054 1.067 1.75 1.75 0 0 1 0 2.499z"})})},373561:(e,t,a)=>{a.d(t,{Icon16Clock:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 16 16",width:16,height:16,vkuiIconId:"clock_16",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m.9-11.5a.9.9 0 1 0-1.8 0V8a.9.9 0 0 0 .264.636l2.1 2.1a.9.9 0 1 0 1.272-1.272L8.9 7.627z",clipRule:"evenodd"})})},532795:(e,t,a)=>{a.d(t,{Icon16CrownVerified:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 16 16",width:16,height:16,vkuiIconId:"crown_verified_16",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,o.jsx)("path",{d:"M13.715 4.442a.77.77 0 0 1 .886-.11h.01c.282.16.433.48.373.8L14.129 9.5H1.865L1.01 5.133a.75.75 0 0 1 .383-.801.76.76 0 0 1 .886.11l.01.01q.015.03.06.06l.071.06.18.15c.212.17.514.4.846.62.333.22.695.421 1.027.541.353.12.604.15.765.12.091-.02.292-.13.574-.48.262-.32.524-.76.745-1.221.222-.45.403-.9.534-1.241.06-.16.11-.3.14-.4l.017-.038c.013-.033.024-.058.024-.073v-.03c.1-.31.393-.52.725-.52s.624.21.725.52v.03l.016.044.024.067a20 20 0 0 0 .141.4c.13.34.312.79.534 1.24.231.461.483.892.745 1.222.281.35.483.46.573.48.171.03.423.01.765-.12a5 5 0 0 0 1.027-.54c.333-.22.635-.45.846-.62l.18-.15.072-.06a.2.2 0 0 1 .049-.051l.011-.01zM2.158 11l.15.768A2.77 2.77 0 0 0 5.028 14h5.94c1.329 0 2.466-.93 2.718-2.232l.15-.768z"})})},378204:(e,t,a)=>{a.d(t,{Icon16DownloadOutline:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 16 16",width:16,height:16,vkuiIconId:"download_outline_16",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,o.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.75 1.75a.75.75 0 0 0-1.5 0v6.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44zm-6 10.75a.75.75 0 0 0 0 1.5h10.5a.75.75 0 0 0 0-1.5z",clipRule:"evenodd"})})},540431:(e,t,a)=>{a.d(t,{Icon16DropdownOutline:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 16 12",width:16,height:12,vkuiIconId:"dropdown_outline_16",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,o.jsx)("path",{fill:"currentColor",d:"m8 6.778 3.773-3.107a.75.75 0 1 1 .954 1.158l-4.25 3.5a.75.75 0 0 1-.954 0l-4.25-3.5a.75.75 0 0 1 .954-1.158z"})})},745401:(e,t,a)=>{a.d(t,{Icon16ListPlayOutline:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 16 16",width:16,height:16,vkuiIconId:"list_play_outline_16",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,o.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M2 3.75A.75.75 0 0 1 2.75 3h10.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 3.75m0 8.5a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75M2 8a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5A.75.75 0 0 1 2 8m12.684 3.036a.625.625 0 0 0 0-1.086L9.947 7.085A.632.632 0 0 0 9 7.626v5.748c0 .481.526.782.947.541z"})})},355940:(e,t,a)=>{a.d(t,{Icon16Poll:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 16 16",width:16,height:16,vkuiIconId:"poll_16",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,o.jsx)("g",{fill:"currentColor",children:(0,o.jsx)("path",{d:"M3 6a1 1 0 0 1 2 0v6a1 1 0 1 1-2 0zM7 2a1 1 0 0 1 2 0v10a1 1 0 1 1-2 0zM11 8a1 1 0 1 1 2 0v4a1 1 0 1 1-2 0z"})})})},22225:(e,t,a)=>{a.d(t,{Icon20AddSquareOutline:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"add_square_outline_20",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,o.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.6 3.5H8.4c-1.145 0-1.913.001-2.505.05-.574.047-.849.13-1.03.223a2.5 2.5 0 0 0-1.093 1.092c-.092.181-.175.456-.222 1.03-.049.592-.05 1.36-.05 2.505v3.2c0 1.145.001 1.913.05 2.505.047.574.13.849.223 1.03a2.5 2.5 0 0 0 1.092 1.093c.181.092.456.176 1.03.222.592.049 1.36.05 2.505.05h3.2c1.145 0 1.913-.001 2.505-.05.574-.046.849-.13 1.03-.223a2.5 2.5 0 0 0 1.093-1.092c.092-.181.176-.456.222-1.03.049-.592.05-1.36.05-2.505V8.4c0-1.145-.001-1.913-.05-2.505-.046-.574-.13-.849-.223-1.03a2.5 2.5 0 0 0-1.092-1.092c-.181-.093-.456-.177-1.03-.224-.592-.048-1.36-.049-2.505-.049m-9.164.684C2 5.04 2 6.16 2 8.4v3.2c0 2.24 0 3.36.436 4.216a4 4 0 0 0 1.748 1.748C5.04 18 6.16 18 8.4 18h3.2c2.24 0 3.36 0 4.216-.436a4 4 0 0 0 1.748-1.748C18 14.96 18 13.84 18 11.6V8.4c0-2.24 0-3.36-.436-4.216a4 4 0 0 0-1.748-1.748C14.96 2 13.84 2 11.6 2H8.4c-2.24 0-3.36 0-4.216.436a4 4 0 0 0-1.748 1.748M10 6.004a.75.75 0 0 1 .75.75V9.25h2.496a.75.75 0 0 1 0 1.5H10.75v2.5a.75.75 0 0 1-1.5 0v-2.5H6.754a.75.75 0 0 1 0-1.5H9.25V6.753a.75.75 0 0 1 .75-.75",clipRule:"evenodd"})})},786936:(e,t,a)=>{a.d(t,{Icon20BookmarkOutline:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"bookmark_outline_20",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,o.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.317 1.5h1.366c.952 0 1.713 0 2.327.05.63.052 1.172.16 1.67.413a4.25 4.25 0 0 1 1.857 1.858c.253.497.361 1.04.413 1.67.05.613.05 1.374.05 2.326v6.57c0 .776 0 1.41-.044 1.9-.044.484-.14.981-.452 1.37a2.25 2.25 0 0 1-1.773.84c-.498-.004-.943-.245-1.345-.516-.408-.276-.899-.677-1.5-1.169l-.842-.688c-.279-.228-.457-.373-.602-.474a.8.8 0 0 0-.239-.132.75.75 0 0 0-.406 0 .8.8 0 0 0-.239.132c-.145.101-.323.246-.602.474l-.842.688c-.601.492-1.092.893-1.5 1.169-.402.271-.847.512-1.345.516a2.25 2.25 0 0 1-1.773-.84c-.312-.389-.408-.886-.452-1.37C3 15.798 3 15.165 3 14.388v-6.57c0-.952 0-1.713.05-2.327.052-.63.16-1.172.413-1.67A4.25 4.25 0 0 1 5.32 1.964c.498-.253 1.04-.361 1.67-.413.614-.05 1.375-.05 2.327-.05M7.112 3.045c-.537.044-.86.127-1.11.255A2.75 2.75 0 0 0 4.8 4.502c-.128.25-.21.573-.255 1.11-.044.546-.045 1.245-.045 2.238v6.5c0 .823 0 1.388.038 1.802.04.429.108.541.127.565a.75.75 0 0 0 .591.28c.03 0 .161-.018.518-.259.344-.233.782-.59 1.42-1.111l.832-.68c.254-.208.475-.389.671-.526.21-.146.43-.273.694-.348a2.25 2.25 0 0 1 1.218 0c.263.075.485.202.694.348.196.137.417.318.67.526l.833.68c.638.52 1.076.878 1.42 1.111.356.241.488.259.518.259a.75.75 0 0 0 .59-.28c.02-.024.089-.136.128-.565.037-.414.038-.98.038-1.803V7.85c0-.992 0-1.692-.045-2.238-.044-.537-.127-.86-.255-1.11A2.75 2.75 0 0 0 13.998 3.3c-.25-.128-.573-.21-1.11-.255C12.342 3.001 11.643 3 10.65 3h-1.3c-.992 0-1.692 0-2.238.045",clipRule:"evenodd"})})},657842:(e,t,a)=>{a.d(t,{Icon20BookmarkSlashOutline:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsxs)(r.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"bookmark_slash_outline_20",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:[(0,o.jsx)("path",{fillRule:"evenodd",d:"M3.28 1.22a.75.75 0 0 0-1.06 1.06l1.348 1.348a4 4 0 0 0-.105.193c-.253.497-.361 1.04-.413 1.67C3 6.103 3 6.864 3 7.816v6.57c0 .777 0 1.41.044 1.9.044.484.14.981.452 1.37a2.25 2.25 0 0 0 1.773.84c.498-.004.943-.245 1.345-.516.408-.276.899-.677 1.5-1.169l.842-.688c.279-.228.457-.373.602-.474a.8.8 0 0 1 .239-.133.75.75 0 0 1 .406 0 .8.8 0 0 1 .239.133c.145.101.323.246.602.474l.842.688c.601.491 1.092.893 1.5 1.169.402.271.847.512 1.345.516a2.25 2.25 0 0 0 1.773-.84c.18-.225.285-.48.351-.741l.865.864a.75.75 0 1 0 1.06-1.06zm12.212 14.333L4.695 4.756c-.07.214-.12.483-.15.856-.044.546-.045 1.246-.045 2.238v6.5c0 .823 0 1.388.038 1.802.04.429.109.541.127.565a.75.75 0 0 0 .591.28c.03 0 .161-.018.518-.259.344-.233.782-.59 1.42-1.111l.832-.68c.254-.208.475-.389.671-.526a2.3 2.3 0 0 1 .694-.348 2.27 2.27 0 0 1 1.218 0c.264.075.485.202.694.348.196.137.417.318.67.526l.833.68c.638.52 1.076.878 1.42 1.111.356.241.488.259.518.259a.75.75 0 0 0 .59-.28c.01-.012.053-.073.09-.278a6 6 0 0 0 .068-.886",clipRule:"evenodd"}),(0,o.jsx)("path",{d:"M10.65 3c.992 0 1.692 0 2.238.045.537.044.86.127 1.11.255A2.75 2.75 0 0 1 15.2 4.502c.128.25.21.573.255 1.11.044.546.045 1.246.045 2.238V11a.75.75 0 0 0 1.5 0V7.817c0-.952 0-1.713-.05-2.327-.052-.63-.16-1.172-.413-1.67a4.25 4.25 0 0 0-1.857-1.857c-.498-.253-1.04-.361-1.67-.413-.614-.05-1.375-.05-2.327-.05H7.5a.75.75 0 0 0 0 1.5z"})]})},753833:(e,t,a)=>{a.d(t,{Icon20CheckAlt:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"check_alt_20",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M16.659 5.344a1.16 1.16 0 0 1 0 1.645L8.82 14.812a1.167 1.167 0 0 1-1.649 0l-3.83-3.823a1.16 1.16 0 0 1 0-1.646 1.167 1.167 0 0 1 1.648 0l3.007 3 7.013-7a1.167 1.167 0 0 1 1.649 0Z",clipRule:"evenodd"})})},690272:(e,t,a)=>{a.d(t,{Icon20ChevronCircleOutline:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"chevron_circle_outline_20",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M10 18.5a8.5 8.5 0 1 0 0-17 8.5 8.5 0 0 0 0 17m7-8.5a7 7 0 1 1-14 0 7 7 0 0 1 14 0M9.53 6.47a.75.75 0 0 0-1.06 1.06L10.94 10l-2.47 2.47a.75.75 0 1 0 1.06 1.06l3-3a.75.75 0 0 0 0-1.06z",clipRule:"evenodd"})})},44348:(e,t,a)=>{a.d(t,{Icon20ClockOutline:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"clock_outline_20",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,o.jsxs)("g",{fill:"currentColor",children:[(0,o.jsx)("path",{d:"M10.25 6.5a.75.75 0 0 0-1.5 0v4a.75.75 0 0 0 .516.713l3.5 1.15a.75.75 0 1 0 .468-1.425l-2.984-.981z"}),(0,o.jsx)("path",{fillRule:"evenodd",d:"M18.5 10a8.5 8.5 0 1 0-17 0 8.5 8.5 0 0 0 17 0M3 10a7 7 0 1 1 14 0 7 7 0 0 1-14 0",clipRule:"evenodd"})]})})},863318:(e,t,a)=>{a.d(t,{Icon20DeleteClockOutline:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"delete_clock_outline_20",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M8.418 4a1.75 1.75 0 0 1 3.164 0zm-1.58 0a3.25 3.25 0 0 1 6.325 0h4.087a.75.75 0 0 1 0 1.5h-.545l-.155 1.573a.75.75 0 0 1-1.493-.146l.14-1.427H4.803l.896 9.14c.051.527.087.882.134 1.156.046.265.095.4.147.492a1.4 1.4 0 0 0 .654.593c.177.078.431.113 1.172.118a.75.75 0 0 1-.01 1.5c-.69-.005-1.261-.022-1.768-.246a2.9 2.9 0 0 1-1.354-1.228c-.17-.302-.259-.624-.319-.973a18 18 0 0 1-.146-1.238L3.295 5.5H2.75a.75.75 0 0 1 0-1.5h4.087ZM14 19c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8a.75.75 0 0 1 .75.75v1.849l.913.608a.75.75 0 1 1-.832 1.248l-1.247-.831A.75.75 0 0 1 13.25 14v-2.25A.75.75 0 0 1 14 11",clipRule:"evenodd"})})},473148:(e,t,a)=>{a.d(t,{Icon20FavoriteOutline:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"favorite_outline_20",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,o.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.408 3.134a.92.92 0 0 0-.825 0c-.049.024-.19.13-.443.598-.244.448-.522 1.086-.919 2.003-.16.37-.327.739-.482 1.112-.02.049-.084.204-.196.332a1 1 0 0 1-.33.252c-.168.08-.351.097-.384.102l-.682.096c-.993.14-1.685.24-2.184.356-.52.121-.66.229-.697.269a.92.92 0 0 0-.218.798c.01.053.077.217.462.587.37.355.916.792 1.7 1.419l.248.2c.028.021.187.137.294.303.08.125.133.266.153.413.025.18-.012.355-.023.41-.029.139-.053.279-.08.418-.217 1.15-.371 1.964-.432 2.56-.066.636.003.822.026.86a.92.92 0 0 0 .747.442c.045.002.24-.029.765-.393.492-.343 1.129-.87 2.03-1.619l.315-.262c.038-.031.093-.077.147-.116.067-.047.172-.114.315-.154a1 1 0 0 1 .56 0c.143.04.249.107.315.154.054.039.11.085.148.116l.315.262c.9.748 1.537 1.276 2.03 1.619.524.364.72.395.764.393a.92.92 0 0 0 .747-.441c.024-.039.092-.225.027-.86-.062-.597-.215-1.41-.433-2.561q-.038-.21-.08-.418a1.3 1.3 0 0 1-.023-.41 1 1 0 0 1 .153-.413c.107-.166.266-.282.294-.304l.249-.199c.783-.627 1.329-1.064 1.699-1.419.386-.37.452-.534.462-.587a.92.92 0 0 0-.218-.798c-.036-.04-.176-.148-.697-.27-.498-.116-1.19-.214-2.184-.355-.23-.032-.462-.068-.694-.097-.052-.007-.218-.028-.372-.101a1 1 0 0 1-.33-.252c-.122-.14-.187-.313-.2-.343l-.478-1.101c-.397-.917-.675-1.555-.918-2.003-.254-.467-.395-.574-.443-.598ZM8.895 1.761a2.45 2.45 0 0 1 2.2 0c.5.25.83.732 1.103 1.236.281.516.585 1.218.963 2.09l.413.953.523.074c.945.133 1.706.24 2.28.375.56.13 1.113.32 1.488.738a2.46 2.46 0 0 1 .582 2.128c-.11.55-.49.996-.906 1.394-.426.408-1.026.888-1.77 1.484l-.112.09.044.231c.209 1.103.376 1.982.444 2.652.066.64.073 1.3-.243 1.817a2.46 2.46 0 0 1-1.991 1.176c-.605.025-1.178-.3-1.706-.667-.553-.384-1.24-.955-2.104-1.672l-.108-.09-.108.09c-.864.717-1.55 1.288-2.104 1.672-.527.367-1.101.692-1.706.667a2.46 2.46 0 0 1-1.991-1.176c-.315-.517-.309-1.177-.243-1.817.069-.67.235-1.549.445-2.652l.044-.232-.112-.089c-.745-.596-1.345-1.077-1.77-1.484-.416-.398-.796-.844-.907-1.394a2.46 2.46 0 0 1 .582-2.128c.375-.417.929-.608 1.489-.738.574-.134 1.335-.242 2.28-.375l.522-.074.413-.953c.378-.872.682-1.574.963-2.09.274-.504.603-.986 1.103-1.236",clipRule:"evenodd"})})},264992:(e,t,a)=>{a.d(t,{Icon20ListAddOutline:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"list_add_outline_20",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,o.jsxs)("g",{fill:"currentColor",children:[(0,o.jsx)("path",{d:"M2 4.75A.75.75 0 0 1 2.75 4h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 4.75M2 9.75A.75.75 0 0 1 2.75 9h12.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 9.75M2 14.75a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1-.75-.75"}),(0,o.jsx)("path",{fillRule:"evenodd",d:"M19.28 12.22a.75.75 0 0 1 0 1.06l-4.495 4.496a.75.75 0 0 1-1.06 0l-2.503-2.495a.75.75 0 0 1 1.06-1.062l1.972 1.966 3.966-3.965a.75.75 0 0 1 1.06 0",clipRule:"evenodd"})]})})},382965:(e,t,a)=>{a.d(t,{Icon20LogoClipsOutline:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"logo_clips_outline_20",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,o.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.194 1.502a.85.85 0 0 1 .904.792l.25 3.8a.85.85 0 0 1-1.697.112l-.25-3.8a.85.85 0 0 1 .793-.904m5.893.181a.85.85 0 0 1 .58 1.053l-1.35 4.651a.85.85 0 0 1-1.633-.474l1.35-4.65a.85.85 0 0 1 1.053-.58m.589 7.08a.75.75 0 0 1 1.057-.082c1.48 1.268 1.767 2.88 1.767 4.07 0 2.678-2.309 5.75-6.5 5.75-3.118 0-6.504-2.219-6.504-5.75 0-.677.218-1.588.776-2.349C4.854 9.61 5.796 9 7.142 9c.387 0 1.892.13 2.784 1.915a.75.75 0 1 1-1.341.67C8.048 10.513 7.232 10.5 7.143 10.5c-.833 0-1.34.352-1.662.79a2.62 2.62 0 0 0-.485 1.462c0 2.425 2.407 4.25 5.004 4.25 3.36 0 5-2.4 5-4.25 0-.953-.223-2.058-1.243-2.932a.75.75 0 0 1-.081-1.058",clipRule:"evenodd"})})},208103:(e,t,a)=>{a.d(t,{Icon20MessageOutline:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"message_outline_20",vkuiProps:e,children:(0,o.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,o.jsx)("path",{d:"M0 0h20v20H0z",opacity:".4"}),(0,o.jsx)("path",{fill:"currentColor",fillRule:"nonzero",d:"M6.828 15.752a.75.75 0 0 1 .821-.207A7.5 7.5 0 0 0 10.25 16c3.772 0 6.75-2.694 6.75-6s-2.978-6-6.75-6S3.5 6.694 3.5 10c0 1.21.4 2.367 1.14 3.349a.75.75 0 0 1 .15.49c-.04.756-.403 1.785-1.085 3.135 1.483-.116 2.514-.534 3.123-1.222M3.242 18.5a1.204 1.204 0 0 1-1.101-1.767c.644-1.216 1.016-2.14 1.121-2.73A7 7 0 0 1 2 10c0-4.17 3.681-7.5 8.25-7.5S18.5 5.83 18.5 10s-3.681 7.5-8.25 7.5a9 9 0 0 1-2.66-.393c-.996.881-2.456 1.336-4.348 1.393"})]})})},845794:(e,t,a)=>{a.d(t,{Icon20MinusSquareOutline:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"minus_square_outline_20",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M8.4 3.5h3.2c1.145 0 1.913.001 2.505.05.574.046.849.13 1.03.222a2.5 2.5 0 0 1 1.092 1.093c.093.181.177.456.224 1.03.048.592.049 1.36.049 2.505v3.2c0 1.145-.001 1.913-.05 2.505-.046.574-.13.849-.223 1.03a2.5 2.5 0 0 1-1.092 1.092c-.181.093-.456.177-1.03.224-.592.048-1.36.049-2.505.049H8.4c-1.145 0-1.913-.001-2.505-.05-.574-.046-.849-.13-1.03-.223a2.5 2.5 0 0 1-1.093-1.092c-.092-.181-.176-.456-.222-1.03-.049-.592-.05-1.36-.05-2.505V8.4c0-1.145.001-1.913.05-2.505.046-.574.13-.849.222-1.03a2.5 2.5 0 0 1 1.093-1.093c.181-.092.456-.176 1.03-.222.592-.049 1.36-.05 2.505-.05M2 8.4c0-2.24 0-3.36.436-4.216a4 4 0 0 1 1.748-1.748C5.04 2 6.16 2 8.4 2h3.2c2.24 0 3.36 0 4.216.436a4 4 0 0 1 1.748 1.748C18 5.04 18 6.16 18 8.4v3.2c0 2.24 0 3.36-.436 4.216a4 4 0 0 1-1.748 1.748C14.96 18 13.84 18 11.6 18H8.4c-2.24 0-3.36 0-4.216-.436a4 4 0 0 1-1.748-1.748C2 14.96 2 13.84 2 11.6zm4.75.85a.75.75 0 0 0 0 1.5h6.5a.75.75 0 0 0 0-1.5z",clipRule:"evenodd"})})},168325:(e,t,a)=>{a.d(t,{Icon20NotificationOutline:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"notification_outline_20",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,o.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.5 8a4.5 4.5 0 0 1 9-.008v1.674c0 .297.106.584.299.81l1.523 1.787a.75.75 0 0 1-.571 1.237H4.249a.75.75 0 0 1-.57-1.237L5.2 10.478a1.25 1.25 0 0 0 .299-.811V8m-1.488-.385a6 6 0 0 1 11.976 0Q16 7.68 16 7.75v1.823l1.463 1.717c1.245 1.461.207 3.71-1.712 3.71h-2.076a3.751 3.751 0 0 1-7.35 0H4.249c-1.919 0-2.957-2.249-1.712-3.71L4 9.575V7.75q0-.069.012-.135M10 16.5A2.25 2.25 0 0 1 7.878 15h4.244A2.25 2.25 0 0 1 10 16.5",clipRule:"evenodd"})})},971711:(e,t,a)=>{a.d(t,{Icon20NotificationSlashOutline:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsxs)(r.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"notification_slash_outline_20",vkuiAttrs:{fill:"none"},vkuiProps:e,children:[(0,o.jsx)("path",{fill:"currentColor",d:"M10 3.5c-.747 0-1.45.182-2.068.503a.75.75 0 0 1-1.01-.32.75.75 0 0 1 .32-1.011A6 6 0 0 1 10 2a6 6 0 0 1 5.984 5.615c.023.126.012.258.012.385v1.574l1.462 1.717c.428.502.651 1.222.492 1.872a.748.748 0 0 1-1.456-.34.74.74 0 0 0-.176-.56l-1.522-1.786a1.25 1.25 0 0 1-.299-.811V7.992A4.5 4.5 0 0 0 10 3.5"}),(0,o.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.515 5.572 2.225 3.28a.75.75 0 0 1 0-1.06.75.75 0 0 1 1.06 0l14.49 14.5a.75.75 0 0 1 0 1.06.75.75 0 0 1-1.06 0L13.937 15h-.264a3.75 3.75 0 0 1-7.346 0H4.253c-1.918 0-2.955-2.249-1.711-3.71l1.462-1.716V7.75a1 1 0 0 1 .012-.136 6 6 0 0 1 .5-2.042m7.923 7.928L5.68 6.74A4.5 4.5 0 0 0 5.504 8v1.666c0 .297-.106.585-.299.81l-1.522 1.788a.75.75 0 0 0 .57 1.236zM7.879 15a2.25 2.25 0 0 0 4.242 0z",clipRule:"evenodd"})]})},757295:(e,t,a)=>{a.d(t,{Icon20PinOutline:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"pin_outline_20",vkuiProps:e,children:(0,o.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,o.jsx)("path",{d:"M0 0h20v20H0z"}),(0,o.jsx)("path",{fill:"currentColor",fillRule:"nonzero",d:"M11.332 2.604a.75.75 0 0 1 1.266-.384l5.182 5.183a.75.75 0 0 1-.383 1.265l-1.54.308a.3.3 0 0 0-.152.082l-2.463 2.463a.3.3 0 0 0-.086.187l-.297 3.858a1.012 1.012 0 0 1-1.724.638l-3.139-3.139-4.716 4.716a.75.75 0 0 1-1.133-.977l.073-.084 4.715-4.716-3.139-3.138a1.01 1.01 0 0 1-.084-1.336l.084-.095c.171-.171.397-.275.638-.294l3.859-.296a.3.3 0 0 0 .187-.086l2.463-2.464a.3.3 0 0 0 .081-.151Zm1.196 1.668-.033.166c-.07.348-.24.667-.491.918L9.54 7.819a1.8 1.8 0 0 1-1.133.521l-2.801.216 5.837 5.837.216-2.8c.03-.374.174-.729.413-1.015l.108-.118 2.464-2.463c.25-.251.57-.422.918-.492l.165-.033z"})]})})},968637:(e,t,a)=>{a.d(t,{Icon20PinSlashOutline:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"pin_slash_outline_20",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,o.jsx)("g",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",children:(0,o.jsx)("path",{d:"M17.965 8.15a.75.75 0 0 1-.57.519l-1.567.315a.25.25 0 0 0-.134.075c-.224.241-.457.472-.69.705a.75.75 0 0 1-1.06-1.06l.65-.665c.25-.27.578-.453.938-.525l.194-.04-3.2-3.198-.036.182a1.75 1.75 0 0 1-.48.901l-.708.706a.75.75 0 0 1-1.057-1.064l.704-.702a.25.25 0 0 0 .069-.13l.306-1.563a.75.75 0 0 1 1.266-.386l5.187 5.183a.75.75 0 0 1 .188.747M7.996 13.065l3.139 3.14c.607.606 1.616.23 1.719-.586.084-.835.13-1.674.194-2.51l1.672 1.671a.75.75 0 1 0 1.06-1.06l-9.5-9.5a.75.75 0 1 0-1.06 1.06l1.67 1.67c-.845.067-1.718.076-2.555.206-.81.157-1.116 1.132-.539 1.71l3.139 3.138-4.788 4.8a.75.75 0 0 0 1.133.977zm3.448 1.33.208-2.682-3.369-3.369-2.67.212z"})})})},255121:(e,t,a)=>{a.d(t,{Icon20UserAddOutline:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"user_add_outline_20",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M12.5 8.5a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5M8.5 6a4 4 0 1 1 8 0 4 4 0 0 1-8 0m-4-.25a.75.75 0 1 0-1.5 0v2H1a.75.75 0 0 0 0 1.5h2v2a.75.75 0 0 0 1.5 0v-2h2a.75.75 0 0 0 0-1.5h-2zm4.155 7.227c.865-.458 2.194-.727 3.845-.727 1.65 0 2.98.27 3.845.727.794.42 1.155.959 1.155 1.71a.7.7 0 0 1-.05.288.3.3 0 0 1-.092.12c-.077.063-.26.155-.599.155H8.241c-.34 0-.522-.092-.6-.156a.3.3 0 0 1-.09-.12.7.7 0 0 1-.051-.287c0-.751.36-1.29 1.155-1.71M12.5 10.75c-1.774 0-3.38.283-4.547.902C6.783 12.27 6 13.26 6 14.688c0 .688.268 1.217.687 1.563.408.337.956.499 1.554.499h8.518c.598 0 1.146-.162 1.555-.499.418-.346.686-.875.686-1.564 0-1.426-.783-2.416-1.953-3.035-1.168-.619-2.773-.902-4.547-.902",clipRule:"evenodd"})})},843387:(e,t,a)=>{a.d(t,{Icon20ViewOutline:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"view_outline_20",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,o.jsxs)("g",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",children:[(0,o.jsx)("path",{d:"M13 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0m-1.5 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"}),(0,o.jsx)("path",{d:"M19 10c0 3.5-5 6-9 6s-9-2.5-9-6 5-6 9-6 9 2.5 9 6m-1.5 0c0 .983-.72 2.084-2.278 3.03-1.517.92-3.498 1.47-5.222 1.47s-3.705-.55-5.222-1.47C3.22 12.084 2.5 10.983 2.5 10s.72-2.084 2.278-3.03C6.295 6.05 8.275 5.5 10 5.5s3.705.55 5.222 1.47C16.78 7.916 17.5 9.017 17.5 10"})]})})},954647:(e,t,a)=>{a.d(t,{Icon20WriteOutline:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"write_outline_20",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,o.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M13.076 2.649A2.22 2.22 0 0 1 14.645 2c.566 0 1.135.216 1.568.649l1.137 1.136a2.21 2.21 0 0 1 0 3.133l-.941.94-9.17 9.179a3.3 3.3 0 0 1-2.33.963H3a1 1 0 0 1-1-1v-1.893a3.3 3.3 0 0 1 .965-2.34l8.123-8.132zm2.286 4.135.927-.926a.71.71 0 0 0 0-1.013l-1.137-1.136a.71.71 0 0 0-.507-.21.71.71 0 0 0-.507.21l-.927.926zM12.135 5.71l-8.109 8.118a1.8 1.8 0 0 0-.525 1.266V16.2a.3.3 0 0 0 .3.3H4.91c.475 0 .931-.189 1.267-.525l8.11-8.118-2.152-2.148z",clipRule:"evenodd"})})},548099:(e,t,a)=>{a.d(t,{Icon24ChevronRight:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 24 24",width:24,height:24,vkuiIconId:"chevron_right_24",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,o.jsx)("path",{fill:"currentColor",d:"M14.232 12 8.116 5.884a1.25 1.25 0 1 1 1.768-1.768l7 7a1.25 1.25 0 0 1 0 1.768l-7 7a1.25 1.25 0 0 1-1.768-1.768z"})})},78021:(e,t,a)=>{a.d(t,{Icon24Filter:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 24 24",width:24,height:24,vkuiIconId:"filter_24",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M6.242 8.9a2.901 2.901 0 0 0 5.516 0H20a.9.9 0 1 0 0-1.8h-8.242a2.901 2.901 0 0 0-5.515 0H4a.9.9 0 1 0 0 1.8zM9 6.9a1.1 1.1 0 1 0 0 2.2 1.1 1.1 0 0 0 0-2.2M3.1 16a.9.9 0 0 1 .9-.9h8.242a2.901 2.901 0 0 1 5.516 0H20a.9.9 0 1 1 0 1.8h-2.242a2.901 2.901 0 0 1-5.516 0H4a.9.9 0 0 1-.9-.9m10.8 0a1.1 1.1 0 1 1 2.2 0 1.1 1.1 0 0 1-2.2 0",clipRule:"evenodd"})})},900388:(e,t,a)=>{a.d(t,{Icon28ChevronRightOutline:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 28 28",width:28,height:28,vkuiIconId:"chevron_right_outline_28",vkuiProps:e,children:(0,o.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,o.jsx)("path",{d:"M0 0h28v28H0z"}),(0,o.jsx)("path",{stroke:"#8BC1FF",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m11 7.5 6.5 6.5-6.5 6.5"}),(0,o.jsx)("path",{fill:"currentColor",fillRule:"nonzero",d:"m16.086 14-5.793 5.793a1 1 0 0 0 1.414 1.414l6.5-6.5a1 1 0 0 0 0-1.414l-6.5-6.5a1 1 0 0 0-1.414 1.414z"})]})})},206412:(e,t,a)=>{a.d(t,{Icon28FavoriteOutline:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 28 28",width:28,height:28,vkuiIconId:"favorite_outline_28",vkuiProps:e,children:(0,o.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,o.jsx)("path",{d:"M0 0h28v28H0z"}),(0,o.jsx)("path",{fill:"currentColor",fillRule:"nonzero",d:"m14 19.178 5.69 3.476a.205.205 0 0 0 .306-.223l-1.547-6.485 5.064-4.338a.205.205 0 0 0-.117-.36l-6.646-.533-2.56-6.156a.205.205 0 0 0-.38 0l-2.56 6.156-6.646.533a.205.205 0 0 0-.117.36l5.064 4.338-1.547 6.485a.205.205 0 0 0 .306.223zm0 2.344L9.352 24.36a2.205 2.205 0 0 1-3.294-2.393l1.264-5.297-4.136-3.543a2.205 2.205 0 0 1 1.258-3.873l5.429-.435 2.091-5.028a2.205 2.205 0 0 1 4.072 0l2.091 5.028 5.429.435a2.205 2.205 0 0 1 1.258 3.873l-4.136 3.543 1.264 5.297a2.205 2.205 0 0 1-3.294 2.393z"})]})})},516744:(e,t,a)=>{a.d(t,{Icon28HistoryBackwardOutline:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 28 28",width:28,height:28,vkuiIconId:"history_backward_outline_28",vkuiProps:e,children:(0,o.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,o.jsx)("path",{d:"M0 0h28v28H0z"}),(0,o.jsx)("path",{fill:"currentColor",fillRule:"nonzero",d:"M14 2c6.627 0 12 5.373 12 12s-5.373 12-12 12c-3.226 0-6.251-1.28-8.487-3.516a1 1 0 0 1 1.415-1.414A9.96 9.96 0 0 0 14 24c5.523 0 10-4.477 10-10S19.523 4 14 4a9.97 9.97 0 0 0-7.143 3H8.5a1 1 0 0 1 .117 1.993L8.5 9h-4a1 1 0 0 1-.993-.883L3.5 8V4a1 1 0 0 1 1.993-.117L5.5 4v1.529A11.97 11.97 0 0 1 14 2m0 6a1 1 0 0 1 .993.883L15 9v4.586l2.707 2.707a1 1 0 0 1-1.32 1.497l-.094-.083-3-3a1 1 0 0 1-.284-.576L13 14V9a1 1 0 0 1 1-1"})]})})},128704:(e,t,a)=>{a.d(t,{Icon28PlayCircleFillRed:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsxs)(r.SvgIconRootV2,{viewBox:"0 0 28 28",width:28,height:28,vkuiIconId:"play_circle_fill_red_28",vkuiAttrs:{fill:"none"},vkuiProps:e,children:[(0,o.jsx)("circle",{cx:"14",cy:"14",r:"14",fill:"url(#play_circle_fill_red_28__a)"}),(0,o.jsx)("path",{fill:"#fff",d:"M19.024 13.13c.635.384.635 1.354 0 1.738l-6.612 3.997c-.63.38-1.412-.1-1.412-.868v-7.995c0-.768.783-1.25 1.412-.869l6.612 3.998Z"}),(0,o.jsx)("defs",{children:(0,o.jsxs)("linearGradient",{id:"play_circle_fill_red_28__a",x1:"0",x2:"28.733",y1:"0",y2:".773",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#FF5263"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#FF3347"})]})})]})},386872:(e,t,a)=>{a.d(t,{Icon28SearchOutline:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 28 28",width:28,height:28,vkuiIconId:"search_outline_28",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,o.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M13 4a9 9 0 1 0 5.618 16.032l4.675 4.675a1 1 0 0 0 1.414-1.414l-4.675-4.675A9 9 0 0 0 13 4m0 2a7 7 0 1 0 0 14 7 7 0 0 0 0-14",clipRule:"evenodd"})})},310182:(e,t,a)=>{a.d(t,{Icon28UserCircleFillBlue:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsxs)(r.SvgIconRootV2,{viewBox:"0 0 28 28",width:28,height:28,vkuiIconId:"user_circle_fill_blue_28",vkuiAttrs:{fill:"none"},vkuiProps:e,children:[(0,o.jsx)("circle",{cx:"14",cy:"14",r:"14",fill:"url(#user_circle_fill_blue_28__a)"}),(0,o.jsx)("path",{fill:"#fff",d:"M16.75 11.25a2.75 2.75 0 1 0-5.5 0 2.75 2.75 0 1 0 5.5 0M8.5 18.115v.715c0 .37.3.67.67.67h9.66c.37 0 .67-.3.67-.67v-.715C19.5 15.692 15.836 15 14 15s-5.5.692-5.5 3.115"}),(0,o.jsx)("defs",{children:(0,o.jsxs)("linearGradient",{id:"user_circle_fill_blue_28__a",x1:"0",x2:"28.733",y1:"0",y2:".773",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#70B2FF"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#5C9CE6"})]})})]})},65956:(e,t,a)=>{a.d(t,{Icon36Hearts2Outline:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsxs)(r.SvgIconRootV2,{viewBox:"0 0 36 36",width:36,height:36,vkuiIconId:"hearts_2_outline_36",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:[(0,o.jsx)("path",{fillRule:"evenodd",d:"M3 20.54C3 16.907 5.998 14 9.645 14c1.872 0 3.492.82 4.855 2.257C15.864 14.82 17.483 14 19.355 14 23.002 14 26 16.906 26 20.54c0 1.926-.529 3.443-1.791 4.993-1.191 1.461-3.049 2.965-5.639 4.94l-2.712 2.07c-.8.61-1.915.61-2.715 0l-2.713-2.07c-2.59-1.975-4.447-3.479-5.638-4.94C3.529 23.983 3 22.466 3 20.54m6.645-4.04c-2.312 0-4.145 1.832-4.145 4.04 0 1.348.33 2.308 1.23 3.414.972 1.193 2.584 2.523 5.216 4.531l2.554 1.948 2.554-1.948c2.633-2.008 4.244-3.338 5.216-4.531.901-1.106 1.23-2.066 1.23-3.413 0-2.209-1.832-4.041-4.145-4.041-1.254 0-2.481.627-3.685 2.247a1.458 1.458 0 0 1-2.34 0c-1.203-1.62-2.43-2.247-3.685-2.247",clipRule:"evenodd"}),(0,o.jsx)("path",{fillRule:"evenodd",d:"M11 10.06C11 6.638 13.935 4 17.382 4c1.77 0 3.312.738 4.618 2.042C23.306 4.738 24.848 4 26.618 4 30.065 4 33 6.638 33 10.06c0 1.273-.26 2.39-.904 3.48-.622 1.052-1.562 2.009-2.793 3.04a1.25 1.25 0 1 1-1.605-1.917c1.154-.966 1.839-1.707 2.245-2.396.385-.65.557-1.315.557-2.207 0-1.891-1.66-3.56-3.882-3.56-1.19 0-2.342.567-3.468 2.013a1.46 1.46 0 0 1-2.3 0C19.724 7.067 18.573 6.5 17.382 6.5c-2.222 0-3.882 1.669-3.882 3.56q0 .235.016.448a1.25 1.25 0 0 1-2.493.187A9 9 0 0 1 11 10.06",clipRule:"evenodd"})]})},499121:(e,t,a)=>{a.d(t,{Icon36ListPlayOutline:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 36 36",width:36,height:36,vkuiIconId:"list_play_outline_36",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M4 9.25C4 8.56 4.56 8 5.25 8h23.5a1.25 1.25 0 1 1 0 2.5H5.25C4.56 10.5 4 9.94 4 9.25m0 8c0-.69.56-1.25 1.25-1.25h11.5a1.25 1.25 0 1 1 0 2.5H5.25c-.69 0-1.25-.56-1.25-1.25m0 8c0-.69.56-1.25 1.25-1.25h11.5a1.25 1.25 0 1 1 0 2.5H5.25c-.69 0-1.25-.56-1.25-1.25m28.416-1.801a1.238 1.238 0 0 1 0 2.102l-8.575 5.269c-.808.497-1.841-.093-1.841-1.051V19.23c0-.958 1.033-1.548 1.841-1.051l8.575 5.269Z"})})},586594:(e,t,a)=>{a.d(t,{Icon56ErrorOutline:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 56 56",width:56,height:56,vkuiIconId:"error_outline_56",vkuiProps:e,children:(0,o.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,o.jsx)("path",{d:"M0 0h56v56H0z"}),(0,o.jsx)("path",{fill:"currentColor",fillRule:"nonzero",d:"M28 4c13.255 0 24 10.745 24 24S41.255 52 28 52 4 41.255 4 28 14.745 4 28 4m0 3C16.402 7 7 16.402 7 28s9.402 21 21 21 21-9.402 21-21S39.598 7 28 7m0 27a2 2 0 1 1 0 4 2 2 0 0 1 0-4m0-17.5a1.5 1.5 0 0 1 1.5 1.5v11l-.007.144A1.5 1.5 0 0 1 26.5 29V18l.007-.144A1.5 1.5 0 0 1 28 16.5"})]})})},974081:(e,t,a)=>{a.d(t,{Icon56LikeOutline:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 56 56",width:56,height:56,vkuiIconId:"like_outline_56",vkuiProps:e,children:(0,o.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,o.jsx)("path",{d:"M0 0h56v56H0z"}),(0,o.jsx)("path",{fill:"currentColor",fillRule:"nonzero",d:"M18.29 11C11.501 11 6 16.502 6 23.29c0 6.865 2.752 10.308 14.455 19.41l5.396 4.198a3.5 3.5 0 0 0 4.298 0l5.396-4.197C47.248 33.598 50 30.155 50 23.289 50 16.502 44.498 11 37.71 11c-3.66 0-6.91 1.736-9.71 5.098C25.2 12.736 21.95 11 18.29 11m0 3c3.129 0 5.933 1.756 8.476 5.434l.206.297a1.25 1.25 0 0 0 2.056 0l.206-.297C31.777 15.756 34.58 14 37.71 14A9.29 9.29 0 0 1 47 23.29c0 5.616-2.29 8.482-13.297 17.043l-5.396 4.197a.5.5 0 0 1-.614 0l-5.396-4.197C11.29 31.772 9 28.906 9 23.289A9.29 9.29 0 0 1 18.29 14"})]})})},812009:(e,t,a)=>{a.d(t,{Icon56ListPlayOutline:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 56 56",width:56,height:56,vkuiIconId:"list_play_outline_56",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,o.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M24 39.5a1.5 1.5 0 0 0-1.5-1.5h-15a1.5 1.5 0 0 0 0 3h15a1.5 1.5 0 0 0 1.5-1.5m0-12a1.5 1.5 0 0 0-1.5-1.5h-15a1.5 1.5 0 0 0 0 3h15a1.5 1.5 0 0 0 1.5-1.5m26-12a1.5 1.5 0 0 0-1.5-1.5h-41a1.5 1.5 0 0 0 0 3h41a1.5 1.5 0 0 0 1.5-1.5m-.164 19.687c-.264-.593-1.05-1.047-2.62-1.956l-9.413-5.45c-1.576-.913-2.364-1.369-3.01-1.301a2 2 0 0 0-1.41.813C33 27.819 33 28.729 33 30.55v10.9c0 1.82 0 2.731.382 3.257a2 2 0 0 0 1.41.813c.647.068 1.435-.389 3.011-1.3l9.414-5.45c1.57-.91 2.355-1.364 2.619-1.957a2 2 0 0 0 0-1.626",clipRule:"evenodd"})})},534492:(e,t,a)=>{a.d(t,{Icon56MarketOutline:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 56 56",width:56,height:56,vkuiIconId:"market_outline_56",vkuiProps:e,children:(0,o.jsxs)("g",{fill:"none",fillRule:"nonzero",children:[(0,o.jsx)("path",{d:"M0 0h56v56H0z"}),(0,o.jsx)("path",{fill:"currentColor",d:"M28 6c5.523 0 10 4.477 10 10h2.59c2.23 0 3.037.232 3.852.668a4.54 4.54 0 0 1 1.89 1.89c.436.815.668 1.623.668 3.852v13.77c0 4.458-.464 6.075-1.336 7.704a9.1 9.1 0 0 1-3.78 3.78c-1.63.872-3.246 1.336-7.703 1.336H21.819c-4.457 0-6.074-.464-7.703-1.336a9.1 9.1 0 0 1-3.78-3.78C9.464 42.254 9 40.638 9 36.181V22.41c0-2.23.232-3.037.668-3.852a4.54 4.54 0 0 1 1.89-1.89c.815-.436 1.623-.668 3.852-.668H18c0-5.523 4.477-10 10-10m12.83 13H15.41c-1.58 0-2.005.082-2.437.313a1.55 1.55 0 0 0-.66.66c-.219.409-.304.813-.312 2.197L12 36.18c0 3.612.255 4.931.981 6.29a6.1 6.1 0 0 0 2.55 2.549c1.358.726 2.677.981 6.288.981h12.362c3.61 0 4.93-.255 6.288-.981a6.1 6.1 0 0 0 2.55-2.55c.726-1.358.981-2.677.981-6.288V22.41c0-1.58-.082-2.005-.313-2.437a1.55 1.55 0 0 0-.66-.66c-.409-.219-.813-.304-2.197-.312m-21.287 3c.328 0 .58.06.792.174s.378.28.491.491c.114.212.174.464.174.792v.086c0 .328-.06.58-.174.792s-.28.378-.491.491c-.212.114-.464.174-.792.174h-.086c-.328 0-.58-.06-.792-.174a1.2 1.2 0 0 1-.491-.491c-.114-.212-.174-.464-.174-.792v-.086c0-.328.06-.58.174-.792s.28-.378.491-.491c.212-.114.464-.174.792-.174zm17 0c.328 0 .58.06.792.174s.378.28.491.491c.114.212.174.464.174.792v.086c0 .328-.06.58-.174.792s-.28.378-.491.491c-.212.114-.464.174-.792.174h-.086c-.328 0-.58-.06-.792-.174a1.2 1.2 0 0 1-.491-.491c-.114-.212-.174-.464-.174-.792v-.086c0-.328.06-.58.174-.792s.28-.378.491-.491c.212-.114.464-.174.792-.174zM28 9a7 7 0 0 0-7 7h14a7 7 0 0 0-7-7"})]})})},760045:(e,t,a)=>{a.d(t,{Icon56UserAddOutline:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 56 56",width:56,height:56,vkuiIconId:"user_add_outline_56",vkuiProps:e,children:(0,o.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,o.jsx)("path",{d:"M0 0h56v56H0z"}),(0,o.jsx)("path",{fill:"currentColor",fillRule:"nonzero",d:"M45 19.5c0-3.592-2.908-6.5-6.5-6.5a6.5 6.5 0 0 0-6.5 6.5c0 3.592 2.908 6.5 6.5 6.5s6.5-2.908 6.5-6.5m3 0c0 5.248-4.252 9.5-9.5 9.5a9.5 9.5 0 0 1-9.5-9.5c0-5.248 4.252-9.5 9.5-9.5s9.5 4.252 9.5 9.5M25.5 41.071c0 1.932-.003 1.929 1.147 1.929h24.706c1.15 0 1.147.003 1.147-1.929C52.5 36.565 46.338 34 39 34s-13.5 2.565-13.5 7.071M39 31c8.838 0 16.5 3.19 16.5 10.071 0 3.533-1.278 4.929-4.147 4.929H26.647c-2.87 0-4.147-1.396-4.147-4.929C22.5 34.19 30.162 31 39 31M11.5 14a1.5 1.5 0 0 1 1.5 1.5V24h8.5a1.5 1.5 0 0 1 0 3H13v8.5a1.5 1.5 0 0 1-3 0V27H1.5a1.5 1.5 0 0 1 0-3H10v-8.5a1.5 1.5 0 0 1 1.5-1.5"})]})})},347929:(e,t,a)=>{a.d(t,{Icon56VideoOutline:()=>i});var o=a(474848),r=(a(296540),a(506447));const i=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 56 56",width:56,height:56,vkuiIconId:"video_outline_56",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,o.jsx)("path",{fill:"currentColor",d:"M37.745 6c3.566 0 4.859.371 6.162 1.069s2.327 1.72 3.025 3.024C47.629 11.396 48 12.69 48 16.256v23.489c0 3.566-.371 4.859-1.068 6.162a7.27 7.27 0 0 1-3.025 3.025C42.604 49.629 41.311 50 37.745 50h-19.49c-3.565 0-4.859-.371-6.162-1.068-1.304-.698-2.327-1.72-3.024-3.025S8 43.311 8 39.745v-23.49c0-3.565.371-4.859 1.069-6.162.697-1.304 1.72-2.327 3.024-3.024S14.689 6 18.255 6zm.314 3H18.256c-2.799 0-3.761.186-4.749.714a4.27 4.27 0 0 0-1.793 1.793c-.508.95-.7 1.876-.713 4.434L11 39.745c0 2.798.186 3.76.714 4.748a4.27 4.27 0 0 0 1.793 1.793c.988.528 1.95.714 4.749.714h19.489c2.798 0 3.76-.186 4.748-.714a4.27 4.27 0 0 0 1.793-1.793c.528-.988.714-1.95.714-4.748v-23.49c0-2.798-.186-3.76-.714-4.748a4.27 4.27 0 0 0-1.793-1.793c-.95-.508-1.876-.7-4.434-.713M18.72 38c.445 0 .606.046.77.134q.245.132.377.378c.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.9.9 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.9.9 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.9.9 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm20 0c.445 0 .606.046.77.134q.245.132.377.378c.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.9.9 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.9.9 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.9.9 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm-20-8c.445 0 .606.046.77.134q.245.132.377.378c.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.9.9 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.9.9 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.9.9 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm20 0c.445 0 .606.046.77.134q.245.132.377.378c.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.9.9 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.9.9 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.9.9 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm-20-8c.445 0 .606.046.77.134q.245.132.377.378c.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.9.9 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.9.9 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.9.9 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm20 0c.445 0 .606.046.77.134q.245.132.377.378c.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.9.9 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.9.9 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.9.9 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm-20-8c.445 0 .606.046.77.134q.245.132.377.378c.088.162.134.324.134.77v1.436c0 .446-.046.607-.134.77a.9.9 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.9.9 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.9.9 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm20 0c.445 0 .606.046.77.134q.245.132.377.378c.088.162.134.324.134.77v1.436c0 .446-.046.607-.134.77a.9.9 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.9.9 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.9.9 0 0 1 .378-.378c.163-.088.324-.134.77-.134z"})})}}])}if("undefined"!=typeof window&&window.partConfigEnabled?.("static_loading_execute_errors"))try{e(),window.stManager?.done?.("dist/web/chunks/b84ac669.90922553.js")}catch(e){throw window.stManager?.fail?.("dist/web/chunks/b84ac669.90922553.js",e),e}else e(),"undefined"!=typeof window&&window.stManager?.done?.("dist/web/chunks/b84ac669.90922553.js");