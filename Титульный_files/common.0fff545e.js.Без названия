/*! For license information please see common.0fff545e.js.LICENSE.txt */
function sourceFn(){(self.webpackChunkvkweb=self.webpackChunkvkweb||[]).push([[23592],{365006:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.API_VERSION=void 0,t.API_VERSION="5.253"},695368:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.API_ERROR_PARAM_USER_ID=t.API_ERROR_ACTION_FAILED=t.API_ERROR_SAVE_FILE=t.API_ERROR_NOT_FOUND=t.API_ERROR_LIMITS=t.API_ERROR_PARAM_API_ID=t.API_ERROR_PARAM=t.API_ERROR_SECTION_DISABLED=t.API_ERROR_IP_IS_NOT_ALLOWED=t.API_ERROR_ADDITIONAL_SIGNUP_REQUIRED=t.API_ERROR_UNKNOWN_GROUP=t.API_ERROR_UNKNOWN_USER=t.API_ERROR_UNKNOWN_APPLICATION=t.API_ERROR_USER_BANNED=t.API_ERROR_TIMEOUT=t.API_ERROR_CLIENT_UPDATE_NEEDED=t.API_ERROR_CLIENT_VERSION_DEPRECATED=t.API_ERROR_NOT_IMPLEMENTED_YET=t.API_ERROR_WAIT=t.API_ERROR_USER_INVALID=t.API_ERROR_PRIVATE_PROFILE=t.API_ERROR_RATE_LIMIT=t.API_ERROR_APP_AUTH=t.API_ERROR_GROUP_AUTH=t.API_ERROR_INVALID_RECEIPT=t.API_ERROR_NEED_TOKEN_CONFIRMATION=t.API_ERROR_NEED_CONFIRMATION=t.API_ERROR_METHOD_DISABLED=t.API_ERROR_UPLOAD=t.API_ERROR_METHOD_ADS=t.API_ERROR_METHOD_PERMISSION=t.API_ERROR_BLOCKED=t.API_ERROR_USER_DELETED=t.API_ERROR_AUTH_VALIDATION=t.API_ERROR_AUTH_HTTPS=t.API_ERROR_ACCESS=t.API_ERROR_CAPTCHA=t.API_ERROR_RUNTIME=t.API_ERROR_COMPILE=t.API_ERROR_ENABLED_IN_TEST=t.API_ERROR_SERVER=t.API_ERROR_FLOOD=t.API_ERROR_REQUEST=t.API_ERROR_PERMISSION=t.API_ERROR_TOO_MANY=t.API_ERROR_AUTH=t.API_ERROR_SIGNATURE=t.API_ERROR_METHOD=t.API_ERROR_DISABLED=t.API_ERROR_UNKNOWN=void 0,t.API_ERROR_WALL_COMMENT_NOT_DELETED=t.API_ERROR_FRIENDS_TOO_MANY_FRIENDS=t.API_ERROR_LIKES_REACTION_CAN_NOT_BE_APPLIED=t.API_ERROR_WALL_DONUT=t.API_ERROR_WALL_ADS_POST_LIMIT_REACHED=t.API_ERROR_WALL_REPLY_OWNER_FLOOD=t.API_ERROR_WALL_LINKS_FORBIDDEN=t.API_ERROR_STATUS_NO_AUDIO=t.API_ERROR_WALL_TOO_MANY_RECIPIENTS=t.API_ERROR_WALL_ADS_PUBLISHED=t.API_ERROR_WALL_ALREADY_UNLIKED=t.API_ERROR_WALL_ALREADY_LIKED=t.API_ERROR_WALL_ADD_POST=t.API_ERROR_WALL_ACCESS_ADD_REPLY=t.API_ERROR_WALL_ACCESS_REPLIES=t.API_ERROR_WALL_ACCESS_COMMENT=t.API_ERROR_WALL_ACCESS_POST=t.API_ERROR_ACCESS_AUTOLOGIN=t.API_ERROR_ACCESS_EMAIL=t.API_ERROR_ACCESS_MARKET=t.API_ERROR_ACCESS_VIDEO=t.API_ERROR_ACCESS_GROUP=t.API_ERROR_ACCESS_AUDIO=t.API_ERROR_ACCESS_ALBUM=t.API_ERROR_ACCESS_COMMENT=t.API_ERROR_ACCESS_NOTE_COMMENT=t.API_ERROR_ACCESS_NOTE=t.API_ERROR_PARAM_NOTE_ID=t.API_ERROR_FRIENDS_ADD_NOT_FOUND=t.API_ERROR_FRIENDS_ADD_ENEMY=t.API_ERROR_FRIENDS_ADD_IN_ENEMY=t.API_ERROR_FRIENDS_ADD_YOURSELF=t.API_ERROR_FRIENDS_LIST_LIMIT=t.API_ERROR_FRIENDS_LIST_ID=t.API_ERROR_PARAM_TIMESTAMP=t.API_ERROR_ACCESS_MENU=t.API_ERROR_INSUFFICIENT_FUNDS=t.API_ERROR_MOBILE_NOT_ACTIVATED=t.API_ERROR_ACCESS_PAGE=t.API_ERROR_PARAM_PAGE_ID=t.API_ERROR_PARAM_PHOTO=t.API_ERROR_PARAM_SCHOOL_ID=t.API_ERROR_PARAM_GROUP_ID=t.API_ERROR_PARAM_STATUS=t.API_ERROR_PARAM_AUDIO=t.API_ERROR_PARAM_PHOTOS=t.API_ERROR_PARAM_HASH=t.API_ERROR_PARAM_TITLE=t.API_ERROR_PARAM_SERVER=t.API_ERROR_PARAM_ALBUM_ID=void 0,t.API_ERROR_ADS_PARAM_DOMAIN_GROUP_LOW_POSTS_REACH=t.API_ERROR_ADS_PARAM_DOMAIN_GROUP_WRONG_NAME=t.API_ERROR_ADS_PARAM_DOMAIN_GROUP_WRONG_CATEGORY=t.API_ERROR_ADS_PARAM_DOMAIN_GROUP_FORBIDDEN_COVER=t.API_ERROR_ADS_PARAM_DOMAIN_GROUP_FORBIDDEN_SEARCH=t.API_ERROR_ADS_PARAM_DOMAIN_GROUP_FORBIDDEN_LINKS=t.API_ERROR_ADS_PARAM_DOMAIN_GROUP_BLOCKED=t.API_ERROR_ADS_PARAM_DOMAIN_GROUP_NOT_POSSIBLE_YET=t.API_ERROR_ADS_PARAM_DOMAIN_GROUP_NOT_OPEN=t.API_ERROR_ADS_PARAM_DOMAIN_APP_BLOCKED=t.API_ERROR_ADS_PARAM_DOMAIN_GROUP_FORBIDDEN=t.API_ERROR_ADS_PARAM_DOMAIN_GROUP_INVALID=t.API_ERROR_ADS_PARAM_DOMAIN_WRONG_TYPE=t.API_ERROR_ADS_APP_BLOCKED=t.API_ERROR_APP_NOT_IN_SITE_DOMAINS=t.API_ERROR_ADS_APP_NOT_VERIFIED=t.API_ERROR_ADS_PARAM_DOMAIN_APP_FORBIDDEN=t.API_ERROR_ADS_PARAM_DOMAIN_APP_INVALID=t.API_ERROR_ADS_PARAM_DOMAIN_ACTIVE=t.API_ERROR_ADS_PARAM_DOMAIN_OCCUPIED=t.API_ERROR_ADS_PARAM_DOMAIN_RESERVED=t.API_ERROR_ADS_PARAM_DOMAIN_FORBIDDEN=t.API_ERROR_ADS_PARAM_DOMAIN_INVALID=t.API_ERROR_ADS_SPECIFIC=t.API_ERROR_ADS_PARTIAL_SUCCESS=t.API_ERROR_WEIGHTED_FLOOD=t.API_ERROR_ADS_PERMISSION=t.API_ERROR_WRONG_PIN=t.API_ERROR_TRANSACTION_NOT_FOUND=t.API_ERROR_TRANSACTION_STATUS=t.API_ERROR_PARAM_AMOUNT=t.API_ERROR_WITHDRAW=t.API_ERROR_BALANCE=t.API_ERROR_VOTES_PERMISSION=t.API_ERROR_AUDIO_PLAYLISTS_LIMIT=t.API_ERROR_AUDIO_SEARCH_SESSION_EXPIRED=t.API_ERROR_FILESIZE=t.API_ERROR_ALBUMS_LIMIT=t.API_ERROR_FILENAME=t.API_ERROR_ALBUM_FULL=t.API_ERROR_UNFOLLOW_ARTIST_WRONG_FORMAT=t.API_ERROR_FOLLOW_ARTIST_WRONG_FORMAT=t.API_ERROR_FOLLOW_ARTIST_ACCESS_DENIED=t.API_ERROR_AUDIO_ALBUM_DUPLICATE=t.API_ERROR_AUDIO_CLAIMED=t.API_ERROR_ACCESS_GROUPS=t.API_ERROR_POLLS_ACCESS_WITHOUT_VOTE=t.API_ERROR_POLLS_ANSWER_ID=t.API_ERROR_POLLS_POLL_ID=t.API_ERROR_POLLS_ACCESS=void 0,t.API_ERROR_MESSAGES_EMAIL_NO_ACCESS=t.API_ERROR_MESSAGES_CHAT_USER_NO_ACCESS=t.API_ERROR_MESSAGES_GROUP_MESSAGES_FORBIDDEN=t.API_ERROR_MESSAGES_GROUP_MESSAGES_OFF=t.API_ERROR_MESSAGES_TOO_LONG_MESSAGE=t.API_ERROR_MESSAGES_TOO_LONG_FORWARDS=t.API_ERROR_MESSAGES_CHAT_BOT_FEATURE=t.API_ERROR_MESSAGES_KEYBOARD_INVALID=t.API_ERROR_MESSAGES_TOO_BIG=t.API_ERROR_MESSAGES_EDIT_EXPIRED=t.API_ERROR_MESSAGES_TOO_NEW_PTS=t.API_ERROR_MESSAGES_TOO_OLD_PTS=t.API_ERROR_MESSAGES_PHONE_NUMBER_NOT_VERIFIED=t.API_ERROR_MESSAGES_PHONE_NUMBER_NO_MOBILE_APP=t.API_ERROR_MESSAGES_PRIVACY=t.API_ERROR_MESSAGES_DENY_SEND=t.API_ERROR_MESSAGES_USER_BLOCKED=t.API_ERROR_VIDEO_TRY_LATER=t.API_ERROR_VIDEO_COMMENTS_CLOSED=t.API_ERROR_VIDEO_ALREADY_ADDED=t.API_ERROR_GROUP_LIST_IS_NOT_OBSOLETE=t.API_ERROR_GROUP_DONUT_DISABLED=t.API_ERROR_GROUP_INVITE_LINKS_USER_IN_CLUB=t.API_ERROR_GROUP_INVITE_LINKS_NOT_VALID=t.API_ERROR_GROUP_INVITE_LINKS_CANT_USE=t.API_ERROR_GROUP_CHAT_CANT_DELETE=t.API_ERROR_GROUP_APP_IS_NOT_INSTALLED_IN_COMMUNITY=t.API_ERROR_GROUP_PAYLOAD_FLOOD=t.API_ERROR_GROUP_PAYLOAD_SIGNATURE_EXPIRED=t.API_ERROR_GROUP_PAYLOAD_SIGNATURE_INVALID=t.API_ERROR_GROUP_PAYLOAD_MAX_LENGTH=t.API_ERROR_GROUP_TOO_MANY_ADDRESSES=t.API_ERROR_GROUP_HOST_NEED_2FA=t.API_ERROR_GROUP_NEED_2FA=t.API_ERROR_GROUP_TOO_MANY_OFFICERS=t.API_ERROR_GROUP_NOT_IN_CLUB=t.API_ERROR_GROUP_CHANGE_CREATOR=t.API_ERROR_ADS_PARAM_DOMAIN_GROUP_LOW_SUBSCRIBERS_GROWTH=t.API_ERROR_ADS_ALREADY_CREATED=t.API_ERROR_ADS_PARAM_DOMAIN_GROUP_NEMESIS_PUNISHMENT=t.API_ERROR_ADS_LOOKALIKE_REQUEST_EXPORT_RETARGETING_GROUP_LIMIT=t.API_ERROR_ADS_LOOKALIKE_REQUEST_EXPORT_MAX_COUNT_PER_DAY_REACHED=t.API_ERROR_ADS_LOOKALIKE_REQUEST_EXPORT_ALREADY_IN_PROGRESS=t.API_ERROR_ADS_LOOKALIKE_REQUEST_AUDIENCE_TOO_LARGE=t.API_ERROR_ADS_LOOKALIKE_REQUEST_AUDIENCE_TOO_SMALL=t.API_ERROR_ADS_LOOKALIKE_REQUEST_MAX_COUNT_PER_DAY_REACHED=t.API_ERROR_ADS_LOOKALIKE_REQUEST_ALREADY_IN_PROGRESS=t.API_ERROR_ADS_OBJECT_DELETED=t.API_ERROR_ADS_PARAM_DOMAIN_GROUP_RECENTLY_CREATED=t.API_ERROR_ADS_PARAM_DOMAIN_GROUP_WRONG_CLASS=void 0,t.API_ERROR_MESSAGES_TRANSLATION_INVALID_LANGUAGES=t.API_ERROR_MESSAGES_TRANSLATION_CANT_TRANSLATE=t.API_ERROR_MESSAGES_TRANSLATION_INVALID_MESSAGE=t.API_ERROR_MESSAGES_CANT_PIN_EXPIRING_MESSAGE=t.API_ERROR_MESSAGES_MESSAGE_CANNOT_BE_FORWARDED=t.API_ERROR_MESSAGES_TRANSLATION_UNSUPPORTED_LANGUAGE=t.API_ERROR_MESSAGES_CHAT_MEMBER_NOT_STAFF=t.API_ERROR_MESSAGES_CONVERSATION_STYLE_UPDATE_FLOOD=t.API_ERROR_MESSAGES_NOT_ARCHIVED=t.API_ERROR_MESSAGES_ALREADY_ARCHIVED=t.API_ERROR_MESSAGES_CALL_JOIN_NOT_ALLOWED=t.API_ERROR_MESSAGES_USER_NOT_DON=t.API_ERROR_MESSAGES_OUTDATED_CALL_JOIN_LINK=t.API_ERROR_MESSAGES_CALL_REQUIRES_AUTH=t.API_ERROR_MESSAGES_TRANSCRIPTION_SIZE_NOT_ALLOWED=t.API_ERROR_MESSAGES_AUDIO_MESSAGE_NOT_RECOGNIZED=t.API_ERROR_MESSAGES_ALREADY_PINNED_CONVERSATION=t.API_ERROR_MESSAGES_TOO_MANY_PINNED_CONVERSATIONS=t.API_ERROR_MESSAGES_CHAT_INVALID_INVITE_LINK=t.API_ERROR_MESSAGES_CALL_INVALID_JOIN_LINK=t.API_ERROR_MESSAGES_CALL_INVALID_NAME=t.API_ERROR_MESSAGES_CALL_INVALID_SECRET=t.API_ERROR_MESSAGES_CALL_NOT_FOUND=t.API_ERROR_MESSAGES_PEER_BLOCKED_REASON_BY_TIME=t.API_ERROR_MESSAGES_CANT_EDIT_PINNED_YET=t.API_ERROR_MESSAGES_CALL_BUSY=t.API_ERROR_MESSAGES_MEMBER_ACCESS_TO_GROUP_DENIED=t.API_ERROR_MESSAGES_CHAT_UNSUPPORTED=t.API_ERROR_MESSAGES_CHAT_DISABLED=t.API_ERROR_MESSAGES_INTENT_LIMIT_OVERFLOW=t.API_ERROR_MESSAGES_INTENT_CANT_USE=t.API_ERROR_MESSAGES_CANT_PIN_ONE_TIME_STORY=t.API_ERROR_MESSAGES_TOO_MANY_POSTS=t.API_ERROR_MESSAGES_MESSAGE_REQUEST_ALREADY_SENT=t.API_ERROR_MESSAGES_TOO_MANY_CONTACTS=t.API_ERROR_MESSAGES_CONTACT_NOT_FOUND=t.API_ERROR_MESSAGES_CHAT_USER_NOT_IN_CHAT=t.API_ERROR_MESSAGES_PHONE_NUMBER_NOT_CLUB_MEMBER=t.API_ERROR_MESSAGES_PHONE_NUMBER_NO_ACCESS=t.API_ERROR_MESSAGES_GROUP_PEER_ACCESS=t.API_ERROR_MESSAGES_CANT_CHANGE_INVITE_LINK=t.API_ERROR_MESSAGES_CALL_PRIVACY=t.API_ERROR_MESSAGES_CHAT_NOT_EXIST=t.API_ERROR_MESSAGES_CHAT_NOT_ADMIN=t.API_ERROR_MESSAGES_CANT_DELETE_FOR_ALL=t.API_ERROR_MESSAGES_OLD_RECEIVER_APP=t.API_ERROR_MESSAGES_CHAT_USER_LEFT=t.API_ERROR_MESSAGES_CANT_FWD=t.API_ERROR_MESSAGES_EDIT_KIND_DISALLOWED=t.API_ERROR_MESSAGES_CANT_SEE_INVITE_LINK=void 0,t.API_ERROR_AUTH_ANONYMOUS_TOKEN_IP_MISMATCH=t.API_ERROR_AUTH_ACCESS_TOKEN_HAS_EXPIRED=t.API_ERROR_AUTH_ANONYMOUS_TOKEN_IS_INVALID=t.API_ERROR_AUTH_SUPER_APP_TOKEN_IS_INVALID=t.API_ERROR_AUTH_ANONYMOUS_TOKEN_HAS_EXPIRED=t.API_ERROR_AUTH_INVALID_SID=t.API_ERROR_AUTH_DELAY=t.API_ERROR_AUTH_PARAM_PASSWORD=t.API_ERROR_AUTH_PARAM_CODE=t.API_ERROR_AUTH_NO_TOKEN=t.API_ERROR_AUTH_FLOOD_ERROR=t.API_ERROR_METHOD_IS_NOT_AVAILABLE_FOR_THE_PROFILE_TYPE=t.API_ERROR_ME_EDUCATION_IS_NOT_AN_EDU_USER=t.API_ERROR_MESSAGES_CONVERSATION_CAN_NOT_BE_PINNED=t.API_ERROR_MESSAGES_CHAT_CAN_NOT_BE_JOINED_FOR_NOT_ORGANIZATION_MEMBER=t.API_ERROR_MESSAGES_MESSAGE_WAS_DELETED=t.API_ERROR_MESSAGES_CHAT_WAS_DELETED=t.API_ERROR_MESSAGES_SHOULD_NOT_BE_EDU=t.API_ERROR_MESSAGES_SHOULD_BE_EDU=t.API_ERROR_MESSAGES_MAX_PINNED_MESSAGES=t.API_ERROR_MESSAGES_WRITING_DISABLED_FOR_CHAT=t.API_ERROR_MESSAGES_REACTIONS_LIMIT_REACHED=t.API_ERROR_MESSAGES_FORBIDDEN_REACTION=t.API_ERROR_MESSAGES_INVALID_REACTION_ID=t.API_ERROR_MESSAGES_ALREADY_IN_THE_CALL=t.API_ERROR_MESSAGES_CALL_CHAT_LIMIT_REACHED=t.API_ERROR_MESSAGES_OLD_CALLS_LIB=t.API_ERROR_PHONE_VALIDATING_NOT_STARTED=t.API_ERROR_PHONE_ALREADY_USED=t.API_ERROR_NO_USER_BY_PHONE=t.API_ERROR_PARAM_PHONE=t.API_ERROR_MESSAGES_POSTPONED_LIMIT=t.API_ERROR_MESSAGES_POSTPONED_NOT_SUPPORTED=t.API_ERROR_MESSAGES_DROP_DEVICE_CACHE=t.API_ERROR_MESSAGES_EDITING_DISABLED_UNLINK_ESIA=t.API_ERROR_MESSAGES_PENDING_MESSAGE_REQUEST=t.API_ERROR_MESSAGES_NEED_MESSAGE_REQUEST=t.API_ERROR_MESSAGES_NEED_EDU_ROLE=t.API_ERROR_MESSAGES_GROUP_FOR_NOTIFICATIONS_ONLY=t.API_ERROR_MESSAGES_SPAM_RESTRICTION=t.API_ERROR_MESSAGES_USER_IS_RESTRICTED_TO_WRITE_TO_CHAT=t.API_ERROR_MESSAGES_CHAT_ADD_TEMPORARY_DENIED=t.API_ERROR_MESSAGES_CHAT_CANT_ADD_USER_BY_PRIVACY=t.API_ERROR_MESSAGES_CANT_PIN_SERVICE_MESSAGE=t.API_ERROR_MESSAGES_APP_ACTION_RESTRICTED_FOR_COMMUNITY=t.API_ERROR_MESSAGES_ONLY_P2P_ENABLED_FOR_CALL=t.API_ERROR_MESSAGES_OUTDATED_VK_ROOMS_LINK=t.API_ERROR_MESSAGES_FOLDER_CONVERSATIONS_LIMIT_REACHED=t.API_ERROR_MESSAGES_FOLDERS_LIMIT_REACHED=t.API_ERROR_MESSAGES_FOLDER_NOT_FOUND=void 0,t.API_ERROR_MARKET_MAX_PROPERTIES_LIMIT_EXCEED=t.API_ERROR_MARKET_PROPERTY_NOT_FOUND=t.API_ERROR_MARKET_VARIANT_NOT_FOUND=t.API_ERROR_MARKET_GROUPING_MUST_HAVE_VARIANTS=t.API_ERROR_MARKET_GROUPING_HAS_OTHER_PROPERTIES=t.API_ERROR_MARKET_GROUPING_ALREADY_HAS_SUCH_VARIANT=t.API_ERROR_MARKET_GROUPING_ITEMS_WITH_DIFFERENT_PROPERTIES=t.API_ERROR_MARKET_VARIANTS_ERROR=t.API_ERROR_MARKET_VARIANTS_NOT_ENABLED=t.API_ERROR_MARKET_EXTENDED_NOT_ENABLED=t.API_ERROR_MARKET_ITEM_HAS_BAD_LINKS=t.API_ERROR_MARKET_TOO_MANY_ALBUMS=t.API_ERROR_MARKET_TOO_MANY_ITEMS_IN_ALBUM=t.API_ERROR_MARKET_TOO_MANY_ITEMS=t.API_ERROR_MARKET_ITEM_ALREADY_ADDED=t.API_ERROR_MARKET_ITEM_NOT_FOUND=t.API_ERROR_MARKET_ALBUM_NOT_FOUND=t.API_ERROR_MARKET_COMMENTS_CLOSED=t.API_ERROR_MARKET_RESTORE_TOO_LATE=t.API_ERROR_APPS_TOO_MUCH_PROFILE_BUTTONS=t.API_ERROR_APPS_NO_RIGHTS_IN_COMMUNITY=t.API_ERROR_INVALID_ADDRESS=t.API_ERROR_APPS_MENU_TOO_MANY_APPS=t.API_ERROR_APPS_ALREADY_ADDED=t.API_ERROR_APPS_SUBSCRIPTION_INVALID_STATUS=t.API_ERROR_APPS_SUBSCRIPTION_NOT_FOUND=t.API_ERROR_APPS_ORDER_ERROR=t.API_ERROR_APPS_PAYMENTS_WAITING_ITEM=t.API_ERROR_APPS_PAYMENTS_LIMIT=t.API_ERROR_APPS_PAYMENTS_NOT_ALLOWED=t.API_ERROR_APPS_ALREADY_UNLOCKED=t.API_ERROR_PRODUCT_NOT_FOUND=t.API_ERROR_PRODUCT_NOT_AVAILABLE=t.API_ERROR_GIFT_NOT_AVAILABLE=t.API_ERROR_TOO_MANY_LISTS=t.API_ERROR_PHOTO_CHANGED=t.API_ERROR_PARAM_DOC_RESTORE_TIMEOUT=t.API_ERROR_PARAM_DOC_RESTORE_ACCESS=t.API_ERROR_PARAM_DOC_ACCESS=t.API_ERROR_PARAM_DOC_TITLE=t.API_ERROR_PARAM_DOC_DELETE_ACCESS=t.API_ERROR_PARAM_DOC_ID=t.API_ERROR_ABF_FLOOD_LIMIT=t.API_ERROR_BID_NO_ENOUGH_RIGHTS=t.API_ERROR_BID_LEGAL_FULLNAME_REQUIRED=t.API_ERROR_BID_ALREADY_ON_VERIFICATION=t.API_ERROR_BID_BUSINESS_LOGIC_ERROR=t.API_ERROR_BID_ORG_INVALID=t.API_ERROR_BID_ORGANIZATION=t.API_ERROR_PASSKEY_REGISTRATION=void 0,t.API_ERROR_MARKET_PAYMENTS_SETTINGS=t.API_ERROR_MARKET_SET_SETTINGS=t.API_ERROR_MARKET_ANOTHER_COMMUNITY_LINKED_TO_PROFILE=t.API_ERROR_MARKET_ANOTHER_PROFILE_LINKED_TO_COMMUNITY=t.API_ERROR_MARKET_DELIVERY_SETTINGS=t.API_ERROR_MARKET_USER_UNDERAGE=t.API_ERROR_MARKET_CAROUSEL_DISABLED=t.API_ERROR_MARKET_COMMUNITY_REVIEW_NOT_BUSINESS_COMMUNITY=t.API_ERROR_MARKET_COMMUNITY_REVIEW_USER_IS_NEW=t.API_ERROR_MARKET_COMMUNITY_REVIEW_USER_LEFT_REVIEW=t.API_ERROR_MARKET_COMMUNITY_REVIEW_USER_IS_GROUP_EDITOR=t.API_ERROR_MARKET_FAILED_TO_UNSET_ALBUM_AS_MAIN=t.API_ERROR_MARKET_FAILED_TO_SET_ALBUM_AS_MAIN=t.API_ERROR_MARKET_ORDERS_INVALID_STATUS=t.API_ERROR_MARKET_PROMO_CODE_EXTENDED_FIELDS=t.API_ERROR_MARKET_PROMO_CODE_APPLY_LIMIT_INVALID=t.API_ERROR_MARKET_PROMO_CODE_EMPTY_DISCOUNT=t.API_ERROR_MARKET_PROMO_CODE_MANY_DISCOUNT=t.API_ERROR_MARKET_PROMO_CODE_TIME_TO=t.API_ERROR_MARKET_PROMO_CODE_TIME_FROM=t.API_ERROR_MARKET_PROMO_CODE_LIMIT_EXCEED=t.API_ERROR_MARKET_TOO_MANY_ATTENDANT_ITEMS=t.API_ERROR_MARKET_CATEGORY_IS_NOT_VALID=t.API_ERROR_MARKET_ALBUM_MAIN_HIDDEN=t.API_ERROR_MARKET_PROMO_CODE_NAME=t.API_ERROR_MARKET_PROMO_CODE_DELIVERY_DISCOUNT=t.API_ERROR_MARKET_PROMO_CODE_ITEMS_DISCOUNT=t.API_ERROR_MARKET_PROMO_CODE_ALREADY_EXISTS=t.API_ERROR_MARKET_COURIER_DELIVERY_NOT_ENABLED=t.API_ERROR_MARKET_ORDERS_CART_ITEM_QUANTITY_EXCEEDED=t.API_ERROR_MARKET_ORDERS_OUT_OF_STOCK=t.API_ERROR_MARKET_NOT_ENABLED=t.API_ERROR_MARKET_ORDERS_REQUIRED_FIELD_IS_EMPTY=t.API_ERROR_MARKET_ORDERS_ORDER_NOT_FOUND=t.API_ERROR_MARKET_PHOTOS_CROP_SIZE_TOO_LOW=t.API_ERROR_MARKET_PHOTOS_CROP_OVERFLOW=t.API_ERROR_MARKET_PHOTOS_CROP_INVALID_FORMAT=t.API_ERROR_MARKET_SHOP_ALREADY_DISABLED=t.API_ERROR_MARKET_SHOP_ALREADY_ENABLED=t.API_ERROR_MARKET_CANT_CHANGE_VKPAY_STATUS=t.API_ERROR_MARKET_INVALID_DIMENSIONS=t.API_ERROR_MARKET_ORDERS_LESS_THAN_MIN_ORDER_PRICE=t.API_ERROR_MARKET_ORDERS_NO_CART_ITEMS=t.API_ERROR_MARKET_GROUPING_ITEMS_MUST_HAVE_DISTINCT_PROPERTIES=t.API_ERROR_MARKET_GROUPING_MUST_CONTAIN_MORE_THAN_ONE_ITEM=t.API_ERROR_MARKET_UNKNOWN_PROPERTY_TYPE=t.API_ERROR_MARKET_VARIANT_VALUE_TOO_LONG=t.API_ERROR_MARKET_ITEM_NOT_FOUND_IN_CART=t.API_ERROR_MARKET_NAME_TOO_LONG=t.API_ERROR_MARKET_MAX_VARIANTS_LIMIT_EXCEED=void 0,t.API_ERROR_RESTORE_INCORRECT_PHONE_OR_EMAIL=t.API_ERROR_STORY_INCORRECT_REPLY_PRIVACY=t.API_ERROR_STORY_EXPIRED=t.API_ERROR_YCLIENTS_API_ERROR=t.API_ERROR_YCLIENTS_NO_ACTIVE_BINDING=t.API_ERROR_YCLIENTS_GROUP_NOT_BINDED_TO_BRANCH=t.API_ERROR_YCLIENTS_BIND_ALREADY_EXISTS=t.API_ERROR_YCLIENTS_ANOTHER_BRANCH_BINDED_TO_GROUP=t.API_ERROR_YCLIENTS_ANOTHER_GROUP_BINDED_TO_BRANCH=t.API_ERROR_MARKET_CART_IS_LOCKED=t.API_ERROR_MARKET_ADD_TO_MARKET_ALBUM=t.API_ERROR_MARKET_ADD_TO_SERVICE_ALBUM=t.API_ERROR_MARKET_ADD_TO_CART_LIMIT=t.API_ERROR_MARKET_SERVICES_DISABLED=t.API_ERROR_MARKET_DISABLED=t.API_ERROR_MARKET_ADD_TO_CART=t.API_ERROR_MARKET_COMMUNITY_REVIEW_FRIENDS=t.API_ERROR_MARKET_REVIEWS_NOT_AVAILABLE=t.API_ERROR_MARKET_REVIEWS_NOT_FOUND=t.API_ERROR_MARKET_ITEM_IS_NOT_DELETED=t.API_ERROR_MARKET_ITEM_REVIEW_STOP_WORDS_IN_TEXT=t.API_ERROR_MARKET_ITEM_REVIEW_NOT_PRO_MARKET=t.API_ERROR_MARKET_ITEM_REVIEW_GROUP_IS_PRIVATE=t.API_ERROR_MARKET_ITEM_REVIEW_USER_BLACKLISTED=t.API_ERROR_MARKET_ITEM_REVIEW_ALREADY_EXISTS=t.API_ERROR_MARKET_ITEM_REVIEW_NEW_USER=t.API_ERROR_MARKET_ITEM_REVIEW_IS_GOVERNMENT=t.API_ERROR_MARKET_ITEM_REVIEW_NOT_BUSINESS=t.API_ERROR_MARKET_ITEM_REVIEW_DISABLED=t.API_ERROR_MARKET_ITEM_IS_SERVICE=t.API_ERROR_MARKET_ITEM_IS_DELETED=t.API_ERROR_VKSTORE_ORDER_CLOSE=t.API_ERROR_VKSTORE_ORDER_CLOSE_WRONG_STATUS=t.API_ERROR_MARKET_PROMO_CODE_EDITING_ARCHIVE=t.API_ERROR_MARKET_ORDERS_QR_DONT_CREATED=t.API_ERROR_MARKET_ORDERS_QR_GROUP_NOT_FOUND=t.API_ERROR_MARKET_ORDERS_QR_GROUP_LIMIT=t.API_ERROR_VKSTORE_ITEM_COUNT_LIMIT=t.API_ERROR_VKSTORE_NOT_ENOUGH_COINS=t.API_ERROR_VKSTORE_ORDER_CANCEL=t.API_ERROR_VKSTORE_ORDER_CANCEL_WRONG_STATUS=t.API_ERROR_VKSTORE_CART_ITEMS_CHANGED=t.API_ERROR_VKSTORE_ORDER_PAY=t.API_ERROR_VKSTORE_ORDER_SAVE=t.API_ERROR_VKSTORE_ORDER_LOCKED=t.API_ERROR_VKSTORE_DELIVERY_MIN_PRICE=t.API_ERROR_VKSTORE_DELIVERY_ADDRESS=t.API_ERROR_VKSTORE_DELIVERY_PERSON=t.API_ERROR_VKSTORE_CONTACT_PHONE=t.API_ERROR_VKSTORE_INVALID_DELIVERY_METHOD=void 0,t.API_ERROR_USER_SERVICE_DEACTIVATED=t.API_ERROR_USER_DEACTIVATED=t.API_ERROR_TOKEN_EXTENSION_REQUIRED=t.API_ERROR_PHONE_IS_NOT_VERIFIED=t.API_ERROR_PROMO_CODES_PROMOCODE_BIND_OTHER_USER=t.API_ERROR_PROMO_CODES_PROMOCODE_ACTIVATED=t.API_ERROR_PROMO_CODES_PROMOCODE_EXPIRED=t.API_ERROR_PROMO_CODES_ADD_PROMOCODE_LIMIT_ACTIVATION_PER_DAY=t.API_ERROR_PROMO_CODES_ADD_DISCOUNT_STICKERS_LIMIT_ACTIVATION=t.API_ERROR_PROMO_CODES_STICKER_PACK_IS_ALREADY_ADDED=t.API_ERROR_PROMO_CODES_PARTNER_SUBSCRIPTION_EXISTS=t.API_ERROR_PROMO_CODES_ITEM_IS_NOT_AVAILABLE=t.API_ERROR_PROMO_CODES_TASK_DOES_NOT_EXIST=t.API_ERROR_PROMO_CODES_TASK_IS_NOT_COMPLETE=t.API_ERROR_PROMO_CODES_QUOTA_EXCEEDED=t.API_ERROR_PROMO_CODES_LIMIT_IS_REACHED=t.API_ERROR_PROMO_CODES_CAMPAIGN_DISABLED=t.API_ERROR_PROMO_CODES_CAMPAIGN_DOES_NOT_EXIST=t.API_ERROR_PROMO_CODES_PARTNER_DISABLED=t.API_ERROR_PROMO_CODES_APP_IS_NOT_REGISTERED=t.API_ERROR_ASSERT_VOTES=t.API_ERROR_EMAIL_CONFIRMATION_NEED=t.API_ERROR_OTP_VALIDATION_NEED=t.API_ERROR_PASSWORD_VALIDATION_NEED=t.API_ERROR_PHONE_VALIDATION_NEED=t.API_ERROR_RECAPTCHA=t.API_ERROR_UNBLOCK_UNBAN_DATA_EXPIRED=t.API_ERROR_WALL_CHECK_LINK_CANT_DETERMINE_SOURCE=t.API_ERROR_BOT_NOT_IN_CHAT=t.API_ERROR_TEXTLIVES_MESSAGE_IS_TOO_BIG=t.API_ERROR_TEXTLIVES_SERVER_TRY_AGAIN=t.API_ERROR_TEXTLIVES_TEXTLIVE_IS_UNAVAILABLE=t.API_ERROR_TEXTLIVES_TEXTLIVE_IS_FINISHED=t.API_ERROR_TEXTLIVES_AUTHOR_IS_INVALID=t.API_ERROR_TEXTLIVES_TOO_MANY_ATTACHMENTS=t.API_ERROR_TEXTLIVES_EMPTY_MESSAGE=t.API_ERROR_STUDENTS_VERIFICATION_CARD_ALREADY_EXISTS=t.API_ERROR_PODCASTS_ALREADY_MODERATION=t.API_ERROR_PODCASTS_OWNER_DISABLED=t.API_ERROR_PODCASTS_EPISODE_NOT_FOUND=t.API_ERROR_STICKERS_NOT_FAVORITE=t.API_ERROR_STICKERS_TOO_MANY_FAVORITES=t.API_ERROR_STICKERS_NOT_PURCHASED=t.API_ERROR_CALLBACK_API_SERVERS_LIMIT=t.API_ERROR_PRETTY_CARDS_CARD_IS_CONNECTED_TO_POST=t.API_ERROR_PRETTY_CARDS_TOO_MANY_CARDS=t.API_ERROR_PRETTY_CARDS_CARD_NOT_FOUND=t.API_ERROR_RESTORE_PHONE_FORMAT=t.API_ERROR_RESTORE_PHONE_OCCUPIED=t.API_ERROR_RESTORE_USER_WAS_NOT_FOUND=void 0,t.API_ERROR_MICROLANDINGS_LEAD_MAGNET_BLOCK_SUCCESS_MESSAGE_LENGTH=t.API_ERROR_MICROLANDINGS_LEAD_MAGNET_BLOCK_HEADER_LENGTH=t.API_ERROR_MICROLANDINGS_APPEARANCE_INVALID_FONT_SIZE=t.API_ERROR_MICROLANDINGS_APPEARANCE_INVALID_BACKGROUND=t.API_ERROR_MICROLANDINGS_APPEARANCE_INVALID_BUTTON_RADIUS=t.API_ERROR_MICROLANDINGS_APPEARANCE_INVALID_FONT_ID=t.API_ERROR_MICROLANDINGS_LEAD_FORM_WIDGET_BLOCK_CTA_BUTTON_INCORRECT=t.API_ERROR_MICROLANDINGS_LEAD_FORM_WIDGET_BLOCK_SUBHEADER_LENGTH=t.API_ERROR_MICROLANDINGS_LEAD_FORM_WIDGET_BLOCK_HEADER_LENGTH=t.API_ERROR_MICROLANDINGS_INCORRECT_BLOCK_TYPE=t.API_ERROR_MICROLANDINGS_INCORRECT_PIXEL_ID=t.API_ERROR_MICROLANDINGS_VIDEO_MAX_DURATION=t.API_ERROR_MICROLANDINGS_VIDEO_RESTRICTED=t.API_ERROR_MICROLANDINGS_REVIEWS_BLOCK_HEADER_LENGTH=t.API_ERROR_MICROLANDINGS_PHOTOS_BLOCK_HEADER_LENGTH=t.API_ERROR_MICROLANDINGS_PRODUCTS_BLOCK_HEADER_LENGTH=t.API_ERROR_MICROLANDINGS_CONTENT_BLOCK_ATTACH_MAX_COUNT=t.API_ERROR_MICROLANDINGS_CONTENT_BLOCK_INCORRECT_ATTACH=t.API_ERROR_MICROLANDINGS_CONTENT_BLOCK_DESC_LENGTH=t.API_ERROR_MICROLANDINGS_CONTENT_BLOCK_TITLE_LENGTH=t.API_ERROR_MICROLANDINGS_CTA_BUTTON_INCORRECT=t.API_ERROR_MICROLANDINGS_LEAD_FORM_INCORRECT_AGREE=t.API_ERROR_MICROLANDINGS_LEAD_FORM_INCORRECT_ADDRESS=t.API_ERROR_MICROLANDINGS_CTA_BUTTON=t.API_ERROR_MICROLANDINGS_LEAD_FORM_INCORRECT_OGRN=t.API_ERROR_MICROLANDINGS_LEAD_FORM_INCORRECT_EMAIL=t.API_ERROR_MICROLANDINGS_LEAD_FORM_INCORRECT_NAME=t.API_ERROR_MICROLANDINGS_SEND_VK_DISABLE_MESSAGES=t.API_ERROR_MICROLANDINGS_LEAD_FORM_DISABLE_MESSAGES=t.API_ERROR_MICROLANDINGS_VK_CONTACT=t.API_ERROR_MICROLANDINGS_URL_NOT_SAFETY=t.API_ERROR_MICROLANDINGS_URL_FORMAT=t.API_ERROR_MICROLANDINGS_EMAIL_FORMAT=t.API_ERROR_MICROLANDINGS_PHONE_FORMAT=t.API_ERROR_MICROLANDINGS_ADVANTAGE_LENGTH=t.API_ERROR_MICROLANDINGS_ADVANTAGE_MAX_COUNT=t.API_ERROR_MICROLANDINGS_DESC_LENGTH=t.API_ERROR_MICROLANDINGS_HEADER_LENGTH=t.API_ERROR_NOTIFICATION_PARAMS_INVALID=t.API_ERROR_NOTIFICATION_TYPE_UNSUPPORTED=t.API_ERROR_FAVE_ALIEXPRESS_TAG=t.API_ERROR_SUPPORT_TICKET_NOT_FOUND=t.API_ERROR_SUPPORT_TICKET_ID_NOT_FOUND=t.API_ERROR_WISHLISTS_NO_ACCESS_NOT_FRIEND=t.API_ERROR_INVALID_EMAIL=t.API_ERROR_RESEND_DELAY_NOT_EXPIRED=t.API_ERROR_FLOOD_OTP_SEND=t.API_ERROR_OTP_SEND=t.API_ERROR_EMAIL_FOR_BINDING=t.API_ERROR_USER_ALREADY_HAS_EXTERNAL_BINDING=void 0,t.API_ERROR_CLASSIFIEDS_PHOTO_ACCESS_ERROR=t.API_ERROR_CLASSIFIEDS_NOTIFICATION_PHONE_NOT_FOUND=t.API_ERROR_CLASSIFIEDS_NOTIFICATION_EMPTY_USER_IDENTIFIER=t.API_ERROR_CLASSIFIEDS_CONTEST_MAX_PRIZE_COUNT_EXCEEDED=t.API_ERROR_CLASSIFIEDS_CONTEST_PRIZES_RUN_OUT=t.API_ERROR_CLASSIFIEDS_INVALID_PHOTO_ID=t.API_ERROR_CLASSIFIEDS_COMMUNITY_NOT_FOUND=t.API_ERROR_CLASSIFIEDS_USER_IN_BLACKLIST=t.API_ERROR_CLASSIFIEDS_INVALID_GEO=t.API_ERROR_CLASSIFIEDS_INVALID_CATEGORY=t.API_ERROR_CLASSIFIEDS_EMPTY_GEO_IN_COMMUNITY=t.API_ERROR_CLASSIFIEDS_NOT_MODERATED_COMMUNITY=t.API_ERROR_CLASSIFIEDS_INVALID_GROUP_MODE=t.API_ERROR_CLASSIFIEDS_YOULA_PRODUCT_ARCHIVING_ERROR=t.API_ERROR_CLASSIFIEDS_YOULA_CITIES_LOAD_ERROR=t.API_ERROR_CLASSIFIEDS_ALLOWED_CATEGORIES_FOR_GROUP_NOT_FOUND=t.API_ERROR_CLASSIFIEDS_GROUP_CLASSIFIEDS_SECTION_IS_DISABLED=t.API_ERROR_CLASSIFIEDS_COULD_NOT_SEND_MESSAGE=t.API_ERROR_CLASSIFIEDS_INVALID_CHAT_TYPE=t.API_ERROR_CLASSIFIEDS_NOTIFICATION_SENDING_ERROR=t.API_ERROR_CLASSIFIEDS_CORRELATION_ERROR=t.API_ERROR_CLASSIFIEDS_NOTIFICATION_INVALID_TEXT=t.API_ERROR_CLASSIFIEDS_NOTIFICATION_INVALID_TYPE=t.API_ERROR_CLASSIFIEDS_PRODUCT_NOT_FOUND=t.API_ERROR_CLASSIFIEDS_USER_NOT_FOUND=t.API_ERROR_HEALTH_LOGIC_ERROR=t.API_ERROR_HEALTH_RESOURCE_LOCKED=t.API_ERROR_API_ERROR_VKRUN_IMPORT_DISABLED=t.API_ERROR_API_ERROR_VKRUN_OUT_OF_STOCK=t.API_ERROR_API_ERROR_VKRUN_NOT_ENOUGH_COINS=t.API_ERROR_API_ERROR_VKRUN_RESOURCE_LOCKED=t.API_ERROR_VKRUN_CHALLENGE_CANNOT_INVITE_USERS=t.API_ERROR_VKRUN_CHALLENGE_CANNOT_BAN_USER_CURRENT_STATUS=t.API_ERROR_VKRUN_INVITATION_IS_OUTDATED=t.API_ERROR_VKRUN_CHALLENGE_CANNOT_LEAVE=t.API_ERROR_VKRUN_CHALLENGE_CANNOT_ACCEPT=t.API_ERROR_VKRUN_END_DATE_LESS_OR_EQUAL_THAN_START_DATE=t.API_ERROR_VKRUN_END_DATE_GREATER_THAN_YEAR=t.API_ERROR_FORTUNE_SQUARE_SECTOR_NOT_FOUND=t.API_ERROR_FORTUNE_SQUARE_SPIN_PROCESS=t.API_ERROR_FORTUNE_SQUARE_USER_STATE_NOT_FOUND=t.API_ERROR_FORTUNE_SQUARE_GIVE_GIFTS=t.API_ERROR_MICROLANDINGS_CUSTOM_DOMAIN_NAME_NOT_SET=t.API_ERROR_MICROLANDINGS_APPEARANCE_INVALID_FONT_WEIGHT=t.API_ERROR_MICROLANDINGS_CUSTOM_DOMAIN_URL_NOT_SAFE=t.API_ERROR_MICROLANDINGS_CUSTOM_DOMAIN_INCORRECT_FORMAT=t.API_ERROR_MICROLANDINGS_LEAD_MAGNET_BLOCK_ATTACH_VALUE_DOC_INCORRECT=t.API_ERROR_MICROLANDINGS_LEAD_MAGNET_BLOCK_ATTACH_VALUE_LENGTH=t.API_ERROR_MICROLANDINGS_LEAD_MAGNET_BLOCK_ATTACH_INCORRECT=t.API_ERROR_MICROLANDINGS_LEAD_MAGNET_BLOCK_CTA_TYPE_INCORRECT=void 0,t.API_ERROR_LOYALTY_CATEGORY_TASK_NOT_ALLOWED=t.API_ERROR_LOYALTY_LEADERBOARD_NOT_FOUND=t.API_ERROR_LOYALTY_LEADERBOARD_TEMPLATE_NOT_FOUND=t.API_ERROR_LOYALTY_USER_ALREADY_EXISTS=t.API_ERROR_LOYALTY_WIN_PREVIOUS_EVENT=t.API_ERROR_LOYALTY_TEAM_CODE_IS_USED=t.API_ERROR_LOYALTY_TEAM_IS_FULL=t.API_ERROR_LOYALTY_TEAM_NOT_FOUND=t.API_ERROR_LOYALTY_USER_WRONG_REGION=t.API_ERROR_LOYALTY_VERIFICATION_IN_PROGRESS=t.API_ERROR_LOYALTY_NEED_VERIFY=t.API_ERROR_LOYALTY_IS_BOT=t.API_ERROR_LOYALTY_WRONG_PROMOCODE=t.API_ERROR_LOYALTY_TASK_NOT_STARTED=t.API_ERROR_LOYALTY_INCORRECT_TASK_TYPE=t.API_ERROR_LOYALTY_USED_CODE=t.API_ERROR_LOYALTY_WRONG_CODE=t.API_ERROR_LOYALTY_CANT_BUY_OFFER=t.API_ERROR_LOYALTY_PARTNER_APP_ID_ALREADY_EXIST=t.API_ERROR_LOYALTY_REQUEST_ALREADY_PROCESSED_SUCCESSFULLY=t.API_ERROR_LOYALTY_OFFER_HAS_NO_COUPON=t.API_ERROR_LOYALTY_OFFER_HAS_NO_PRICE=t.API_ERROR_LOYALTY_COUPON_INVALID_DISTRIBUTION=t.API_ERROR_LOYALTY_COUPON_ACCESS_DENIED=t.API_ERROR_LOYALTY_COUPON_NOT_ACTIVE=t.API_ERROR_LOYALTY_COUPON_UNKNOWN_ERROR=t.API_ERROR_LOYALTY_COUPON_HAS_NO_AVAILABLE_CODE=t.API_ERROR_LOYALTY_COUPON_EXPIRED=t.API_ERROR_LOYALTY_NOT_ENOUGH_MONEY=t.API_ERROR_LOYALTY_OFFER_NOT_FOUND=t.API_ERROR_LOYALTY_REQUEST_FINISHED=t.API_ERROR_LOYALTY_REQUEST_FAILED=t.API_ERROR_LOYALTY_REQUEST_PROCESSING=t.API_ERROR_LOYALTY_TASK_NOT_FOUND=t.API_ERROR_LOYALTY_TASK_ALREADY_COMPLETED=t.API_ERROR_LOYALTY_NO_ACCOUNT=t.API_ERROR_CLASSIFIEDS_EMPTY_RESULT=t.API_ERROR_CLASSIFIEDS_PRODUCT_IS_NOT_ACTIVE_ERROR=t.API_ERROR_CLASSIFIEDS_PRODUCT_IS_SOLD_ERROR=t.API_ERROR_CLASSIFIEDS_PRODUCT_IS_BLOCKED_ERROR=t.API_ERROR_CLASSIFIEDS_CREATE_CHAT_ERROR=t.API_ERROR_CLASSIFIEDS_SEND_MESSAGE_ERROR=t.API_ERROR_CLASSIFIEDS_NOTIFICATION_DISABLED=t.API_ERROR_CLASSIFIEDS_BLACKLIST_DEL_ERROR=t.API_ERROR_CLASSIFIEDS_BLACKLIST_ADD_ERROR=t.API_ERROR_CLASSIFIEDS_SUBSCRIPTION_DEL_ERROR=t.API_ERROR_CLASSIFIEDS_SUBSCRIPTION_ADD_ERROR=t.API_ERROR_CLASSIFIEDS_POST_IS_NOT_PRODUCT=t.API_ERROR_CLASSIFIEDS_PRODUCT_DUPLICATE_ERROR=t.API_ERROR_CLASSIFIEDS_USER_IS_LOCKED_ERROR=void 0,t.API_ERROR_BADGES_CANNOT_SEND_BADGE=t.API_ERROR_CASHOUT_COMMON_ERROR=t.API_ERROR_CASHOUT_DUPLICATED_PERSONAL_INN=t.API_ERROR_CASHOUT_USER_IS_EMPLOYEE=t.API_ERROR_CASHOUT_PAYOUT_TO_SE_WITH_SAME_INN=t.API_ERROR_CASHOUT_NEED_TRY_LATER=t.API_ERROR_PLATFORM_MONETIZATION_CABINET_DISABLED=t.API_ERROR_PLATFORM_MONETIZATION_STATS_NOT_AVAILABLE=t.API_ERROR_PLATFORM_MONETIZATION_DISABLED=t.API_ERROR_PLATFORM_MODERATION_NOT_FOUND=t.API_ERROR_PLATFORM_ONLY_ONE_INDIVIDUAL_ORGANIZATION=t.API_ERROR_PLATFORM_APP_NOT_ENABLED=t.API_ERROR_PHONES_LIST_IS_NOT_SUPPORTED=t.API_ERROR_PLATFORM_CONFIRMATION_REQUIRED=t.API_ERROR_EDUCATION_PROPOSAL_CREATE_ERROR=t.API_ERROR_EDUCATION_EJD_REGION_VENDOR_NOT_FOUND=t.API_ERROR_MONEY_VKPAY_RESPONSE_FAIL=t.API_ERROR_MONEY_TRANSFER_SBP_RATE_LIMITS=t.API_ERROR_MONEY_TRANSFER_SBP_PROVIDER_ERROR=t.API_ERROR_MONEY_TRANSFER_SBP_NOT_RU_PHONE=t.API_ERROR_MONEY_TRANSFER_SBP_NO_PHONE=t.API_ERROR_MONEY_TRANSFER_MAINTENANCE=t.API_ERROR_MONEY_TRANSFER_NO_AVAILABLE=t.API_ERROR_MONEY_REQUEST_ALREADY_PROCESSED=t.API_ERROR_MONEY_TRANSFER_CANT_YOURSELF=t.API_ERROR_GO_UPLOAD_INVALID_HASH=t.API_ERROR_GO_UPLOAD_INVALID_PHOTO=t.API_ERROR_GO_UPLOAD_PHOTO_NOT_FOUND=t.API_ERROR_GO_UPLOAD_TO_SMALL_AVATAR=t.API_ERROR_GO_UPLOAD_INVALID_CROP=t.API_ERROR_GO_UPLOAD_INVALID_GROUP=t.API_ERROR_GO_UPLOAD_INVALID_USER=t.API_ERROR_GO_UPLOAD_INVALID_UPLOAD_HASH=t.API_ERROR_GO_UPLOAD_INVALID_RESPONSE=t.API_ERROR_INAPP_ORDERS_ACCESS_DENIED=t.API_ERROR_INAPP_ORDERS_NOT_FOUND=t.API_ERROR_INAPP_ORDERS_STATUS_TRANSITION_FORBIDDEN=t.API_ERROR_INAPP_ORDERS_STATUS_IS_ACTUAL=t.API_ERROR_UTILS_SNIPPET_URL_TIMEOUT=t.API_ERROR_UTILS_SNIPPET_URL_INCORRECT=t.API_ERROR_NEED_ENTER_PHONE=t.API_ERROR_PARAM_SOURCE=t.API_ERROR_URL_DOMAIN_BANNED=t.API_ERROR_MUSIC_UPSELL_NOT_AVAILABLE=t.API_ERROR_COUPONS_NO_AVAILABLE_CODE=t.API_ERROR_COUPONS_COUPON_NOT_ACTIVE=t.API_ERROR_COUPONS_COUPON_EXPIRED=t.API_ERROR_COUPONS_COUPON_REMOVED=t.API_ERROR_LOYALTY_FEATURE_DISABLED=t.API_ERROR_LOYALTY_STICKER_NOT_AVAILABLE=void 0,t.API_ERROR_APP_INVITE_FRIEND_ALREADY_INSTALLED=t.API_ERROR_OAUTH_INVALID_SID=t.API_ERROR_OAUTH_EXTERNAL_SERVICE_HAS_INVALID_USER_DATA=t.API_ERROR_OAUTH_EXTERNAL_SERVICE_IS_NOT_AVAILABLE=t.API_ERROR_OAUTH_INVALID_SERVICE_ID=t.API_ERROR_OAUTH_ENTITY_IS_ALREADY_LINKED=t.API_ERROR_OAUTH_NOT_LINKED_PARENTS=t.API_ERROR_OAUTH_INVALID_BIRTHDATE=t.API_ERROR_OAUTH_USER_IS_UNTRUSTED=t.API_ERROR_OAUTH_USER_IS_DELETED=t.API_ERROR_OAUTH_USER_IS_NOT_LINKED=t.API_ERROR_OAUTH_SYNCHRONIZATION_FAILED=t.API_ERROR_SPACES_USER_ALREADY_IN=t.API_ERROR_SPACES_INVITE_LINK_NOT_VALID=t.API_ERROR_SPACES_INVITE_LINK_CANT_SEE=t.API_ERROR_SPACES_INVITE_LINK_CANT_CHANGE=t.API_ERROR_VERIFICATION_REQUEST_NOT_FOUND=t.API_ERROR_VKUP_HAS_DIFFERENT_TYPE=t.API_ERROR_VKUP_USER_CAN_NOT_GET_REWARD=t.API_ERROR_VKUP_USER_QUEST_WRONG_STATUS=t.API_ERROR_VKUP_QUEST_ALREADY_EXISTS=t.API_ERROR_VKUP_CAN_NOT_CHANGE_STARTED_TIME_IN_ACTIVE_QUEST=t.API_ERROR_VKUP_REQUEST_IS_EMPTY=t.API_ERROR_VKUP_GIFT_CARD_IS_USED=t.API_ERROR_VKUP_GIFT_CARD_NOT_ALLOWED_FOR_USER=t.API_ERROR_VKUP_GIFT_CARD_NOT_FOUND=t.API_ERROR_VKUP_GIFT_CARD_BAD_OWNER=t.API_ERROR_VKUP_USER_CANNOT_SKIP_QUEST=t.API_ERROR_VKUP_USER_NOT_ACCEPTED_OFFER=t.API_ERROR_VKUP_PRODUCT_NOT_STICKER_PACK=t.API_ERROR_VKUP_PRODUCT_NOT_EMOJI_STATUS=t.API_ERROR_VKUP_USER_PRODUCT_NOT_FOUND=t.API_ERROR_VKUP_PRODUCT_TYPE_NOT_FOUND=t.API_ERROR_VKUP_USER_PRODUCT_SAVE_FAILED=t.API_ERROR_VKUP_USER_CANNOT_BUY_PRODUCT=t.API_ERROR_VKUP_PRODUCT_NOT_FOUND=t.API_ERROR_VKUP_USER_ALREADY_ACCEPTED_OFFER=t.API_ERROR_VKUP_USER_ALREADY_ONBOARDED=t.API_ERROR_VKUP_USER_SAVE_FAILED=t.API_ERROR_VKUP_USER_NOT_REGISTERED=t.API_ERROR_VKUP_USER_UPDATE_WRONG_PARAMETERS=t.API_ERROR_VKUP_UNKNOWN_ERROR=t.API_ERROR_API_ERROR_VKSTART_IMPORT_DISABLED=t.API_ERROR_DONUT_WAIT=t.API_ERROR_ACCOUNT_CALL_INVALID_SECRET=t.API_ERROR_COMMUNITY_CHANNEL_ALREADY_EXISTS=t.API_ERROR_CHANNEL_USER_ALREADY_IN=t.API_ERROR_CHANNEL_INVITE_LINKS_NOT_VALID=t.API_ERROR_CHANNEL_INVITE_LINKS_CANT_USE=t.API_ERROR_FIND_ME_TOO_MANY_SUBSCRIPTIONS=void 0,t.API_ERROR_APPS_EMPTY_SNIPPET_DATA=t.API_ERROR_APPS_EMPTY_FILTER_PARAMS=t.API_ERROR_PLATFORM_FUNCTION_ALREADY_EXISTS=t.API_ERROR_PLATFORM_FUNCTION_COMPILATION_ERROR=t.API_ERROR_PLATFORM_FUNCTION_NAME_INVALID=t.API_ERROR_HEALTH_LOCKED=t.API_ERROR_FRIENDS_TOO_MANY_SET_RECOMMENDATIONS=t.API_ERROR_HEALTH_LOYALTY_COUPON_LIMIT_PER_USER_REACHED=t.API_ERROR_HEALTH_LOYALTY_MAX_OWN_COUNT_REACHED=t.API_ERROR_HEALTH_LOYALTY_CATALOG_NOT_FOUND=t.API_ERROR_HEALTH_LOYALTY_USER_TASK_NOT_FINISHED=t.API_ERROR_HEALTH_LOYALTY_REWARD_ALREADY_COLLECTED=t.API_ERROR_HEALTH_LOYALTY_USER_TASK_IS_BURNED=t.API_ERROR_HEALTH_LOYALTY_USER_TASK_NOT_FOUND=t.API_ERROR_HEALTH_LOYALTY_NOT_ENOUGH_BALANCE=t.API_ERROR_HEALTH_FEED_NOT_OWNER=t.API_ERROR_HEALTH_FEED_NOT_LIKED=t.API_ERROR_HEALTH_FEED_ALREADY_LIKED=t.API_ERROR_HEALTH_LOYALTY_NO_CURRENT_LOTTERY=t.API_ERROR_HEALTH_LOYALTY_SHOP_ITEM_NOT_FOUND=t.API_ERROR_FRIENDS_FOLLOWERS_MODE_IS_DISABLED=t.API_ERROR_HEALTH_LOYALTY_USER_NOT_EXISTS=t.API_ERROR_HEALTH_LOYALTY_USER_ALREADY_EXISTS=t.API_ERROR_NOT_SUPPORTED_HTTP_METHOD=t.API_ERROR_CALLS_COULD_NOT_JOIN_A_CALL_BY_LINK_BECAUSE_PASSWORD_IS_MISSING=t.API_ERROR_CALLS_ROOM_IS_BANNED=t.API_ERROR_CALLS_ROOM_IS_ALREADY_CLOSED=t.API_ERROR_CALLS_DONAT_ROOM=t.API_ERROR_CALLS_GROUP_MEMBERS_ROOM=t.API_ERROR_CALLS_AUTH_USERS_ROOM=t.API_ERROR_CALLS_SPEAKER_PRIVACY=t.API_ERROR_CALLS_JOIN_LINK_IS_NOT_VALID=t.API_ERROR_CALLS_WRONG_ANONYMOUS_ACCESS_TOKEN_TYPE=t.API_ERROR_CALLS_JOIN_LINK_IS_OUTDATED=t.API_ERROR_CALLS_CALL_REQUIRES_AUTH=t.API_ERROR_CALLS_CHAT_LIMIT_REACTED=t.API_ERROR_CALLS_INVALID_SECRET=t.API_ERROR_CALLS_INVALID_PARTICIPANT_NAME=t.API_ERROR_CALLS_UNKNOWN_PARTICIPANT=t.API_ERROR_CALLS_UNKNOWN_CALL=t.API_ERROR_RFC_INVALID_GRANT=t.API_ERROR_RFC_INSUFFICIENT_SCOPE=t.API_ERROR_RFC_UNAUTHORIZED_CLIENT=t.API_ERROR_RFC_UNSUPPORTED_RESPONSE_TYPE=t.API_ERROR_RFC_UNSUPPORTED_GRANT_TYPE=t.API_ERROR_RFC_INVALID_CLIENT=t.API_ERROR_RFC_INVALID_SCOPE=t.API_ERROR_RFC_INVALID_TOKEN=t.API_ERROR_RFC_SLOW_DOWN=t.API_ERROR_APP_INVITE_FRIEND_NOT_A_FRIEND=void 0,t.API_ERROR_BOOKING_SERVICE_SERVICE_NOT_AVAILABLE_FOR_BOOKING=t.API_ERROR_BOOKING_SERVICE_SERVICE_NOT_AVAILABLE_AT_SELECTED_TIME=t.API_ERROR_BOOKING_SERVICE_NO_STAFF_FOR_BOOKING=t.API_ERROR_BOOKING_SERVICE_NO_DATA=t.API_ERROR_BOOKING_SERVICE_NOT_AVAILABLE=t.API_ERROR_COMMUNITY_ALREADY_LINKED=t.API_ERROR_SELLER_ALREADY_LINKED=t.API_ERROR_ALREADY_HAS_MAP=t.API_ERROR_ACCESS_GEO=t.API_ERROR_CANNOT_SAVE=t.API_ERROR_GAMES_BANNERS_CANNOT_DELETE=t.API_ERROR_CROWD_TASK_NOT_FOUND=t.API_ERROR_CROWD_UTM_FOR_USER_ALREADY_ADDED=t.API_ERROR_CROWD_USER_NOT_FOUND=t.API_ERROR_CROWD_USER_CASH_OUT_STATUS_NOT_ACTIVE=t.API_ERROR_CROWD_SKIP_IS_NOT_AVAILABLE_FOR_USER=t.API_ERROR_CROWD_EXAM_IS_BEING_CHECKED=t.API_ERROR_CROWD_USER_IN_TASK_SO_HE_CANT_DO_EXAM=t.API_ERROR_CROWD_IT_IS_NOT_TIME_FOR_NEXT_EXAM_ATTEMPT=t.API_ERROR_CROWD_CAN_NOT_GET_CLIP_ERROR=t.API_ERROR_CROWD_NOT_VALID_CLIP_ERROR=t.API_ERROR_CROWD_UNKNOWN_STAGE=t.API_ERROR_CROWD_USER_STATE_DOES_NOT_HAVE_STAGE=t.API_ERROR_CROWD_USER_DID_NOT_ACCEPT_TERMS_OF_OFFER=t.API_ERROR_CROWD_USER_ACCESS_TO_TASK_IS_DENIED_FOR_TIME=t.API_ERROR_CROWD_USER_IS_BANNED_IN_TASK=t.API_ERROR_CROWD_NO_JOB_FOR_USER=t.API_ERROR_CROWD_WRONG_STAGE_DATA=t.API_ERROR_COMMUNITY_STRIKES_UPLOAD_CONTENT_DENIED=t.API_ERROR_AUTHORS_MARKETPLACE_OFFER_CONTENT_URL_INVALID=t.API_ERROR_AUTHORS_MARKETPLACE_AUTHOR_DECLINED=t.API_ERROR_AUTHORS_MARKETPLACE_AUTHOR_NOT_FOUND=t.API_ERROR_AUTHORS_MARKETPLACE_AUTHOR_ALREADY_EXISTS=t.API_ERROR_WEBAUTHN_EMPLOYEE_LAST_CREDENTIAL=t.API_ERROR_VK_PAY_RECIPIENT_BANNED=t.API_ERROR_VK_PAY_BIND_CARD_TIMEOUT=t.API_ERROR_VK_PAY_BIND_CARD_NOT_FOUND=t.API_ERROR_VK_PAY_LIMIT_HAS_BEEN_REACHED=t.API_ERROR_VK_PAY_DOESNT_HAVE_WALLET=t.API_ERROR_CUA_SESSION_INVALID=t.API_ERROR_CUA_VALIDATION_METHOD_UNAVAILABLE=t.API_ERROR_CUA_CONFIRMATION_REQUIRED=t.API_ERROR_APPS_NO_CODE_FEEDBACK_INCORRECT_PHONE=t.API_ERROR_APPS_NO_CODE_FEEDBACK_INCORRECT_EMAIL=t.API_ERROR_APPS_NO_CODE_FEEDBACK_EMPTY_PHONE_AND_EMAIL=t.API_ERROR_NO_COUPLED_ACCOUNT=t.API_ERROR_TRANSLATIONS_MULTIPLE_SOURCE_LANG=t.API_ERROR_TRANSLATIONS_CANT_TRANSLATE=t.API_ERROR_APPS_NOT_FOUND_SNIPPET=t.API_ERROR_APPS_TOO_MANY_SNIPPETS=void 0,t.API_ERROR_EMO_GET_REPORTS_UNIT_INVALID=t.API_ERROR_EMO_GET_REPORTS_MAX_ITEMS_SIZE_INVALID=t.API_ERROR_REPORTS_DECISION_OWNER_PROTECTED=t.API_ERROR_REPORTS_DECISION_INVALID_DATA=t.API_ERROR_REPORTS_DECISION_OBJECT_NOT_FOUND=t.API_ERROR_REPORTS_DECISION_NOT_FOUND=t.API_ERROR_BOOKING_SERVICE_GROUP_HAS_NO_SUBSCRIPTION=t.API_ERROR_BOOKING_SERVICE_INVALID_PHONE=void 0,t.API_ERROR_UNKNOWN=1,t.API_ERROR_DISABLED=2,t.API_ERROR_METHOD=3,t.API_ERROR_SIGNATURE=4,t.API_ERROR_AUTH=5,t.API_ERROR_TOO_MANY=6,t.API_ERROR_PERMISSION=7,t.API_ERROR_REQUEST=8,t.API_ERROR_FLOOD=9,t.API_ERROR_SERVER=10,t.API_ERROR_ENABLED_IN_TEST=11,t.API_ERROR_COMPILE=12,t.API_ERROR_RUNTIME=13,t.API_ERROR_CAPTCHA=14,t.API_ERROR_ACCESS=15,t.API_ERROR_AUTH_HTTPS=16,t.API_ERROR_AUTH_VALIDATION=17,t.API_ERROR_USER_DELETED=18,t.API_ERROR_BLOCKED=19,t.API_ERROR_METHOD_PERMISSION=20,t.API_ERROR_METHOD_ADS=21,t.API_ERROR_UPLOAD=22,t.API_ERROR_METHOD_DISABLED=23,t.API_ERROR_NEED_CONFIRMATION=24,t.API_ERROR_NEED_TOKEN_CONFIRMATION=25,t.API_ERROR_INVALID_RECEIPT=26,t.API_ERROR_GROUP_AUTH=27,t.API_ERROR_APP_AUTH=28,t.API_ERROR_RATE_LIMIT=29,t.API_ERROR_PRIVATE_PROFILE=30,t.API_ERROR_USER_INVALID=31,t.API_ERROR_WAIT=32,t.API_ERROR_NOT_IMPLEMENTED_YET=33,t.API_ERROR_CLIENT_VERSION_DEPRECATED=34,t.API_ERROR_CLIENT_UPDATE_NEEDED=35,t.API_ERROR_TIMEOUT=36,t.API_ERROR_USER_BANNED=37,t.API_ERROR_UNKNOWN_APPLICATION=38,t.API_ERROR_UNKNOWN_USER=39,t.API_ERROR_UNKNOWN_GROUP=40,t.API_ERROR_ADDITIONAL_SIGNUP_REQUIRED=41,t.API_ERROR_IP_IS_NOT_ALLOWED=42,t.API_ERROR_SECTION_DISABLED=43,t.API_ERROR_PARAM=100,t.API_ERROR_PARAM_API_ID=101,t.API_ERROR_LIMITS=103,t.API_ERROR_NOT_FOUND=104,t.API_ERROR_SAVE_FILE=105,t.API_ERROR_ACTION_FAILED=106,t.API_ERROR_PARAM_USER_ID=113,t.API_ERROR_PARAM_ALBUM_ID=114,t.API_ERROR_PARAM_SERVER=118,t.API_ERROR_PARAM_TITLE=119,t.API_ERROR_PARAM_HASH=121,t.API_ERROR_PARAM_PHOTOS=122,t.API_ERROR_PARAM_AUDIO=123,t.API_ERROR_PARAM_STATUS=124,t.API_ERROR_PARAM_GROUP_ID=125,t.API_ERROR_PARAM_SCHOOL_ID=126,t.API_ERROR_PARAM_PHOTO=129,t.API_ERROR_PARAM_PAGE_ID=140,t.API_ERROR_ACCESS_PAGE=141,t.API_ERROR_MOBILE_NOT_ACTIVATED=146,t.API_ERROR_INSUFFICIENT_FUNDS=147,t.API_ERROR_ACCESS_MENU=148,t.API_ERROR_PARAM_TIMESTAMP=150,t.API_ERROR_FRIENDS_LIST_ID=171,t.API_ERROR_FRIENDS_LIST_LIMIT=173,t.API_ERROR_FRIENDS_ADD_YOURSELF=174,t.API_ERROR_FRIENDS_ADD_IN_ENEMY=175,t.API_ERROR_FRIENDS_ADD_ENEMY=176,t.API_ERROR_FRIENDS_ADD_NOT_FOUND=177,t.API_ERROR_PARAM_NOTE_ID=180,t.API_ERROR_ACCESS_NOTE=181,t.API_ERROR_ACCESS_NOTE_COMMENT=182,t.API_ERROR_ACCESS_COMMENT=183,t.API_ERROR_ACCESS_ALBUM=200,t.API_ERROR_ACCESS_AUDIO=201,t.API_ERROR_ACCESS_GROUP=203,t.API_ERROR_ACCESS_VIDEO=204,t.API_ERROR_ACCESS_MARKET=205,t.API_ERROR_ACCESS_EMAIL=206,t.API_ERROR_ACCESS_AUTOLOGIN=207,t.API_ERROR_WALL_ACCESS_POST=210,t.API_ERROR_WALL_ACCESS_COMMENT=211,t.API_ERROR_WALL_ACCESS_REPLIES=212,t.API_ERROR_WALL_ACCESS_ADD_REPLY=213,t.API_ERROR_WALL_ADD_POST=214,t.API_ERROR_WALL_ALREADY_LIKED=215,t.API_ERROR_WALL_ALREADY_UNLIKED=216,t.API_ERROR_WALL_ADS_PUBLISHED=219,t.API_ERROR_WALL_TOO_MANY_RECIPIENTS=220,t.API_ERROR_STATUS_NO_AUDIO=221,t.API_ERROR_WALL_LINKS_FORBIDDEN=222,t.API_ERROR_WALL_REPLY_OWNER_FLOOD=223,t.API_ERROR_WALL_ADS_POST_LIMIT_REACHED=224,t.API_ERROR_WALL_DONUT=225,t.API_ERROR_LIKES_REACTION_CAN_NOT_BE_APPLIED=232,t.API_ERROR_FRIENDS_TOO_MANY_FRIENDS=242,t.API_ERROR_WALL_COMMENT_NOT_DELETED=243,t.API_ERROR_POLLS_ACCESS=250,t.API_ERROR_POLLS_POLL_ID=251,t.API_ERROR_POLLS_ANSWER_ID=252,t.API_ERROR_POLLS_ACCESS_WITHOUT_VOTE=253,t.API_ERROR_ACCESS_GROUPS=260,t.API_ERROR_AUDIO_CLAIMED=270,t.API_ERROR_AUDIO_ALBUM_DUPLICATE=271,t.API_ERROR_FOLLOW_ARTIST_ACCESS_DENIED=273,t.API_ERROR_FOLLOW_ARTIST_WRONG_FORMAT=274,t.API_ERROR_UNFOLLOW_ARTIST_WRONG_FORMAT=275,t.API_ERROR_ALBUM_FULL=300,t.API_ERROR_FILENAME=301,t.API_ERROR_ALBUMS_LIMIT=302,t.API_ERROR_FILESIZE=303,t.API_ERROR_AUDIO_SEARCH_SESSION_EXPIRED=400,t.API_ERROR_AUDIO_PLAYLISTS_LIMIT=401,t.API_ERROR_VOTES_PERMISSION=500,t.API_ERROR_BALANCE=504,t.API_ERROR_WITHDRAW=505,t.API_ERROR_PARAM_AMOUNT=506,t.API_ERROR_TRANSACTION_STATUS=507,t.API_ERROR_TRANSACTION_NOT_FOUND=508,t.API_ERROR_WRONG_PIN=509,t.API_ERROR_ADS_PERMISSION=600,t.API_ERROR_WEIGHTED_FLOOD=601,t.API_ERROR_ADS_PARTIAL_SUCCESS=602,t.API_ERROR_ADS_SPECIFIC=603,t.API_ERROR_ADS_PARAM_DOMAIN_INVALID=604,t.API_ERROR_ADS_PARAM_DOMAIN_FORBIDDEN=605,t.API_ERROR_ADS_PARAM_DOMAIN_RESERVED=606,t.API_ERROR_ADS_PARAM_DOMAIN_OCCUPIED=607,t.API_ERROR_ADS_PARAM_DOMAIN_ACTIVE=608,t.API_ERROR_ADS_PARAM_DOMAIN_APP_INVALID=609,t.API_ERROR_ADS_PARAM_DOMAIN_APP_FORBIDDEN=610,t.API_ERROR_ADS_APP_NOT_VERIFIED=611,t.API_ERROR_APP_NOT_IN_SITE_DOMAINS=612,t.API_ERROR_ADS_APP_BLOCKED=613,t.API_ERROR_ADS_PARAM_DOMAIN_WRONG_TYPE=614,t.API_ERROR_ADS_PARAM_DOMAIN_GROUP_INVALID=615,t.API_ERROR_ADS_PARAM_DOMAIN_GROUP_FORBIDDEN=616,t.API_ERROR_ADS_PARAM_DOMAIN_APP_BLOCKED=617,t.API_ERROR_ADS_PARAM_DOMAIN_GROUP_NOT_OPEN=618,t.API_ERROR_ADS_PARAM_DOMAIN_GROUP_NOT_POSSIBLE_YET=619,t.API_ERROR_ADS_PARAM_DOMAIN_GROUP_BLOCKED=620,t.API_ERROR_ADS_PARAM_DOMAIN_GROUP_FORBIDDEN_LINKS=621,t.API_ERROR_ADS_PARAM_DOMAIN_GROUP_FORBIDDEN_SEARCH=622,t.API_ERROR_ADS_PARAM_DOMAIN_GROUP_FORBIDDEN_COVER=623,t.API_ERROR_ADS_PARAM_DOMAIN_GROUP_WRONG_CATEGORY=624,t.API_ERROR_ADS_PARAM_DOMAIN_GROUP_WRONG_NAME=625,t.API_ERROR_ADS_PARAM_DOMAIN_GROUP_LOW_POSTS_REACH=626,t.API_ERROR_ADS_PARAM_DOMAIN_GROUP_WRONG_CLASS=627,t.API_ERROR_ADS_PARAM_DOMAIN_GROUP_RECENTLY_CREATED=628,t.API_ERROR_ADS_OBJECT_DELETED=629,t.API_ERROR_ADS_LOOKALIKE_REQUEST_ALREADY_IN_PROGRESS=630,t.API_ERROR_ADS_LOOKALIKE_REQUEST_MAX_COUNT_PER_DAY_REACHED=631,t.API_ERROR_ADS_LOOKALIKE_REQUEST_AUDIENCE_TOO_SMALL=632,t.API_ERROR_ADS_LOOKALIKE_REQUEST_AUDIENCE_TOO_LARGE=633,t.API_ERROR_ADS_LOOKALIKE_REQUEST_EXPORT_ALREADY_IN_PROGRESS=634,t.API_ERROR_ADS_LOOKALIKE_REQUEST_EXPORT_MAX_COUNT_PER_DAY_REACHED=635,t.API_ERROR_ADS_LOOKALIKE_REQUEST_EXPORT_RETARGETING_GROUP_LIMIT=636,t.API_ERROR_ADS_PARAM_DOMAIN_GROUP_NEMESIS_PUNISHMENT=637,t.API_ERROR_ADS_ALREADY_CREATED=640,t.API_ERROR_ADS_PARAM_DOMAIN_GROUP_LOW_SUBSCRIBERS_GROWTH=641,t.API_ERROR_GROUP_CHANGE_CREATOR=700,t.API_ERROR_GROUP_NOT_IN_CLUB=701,t.API_ERROR_GROUP_TOO_MANY_OFFICERS=702,t.API_ERROR_GROUP_NEED_2FA=703,t.API_ERROR_GROUP_HOST_NEED_2FA=704,t.API_ERROR_GROUP_TOO_MANY_ADDRESSES=706,t.API_ERROR_GROUP_PAYLOAD_MAX_LENGTH=707,t.API_ERROR_GROUP_PAYLOAD_SIGNATURE_INVALID=708,t.API_ERROR_GROUP_PAYLOAD_SIGNATURE_EXPIRED=709,t.API_ERROR_GROUP_PAYLOAD_FLOOD=710,t.API_ERROR_GROUP_APP_IS_NOT_INSTALLED_IN_COMMUNITY=711,t.API_ERROR_GROUP_CHAT_CANT_DELETE=712,t.API_ERROR_GROUP_INVITE_LINKS_CANT_USE=713,t.API_ERROR_GROUP_INVITE_LINKS_NOT_VALID=714,t.API_ERROR_GROUP_INVITE_LINKS_USER_IN_CLUB=715,t.API_ERROR_GROUP_DONUT_DISABLED=716,t.API_ERROR_GROUP_LIST_IS_NOT_OBSOLETE=717,t.API_ERROR_VIDEO_ALREADY_ADDED=800,t.API_ERROR_VIDEO_COMMENTS_CLOSED=801,t.API_ERROR_VIDEO_TRY_LATER=802,t.API_ERROR_MESSAGES_USER_BLOCKED=900,t.API_ERROR_MESSAGES_DENY_SEND=901,t.API_ERROR_MESSAGES_PRIVACY=902,t.API_ERROR_MESSAGES_PHONE_NUMBER_NO_MOBILE_APP=905,t.API_ERROR_MESSAGES_PHONE_NUMBER_NOT_VERIFIED=906,t.API_ERROR_MESSAGES_TOO_OLD_PTS=907,t.API_ERROR_MESSAGES_TOO_NEW_PTS=908,t.API_ERROR_MESSAGES_EDIT_EXPIRED=909,t.API_ERROR_MESSAGES_TOO_BIG=910,t.API_ERROR_MESSAGES_KEYBOARD_INVALID=911,t.API_ERROR_MESSAGES_CHAT_BOT_FEATURE=912,t.API_ERROR_MESSAGES_TOO_LONG_FORWARDS=913,t.API_ERROR_MESSAGES_TOO_LONG_MESSAGE=914,t.API_ERROR_MESSAGES_GROUP_MESSAGES_OFF=915,t.API_ERROR_MESSAGES_GROUP_MESSAGES_FORBIDDEN=916,t.API_ERROR_MESSAGES_CHAT_USER_NO_ACCESS=917,t.API_ERROR_MESSAGES_EMAIL_NO_ACCESS=918,t.API_ERROR_MESSAGES_CANT_SEE_INVITE_LINK=919,t.API_ERROR_MESSAGES_EDIT_KIND_DISALLOWED=920,t.API_ERROR_MESSAGES_CANT_FWD=921,t.API_ERROR_MESSAGES_CHAT_USER_LEFT=922,t.API_ERROR_MESSAGES_OLD_RECEIVER_APP=923,t.API_ERROR_MESSAGES_CANT_DELETE_FOR_ALL=924,t.API_ERROR_MESSAGES_CHAT_NOT_ADMIN=925,t.API_ERROR_MESSAGES_CHAT_NOT_EXIST=927,t.API_ERROR_MESSAGES_CALL_PRIVACY=928,t.API_ERROR_MESSAGES_CANT_CHANGE_INVITE_LINK=931,t.API_ERROR_MESSAGES_GROUP_PEER_ACCESS=932,t.API_ERROR_MESSAGES_PHONE_NUMBER_NO_ACCESS=933,t.API_ERROR_MESSAGES_PHONE_NUMBER_NOT_CLUB_MEMBER=934,t.API_ERROR_MESSAGES_CHAT_USER_NOT_IN_CHAT=935,t.API_ERROR_MESSAGES_CONTACT_NOT_FOUND=936,t.API_ERROR_MESSAGES_TOO_MANY_CONTACTS=937,t.API_ERROR_MESSAGES_MESSAGE_REQUEST_ALREADY_SENT=939,t.API_ERROR_MESSAGES_TOO_MANY_POSTS=940,t.API_ERROR_MESSAGES_CANT_PIN_ONE_TIME_STORY=942,t.API_ERROR_MESSAGES_INTENT_CANT_USE=943,t.API_ERROR_MESSAGES_INTENT_LIMIT_OVERFLOW=944,t.API_ERROR_MESSAGES_CHAT_DISABLED=945,t.API_ERROR_MESSAGES_CHAT_UNSUPPORTED=946,t.API_ERROR_MESSAGES_MEMBER_ACCESS_TO_GROUP_DENIED=947,t.API_ERROR_MESSAGES_CALL_BUSY=948,t.API_ERROR_MESSAGES_CANT_EDIT_PINNED_YET=949,t.API_ERROR_MESSAGES_PEER_BLOCKED_REASON_BY_TIME=950,t.API_ERROR_MESSAGES_CALL_NOT_FOUND=951,t.API_ERROR_MESSAGES_CALL_INVALID_SECRET=952,t.API_ERROR_MESSAGES_CALL_INVALID_NAME=953,t.API_ERROR_MESSAGES_CALL_INVALID_JOIN_LINK=954,t.API_ERROR_MESSAGES_CHAT_INVALID_INVITE_LINK=955,t.API_ERROR_MESSAGES_TOO_MANY_PINNED_CONVERSATIONS=956,t.API_ERROR_MESSAGES_ALREADY_PINNED_CONVERSATION=957,t.API_ERROR_MESSAGES_AUDIO_MESSAGE_NOT_RECOGNIZED=958,t.API_ERROR_MESSAGES_TRANSCRIPTION_SIZE_NOT_ALLOWED=959,t.API_ERROR_MESSAGES_CALL_REQUIRES_AUTH=960,t.API_ERROR_MESSAGES_OUTDATED_CALL_JOIN_LINK=961,t.API_ERROR_MESSAGES_USER_NOT_DON=962,t.API_ERROR_MESSAGES_CALL_JOIN_NOT_ALLOWED=963,t.API_ERROR_MESSAGES_ALREADY_ARCHIVED=964,t.API_ERROR_MESSAGES_NOT_ARCHIVED=965,t.API_ERROR_MESSAGES_CONVERSATION_STYLE_UPDATE_FLOOD=966,t.API_ERROR_MESSAGES_CHAT_MEMBER_NOT_STAFF=967,t.API_ERROR_MESSAGES_TRANSLATION_UNSUPPORTED_LANGUAGE=968,t.API_ERROR_MESSAGES_MESSAGE_CANNOT_BE_FORWARDED=969,t.API_ERROR_MESSAGES_CANT_PIN_EXPIRING_MESSAGE=970,t.API_ERROR_MESSAGES_TRANSLATION_INVALID_MESSAGE=971,t.API_ERROR_MESSAGES_TRANSLATION_CANT_TRANSLATE=972,t.API_ERROR_MESSAGES_TRANSLATION_INVALID_LANGUAGES=973,t.API_ERROR_MESSAGES_FOLDER_NOT_FOUND=974,t.API_ERROR_MESSAGES_FOLDERS_LIMIT_REACHED=975,t.API_ERROR_MESSAGES_FOLDER_CONVERSATIONS_LIMIT_REACHED=976,t.API_ERROR_MESSAGES_OUTDATED_VK_ROOMS_LINK=977,t.API_ERROR_MESSAGES_ONLY_P2P_ENABLED_FOR_CALL=978,t.API_ERROR_MESSAGES_APP_ACTION_RESTRICTED_FOR_COMMUNITY=979,t.API_ERROR_MESSAGES_CANT_PIN_SERVICE_MESSAGE=980,t.API_ERROR_MESSAGES_CHAT_CANT_ADD_USER_BY_PRIVACY=981,t.API_ERROR_MESSAGES_CHAT_ADD_TEMPORARY_DENIED=982,t.API_ERROR_MESSAGES_USER_IS_RESTRICTED_TO_WRITE_TO_CHAT=983,t.API_ERROR_MESSAGES_SPAM_RESTRICTION=984,t.API_ERROR_MESSAGES_GROUP_FOR_NOTIFICATIONS_ONLY=985,t.API_ERROR_MESSAGES_NEED_EDU_ROLE=986,t.API_ERROR_MESSAGES_NEED_MESSAGE_REQUEST=987,t.API_ERROR_MESSAGES_PENDING_MESSAGE_REQUEST=988,t.API_ERROR_MESSAGES_EDITING_DISABLED_UNLINK_ESIA=989,t.API_ERROR_MESSAGES_DROP_DEVICE_CACHE=990,t.API_ERROR_MESSAGES_POSTPONED_NOT_SUPPORTED=991,t.API_ERROR_MESSAGES_POSTPONED_LIMIT=992,t.API_ERROR_PARAM_PHONE=1e3,t.API_ERROR_NO_USER_BY_PHONE=1001,t.API_ERROR_PHONE_ALREADY_USED=1004,t.API_ERROR_PHONE_VALIDATING_NOT_STARTED=1005,t.API_ERROR_MESSAGES_OLD_CALLS_LIB=1006,t.API_ERROR_MESSAGES_CALL_CHAT_LIMIT_REACHED=1007,t.API_ERROR_MESSAGES_ALREADY_IN_THE_CALL=1008,t.API_ERROR_MESSAGES_INVALID_REACTION_ID=1009,t.API_ERROR_MESSAGES_FORBIDDEN_REACTION=1010,t.API_ERROR_MESSAGES_REACTIONS_LIMIT_REACHED=1011,t.API_ERROR_MESSAGES_WRITING_DISABLED_FOR_CHAT=1012,t.API_ERROR_MESSAGES_MAX_PINNED_MESSAGES=1014,t.API_ERROR_MESSAGES_SHOULD_BE_EDU=1015,t.API_ERROR_MESSAGES_SHOULD_NOT_BE_EDU=1016,t.API_ERROR_MESSAGES_CHAT_WAS_DELETED=1017,t.API_ERROR_MESSAGES_MESSAGE_WAS_DELETED=1018,t.API_ERROR_MESSAGES_CHAT_CAN_NOT_BE_JOINED_FOR_NOT_ORGANIZATION_MEMBER=1019,t.API_ERROR_MESSAGES_CONVERSATION_CAN_NOT_BE_PINNED=1020,t.API_ERROR_ME_EDUCATION_IS_NOT_AN_EDU_USER=1050,t.API_ERROR_METHOD_IS_NOT_AVAILABLE_FOR_THE_PROFILE_TYPE=1051,t.API_ERROR_AUTH_FLOOD_ERROR=1105,t.API_ERROR_AUTH_NO_TOKEN=1109,t.API_ERROR_AUTH_PARAM_CODE=1110,t.API_ERROR_AUTH_PARAM_PASSWORD=1111,t.API_ERROR_AUTH_DELAY=1112,t.API_ERROR_AUTH_INVALID_SID=1113,t.API_ERROR_AUTH_ANONYMOUS_TOKEN_HAS_EXPIRED=1114,t.API_ERROR_AUTH_SUPER_APP_TOKEN_IS_INVALID=1115,t.API_ERROR_AUTH_ANONYMOUS_TOKEN_IS_INVALID=1116,t.API_ERROR_AUTH_ACCESS_TOKEN_HAS_EXPIRED=1117,t.API_ERROR_AUTH_ANONYMOUS_TOKEN_IP_MISMATCH=1118,t.API_ERROR_PASSKEY_REGISTRATION=1119,t.API_ERROR_BID_ORGANIZATION=1121,t.API_ERROR_BID_ORG_INVALID=1122,t.API_ERROR_BID_BUSINESS_LOGIC_ERROR=1123,t.API_ERROR_BID_ALREADY_ON_VERIFICATION=1125,t.API_ERROR_BID_LEGAL_FULLNAME_REQUIRED=1126,t.API_ERROR_BID_NO_ENOUGH_RIGHTS=1127,t.API_ERROR_ABF_FLOOD_LIMIT=1139,t.API_ERROR_PARAM_DOC_ID=1150,t.API_ERROR_PARAM_DOC_DELETE_ACCESS=1151,t.API_ERROR_PARAM_DOC_TITLE=1152,t.API_ERROR_PARAM_DOC_ACCESS=1153,t.API_ERROR_PARAM_DOC_RESTORE_ACCESS=1154,t.API_ERROR_PARAM_DOC_RESTORE_TIMEOUT=1155,t.API_ERROR_PHOTO_CHANGED=1160,t.API_ERROR_TOO_MANY_LISTS=1170,t.API_ERROR_GIFT_NOT_AVAILABLE=1190,t.API_ERROR_PRODUCT_NOT_AVAILABLE=1210,t.API_ERROR_PRODUCT_NOT_FOUND=1211,t.API_ERROR_APPS_ALREADY_UNLOCKED=1251,t.API_ERROR_APPS_PAYMENTS_NOT_ALLOWED=1252,t.API_ERROR_APPS_PAYMENTS_LIMIT=1253,t.API_ERROR_APPS_PAYMENTS_WAITING_ITEM=1254,t.API_ERROR_APPS_ORDER_ERROR=1255,t.API_ERROR_APPS_SUBSCRIPTION_NOT_FOUND=1256,t.API_ERROR_APPS_SUBSCRIPTION_INVALID_STATUS=1257,t.API_ERROR_APPS_ALREADY_ADDED=1258,t.API_ERROR_APPS_MENU_TOO_MANY_APPS=1259,t.API_ERROR_INVALID_ADDRESS=1260,t.API_ERROR_APPS_NO_RIGHTS_IN_COMMUNITY=1261,t.API_ERROR_APPS_TOO_MUCH_PROFILE_BUTTONS=1262,t.API_ERROR_MARKET_RESTORE_TOO_LATE=1400,t.API_ERROR_MARKET_COMMENTS_CLOSED=1401,t.API_ERROR_MARKET_ALBUM_NOT_FOUND=1402,t.API_ERROR_MARKET_ITEM_NOT_FOUND=1403,t.API_ERROR_MARKET_ITEM_ALREADY_ADDED=1404,t.API_ERROR_MARKET_TOO_MANY_ITEMS=1405,t.API_ERROR_MARKET_TOO_MANY_ITEMS_IN_ALBUM=1406,t.API_ERROR_MARKET_TOO_MANY_ALBUMS=1407,t.API_ERROR_MARKET_ITEM_HAS_BAD_LINKS=1408,t.API_ERROR_MARKET_EXTENDED_NOT_ENABLED=1409,t.API_ERROR_MARKET_VARIANTS_NOT_ENABLED=1410,t.API_ERROR_MARKET_VARIANTS_ERROR=1411,t.API_ERROR_MARKET_GROUPING_ITEMS_WITH_DIFFERENT_PROPERTIES=1412,t.API_ERROR_MARKET_GROUPING_ALREADY_HAS_SUCH_VARIANT=1413,t.API_ERROR_MARKET_GROUPING_HAS_OTHER_PROPERTIES=1414,t.API_ERROR_MARKET_GROUPING_MUST_HAVE_VARIANTS=1415,t.API_ERROR_MARKET_VARIANT_NOT_FOUND=1416,t.API_ERROR_MARKET_PROPERTY_NOT_FOUND=1417,t.API_ERROR_MARKET_MAX_PROPERTIES_LIMIT_EXCEED=1418,t.API_ERROR_MARKET_MAX_VARIANTS_LIMIT_EXCEED=1419,t.API_ERROR_MARKET_NAME_TOO_LONG=1421,t.API_ERROR_MARKET_ITEM_NOT_FOUND_IN_CART=1422,t.API_ERROR_MARKET_VARIANT_VALUE_TOO_LONG=1423,t.API_ERROR_MARKET_UNKNOWN_PROPERTY_TYPE=1424,t.API_ERROR_MARKET_GROUPING_MUST_CONTAIN_MORE_THAN_ONE_ITEM=1425,t.API_ERROR_MARKET_GROUPING_ITEMS_MUST_HAVE_DISTINCT_PROPERTIES=1426,t.API_ERROR_MARKET_ORDERS_NO_CART_ITEMS=1427,t.API_ERROR_MARKET_ORDERS_LESS_THAN_MIN_ORDER_PRICE=1428,t.API_ERROR_MARKET_INVALID_DIMENSIONS=1429,t.API_ERROR_MARKET_CANT_CHANGE_VKPAY_STATUS=1430,t.API_ERROR_MARKET_SHOP_ALREADY_ENABLED=1431,t.API_ERROR_MARKET_SHOP_ALREADY_DISABLED=1432,t.API_ERROR_MARKET_PHOTOS_CROP_INVALID_FORMAT=1433,t.API_ERROR_MARKET_PHOTOS_CROP_OVERFLOW=1434,t.API_ERROR_MARKET_PHOTOS_CROP_SIZE_TOO_LOW=1435,t.API_ERROR_MARKET_ORDERS_ORDER_NOT_FOUND=1436,t.API_ERROR_MARKET_ORDERS_REQUIRED_FIELD_IS_EMPTY=1437,t.API_ERROR_MARKET_NOT_ENABLED=1438,t.API_ERROR_MARKET_ORDERS_OUT_OF_STOCK=1439,t.API_ERROR_MARKET_ORDERS_CART_ITEM_QUANTITY_EXCEEDED=1440,t.API_ERROR_MARKET_COURIER_DELIVERY_NOT_ENABLED=1441,t.API_ERROR_MARKET_PROMO_CODE_ALREADY_EXISTS=1442,t.API_ERROR_MARKET_PROMO_CODE_ITEMS_DISCOUNT=1443,t.API_ERROR_MARKET_PROMO_CODE_DELIVERY_DISCOUNT=1444,t.API_ERROR_MARKET_PROMO_CODE_NAME=1445,t.API_ERROR_MARKET_ALBUM_MAIN_HIDDEN=1446,t.API_ERROR_MARKET_CATEGORY_IS_NOT_VALID=1447,t.API_ERROR_MARKET_TOO_MANY_ATTENDANT_ITEMS=1448,t.API_ERROR_MARKET_PROMO_CODE_LIMIT_EXCEED=1449,t.API_ERROR_MARKET_PROMO_CODE_TIME_FROM=1450,t.API_ERROR_MARKET_PROMO_CODE_TIME_TO=1451,t.API_ERROR_MARKET_PROMO_CODE_MANY_DISCOUNT=1452,t.API_ERROR_MARKET_PROMO_CODE_EMPTY_DISCOUNT=1453,t.API_ERROR_MARKET_PROMO_CODE_APPLY_LIMIT_INVALID=1454,t.API_ERROR_MARKET_PROMO_CODE_EXTENDED_FIELDS=1455,t.API_ERROR_MARKET_ORDERS_INVALID_STATUS=1456,t.API_ERROR_MARKET_FAILED_TO_SET_ALBUM_AS_MAIN=1457,t.API_ERROR_MARKET_FAILED_TO_UNSET_ALBUM_AS_MAIN=1458,t.API_ERROR_MARKET_COMMUNITY_REVIEW_USER_IS_GROUP_EDITOR=1461,t.API_ERROR_MARKET_COMMUNITY_REVIEW_USER_LEFT_REVIEW=1462,t.API_ERROR_MARKET_COMMUNITY_REVIEW_USER_IS_NEW=1463,t.API_ERROR_MARKET_COMMUNITY_REVIEW_NOT_BUSINESS_COMMUNITY=1464,t.API_ERROR_MARKET_CAROUSEL_DISABLED=1465,t.API_ERROR_MARKET_USER_UNDERAGE=1466,t.API_ERROR_MARKET_DELIVERY_SETTINGS=1467,t.API_ERROR_MARKET_ANOTHER_PROFILE_LINKED_TO_COMMUNITY=1468,t.API_ERROR_MARKET_ANOTHER_COMMUNITY_LINKED_TO_PROFILE=1469,t.API_ERROR_MARKET_SET_SETTINGS=1470,t.API_ERROR_MARKET_PAYMENTS_SETTINGS=1471,t.API_ERROR_VKSTORE_INVALID_DELIVERY_METHOD=1480,t.API_ERROR_VKSTORE_CONTACT_PHONE=1481,t.API_ERROR_VKSTORE_DELIVERY_PERSON=1482,t.API_ERROR_VKSTORE_DELIVERY_ADDRESS=1483,t.API_ERROR_VKSTORE_DELIVERY_MIN_PRICE=1484,t.API_ERROR_VKSTORE_ORDER_LOCKED=1485,t.API_ERROR_VKSTORE_ORDER_SAVE=1486,t.API_ERROR_VKSTORE_ORDER_PAY=1487,t.API_ERROR_VKSTORE_CART_ITEMS_CHANGED=1488,t.API_ERROR_VKSTORE_ORDER_CANCEL_WRONG_STATUS=1489,t.API_ERROR_VKSTORE_ORDER_CANCEL=1490,t.API_ERROR_VKSTORE_NOT_ENOUGH_COINS=1491,t.API_ERROR_VKSTORE_ITEM_COUNT_LIMIT=1492,t.API_ERROR_MARKET_ORDERS_QR_GROUP_LIMIT=1493,t.API_ERROR_MARKET_ORDERS_QR_GROUP_NOT_FOUND=1494,t.API_ERROR_MARKET_ORDERS_QR_DONT_CREATED=1495,t.API_ERROR_MARKET_PROMO_CODE_EDITING_ARCHIVE=1496,t.API_ERROR_VKSTORE_ORDER_CLOSE_WRONG_STATUS=1497,t.API_ERROR_VKSTORE_ORDER_CLOSE=1498,t.API_ERROR_MARKET_ITEM_IS_DELETED=1507,t.API_ERROR_MARKET_ITEM_IS_SERVICE=1508,t.API_ERROR_MARKET_ITEM_REVIEW_DISABLED=1509,t.API_ERROR_MARKET_ITEM_REVIEW_NOT_BUSINESS=1510,t.API_ERROR_MARKET_ITEM_REVIEW_IS_GOVERNMENT=1511,t.API_ERROR_MARKET_ITEM_REVIEW_NEW_USER=1512,t.API_ERROR_MARKET_ITEM_REVIEW_ALREADY_EXISTS=1513,t.API_ERROR_MARKET_ITEM_REVIEW_USER_BLACKLISTED=1514,t.API_ERROR_MARKET_ITEM_REVIEW_GROUP_IS_PRIVATE=1515,t.API_ERROR_MARKET_ITEM_REVIEW_NOT_PRO_MARKET=1516,t.API_ERROR_MARKET_ITEM_REVIEW_STOP_WORDS_IN_TEXT=1517,t.API_ERROR_MARKET_ITEM_IS_NOT_DELETED=1518,t.API_ERROR_MARKET_REVIEWS_NOT_FOUND=1519,t.API_ERROR_MARKET_REVIEWS_NOT_AVAILABLE=1520,t.API_ERROR_MARKET_COMMUNITY_REVIEW_FRIENDS=1522,t.API_ERROR_MARKET_ADD_TO_CART=1524,t.API_ERROR_MARKET_DISABLED=1525,t.API_ERROR_MARKET_SERVICES_DISABLED=1526,t.API_ERROR_MARKET_ADD_TO_CART_LIMIT=1530,t.API_ERROR_MARKET_ADD_TO_SERVICE_ALBUM=1531,t.API_ERROR_MARKET_ADD_TO_MARKET_ALBUM=1532,t.API_ERROR_MARKET_CART_IS_LOCKED=1533,t.API_ERROR_YCLIENTS_ANOTHER_GROUP_BINDED_TO_BRANCH=1550,t.API_ERROR_YCLIENTS_ANOTHER_BRANCH_BINDED_TO_GROUP=1551,t.API_ERROR_YCLIENTS_BIND_ALREADY_EXISTS=1552,t.API_ERROR_YCLIENTS_GROUP_NOT_BINDED_TO_BRANCH=1553,t.API_ERROR_YCLIENTS_NO_ACTIVE_BINDING=1554,t.API_ERROR_YCLIENTS_API_ERROR=1560,t.API_ERROR_STORY_EXPIRED=1600,t.API_ERROR_STORY_INCORRECT_REPLY_PRIVACY=1602,t.API_ERROR_RESTORE_INCORRECT_PHONE_OR_EMAIL=1801,t.API_ERROR_RESTORE_USER_WAS_NOT_FOUND=1802,t.API_ERROR_RESTORE_PHONE_OCCUPIED=1803,t.API_ERROR_RESTORE_PHONE_FORMAT=1804,t.API_ERROR_PRETTY_CARDS_CARD_NOT_FOUND=1900,t.API_ERROR_PRETTY_CARDS_TOO_MANY_CARDS=1901,t.API_ERROR_PRETTY_CARDS_CARD_IS_CONNECTED_TO_POST=1902,t.API_ERROR_CALLBACK_API_SERVERS_LIMIT=2e3,t.API_ERROR_STICKERS_NOT_PURCHASED=2100,t.API_ERROR_STICKERS_TOO_MANY_FAVORITES=2101,t.API_ERROR_STICKERS_NOT_FAVORITE=2102,t.API_ERROR_PODCASTS_EPISODE_NOT_FOUND=2300,t.API_ERROR_PODCASTS_OWNER_DISABLED=2301,t.API_ERROR_PODCASTS_ALREADY_MODERATION=2302,t.API_ERROR_STUDENTS_VERIFICATION_CARD_ALREADY_EXISTS=2500,t.API_ERROR_TEXTLIVES_EMPTY_MESSAGE=2600,t.API_ERROR_TEXTLIVES_TOO_MANY_ATTACHMENTS=2601,t.API_ERROR_TEXTLIVES_AUTHOR_IS_INVALID=2602,t.API_ERROR_TEXTLIVES_TEXTLIVE_IS_FINISHED=2603,t.API_ERROR_TEXTLIVES_TEXTLIVE_IS_UNAVAILABLE=2604,t.API_ERROR_TEXTLIVES_SERVER_TRY_AGAIN=2605,t.API_ERROR_TEXTLIVES_MESSAGE_IS_TOO_BIG=2606,t.API_ERROR_BOT_NOT_IN_CHAT=3001,t.API_ERROR_WALL_CHECK_LINK_CANT_DETERMINE_SOURCE=3102,t.API_ERROR_UNBLOCK_UNBAN_DATA_EXPIRED=3200,t.API_ERROR_RECAPTCHA=3300,t.API_ERROR_PHONE_VALIDATION_NEED=3301,t.API_ERROR_PASSWORD_VALIDATION_NEED=3302,t.API_ERROR_OTP_VALIDATION_NEED=3303,t.API_ERROR_EMAIL_CONFIRMATION_NEED=3304,t.API_ERROR_ASSERT_VOTES=3305,t.API_ERROR_PROMO_CODES_APP_IS_NOT_REGISTERED=3500,t.API_ERROR_PROMO_CODES_PARTNER_DISABLED=3501,t.API_ERROR_PROMO_CODES_CAMPAIGN_DOES_NOT_EXIST=3502,t.API_ERROR_PROMO_CODES_CAMPAIGN_DISABLED=3503,t.API_ERROR_PROMO_CODES_LIMIT_IS_REACHED=3504,t.API_ERROR_PROMO_CODES_QUOTA_EXCEEDED=3505,t.API_ERROR_PROMO_CODES_TASK_IS_NOT_COMPLETE=3506,t.API_ERROR_PROMO_CODES_TASK_DOES_NOT_EXIST=3507,t.API_ERROR_PROMO_CODES_ITEM_IS_NOT_AVAILABLE=3508,t.API_ERROR_PROMO_CODES_PARTNER_SUBSCRIPTION_EXISTS=3509,t.API_ERROR_PROMO_CODES_STICKER_PACK_IS_ALREADY_ADDED=3510,t.API_ERROR_PROMO_CODES_ADD_DISCOUNT_STICKERS_LIMIT_ACTIVATION=3511,t.API_ERROR_PROMO_CODES_ADD_PROMOCODE_LIMIT_ACTIVATION_PER_DAY=3512,t.API_ERROR_PROMO_CODES_PROMOCODE_EXPIRED=3513,t.API_ERROR_PROMO_CODES_PROMOCODE_ACTIVATED=3514,t.API_ERROR_PROMO_CODES_PROMOCODE_BIND_OTHER_USER=3515,t.API_ERROR_PHONE_IS_NOT_VERIFIED=3607,t.API_ERROR_TOKEN_EXTENSION_REQUIRED=3609,t.API_ERROR_USER_DEACTIVATED=3610,t.API_ERROR_USER_SERVICE_DEACTIVATED=3611,t.API_ERROR_USER_ALREADY_HAS_EXTERNAL_BINDING=3612,t.API_ERROR_EMAIL_FOR_BINDING=3613,t.API_ERROR_OTP_SEND=3615,t.API_ERROR_FLOOD_OTP_SEND=3616,t.API_ERROR_RESEND_DELAY_NOT_EXPIRED=3617,t.API_ERROR_INVALID_EMAIL=3618,t.API_ERROR_WISHLISTS_NO_ACCESS_NOT_FRIEND=3700,t.API_ERROR_SUPPORT_TICKET_ID_NOT_FOUND=3701,t.API_ERROR_SUPPORT_TICKET_NOT_FOUND=3702,t.API_ERROR_FAVE_ALIEXPRESS_TAG=3800,t.API_ERROR_NOTIFICATION_TYPE_UNSUPPORTED=4101,t.API_ERROR_NOTIFICATION_PARAMS_INVALID=4102,t.API_ERROR_MICROLANDINGS_HEADER_LENGTH=4200,t.API_ERROR_MICROLANDINGS_DESC_LENGTH=4201,t.API_ERROR_MICROLANDINGS_ADVANTAGE_MAX_COUNT=4202,t.API_ERROR_MICROLANDINGS_ADVANTAGE_LENGTH=4203,t.API_ERROR_MICROLANDINGS_PHONE_FORMAT=4204,t.API_ERROR_MICROLANDINGS_EMAIL_FORMAT=4205,t.API_ERROR_MICROLANDINGS_URL_FORMAT=4206,t.API_ERROR_MICROLANDINGS_URL_NOT_SAFETY=4207,t.API_ERROR_MICROLANDINGS_VK_CONTACT=4208,t.API_ERROR_MICROLANDINGS_LEAD_FORM_DISABLE_MESSAGES=4209,t.API_ERROR_MICROLANDINGS_SEND_VK_DISABLE_MESSAGES=4210,t.API_ERROR_MICROLANDINGS_LEAD_FORM_INCORRECT_NAME=4211,t.API_ERROR_MICROLANDINGS_LEAD_FORM_INCORRECT_EMAIL=4212,t.API_ERROR_MICROLANDINGS_LEAD_FORM_INCORRECT_OGRN=4213,t.API_ERROR_MICROLANDINGS_CTA_BUTTON=4214,t.API_ERROR_MICROLANDINGS_LEAD_FORM_INCORRECT_ADDRESS=4215,t.API_ERROR_MICROLANDINGS_LEAD_FORM_INCORRECT_AGREE=4216,t.API_ERROR_MICROLANDINGS_CTA_BUTTON_INCORRECT=4224,t.API_ERROR_MICROLANDINGS_CONTENT_BLOCK_TITLE_LENGTH=4225,t.API_ERROR_MICROLANDINGS_CONTENT_BLOCK_DESC_LENGTH=4226,t.API_ERROR_MICROLANDINGS_CONTENT_BLOCK_INCORRECT_ATTACH=4227,t.API_ERROR_MICROLANDINGS_CONTENT_BLOCK_ATTACH_MAX_COUNT=4228,t.API_ERROR_MICROLANDINGS_PRODUCTS_BLOCK_HEADER_LENGTH=4229,t.API_ERROR_MICROLANDINGS_PHOTOS_BLOCK_HEADER_LENGTH=4230,t.API_ERROR_MICROLANDINGS_REVIEWS_BLOCK_HEADER_LENGTH=4231,t.API_ERROR_MICROLANDINGS_VIDEO_RESTRICTED=4232,t.API_ERROR_MICROLANDINGS_VIDEO_MAX_DURATION=4233,t.API_ERROR_MICROLANDINGS_INCORRECT_PIXEL_ID=4234,t.API_ERROR_MICROLANDINGS_INCORRECT_BLOCK_TYPE=4235,t.API_ERROR_MICROLANDINGS_LEAD_FORM_WIDGET_BLOCK_HEADER_LENGTH=4236,t.API_ERROR_MICROLANDINGS_LEAD_FORM_WIDGET_BLOCK_SUBHEADER_LENGTH=4237,t.API_ERROR_MICROLANDINGS_LEAD_FORM_WIDGET_BLOCK_CTA_BUTTON_INCORRECT=4238,t.API_ERROR_MICROLANDINGS_APPEARANCE_INVALID_FONT_ID=4239,t.API_ERROR_MICROLANDINGS_APPEARANCE_INVALID_BUTTON_RADIUS=4240,t.API_ERROR_MICROLANDINGS_APPEARANCE_INVALID_BACKGROUND=4241,t.API_ERROR_MICROLANDINGS_APPEARANCE_INVALID_FONT_SIZE=4242,t.API_ERROR_MICROLANDINGS_LEAD_MAGNET_BLOCK_HEADER_LENGTH=4243,t.API_ERROR_MICROLANDINGS_LEAD_MAGNET_BLOCK_SUCCESS_MESSAGE_LENGTH=4244,t.API_ERROR_MICROLANDINGS_LEAD_MAGNET_BLOCK_CTA_TYPE_INCORRECT=4245,t.API_ERROR_MICROLANDINGS_LEAD_MAGNET_BLOCK_ATTACH_INCORRECT=4246,t.API_ERROR_MICROLANDINGS_LEAD_MAGNET_BLOCK_ATTACH_VALUE_LENGTH=4247,t.API_ERROR_MICROLANDINGS_LEAD_MAGNET_BLOCK_ATTACH_VALUE_DOC_INCORRECT=4248,t.API_ERROR_MICROLANDINGS_CUSTOM_DOMAIN_INCORRECT_FORMAT=4249,t.API_ERROR_MICROLANDINGS_CUSTOM_DOMAIN_URL_NOT_SAFE=4250,t.API_ERROR_MICROLANDINGS_APPEARANCE_INVALID_FONT_WEIGHT=4252,t.API_ERROR_MICROLANDINGS_CUSTOM_DOMAIN_NAME_NOT_SET=4253,t.API_ERROR_FORTUNE_SQUARE_GIVE_GIFTS=4301,t.API_ERROR_FORTUNE_SQUARE_USER_STATE_NOT_FOUND=4302,t.API_ERROR_FORTUNE_SQUARE_SPIN_PROCESS=4303,t.API_ERROR_FORTUNE_SQUARE_SECTOR_NOT_FOUND=4304,t.API_ERROR_VKRUN_END_DATE_GREATER_THAN_YEAR=4400,t.API_ERROR_VKRUN_END_DATE_LESS_OR_EQUAL_THAN_START_DATE=4401,t.API_ERROR_VKRUN_CHALLENGE_CANNOT_ACCEPT=4402,t.API_ERROR_VKRUN_CHALLENGE_CANNOT_LEAVE=4403,t.API_ERROR_VKRUN_INVITATION_IS_OUTDATED=4405,t.API_ERROR_VKRUN_CHALLENGE_CANNOT_BAN_USER_CURRENT_STATUS=4406,t.API_ERROR_VKRUN_CHALLENGE_CANNOT_INVITE_USERS=4407,t.API_ERROR_API_ERROR_VKRUN_RESOURCE_LOCKED=4409,t.API_ERROR_API_ERROR_VKRUN_NOT_ENOUGH_COINS=4410,t.API_ERROR_API_ERROR_VKRUN_OUT_OF_STOCK=4411,t.API_ERROR_API_ERROR_VKRUN_IMPORT_DISABLED=4412,t.API_ERROR_HEALTH_RESOURCE_LOCKED=4450,t.API_ERROR_HEALTH_LOGIC_ERROR=4451,t.API_ERROR_CLASSIFIEDS_USER_NOT_FOUND=4500,t.API_ERROR_CLASSIFIEDS_PRODUCT_NOT_FOUND=4501,t.API_ERROR_CLASSIFIEDS_NOTIFICATION_INVALID_TYPE=4502,t.API_ERROR_CLASSIFIEDS_NOTIFICATION_INVALID_TEXT=4503,t.API_ERROR_CLASSIFIEDS_CORRELATION_ERROR=4504,t.API_ERROR_CLASSIFIEDS_NOTIFICATION_SENDING_ERROR=4505,t.API_ERROR_CLASSIFIEDS_INVALID_CHAT_TYPE=4506,t.API_ERROR_CLASSIFIEDS_COULD_NOT_SEND_MESSAGE=4507,t.API_ERROR_CLASSIFIEDS_GROUP_CLASSIFIEDS_SECTION_IS_DISABLED=4508,t.API_ERROR_CLASSIFIEDS_ALLOWED_CATEGORIES_FOR_GROUP_NOT_FOUND=4509,t.API_ERROR_CLASSIFIEDS_YOULA_CITIES_LOAD_ERROR=4510,t.API_ERROR_CLASSIFIEDS_YOULA_PRODUCT_ARCHIVING_ERROR=4511,t.API_ERROR_CLASSIFIEDS_INVALID_GROUP_MODE=4513,t.API_ERROR_CLASSIFIEDS_NOT_MODERATED_COMMUNITY=4514,t.API_ERROR_CLASSIFIEDS_EMPTY_GEO_IN_COMMUNITY=4515,t.API_ERROR_CLASSIFIEDS_INVALID_CATEGORY=4516,t.API_ERROR_CLASSIFIEDS_INVALID_GEO=4517,t.API_ERROR_CLASSIFIEDS_USER_IN_BLACKLIST=4518,t.API_ERROR_CLASSIFIEDS_COMMUNITY_NOT_FOUND=4519,t.API_ERROR_CLASSIFIEDS_INVALID_PHOTO_ID=4520,t.API_ERROR_CLASSIFIEDS_CONTEST_PRIZES_RUN_OUT=4521,t.API_ERROR_CLASSIFIEDS_CONTEST_MAX_PRIZE_COUNT_EXCEEDED=4522,t.API_ERROR_CLASSIFIEDS_NOTIFICATION_EMPTY_USER_IDENTIFIER=4523,t.API_ERROR_CLASSIFIEDS_NOTIFICATION_PHONE_NOT_FOUND=4524,t.API_ERROR_CLASSIFIEDS_PHOTO_ACCESS_ERROR=4525,t.API_ERROR_CLASSIFIEDS_USER_IS_LOCKED_ERROR=4526,t.API_ERROR_CLASSIFIEDS_PRODUCT_DUPLICATE_ERROR=4527,t.API_ERROR_CLASSIFIEDS_POST_IS_NOT_PRODUCT=4528,t.API_ERROR_CLASSIFIEDS_SUBSCRIPTION_ADD_ERROR=4529,t.API_ERROR_CLASSIFIEDS_SUBSCRIPTION_DEL_ERROR=4530,t.API_ERROR_CLASSIFIEDS_BLACKLIST_ADD_ERROR=4531,t.API_ERROR_CLASSIFIEDS_BLACKLIST_DEL_ERROR=4532,t.API_ERROR_CLASSIFIEDS_NOTIFICATION_DISABLED=4533,t.API_ERROR_CLASSIFIEDS_SEND_MESSAGE_ERROR=4534,t.API_ERROR_CLASSIFIEDS_CREATE_CHAT_ERROR=4535,t.API_ERROR_CLASSIFIEDS_PRODUCT_IS_BLOCKED_ERROR=4536,t.API_ERROR_CLASSIFIEDS_PRODUCT_IS_SOLD_ERROR=4537,t.API_ERROR_CLASSIFIEDS_PRODUCT_IS_NOT_ACTIVE_ERROR=4538,t.API_ERROR_CLASSIFIEDS_EMPTY_RESULT=4539,t.API_ERROR_LOYALTY_NO_ACCOUNT=5e3,t.API_ERROR_LOYALTY_TASK_ALREADY_COMPLETED=5001,t.API_ERROR_LOYALTY_TASK_NOT_FOUND=5002,t.API_ERROR_LOYALTY_REQUEST_PROCESSING=5003,t.API_ERROR_LOYALTY_REQUEST_FAILED=5004,t.API_ERROR_LOYALTY_REQUEST_FINISHED=5005,t.API_ERROR_LOYALTY_OFFER_NOT_FOUND=5006,t.API_ERROR_LOYALTY_NOT_ENOUGH_MONEY=5007,t.API_ERROR_LOYALTY_COUPON_EXPIRED=5008,t.API_ERROR_LOYALTY_COUPON_HAS_NO_AVAILABLE_CODE=5009,t.API_ERROR_LOYALTY_COUPON_UNKNOWN_ERROR=5010,t.API_ERROR_LOYALTY_COUPON_NOT_ACTIVE=5011,t.API_ERROR_LOYALTY_COUPON_ACCESS_DENIED=5012,t.API_ERROR_LOYALTY_COUPON_INVALID_DISTRIBUTION=5013,t.API_ERROR_LOYALTY_OFFER_HAS_NO_PRICE=5014,t.API_ERROR_LOYALTY_OFFER_HAS_NO_COUPON=5015,t.API_ERROR_LOYALTY_REQUEST_ALREADY_PROCESSED_SUCCESSFULLY=5016,t.API_ERROR_LOYALTY_PARTNER_APP_ID_ALREADY_EXIST=5017,t.API_ERROR_LOYALTY_CANT_BUY_OFFER=5018,t.API_ERROR_LOYALTY_WRONG_CODE=5019,t.API_ERROR_LOYALTY_USED_CODE=5020,t.API_ERROR_LOYALTY_INCORRECT_TASK_TYPE=5021,t.API_ERROR_LOYALTY_TASK_NOT_STARTED=5022,t.API_ERROR_LOYALTY_WRONG_PROMOCODE=5023,t.API_ERROR_LOYALTY_IS_BOT=5024,t.API_ERROR_LOYALTY_NEED_VERIFY=5025,t.API_ERROR_LOYALTY_VERIFICATION_IN_PROGRESS=5026,t.API_ERROR_LOYALTY_USER_WRONG_REGION=5027,t.API_ERROR_LOYALTY_TEAM_NOT_FOUND=5028,t.API_ERROR_LOYALTY_TEAM_IS_FULL=5029,t.API_ERROR_LOYALTY_TEAM_CODE_IS_USED=5030,t.API_ERROR_LOYALTY_WIN_PREVIOUS_EVENT=5032,t.API_ERROR_LOYALTY_USER_ALREADY_EXISTS=5033,t.API_ERROR_LOYALTY_LEADERBOARD_TEMPLATE_NOT_FOUND=5034,t.API_ERROR_LOYALTY_LEADERBOARD_NOT_FOUND=5035,t.API_ERROR_LOYALTY_CATEGORY_TASK_NOT_ALLOWED=5036,t.API_ERROR_LOYALTY_STICKER_NOT_AVAILABLE=5037,t.API_ERROR_LOYALTY_FEATURE_DISABLED=5038,t.API_ERROR_COUPONS_COUPON_REMOVED=5100,t.API_ERROR_COUPONS_COUPON_EXPIRED=5101,t.API_ERROR_COUPONS_COUPON_NOT_ACTIVE=5102,t.API_ERROR_COUPONS_NO_AVAILABLE_CODE=5103,t.API_ERROR_MUSIC_UPSELL_NOT_AVAILABLE=5200,t.API_ERROR_URL_DOMAIN_BANNED=5300,t.API_ERROR_PARAM_SOURCE=5400,t.API_ERROR_NEED_ENTER_PHONE=5401,t.API_ERROR_UTILS_SNIPPET_URL_INCORRECT=5500,t.API_ERROR_UTILS_SNIPPET_URL_TIMEOUT=5501,t.API_ERROR_INAPP_ORDERS_STATUS_IS_ACTUAL=5600,t.API_ERROR_INAPP_ORDERS_STATUS_TRANSITION_FORBIDDEN=5601,t.API_ERROR_INAPP_ORDERS_NOT_FOUND=5602,t.API_ERROR_INAPP_ORDERS_ACCESS_DENIED=5603,t.API_ERROR_GO_UPLOAD_INVALID_RESPONSE=5701,t.API_ERROR_GO_UPLOAD_INVALID_UPLOAD_HASH=5702,t.API_ERROR_GO_UPLOAD_INVALID_USER=5703,t.API_ERROR_GO_UPLOAD_INVALID_GROUP=5704,t.API_ERROR_GO_UPLOAD_INVALID_CROP=5705,t.API_ERROR_GO_UPLOAD_TO_SMALL_AVATAR=5706,t.API_ERROR_GO_UPLOAD_PHOTO_NOT_FOUND=5708,t.API_ERROR_GO_UPLOAD_INVALID_PHOTO=5709,t.API_ERROR_GO_UPLOAD_INVALID_HASH=5710,t.API_ERROR_MONEY_TRANSFER_CANT_YOURSELF=5800,t.API_ERROR_MONEY_REQUEST_ALREADY_PROCESSED=5801,t.API_ERROR_MONEY_TRANSFER_NO_AVAILABLE=5802,t.API_ERROR_MONEY_TRANSFER_MAINTENANCE=5803,t.API_ERROR_MONEY_TRANSFER_SBP_NO_PHONE=5804,t.API_ERROR_MONEY_TRANSFER_SBP_NOT_RU_PHONE=5805,t.API_ERROR_MONEY_TRANSFER_SBP_PROVIDER_ERROR=5806,t.API_ERROR_MONEY_TRANSFER_SBP_RATE_LIMITS=5807,t.API_ERROR_MONEY_VKPAY_RESPONSE_FAIL=5808,t.API_ERROR_EDUCATION_EJD_REGION_VENDOR_NOT_FOUND=6007,t.API_ERROR_EDUCATION_PROPOSAL_CREATE_ERROR=6008,t.API_ERROR_PLATFORM_CONFIRMATION_REQUIRED=6100,t.API_ERROR_PHONES_LIST_IS_NOT_SUPPORTED=6101,t.API_ERROR_PLATFORM_APP_NOT_ENABLED=6104,t.API_ERROR_PLATFORM_ONLY_ONE_INDIVIDUAL_ORGANIZATION=6105,t.API_ERROR_PLATFORM_MODERATION_NOT_FOUND=6106,t.API_ERROR_PLATFORM_MONETIZATION_DISABLED=6110,t.API_ERROR_PLATFORM_MONETIZATION_STATS_NOT_AVAILABLE=6111,t.API_ERROR_PLATFORM_MONETIZATION_CABINET_DISABLED=6112,t.API_ERROR_CASHOUT_NEED_TRY_LATER=6200,t.API_ERROR_CASHOUT_PAYOUT_TO_SE_WITH_SAME_INN=6201,t.API_ERROR_CASHOUT_USER_IS_EMPLOYEE=6202,t.API_ERROR_CASHOUT_DUPLICATED_PERSONAL_INN=6203,t.API_ERROR_CASHOUT_COMMON_ERROR=6205,t.API_ERROR_BADGES_CANNOT_SEND_BADGE=7100,t.API_ERROR_FIND_ME_TOO_MANY_SUBSCRIPTIONS=7200,t.API_ERROR_CHANNEL_INVITE_LINKS_CANT_USE=7400,t.API_ERROR_CHANNEL_INVITE_LINKS_NOT_VALID=7401,t.API_ERROR_CHANNEL_USER_ALREADY_IN=7402,t.API_ERROR_COMMUNITY_CHANNEL_ALREADY_EXISTS=7403,t.API_ERROR_ACCOUNT_CALL_INVALID_SECRET=7500,t.API_ERROR_DONUT_WAIT=7601,t.API_ERROR_API_ERROR_VKSTART_IMPORT_DISABLED=7800,t.API_ERROR_VKUP_UNKNOWN_ERROR=7900,t.API_ERROR_VKUP_USER_UPDATE_WRONG_PARAMETERS=7901,t.API_ERROR_VKUP_USER_NOT_REGISTERED=7902,t.API_ERROR_VKUP_USER_SAVE_FAILED=7903,t.API_ERROR_VKUP_USER_ALREADY_ONBOARDED=7904,t.API_ERROR_VKUP_USER_ALREADY_ACCEPTED_OFFER=7905,t.API_ERROR_VKUP_PRODUCT_NOT_FOUND=7906,t.API_ERROR_VKUP_USER_CANNOT_BUY_PRODUCT=7907,t.API_ERROR_VKUP_USER_PRODUCT_SAVE_FAILED=7908,t.API_ERROR_VKUP_PRODUCT_TYPE_NOT_FOUND=7909,t.API_ERROR_VKUP_USER_PRODUCT_NOT_FOUND=7910,t.API_ERROR_VKUP_PRODUCT_NOT_EMOJI_STATUS=7911,t.API_ERROR_VKUP_PRODUCT_NOT_STICKER_PACK=7912,t.API_ERROR_VKUP_USER_NOT_ACCEPTED_OFFER=7916,t.API_ERROR_VKUP_USER_CANNOT_SKIP_QUEST=7917,t.API_ERROR_VKUP_GIFT_CARD_BAD_OWNER=7918,t.API_ERROR_VKUP_GIFT_CARD_NOT_FOUND=7919,t.API_ERROR_VKUP_GIFT_CARD_NOT_ALLOWED_FOR_USER=7920,t.API_ERROR_VKUP_GIFT_CARD_IS_USED=7921,t.API_ERROR_VKUP_REQUEST_IS_EMPTY=7922,t.API_ERROR_VKUP_CAN_NOT_CHANGE_STARTED_TIME_IN_ACTIVE_QUEST=7923,t.API_ERROR_VKUP_QUEST_ALREADY_EXISTS=7925,t.API_ERROR_VKUP_USER_QUEST_WRONG_STATUS=7926,t.API_ERROR_VKUP_USER_CAN_NOT_GET_REWARD=7927,t.API_ERROR_VKUP_HAS_DIFFERENT_TYPE=7930,t.API_ERROR_VERIFICATION_REQUEST_NOT_FOUND=8e3,t.API_ERROR_SPACES_INVITE_LINK_CANT_CHANGE=8100,t.API_ERROR_SPACES_INVITE_LINK_CANT_SEE=8101,t.API_ERROR_SPACES_INVITE_LINK_NOT_VALID=8102,t.API_ERROR_SPACES_USER_ALREADY_IN=8103,t.API_ERROR_OAUTH_SYNCHRONIZATION_FAILED=8200,t.API_ERROR_OAUTH_USER_IS_NOT_LINKED=8201,t.API_ERROR_OAUTH_USER_IS_DELETED=8202,t.API_ERROR_OAUTH_USER_IS_UNTRUSTED=8203,t.API_ERROR_OAUTH_INVALID_BIRTHDATE=8204,t.API_ERROR_OAUTH_NOT_LINKED_PARENTS=8205,t.API_ERROR_OAUTH_ENTITY_IS_ALREADY_LINKED=8206,t.API_ERROR_OAUTH_INVALID_SERVICE_ID=8207,t.API_ERROR_OAUTH_EXTERNAL_SERVICE_IS_NOT_AVAILABLE=8208,t.API_ERROR_OAUTH_EXTERNAL_SERVICE_HAS_INVALID_USER_DATA=8209,t.API_ERROR_OAUTH_INVALID_SID=8210,t.API_ERROR_APP_INVITE_FRIEND_ALREADY_INSTALLED=8301,t.API_ERROR_APP_INVITE_FRIEND_NOT_A_FRIEND=8302,t.API_ERROR_RFC_SLOW_DOWN=8500,t.API_ERROR_RFC_INVALID_TOKEN=8501,t.API_ERROR_RFC_INVALID_SCOPE=8502,t.API_ERROR_RFC_INVALID_CLIENT=8503,t.API_ERROR_RFC_UNSUPPORTED_GRANT_TYPE=8504,t.API_ERROR_RFC_UNSUPPORTED_RESPONSE_TYPE=8505,t.API_ERROR_RFC_UNAUTHORIZED_CLIENT=8506,t.API_ERROR_RFC_INSUFFICIENT_SCOPE=8507,t.API_ERROR_RFC_INVALID_GRANT=8508,t.API_ERROR_CALLS_UNKNOWN_CALL=9e3,t.API_ERROR_CALLS_UNKNOWN_PARTICIPANT=9001,t.API_ERROR_CALLS_INVALID_PARTICIPANT_NAME=9002,t.API_ERROR_CALLS_INVALID_SECRET=9003,t.API_ERROR_CALLS_CHAT_LIMIT_REACTED=9004,t.API_ERROR_CALLS_CALL_REQUIRES_AUTH=9005,t.API_ERROR_CALLS_JOIN_LINK_IS_OUTDATED=9006,t.API_ERROR_CALLS_WRONG_ANONYMOUS_ACCESS_TOKEN_TYPE=9007,t.API_ERROR_CALLS_JOIN_LINK_IS_NOT_VALID=9008,t.API_ERROR_CALLS_SPEAKER_PRIVACY=9009,t.API_ERROR_CALLS_AUTH_USERS_ROOM=9010,t.API_ERROR_CALLS_GROUP_MEMBERS_ROOM=9011,t.API_ERROR_CALLS_DONAT_ROOM=9012,t.API_ERROR_CALLS_ROOM_IS_ALREADY_CLOSED=9013,t.API_ERROR_CALLS_ROOM_IS_BANNED=9014,t.API_ERROR_CALLS_COULD_NOT_JOIN_A_CALL_BY_LINK_BECAUSE_PASSWORD_IS_MISSING=9015,t.API_ERROR_NOT_SUPPORTED_HTTP_METHOD=9999,t.API_ERROR_HEALTH_LOYALTY_USER_ALREADY_EXISTS=1e4,t.API_ERROR_HEALTH_LOYALTY_USER_NOT_EXISTS=10001,t.API_ERROR_FRIENDS_FOLLOWERS_MODE_IS_DISABLED=10002,t.API_ERROR_HEALTH_LOYALTY_SHOP_ITEM_NOT_FOUND=10003;t.API_ERROR_HEALTH_LOYALTY_NO_CURRENT_LOTTERY=10004,t.API_ERROR_HEALTH_FEED_ALREADY_LIKED=10005,t.API_ERROR_HEALTH_FEED_NOT_LIKED=10006,t.API_ERROR_HEALTH_FEED_NOT_OWNER=10007,t.API_ERROR_HEALTH_LOYALTY_NOT_ENOUGH_BALANCE=10008,t.API_ERROR_HEALTH_LOYALTY_USER_TASK_NOT_FOUND=10009,t.API_ERROR_HEALTH_LOYALTY_USER_TASK_IS_BURNED=10010,t.API_ERROR_HEALTH_LOYALTY_REWARD_ALREADY_COLLECTED=10011,t.API_ERROR_HEALTH_LOYALTY_USER_TASK_NOT_FINISHED=10012,t.API_ERROR_HEALTH_LOYALTY_CATALOG_NOT_FOUND=10013,t.API_ERROR_HEALTH_LOYALTY_MAX_OWN_COUNT_REACHED=10014,t.API_ERROR_HEALTH_LOYALTY_COUPON_LIMIT_PER_USER_REACHED=10015,t.API_ERROR_FRIENDS_TOO_MANY_SET_RECOMMENDATIONS=10020,t.API_ERROR_HEALTH_LOCKED=10100,t.API_ERROR_PLATFORM_FUNCTION_NAME_INVALID=11e3,t.API_ERROR_PLATFORM_FUNCTION_COMPILATION_ERROR=11001,t.API_ERROR_PLATFORM_FUNCTION_ALREADY_EXISTS=11002,t.API_ERROR_APPS_EMPTY_FILTER_PARAMS=11003,t.API_ERROR_APPS_EMPTY_SNIPPET_DATA=11004,t.API_ERROR_APPS_TOO_MANY_SNIPPETS=11005,t.API_ERROR_APPS_NOT_FOUND_SNIPPET=11006,t.API_ERROR_TRANSLATIONS_CANT_TRANSLATE=11101,t.API_ERROR_TRANSLATIONS_MULTIPLE_SOURCE_LANG=11102,t.API_ERROR_NO_COUPLED_ACCOUNT=11200,t.API_ERROR_APPS_NO_CODE_FEEDBACK_EMPTY_PHONE_AND_EMAIL=11400,t.API_ERROR_APPS_NO_CODE_FEEDBACK_INCORRECT_EMAIL=11401,t.API_ERROR_APPS_NO_CODE_FEEDBACK_INCORRECT_PHONE=11402,t.API_ERROR_CUA_CONFIRMATION_REQUIRED=11500,t.API_ERROR_CUA_VALIDATION_METHOD_UNAVAILABLE=11501,t.API_ERROR_CUA_SESSION_INVALID=11502,t.API_ERROR_VK_PAY_DOESNT_HAVE_WALLET=11600,t.API_ERROR_VK_PAY_LIMIT_HAS_BEEN_REACHED=11601,t.API_ERROR_VK_PAY_BIND_CARD_NOT_FOUND=11602,t.API_ERROR_VK_PAY_BIND_CARD_TIMEOUT=11603,t.API_ERROR_VK_PAY_RECIPIENT_BANNED=11604,t.API_ERROR_WEBAUTHN_EMPLOYEE_LAST_CREDENTIAL=11800,t.API_ERROR_AUTHORS_MARKETPLACE_AUTHOR_ALREADY_EXISTS=12e3,t.API_ERROR_AUTHORS_MARKETPLACE_AUTHOR_NOT_FOUND=12001,t.API_ERROR_AUTHORS_MARKETPLACE_AUTHOR_DECLINED=12003,t.API_ERROR_AUTHORS_MARKETPLACE_OFFER_CONTENT_URL_INVALID=12006,t.API_ERROR_COMMUNITY_STRIKES_UPLOAD_CONTENT_DENIED=13e3,t.API_ERROR_CROWD_WRONG_STAGE_DATA=13001,t.API_ERROR_CROWD_NO_JOB_FOR_USER=13002,t.API_ERROR_CROWD_USER_IS_BANNED_IN_TASK=13004,t.API_ERROR_CROWD_USER_ACCESS_TO_TASK_IS_DENIED_FOR_TIME=13005,t.API_ERROR_CROWD_USER_DID_NOT_ACCEPT_TERMS_OF_OFFER=13006,t.API_ERROR_CROWD_USER_STATE_DOES_NOT_HAVE_STAGE=13008,t.API_ERROR_CROWD_UNKNOWN_STAGE=13009,t.API_ERROR_CROWD_NOT_VALID_CLIP_ERROR=13011,t.API_ERROR_CROWD_CAN_NOT_GET_CLIP_ERROR=13012,t.API_ERROR_CROWD_IT_IS_NOT_TIME_FOR_NEXT_EXAM_ATTEMPT=13013,t.API_ERROR_CROWD_USER_IN_TASK_SO_HE_CANT_DO_EXAM=13014,t.API_ERROR_CROWD_EXAM_IS_BEING_CHECKED=13015,t.API_ERROR_CROWD_SKIP_IS_NOT_AVAILABLE_FOR_USER=13016,t.API_ERROR_CROWD_USER_CASH_OUT_STATUS_NOT_ACTIVE=13017,t.API_ERROR_CROWD_USER_NOT_FOUND=13018,t.API_ERROR_CROWD_UTM_FOR_USER_ALREADY_ADDED=13019,t.API_ERROR_CROWD_TASK_NOT_FOUND=13020,t.API_ERROR_GAMES_BANNERS_CANNOT_DELETE=13104,t.API_ERROR_CANNOT_SAVE=13107,t.API_ERROR_ACCESS_GEO=13300,t.API_ERROR_ALREADY_HAS_MAP=14e3,t.API_ERROR_SELLER_ALREADY_LINKED=14001,t.API_ERROR_COMMUNITY_ALREADY_LINKED=14002,t.API_ERROR_BOOKING_SERVICE_NOT_AVAILABLE=14101,t.API_ERROR_BOOKING_SERVICE_NO_DATA=14102,t.API_ERROR_BOOKING_SERVICE_NO_STAFF_FOR_BOOKING=14103,t.API_ERROR_BOOKING_SERVICE_SERVICE_NOT_AVAILABLE_AT_SELECTED_TIME=14104,t.API_ERROR_BOOKING_SERVICE_SERVICE_NOT_AVAILABLE_FOR_BOOKING=14105,t.API_ERROR_BOOKING_SERVICE_INVALID_PHONE=14106,t.API_ERROR_BOOKING_SERVICE_GROUP_HAS_NO_SUBSCRIPTION=14107,t.API_ERROR_REPORTS_DECISION_NOT_FOUND=15101,t.API_ERROR_REPORTS_DECISION_OBJECT_NOT_FOUND=15102,t.API_ERROR_REPORTS_DECISION_INVALID_DATA=15300,t.API_ERROR_REPORTS_DECISION_OWNER_PROTECTED=15400,t.API_ERROR_EMO_GET_REPORTS_MAX_ITEMS_SIZE_INVALID=16100,t.API_ERROR_EMO_GET_REPORTS_UNIT_INVALID=16101},831505:(e,t,r)=>{"use strict";t.API_ERROR_ACCESS_ALBUM=t.API_ERROR_ACCESS=t.API_VERSION=void 0,t.API_ERROR_AUTH=t.API_ERROR_APP_AUTH=void 0,t.API_ERROR_CAPTCHA=t.API_ERROR_BALANCE=t.API_ERROR_AUTH_VALIDATION=void 0,t.API_ERROR_FRIENDS_ADD_ENEMY=t.API_ERROR_FLOOD=t.API_ERROR_DONUT_WAIT=void 0,t.API_ERROR_MARKET_DELIVERY_SETTINGS=void 0,t.API_ERROR_MARKET_ORDERS_REQUIRED_FIELD_IS_EMPTY=t.API_ERROR_MARKET_ORDERS_OUT_OF_STOCK=t.API_ERROR_MARKET_ORDERS_NO_CART_ITEMS=t.API_ERROR_MARKET_ORDERS_LESS_THAN_MIN_ORDER_PRICE=void 0,t.API_ERROR_METHOD_DISABLED=t.API_ERROR_METHOD=void 0,t.API_ERROR_PARAM=t.API_ERROR_NEED_CONFIRMATION=void 0,t.API_ERROR_PRIVATE_PROFILE=void 0,t.API_ERROR_SERVER=t.API_ERROR_SECTION_DISABLED=t.API_ERROR_REQUEST=t.API_ERROR_RATE_LIMIT=void 0,t.API_ERROR_USER_DELETED=t.API_ERROR_UNKNOWN=t.API_ERROR_TOO_MANY=void 0,t.AccountSecurityLevelEnumNames=t.AccountInfoVkPayAppIdEnumNames=t.VideoViewSegmentsResponseEnumNames=t.FriendsAddResponseEnumNames=void 0,t.BugtrackerDeviceStatusEnumNames=t.BaseSexEnumNames=void 0,t.GroupsGroupAuthorsFundLeaveReasonEnumNames=t.GroupsGroupAdminLevelEnumNames=t.GroupsGroupAccessEnumNames=t.GroupsAuthorsFundMembershipStatusIdEnumEnumNames=t.FriendsFriendStatusStatusEnumNames=void 0,t.OwnerStateStateEnumNames=t.MarketMarketItemTypeEnumNames=t.MarketMarketItemAvailabilityEnumNames=t.MarketMarketAlbumTypeEnumNames=t.MarketItemLabelTypeEnumNames=t.MarketItemLabelSubtypeEnumNames=t.MarketCustomButtonFullTypeEnumNames=t.MarketCustomButtonTypeEnumNames=t.MarketBadgeTypeEnumNames=t.GroupsGroupIsClosedEnumNames=t.GroupsGroupFullMemberStatusEnumNames=t.GroupsGroupFullAgeLimitsEnumNames=t.GroupsGroupFullTrustMarkEnumNames=void 0,t.WallGroupWallStatusEnumNames=t.VideoCatalogLinkMetaTrustMarkEnumNames=t.UsersUserRelationEnumNames=t.UsersUserFullBdateVisibilityEnumNames=t.ServerEffectsGeneratedVideoInfoStatusEnumNames=void 0;var n=r(365006);Object.defineProperty(t,"API_VERSION",{enumerable:!0,get:function(){return n.API_VERSION}});var a=r(695368);Object.defineProperty(t,"API_ERROR_ACCESS",{enumerable:!0,get:function(){return a.API_ERROR_ACCESS}}),Object.defineProperty(t,"API_ERROR_ACCESS_ALBUM",{enumerable:!0,get:function(){return a.API_ERROR_ACCESS_ALBUM}}),Object.defineProperty(t,"API_ERROR_APP_AUTH",{enumerable:!0,get:function(){return a.API_ERROR_APP_AUTH}}),Object.defineProperty(t,"API_ERROR_AUTH",{enumerable:!0,get:function(){return a.API_ERROR_AUTH}}),Object.defineProperty(t,"API_ERROR_AUTH_VALIDATION",{enumerable:!0,get:function(){return a.API_ERROR_AUTH_VALIDATION}}),Object.defineProperty(t,"API_ERROR_BALANCE",{enumerable:!0,get:function(){return a.API_ERROR_BALANCE}}),Object.defineProperty(t,"API_ERROR_CAPTCHA",{enumerable:!0,get:function(){return a.API_ERROR_CAPTCHA}}),Object.defineProperty(t,"API_ERROR_DONUT_WAIT",{enumerable:!0,get:function(){return a.API_ERROR_DONUT_WAIT}}),Object.defineProperty(t,"API_ERROR_FLOOD",{enumerable:!0,get:function(){return a.API_ERROR_FLOOD}}),Object.defineProperty(t,"API_ERROR_FRIENDS_ADD_ENEMY",{enumerable:!0,get:function(){return a.API_ERROR_FRIENDS_ADD_ENEMY}}),Object.defineProperty(t,"API_ERROR_MARKET_DELIVERY_SETTINGS",{enumerable:!0,get:function(){return a.API_ERROR_MARKET_DELIVERY_SETTINGS}}),Object.defineProperty(t,"API_ERROR_MARKET_ORDERS_LESS_THAN_MIN_ORDER_PRICE",{enumerable:!0,get:function(){return a.API_ERROR_MARKET_ORDERS_LESS_THAN_MIN_ORDER_PRICE}}),Object.defineProperty(t,"API_ERROR_MARKET_ORDERS_NO_CART_ITEMS",{enumerable:!0,get:function(){return a.API_ERROR_MARKET_ORDERS_NO_CART_ITEMS}}),Object.defineProperty(t,"API_ERROR_MARKET_ORDERS_OUT_OF_STOCK",{enumerable:!0,get:function(){return a.API_ERROR_MARKET_ORDERS_OUT_OF_STOCK}}),Object.defineProperty(t,"API_ERROR_MARKET_ORDERS_REQUIRED_FIELD_IS_EMPTY",{enumerable:!0,get:function(){return a.API_ERROR_MARKET_ORDERS_REQUIRED_FIELD_IS_EMPTY}}),Object.defineProperty(t,"API_ERROR_METHOD",{enumerable:!0,get:function(){return a.API_ERROR_METHOD}}),Object.defineProperty(t,"API_ERROR_METHOD_DISABLED",{enumerable:!0,get:function(){return a.API_ERROR_METHOD_DISABLED}}),Object.defineProperty(t,"API_ERROR_NEED_CONFIRMATION",{enumerable:!0,get:function(){return a.API_ERROR_NEED_CONFIRMATION}}),Object.defineProperty(t,"API_ERROR_PARAM",{enumerable:!0,get:function(){return a.API_ERROR_PARAM}}),Object.defineProperty(t,"API_ERROR_PRIVATE_PROFILE",{enumerable:!0,get:function(){return a.API_ERROR_PRIVATE_PROFILE}}),Object.defineProperty(t,"API_ERROR_RATE_LIMIT",{enumerable:!0,get:function(){return a.API_ERROR_RATE_LIMIT}}),Object.defineProperty(t,"API_ERROR_REQUEST",{enumerable:!0,get:function(){return a.API_ERROR_REQUEST}}),Object.defineProperty(t,"API_ERROR_SECTION_DISABLED",{enumerable:!0,get:function(){return a.API_ERROR_SECTION_DISABLED}}),Object.defineProperty(t,"API_ERROR_SERVER",{enumerable:!0,get:function(){return a.API_ERROR_SERVER}}),Object.defineProperty(t,"API_ERROR_TOO_MANY",{enumerable:!0,get:function(){return a.API_ERROR_TOO_MANY}}),Object.defineProperty(t,"API_ERROR_UNKNOWN",{enumerable:!0,get:function(){return a.API_ERROR_UNKNOWN}}),Object.defineProperty(t,"API_ERROR_USER_DELETED",{enumerable:!0,get:function(){return a.API_ERROR_USER_DELETED}});var s=r(902519);var _=r(762247);var c=r(834142);var l=r(760102);var u=r(741248);var d=r(312037);var p=r(275837);var E=r(921490);var m=r(787196);var g=r(230112);var A=r(794977);var f=r(199313);Object.defineProperty(t,"FriendsAddResponseEnumNames",{enumerable:!0,get:function(){return f.FriendsAddResponseEnumNames}});var I=r(492164);var y=r(730335);var R=r(923785);var O=r(121693);var S=r(957831);Object.defineProperty(t,"VideoViewSegmentsResponseEnumNames",{enumerable:!0,get:function(){return S.VideoViewSegmentsResponseEnumNames}});var T=r(704617);var P=r(49953);Object.defineProperty(t,"AccountInfoVkPayAppIdEnumNames",{enumerable:!0,get:function(){return P.AccountInfoVkPayAppIdEnumNames}});var b=r(107759);var C=r(511897);Object.defineProperty(t,"AccountSecurityLevelEnumNames",{enumerable:!0,get:function(){return C.AccountSecurityLevelEnumNames}});var D=r(758479);var M=r(895655);var L=r(633305);var N=r(671581);var k=r(198015);var U=r(487137);var B=r(393402);var x=r(948421);var F=r(221830);var V=r(145539);var K=r(551683);var W=r(273880);var H=r(515182);var G=r(348801);var j=r(663925);var Y=r(493883);var z=r(235963);var q=r(474043);var $=r(795473);var X=r(489460);var Q=r(902563);var J=r(613480);var Z=r(501557);var ee=r(662003);var te=r(559212);var oe=r(237567);var ie=r(74605);Object.defineProperty(t,"BaseSexEnumNames",{enumerable:!0,get:function(){return ie.BaseSexEnumNames}});var re=r(944645);var ne=r(446107);var ae=r(586902);var se=r(534818);var _e=r(280555);var ce=r(728948);var le=r(533856);var ue=r(779337);var de=r(357881);Object.defineProperty(t,"BugtrackerDeviceStatusEnumNames",{enumerable:!0,get:function(){return de.BugtrackerDeviceStatusEnumNames}});var pe=r(455023);var Ee=r(608048);var he=r(574811);var me=r(759787);var ge=r(680220);var Ae=r(277280);var ve=r(887384);var fe=r(755112);var Ie=r(794901);var ye=r(395612);var Re=r(324857);var Oe=r(990620);var Se=r(934833);var Te=r(616267);var Pe=r(883991);var be=r(609370);var we=r(165427);var Ce=r(188376);var De=r(70667);var Me=r(677372);var Le=r(844702);var Ne=r(172619);var ke=r(705520);var Ue=r(920029);var Be=r(304026);var xe=r(479961);var Fe=r(992546);var Ve=r(366e3);var Ke=r(168723);var We=r(163930);var He=r(809446);var Ge=r(133148);var je=r(98179);var Ye=r(934058);var ze=r(891281);Object.defineProperty(t,"FriendsFriendStatusStatusEnumNames",{enumerable:!0,get:function(){return ze.FriendsFriendStatusStatusEnumNames}});var qe=r(864006);var $e=r(451138);var Xe=r(42745);var Qe=r(773920);var Je=r(580012);var Ze=r(420003);var et=r(766648);var tt=r(776196);var ot=r(900502);Object.defineProperty(t,"GroupsAuthorsFundMembershipStatusIdEnumEnumNames",{enumerable:!0,get:function(){return ot.GroupsAuthorsFundMembershipStatusIdEnumEnumNames}});var it=r(502866);var rt=r(827342);Object.defineProperty(t,"GroupsGroupAccessEnumNames",{enumerable:!0,get:function(){return rt.GroupsGroupAccessEnumNames}});var nt=r(642347);Object.defineProperty(t,"GroupsGroupAdminLevelEnumNames",{enumerable:!0,get:function(){return nt.GroupsGroupAdminLevelEnumNames}});var at=r(207165);var st=r(342568);var _t=r(800878);Object.defineProperty(t,"GroupsGroupAuthorsFundLeaveReasonEnumNames",{enumerable:!0,get:function(){return _t.GroupsGroupAuthorsFundLeaveReasonEnumNames}});var ct=r(681599);var lt=r(539145);var ut=r(837333);Object.defineProperty(t,"GroupsGroupFullTrustMarkEnumNames",{enumerable:!0,get:function(){return ut.GroupsGroupFullTrustMarkEnumNames}});var dt=r(297838);Object.defineProperty(t,"GroupsGroupFullAgeLimitsEnumNames",{enumerable:!0,get:function(){return dt.GroupsGroupFullAgeLimitsEnumNames}});var pt=r(973063);var Et=r(780345);Object.defineProperty(t,"GroupsGroupFullMemberStatusEnumNames",{enumerable:!0,get:function(){return Et.GroupsGroupFullMemberStatusEnumNames}});var ht=r(255334);var mt=r(454236);Object.defineProperty(t,"GroupsGroupIsClosedEnumNames",{enumerable:!0,get:function(){return mt.GroupsGroupIsClosedEnumNames}});var gt=r(859391);var At=r(832457);var vt=r(599574);var ft=r(173661);var It=r(956208);var yt=r(380485);var Rt=r(593088);var Ot=r(662488);var St=r(829445);var Tt=r(786916);var Pt=r(288353);var bt=r(968566);var wt=r(84516);var Ct=r(681240);Object.defineProperty(t,"MarketBadgeTypeEnumNames",{enumerable:!0,get:function(){return Ct.MarketBadgeTypeEnumNames}});var Dt=r(159274);var Mt=r(691788);var Lt=r(491856);Object.defineProperty(t,"MarketCustomButtonTypeEnumNames",{enumerable:!0,get:function(){return Lt.MarketCustomButtonTypeEnumNames}});var Nt=r(963249);Object.defineProperty(t,"MarketCustomButtonFullTypeEnumNames",{enumerable:!0,get:function(){return Nt.MarketCustomButtonFullTypeEnumNames}});var kt=r(112384);Object.defineProperty(t,"MarketItemLabelSubtypeEnumNames",{enumerable:!0,get:function(){return kt.MarketItemLabelSubtypeEnumNames}});var Ut=r(750980);Object.defineProperty(t,"MarketItemLabelTypeEnumNames",{enumerable:!0,get:function(){return Ut.MarketItemLabelTypeEnumNames}});var Bt=r(529955);var xt=r(10764);Object.defineProperty(t,"MarketMarketAlbumTypeEnumNames",{enumerable:!0,get:function(){return xt.MarketMarketAlbumTypeEnumNames}});var Ft=r(776135);Object.defineProperty(t,"MarketMarketItemAvailabilityEnumNames",{enumerable:!0,get:function(){return Ft.MarketMarketItemAvailabilityEnumNames}});var Vt=r(811868);Object.defineProperty(t,"MarketMarketItemTypeEnumNames",{enumerable:!0,get:function(){return Vt.MarketMarketItemTypeEnumNames}});var Kt=r(792686);var Wt=r(34564);var Ht=r(605330);var Gt=r(241893);var jt=r(139531);var Yt=r(227981);var zt=r(570934);var qt=r(673136);var $t=r(789060);var Xt=r(793192);Object.defineProperty(t,"OwnerStateStateEnumNames",{enumerable:!0,get:function(){return Xt.OwnerStateStateEnumNames}});var Qt=r(237240);var Jt=r(496716);var Zt=r(470538);var eo=r(766700);var to=r(387075);var oo=r(884583);var io=r(371980);var ro=r(110540);var no=r(440612);var ao=r(29170);var so=r(688285);var _o=r(877045);var co=r(995021);Object.defineProperty(t,"ServerEffectsGeneratedVideoInfoStatusEnumNames",{enumerable:!0,get:function(){return co.ServerEffectsGeneratedVideoInfoStatusEnumNames}});var lo=r(371391);var uo=r(128791);var po=r(33764);var Eo=r(830436);var ho=r(24118);var mo=r(466099);var go=r(801956);var Ao=r(110278);var vo=r(516095);var fo=r(582979);var Io=r(754200);var yo=r(720687);var Ro=r(912836);var Oo=r(776055);var So=r(207074);var To=r(249938);var Po=r(766867);Object.defineProperty(t,"UsersUserFullBdateVisibilityEnumNames",{enumerable:!0,get:function(){return Po.UsersUserFullBdateVisibilityEnumNames}});var bo=r(534465);var wo=r(628898);Object.defineProperty(t,"UsersUserRelationEnumNames",{enumerable:!0,get:function(){return wo.UsersUserRelationEnumNames}});var Co=r(802139);Object.defineProperty(t,"VideoCatalogLinkMetaTrustMarkEnumNames",{enumerable:!0,get:function(){return Co.VideoCatalogLinkMetaTrustMarkEnumNames}});var Do=r(873275);var Mo=r(765383);var Lo=r(84617);var No=r(946090);var ko=r(654364);var Uo=r(910495);var Bo=r(716774);var xo=r(930763);var Fo=r(91518);Object.defineProperty(t,"WallGroupWallStatusEnumNames",{enumerable:!0,get:function(){return Fo.WallGroupWallStatusEnumNames}});var Vo=r(784638);var Ko=r(169401);var Wo=r(592520);var Ho=r(700443)},902519:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AccountGetProfileInfoByServiceTokenResponseCanMakeMusicYouthSubscriptionEnumNames=t.AccountCheckPasswordResponseSecurityLevelEnumNames=void 0,t.AccountCheckPasswordResponseSecurityLevelEnumNames={INCORRECT:-1,INSECURE:0,STANDARD:1,HIGH:2},t.AccountGetProfileInfoByServiceTokenResponseCanMakeMusicYouthSubscriptionEnumNames={NOT_LINKED:0,SUBSCRIPTION_AVAILABLE:1,SUBSCRIPTION_UNAVAILABLE:2}},762247:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AccountPersonalCheckPasswordResponseSecurityLevelEnumNames=void 0,t.AccountPersonalCheckPasswordResponseSecurityLevelEnumNames={INCORRECT:-1,INSECURE:0,STANDARD:1,HIGH:2}},834142:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdsRemoveTargetContactsResponseResultEnumNames=void 0,t.AdsRemoveTargetContactsResponseResultEnumNames={OK:1}},760102:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AppWidgetsGetWidgetPreviewResponsePrivacyCodeEnumNames=void 0,t.AppWidgetsGetWidgetPreviewResponsePrivacyCodeEnumNames={ADMINS:0,SUBSCRIBERS:1,EVERYONE:2,NO_ONE:3}},741248:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AuthValidateSuperAppTokenResponseNeedPasswordEnumNames=t.AuthValidatePhoneConfirmResponseHidePasswordEnumNames=t.AuthValidateEmailConfirmResponseHidePasswordEnumNames=t.AuthRevokeAuthCodeResponseStatusEnumNames=t.AuthRestoreResponseLibverifySupportEnumNames=t.AuthRestoreResponseSuccessEnumNames=t.AuthProcessAuthCodeMultiResponseStatusEnumNames=t.AuthProcessAuthCodeResponseStatusEnumNames=t.AuthConfirmResponseSuccessEnumNames=void 0,t.AuthConfirmResponseSuccessEnumNames={OK:1},t.AuthProcessAuthCodeResponseStatusEnumNames={SUCCESS:1},t.AuthProcessAuthCodeMultiResponseStatusEnumNames={SUCCESS:1},t.AuthRestoreResponseSuccessEnumNames={OK:1},t.AuthRestoreResponseLibverifySupportEnumNames={OK:1},t.AuthRevokeAuthCodeResponseStatusEnumNames={AUTH_CODE_NOT_REVOKED:0,AUTH_CODE_REVOKED:1},t.AuthValidateEmailConfirmResponseHidePasswordEnumNames={HIDE:1,SKIP_CONFIRM:2},t.AuthValidatePhoneConfirmResponseHidePasswordEnumNames={HIDE:1,SKIP_CONFIRM:2},t.AuthValidateSuperAppTokenResponseNeedPasswordEnumNames={NO:0,YES:1}},312037:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CashoutUpdateSelfEmployedProfileResponseBankPartnerEnumNames=void 0,t.CashoutUpdateSelfEmployedProfileResponseBankPartnerEnumNames={BANK131:1,TINKOFF:3,VKPAY:4}},275837:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CrowdGetUserInfoResponseStatusEnumNames=void 0,t.CrowdGetUserInfoResponseStatusEnumNames={NEW:1,ACTIVE:2,BANNED:3,NOT_IN_SYSTEM:4,LEFT:5}},921490:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CrowdAdminGetUserByIdResponseStatusEnumNames=void 0,t.CrowdAdminGetUserByIdResponseStatusEnumNames={NEW:1,ACTIVE:2,BANNED:3,NOT_IN_SYSTEM:4,LEFT:5}},787196:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DevAdminSendModerationPaymentsResponseResultEnumNames=t.DevAdminSendModerationMiniAppResponseResultEnumNames=void 0,t.DevAdminSendModerationMiniAppResponseResultEnumNames={ERROR:0,OK:1},t.DevAdminSendModerationPaymentsResponseResultEnumNames={ERROR:0,OK:1}},230112:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DonutPollPaymentStatusResponseStatusEnumNames=void 0,t.DonutPollPaymentStatusResponseStatusEnumNames={UNPAID:0,PAID:1,HANDLED:2}},794977:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EcosystemManagerFindUserResponseBitStatusEnumNames=t.EcosystemManagerFindEmployeeOnePassBitHistoryResponseBitStatusEnumNames=void 0,t.EcosystemManagerFindEmployeeOnePassBitHistoryResponseBitStatusEnumNames={OTP_BIT:1,ONLY_BIT:2,NONE:3},t.EcosystemManagerFindUserResponseBitStatusEnumNames={OTP_BIT:1,ONLY_BIT:2,NONE:3}},199313:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FriendsDeleteResponseSuggestionDeletedEnumNames=t.FriendsDeleteResponseInRequestDeletedEnumNames=t.FriendsDeleteResponseOutRequestDeletedEnumNames=t.FriendsDeleteResponseFriendDeletedEnumNames=t.FriendsAddResponseEnumNames=void 0,t.FriendsAddResponseEnumNames={SEND:1,APPROVED:2,RESEND:4},t.FriendsDeleteResponseFriendDeletedEnumNames={OK:1},t.FriendsDeleteResponseOutRequestDeletedEnumNames={OK:1},t.FriendsDeleteResponseInRequestDeletedEnumNames={OK:1},t.FriendsDeleteResponseSuggestionDeletedEnumNames={OK:1}},492164:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MusicManagerCheckYoutubeMusicStatusResponseEnumNames=t.MusicManagerCheckYandexMusicStatusResponseEnumNames=t.MusicManagerCheckSpotifyStatusResponseEnumNames=t.MusicManagerCheckAppleMusicStatusResponseEnumNames=void 0,t.MusicManagerCheckAppleMusicStatusResponseEnumNames={NONE:1,RUNNING:2,DONE:3,IS_BROKEN:4},t.MusicManagerCheckSpotifyStatusResponseEnumNames={NONE:1,RUNNING:2,DONE:3,IS_BROKEN:4},t.MusicManagerCheckYandexMusicStatusResponseEnumNames={NONE:1,RUNNING:2,DONE:3,IS_BROKEN:4},t.MusicManagerCheckYoutubeMusicStatusResponseEnumNames={NONE:1,RUNNING:2,DONE:3,IS_BROKEN:4}},730335:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServerEffectsGetVideoGenerationStatusesResponseOriginalVideoStatusEnumNames=void 0,t.ServerEffectsGetVideoGenerationStatusesResponseOriginalVideoStatusEnumNames={WAITING_FOR_UPLOAD:0,VALIDATION_IN_PROGRESS:1,OK:2,CENSORED:10,NO_FACE_DETECTED:11,VIDEO_IS_TOO_LONG:12,ERROR:50}},923785:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SocialYoulaIsAbleToPostInGroupResponseRejectReasonEnumNames=t.SocialLogValueFilesStatResponseRejectReasonEnumNames=void 0,t.SocialLogValueFilesStatResponseRejectReasonEnumNames={CATEGORY_MISMATCH:1,EMPTY_GEO:2,GEO_MISMATCH:3,CLASSIFIEDS_DISABLED:4,NOT_MODERATED:5,USER_NOT_FOUND:8,COMMUNITY_NOT_FOUND:9,USER_IS_NOT_A_GROUP_MEMBER:10,USER_BLACKLISTED:11,OTHER:99},t.SocialYoulaIsAbleToPostInGroupResponseRejectReasonEnumNames={CATEGORY_MISMATCH:1,EMPTY_GEO:2,GEO_MISMATCH:3,CLASSIFIEDS_DISABLED:4,NOT_MODERATED:5,USER_NOT_FOUND:8,COMMUNITY_NOT_FOUND:9,USER_IS_NOT_A_GROUP_MEMBER:10,USER_BLACKLISTED:11,OTHER:99}},121693:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StorePurchaseSubscriptionResponseStateEnumNames=void 0,t.StorePurchaseSubscriptionResponseStateEnumNames={SUCCESS:1,REGISTERED:0,WALLET_IS_MISSING:-1,PURCHASE_COULD_NOT_BE_COMPLETED:-2,NOT_ENOUGH_BALANCE:-3,LIMIT_OPERATIONS:-4,SERVER_ERROR:-5,NO_LINKED_CARD:-6}},957831:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VideoViewSegmentsResponseEnumNames=t.VideoChangeLicensedResponseEnumNames=void 0,t.VideoChangeLicensedResponseEnumNames={ERROR:0,LICENSED:1,UNLICENSED:2},t.VideoViewSegmentsResponseEnumNames={NOT_LOGGED:0,LOGGED:1,MODEL_UPDATED:2}},704617:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VkIdHubGetTypeAccessResponseTypeEnumNames=void 0,t.VkIdHubGetTypeAccessResponseTypeEnumNames={USER:0,LITE:1,GOD:2}},49953:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AccountInfoVkPayAppIdEnumNames=void 0,t.AccountInfoVkPayAppIdEnumNames={VKPAY_DEV_APP:7131443,VKPAY_LOCAL_APP:7658749,VKPAY_APP:6217559}},107759:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AccountResponseCodeEnumNames=void 0,t.AccountResponseCodeEnumNames={DISABLE_2FA_BY_PASSWORD_INVALID_HASH:110,DISABLE_2FA_BY_PASSWORD_ALREADY:111,DISABLE_2FA_BY_PASSWORD_CANT_DISABLE:112,DISABLE_2FA_BY_PASSWORD_OK:120}},511897:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AccountSecurityLevelEnumNames=void 0,t.AccountSecurityLevelEnumNames={NOTHING_TO_SAY:0,HAVE_ISSUES:1,HAVE_RECOMMENDATIONS:10,GOOD:20}},758479:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AccountSecurityRecommendationIndicatorEnumNames=void 0,t.AccountSecurityRecommendationIndicatorEnumNames={HAVE_ISSUES:1,HAVE_RECOMMENDATIONS:10}},895655:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AccountUserSettingsVerificationProfileSexEnumNames=void 0,t.AccountUserSettingsVerificationProfileSexEnumNames={UNDEFINED:0,FEMALE:1,MALE:2}},633305:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AccountVerificationVerificationUserInfoSexEnumNames=void 0,t.AccountVerificationVerificationUserInfoSexEnumNames={UNDEFINED:0,FEMALE:1,MALE:2}},671581:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdexAdminGroupDisallowManageReasonEnumNames=t.AdexAdminGroupTrustMarkEnumNames=t.AdexAdminGroupWallEnumNames=t.AdexAdminGroupYoulaStatusEnumNames=void 0,t.AdexAdminGroupYoulaStatusEnumNames={OFF:0,EXTENDED:1,BASIC:2},t.AdexAdminGroupWallEnumNames={DISABLED:0,OPEN:1,LIMITED:2,RESTRICTED:3},t.AdexAdminGroupTrustMarkEnumNames={NOT_FOUND:0,VERIFIED:1,PREMIUM:2,CONFIRMED:3},t.AdexAdminGroupDisallowManageReasonEnumNames={NO_2FA:1,AWAITING_PERIOD:2}},198015:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdsAdApprovedEnumNames=void 0,t.AdsAdApprovedEnumNames={NOT_MODERATED:0,PENDING_MODERATION:1,APPROVED:2,REJECTED:3}},487137:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdsAdCostTypeEnumNames=void 0,t.AdsAdCostTypeEnumNames={PER_CLICKS:0,PER_IMPRESSIONS:1,PER_ACTIONS:2,PER_IMPRESSIONS_OPTIMIZED:3}},393402:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdsAdStatusEnumNames=void 0,t.AdsAdStatusEnumNames={STOPPED:0,STARTED:1,DELETED:2,DISABLED_BY_MONEY_FINAL:3,DISABLED_BY_MONEY_TEMPORARY:4,WAIT_FOR_MODERATION:5,DISAPPROVED:6,DISABLED_BY_TIME:7,DISABLED_BY_SCHEDULE:8,ENABLING:9}},948421:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdsCampaignStatusEnumNames=void 0,t.AdsCampaignStatusEnumNames={STOPPED:0,STARTED:1,DELETED:2}},221830:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdsCriteriaSexEnumNames=void 0,t.AdsCriteriaSexEnumNames={ANY:"0",MALE:"1",FEMALE:"2"}},145539:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdsMarketAutoPromoteAdsAdStatusStatusEnumNames=void 0,t.AdsMarketAutoPromoteAdsAdStatusStatusEnumNames={NOT_SET:-1,ENABLED:0,DISABLED_BY_USER:1,DISABLED_BY_APPROVE:2,DISABLED_BY_MONEY_FINAL:3,DISABLED_BY_TIME:4,ENABLING:5,DISABLED_BY_MONEY_TEMPORARY:6,SCHEDULE_PAUSED:7}},551683:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdsMarketAutoPromoteAdsRelativeRelevanceScoreDynamicEnumNames=void 0,t.AdsMarketAutoPromoteAdsRelativeRelevanceScoreDynamicEnumNames={DECREASED:-1,EQUAL:0,INCREASED:1}},273880:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdsTargetingDictionaryMobileOsVersionOsTypeEnumNames=void 0,t.AdsTargetingDictionaryMobileOsVersionOsTypeEnumNames={ANDROID:1,IOS:2}},515182:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdsintBalanceTransferTransactionStatusEnumNames=void 0,t.AdsintBalanceTransferTransactionStatusEnumNames={PENDING:0,SUCCESS:1,ERROR:2}},493883:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AppWidgetsPreviewWidgetTypeEnumNames=void 0,t.AppWidgetsPreviewWidgetTypeEnumNames={TEXT:1,LIST:2,TABLE:3,TILES:4,COMPACT_LIST:5,COVER_LIST:6,MATCH:7,MATCHES:8,DONATION:9}},348801:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AppsAppLeaderboardTypeEnumNames=void 0,t.AppsAppLeaderboardTypeEnumNames={NOT_SUPPORTED:0,LEVELS:1,POINTS:2}},663925:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AppsRequestItemUnreadEnumNames=void 0,t.AppsRequestItemUnreadEnumNames={READ:0,UNREAD:1}},235963:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AudioAdsAccountAgeTypeEnumNames=void 0,t.AudioAdsAccountAgeTypeEnumNames={WRONG:0,"1_YEAR":1,"2_YEAR":2,"3_AND_MORE_YEARS":3}},474043:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AudioAudioTrackGenreIdEnumNames=t.AudioAudioMstcpTypeEnumNames=t.AudioAudioGenreIdEnumNames=void 0,t.AudioAudioGenreIdEnumNames={ROCK:1,POP:2,"RAP_&_HIP_HOP":3,EASY_LISTENING:4,"HOUSE_&_DANCE":5,INSTRUMENTAL:6,METAL:7,ALTERNATIVE:21,DUBSTEP:8,"JAZZ_&_BLUES":1001,"DRUM_&_BASS":10,TRANCE:11,CHANSON:12,ETHNIC:13,"ACOUSTIC_&_VOCAL":14,REGGAE:15,CLASSICAL:16,INDIE_POP:17,SPEECH:19,"ELECTROPOP_&_DISCO":22,OTHER:18},t.AudioAudioMstcpTypeEnumNames={UGC:0,MASTER_COPY:1,COPY_OF_MASTER_COPY:2},t.AudioAudioTrackGenreIdEnumNames={ROCK:1,POP:2,"RAP_&_HIP_HOP":3,"HOUSE_&_DANCE":5,INSTRUMENTAL:6,EASY_LISTENING:4,METAL:7,"DUBSTEP_&_TRAP":8,"DRUM_&_BASS":10,TRANCE:11,ETHNIC:13,"ACOUSTIC_&_VOCAL":14,REGGAE:15,CLASSICAL:16,INDIE_POP:17,ALTERNATIVE:21,"ELECTROPOP_&_DISCO":22,"JAZZ_&_BLUES":1001}},795473:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AudioChartInfoStateEnumNames=void 0,t.AudioChartInfoStateEnumNames={NEW_RELEASE:0,NO_CHANGES:1,MOVED_UP:2,MOVED_DOWN:3}},489460:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AudioChartUpdateStateEnumNames=void 0,t.AudioChartUpdateStateEnumNames={NEW_RELEASE:0,NO_CHANGES:1,MOVED_UP:2,MOVED_DOWN:3,CROWN:4}},902563:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AudioRestrictionEnumNames=void 0,t.AudioRestrictionEnumNames={NO:0,CLAIM:1,GEO:2,SUBSCRIPTION:3,REPLACEMENT_REQUIRED:4,FUTURE:5,OUTSIDE_HOSTING_COUNTRY:6,SITE_RULES_VIOLATION:7,SUBSCRIPTION_SUSPEND:8,APP_UPDATE:9,WARNER_NON_RETAIL_CLAIMED:10,DONUT_PODCAST:11,EXPERIMENT:12,ERROR:13,JAM_CLAIMED:14,STORY_NOT_AVAILABLE:21,STORY_FREE:22,STORY_PAID:23,KIDS_SUBSCRIPTION:24}},613480:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AuthSignupFieldsValuesGenderEnumNames=void 0,t.AuthSignupFieldsValuesGenderEnumNames={FEMALE:1,MALE:2}},501557:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AuthValidateAccountNextStepServiceCodeEnumNames=void 0,t.AuthValidateAccountNextStepServiceCodeEnumNames={"1FA":1,"2FA":2}},662003:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AuthorsMarketplaceAuthorsAgeGroupEnumNames=void 0,t.AuthorsMarketplaceAuthorsAgeGroupEnumNames={18:1,"18_21":2,"21_24":3,"24_27":4,"27_30":5,"30_35":6,"35_45":7,45:8}},559212:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BadgesBadgeLockStatusEnumNames=void 0,t.BadgesBadgeLockStatusEnumNames={NONE:0,LOCKED:1,UNLOCKED:2}},237567:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseLinkChatTypeEnumNames=void 0,t.BaseLinkChatTypeEnumNames={CHAT:0,GROUP:17}},74605:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseSexEnumNames=void 0,t.BaseSexEnumNames={UNKNOWN:0,FEMALE:1,MALE:2}},944645:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BizEventPaidEnumNames=t.BizEventThemesItemsEnumNames=void 0,t.BizEventThemesItemsEnumNames={ADS:0,SMM:1,CONTENT:2,ECOM:3,AUTOMATION:4,SUPERAPP:5},t.BizEventPaidEnumNames={UNDEFINED:0,PAID:1,FREE:2}},446107:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BizInstagramImportItemIsApprovedEnumNames=void 0,t.BizInstagramImportItemIsApprovedEnumNames={NO:-1,UNKNOWN:0,YES:1,REAPPROVE:2}},586902:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BizInstagramImportStatusEnumNames=void 0,t.BizInstagramImportStatusEnumNames={DISABLED:0,JUST_CREATED:1,PENDING:2,PREPARING:3,PUBLISHING:4,FINISHED_ERROR:5,FINISHED_SUCCESS:6}},534818:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BoardDefaultOrderEnumNames=void 0,t.BoardDefaultOrderEnumNames={DESC_UPDATED:1,DESC_CREATED:2,ASC_UPDATED:-1,ASC_CREATED:-2}},280555:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BugtrackerBugreportStatusAutoUpdateReasonEnumNames=void 0,t.BugtrackerBugreportStatusAutoUpdateReasonEnumNames={NEED_CORRECTION_LONG_TIME:1,READY_FOR_TESTING_LONG_TIME:2}},728948:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BugtrackerBugreportIssueTypeEnumNames=void 0,t.BugtrackerBugreportIssueTypeEnumNames={NONE:0,CRASH:1,FREEZE:2,NOT_WORKING:3,DATA_DAMAGE:4,VISUAL:5,COSMETICS:6,MISSPELLING:7,WISH:8,BREAKING_RULES:9,VISUAL_ACCESSIBILITY:10}},533856:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BugtrackerBugreportSeverityEnumNames=void 0,t.BugtrackerBugreportSeverityEnumNames={UNDEFINED:0,MINOR:1,NORMAL:2,MAJOR:3,CRITICAL:4,VULNERABILITY:5}},779337:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BugtrackerBugreportUserRateStateRejectReasonEnumNames=void 0,t.BugtrackerBugreportUserRateStateRejectReasonEnumNames={FORCE_UNPAID:2,STATUS_UNPAID:4,REPORT_DELETED:5,PRODUCT_IS_SANDBOX:7}},357881:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BugtrackerDeviceStatusEnumNames=void 0,t.BugtrackerDeviceStatusEnumNames={APPROVED:0,REJECTED:1,DELETED:2,UNCHECKED:3}},455023:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BugtrackerMainPageBlockSettingsMyProductsLimitEnumNames=void 0,t.BugtrackerMainPageBlockSettingsMyProductsLimitEnumNames={2:2,4:4,6:6,8:8}},608048:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BugtrackerMainPageBlockSettingsMyReportsAttentionLimitEnumNames=void 0,t.BugtrackerMainPageBlockSettingsMyReportsAttentionLimitEnumNames={1:1,2:2,3:3,4:4,5:5,10:10,20:20}},574811:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BugtrackerMainPageBlockSettingsProductReportsLimitEnumNames=void 0,t.BugtrackerMainPageBlockSettingsProductReportsLimitEnumNames={1:1,2:2,3:3,4:4,5:5,10:10,20:20}},759787:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BugtrackerProductPlatformEnumNames=void 0,t.BugtrackerProductPlatformEnumNames={UNKNOWN:0,WINDOWS:1,MAC:2,IOS:3,ANDROID:4,LINUX:5}},680220:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BugtrackerProductSelectionTypeEnumNames=void 0,t.BugtrackerProductSelectionTypeEnumNames={MANUAL:0,NEW_PRODUCTS:1,RECENTLY_UPDATED:2}},277280:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BugtrackerTestingRequestStatusEnumNames=void 0,t.BugtrackerTestingRequestStatusEnumNames={NEW:0,TO_BE_PAYED:1,REJECTED:2,PREPARING:3,PROCESSING:4,FINISHED:5,CLOSED:6}},887384:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CashoutChargeOdnoklassnikiMonetizationTypeEnumNames=void 0,t.CashoutChargeOdnoklassnikiMonetizationTypeEnumNames={OK_ADS:14,OK_VIDEO:15}},755112:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CashoutExecutorMonetizationUnitIdEnumNames=void 0,t.CashoutExecutorMonetizationUnitIdEnumNames={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5}},794901:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CashoutLegalEntityDetailsJiraStatusEnumNames=void 0,t.CashoutLegalEntityDetailsJiraStatusEnumNames={NOT_CREATED:0,NEW:1,ON_MODERATION:2,NEED_FIX:3,ACCEPTED:4}},395612:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CashoutProfileTypeEnumNames=void 0,t.CashoutProfileTypeEnumNames={SELF_EMPLOYED:1,LEGAL:2,PERSONAL:3,NON_RESIDENT:4}},324857:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CashoutReportDocumentObjectVatIdEnumNames=void 0,t.CashoutReportDocumentObjectVatIdEnumNames={PERCENT_0:1,PERCENT_5:2,PERCENT_7:3,PERCENT_20:4}},990620:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CashoutSourceMonetizationEnumNames=t.CashoutSourceStatusEnumNames=void 0,t.CashoutSourceStatusEnumNames={ENABLED:1,DISABLED:2,PENDING:3},t.CashoutSourceMonetizationEnumNames={ADS_VK:1,MARKET:2,VIDEO:3,APP:4}},934833:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CashoutSourceMonetizationStatusEnumNames=t.CashoutSourceMonetizationTypeEnumNames=void 0,t.CashoutSourceMonetizationTypeEnumNames={TEST:-1,ADS_VK:1,MARKET:2,VIDEO:3,APP:4},t.CashoutSourceMonetizationStatusEnumNames={CONNECTED:1,AVAILABLE:2,PENDING:3}},616267:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CashoutSourceObjectStatusEnumNames=void 0,t.CashoutSourceObjectStatusEnumNames={CONNECTED:1,AVAILABLE:2,PENDING:3,NOT_AVAILABLE:4,NOT_AVAILABLE_MONETIZATION:5,CONNECTED_LEGAL:6,NOT_AVAILABLE_NO_PROFILES:7}},883991:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CashoutSourceRequestStatusEnumNames=void 0,t.CashoutSourceRequestStatusEnumNames={DECLINED:0,APPROVED:1,IN_PROGRESS:2}},609370:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CashoutSourceStatsNotificationTypeEnumNames=void 0,t.CashoutSourceStatsNotificationTypeEnumNames={FIXED_TEXT:1,MISSED_DAYS:2}},165427:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CashoutStatusEnumNames=void 0,t.CashoutStatusEnumNames={IN_PROGRESS:1,OK:2,REVERTED:3,FAIL:4,PAYED:5,REVERT_SCHEDULED:6}},188376:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelsIsOwnerEnumNames=void 0,t.ChannelsIsOwnerEnumNames={USER_IS_NOT_OWNER:0,USER_IS_OWNER:1}},70667:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClassifiedsYoulaItemExtendedBlockModeEnumNames=void 0,t.ClassifiedsYoulaItemExtendedBlockModeEnumNames={NO_BLOCK:0,BLOCKED:1,REJECTED:2,VK_BLOCKED:3}},677372:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CrowdTaskInfoTaskTypeEnumNames=void 0,t.CrowdTaskInfoTaskTypeEnumNames={DEFAULT:0,CLIP_MODERATION:146,TRAINING:42,CONTROL:112,EXAM:256,POST_MODERATION:377}},844702:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CrowdAdminTaskTaskTypeEnumNames=void 0,t.CrowdAdminTaskTaskTypeEnumNames={DEFAULT:0,CLIP_MODERATION:146,TRAINING:42,CONTROL:112,EXAM:256,POST_MODERATION:377}},172619:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CrowdAdminTaskJobTypeEnumNames=t.CrowdAdminTaskJobStatusEnumNames=void 0,t.CrowdAdminTaskJobStatusEnumNames={STATUS__ALL:-1,STATUS__ACTIVE:1,STATUS__HOLD:2,STATUS__FINISHED:3,STATUS__DELETED:4,STATUS__HIDDEN:5,STATUS__EXPIRE:6},t.CrowdAdminTaskJobTypeEnumNames={TYPE__DEFAULT:1,TYPE__CONTROL:2,TYPE__QUORUM:3}},705520:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CrowdAdminTaskPunishmentItemTypeEnumNames=void 0,t.CrowdAdminTaskPunishmentItemTypeEnumNames={SEND_TO_CHAT:10,BLOCK_FOR_PERIOD_AND_SENT_MESSAGE_TO_CHAT:20,REMOVE_FROM_TASK:30}},920029:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CrowdAdminTaskUserStatusEnumNames=void 0,t.CrowdAdminTaskUserStatusEnumNames={STATUS__APPLIED:10,STATUS__REJECTED:20,STATUS__ACTIVE:30,STATUS__LEFT:40,STATUS__BANNED:50}},304026:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CrowdAdminTaskUserQualityLevelHistoryTypeEnumNames=void 0,t.CrowdAdminTaskUserQualityLevelHistoryTypeEnumNames={TYPE__CREATE_LEVEL_IF_USER_DOES_NOT_HAVE_LEVEL_IN_DB:1,TYPE__SET_TO_DEFAULT_LEVEL:2,TYPE__JOBS_NUMBERS_UPDATED:3,TYPE__NEW_CONTROL_JOB_WAS_GIVEN:4,TYPE__CALCULATE_NEW_USER_LEVEL_AFTER_FIXED_LEVEL:5,TYPE__LEVEL_CHANGED:6,TYPE__NOT_ENOUGH_CONTROL_ANSWERS_TO_CALCULATE_NEW_LEVEL:7,TYPE__GOT_NEW_CONTROL_ANSWER:8,TYPE__JOBS_NUMBERS_ARE_NOT_EMPTY_CANT_RECALCULATE_LVL:9}},479961:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CrowdAdminUserHistoryItemActionEnumNames=void 0,t.CrowdAdminUserHistoryItemActionEnumNames={USER_UPDATED:25,USER_CREATED:26,USER_LEFT_GROUP:27,USER_STARTED_ENTRANCE_TEST:28,USER_ENTRANCE_TEST_FAIL:29,USER_ENTRANCE_TEST_SUCCESS:30,USER_ADDED_TO_PROGRAM:31,USER_CAME_BACK_AFTER_LEFT_GROUP:32,USER_ACCEPTED_TERMS_OF_OFFER:33,USER_HAVE_BEEN_ADDED_TO_TASK_BY_HAND_AFTER_WORKSHEET:34,USER_HAVE_BEEN_ADDED_TO_TASK_BY_HAND:35,USER_HAVE_BEEN_ADDED_TO_TASK_AUTOMATICALLY:36,USER_HAVE_BEEN_DELETED_FROM_TASK:37,USER_HAVE_BEEN_BANNED_IN_PROGRAM:38,USER_HAVE_BEEN_CHANGED_STATUS_TO_NOT_IN_PROGRAM:39,USER_HAVE_BEEN_CHANGED_STATUS_TO_NEW:40,USER_HAVE_BEEN_DELETED:41}},992546:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DevAdminResultEnumNames=void 0,t.DevAdminResultEnumNames={ERROR:0,OK:1}},366e3:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DonutAllowedSubscriptionPeriodEnumEnumNames=void 0,t.DonutAllowedSubscriptionPeriodEnumEnumNames={MONTH:1,YEAR:12}},168723:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EducationGradeMemberItemBdateVisibilityEnumNames=void 0,t.EducationGradeMemberItemBdateVisibilityEnumNames={IS_HIDDEN:0,IS_VISIBLE:1,DAY_AND_MONTH_ONLY:2}},163930:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EducationGradeRoleEnumNames=void 0,t.EducationGradeRoleEnumNames={STUDENT:1,TEACHER:2,CLASS_TEACHER:3,ADMIN:4}},809446:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EducationSchoolItemDisallowManageReasonEnumNames=t.EducationSchoolItemTrustMarkEnumNames=t.EducationSchoolItemWallEnumNames=t.EducationSchoolItemYoulaStatusEnumNames=void 0,t.EducationSchoolItemYoulaStatusEnumNames={OFF:0,EXTENDED:1,BASIC:2},t.EducationSchoolItemWallEnumNames={DISABLED:0,OPEN:1,LIMITED:2,RESTRICTED:3},t.EducationSchoolItemTrustMarkEnumNames={NOT_FOUND:0,VERIFIED:1,PREMIUM:2,CONFIRMED:3},t.EducationSchoolItemDisallowManageReasonEnumNames={NO_2FA:1,AWAITING_PERIOD:2}},133148:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EducationSchoolMemberItemBdateVisibilityEnumNames=void 0,t.EducationSchoolMemberItemBdateVisibilityEnumNames={IS_HIDDEN:0,IS_VISIBLE:1,DAY_AND_MONTH_ONLY:2}},98179:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EducationUserFullBdateVisibilityEnumNames=void 0,t.EducationUserFullBdateVisibilityEnumNames={IS_HIDDEN:0,IS_VISIBLE:1,DAY_AND_MONTH_ONLY:2}},934058:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EsiaEsiaUserInfoSexEnumNames=void 0,t.EsiaEsiaUserInfoSexEnumNames={UNDEFINED:0,FEMALE:1,MALE:2}},891281:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FriendsFriendStatusStatusEnumNames=void 0,t.FriendsFriendStatusStatusEnumNames={NOT_A_FRIEND:0,OUTCOMING_REQUEST:1,INCOMING_REQUEST:2,IS_FRIEND:3}},864006:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FriendsInterestingRequestBdateVisibilityEnumNames=void 0,t.FriendsInterestingRequestBdateVisibilityEnumNames={IS_HIDDEN:0,IS_VISIBLE:1,DAY_AND_MONTH_ONLY:2}},451138:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FriendsRequestsXtrMessageBdateVisibilityEnumNames=void 0,t.FriendsRequestsXtrMessageBdateVisibilityEnumNames={IS_HIDDEN:0,IS_VISIBLE:1,DAY_AND_MONTH_ONLY:2}},42745:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FriendsRequestsXtrMutualBdateVisibilityEnumNames=void 0,t.FriendsRequestsXtrMutualBdateVisibilityEnumNames={IS_HIDDEN:0,IS_VISIBLE:1,DAY_AND_MONTH_ONLY:2}},773920:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FriendsUserRecommendationsBdateVisibilityEnumNames=void 0,t.FriendsUserRecommendationsBdateVisibilityEnumNames={IS_HIDDEN:0,IS_VISIBLE:1,DAY_AND_MONTH_ONLY:2}},580012:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FriendsUserXtrPhoneBdateVisibilityEnumNames=void 0,t.FriendsUserXtrPhoneBdateVisibilityEnumNames={IS_HIDDEN:0,IS_VISIBLE:1,DAY_AND_MONTH_ONLY:2}},420003:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GiftsGiftPrivacyEnumNames=void 0,t.GiftsGiftPrivacyEnumNames={NAME_AND_MESSAGE_FOR_ALL:0,NAME_FOR_ALL:1,NAME_AND_MESSAGE_FOR_RECIPIENT_ONLY:2}},766648:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroupsAuthorsFundMembershipDeclineReasonIdEnumEnumNames=void 0,t.GroupsAuthorsFundMembershipDeclineReasonIdEnumEnumNames={LOW_QUALITY_OR_NON_ORIGINAL_CONTENT:1,BUSINESS_COMMUNITY:2,INCORRECT_THEME:3,OTHER:4}},776196:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroupsAuthorsFundMembershipExcludeReasonIdEnumEnumNames=void 0,t.GroupsAuthorsFundMembershipExcludeReasonIdEnumEnumNames={FEW_POSTS:1,COMMUNITY_CLOSED:2,CONTENT_QUALITY_CHANGED:3,SUBSCRIBERS_LESS_THAN_1K:4,SUBSCRIBERS_MORE_THAN_100K:5,TOTAL_INCOME_ABOVE_100K:6,THEME_CHANGED:7,OTHER:8,SUPPORT_YEAR_EXPIRED:9}},900502:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroupsAuthorsFundMembershipStatusIdEnumEnumNames=void 0,t.GroupsAuthorsFundMembershipStatusIdEnumEnumNames={NOT_APPLIED:0,APPLIED_TO_ENTRY:1,VERIFIED:2,WAITLIST:3,DECLINED:4,MEMBER:5,EXCLUDED:6,APPLIED_TO_LEAVE:7,EX_MEMBER:8}},502866:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroupsBanInfoReasonEnumNames=void 0,t.GroupsBanInfoReasonEnumNames={OTHER:0,SPAM:1,VERBAL_ABUSE:2,STRONG_LANGUAGE:3,FLOOD:4}},827342:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroupsGroupAccessEnumNames=void 0,t.GroupsGroupAccessEnumNames={OPEN:0,CLOSED:1,PRIVATE:2}},642347:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroupsGroupAdminLevelEnumNames=void 0,t.GroupsGroupAdminLevelEnumNames={MODERATOR:1,EDITOR:2,ADMINISTRATOR:3}},207165:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroupsGroupAgeLimitsEnumNames=void 0,t.GroupsGroupAgeLimitsEnumNames={UNLIMITED:1,"16_PLUS":2,"18_PLUS":3}},342568:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroupsGroupAudioEnumNames=void 0,t.GroupsGroupAudioEnumNames={DISABLED:0,OPEN:1,LIMITED:2}},800878:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroupsGroupAuthorsFundLeaveReasonEnumNames=void 0,t.GroupsGroupAuthorsFundLeaveReasonEnumNames={BAD_INCOME:1,DOESNT_SEE_ANY_BENEFIT:2,CANT_FOLLOW_THE_RULES:3,BAD_QUALITY_OF_SERVICE_SUPPORT:4}},681599:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroupsGroupDocsEnumNames=void 0,t.GroupsGroupDocsEnumNames={DISABLED:0,OPEN:1,LIMITED:2}},539145:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroupsGroupExtendedMarketSectionsStatusEnumNames=void 0,t.GroupsGroupExtendedMarketSectionsStatusEnumNames={DISABLED:0,ENABLED:1,AVAILABLE:2}},837333:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroupsGroupFullDisallowManageReasonEnumNames=t.GroupsGroupFullTrustMarkEnumNames=t.GroupsGroupFullWallEnumNames=t.GroupsGroupFullYoulaStatusEnumNames=void 0,t.GroupsGroupFullYoulaStatusEnumNames={OFF:0,EXTENDED:1,BASIC:2},t.GroupsGroupFullWallEnumNames={DISABLED:0,OPEN:1,LIMITED:2,RESTRICTED:3},t.GroupsGroupFullTrustMarkEnumNames={NOT_FOUND:0,VERIFIED:1,PREMIUM:2,CONFIRMED:3},t.GroupsGroupFullDisallowManageReasonEnumNames={NO_2FA:1,AWAITING_PERIOD:2}},297838:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroupsGroupFullAgeLimitsEnumNames=void 0,t.GroupsGroupFullAgeLimitsEnumNames={NO:1,OVER_16:2,OVER_18:3}},973063:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroupsGroupFullAgeMarkEnumNames=void 0,t.GroupsGroupFullAgeMarkEnumNames={NO:1,OVER_16:2,OVER_18:3}},780345:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroupsGroupFullMemberStatusEnumNames=void 0,t.GroupsGroupFullMemberStatusEnumNames={NOT_A_MEMBER:0,MEMBER:1,NOT_SURE:2,DECLINED:3,HAS_SENT_A_REQUEST:4,INVITED:5}},255334:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroupsGroupFullSectionEnumNames=void 0,t.GroupsGroupFullSectionEnumNames={NONE:0,PHOTOS:1,TOPICS:2,AUDIOS:3,VIDEOS:4,MARKET:5,STORIES:6,APPS:7,FOLLOWERS:8,LINKS:9,EVENTS:10,PLACES:11,CONTACTS:12,APP_BTNS:13,DOCS:14,EVENT_COUNTERS:15,GROUP_MESSAGES:16,ALBUMS:24,CATEGORIES:26,ADMIN_HELP:27,APP_WIDGET:31,PUBLIC_HELP:32,HS_DONATION_APP:33,HS_MARKET_APP:34,ADDRESSES:35,ARTIST_PAGE:36,PODCAST:37,ARTICLES:39,ADMIN_TIPS:40,MENU:41,FIXED_POST:42,CHATS:43,EVERGREEN_NOTICE:44,MUSICIANS:45,NARRATIVES:46,DONUT_DONATE:47,CLIPS:48,MARKET_CART:49,CURATORS:50,MARKET_SERVICES:51,CLASSIFIEDS:53,TEXTLIVES:54,DONUT_FOR_DONS:55,BADGES:57,CHATS_CREATION:58,STREAM_CREATION:59,RATING:60,SERVICE_RATING:61,RECOMMENDED_TIPS_WIDGET:62}},454236:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroupsGroupIsClosedEnumNames=void 0,t.GroupsGroupIsClosedEnumNames={OPEN:0,CLOSED:1,PRIVATE:2}},859391:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroupsGroupMarketCurrencyEnumNames=void 0,t.GroupsGroupMarketCurrencyEnumNames={RUSSIAN_RUBLES:643,UKRAINIAN_HRYVNIA:980,KAZAKH_TENGE:398,EURO:978,US_DOLLARS:840}},832457:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroupsGroupPhotosEnumNames=void 0,t.GroupsGroupPhotosEnumNames={DISABLED:0,OPEN:1,LIMITED:2}},599574:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroupsGroupSubjectEnumNames=void 0,t.GroupsGroupSubjectEnumNames={AUTO:1,ACTIVITY_HOLIDAYS:2,BUSINESS:3,PETS:4,HEALTH:5,DATING_AND_COMMUNICATION:6,GAMES:7,IT:8,CINEMA:9,BEAUTY_AND_FASHION:10,COOKING:11,ART_AND_CULTURE:12,LITERATURE:13,MOBILE_SERVICES_AND_INTERNET:14,MUSIC:15,SCIENCE_AND_TECHNOLOGY:16,REAL_ESTATE:17,NEWS_AND_MEDIA:18,SECURITY:19,EDUCATION:20,HOME_AND_RENOVATIONS:21,POLITICS:22,FOOD:23,INDUSTRY:24,TRAVEL:25,WORK:26,ENTERTAINMENT:27,RELIGION:28,FAMILY:29,SPORTS:30,INSURANCE:31,TELEVISION:32,GOODS_AND_SERVICES:33,HOBBIES:34,FINANCE:35,PHOTO:36,ESOTERICS:37,ELECTRONICS_AND_APPLIANCES:38,EROTIC:39,HUMOR:40,SOCIETY_HUMANITIES:41,DESIGN_AND_GRAPHICS:42}},173661:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroupsGroupSuggestedPrivacyEnumNames=void 0,t.GroupsGroupSuggestedPrivacyEnumNames={NONE:0,ALL:1,SUBSCRIBERS:2}},956208:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroupsGroupTopicsEnumNames=void 0,t.GroupsGroupTopicsEnumNames={DISABLED:0,OPEN:1,LIMITED:2}},380485:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroupsGroupVideoEnumNames=void 0,t.GroupsGroupVideoEnumNames={DISABLED:0,OPEN:1,LIMITED:2}},593088:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroupsGroupWallEnumNames=void 0,t.GroupsGroupWallEnumNames={DISABLED:0,OPEN:1,LIMITED:2,CLOSED:3}},662488:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroupsGroupWikiEnumNames=void 0,t.GroupsGroupWikiEnumNames={DISABLED:0,OPEN:1,LIMITED:2}},829445:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroupsMarketAvitoBadgeLinkStatusEnumNames=void 0,t.GroupsMarketAvitoBadgeLinkStatusEnumNames={ACTIVE:0,INACTIVE:1,PENDING:2}},786916:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroupsUserXtrRoleBdateVisibilityEnumNames=void 0,t.GroupsUserXtrRoleBdateVisibilityEnumNames={IS_HIDDEN:0,IS_VISIBLE:1,DAY_AND_MONTH_ONLY:2}},288353:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoyaltyTeenCategoryIsMainEnumNames=void 0,t.LoyaltyTeenCategoryIsMainEnumNames={NO:0,YES:1}},968566:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoyaltyTeenPresetIsMainEnumNames=void 0,t.LoyaltyTeenPresetIsMainEnumNames={NO:0,YES:1}},84516:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarketBadgeSubtypeEnumNames=void 0,t.MarketBadgeSubtypeEnumNames={DEFAULT:0,FORTUNES_WHEEL:1}},681240:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarketBadgeTypeEnumNames=void 0,t.MarketBadgeTypeEnumNames={DEFAULT:0,CASHBACK:1,OZON:2}},159274:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarketCatalogSortingSortDirectionEnumNames=t.MarketCatalogSortingSortByEnumNames=void 0,t.MarketCatalogSortingSortByEnumNames={DATE:1,PRICE:2,RELEVANCE:3},t.MarketCatalogSortingSortDirectionEnumNames={ASC:0,DESC:1}},691788:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarketClassifiedInfoBlockModeEnumNames=void 0,t.MarketClassifiedInfoBlockModeEnumNames={NO_BLOCK:0,BLOCKED:1,REJECTED:2,VK_BLOCKED:3}},491856:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarketCustomButtonTypeEnumNames=void 0,t.MarketCustomButtonTypeEnumNames={DISABLED:-1,WRITE:0,OPEN:1,CALL:2,GO_TO_CART:3,ADD_IN_CART:4,SIMILAR:5,OPEN_PARTNER_SITE:6}},963249:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarketCustomButtonFullTypeEnumNames=void 0,t.MarketCustomButtonFullTypeEnumNames={DISABLED:-1,WRITE:0,OPEN:1,CALL:2,GO_TO_CART:3,ADD_IN_CART:4,SIMILAR:5,OPEN_PARTNER_SITE:6}},112384:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarketItemLabelSubtypeEnumNames=void 0,t.MarketItemLabelSubtypeEnumNames={DEFAULT:0,DELIVERY:1,PAYMENT:2,CART_PRICE:3,FOMO_VIEWS:4,FOMO_BOOKMARKS:5,FOMO_PURCHASES:6,FOMO_FRIENDS_VIEWS:7,FOMO_FRIENDS_PURCHASES:8,FOMO_POPULAR:9}},750980:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarketItemLabelTypeEnumNames=void 0,t.MarketItemLabelTypeEnumNames={VK:0,OZON:1}},529955:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarketItemPropertyVariantsAvailabilityEnumNames=void 0,t.MarketItemPropertyVariantsAvailabilityEnumNames={AVAILABLE:0,DELETED:1,NOT_AVAILABLE:2}},10764:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarketMarketAlbumTypeEnumNames=void 0,t.MarketMarketAlbumTypeEnumNames={MARKET:0,MARKET_SERVICES:1}},776135:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarketMarketItemAvailabilityEnumNames=void 0,t.MarketMarketItemAvailabilityEnumNames={AVAILABLE:0,REMOVED:1,UNAVAILABLE:2}},811868:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarketMarketItemTypeEnumNames=void 0,t.MarketMarketItemTypeEnumNames={VK:0,ALIEXPRESS:1,YOULA:2,OZON:3}},792686:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarketPricePriceUnitEnumNames=t.MarketPricePriceTypeEnumNames=void 0,t.MarketPricePriceTypeEnumNames={EXACT:0,RANGE:2,BY_AGREEMENT:3},t.MarketPricePriceUnitEnumNames={ITEM:0,HOUR:2,M3:3,M2:4}},34564:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarketSearchSpellCheckResultResolutionEnumNames=void 0,t.MarketSearchSpellCheckResultResolutionEnumNames={CORRECT:0,PROBABLY_INCORRECT:1,INCORRECT:2}},605330:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarketServicesViewTypeEnumNames=void 0,t.MarketServicesViewTypeEnumNames={CARDS:1,ROWS:2}},241893:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MemoriesSettingTypeEnumNames=void 0,t.MemoriesSettingTypeEnumNames={POSTS:1,PHOTOS:2,FRIENDS:3,OTHER:4}},139531:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessagesMessageAttachmentWallpostTopicIdEnumNames=void 0,t.MessagesMessageAttachmentWallpostTopicIdEnumNames={EMPTY_TOPIC:0,ART:1,IT:7,GAMES:12,MUSIC:16,PHOTO:19,SCIENCE_AND_TECH:21,SPORT:23,TRAVEL:25,TV_AND_CINEMA:26,HUMOR:32,FASHION:43}},227981:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MoneyBlockServicesCategoryIdEnumNames=void 0,t.MoneyBlockServicesCategoryIdEnumNames={TAXI:1,FOOD:2,TRAVEL:3,DOCTOR:4,ENTERTAINMENT:5,BOOKS:6,CHINA:7,JOBS:8,CHARITY:9,GAMES:10}},570934:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NewsfeedCommentsItemTypePostTopicIdEnumNames=void 0,t.NewsfeedCommentsItemTypePostTopicIdEnumNames={EMPTY_TOPIC:0,ART:1,IT:7,GAMES:12,MUSIC:16,PHOTO:19,SCIENCE_AND_TECH:21,SPORT:23,TRAVEL:25,TV_AND_CINEMA:26,HUMOR:32,FASHION:43}},673136:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NewsfeedItemWallpostTopicIdEnumNames=void 0,t.NewsfeedItemWallpostTopicIdEnumNames={EMPTY_TOPIC:0,ART:1,IT:7,GAMES:12,MUSIC:16,PHOTO:19,SCIENCE_AND_TECH:21,SPORT:23,TRAVEL:25,TV_AND_CINEMA:26,HUMOR:32,FASHION:43}},789060:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationsSendMessageErrorCodeEnumNames=void 0,t.NotificationsSendMessageErrorCodeEnumNames={NOTIFICATIONS_DISABLED:1,FLOOD_CONTROL_PER_HOUR:2,FLOOD_CONTROL_PER_DAY:3,APP_IS_NOT_INSTALLED:4}},793192:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OwnerStateStateEnumNames=void 0,t.OwnerStateStateEnumNames={BANNED:1,ADULT:2,HIDDEN:3,DELETED:4,BLACKLISTED:5}},237240:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PagesPrivacySettingsEnumNames=void 0,t.PagesPrivacySettingsEnumNames={COMMUNITY_MANAGERS_ONLY:0,COMMUNITY_MEMBERS_ONLY:1,EVERYONE:2}},496716:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhonesGoodTypeEnumNames=void 0,t.PhonesGoodTypeEnumNames={NEUTRAL:0,BAD:1,GOOD:2}},470538:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotosAiTaskSexEnumNames=void 0,t.PhotosAiTaskSexEnumNames={UNDEFINED:0,FEMALE:1,MALE:2}},766700:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlatformAppStatusStatusIdEnumNames=void 0,t.PlatformAppStatusStatusIdEnumNames={ENABLE_PLATFORM:1,DISABLE_PLATFORM:2,PUBLISHED_MARUSYA:3,PRIVATE_MARUSYA:4,BLOCKED:5}},387075:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlatformConsoleConsoleOrganizationStatusIdEnumNames=void 0,t.PlatformConsoleConsoleOrganizationStatusIdEnumNames={NOT_SENT:0,OK:1,ON_MODERATION:2}},884583:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PromoCodesClientCodeTypeEnumNames=void 0,t.PromoCodesClientCodeTypeEnumNames={GIFT_5_VOTES:101,GIFT_7_VOTES:102,GIFT_10_VOTES:103,GIFT_20_VOTES:104,STICKER_STATIC_PACK:201,STICKER_ANIMATED_PACK:202,STICKER_SPECIFIC_PACK:203,VOTES_3:301,VOTES_5:302,VOTES_10:303,VOTES_20:304,VOTES_50:305,VOTES_100:306,VOTES_250:307,VOTES_500:308,VOTES_1:309,MUSIC_1_WEEK:401,MUSIC_2_WEEKS:406,MUSIC_1_MONTH:402,MUSIC_3_MONTHS:403,MUSIC_6_MONTHS:404,MUSIC_1_YEAR:405,DISCOUNT_ON_STICKERS_50_PERCENT:501,DISCOUNT_ON_STICKERS_70_PERCENT:502,DISCOUNT_ON_STICKERS_90_PERCENT:503}},371980:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PromoCodesCodeItemTypeEnumNames=void 0,t.PromoCodesCodeItemTypeEnumNames={GIFT_5_VOTES:101,GIFT_7_VOTES:102,GIFT_10_VOTES:103,GIFT_20_VOTES:104,STICKER_STATIC_PACK:201,STICKER_ANIMATED_PACK:202,STICKER_SPECIFIC_PACK:203,VOTES_3:301,VOTES_5:302,VOTES_10:303,VOTES_20:304,VOTES_50:305,VOTES_100:306,VOTES_250:307,VOTES_500:308,VOTES_1:309,VOTES_2:310,VOTES_300:311,VOTES_15:312,MUSIC_1_WEEK:401,MUSIC_2_WEEKS:406,MUSIC_1_MONTH:402,MUSIC_3_MONTHS:403,MUSIC_6_MONTHS:404,MUSIC_1_YEAR:405,DISCOUNT_ON_STICKERS_50_PERCENT:501,DISCOUNT_ON_STICKERS_70_PERCENT:502,DISCOUNT_ON_STICKERS_90_PERCENT:503}},110540:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PromoCodesTaskItemTypeEnumNames=void 0,t.PromoCodesTaskItemTypeEnumNames={GIFT_5_VOTES:101,GIFT_7_VOTES:102,GIFT_10_VOTES:103,GIFT_20_VOTES:104,STICKER_STATIC_PACK:201,STICKER_ANIMATED_PACK:202,STICKER_SPECIFIC_PACK:203,VOTES_3:301,VOTES_5:302,VOTES_10:303,VOTES_20:304,VOTES_50:305,VOTES_100:306,VOTES_250:307,VOTES_500:308,VOTES_1:309,MUSIC_1_WEEK:401,MUSIC_1_WEEKS:406,MUSIC_1_MONTH:402,MUSIC_3_MONTHS:403,MUSIC_6_MONTHS:404,MUSIC_1_YEAR:405,DISCOUNT_ON_STICKERS_50_PERCENT:501,DISCOUNT_ON_STICKERS_70_PERCENT:502,DISCOUNT_ON_STICKERS_90_PERCENT:503}},440612:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RestoreDisablePageCreateRequestCodeEnumNames=void 0,t.RestoreDisablePageCreateRequestCodeEnumNames={DISABLE_CREATE_NO_PHOTO_SELFIE:517,DISABLE_CREATE_NO_PHOTO_PERSONAL:518,DISABLE_CREATE_NO_PHOTO_DOC:519,DISABLE_CREATE_NEED_COMMENT:520,DISABLE_CREATE_SUCCESS:522,DISABLE_CREATE_DEACTIVATE_FROM_SETTINGS:525,DISABLE_CREATE_ASK_GO_RESTORE:528}},29170:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SearchEntityItemVideoPlaylistIsSubscribedEnumNames=void 0,t.SearchEntityItemVideoPlaylistIsSubscribedEnumNames={NO:0,YES:1}},688285:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SearchEntityItemVkPersonVerifiedEnumNames=void 0,t.SearchEntityItemVkPersonVerifiedEnumNames={NO:0,YES:1}},877045:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SearchGroupExtendedDisallowManageReasonEnumNames=t.SearchGroupExtendedTrustMarkEnumNames=t.SearchGroupExtendedWallEnumNames=t.SearchGroupExtendedYoulaStatusEnumNames=void 0,t.SearchGroupExtendedYoulaStatusEnumNames={OFF:0,EXTENDED:1,BASIC:2},t.SearchGroupExtendedWallEnumNames={DISABLED:0,OPEN:1,LIMITED:2,RESTRICTED:3},t.SearchGroupExtendedTrustMarkEnumNames={NOT_FOUND:0,VERIFIED:1,PREMIUM:2,CONFIRMED:3},t.SearchGroupExtendedDisallowManageReasonEnumNames={NO_2FA:1,AWAITING_PERIOD:2}},995021:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServerEffectsGeneratedVideoInfoStatusEnumNames=void 0,t.ServerEffectsGeneratedVideoInfoStatusEnumNames={WAITING_FOR_ORIGINAL_UPLOAD:0,TRANSFORMATION_IN_PROGRESS:1,WAITING_FOR_ORIGINAL_VALIDATION:2,READY_FOR_PREVIEW:4,ORIGINAL_VALIDATION_FAILED:10,ERROR:50}},371391:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsResponseCodeEnumNames=void 0,t.SettingsResponseCodeEnumNames={ENABLE_OTP_INVALID_HASH:90,ENABLE_OTP_ALREADY:91,ENABLE_OTP_SECURITY_ERROR:92,ENABLE_OTP_DB_ERROR:95,ENABLE_OTP_PROCESS_ERROR:96,ENABLE_OTP_OK:100,DISABLE_OTP_INVALID_HASH:110,DISABLE_OTP_ALREADY:111,DISABLE_OTP_CANT_DISABLE:112,DISABLE_OTP_DB_ERROR:115,DISABLE_OTP_HAS_IMPORTANT_ADS_OFFICE:117,DISABLE_OTP_HAS_IMPORTANT_ADS_OFFICE_ERROR:118,DISABLE_OTP_OK:120,DISABLE_OTP_DENIED_FOR_VERIFIED:121,ENABLE_OTP_APP_INVALID_HASH:130,ENABLE_OTP_APP_ALREADY:131,ENABLE_OTP_APP_INVALID_CODE:132,ENABLE_OTP_APP_OTP_DISABLED:133,ENABLE_OTP_APP_OK:135,ENABLE_OTP_APP_DB_ERROR:136,DISABLE_OTP_APP_INVALID_HASH:140,DISABLE_OTP_APP_ALREADY:141,DISABLE_OTP_APP_CANT_DISABLE:142,DISABLE_OTP_APP_DB_ERROR:143,DISABLE_OTP_APP_OK:145,GENERATE_OTP_CODES_INVALID_HASH:150,GENERATE_OTP_CODES_FAILED:151,GENERATE_OTP_CODES_OK:155,FINISH_UNBAN_OK:160,FINISH_UNBAN_INVALID_ID:161,FINISH_UNBAN_BAD_PASSWORD:162,FINISH_UNBAN_SAME_PASSWORD:163,FINISH_UNBAN_PASSWORD_SET_FAILED:164,FINISH_UNBAN_ERROR:165,RESEND_UNBAN_NOT_BANNED:170,RESEND_UNBAN_INVALID_HASH:171,RESEND_UNBAN_INVALID_UNBAN_DATA:172,RESEND_UNBAN_FLOOD:174,RESEND_UNBAN_BAD_PHONE_NUMBER:176,RESEND_UNBAN_SMS:178,RESEND_UNBAN_DELAY_FLOOD:179,RESEND_UNBAN_SMS_RESENT:180,CALL_UNBAN_ERROR:190,CALL_UNBAN_CALLED:191,CALL_UNBAN_FLOOD:192,CALL_UNBAN_CALLING:193,OTP_RIGHTS_DISABLE_OK:211,OTP_RIGHTS_DISABLE_CANT_DISABLE:212,OTP_RIGHTS_DISABLE_ERROR:213,OTP_RIGHTS_DISABLE_ERROR_VERIFIED_PAGE:214,OTP_SECRET_INVALID_HASH:221,OTP_SECRET_ENABLED_OK:222,OTP_SECRET_SET_OK:223,OTP_SECRET_DB_ERROR:224,OTP_SECRET_PROCESS_ERROR:225,APP_PASSWORDS_INVALID_HASH:231,APP_PASSWORDS_CREATE_INVALID_NAME:232,APP_PASSWORDS_CREATE_LIMIT_EXCEEDED:233,APP_PASSWORDS_CREATE_SUCCESS:234,APP_PASSWORDS_DELETE_SUCCESS:235,APP_PASSWORDS_DELETE_FAIL:236,APP_PASSWORDS_LOAD_LIST_SUCCESS:237,APP_PASSWORDS_LOAD_LIST_FAIL:238,ACTIVITY_HISTORY_SUCCESS:241,ACTIVITY_HISTORY_INVALID_HASH:242,SECURITY_INFO_SUCCESS:251,SECURITY_INFO_USER_NOT_FOUND:252,SECURITY_INFO_INTERNAL_ERROR:253,SECURITY_INFO_INVALID_HASH:254,RESET_SESSION_DENIED:261,RESET_SESSION_INVALID_HASH:262,RESET_SESSION_UNKNOWN_ERROR:263,RESET_SESSION_SUCCESS:264,RESET_SESSION_NEED_RESET_ALL:265,RESET_SESSION_DB_FAIL:266,OTP_RESET_ALL_SESSIONS_INCORRECT_HASH:271,OTP_RESET_ALL_SESSIONS_DB_FAIL:272,OTP_RESET_ALL_SESSIONS_CANT_RESET:273,OTP_RESET_ALL_SESSIONS_SUCCESS:274,RESERVE_CODES_SEND_TO_EMAIL_SUCCESS:281,RESERVE_CODES_SEND_TO_EMAIL_INVALID_HASH:282,RESERVE_CODES_SEND_TO_EMAIL_FAILED:283,RESERVE_CODES_SEND_TO_EMAIL_INCORRECT_EMAIL:284,RESERVE_CODES_SEND_TO_EMAIL_CANT_SEND:285,VALIDATE_DEVICES_UNREGISTER_NO_DEVICES:291,VALIDATE_DEVICES_UNREGISTER_INVALID_HASH:292,VALIDATE_DEVICES_UNREGISTER_DEVICE_NOT_FOUND:293,VALIDATE_DEVICES_UNREGISTER_DB_ERROR:294,VALIDATE_DEVICES_UNREGISTER_SUCCESS:295,VALIDATE_DEVICES_LOAD_INVALID_HASH:301,VALIDATE_DEVICES_LOAD_SUCCESS:302}},128791:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShortVideoAudioTrackGenreIdEnumNames=t.ShortVideoAudioMstcpTypeEnumNames=t.ShortVideoAudioGenreIdEnumNames=void 0,t.ShortVideoAudioGenreIdEnumNames={ROCK:1,POP:2,"RAP_&_HIP_HOP":3,EASY_LISTENING:4,"HOUSE_&_DANCE":5,INSTRUMENTAL:6,METAL:7,ALTERNATIVE:21,DUBSTEP:8,"JAZZ_&_BLUES":1001,"DRUM_&_BASS":10,TRANCE:11,CHANSON:12,ETHNIC:13,"ACOUSTIC_&_VOCAL":14,REGGAE:15,CLASSICAL:16,INDIE_POP:17,SPEECH:19,"ELECTROPOP_&_DISCO":22,OTHER:18},t.ShortVideoAudioMstcpTypeEnumNames={UGC:0,MASTER_COPY:1,COPY_OF_MASTER_COPY:2},t.ShortVideoAudioTrackGenreIdEnumNames={ROCK:1,POP:2,"RAP_&_HIP_HOP":3,"HOUSE_&_DANCE":5,INSTRUMENTAL:6,EASY_LISTENING:4,METAL:7,"DUBSTEP_&_TRAP":8,"DRUM_&_BASS":10,TRANCE:11,ETHNIC:13,"ACOUSTIC_&_VOCAL":14,REGGAE:15,CLASSICAL:16,INDIE_POP:17,ALTERNATIVE:21,"ELECTROPOP_&_DISCO":22,"JAZZ_&_BLUES":1001}},33764:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShortVideoShortVideoInfoClipsUserLinkModerationEnumNames=t.ShortVideoShortVideoInfoOriginalSoundStatusEnumNames=void 0,t.ShortVideoShortVideoInfoOriginalSoundStatusEnumNames={PENDING:1,APPROVED:2,REJECTED:3},t.ShortVideoShortVideoInfoClipsUserLinkModerationEnumNames={NOT_MODERATED:0,PENDING_MODERATION:1,REJECTED:2,APPROVED:3}},830436:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplashscreensAdminShortSplashscreenStatusEnumNames=t.SplashscreensAdminShortSplashscreenAppsItemsEnumNames=void 0,t.SplashscreensAdminShortSplashscreenAppsItemsEnumNames={VK:1,VKVIDEO:2},t.SplashscreensAdminShortSplashscreenStatusEnumNames={DRAFT:1,TESTING:2,READY_TO_RUN:3,RUN:4,STOPPED:5,FINISHED:6}},24118:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplashscreensAdminSplashscreenStatusEnumNames=t.SplashscreensAdminSplashscreenAppsItemsEnumNames=void 0,t.SplashscreensAdminSplashscreenAppsItemsEnumNames={VK:1,VKVIDEO:2},t.SplashscreensAdminSplashscreenStatusEnumNames={DRAFT:1,TESTING:2,READY_TO_RUN:3,RUN:4,STOPPED:5,FINISHED:6}},466099:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StickersBonusHistoryRecordTypeEnumNames=void 0,t.StickersBonusHistoryRecordTypeEnumNames={ADDITION:1,EXPIRATION:2,WITHDRAWAL:3}},801956:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SupportTicketCsatRateTypeEnumNames=void 0,t.SupportTicketCsatRateTypeEnumNames={BAD:1,NEUTRAL:2,GOOD:3}},110278:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SupportTicketNewCsatRateTypeEnumNames=void 0,t.SupportTicketNewCsatRateTypeEnumNames={VERY_BAD:1,BAD:2,NEUTRAL:3,GOOD:4,VERY_GOOD:5}},516095:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextlivesFollowStateEnumNames=void 0,t.TextlivesFollowStateEnumNames={NOT_FOLLOWING:0,FOLLOWING_IMPORTANT:1,FOLLOWING_ALL:2}},582979:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextlivesTextliveStateEnumNames=void 0,t.TextlivesTextliveStateEnumNames={INIT:1,LIVE:2,FINISHED:3,BANNED:4,DELETED:5}},754200:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextlivesTextliveTextpostBlockIsLiveEnumNames=void 0,t.TextlivesTextliveTextpostBlockIsLiveEnumNames={OFFLINE:0,ONGOING:1}},720687:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TinkoffTinkoffUserInfoSexEnumNames=void 0,t.TinkoffTinkoffUserInfoSexEnumNames={UNDEFINED:0,FEMALE:1,MALE:2}},912836:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationsKeyDiscussionStateEnumNames=void 0,t.TranslationsKeyDiscussionStateEnumNames={OPENED:1,RESOLVED:2}},776055:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationsKeyDiscussionCommentStateEnumNames=void 0,t.TranslationsKeyDiscussionCommentStateEnumNames={OPENED:1,RESOLVED:2}},207074:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UmaChartTrackExplicitEnumNames=void 0,t.UmaChartTrackExplicitEnumNames={NO_EXPLICIT_CONTENT_INT_TRACK:0,TRACK_HAVE_EXPLICIT_CONTENT:1}},249938:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UmaUserBdateVisibilityEnumNames=void 0,t.UmaUserBdateVisibilityEnumNames={IS_HIDDEN:0,IS_VISIBLE:1,DAY_AND_MONTH_ONLY:2}},766867:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsersUserFullBdateVisibilityEnumNames=void 0,t.UsersUserFullBdateVisibilityEnumNames={IS_HIDDEN:0,IS_VISIBLE:1,DAY_AND_MONTH_ONLY:2}},534465:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsersUserProfileTypeEnumNames=void 0,t.UsersUserProfileTypeEnumNames={NORMAL:0,EDU:2,RELATED:4}},628898:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsersUserRelationEnumNames=void 0,t.UsersUserRelationEnumNames={NOT_SPECIFIED:0,SINGLE:1,IN_A_RELATIONSHIP:2,ENGAGED:3,MARRIED:4,COMPLICATED:5,ACTIVELY_SEARCHING:6,IN_LOVE:7,IN_A_CIVIL_UNION:8}},802139:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VideoCatalogLinkMetaTrustMarkEnumNames=void 0,t.VideoCatalogLinkMetaTrustMarkEnumNames={VERIFIED:1,PREMIUM:2,CONFIRMED:3}},873275:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VideoGroupJoinResultResultEnumNames=void 0,t.VideoGroupJoinResultResultEnumNames={OK:1,OK_PRIVATE:2,ERR_NO_DETAILS:100,ERR_NOT_FOUND:101,ERR_NOT_AVAILABE:102,ERR_USER_BLACKLISTED:103,ERR_USER_MAX_GROUPS_LIMIT:104,ERR_USER_ALREADY_IN_GROUP:105}},765383:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VideoLicensedStateEnumNames=void 0,t.VideoLicensedStateEnumNames={INVERT:0,LICENSED:1,CLAIMED:2}},946090:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VkMusicUserBdateVisibilityEnumNames=void 0,t.VkMusicUserBdateVisibilityEnumNames={IS_HIDDEN:0,IS_VISIBLE:1,DAY_AND_MONTH_ONLY:2}},910495:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VkUpAdminQuestItemCategoryEnumNames=t.VkUpAdminQuestItemCheckTypeEnumNames=void 0,t.VkUpAdminQuestItemCheckTypeEnumNames={DAILY_EVENT:1,WEEKLY_EVENT:2,CHECKBACK_DAILY_EVENT:3,CHECKBACK_WEEKLY_EVENT:4},t.VkUpAdminQuestItemCategoryEnumNames={COMMON:1,CHECKBACK:2}},716774:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VkUpBannerItemTypeEnumNames=void 0,t.VkUpBannerItemTypeEnumNames={INTERNAL:1,EXTERNAL:2}},930763:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VkUpUserQuestItemStatusEnumNames=void 0,t.VkUpUserQuestItemStatusEnumNames={NEW:1,IN_PROGRESS:2,SKIPPED:3,REPLACED:4,FINISHED:5,EXPIRED:6,PAID:7}},84617:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VkidokCheckPasswordProfileGenderEnumNames=void 0,t.VkidokCheckPasswordProfileGenderEnumNames={MALE:1,FEMALE:2}},654364:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VkstoreBalanceMovementReasonEnumNames=void 0,t.VkstoreBalanceMovementReasonEnumNames={UNKNOWN:0,CREATE_ORDER:1,UPDATE_ORDER:2,CANCEL_ORDER:3,ADMIN_ACCRUAL:4,USER_TO_USER:5,CUSTOM:6,API:7}},91518:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WallGroupWallStatusEnumNames=void 0,t.WallGroupWallStatusEnumNames={DISABLED:0,OPEN:1,LIMITED:2,RESTRICTED:3}},784638:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WallUserWallStatusEnumNames=void 0,t.WallUserWallStatusEnumNames={WITH_WALL_REPLIES:0,NO_WALL_REPLIES:1}},169401:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WallWallpostAdsEasyPromoteTypeEnumNames=void 0,t.WallWallpostAdsEasyPromoteTypeEnumNames={NOT_APPLICABLE:0,AVAILABLE:1,UNAVAILABLE:2,DISABLED:3,ENABLED:4,ENABLING:5,DISAPPROVED:6,STOPPED:7}},592520:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WallWallpostFullTopicIdEnumNames=void 0,t.WallWallpostFullTopicIdEnumNames={EMPTY_TOPIC:0,ART:1,IT:7,GAMES:12,MUSIC:16,PHOTO:19,SCIENCE_AND_TECH:21,SPORT:23,TRAVEL:25,TV_AND_CINEMA:26,HUMOR:32,FASHION:43}},700443:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.YoulaGroupSettingsGroupModeEnumNames=t.YoulaGroupSettingsPublishModeEnumNames=void 0,t.YoulaGroupSettingsPublishModeEnumNames={WALL:0,SUGGEST:1,GROUP_SECTION_ONLY:2},t.YoulaGroupSettingsGroupModeEnumNames={DISABLED:0,BARAHOLKA:1,ANTIBARAHOLKA:2}},600222:(e,t,r)=>{"use strict";function n(){return{icon:'<svg fill="none" height="8" viewBox="0 0 12 8" width="12" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M2.16 2.3a.75.75 0 0 1 1.05-.14L6 4.3l2.8-2.15a.75.75 0 1 1 .9 1.19l-3.24 2.5c-.27.2-.65.2-.92 0L2.3 3.35a.75.75 0 0 1-.13-1.05z" fill="currentColor" fill-rule="evenodd"/></svg>',name:"dropdown_12"}}r.d(t,{getIcon12Dropdown:()=>n})},447931:(e,t,r)=>{"use strict";function n(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="currentColor" d="M10.48 1.07c.55.05 1.03.14 1.47.37a3.74 3.74 0 0 1 1.64 1.63c.23.44.32.92.37 1.47.04.53.04 1.18.04 2v5.48c0 .5 0 .92-.03 1.25-.03.33-.1.72-.35 1.03a1.8 1.8 0 0 1-1.35.7c-.4.01-.76-.15-1.04-.32-.3-.17-.64-.41-1.04-.7l-1.7-1.2a7.21 7.21 0 0 0-.43-.3.25.25 0 0 0-.12 0l-.08.05c-.08.04-.18.12-.35.24l-1.7 1.2c-.4.3-.75.54-1.04.71-.28.17-.64.33-1.04.32a1.8 1.8 0 0 1-1.35-.7c-.25-.32-.32-.7-.35-1.03C2 12.94 2 12.52 2 12.02V6.53c0-.7 0-1.3.03-1.79a9.01 9.01 0 0 1 .01-.2c.05-.55.14-1.03.37-1.47a3.75 3.75 0 0 1 1.64-1.63c.44-.23.92-.32 1.47-.37.23-.02.48-.03.76-.03 1.4-.03 2.82-.08 4.2.03Z"/></svg>',name:"bookmark_16"}}r.d(t,{getIcon16Bookmark:()=>n})},667309:(e,t,r)=>{"use strict";function n(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="currentColor" fill-rule="evenodd" d="M6.72 1h2.56c.67 0 1.23 0 1.67.04.47.03.88.12 1.28.31a3.25 3.25 0 0 1 1.42 1.42c.2.4.28.81.31 1.28.04.44.04 1 .04 1.67v6.05c0 .56 0 1.02-.03 1.4-.04.36-.11.76-.37 1.1a1.9 1.9 0 0 1-1.45.73c-.42.01-.8-.17-1.11-.36-.32-.2-.7-.47-1.14-.8L8.5 12.8a7.25 7.25 0 0 0-.44-.3.25.25 0 0 0-.12 0s-.03 0-.08.04c-.08.05-.19.12-.37.26L6.1 13.84c-.45.33-.82.6-1.14.8-.31.19-.69.37-1.1.36a1.9 1.9 0 0 1-1.46-.73 2.06 2.06 0 0 1-.37-1.1C2 12.78 2 12.32 2 11.76V5.72c0-.67 0-1.23.04-1.67.03-.47.12-.88.31-1.28a3.25 3.25 0 0 1 1.42-1.42c.4-.2.81-.28 1.28-.31C5.49 1 6.05 1 6.72 1Zm1.22 11.5Zm.12 0Zm-2.9-9.97c-.36.03-.56.09-.7.16a1.75 1.75 0 0 0-.77.77c-.07.14-.13.34-.16.7-.03.39-.03.88-.03 1.59v5.98c0 .6 0 1 .03 1.3.02.24.05.31.06.32a.4.4 0 0 0 .3.15s.08-.02.3-.14l1.05-.75L6.6 11.6l.07-.05c.27-.2.56-.41.89-.5a1.75 1.75 0 0 1 .88 0c.33.09.62.3.89.5l.07.05 1.36 1c.49.37.8.6 1.06.76.2.12.29.14.3.14a.4.4 0 0 0 .3-.15s.03-.08.05-.32c.03-.3.03-.7.03-1.3V5.75c0-.71 0-1.2-.03-1.58a1.88 1.88 0 0 0-.16-.71 1.75 1.75 0 0 0-.77-.77 1.88 1.88 0 0 0-.7-.16c-.39-.03-.88-.03-1.59-.03h-2.5c-.71 0-1.2 0-1.58.03Z" clip-rule="evenodd"/></svg>',name:"bookmark_outline_16"}}r.d(t,{getIcon16BookmarkOutline:()=>n})},985737:(e,t,r)=>{"use strict";function n(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="currentColor" d="M12.74 3.26a.9.9 0 0 1 0 1.28L9.27 8l3.47 3.46a.9.9 0 0 1 .08 1.18l-.08.1a.9.9 0 0 1-1.28 0L8 9.27l-3.46 3.47a.9.9 0 0 1-1.28-1.28L6.73 8 3.26 4.54a.9.9 0 0 1-.08-1.18l.08-.1a.9.9 0 0 1 1.28 0L8 6.73l3.46-3.47a.9.9 0 0 1 1.28 0Z"/></svg>',name:"cancel_16"}}r.d(t,{getIcon16Cancel:()=>n})},959156:(e,t,r)=>{"use strict";function n(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" fill="none" viewBox="0 0 12 16"><path fill="currentColor" d="M7.23 8 3.86 4.64a.9.9 0 0 1 1.28-1.28l4 4a.9.9 0 0 1 0 1.28l-4 4a.9.9 0 0 1-1.28-1.28L7.23 8Z"/></svg>',name:"chevron_16"}}r.d(t,{getIcon16Chevron:()=>n})},801746:(e,t,r)=>{"use strict";function n(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8 3.25a4.75 4.75 0 0 0-4.15 7.07.75.75 0 1 1-1.3.73A6.25 6.25 0 1 1 8 14.25a.75.75 0 0 1 0-1.5 4.75 4.75 0 1 0 0-9.5Z" clip-rule="evenodd"/></svg>',name:"spinner_16"}}r.d(t,{getIcon16Spinner:()=>n})},706891:(e,t,r)=>{"use strict";function n(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 3a.75.75 0 0 1 .75.75v5.5h5.5a.75.75 0 0 1 0 1.5h-5.5v5.5a.75.75 0 0 1-1.5 0v-5.5h-5.5a.75.75 0 0 1 0-1.5h5.5v-5.5A.75.75 0 0 1 10 3Z" clip-rule="evenodd"/></svg>',name:"add_20"}}r.d(t,{getIcon20Add:()=>n})},680208:(e,t,r)=>{"use strict";function n(){return{icon:'<svg fill="none" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M4.72 4.72c.3-.3.77-.3 1.06 0L10 8.94l4.22-4.22a.75.75 0 1 1 1.06 1.06L11.06 10l4.22 4.22a.75.75 0 1 1-1.06 1.06L10 11.06l-4.22 4.22a.75.75 0 0 1-1.06-1.06L8.94 10 4.72 5.78a.75.75 0 0 1 0-1.06z" fill="currentColor" fill-rule="evenodd"/></svg>',name:"cancel_20"}}r.d(t,{getIcon20Cancel:()=>n})},893980:(e,t,r)=>{"use strict";function n(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M17.53 5.22a.75.75 0 0 1 0 1.06l-9.5 9.5a.75.75 0 0 1-1.06 0l-4.5-4.5a.75.75 0 1 1 1.06-1.06l3.97 3.97 8.97-8.97a.75.75 0 0 1 1.06 0Z" clip-rule="evenodd"/></svg>',name:"check_20"}}r.d(t,{getIcon20Check:()=>n})},899690:(e,t,r)=>{"use strict";function n(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 20 20"><path fill="currentColor" fill-rule="evenodd" d="m12.75 4.04-.8 3.3 1.91.35c.96.17 1.82.62 2.07 1.53.26.92-.25 1.84-.82 2.52l-5.08 5.75c-.33.35-.66.64-.99.81-.3.16-.8.33-1.27.05-.46-.26-.58-.76-.6-1.1-.03-.38.03-.82.15-1.3l.84-3.35-1.81-.32c-.92-.16-1.84-.59-2.2-1.45-.39-.92 0-1.9.8-2.76l1.41-1.5c.84-.91 2.07-2.26 3.68-4.05.31-.35.64-.64.96-.82.31-.16.8-.32 1.26-.07.47.25.6.74.64 1.1.03.38-.02.83-.15 1.31Zm-1.37-.75a3.95 3.95 0 0 0-.22.22A330.83 330.83 0 0 1 6.05 9.1c-.63.69-.57 1.05-.52 1.15.16.38.73.5 1.08.56l2.33.41c.56.1.95.67.8 1.24l-.96 3.86a4.71 4.71 0 0 0-.08.4 4.42 4.42 0 0 0 .23-.24l5.04-5.7c.53-.65.55-1.02.52-1.15-.02-.07-.15-.32-.88-.45l-2.45-.44c-.56-.1-.94-.68-.8-1.24l.94-3.81a4.29 4.29 0 0 0 .08-.4Z" clip-rule="evenodd"/></svg>',name:"flash_outline_20"}}r.d(t,{getIcon20FlashOutline:()=>n})},497185:(e,t,r)=>{"use strict";function n(){return{icon:'<svg fill="none" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path d="M2 4.75c0-.41.34-.75.75-.75h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 4.75zm0 5c0-.41.34-.75.75-.75h12.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 9.75zm0 5c0-.41.34-.75.75-.75h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1-.75-.75z"/><path clip-rule="evenodd" d="M19.28 12.22c.3.3.3.77 0 1.06l-4.5 4.5c-.29.29-.76.29-1.05 0l-2.5-2.5a.75.75 0 0 1 1.05-1.06l1.97 1.97 3.97-3.97c.3-.3.77-.3 1.06 0z" fill-rule="evenodd"/></g></svg>',name:"list_add_outline_20"}}r.d(t,{getIcon20ListAddOutline:()=>n})},472240:(e,t,r)=>{"use strict";function n(){return{icon:'<svg fill="none" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><clipPath id="list_play_outline_20__a"><path d="M0 0h20v20H0z"/></clipPath><g clip-path="url(#list_play_outline_20__a)" fill="currentColor"><path d="M19.68 11.43c.43.25.43.89 0 1.14l-4.73 2.84c-.42.25-.95-.06-.95-.57V9.16c0-.5.53-.82.95-.57zM2 4.75c0-.41.34-.75.75-.75h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 4.75zm0 5c0-.41.34-.75.75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 2 9.75zm0 5c0-.41.34-.75.75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5a.75.75 0 0 1-.75-.75z"/></g></svg>',name:"list_play_outline_20"}}r.d(t,{getIcon20ListPlayOutline:()=>n})},827087:(e,t,r)=>{"use strict";function n(){return{icon:'<svg fill="none" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M15 8.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm-5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm-5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3z" fill="currentColor"/></svg>',name:"more_20"}}r.d(t,{getIcon20More:()=>n})},433849:(e,t,r)=>{"use strict";function n(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M12 8.13a7.85 7.85 0 0 1-1.5 2.37A7.83 7.83 0 0 1 8.13 12c.83.37 1.72.86 2.37 1.51a7.83 7.83 0 0 1 1.5 2.37c.37-.84.86-1.72 1.51-2.37a7.83 7.83 0 0 1 2.37-1.5 7.85 7.85 0 0 1-2.37-1.51 7.83 7.83 0 0 1-1.5-2.37Zm-.78-2.18c-.42 1.32-1.02 2.72-1.78 3.49-.77.77-2.17 1.36-3.49 1.78a21.07 21.07 0 0 1-1.16.34c-.38.1-.38.79 0 .9a27.15 27.15 0 0 1 .91.25l.25.08c1.32.42 2.72 1.01 3.49 1.78.76.77 1.36 2.17 1.78 3.49a20.84 20.84 0 0 1 .27.9l.07.26c.1.38.79.38.9 0a27.49 27.49 0 0 1 .25-.91l.08-.25c.42-1.32 1.01-2.72 1.78-3.49s2.17-1.36 3.49-1.78a20.84 20.84 0 0 1 .9-.27l.26-.07c.38-.1.38-.8 0-.9a27.49 27.49 0 0 1-.91-.25 20.84 20.84 0 0 1-.25-.08c-1.32-.42-2.72-1.01-3.49-1.78s-1.36-2.17-1.78-3.49a21.13 21.13 0 0 1-.34-1.16c-.1-.38-.8-.38-.9 0a27.15 27.15 0 0 1-.25.91 21.13 21.13 0 0 1-.08.25ZM4.36.76a.39.39 0 0 0-.73 0L3.24 2A1.93 1.93 0 0 1 2 3.22l-1.24.41a.39.39 0 0 0 0 .74l1.24.4A1.93 1.93 0 0 1 3.22 6l.41 1.24a.39.39 0 0 0 .74 0L4.77 6A1.93 1.93 0 0 1 6 4.78l1.24-.42a.39.39 0 0 0 0-.73L6 3.24A1.93 1.93 0 0 1 4.78 2L4.36.76Z"/></svg>',name:"stars_20"}}r.d(t,{getIcon20Stars:()=>n})},655623:(e,t,r)=>{"use strict";function n(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 20 20"><path d="M2.75 4a.75.75 0 0 0 0 1.5H6v9.75a.75.75 0 0 0 1.5 0V5.5h3.25a.75.75 0 0 0 0-1.5h-8Z"/><path d="M10.75 7.5a.75.75 0 0 0 0 1.5h2.5v6.25a.75.75 0 0 0 1.5 0V9h2.5a.75.75 0 0 0 0-1.5h-6.5Z"/></svg>',name:"text_tt_outline_20"}}r.d(t,{getIcon20TextTtOutline:()=>n})},73245:(e,t,r)=>{"use strict";function n(){return{icon:'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M13.08 2.65A2.21 2.21 0 0 1 14.64 2c.57 0 1.14.22 1.57.65l1.14 1.14a2.21 2.21 0 0 1 0 3.13l-.94.94-9.17 9.18A3.3 3.3 0 0 1 4.9 18H3a1 1 0 0 1-1-1v-1.9a3.29 3.29 0 0 1 .96-2.33l8.13-8.13 1.99-2zm2.28 4.13.93-.92a.71.71 0 0 0 0-1.02l-1.14-1.13a.71.71 0 0 0-.5-.21.71.71 0 0 0-.51.2l-.93.93 2.15 2.15zm-3.22-1.07-8.11 8.12a1.79 1.79 0 0 0-.53 1.26v1.11a.3.3 0 0 0 .3.3h1.11c.47 0 .93-.19 1.27-.53l8.1-8.11-2.15-2.15z" fill="currentColor"/></svg>',name:"write_outline_20"}}r.d(t,{getIcon20WriteOutline:()=>n})},702510:(e,t,r)=>{"use strict";function n(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M11.08 3h1.84c1.05 0 1.9 0 2.58.06.7.05 1.32.17 1.88.46a4.79 4.79 0 0 1 2.1 2.1c.28.56.4 1.17.46 1.88.06.68.06 1.53.06 2.58v7.62c0 .77 0 1.41-.05 1.91-.04.5-.14 1.03-.48 1.46a2.46 2.46 0 0 1-1.9.93c-.54 0-1.02-.24-1.44-.5-.42-.27-.93-.66-1.55-1.13l-1.61-1.24c-.61-.47-.72-.53-.8-.55a.66.66 0 0 0-.34 0c-.08.02-.19.08-.8.55l-1.61 1.24c-.62.47-1.13.86-1.55 1.13-.42.26-.9.5-1.45.5a2.46 2.46 0 0 1-1.9-.93 2.68 2.68 0 0 1-.48-1.46C4 19.11 4 18.47 4 17.7v-7.62c0-1.05 0-1.9.06-2.58.05-.7.18-1.32.46-1.88a4.79 4.79 0 0 1 2.1-2.1c.56-.28 1.17-.4 1.88-.46C9.18 3 10.03 3 11.08 3Z" clip-rule="evenodd"/></svg>',name:"bookmark_24"}}r.d(t,{getIcon24Bookmark:()=>n})},880526:(e,t,r)=>{"use strict";function n(){return{icon:'<svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M11.08 3h1.84c1.05 0 1.9 0 2.59.06.7.05 1.31.17 1.88.46.9.46 1.63 1.2 2.09 2.1.29.56.4 1.17.46 1.87.06.69.06 1.54.06 2.6v7.6c0 .78 0 1.42-.05 1.92-.04.5-.14 1.03-.48 1.46-.46.58-1.15.92-1.9.93-.54 0-1.02-.24-1.44-.5-.42-.27-.93-.66-1.55-1.13l-1.61-1.24c-.61-.47-.72-.53-.8-.55a.66.66 0 0 0-.34 0c-.08.02-.19.08-.8.55l-1.61 1.24c-.62.47-1.13.86-1.55 1.13-.42.26-.9.5-1.45.5a2.46 2.46 0 0 1-1.9-.93 2.68 2.68 0 0 1-.47-1.46C4 19.11 4 18.47 4 17.7v-7.62c0-1.05 0-1.9.06-2.59.05-.7.17-1.31.46-1.88.46-.9 1.2-1.63 2.1-2.09.56-.29 1.17-.4 1.87-.46C9.18 3 10.03 3 11.1 3zM8.64 4.85c-.6.05-.94.14-1.2.28-.57.28-1.03.74-1.31 1.3-.14.27-.23.62-.28 1.21-.05.6-.05 1.38-.05 2.48v7.53c0 .83 0 1.4.04 1.8.04.41.1.5.1.5.12.16.3.25.5.25 0 0 .12 0 .47-.22.34-.22.79-.56 1.45-1.07l1.58-1.2.1-.09c.44-.33.85-.65 1.32-.78.42-.1.86-.1 1.28 0 .47.13.88.45 1.32.78l.1.08 1.58 1.21c.66.5 1.1.85 1.45 1.07.35.22.46.22.46.22.2 0 .39-.1.5-.25 0 0 .07-.09.11-.5.04-.4.04-.97.04-1.8v-7.53c0-1.1 0-1.88-.05-2.48-.05-.6-.14-.94-.28-1.2a2.99 2.99 0 0 0-1.3-1.31 3.17 3.17 0 0 0-1.21-.28 33.8 33.8 0 0 0-2.48-.05h-1.76c-1.1 0-1.88 0-2.48.05z" fill="currentColor" fill-rule="evenodd"/></svg>',name:"bookmark_outline_24"}}r.d(t,{getIcon24BookmarkOutline:()=>n})},963251:(e,t,r)=>{"use strict";function n(){return{icon:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g id="browser_back_24__Master" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="browser_back_24__browser_back_24"><path id="browser_back_24__body" d="M0 0h24v24H0z"/><path d="m8.66 12 7.12 7.12a1.1 1.1 0 1 1-1.56 1.56l-7.9-7.9a1.1 1.1 0 0 1 0-1.56l7.9-7.9a1.1 1.1 0 0 1 1.56 1.56L8.66 12Z" id="browser_back_24__Path" fill="currentColor" fill-rule="nonzero"/></g></g></svg>',name:"browser_back_24"}}r.d(t,{getIcon24BrowserBack:()=>n})},936492:(e,t,r)=>{"use strict";function n(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M7.54 6.26a.9.9 0 0 0-1.28 1.28L10.73 12l-4.47 4.46a.9.9 0 0 0 1.28 1.28L12 13.27l4.46 4.47a.9.9 0 1 0 1.28-1.28L13.27 12l4.47-4.46a.9.9 0 1 0-1.28-1.28L12 10.73 7.54 6.26Z"/></svg>',name:"cancel_24"}}r.d(t,{getIcon24Cancel:()=>n})},138431:(e,t,r)=>{"use strict";function n(){return{icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 0a12 12 0 1 1 0 24 12 12 0 0 1 0-24Zm0 1.5a10.5 10.5 0 1 0 0 21 10.5 10.5 0 0 0 0-21Z" fill="currentColor"/></svg>',name:"check_circle_off_24"}}r.d(t,{getIcon24CheckCircleOff:()=>n})},740361:(e,t,r)=>{"use strict";function n(){return{icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 24a12 12 0 1 0 0-24 12 12 0 0 0 0 24Zm6.2-14.8a1 1 0 0 0-1.4-1.4L10 14.58l-2.8-2.8a1 1 0 0 0-1.4 1.42l3.5 3.5a1 1 0 0 0 1.4 0l7.5-7.5Z" fill="currentColor"/></svg>',name:"check_circle_on_24"}}r.d(t,{getIcon24CheckCircleOn:()=>n})},248812:(e,t,r)=>{"use strict";function n(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M14.96 9.26a.9.9 0 0 1 1.28 1.28l-4.6 4.6a.9.9 0 0 1-1.28 0l-2.6-2.6a.9.9 0 0 1 1.28-1.28L11 13.23l3.96-3.97Z"/><path fill-rule="evenodd" d="M12 2.1a9.9 9.9 0 1 1 0 19.8 9.9 9.9 0 0 1 0-19.8Zm0 1.8A8.1 8.1 0 0 0 3.9 12a8.1 8.1 0 0 0 8.1 8.1 8.1 8.1 0 0 0 8.1-8.1A8.1 8.1 0 0 0 12 3.9Z" clip-rule="evenodd"/></svg>',name:"check_circle_outline_24"}}r.d(t,{getIcon24CheckCircleOutline:()=>n})},321903:(e,t,r)=>{"use strict";function n(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M12 13.7 6.64 9.23a1 1 0 0 0-1.28 1.54l6 5a1 1 0 0 0 1.28 0l6-5a1 1 0 1 0-1.28-1.54L12 13.7Z"/></svg>',name:"chevron_down_24"}}r.d(t,{getIcon24ChevronDown:()=>n})},81930:(e,t,r)=>{"use strict";function n(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="m12 10.3-5.36 4.47a1 1 0 1 1-1.28-1.54l6-5a1 1 0 0 1 1.28 0l6 5a1 1 0 1 1-1.28 1.54L12 10.3Z"/></svg>',name:"chevron_up_24"}}r.d(t,{getIcon24ChevronUp:()=>n})},38050:(e,t,r)=>{"use strict";function n(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M12.4 8a.9.9 0 1 0-1.8 0v4.5a.9.9 0 0 0 .58.84l4 1.5a.9.9 0 0 0 .64-1.68l-3.42-1.28V8Z"/><path fill-rule="evenodd" d="M12 2.1a9.9 9.9 0 1 0 0 19.8 9.9 9.9 0 0 0 0-19.8ZM3.9 12a8.1 8.1 0 1 1 16.2 0 8.1 8.1 0 0 1-16.2 0Z" clip-rule="evenodd"/></svg>',name:"clock_outline_24"}}r.d(t,{getIcon24ClockOutline:()=>n})},799306:(e,t,r)=>{"use strict";function n(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M4.93 4.93A9.97 9.97 0 0 1 12 2a9.97 9.97 0 0 1 7.07 2.93A9.97 9.97 0 0 1 22 12a9.97 9.97 0 0 1-2.93 7.07A9.97 9.97 0 0 1 12 22a9.97 9.97 0 0 1-7.07-2.93A9.97 9.97 0 0 1 2 12a9.97 9.97 0 0 1 2.93-7.07ZM12 3.8a8.17 8.17 0 0 0-5.8 2.4A8.17 8.17 0 0 0 3.8 12a8.17 8.17 0 0 0 2.4 5.8 8.17 8.17 0 0 0 5.8 2.4 8.17 8.17 0 0 0 5.8-2.4 8.17 8.17 0 0 0 2.4-5.8 8.17 8.17 0 0 0-2.4-5.8A8.17 8.17 0 0 0 12 3.8ZM13 16a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm-1-9a.9.9 0 0 1 .9.9v5.2a.9.9 0 0 1-1.8 0V7.9A.9.9 0 0 1 12 7Z" clip-rule="evenodd"/></svg>',name:"error_circle_outline_24"}}r.d(t,{getIcon24ErrorCircleOutline:()=>n})},784394:(e,t,r)=>{"use strict";function n(){return{icon:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g id="favorite_24__Page-2" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="favorite_24__favorite_24"><path id="favorite_24__Bounds" d="M0 0h24v24H0z"/><path d="m15.34 8.48 4.43.43c1.54.15 2.02 1.65.83 2.64l-3.47 2.88 1.29 4.7c.42 1.54-.9 2.48-2.2 1.55L12 17.7l-4.21 2.98c-1.31.92-2.63 0-2.2-1.55l1.28-4.7-3.47-2.88c-1.2-1-.72-2.5.83-2.64l4.43-.43 1.95-4.5c.6-1.4 2.17-1.4 2.78 0l1.95 4.5Z" id="favorite_24__Mask" fill="currentColor" fill-rule="nonzero"/></g></g></svg>',name:"favorite_24"}}r.d(t,{getIcon24Favorite:()=>n})},977202:(e,t,r)=>{"use strict";function n(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M12.55 4.7a.6.6 0 0 0-1.1 0L9.83 8.6a.9.9 0 0 1-.77.55l-4.13.26a.6.6 0 0 0-.35 1.05l3.26 2.86a.9.9 0 0 1 .29.9l-.94 3.84a.6.6 0 0 0 .89.66l3.47-2a.9.9 0 0 1 .9 0l3.47 2a.6.6 0 0 0 .88-.66l-.93-3.85a.9.9 0 0 1 .29-.89l3.26-2.86a.6.6 0 0 0-.35-1.05l-4.13-.26a.9.9 0 0 1-.77-.56l-1.62-3.9ZM9.78 4a2.4 2.4 0 0 1 4.44 0l1.4 3.39 3.56.23a2.4 2.4 0 0 1 1.43 4.2l-2.86 2.5.8 3.32a2.4 2.4 0 0 1-3.53 2.64L12 18.54l-3.02 1.74a2.4 2.4 0 0 1-3.54-2.64l.8-3.32-2.85-2.5a2.4 2.4 0 0 1 1.43-4.2l3.56-.23L9.78 4Z" clip-rule="evenodd"/></svg>',name:"favorite_outline_24"}}r.d(t,{getIcon24FavoriteOutline:()=>n})},901098:(e,t,r)=>{"use strict";function n(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M6 6.6c0-.56 0-.84.1-1.05a1 1 0 0 1 .45-.44C6.76 5 7.04 5 7.6 5h.8c.56 0 .84 0 1.05.1a1 1 0 0 1 .44.45c.11.21.11.49.11 1.05v10.8c0 .56 0 .84-.1 1.05a1 1 0 0 1-.45.44c-.21.11-.49.11-1.05.11h-.8c-.56 0-.84 0-1.05-.1a1 1 0 0 1-.44-.45C6 18.24 6 17.96 6 17.4V6.6Zm8 0c0-.56 0-.84.1-1.05a1 1 0 0 1 .45-.44C14.76 5 15.04 5 15.6 5h.8c.56 0 .84 0 1.05.1a1 1 0 0 1 .44.45c.11.21.11.49.11 1.05v10.8c0 .56 0 .84-.1 1.05a1 1 0 0 1-.45.44c-.21.11-.49.11-1.05.11h-.8c-.56 0-.84 0-1.05-.1a1 1 0 0 1-.44-.45c-.11-.21-.11-.49-.11-1.05V6.6Z"/></svg>',name:"pause_24"}}r.d(t,{getIcon24Pause:()=>n})},660596:(e,t,r)=>{"use strict";function n(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M18.5 11.13a1 1 0 0 1 0 1.74l-9 5.2A1 1 0 0 1 8 17.2V6.8a1 1 0 0 1 1.5-.86l9 5.2Z"/></svg>',name:"play_24"}}r.d(t,{getIcon24Play:()=>n})},53495:(e,t,r)=>{"use strict";function n(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M12 9.1a.4.4 0 0 0 .67.3l4.29-3.9a.67.67 0 0 0 0-1L12.67.6a.4.4 0 0 0-.67.3V4a8 8 0 1 0 8 8 1 1 0 1 0-2 0 6 6 0 1 1-6-6v3.1Z"/></svg>',name:"refresh_24"}}r.d(t,{getIcon24Refresh:()=>n})},312311:(e,t,r)=>{"use strict";function n(){return{icon:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g id="song_24__Page-2" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="song_24__song_24"><path id="song_24__Bounds" d="M0 0h24v24H0z"/><path d="M13 11.48v5.65c0 4.52-.87 5.39-4.37 5.85C6.96 23.19 5 22.44 5 19.8c0-1.28.8-2.5 2.46-2.81 1.27-.25-.09.02 2.78-.52.7-.13.77-.37.77-.9V3.97c0-1.24.67-1.69 2.66-2.09l4.68-.87c.37-.07.65.07.65.49v4.05c0 .42-.17.6-.59.68l-4.86.86c-.38.1-.55.36-.55.74v3.64Z" id="song_24__Mask" fill="currentColor"/></g></g></svg>',name:"song_24"}}r.d(t,{getIcon24Song:()=>n})},950189:(e,t,r)=>{"use strict";function n(){return{icon:'<svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M16.4 5.08A8.2 8.2 0 0 0 4.57 15.49a.9.9 0 0 1-1.63.77A10 10 0 1 1 12 22a.9.9 0 0 1 0-1.8 8.2 8.2 0 0 0 4.4-15.12z" fill="currentColor" fill-rule="evenodd"/></svg>',name:"spinner_24"}}r.d(t,{getIcon24Spinner:()=>n})},627872:(e,t,r)=>{"use strict";function n(){return{icon:'<svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path clip-rule="evenodd" d="M9.49 4.55a2.9 2.9 0 0 1 5.02 0l6.93 12a2.9 2.9 0 0 1-2.51 4.35H5.07a2.9 2.9 0 0 1-2.51-4.35zm3.46.9a1.1 1.1 0 0 0-1.9 0l-6.93 12c-.42.73.1 1.65.95 1.65h13.86c.85 0 1.37-.92.95-1.65z" fill-rule="evenodd"/><path clip-rule="evenodd" d="M12 8c.5 0 .9.37.9.84v4.82c0 .47-.4.84-.9.84s-.9-.37-.9-.84V8.84c0-.47.4-.84.9-.84z" fill-rule="evenodd"/><path d="M13 16.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/></g></svg>',name:"warning_triangle_outline_24"}}r.d(t,{getIcon24WarningTriangleOutline:()=>n})},480888:(e,t,r)=>{"use strict";function n(){return{icon:'<svg width="28" height="28" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg"><g id="check_circle_outline_28__Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="check_circle_outline_28__check_circle_outline_28" fill-rule="nonzero"><path d="M0 0h28v28H0z"/><path d="M14 2a12 12 0 1 1 0 24 12 12 0 0 1 0-24Zm0 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20Zm4.29 6.29a1 1 0 0 1 1.42 0 1 1 0 0 1 0 1.42l-7 7a1 1 0 0 1-1.42 0l-3.5-3.5a1 1 0 0 1 1.42-1.42L12 16.6Z" id="check_circle_outline_28__Icon-Color" fill="currentColor"/></g></g></svg>',name:"check_circle_outline_28"}}r.d(t,{getIcon28CheckCircleOutline:()=>n})},127760:(e,t,r)=>{"use strict";function n(){return{icon:'<svg fill="none" height="28" viewBox="0 0 28 28" width="28" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path d="M21.46 7.16a1 1 0 0 1 1.38.3A1 1 0 0 1 23 8v12.35a1 1 0 1 0 2 0V8a3 3 0 0 0-4.61-2.53L16.42 8h-3.77a1 1 0 1 0 0 2H15v2.34a1 1 0 1 0 2 0V10z"/><path clip-rule="evenodd" d="M16.75 17.34a1.01 1.01 0 0 0-.09-.1L4.71 5.3A1 1 0 0 0 3.3 6.7L5.48 8.9c-.18.12-.34.25-.5.37a5.52 5.52 0 0 0-.37 8.12 5.49 5.49 0 0 0 2.98 1.53l.45 2.6a3 3 0 1 0 5.91-1.04L13.7 19h1.9l6.7 6.71a1 1 0 0 0 1.42-1.41zm-9.82-7a7.37 7.37 0 0 0-.9.68 3.49 3.49 0 0 0 0 4.95c.63.64 1.5 1.03 2.47 1.03h5.08zM10 21.17 9.63 19h2.03l.32 1.82a1 1 0 0 1-.8 1.16 1 1 0 0 1-1.17-.8z" fill-rule="evenodd"/></g></svg>',name:"loudspeaker_slash_outline_28"}}r.d(t,{getIcon28LoudspeakerSlashOutline:()=>n})},518996:(e,t,r)=>{"use strict";function n(){return{icon:'<svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M28 52a24 24 0 1 0 0-48 24 24 0 0 0 0 48z" fill="#FC3"/><path fill-rule="evenodd" clip-rule="evenodd" d="M31.86 40.86a1.29 1.29 0 0 1 0 2.57h-7.72a1.29 1.29 0 0 1 0-2.57h7.72zm-1.29-12c.86-.86 1.72 1.71 6 1.71 3.43 0 6.43-1.71 6.86-.86.43.86-2.57 4.29-6.86 4.29-5.14 0-6.86-4.29-6-5.14zm-5.14 0c.86.85-.86 5.14-6 5.14-4.29 0-7.29-3.43-6.86-4.29.43-.85 3.43.86 6.86.86 4.28 0 5.14-2.57 6-1.71zm9.43-10.29c.85-.86 2.57 2.14 6 3.43s4.28 1.29 4.28 2.57c0 .86-.85 1.72-5.14 0-4.29-1.71-6-5.14-5.14-6zm-13.72 0c.86.86-.85 4.29-5.14 6-4.29 1.72-5.14.86-5.14 0 0-1.28.85-1.28 4.28-2.57 3.43-1.29 5.15-4.29 6-3.43z" fill="#805446"/></svg>',name:"pensive_face_56"}}r.d(t,{getIcon56PensiveFace:()=>n})},800418:(e,t,r)=>{"use strict";r.d(t,{AudioAds:()=>p});var n=r(898848),a=r(598129),s=r(575753),_=r(392358),c=r(251458),l=r(636576),u=r(690027),d=r(255818);class p{get isActive(){return!!this._isActive}set isActive(e){this._isActive=e,this.player.notify(_.events.PLAYER_IS_AD_CHANGED,e)}isPlaying(){return this.isActive}getCurrentAd(){return this._currentAd}setAdsConfig(e){this._adsConfig=e}getCurrentProgress(){return this._adsCurrentProgress}getDuration(){return this._duration}loadAdman(e){const t=t=>e&&e(t);if(this._admanLoaded)return void t();let r=0;(0,a.loadScript)(p.ADMAN_SRC,{onLoad:()=>{this._admanLoaded=!0,t()},onError:()=>{window.abp?(this._admanLoaded=!0,t()):(r+=1,3===r&&(this._admanLoaded=!0),t("script_load_fail"))}})}_fetchAd(e,t,r,a,s){this.loadAdman((c=>{if(!window.AdmanHTML)return this._sendEvent("no_adman",t,p.AD_TYPE,c),a&&a();this._adman=new AdmanHTML;const l=this._adsConfig||vk.audioAdsConfig||window.audioAdsConfig,u={_SITEID:276,ver:251116,vk_id:vk.id,puid1:554,duration:e.duration,content_id:E(e.ownerId,e.id),vk_catid:p.CAT_IDS[t]||p.CAT_IDS.other,sign:l?.sign||""};Object.assign(u,e.ads||{}),nav.objLoc&&nav.objLoc.preview&&(u.preview=(0,n.intval)(nav.objLoc.preview)),cur.adsPreview&&(u.preview=1,u.vk_id=398724832),this._adman.setDebug(!!u.preview),this._adman.onError((()=>a&&a())),this._adman.onReady((()=>{if(!this._adman)return;const e=this._adman.getBannersForSection(p.AD_TYPE);if(e&&e.length){const[n]=e;"statistics"===n.type?(this._play(!0,t),a&&a()):(this._sendEvent("received",t),r?(this._sendEvent("rejected",t,p.AD_TYPE,s),this.deinit(),a&&a()):(this._sendEvent("ready",t),this.player.notify(_.events.AD_READY),this._play(!1,t,a,n)))}else r||this._sendEvent("not_received",t),a&&a()})),this._adman.init({slot:3514,wrapper:document.createElement("div"),params:u,browser:{adBlock:!!window.abp,mobile:!1}}),this._sendEvent("requested",t)}))}_sendEvent(e,t,r,a){const s=r?"/"+r:"",_=a?"/"+a:"";this._adEvents.push(e+"/"+t+s+_),clearTimeout(this._adEventDelay),this._adEventDelay=setTimeout((()=>{ajax.post(this.adsStatUrl,{act:"ad_event",events:this._adEvents.join(","),v:this.playerVersion,abp:(0,n.intval)(window.abp)},{onFail:()=>!0}),this._adEvents=[]}),500)}_play(e,t,r,a){this._adman.onCompleted((()=>{this.deinit(!0),e?this._sendEvent("statistics",t):(this.player.notify(_.events.PROGRESS,0),this.player.notify(_.events.AD_COMPLETED),this.isActive=!1,this._currentAd=null,this._adsCurrentProgress=0,this._sendEvent("completed",t),this.isMvk||(window.document.title=(0,n.replaceEntities)(this._adsPrevTitle)),r&&r())})),this._adman.onStarted((()=>{e||(this.player.setIsPlaying(!0),this.player.notify(_.events.PLAY),this.player.notify(_.events.PROGRESS,0),this.player.notify(_.events.AD_STARTED,(0,d.makeAudioAdFromAdman)(a)),this.updateVolume(),this._sendEvent("started",t),window.statlogsValueEvent&&(0,l.statlogsValueEvent)("audio_web_ad_link","show"))})),this._adman.onPaused((()=>{this.player.setIsPlaying(!1),this.player.notify(_.events.PAUSE)})),this._adman.onPlayed((()=>{this.player.setIsPlaying(!0),this.player.notify(_.events.PLAY)}));const s=[.25,.5,.75];if(this._adman.onTimeRemained((e=>{this._duration=isNaN(e.duration)?0:e.duration,this._adsCurrentProgress=(isNaN(e.percent)?0:e.percent)/100,this.player.notify(_.events.PROGRESS,this._adsCurrentProgress,this._duration),(0,n.each)(s,((e,r)=>{if(this._adsCurrentProgress>=r)return s.shift(),this._sendEvent("progress_"+(0,n.intval)(100*r),t),!1}))})),this._adman.start(p.AD_TYPE),e)return r&&r();this._currentAd=(0,d.makeAudioAdFromAdman)(a),this.isActive=!0,this._adsPrevTitle=document.title,this.isMvk||(window.document.title=getLang("global_audio_ad"))}updateVolume(){this._adman&&this._adman.setVolume(.7*this.player.getVolume())}deinit(e){this._adman=null,!e&&this.player.notify(_.events.AD_DEINITED)}pause(){this._adman&&(this.player.setIsPlaying(!1),this._adman.pause())}stop(){this._adman&&(this.player.setIsPlaying(!1),this._adman.stop())}resume(){this._adman&&(this.player.setIsPlaying(!0),this._adman.resume(),this.player.notify(_.events.PLAY))}checkPlay(e,t){const r=this.player._getPlayingContextSection(),{type:n,reason:a}=this._isAllowed(e),s=()=>t&&t();switch(n){case p.ALLOW_ALLOWED:this._fetchAd(e,r,!1,s);break;case p.ALLOW_DISABLED:s();break;case p.ALLOW_REJECT:this._fetchAd(e,r,!0,!1,a),s()}}hasAdsSupport(){const e=(0,n.intval)(s.browser.version.split(".")[0]);return!(s.browser.ios||s.browser.safari&&this.isMvk||s.browser.chrome&&e<50)}_isAllowed(e){if(vk.widget||(0,c.isPodcast)(e)||(0,u.isExternalStream)(e))return{type:p.ALLOW_DISABLED};const t=this._adsConfig||vk.audioAdsConfig||window.audioAdsConfig;if(t){if(!t.enabled||!this.hasAdsSupport())return{type:p.ALLOW_DISABLED};if(cur.adsPreview)return{type:p.ALLOW_ALLOWED};if(t.day_limit_reached)return{type:p.ALLOW_REJECT,reason:p.REJECT_REASON_LIMIT};return"im"!==this.player._getPlayingContextSection()?{type:p.ALLOW_ALLOWED}:{type:p.ALLOW_REJECT,reason:p.REJECT_REASON_SECTION}}return{type:p.ALLOW_REJECT,reason:p.REJECT_REASON_UNKNOWN}}startPlay(e,t){this.checkPlay(e,t)}constructor(e,t,r){this._isActive=!1,this._currentAd=null,this._adsCurrentProgress=0,this._adman=null,this._admanLoaded=!1,this._adEvents=[],this.player=e||{},this.playerVersion=t||null,this._startAdsTO=null,this._adsConfig=null,this._duration=0,this.isMvk=Boolean(r),this.adsStatUrl=this.isMvk?"audio":"al_audio.php"}}function E(e,t){const r=e.toString(16);let n=t.toString(16);for(;n.length<8;)n="0"+n;return r+n}p.ADMAN_SRC="//ad.mail.ru/static/admanhtml/rbadman-html5.min.js",p.CAT_IDS={my:101,my_playlists:101,audio_feed:109,recent:113,user_wall:104,group_wall:104,user_list:102,group_list:103,user_playlists:102,group_playlists:103,feed:105,search:110,global_search:110,replies:104,im:106,group_status:104,user_status:104,recs:107,recs_audio:107,recs_album:107,other:114},p.AD_TYPE="preroll",p.ALLOW_DISABLED=1,p.ALLOW_ALLOWED=2,p.ALLOW_REJECT=3,p.REJECT_REASON_UNKNOWN="unknown",p.REJECT_REASON_LIMIT="track_limit_exceeded",p.REJECT_REASON_SECTION="section_not_allowed"},899841:(e,t,r)=>{"use strict";r.d(t,{DEFAULT_VOLUME:()=>a,SILENCE:()=>n});const n="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA",a=.4761515102104643},722574:(e,t,r)=>{"use strict";r.d(t,{AudioPlayerHTML5:()=>c});var n=r(575753),a=r(434810),s=r(899841),_=r(71935);class c{destroy(){}getPlayedTime(){const e=this._currentAudioEl.played;let t=0;for(let r=0;r<e.length;r++)t+=e.end(r)-e.start(r);return t}getCurrentTime(){return this._currentAudioEl.currentTime}clearAudioNode(){this._currentAudioEl=this._createAudioNode(s.SILENCE)}isCurrent(e){return e===this._currentAudioEl}_createAudioNode(e){const t=new _.HTMLAudioNode({onBufferUpdate:()=>{this.isCurrent(t)&&this.opts.onBufferUpdate(this.getCurrentBuffered())},onProgressUpdate:()=>{this.isCurrent(t)&&t.src!==s.SILENCE&&this.opts.onProgressUpdate(this.getCurrentProgress(),this.getPlayedTime(),this.getCurrentTime())},onEnd:()=>{this.isCurrent(t)&&t.src!==s.SILENCE&&this.opts.onEnd()},onSeeked:()=>{this.isCurrent(t)&&this.opts.onSeeked()},onSeek:()=>{this.isCurrent(t)&&this.opts.onSeek()},onFail:e=>{this._prefetchAudioEl===t?this._prefetchAudioEl=this._createAudioNode():this.isCurrent(t)&&t.src!==s.SILENCE&&(this._hlsError=e,this.opts.onFail&&this.opts.onFail())},onDurationChange:()=>{this.isCurrent(t)&&this._seekOnReady&&t.duration>0&&(this.seek(this._seekOnReady),this._seekOnReady=!1)},onCanPlay:()=>{this.isCurrent(t)&&this.opts.onCanPlay&&this.opts.onCanPlay()},onPause:(...e)=>{this.isCurrent(t)&&t.src!==s.SILENCE&&this.opts.onPause(...e)},onPlay:(...e)=>{this.isCurrent(t)&&t.src!==s.SILENCE&&this.opts.onPlay(...e)},volume:this.hasOwnProperty("_volume")?this._volume:this.opts.defaultVolume},e);return t}onReady(e){e()}prefetch(e){const t=(0,a.audioUnmaskSource)(e);this._prefetchAudioEl&&this._prefetchAudioEl.url===t||(this._prefetchAudioEl=this._createAudioNode(t))}seek(e){const t=this._currentAudioEl;t.duration>0&&t.src&&t.src!==s.SILENCE?t.currentTime=t.duration*e:this._seekOnReady=e}setVolume(e){void 0===e&&(e=this._currentAudioEl.volume),this._currentAudioEl.volume=e,this._prefetchAudioEl&&(this._prefetchAudioEl.volume=e),this._volume=e}setPlaybackRate(e){this._currentAudioEl.playbackRate=e}getCurrentProgress(){return this._currentAudioEl.currentProgress}getCurrentBuffered(){return this._currentAudioEl&&this._currentAudioEl.currentBuffered}getDuration(){return this._currentAudioEl&&this._currentAudioEl.duration}isFullyLoaded(){return this._currentAudioEl.isFullyLoaded}setUrl(e,t=()=>{}){let r;if(!e)return t&&t(!1);const n=(0,a.audioUnmaskSource)(e);let _=this._currentAudioEl;if(this._currentAudioEl.src&&this._currentAudioEl.src!==s.SILENCE&&(this._seekOnReady=!1),this._currentAudioEl.src===n)return this.opts.onCanPlay&&this.opts.onCanPlay(),void(t&&t(!0));if(this._prefetchAudioEl){if(this._prefetchAudioEl.src===n)return this._currentAudioEl.pause(),this._currentAudioEl.setUrl(s.SILENCE),this._prefetchAudioEl.readyState>=3&&setTimeout((()=>this.opts.onCanPlay&&this.opts.onCanPlay())),this._currentAudioEl=this._prefetchAudioEl,this._prefetchAudioEl=null,void(t&&t(!0));n!==s.SILENCE&&this._prefetchAudioEl.setUrl(s.SILENCE)}_.src!==n&&(r=_.setUrl(n).then((()=>this._stopFrequencyAnalise()))),r?r.then((()=>t(!0))).catch((()=>t(!1))):t(!0)}play(){this._stopFrequencyAnalise();const e=this._currentAudioEl;if(e.src){const t=e.play();return this._startFrequencyAnalise(),t}return Promise.resolve()}preparePlay(){if(n.browser.safari)return this._currentAudioEl.setUrl(s.SILENCE).then((()=>this._currentAudioEl.play()))}_startFrequencyAnalise(){function e(e,t,r,n){return(r-t)*e/n+t}function t(e,t){return Math.random()*(t-e)+e}this._stopFrequencyAnalise();let r=999,n=null,a=null;this._freqUpdateInterval=setInterval((()=>{let s;this._currentAudioEl.paused?s=[0,0,0,0]:(r++,r>3&&(r=0,n=a,a=[t(.7,1),t(.55,.8),t(.3,.55),t(.03,.45)],n||(n=[t(.7,1),t(.55,.8),t(.3,.55),t(.03,.45)])),s=[e(r,n[0],a[0],3),e(r,n[1],a[1],3),e(r,n[2],a[2],3),e(r,n[3],a[3],3)]),this.opts.onFrequency&&this.opts.onFrequency(s)}),50)}_stopFrequencyAnalise(){clearInterval(this._freqUpdateInterval),this.opts.onFrequency&&this.opts.onFrequency([0,0,0,0])}pause(){this._currentAudioEl.pause(),this._stopFrequencyAnalise()}stop(){this._currentAudioEl.pause(),this.seek(0),this._stopFrequencyAnalise()}_setFadeVolumeInterval(e){if(e){if(!this._fadeVolumeWorker&&window.Worker&&window.Blob){const e=new Blob(["\n          var interval;\n          onmessage = function(e) {\n            clearInterval(interval);\n            if (e.data == 'start') {\n              interval = setInterval(function() { postMessage({}); }, 20);\n            }\n          }\n        "]);try{this._fadeVolumeWorker=new Worker(window.URL.createObjectURL(e))}catch(e){this._fadeVolumeWorker=!1}}this._fadeVolumeWorker?(this._fadeVolumeWorker.onmessage=e,this._fadeVolumeWorker.postMessage("start")):this._fadeVolumeInterval=setInterval(e,60)}else this._fadeVolumeWorker&&(this._fadeVolumeWorker.terminate(),this._fadeVolumeWorker=null),this._fadeVolumeInterval&&clearInterval(this._fadeVolumeInterval)}fadeVolume(e,t,r){e=Math.max(0,Math.min(1,e));const n=this._currentAudioEl;let a=0;if(t){const r=e-n.volume;a=r/(t/20||1)}else a=e<n.volume?-.06:.001;if(Math.abs(e-n.volume)<=.001)return this._setFadeVolumeInterval(),r&&r();let s=n.volume;this._setFadeVolumeInterval((()=>{!t&&a>0&&(a*=1.35),s+=a;let n=!1;if(n=a<0?s<=e:s>=e,n)return this.setVolume(e),this._setFadeVolumeInterval(),r&&r();this.setVolume(s)}))}getErrorData(){const e=this._currentAudioEl.error||{};return{is_hls:this._currentAudioEl.hls?1:0,url:this._currentAudioEl.src,error_code:e.code,error_message:e.message,hls_error:this._hlsError?JSON.stringify(this._hlsError):null}}constructor(e){this.type="html5",this.opts=e||{},this._audioNodes=[],this._currentAudioEl=this._createAudioNode(),this._prefetchAudioEl=this._createAudioNode()}}},434810:(e,t,r)=>{"use strict";r.d(t,{audioUnmaskSource:()=>_});var n=r(898848);const a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMN0PQRSTUVWXYZO123456789+/=",s={v:function(e){return e.split("").reverse().join("")},r:function(e,t){let r;e=e.split("");const n=a+a;let s=e.length;for(;s--;)r=n.indexOf(e[s]),~r&&(e[s]=n.substr(r-t,1));return e.join("")},s:function(e,t){let r=e.length;if(r){const n=function(e,t){const r=e.length,n=[];if(r){let e=r;for(t=Math.abs(t);e--;)t=(r*(e+1)^t+e)%r,n[e]=t}return n}(e,t);let a=0;for(e=e.split("");++a<r;)e[a]=e.splice(n[r-1-a],1,e[a])[0];e=e.join("")}return e},i:function(e,t){return s.s(e,t^vk.id)},x:function(e,t){const r=[];return t=t.charCodeAt(0),(0,n.each)(e.split(""),(function(e,n){r.push(String.fromCharCode(n.charCodeAt(0)^t))})),r.join("")}};function _(e){if((!window.wbopen||!~(window.open+"").indexOf("wbopen"))&&~e.indexOf("audio_api_unavailable")){let t,r,n=e.split("?extra=")[1].split("#"),a=""===n[1]?"":c(n[1]);if(n=c(n[0]),"string"!=typeof a||!n)return e;a=a?a.split(String.fromCharCode(9)):[];let _=a.length;for(;_--;){if(r=a[_].split(String.fromCharCode(11)),t=r.splice(0,1,n)[0],!s[t])return e;n=s[t].apply(null,r)}if(n&&"http"===n.substr(0,4))return n}return e}function c(e){if(!e||e.length%4==1)return!1;let t,r,n=0,s=0,_="";for(;r=e.charAt(s++);)r=a.indexOf(r),~r&&(t=n%4?64*t+r:r,n++%4)&&(_+=String.fromCharCode(255&t>>(-2*n&6)));return _}},280213:(e,t,r)=>{"use strict";function n(e,t){let r="";return e.forEach((function(n,a){let s="/audio?performer=1&q="+encodeURIComponent(n.name),_=window.getWebHost?window.getWebHost():"";n.id&&(s=`/artist/${n.id}`),r+=t?`<a class="artist_link" href="${_}${s}">${n.name}</a>`:n.name,a<e.length-1&&(r+=", ")})),r}r.d(t,{getAudioArtistsString:()=>n})},349581:(e,t,r)=>{"use strict";r.d(t,{getAudioPerformers:()=>_});var n=r(251458),a=r(280213),s=r(867366);function _(e,t=!0){let r="";const _=!(0,n.isPodcast)(e)&&t;if(Array.isArray(e[s.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_MAIN_ARTISTS])&&(r=(0,a.getAudioArtistsString)(e[s.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_MAIN_ARTISTS],_)),Array.isArray(e[s.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_FEAT_ARTISTS])&&(r+=" feat. ",r+=(0,a.getAudioArtistsString)(e[s.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_FEAT_ARTISTS],_)),!r){let t=e[s.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_PERFORMER]?e[s.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_PERFORMER].replace(/<\/?em>/g,""):"";if(_){r=`<a class="artist_link" data-performer="${t}" href="${"/audio?performer=1&q="+encodeURIComponent(t)}">${t}</a>`}else r=t}return r}},251458:(e,t,r)=>{"use strict";r.d(t,{isPodcast:()=>s});var n=r(867366),a=r(898848);function s(e){if(!e)return!1;let t=(0,a.isObject)(e)?e.extra:e[n.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_EXTRA];return(0,a.isObject)(t)||(t=JSON.parse(t||"{}")),!!t.podcast}},8236:(e,t,r)=>{"use strict";r.d(t,{serializeAudio:()=>a});var n=r(867366);function a(e){if(!e)return null;if(Array.isArray(e))return e;const t=[e.addHash,e.editHash,e.actionHash,e.deleteHash,e.replaceHash,e.urlHash,e.restoreHash].join("/"),r=[e.coverUrl_l,e.coverUrl_p].join(","),a=[];return a[n.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_ID]=e.id,a[n.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_OWNER_ID]=e.owner_id,a[n.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_URL]=e.url,a[n.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_TITLE]=e.title,a[n.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_PERFORMER]=e.performer,a[n.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_DURATION]=e.duration,a[n.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_ALBUM_ID]=e.albumId,a[n.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_AUTHOR_LINK]=e.authorLink,a[n.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_LYRICS]=e.lyrics,a[n.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_FLAGS]=e.flags,a[n.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_CONTEXT]=e.context,a[n.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_EXTRA]=e.extra,a[n.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_HASHES]=t,a[n.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_COVER_URL]=r,a[n.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_ADS]=e.ads,a[n.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_SUBTITLE]=e.subTitle,a[n.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_MAIN_ARTISTS]=e.mainArtists,a[n.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_FEAT_ARTISTS]=e.featArtists,a[n.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_ALBUM]=e.album,a[n.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_TRACK_CODE]=e.trackCode,a[n.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_RESTRICTION]=e.restrictionStatus,a[n.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_ALBUM_PART]=e.albumPart,a[n.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_ACCESS_KEY]=e.accessKey,a[n.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_CHART_INFO_INDEX]=e.chartInfo,a}},762701:(e,t,r)=>{"use strict";function n(e,t){if(!window.Worker||!window.Blob)return setTimeout(e,t);{const r=new Blob([`\n      var timeout;\n      onmessage = function(e) {\n        clearTimeout(timeout);\n        if (e.data == 'start') {\n          timeout = setTimeout(function() { postMessage({}); }, ${t});\n        }\n      }\n    `]);try{const t=new Worker(window.URL.createObjectURL(r));return t.onmessage=function(){t.terminate(),e()},t.postMessage("start"),t}catch(r){return setTimeout(e,t)}}}r.d(t,{setWorkerTimeout:()=>n})},43866:(e,t,r)=>{"use strict";function n(e){try{return e.play()||Promise.resolve()}catch(e){return Promise.reject(e)}}r.d(t,{wrapAudioPlay:()=>n})},396705:(e,t,r)=>{"use strict";r.d(t,{gemiusTrackPage:()=>a});var n=r(540462);function a(){if((0,n.partConfigEnabled)("geminus_counter")){const e="pzBAVLtpzyiyDVIwmwjmX5a2zSVdA6eUI7mpf0ufDFf.57";if(window.pp_gemius_identifier)window.pp_gemius_hit(e);else{r._dG("pp_gemius_identifier",e);const t=function(e){window[e]=window[e]||function(){let t=window[e+"_pdata"]=window[e+"_pdata"]||[];t[t.length]=arguments}};t("gemius_hit"),t("gemius_event"),t("pp_gemius_hit"),t("pp_gemius_event"),function(e,t){try{const r=e.createElement(t),n=e.getElementsByTagName(t)[0],a="http"+("https:"==location.protocol?"s":"");let s="vkgalv";if(window.vk&&window.vk.countryISO)switch(window.vk.countryISO){case"BY":s="vkgaby";break;case"MD":s="vkgamd";break;case"EE":s="vkgaee"}r.setAttribute("async","async"),r.setAttribute("defer","defer"),r.src=a+"://"+s+".hit.gemius.pl/xgemius.js",n.parentNode.insertBefore(r,n)}catch(e){}}(document,"script")}}}},664659:(e,t,r)=>{"use strict";r.d(t,{mediascopeTrackPage:()=>_});var n=r(898848),a=r(636576),s=r(540462);function _(e,t){const r=location.protocol,_=`^https?:\\/\\/(?:(?:www|m)\\.)?(?:\\w+\\.)*${(0,n.escapeRE)("vk.com")}`,c=window._tns&&(window._tns.tnsPixelSocdem||"83"),l=t.replace(/\*/g,"%2a").split("#")[0],u=window._tns&&window._tns.tnsPixelType;if((0,n.vkImage)().src=`${r}//www.tns-counter.ru/V13a**clid:${c}*${l}*vk_com/ru/UTF-8/tmsec=vksite_total/${Math.round(1e9*Math.random())}`,(0,s.partConfigEnabled)("tns_track_sections")){const t="content",r="messenger",n="photo",s="music",c="podcasts",l="video",u="clips",d="services",p="taxi",E="eda",m="worki",g="ecomm",A="games",f="docs",I="other",y="feed",R="friends",O="groups",S="idpublicclub",T="longread",P="bookmarks",b="stickers",C="likes",D="messenger",M="photo",L="music",N="podcasts",k="video",U="clips",B="services",x="taxi",F="eda",V="worki",K="ecomm",W="gamesapp",H="gamesapppage",G="docs",j="docdoc",Y="other",z=[...[[/w=story-?\d+_\d+/,t,"story"],[/z=video-?\d+_\d+/,l,"videoview"],[/z=(photo(_tag)?-?\d+_\d+|albums?-?\d+)/,n,"photoview"],[/z=audio_playlist-?\d+_\d+/,s,"playlistview"],[/z=podcast-?\d+_\d+/,s,"podcastview"],[/z=clip-?\d+_\d+/,u,"clipsview"],[/w=app\d+/,A,"gamesappview"],[/w=product-?\d+_\d+/,g,"product"]].map((([e,t,r])=>[new RegExp(_+"\\b.*?\\b"+e.source),t,r])),...[[/feed\?section=likes(\/|\&|$)/,t,C],[/feed(\/|\?|$)/,t,y],[/friends(\/|\?|$)/,t,R],[/groups(\/|\?|$)/,t,O],[/(id|public|club)\d+(\/|\?|$)/,t,S],[/@[\w-\.]+(\/|\?|$)/,t,T],[/bookmarks(\/|\?|$)/,t,P],[/stickers(\/|\?|$)/,t,b],[/im(\/|\?|$)/,r,D],[/(photos|tag\d+|(albums|photos)-?\d+|(album|photo)-?\d+_\d+)(\/|\?|$)/,n,M],[/(audio(s-?\d+)?|music)(\/|\?|$)/,s,L],[/podcasts(-?\d+)(\/|\?|$)/,c,N],[/(videos-?\d+|video(-?\d+_\d+)?)(\/|\?|$)/,l,k],[/(clips(-?\d+)?|clip-?\d+_\d+)(\/|\?|$)/,u,U],[/services(\/|\?|$)/,d,B],[/taxi(\/|\?|$)/,p,x],[/eda(\/|\?|$)/,E,F],[/worki(\/|\?|$)/,m,V],[/market(-?\d+)?(\/|\?|$)/,g,K],[/apps(\/|\?|$)/,A,W],[/app\d+(_-?\d+)(\/|\?|$)/,A,H],[/docs(\/|\?|$)/,f,G],[/doc-?\d+_\d+(\/|\?|$)/,f,j]].map((([e,t,r])=>[new RegExp(_+"\\/"+e.source),t,r]))],q=window.cur&&window.cur.module||"other";let $=I,X=Y;z.some((t=>{if(t[0].test(e))return $=t[1],X=t[2],!0})),(0,a.statlogsValueEvent)("counters_check_tns",$,X,q)}"unauth"===u?(0,n.vkImage)().src=r+"//www.tns-counter.ru/V13a****vk_ad/ru/UTF-8/tmsec=vkad_cid1015708-posid1184674/"+Math.round(1e9*Math.random()):"has_rough"===u?(0,n.vkImage)().src=r+"//www.tns-counter.ru/V13a****vk_ad/ru/UTF-8/tmsec=vkad_cid1015708-posid1184675/"+Math.round(1e9*Math.random()):"not_has_rough"===u&&((0,n.vkImage)().src=r+"//www.tns-counter.ru/V13a****vk_ad/ru/UTF-8/tmsec=vkad_cid1015708-posid1184677/"+Math.round(1e9*Math.random())),(0,s.partConfigEnabled)("tns_track_hosts")&&((0,n.vkImage)().src=`https://${function(){if(window.cur&&window.cur.module&&(0,n.isString)(window.cur.module)){const e=window.cur.module.trim().toLowerCase().replace(/[^a-z0-9_-]/g,"");if(e)return e}return"unknown"}()}.tns.vk-portal.net?v=${Math.round(1e9*Math.random())}`)}},814516:(e,t,r)=>{"use strict";r.d(t,{counterId:()=>n,getCustomCounterIdTmrUtils:()=>c,tmrFinishTimespent:()=>m,tmrPushRawEvent:()=>_,tmrSendTimespentEvent:()=>p,tmrStartTimespent:()=>E,tmrTrackCustomGoal:()=>d,tmrTrackMiniAppClose:()=>f,tmrTrackMiniAppCustom:()=>I,tmrTrackMiniAppEvent:()=>g,tmrTrackMiniAppOpen:()=>A,tmrTrackPage:()=>u,tmrUpdateUserId:()=>l});const n="2579437",a={MINI_APP_EVENT:"miniAppEvent"};function s(){return window.vk&&window.vk.id?window.vk.id:0}function _(e){window.vk&&window.vk.zero||window.__dev||(r._dG("_tmr",window._tmr||[]),window._tmr.push(e))}function c(e){const t=t=>{const r=s();s&&_({id:e,type:a.MINI_APP_EVENT,params:{...t,platformUserId:String(r)}})},r="open",n="close",c="custom";return{tmrUpdateUserId:()=>{_({type:"setUserID",userid:s()})},tmrTrackPage:(t,r)=>{_({id:e,url:t,referrer:r,type:"pageView",start:(new Date).getTime(),pid:s(),userid:s(),timespent:!0})},tmrTrackCustomGoal:(t,r={})=>{_({id:e,type:"reachGoal",goal:t,userid:s(),params:r})},tmrSendTimespentEvent:t=>{_({id:e,type:"incrementEventTimespent",activity:t,userid:s()})},tmrStartTimespent:(t,r=!1)=>{_({id:e,type:"startTimespent",activity:t,userid:s(),canUseInBackground:r})},tmrFinishTimespent:(t,r=!1)=>{_({id:e,type:"stopTimespent",activity:t,userid:s(),canUseInBackground:r})},tmrTrackMiniAppEvent:t,tmrTrackMiniAppOpen:(e,n)=>{t({eventType:r,miniAppId:e,queryParams:n})},tmrTrackMiniAppClose:e=>{t({eventType:n,miniAppId:e})},tmrTrackMiniAppCustom:(e,r)=>{t({eventType:c,miniAppId:e,...r})}}}const{tmrUpdateUserId:l,tmrTrackPage:u,tmrTrackCustomGoal:d,tmrSendTimespentEvent:p,tmrStartTimespent:E,tmrFinishTimespent:m,tmrTrackMiniAppEvent:g,tmrTrackMiniAppOpen:A,tmrTrackMiniAppClose:f,tmrTrackMiniAppCustom:I}=c(n)},21871:(e,t,r)=>{"use strict";r.d(t,{updateCounters:()=>c});var n=r(396705),a=r(664659),s=r(251703),_=r(636576);function c(e,t){if(window.__dev||window.vk&&(window.vk.zero||window.vk.__dev))return;t=t||document.referrer||"";[[/(hash|dl)=\w+/g,"$1="],[/(\/(?:write|mail|im|al_im.php))(?:\?[a-z0-9&=_-]*)?$/,"$1"],[/(\/write)\d*(?:\?[a-zA-Z0-9&=_-]*)?$/,"$1"]].forEach((([r,n])=>{e=e.replace(r,n),t=t.replace(r,n)})),(0,s.tmrTrackPage)(e,t);const r=[/\/login\?.*$/];r.some((t=>t.test(e)))||r.some((e=>e.test(t)))||((0,a.mediascopeTrackPage)(e,t),(0,n.gemiusTrackPage)(),(0,_.statlogsValueEvent)("counters_check",1))}},613715:(e,t,r)=>{"use strict";r.d(t,{EMOJI_HINTS:()=>c,EMOJI_PREFIXED_REPLACES:()=>s,EMOJI_REPLACES:()=>_,emojiRegex:()=>n.emojiRegex,skinToneModifierRegex:()=>a});var n=r(649632);const a=/\uFE0F?\uD83C[\uDFFB-\uDFFF]/,s={e29da4:/(\s|^)([0OО]:\))([\s\.,]|$)/g,f09f9887:/(\s|^)(;-\)+)([\s\.,]|$)/g,f09f9889:/(\s|^)([XХxх]-?D)([\s\.,]|$)/g,f09f9886:/(\s|^)(B-\))([\s\.,]|$)/g,f09f988e:/(\s|^)(3-\))([\s\.,]|$)/g,f09f988c:/(\s|^)(&gt;\()([\s\.,]|$)/g,f09f98a0:/(\s|^)(;[oоOО])([\s\.,]|$)/g,f09f98b0:/(\s|^)(8\|)([\s\.,]|$)/g,f09f98b3:/(\s|^)(8-?[oоOО])([\s\.,]|$)/g,f09f98b2:/(\s|^)(8-\))([\s\.,]|$)/g,f09f988d:/(\s|^)(:[XХ])([\s\.,]|$)/g,f09f98b7:/(\s|^)(:[oоOО])([\s\.,]|$)/g,f09f98a8:/(\s|^)(&lt;3)([\s\.,]|$)/g},_={f09f988a:/(:-\))([\s\.,]|$)/g,f09f9883:/(:-D)([\s\.,]|$)/g,f09f989c:/(;-[PР])([\s\.,]|$)/g,f09f988b:/(:-[pр])([\s\.,]|$)/g,f09f9892:/(:-\()([\s\.,]|$)/g,e298ba:/(:-?\])([\s\.,]|$)/g,f09f988f:/(;-\])([\s\.,]|$)/g,f09f9894:/(3-?\()([\s\.,]|$)/g,f09f98a2:/(:&#039;\()([\s\.,]|$)/g,f09f98ad:/(:_\()([\s\.,]|$)/g,f09f98a9:/(:\(\()([\s\.,]|$)/g,f09f9890:/(:\|)([\s\.,]|$)/g,f09f98a1:/(&gt;\(\()([\s\.,]|$)/g,f09f989a:/(:-\*)([\s\.,]|$)/g,f09f9888:/(\}:\))([\s\.,]|$)/g,f09f918d:/(:like:)([\s\.,]|$)/g,f09f918e:/(:dislike:)([\s\.,]|$)/g,e2989d:/(:up:)([\s\.,]|$)/g,e29c8c:/(:v:)([\s\.,]|$)/g,f09f918c:/(:ok:|:ок:)([\s\.,]|$)/g},c={e29da4:[0,"<3"],f09f988a:[1,":-)"],f09f9883:[2,":-D"],f09f9889:[3,";-)"],f09f9886:[4,"xD"],f09f989c:[5,";-P"],f09f988b:[6,":-p"],f09f988d:[7,"8-)"],f09f988e:[8,"B-)"],f09f9892:[9,":-("],f09f988f:[10,";-]"],f09f9894:[11,"3("],f09f98a2:[12,":'("],f09f98ad:[13,":_("],f09f98a9:[14,":(("],f09f98a8:[15,":o"],f09f9890:[16,":|"],f09f988c:[17,"3-)"],f09f98a0:[18,">("],f09f98a1:[19,">(("],f09f9887:[20,"O:)"],f09f98b0:[21,";o"],f09f98b3:[22,"8|"],f09f98b2:[23,"8o"],f09f98b7:[24,":X"],f09f989a:[25,":-*"],f09f9888:[26,"}:)"],f09f918d:[27,":like:"],f09f918e:[28,":dislike:"],e2989d:[29,":up:"],e29c8c:[30,":v:"],f09f918c:[31,":ok:"]}},573859:(e,t,r)=>{"use strict";r.d(t,{emojiReplace:()=>u,emojiToHTML:()=>c,getEmojiHTML:()=>l});var n=r(575753),a=r(613715),s=r(261347),_=r(8520);function c(e,t){if(n.browser.ipad||n.browser.iphone)return e;e=(e+"").replace(/&nbsp;/g," ").replace(/<br>/g,"\n");for(let t=0;t<2;t++)Object.keys(a.EMOJI_PREFIXED_REPLACES).forEach((t=>{e.replace(a.EMOJI_PREFIXED_REPLACES[t],((e,r,n,a)=>(r||"")+l(t)+(a||"")))}));return Object.keys(a.EMOJI_REPLACES).forEach((t=>{e=e.replace(a.EMOJI_REPLACES[t],((e,r,n)=>l(t)+(n||"")))})),e=e.replace(/\n/g,"<br>"),t&&(e=e.replace(/\uFE0F/g,"").replace((0,a.emojiRegex)(),u)),e}function l(e,t,r,a){if(!r&&t)return t;if(a){return`<i class="emoji @${e}" emoji="${e}"${t?` title="${t}"`:""}></i>`}return`<img class="emoji" src="/emoji/e/${e}${window.devicePixelRatio>=2?"_2x":""}.png"${t?` alt="${t}"`:""}${n.browser.msie&&Number(n.browser.version)>8?' contenteditable="false"':""}>`}function u(e){return l((0,s.emojiSymbolToByteHex)(e),(0,_.encodeHTMLEntities)((0,_.escape)(e)),!0)}},261347:(e,t,r)=>{"use strict";r.d(t,{emojiByteHexToSymbol:()=>a.emojiByteHexToSymbol,emojiRemoveSkinToneModifiers:()=>s,emojiSymbolToByteHex:()=>a.emojiSymbolToByteHex});var n=r(613715),a=r(979640);function s(e){return e.replace((0,n.emojiRegex)(),_)}function _(e){return e.replace(n.skinToneModifierRegex,"")}},312641:(e,t,r)=>{"use strict";r.d(t,{MASS_MENTION_ALIASES:()=>a,MASS_MENTION_REGEXP:()=>s,PINNED_CONVERSATION_BIT_MASK:()=>n,VK_OFFICIAL_PEER_ID:()=>_});const n=112,a={all:["all","everyone","все"],online:["online","here","здесь","тут"]},s=new RegExp(['(?!,|;|:|\\.|\\s|<br ?/?>|"|\\(|\\)|\\[|\\]|!|\\?)',"(",[].concat(a.all).concat(a.online).map((e=>`@${e}|\\*${e}`)).join("|"),")",'(?=$|,|;|:|\\.(?![a-z0-9_-])|\\s|<br ?/?>|"|\\(|\\)|\\[|\\]|!|\\?)'].join(""),"gi"),_=-22822305},34231:(e,t,r)=>{"use strict";r.d(t,{checkIfInternal:()=>c,wrapAway:()=>_,wrapAwayIfExternal:()=>s,wrapAwaySafe:()=>l});var n=r(105330);const a=new RegExp(`^(https?:\\/\\/)?([a-z0-9_\\-.]+\\.)?${n.VK_SITE_REGEX_SOURCE_UNSAFE}(\\/.*)?`);function s(e,t=!1){return c(e)?e:_(e,t)}function _(e,t){return"/away.php?to="+encodeURIComponent(decodeURIComponent(e))+(t?"&utf=1":"")}function c(e){const t=decodeURIComponent(e);return/^\/[^/]/.test(t)||a.test(t)}function l(e,t){let r=e;try{r=encodeURIComponent(decodeURIComponent(e))}catch{}return"/away.php?to="+r+(t?"&utf=1":"")}},575753:(e,t,r)=>{"use strict";r.d(t,{browser:()=>l,browserFeatures:()=>p,getBrowserKeyMatch:()=>u,initBrowserUtils:()=>m,mobPlatforms:()=>d,redirectToMVK:()=>E});var n=r(878701),a=r(396858),s=r(6898),_=r(105330);const c=navigator.userAgent.toLowerCase(),l={version:(c.match(/.+(?:me|ox|on|rv|it|era|opr|ie|edge)[\/: ]([\d.]+)/)||[0,"0"])[1],opera:/opera/i.test(c)||/opr/i.test(c),vivaldi:/vivaldi/i.test(c),amigo:/amigo.*mrchrome soc/i.test(c),msie:/msie/i.test(c)&&!/opera/i.test(c)||/trident\//i.test(c)||/edge/i.test(c),msie6:/msie 6/i.test(c)&&!/opera/i.test(c),msie7:/msie 7/i.test(c)&&!/opera/i.test(c),msie8:/msie 8/i.test(c)&&!/opera/i.test(c),msie9:/msie 9/i.test(c)&&!/opera/i.test(c),msie_edge:/edge/i.test(c)&&!/opera/i.test(c),mozilla:/firefox/i.test(c),yabrowser:/yabrowser/i.test(c),whale:/whale/i.test(c),chrome:/chrome/i.test(c)&&!/edge/i.test(c),safari:!/chrome/i.test(c)&&/webkit|safari|khtml/i.test(c),iphone:/iphone/i.test(c),ipod:/ipod/i.test(c),iphone4:/iphone.*OS 4/i.test(c),ipod4:/ipod.*OS 4/i.test(c),ipad:/ipad/i.test(c),ios:/.+(ipod|ipad|iphone.*os)/i.test(c),android:/android/i.test(c),bada:/bada/i.test(c),mobile:/iphone|ipod|ipad|opera mini|opera mobi|iemobile|android/i.test(c),msie_mobile:/iemobile/i.test(c),safari_mobile:/iphone|ipod|ipad/i.test(c),opera_mobile:/opera mini|opera mobi/i.test(c),opera_mini:/opera mini/i.test(c),mac:/mac/i.test(c),windows7:/windows nt 6.1/i.test(c),windowsVista:/windows nt 6.0/i.test(c),windowsXp:/windows nt (5.2|5.1)/i.test(c),search_bot:/(yandex|google|stackrambler|aport|slurp|msnbot|bingbot|twitterbot|ia_archiver|facebookexternalhit)/i.test(c),smart_tv:/smart-tv|smarttv/i.test(c)};function u(){return Object.keys(l).find((e=>!0===l[e]))||null}const d={1:1,2:1,3:1,4:1,5:1,8:1},p=(window,{wheelEvent:"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":l.mozilla?"MozMousePixelScroll":"DOMMouseScroll",hasBoundingClientRect:"getBoundingClientRect"in document.createElement("div"),cmaEnabled:navigator.credentials&&navigator.credentials.preventSilentAccess&&window.vk&&vk.cma});function E(){const[e,t]=location.href.split("?"),r=new URLSearchParams(t),n={};for(let e of r)n[e[0]]=e[1];if(n){if("1"===n.m)return;if(n.force_redirect_to_mvk){delete n.force_redirect_to_mvk;const t=(0,s.toQueryString)(n);return void(window.location=e.replace(_.VK_ORIGIN_REGEX_STRICT,"https://m."+(0,_.getHostName)())+(t?"?"+t:""))}}if(_.VK_URL_REGEX.test(e)&&!new RegExp("^"+_.VK_HOST_REGEX_UNSAFE.source+"\\/@").test(e)){const t=Object.assign(n,{force_redirect_to_mvk:1}),r=e+"?"+(0,s.toQueryString)(t);window.location=r}}function m(){!(0,n.isIPadOS)(l)||window.isMobileLanding||(0,a.getCookie)("remixforce_full")||E(),window._ua||r._dG("_ua",navigator.userAgent.toLowerCase()),window.locDomain||r._dG("locDomain",location.host.toString().match(/[a-zA-Z]+\.[a-zA-Z]+\.?$/)[0]),r._dG("locHost",location.host),r._dG("locProtocol",location.protocol),r._dG("locHash",location.hash.replace("#/","").replace("#!",""))}},898848:(e,t,r)=>{"use strict";r.d(t,{clean:()=>L,each:()=>C,escapeAttr:()=>f,escapeRE:()=>n.escapeRegExp,floatval:()=>P,htsc:()=>A,intval:()=>T,irand:()=>R,isArray:()=>u,isElement:()=>M,isEmpty:()=>p,isFunction:()=>c,isNumeric:()=>E,isObject:()=>d,isRetina:()=>n.isRetina,isString:()=>l,isUndefined:()=>_,locBase:()=>a,positive:()=>b,rand:()=>s,replaceEntities:()=>I,srand:()=>y,stripHTML:()=>g,trim:()=>m,unclean:()=>N,vkImage:()=>D,vkNow:()=>S,winToUtf:()=>O});var n=r(8520);const a=()=>location.toString().replace(/#.+$/,""),s=(e,t)=>Math.random()*(t-e+1)+e,_=e=>void 0===e,c=e=>e&&"[object Function]"===Object.prototype.toString.call(e),l=e=>"string"==typeof e,u=e=>"[object Array]"===Object.prototype.toString.call(e),d=e=>"[object Object]"===Object.prototype.toString.call(e),p=e=>{if(!d(e))return!1;for(let t in e)if(e.hasOwnProperty(t))return!1;return!0},E=e=>!isNaN(parseFloat(e))&&isFinite(e)&&!Array.isArray(e),m=e=>(e||"").replace(/^\s+|\s+$/g,""),g=e=>e?e.replace(/<(?:.|\n|\r|\u2028|\u2029)*?>/g,""):"",A=e=>e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\'/g,"&#39;").replace(/%/g,"&#37;"),f=e=>e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/\'/g,"&#39;"),I=e=>{const t=document.createElement("textarea");return t.innerHTML=(e||"").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),t.value},y=()=>Math.random().toString(36).substr(2),R=(e,t)=>Math.floor(s(e,t));function O(e=""){return String(e).replace(/&#(\d\d+);/g,((e,t)=>(t=parseInt(t))>=32?String.fromCharCode(t):e)).replace(/&quot;/gi,'"').replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/&amp;/gi,"&")}const S=()=>+new Date;function T(e){return!0===e?1:parseInt(e)||0}function P(e){return!0===e?1:parseFloat(e)||0}function b(e){return(e=T(e))<0?0:e}function C(e,t){if(!e)return e;if(d(e)||void 0===e.length){for(let r in e)if(e.hasOwnProperty(r)&&!1===t.call(e[r],r,e[r]))break}else for(let r=0,n=e.length;r<n;r++){const n=e[r];if(!1===t.call(n,r,n))break}return e}const D=()=>window.Image?new Image:document.createElement("img"),M=e=>"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName;function L(e=""){return e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):""}function N(e){return e?I(e.replace(/\t/g,"\n")):e}},506856:(e,t,r)=>{"use strict";r.d(t,{error:()=>c,log:()=>_});var n=r(540462);const a="js_console_logs";function s(){return window.console&&(0,n.partConfigEnabled)(a)}function _(...e){s()&&window.console.log&&window.console.log(...e)}function c(...e){s()&&(window.console.error?window.console.error(...e):_(...e))}},6898:(e,t,r)=>{"use strict";r.r(t),r.d(t,{fromQueryString:()=>u,toQueryString:()=>l});let n={};const a=e=>"function"==typeof e,s=e=>Array.isArray(e),_=function(e){if(n[e])return e;try{return encodeURIComponent(e)}catch(e){return""}},c=function(e){try{return decodeURIComponent(e)}catch(t){return n[e]=1,e}};function l(e,t){const r=[];for(const t in e)if(e.hasOwnProperty(t)&&null!=e[t]&&!a(e[t]))if(s(e[t]))for(let n=0,s=0,c=e[t].length;n<c;++n)null==e[t][n]||a(e[t][n])||(r.push(_(t)+"["+s+"]="+_(e[t][n])),++s);else r.push(_(t)+"="+_(e[t]));return t||r.sort(),r.join("&")}function u(e){if(!e)return{};const t={};e=e.split("&");for(let r=0;r<e.length;r++){const n=e[r].split("=");if(n[0]){const e=c(n[1]+"");if("[]"===n[0].substr(n.length-2)){const r=c(n[0].substr(0,n.length-2));t[r]||(t[r]=[]),t[r].push(e)}else t[c(n[0])]=e}}return t}},396858:(e,t,r)=>{"use strict";r.d(t,{getCookie:()=>c,initCookies:()=>d,setCookie:()=>u});var n=r(540462),a=r(636576),s=r(298077),_=r(575753);function c(e){return function(){r._dG("_cookies",{});const e=document.cookie.split(";"),t=/^[\s]*([^\s]+?)$/i;for(let r=0,n=e.length;r<n;r++){const n=e[r].split("=");2===n.length&&(_cookies[n[0].match(t)[1]]=unescape(n[1].match(t)?n[1].match(t)[1]:""))}}(),"https:"!==location.protocol&&"localhost"!==location.hostname&&(0,a.statlogsValueEvent)("read_unsecure_cookie",e,location.href),_cookies[e]}function l(e,t){const r=(0,n.getCookieGroups)(),a=function(){const e=c("remixcpl");if(!e)return[];const t=e.split(",");return t.forEach(((e,r)=>{t[r]=parseInt(e)})),t}();let _=e,l=null;if(!(0,n.partConfigEnabled)("need_check_allowed_cookie"))return!0;if(!isNaN(parseInt(t))&&parseInt(t)<0)return!0;"remix"===_.substr(0,5)&&(_=_.substr(5)),r.hasOwnProperty(e)?l=parseInt(r[e]):r.hasOwnProperty(_)?l=parseInt(r[_]):"q_"===_.substr(0,2)&&r.hasOwnProperty("q_")&&(l=parseInt(r.q_)),(null===l||isNaN(l))&&(0,s.logError)(`Undefined cookie group for cookie ${e} (${_})`);return 1===l||!(isNaN(l)||!a.includes(l))}function u(e,t,r,a,s="None",c=window.locDomain,u={}){if(!l(e,r))return!1;const d=e+"="+escape(t),p=u.withoutSubdomains?".":"",E="; path=/"+(c?"; domain="+p+c:""),m="https:"===location.protocol;let g=!!a;(0,n.partConfigEnabled)("cookie_secure_default_true")&&(g=!1!==a);const A=m&&g?"; secure":"",f=g&&_.browser.chrome&&parseInt(_.browser.version)>=71&&(0,n.partConfigEnabled)("cookie_class_samesite")?`; SameSite=${s}`:"";let I="";if(r){const e=new Date;e.setTime(e.getTime()+24*r*60*60*1e3),I="; expires="+e.toGMTString()}return document.cookie=d+I+E+f+A,!0}function d(){r._dG("_cookies",{})}},366602:(e,t,r)=>{"use strict";r.d(t,{crc32:()=>a});let n=new Uint32Array(256);for(let e=256;e--;){let t=e;for(let e=8;e--;)t=1&t?3988292384^t>>>1:t>>>1;n[e]=t}function a(e){let t=-1;for(let r=0,a=e.length;r<a;r++)t=t>>>8^n[255&t^e[r]];return~t>>>0}},740342:(e,t,r)=>{"use strict";function n(e,t,r){let n;return function(){const a=arguments,s=r&&!n;clearTimeout(n),n=setTimeout((()=>{n=null,r||e.apply(this,a)}),t),s&&e.apply(this,a)}}r.d(t,{debounce:()=>n})},878701:(e,t,r)=>{"use strict";function n(e=window.browser){return!(!e.mac||e.iphone||e.ipad||e.ipod||!(navigator.maxTouchPoints>1))}r.d(t,{isAutoSchemesSupported:()=>c,isCSSVariablesSupported:()=>_,isDarkTheme:()=>a,isIPadOS:()=>n,isIntersectionObserverSupported:()=>u,isLightTheme:()=>s,isResizeObserverSupported:()=>d,isWebAssemblySupported:()=>p,isWebpSupported:()=>l});const a=()=>Boolean(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches),s=()=>Boolean(window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches),_=()=>Boolean(window.CSS&&CSS.supports&&CSS.supports("color","var(--custom-property)")),c=()=>Boolean(window.matchMedia&&window.matchMedia("(prefers-color-scheme)").matches),l=e=>{const t=new Image;t.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",t.onload=()=>{const r=t.width>0&&t.height>0;e(r)},t.onerror=()=>{e(!1)}},u=()=>"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,d=()=>"ResizeObserver"in window;const p=()=>{try{if("object"==typeof WebAssembly&&"function"==typeof WebAssembly.instantiate){const e=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(e instanceof WebAssembly.Module)return new WebAssembly.Instance(e)instanceof WebAssembly.Instance}}catch(e){}return!1}},825127:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(402210),a=r.n(n);r._dG("EventEmitter",a());const s=a()},556216:(e,t,r)=>{"use strict";r.d(t,{decodeHTMLEntitiesDEPRECATED:()=>s,prepareToWriting:()=>_});var n=r(8520),a=r(573859);function s(e){return(0,n.decodeHTMLEntities)(e)}function _(e){let t=(0,n.decodeHTMLEntities)(e);return t=t.replace(/\n\r/gi,"\n"),t=(0,n.escape)(t),t=(0,a.emojiToHTML)(t,!0),t}},384483:(e,t,r)=>{"use strict";r.d(t,{getReactRootEl:()=>_,getReactRootElId:()=>s,registerReactApplication:()=>c});var n=r(298077),a=r(540462);function s(e){return"react_root"+(e||"")}function _(e){const t="#"+s(e),r=document.querySelector(t);return(0,a.partConfigEnabled)("log_empty_react_root_dom_element")&&!r&&(0,n.logError)(new Error("Can't find React root element"),{breadcrumb:{data:{message:"Try to get React root element",element:t}}}),r}function c(e,t,r=!1){r&&window.applicationInitFunctions[e]||(window.applicationInitFunctions[e]=t);window.reactInitQueue[e]&&window.reactInitQueue[e].length&&(window.reactInitQueue[e].forEach((t=>{window.initReactApplication(e,t)})),window.reactInitQueue[e]=[])}window.applicationInitFunctions||r._dG("applicationInitFunctions",{}),window.reactInitQueue||r._dG("reactInitQueue",{}),r._dG("initReactApplication",(function(e,t){window.applicationInitFunctions[e]?window.applicationInitFunctions[e](t):(window.reactInitQueue[e]||(window.reactInitQueue[e]=[]),window.reactInitQueue[e].push(t))}))},166583:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=r(353440);const a={getConnection:n.getConnection,getConnectionType:n.getConnectionType,getConnectionEffectiveType:n.getConnectionEffectiveType,getConnectionTypeID:n.getConnectionTypeID,getConnectionEffectiveTypeID:n.getConnectionEffectiveTypeID}},42514:(e,t,r)=>{"use strict";function n(e,t){return new Promise((r=>{setTimeout(r.bind(null,t),1e3*e)}))}function a(e,t,r=null){let a=0;return function s(..._){return Promise.resolve().then((()=>e(..._))).catch((e=>{if(a++,a<=t){const e="function"==typeof r?r(a):0;return 0===e?s(..._):n(e).then((()=>s(..._)))}throw e}))}}function s(e,t,r){let n,a;return function(...s){return new Promise(((e,_)=>{const c=r&&!n;clearTimeout(n),a&&a.reject("debounce"),n=setTimeout((function(){n=null,a=null,r||e(s)}),t),c?e(s):r&&_("debounce"),a={resolve:e,reject:_}})).then((t=>e(...t)))}}function _(e,t){let r,n,a;return function(...s){return new Promise(((e,_)=>{const c=Date.now(),l=()=>{e(s),r=c};!r||r+t<c?l():(a&&(a.reject(),clearTimeout(n)),a={resolve:e,reject:_},n=setTimeout(l,t-(c-r)))})).then((t=>e(...t)))}}function c(e,t){let r;const n=new Promise((n=>{r=n,setTimeout(n.bind(null,t),1e3*e)}));return{pause:()=>n,abort(){r(t)}}}r.d(t,{abortablePause:()=>c,debouncedPromise:()=>s,pause:()=>n,retryFn:()=>a,throttledPromise:()=>_})},636576:(e,t,r)=>{"use strict";r.d(t,{statlogsValueEvent:()=>f});var n=r(396858),a=r(105330),s=r(469004),_=r(101272),c=r(540462),l=r(952492),u=r(633550);let d,p,E,m;(0,a.isMvk)()?(d="lock_m_stats_cookie_lock",p="remixmstsl",E="lock_m_stats_cookie_locked_stats",m="remixmsts"):(d="lockkk_stats_cookie_lock",m="remixsts",p="remixstsl",E="lock_stats_cookie_locked_stats");const g=[],A={get stats(){return(s.ls.checkVersion()?JSON.parse(s.ls.get(E)):this._stats)||[]},push(e){const t=this.stats;t.push(...e),s.ls.checkVersion()?s.ls.set(E,JSON.stringify(t)):this._stats=t},clear(){s.ls.checkVersion()?s.ls.remove(E):delete this._stats}};function f(e,t,...r){if(void 0===e||void 0===t)return;if(g.forEach((n=>n(e,t,...r))),(0,c.partConfigEnabled)("local_storage_statlogs_value_event")&&![l.ADBLOCK_CONFIG_KEY,u.WASM_SUPPORT_CONFIG_KEY].includes(e))return void(0,_.saveStatlogEvents)({name:e,value:t,keys:r});const a=[Math.round(Date.now()/1e3),e,t].concat(r);y((()=>{if((0,c.partConfigEnabled)("mvk_stats_cookie_soft_clean_up")){if("1"===(0,n.getCookie)(p))return void A.push([a]);(0,n.setCookie)(p,"1")}I(a)}))}function I(e){let t;try{t=JSON.parse((0,n.getCookie)(m)),t=t.data}catch(e){t=[]}if(t=[...t,...A.stats],e&&t.push(e),0===t.length)return;const r=1000000001*Math.random();let a=t.slice(-100);const s=(0,c.getConfigValue)("statlogs_cookie_size_limit")??3500;let _=0,l=0;for(;_<s&&l<t.length;){const e=t[l],r=(u=JSON.stringify(e),encodeURIComponent(u).length);if(r>=s)t.splice(l,1);else{if(_+r>=s)break;_+=r,l++}}var u;a=t.slice(0,l);const d=t.slice(l);A.clear(),d.length>0&&A.push(d),A.clear(),a.length>0&&((0,c.partConfigEnabled)("statlog_host_domain")?((0,c.partConfigEnabled)("statlogs_clear_all_domains_cookie_MVKC-7414")&&(0,n.setCookie)(m,"",-1),(0,n.setCookie)(m,JSON.stringify({data:a,uniqueId:r}),.01,void 0,void 0,window.location.host,{withoutSubdomains:!0})):((0,c.partConfigEnabled)("statlogs_clear_all_domains_cookie_MVKC-7414")&&(0,n.setCookie)(m,"",-1,void 0,void 0,window.location.host,{withoutSubdomains:!0}),(0,n.setCookie)(m,JSON.stringify({data:a,uniqueId:r}),.01)))}function y(e,t){if(s.ls.checkVersion()){if(!0!==s.ls.get(d)){s.ls.set(d,!0);try{e()}catch(e){}return void s.ls.set(d,!1)}t||setTimeout((()=>y(e,!0)),100)}else e()}(0,c.partConfigEnabled)("mvk_stats_cookie_soft_clean_up")&&(window.addEventListener("beforeunload",(()=>{I(null)})),window.ajax&&window.ajax.onResponse((()=>{I(null)})))},826981:(e,t,r)=>{"use strict";function n(e){if(/^\d+(\.\d+)?$/.test(e))return parseFloat(e);const t="string"==typeof e?e.match(/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/):null;return t?(3600*t[1]||0)+(60*t[2]||0)+(+t[3]||0):0}function a(e){let t="";return e>=3600&&(t+=Math.floor(e/3600)+"h",e%=3600),e>=60&&(t+=Math.floor(e/60)+"m",e%=60),e>0&&(t+=Math.floor(e)+"s"),t}r.d(t,{fromString:()=>n,toString:()=>a})},628459:(e,t,r)=>{"use strict";r.d(t,{DEFAULT_MEDIA_SESSION:()=>_,HAS_MEDIA_SESSION:()=>s,clear:()=>c,updateMediaSessionMetadata:()=>l});var n=r(899841);let a;const s=window&&window.navigator&&"mediaSession"in window.navigator&&"MediaMetadata"in window,_=s?navigator.mediaSession:null;async function c(){if(s){a=a||document.createElement("audio"),a.src=n.SILENCE;try{await a.play()}catch(e){}}}function l(e,t=_){if(!t||!s)return;(location.hostname+e.album).length>30&&(e.album=e.album.substring(0,30-location.hostname.length)+"…");const r=t.metadata;r?(r.title=e.title,r.artist=e.artist,r.album=e.album,r.artwork=e.artwork):t.metadata=new MediaMetadata(e)}},636111:(e,t,r)=>{"use strict";r.d(t,{isAdvertBlocked:()=>a});var n=function(){function e(e,t){var r=document.createElement("div"),n=function(e,t){for(var r,n,a=e.length,s=0;s<t;s++)n=Math.floor(Math.random()*a),r=e[s],e[s]=e[n],e[n]=r;return e.slice(0,t)}(String.fromCharCode(97,100,118,98,108,111,99,107,32,97,100,118,101,114,116,98,108,111,99,107,32,97,100,118,101,114,116,66,108,111,99,107,32,98,45,114,98,32,98,97,110,110,101,114,95,50,52,48,32,112,45,116,97,114,103,101,116,32,112,117,98,95,51,48,48,120,50,53,48,32,112,117,98,95,51,48,48,120,50,53,48,109,32,112,117,98,95,55,50,56,120,57,48,32,114,98,95,98,111,100,121,32,114,98,45,102,108,111,97,116,105,110,103,32,114,98,45,115,108,111,116,32,114,98,45,118,105,100,101,111,45,119,105,100,103,101,116,32,116,101,120,116,45,97,100,32,116,101,120,116,45,97,100,45,108,105,110,107,115,32,116,101,120,116,45,97,100,115,32,116,101,120,116,45,98,97,110,110,101,114,32,116,101,120,116,95,97,100,32,116,101,120,116,95,97,100,115,32,116,101,120,116,65,100,32,116,101,120,116,97,100,32,116,101,120,116,65,100,115,32,116,101,120,116,97,100,115,32,116,103,98,45,98,97,110,110,101,114,32,116,114,103,45,98,45,98,97,110,110,101,114,45,98,108,111,99,107).split(" "),7);r.setAttribute("class",n.join(" ")),r.setAttribute("style","position: absolute !important; top: -9999px !important; left: -9999px !important; width: 1px !important; height: 1px !important;"),r.setAttribute("id","trg-b-banners-1"),r.setAttribute("data-view","SlotView.mimic"),this.bait=document.body.appendChild(r),this.bait.offsetParent,this.bait.offsetHeight,this.bait.offsetLeft,this.bait.offsetTop,this.bait.offsetWidth,this.bait.clientHeight,this.bait.clientWidth,this.loopNumber=0,this.fnPositive=e||null,this.fnNegative=t||null;var a=this;setTimeout((function(){a._checkBait.call(a)}),1)}return e.prototype._checkBait=function(){var e=null!==document.body.getAttribute("abp")||!function(e,t){if(null===e.offsetParent||0==e.offsetHeight||0==e.offsetWidth||0==e.clientHeight||0==e.clientWidth)return!1;if(t&&(0==e.offsetLeft||0==e.offsetTop))return!1;if(void 0!==window.getComputedStyle){var r=window.getComputedStyle(e,null);return"none"!==r.display&&"hidden"!==r.visibility}return!0}(this.bait,!0);if((!0===e||++this.loopNumber>=10)&&this._stop(),e&&this.fnPositive)try{(0,this.fnPositive)()}catch(e){}else if(!e&&this.loopNumber<10){var t=this;setTimeout((function(){t._checkBait.call(t)}),50*this.loopNumber)}else try{(0,this.fnNegative)()}catch(e){}},e.prototype._stop=function(){try{document.body.removeChild(this.bait)}catch(e){}},function(t,r){new e(t,r)}}();function a(){return new Promise(((e,t)=>n(t,e))).then((()=>!1)).catch((()=>!0))}},540462:(e,t,r)=>{"use strict";r.d(t,{GROUP_A:()=>_,GROUP_B:()=>c,GROUP_B1:()=>l,GROUP_B2:()=>u,GROUP_C1:()=>d,GROUP_C2:()=>p,calculateTimeOffsets:()=>f,getConfigValue:()=>m,getCookieGroups:()=>A,getTestGroup:()=>E,isBelongsToTestGroup:()=>g,partConfigEnabled:()=>s,randEnabled:()=>a});var n=r(396858);function a(e){return Math.random()<e}function s(e){const{pe:t={}}=window.vk||{};return!!t[e]}const _=1,c=2,l=3,u=4,d=5,p=6;function E(e){const{ex:t={}}=window.vk||{};return t[e]||null}function m(e){const{cfg:t={}}=window.vk||{};return t[e]}function g(e,t,r=1){if(null===e)return!1;return e>t*r-r&&e<=t*r}function A(){const{acl:e={}}=window.vk||{};return e}function f(){const e=window.vk.ts;if(e&&!window.browser.opera_mobile){const t=new Date;let r=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds())/1e3-e;r-=10800,r/=60,r=r.toFixed(0),r*=60,r<-55800?r+=86400:r>37800&&(r-=86400);let a=0,s=Math.abs(r);[-12,-11,-10,-9.5,-9,-8,-7,-6,-5,-4.5,-4,-3.5,-3,-2,-1,0,1,2,3,3.5,4,4.5,5,5.5,5.75,6,6.5,7,8,8.75,9,9.5,10,10.5,11,12,12.75,13,14].forEach((e=>{const t=Math.round(3600*(e-3)),n=Math.abs(r-t);n<s&&(s=n,a=t)}));const _=(0,n.getCookie)("remixdt");return void 0!==_&&function(e){if(!0===e)return 1;return parseInt(e)||0}(_)===a||(0,n.setCookie)("remixdt",a,365),a}return 0}},581034:(e,t,r)=>{"use strict";r.d(t,{ajax:()=>y,confirm:()=>g,handleSpaMiniAppLayer:()=>O,hideBox:()=>f,isMiniAppLayer:()=>S,lockBoxButton:()=>A,openAppInLayer:()=>R,showErrorBox:()=>I});var n=r(951652),a=r(759339),s=(r(8520),r(973365)),_=r(270959),c=(r(898848),r(246429)),l=r(768602),u=r(593159),d=r(972332),p=r(414623),E=r(539977),m=r(540462);function g(e,t){return new Promise(((r,n)=>{const a={title:e,onHide:n};return new _.MessageBox(a).content(t).setButtons((0,l.getLang)("global_yes"),r,(0,l.getLang)("global_cancel"),n).show()}))}function A(){const e=(0,c.curBox)();if(e){const t=e.btns.ok[0];t&&window.lockButton(t)}}function f(){const e=(0,c.curBox)();e&&e.hide()}function I(e){f(),(0,_.showFastBox)((0,l.getLang)("global_error"),e)}function y(e,t){return new Promise(((r,n)=>{window.ajax.post(e,t,{onDone:(...e)=>{r(...e)},onFail:(...e)=>(n(...e),!0)})}))}function R(e,t,r,n){cur.openerAppsQueue=cur.openerAppsQueue||[],(0,E.getCurrentAppAsync)().then((a=>{let s;cur.openerAppsQueue.push(a);const _=e=>{if(e.keyCode!==d.KEY.ESC)return;t&&t(cur.aid),WkView.hide(!0);const r=s?s-window.history.length-1:-1;window.history.go(r),document.removeEventListener("keydown",_)};n=n||{},(0,p.showWiki)({w:e},null,null,(0,u.extend)(n,{queue:1,onHide:()=>{if(cur.openerAppsQueue.length>0){const e=cur.openerAppsQueue.pop();(0,m.partConfigEnabled)("mini_apps_replace_cur_app_with_get_current_app")||(window.cur.app=e),cur.aid=e.options.aid}t&&t(cur.aid),document.removeEventListener("keydown",_)},noClickHide:r,onLoaded:()=>{t&&(s=window.history.length,document.removeEventListener("keydown",WkView.onKeyDown),document.addEventListener("keydown",_))}}))}))}async function O(e,t){const r=(0,s.ensureDIRootWebContainer)(),{userId:_}=r.resolve(n.AuthService),{onFail:c,onLoaded:l,onHide:u}=t,{appId:d,actorId:p=_}=e;try{const{waitConnect:e}=r.resolve(a.MiniAppLaunchService).openInLayer({appId:d,actorId:p}),t=await e;l&&t?.lifecycle.onMount.add(l),u&&t?.lifecycle.onDestroy.add(u)}catch(e){c?.(e)}}function S(e){return e?.layerParams.appId}},983567:(e,t,r)=>{"use strict";r.d(t,{AUDIO_PLAYER_INITED_EVENT:()=>n,getAudioPlayer:()=>a,getAudioPlayerUI:()=>s});const n="audio_player_inited";function a(){if(!window.ap&&window.AudioPlayer)try{r._dG("ap",new window.AudioPlayer),window.dispatchEvent(new CustomEvent(n))}catch(e){throw console.error(e),e}return window.ap||null}function s(){return r._dG("audioPlayerUI",window.audioPlayerUI||new window.AudioPlayerUI({audioPlayer:a()})),window.audioPlayerUI}},150681:(e,t,r)=>{"use strict";r.d(t,{default:()=>E});var n=r(593159),a=r(672277),s=r(754866),_=r(972332);const c="idle",l="pend_rows",u="pend_prefetch",d="done_prefetch",p="done";class E{getListEl(){return this._containerEl}setListEl(e,t){let r;this._containerEl=(0,s.ge)(e),this._scrollNode=t||E.closestOverflowParent(this._containerEl),r=this._scrollNode===window?0:(0,s.getXY)(this._scrollNode)[1],this._contentYOffset=(0,s.getXY)(this._containerEl)[1]-r}options(e){(0,n.extend)(this._opts,e)}_countRows(e){const t=this;let r=0;return(0,n.each)(e,(function(e,a){"string"==typeof a&&(a=(0,s.se)(a)),t._rowClasses?(0,n.each)(t._rowClasses,(function(e,t){if((0,s.hasClass)(a,t))return r++,!1})):r++})),r}_drawRows(e){const t=this;this._opts.drawRows?this._opts.drawRows(t._containerEl,e):(0,n.each)(e,(function(e,r){"string"==typeof r&&(r=(0,s.se)((0,n.trim)(r))),r&&t._containerEl.appendChild(r)})),this.toggleProgress(this._state!==p),!this._forceDrawCalled&&this._opts.onRendered&&this._opts.onRendered(this._offset)}toggleProgress(e){e?!this._isProgressShown&&this._opts.showProgress&&this._opts.showProgress():this._isProgressShown&&this._opts.hideProgress&&this._opts.hideProgress(),this._isProgressShown=e}drawMore(){(0,n.inArray)(this._state,[c,d])?(this._forceDrawCalled=!0,this._drawRows(this._prefetched),this._setState(u),this._prefetched=[],this._requestRows(),this._forceDrawCalled=!1):this._state===p&&this._opts.onNoMore&&this._opts.onNoMore(this._containerEl.childElementCount)}destroy(){this._ev_scroll&&((0,_.removeEvent)(this._scrollNode,"scroll",this._ev_scroll),this._ev_scroll=!1),this._ev_window_resize&&(0,_.removeEvent)(window,"resize",this._ev_window_resize),this._setState(p),this.toggleProgress(!1)}getOffset(){return this._offset}_requestRows(){if(!this.isDone()&&this._state!==d){function e(){this._opts.onNeedRows(this._onRowsProvided.bind(this),this._offset,this._page++,this._state===u,this)}this._initialRender=!1,e.apply(this)}}_onRowsProvided(e,t){if(this.isDone())return;if(!1===e)return this._requestRows();e=e||[];let r=!1;this._needUseExternalOffset?(this._offset=t??0,r=Boolean(t)):(this._offset+=void 0===t?this._countRows(e):t,r=Boolean(e.length));const n=this._containerEl.childElementCount;switch(this._state){case u:0!==e.length&&(this._prefetched=this._prefetched.concat(e)),r?(this._setState(c),this._opts.onHasMore&&this._opts.onHasMore()):(this._setState(d),this._opts.onNoMore&&this._opts.onNoMore(n),0===this._prefetched.length&&this._setState(p)),(r||0!==this._prefetched.length)&&this._onScroll();break;case l:this._drawRows(e),r?(this._setState(u),this._requestRows()):(this._setState(p),this._opts.onNoMore&&this._opts.onNoMore(n)),this.toggleProgress(!1);break;case c:this._prefetched=this._prefetched.concat(e)}}_setState(e){this._state=e}isDone(){return this._state===p}static closestOverflowParent(e){let t,r=e;for(;r&&r.tagName&&(t=(0,s.getStyle)(r,"overflow"),"visible"===t||"page_wrap"===r.id);)r=(0,s.domPN)(r);return r!==window.document&&r!==document.body&&r||(r=window),r}_onScroll(){if(this._forceDrawCalled)return;if(this._state===l)return;const e=this._scrollNode;let t,r,n;e===window?(n=Math.max(document.documentElement.clientHeight,window.innerHeight||0),t=(0,a.scrollGetY)()):(n=(0,s.getSize)(e)[1],t=this._scroll?this._scroll.data.scrollTop:e.scrollTop),n<10||(r=this._containerEl.scrollHeight,r-n-t+this._contentYOffset<10&&(this._state===l||!this._prefetched.length&&this._state===u?(this.toggleProgress(!0),this._setState(l)):this._state===u||this._state===c?(this._drawRows(this._prefetched),this._prefetched=[],this._setState(u),this._requestRows()):this._state===d&&(this._drawRows(this._prefetched),this._prefetched=[],this._setState(p),this._opts.onNoMore&&this._opts.onNoMore(),this.destroy())))}constructor(e,t){if(this.constructor!==E)throw new Error("AutoList: AutoList was called without 'new' operator");if(E._counter=E._counter||0,this._id=E._counter++,this.setListEl(e,t.scrollNode),this._opts=(0,n.extend)({threshold:0,renderImmediate:!1,fetchImmediate:!0},t),!this._containerEl)throw new Error("AutoList: container not found");this._rowClasses=!!this._opts.rowClass&&this._opts.rowClass.split(" "),delete this._opts.rowClass,this._initialRender=this._opts.renderImmediate,this._needUseExternalOffset=this._opts.needUseExternalOffset??!1,this._isProgressShown=!1,this._prefetched=[],this._needUseExternalOffset?this._offset=this._opts.offset??0:this._initialRender?this._offset=0:this._opts.offset?this._offset=this._opts.offset:this._opts.rowClasses?this._offset=this._countRows(this._containerEl.children):this._offset=this._containerEl.children.length,this._page=this._offset>0?1:0,(0,_.addEvent)(this._scrollNode,"scroll",this._ev_scroll=this._onScroll.bind(this)),(0,_.addEvent)(window,"resize",this._ev_window_resize=this._onScroll.bind(this)),this._setState(this._opts.renderImmediate?l:u),this._opts.fetchImmediate?this._requestRows():(this._setState(c),this._onScroll())}}},131455:(e,t,r)=>{"use strict";r.d(t,{initSw:()=>_,onSwReady:()=>a});const n=(0,r(558137).makeSharedState)("sw-loading-state",(()=>({isReady:!1,onReadyCallbacks:[]})),{version:1}),a=e=>{n().isReady?e():n().onReadyCallbacks.push(e)},s=()=>{n().isReady=!0;for(let e of n().onReadyCallbacks)e();n().onReadyCallbacks=[]};async function _(){if(!window.vk.disableSW)try{const[{SWClient:e},{default:t}]=await Promise.all([Promise.all([r.e(8716),r.e("langs/web/webSwClient")]).then(r.bind(r,510486)),Promise.all([r.e(41837),r.e("langs/web/webPushNotifier")]).then(r.bind(r,419970))]);r._dG("sw",new e),await window.sw.register(),r._dG("pushNotifier",new t(window.sw,e)),window.sw.storePushHash(),s()}catch(e){console.log(e)}}},146175:(e,t,r)=>{"use strict";r.d(t,{PIN_HIDDEN_ID_OP:()=>l,RECENT_SEARCH_OP:()=>c,imDbGet:()=>d,mount:()=>m});var n=r(740342),a=r(898848),s=r(636576),_=r(593159);const c="recent_search",l="pin_hide";function u(e){return"im_store_"+e}function d(e){return ls.get(u(e))||{}}function p(e,t,r){if(ls.checkVersion()){const n=JSON.stringify(t);(0,a.rand)(0,1e5)<=1&&(0,s.statlogsValueEvent)("im_local_store_size",n.length),r(u(e),n)}}function E(e,t,r){r.key===u(e)&&(t.db=JSON.parse(r.newValue),t.checkTime=Date.now())}function m(e){const t=(0,n.debounce)(((e,t)=>{localStorage.setItem(e,t)}),300);ls.checkVersion()&&function(e,t){const r=["fwd","draft","bind_attach"],n=d(e);let a=!1;for(let e=r.length;e--;)r[e]in n&&(delete n[r[e]],a=!0);a&&p(e,n,t)}(e,t);const r={db:d(e),checkTime:Date.now()},a=E.bind(null,e,r);return window.addEventListener("storage",a,!1),{select:(t,n)=>(Date.now()-r.checkTime>1e3&&(r.db=d(e)),function(e,t,r){return t===c?e[t]||[]:t===l?e[t]&&e[t][r]:e[t]?(0,_.extend)(!0,{},e[t][r]):null}(r.db,t,n)),selectByKey:t=>(Date.now()-r.checkTime>1e3&&(r.db=d(e)),r.db[t]),update(n,a){const s=function(e,t,r){switch(e[t]||(e[t]={}),t){case c:const n=r;n&&n.length>0?e[t]=n:delete e[t];break;case l:const[a,s]=r;s?e[t][a]=+s:delete e[t][a]}return e}(r.db,n,a);return r.db=s,r.checkTime=Date.now(),p(e,s,t)},updateByKey:(n,a)=>(r.db[n]=a,r.checkTime=Date.now(),p(e,r.db,t)),unmount(){window.removeEventListener("storage",a,!1)}}}},196829:(e,t,r)=>{"use strict";r.d(t,{Gifts:()=>A});var n=r(683234),a=r(866467),s=r(270959),_=r(972332),c=r(593159),l=r(246429),u=r(754866),d=r(584427),p=r(664822),E=r(801746),m=r(985737),g=r(120101);const A={deleteGift:function(e,t,r,n={}){window.ajax.post("al_gifts.php",{act:"delete",mid:n.mid,gift:r,hash:n.hash},{onDone:function(e){const r=(0,u.ge)("gift"+t);r&&((0,u.domNS)((0,u.domFC)(r))?(0,u.domNS)((0,u.domFC)(r)).innerHTML=e:(r.appendChild((0,u.ce)("div",{className:"gift_deleted",innerHTML:e})),(0,u.hide)((0,u.domFC)(r)),window.Pagination&&!(0,l.curBox)()&&window.Pagination.recache(-1)),(0,g.isVKCOMProfileRedesignedEnabled)()&&"profile"===window.cur.module&&window.Profile?.updateGiftBlock())},showProgress:()=>{e.classList.add("gift_delete--loading"),e.innerHTML="",e.appendChild((0,u.ce)("div",{className:"gift_delete__spinner",innerHTML:(0,E.getIcon16Spinner)().icon}))},hideProgress:()=>{e.classList.remove("gift_delete--loading"),e.innerHTML=(0,m.getIcon16Cancel)().icon}})},restoreGift:function(e,t,r,n){n=n||{},ajax.post("al_gifts.php",{act:"restore",mid:n.mid,gift:r,hash:n.hash},{onDone:function(){const e=(0,u.ge)("gift"+t);e&&(0,u.domNS)((0,u.domFC)(e))&&((0,u.re)((0,u.domNS)((0,u.domFC)(e))),(0,u.show)((0,u.domFC)(e)),(0,g.isVKCOMProfileRedesignedEnabled)()&&"profile"===window.cur.module&&window.Profile?.updateGiftBlockAfterRestore())}})},markSpamGift:function(e,t,r,n){n=n||{},ajax.post("al_gifts.php",{act:"mark_spam",mid:n.mid,gift:r,hash:n.hash},{onDone:function(e){(0,u.ge)("gift_mark_spam"+t).innerHTML=e}})},initGiftsBox:function(e,t){e.setOptions({width:638,bodyStyle:"padding: 0",grey:!0,hideButtons:!0,onShow:function(){cur.gftbxWasScroll&&(boxLayerWrap.scrollTop=cur.gftbxWasScroll,cur.gftbxWasScroll=!1)}}),t.lang&&(cur.lang=(0,c.extend)(cur.lang||{},t.lang)),(0,c.extend)(cur,{gftbxOffset:t.offset,gftbxAutoload:!0,gftbxWasScroll:!1,gftbxMid:t.mid}),ajax.preload("al_gifts.php",{act:"box",mid:t.mid,offset:t.offset},t.preload),window.uiScrollBox&&window.uiScrollBox.init(e,{onShow:function(){(0,_.addEvent)(boxLayerWrap,"scroll",A.onGiftsScroll),setTimeout(cur.chooseAudioScroll,0)},onHide:function(){(0,_.removeEvent)(boxLayerWrap,"scroll",A.onGiftsScroll)}}),(0,_.addEvent)(boxLayerWrap,"scroll",A.onGiftsScroll);const r=boxLayerWrap.scrollTop;(0,u.elfocus)((0,u.geByClass1)("_scroll_node",e.bodyNode)),boxLayerWrap.scrollTop=r,onBodyResize(),A.onGiftsScroll()},moreGifts:function(){const e=(0,u.ge)("gifts_more_link");(0,n.buttonLocked)(e)||(ajax.post("al_gifts.php",{act:"box",mid:cur.gftbxMid,offset:cur.gftbxOffset},{onDone:function(t,r,n){const a=(0,u.ce)("div",{innerHTML:t}),s=(0,u.ge)("gifts_rows");if(s){for(let e=(0,u.domFC)(a);e;e=(0,u.domFC)(a))s.appendChild(e);cur.gftbxOffset=r,n?A.preloadGifts():(0,u.hide)(e)}},showProgress:n.lockButton.pbind(e),hideProgress:n.unlockButton.pbind(e),cache:1}),cur.gftbxAutoload=!0)},preloadGifts:function(){ajax.post("al_gifts.php",{act:"box",mid:cur.gftbxMid,offset:cur.gftbxOffset},{cache:1})},onGiftsScroll:function(){if(!cur.gftbxAutoload)return;const e=lastWindowHeight,t=(0,u.ge)("gifts_more_link");(0,u.isVisible)(t)&&e>(0,u.getXY)(t,!0)[1]&&t.click()},showGiftBox:function(e,t,r){return window.Profile?window.Profile.showGiftBox(e,t,r):(cur.gftbxWasScroll=boxLayerWrap.scrollTop,boxLayerWrap.scrollTop=0,cur.viewAsBox?cur.viewAsBox():!(0,s.showBox)("al_gifts.php",{act:"get_gift_box",mid:e,fr:e==vk.id?1:0,ref:r},{stat:["gifts.css",window.jsc("web/wide_dd.js"),"wide_dd.css"],cache:1},t))},processBoxOptions(e,t){-1e3!=t&&t&&(requestAnimationFrame((()=>{(0,l.hideBoxLoader)()})),(0,c.extend)(cur,{paymentsOfferPreview:t.paymentsOfferPreview,paymentsPreload:t.paymentsPreload,paymentsAppOrder:t.paymentsAppOrder,paymentsOfferPreload:t.paymentsOfferPreload}),t.orderData&&p.AppOrderBox.initialize(t.orderData.orderId,t.orderData.appId,t.orderData.testMode,t.orderData.hash,t.orderData.votes,t.orderData.discount,t.orderData.billPeriod),(0,c.extend)(cur,{paymentsAuthPayment:t.paymentsAuthPayment,paymentsOrderNotice:t.paymentsOrderNotice,paymentsTryCompleteOrder:t.paymentsTryCompleteOrder,isPaymentsAppOrder:t.isPaymentsAppOrder,paymentsOfferApp:t.paymentsOfferApp,checkoutEnabled:t.checkoutEnabled}),t.showProgress&&d.PaymentsBox.showProgress(""),(0,c.extend)(cur,{votesAmountsData:t.votesAmountsData,paymentsPreferVotes:t.paymentsPreferVotes,votesTypeInit:t.votesTypeInit,psList:t.psList,paymentsWideBox:t.paymentsWideBox,paymentsTooltips:t.paymentsTooltips,paymentsChangeType:0===t.paymentsWideBox?(0,a.getLang)("payments_go_change_pay_type"):"",payments_get_votes:(0,a.getLang)("payments_get_votes_new"),getVotesDoneHide:!0,paymentsWaitingCache:{},isPaymentComplete:!1,isPaymentAttemted:!1,usdRate:t.usdRate,paymentsHash:t.paymentsHash,paymentComplete:d.PaymentsBox.complete,paymentCanceled:d.PaymentsBox.paymentCanceled,paymentsShowProgress:d.PaymentsBox.showProgress,statSessionId:t.statSessionId,foreignCardPaymentOption:t.foreignCardPaymentOption}),d.PaymentsBox.initialize(e),cur.checkoutEnabled||(d.PaymentsBox.initPhoneCountry(t.countries,t.country),d.PaymentsBox.initPhoneNumber((0,u.ge)("phone"))),(0,c.extend)(cur,{paymentsTypesSum:t.paymentsTypesSum,instantNeedCVV:t.instantNeedCVV,votesType:t.votesType,paymentsWPreload:t.paymentsWPreload,isMidas:t.isMidas,isHideButtonBackAndText:t.isHideButtonBackAndText}),t.getVotesAmountsOnDone&&d.PaymentsBox.getVotesAmountsOnDone.apply(this,cur.paymentsWPreload))},showGetMoneyBox(e=null){return(0,s.showBox)("al_gifts.php",{act:"get_money",...e},{onDone:this.processBoxOptions})}}},542789:(e,t,r)=>{"use strict";r.d(t,{vkIndexer:()=>a});var n=r(898848);function a(e,t,r,n){this.list=e,this.iterCur=0,this.iterEnd=e?e.length:0,this.index={},this.callback=r||function(){},this.prepareFunc=t||function(e){return e},this.additionalFiltrationField=n,setTimeout(this.indexIteration.bind(this),10)}a.prototype.delimiter=a.delimiter=new RegExp("[\\s\\-\\.,\\\"\\'\\«\\(\\)\\[\\]\\{\\}\\#\\+\\?\\\\]+","g"),a.prototype.trimmer=new RegExp("^[\\s\\-\\.,\\\"\\'\\«\\(\\)\\[\\]\\{\\}\\+\\?\\\\]+|[\\s\\-,\\\"\\'\\«\\(\\)\\[\\]\\{\\}\\\\]+$","g"),a.prototype.toTranslit={1072:"a",1073:"b",1074:"v",1075:"g",1076:"d",1077:"e",1078:"zh",1079:"z",1080:"i",1081:"y",1082:"k",1083:"l",1084:"m",1085:"n",1086:"o",1087:"p",1088:"r",1089:"s",1090:"t",1091:"u",1092:"f",1093:"h",1094:"ts",1095:"ch",1096:"sh",1097:"sh",1099:"y",1101:"e",1102:"yu",1103:"ya",1105:"e",1098:"",1100:""},a.prototype.toLocalCase={f:"a",",":"b","<":"b",d:"v",u:"g",l:"d",t:"e",";":"zh",":":"zh",p:"z",b:"i",q:"y",r:"k",k:"l",v:"m",y:"n",j:"o",g:"p",h:"r",c:"s",n:"t",e:"u",a:"f","[":"h","{":"kh",w:"ts",x:"ch",i:"sh",o:"sh",s:"y","'":"e",'"':"e",".":"yu",">":"yu",z:"ya","`":"e","~":"e",m:"","]":"","}":""},a.prototype.toLocalTranslit={1072:"f",1074:"d",1075:"u",1076:"l",1077:"t",1079:"p",1080:"b",1081:"q",1082:"r",1083:"k",1084:"v",1085:"y",1086:"j",1087:"g",1088:"h",1089:"c",1090:"n",1091:"e",1092:"a",1094:"w",1095:"x",1096:"i",1097:"o",1099:"s",1103:"z",1098:"m"},a.prototype.indexIteration=function(){let e=Math.min(this.iterEnd,this.iterCur+200),t=this.iterCur;for(;t<e;t++){let e=this.list[t];try{e._order=t}catch(e){}this.add(e)}this.iterCur=t,t>=this.iterEnd?this.callback(this):setTimeout(this.indexIteration.bind(this),10)},a.prototype.strToPrefixes=function(e){let t={},r=(0,n.winToUtf)(e).toLowerCase().split(this.delimiter),a=r.length;for(;a--;){let e=r[a],n="";if(e){for(let t=0;t<6;t++){let r=e.charCodeAt(t);if(r){let a=this.toTranslit[r],s=e.substr(t,1);n+=null!=a?a:s}}t[n]=1}}return t},a.prototype.strToSearchPrefixes=function(e){let t=[],r=e.toLowerCase().split(this.delimiter),n=r.length;for(;n--;){let e={},a=r[n],s="",_="",c="",l=a.length>1;if(a){for(let e=0;e<6;e++){let t=a.charCodeAt(e);if(t){let r=this.toTranslit[t],n=a.substr(e,1);if(s+=null!=r?r:n,l){let e=this.toLocalCase[n],r=this.toLocalTranslit[t];_+=null!=e?e:n,c+=null!=r?r:n}}}e[s]=1,l&&(e[_]=2,e[c]=3),t.push(e)}}return t},a.prototype.toIndexTree=function(e,t){let r=this.index;for(let t=0;t<6;t++){let n=e.substr(t,1)||-1;r=r[n]?r[n]:r[n]=5==t?[]:{}}r.push(t)},a.prototype.remove=function(e){let t=this.prepareFunc(e),r=this.strToPrefixes(t);for(let t in r)if(r.hasOwnProperty(t)){let r=this.index;for(let e=0;e<6;e++){let n=t.substr(e,1)||-1;if(!r[n])break;r=r[n]}if(r.length)for(let t in r)if(this.equals(r[t],e)){r.splice(t,1);break}}},a.prototype.equals=function(e,t){for(let r in e)if(e.hasOwnProperty(r))switch(typeof e[r]){case"object":if(!this.equals(e[r],t[r]))return!1;break;case"function":if(void 0===e[r]||e[r].toString()!=t[r].toString())return!1;break;default:if(e[r]!=t[r])return!1}for(let e in t)if(void 0===t[e])return!1;return!0},a.prototype.intersect=function(e,t){let r=[];if((0,n.isNumeric)(e[0])||(0,n.isNumeric)(t[0]))return e.filter((function(e){return-1!==t.indexOf(e)}));for(;e.length>0&&t.length>0;)e[0]._order<t[0]._order?e.shift():(e[0]._order>t[0]._order||this.equals(e[0],t[0])&&r.push(e.shift()),t.shift());return r},a.prototype.add=function(e){let t=this.prepareFunc(e),r=this.strToPrefixes(t);for(let t in r)r.hasOwnProperty(t)&&this.toIndexTree(t,e)},a.prototype.search=function(e){let t=this.index,r=this.strToSearchPrefixes(e),n=[],a=!1;for(let s in r)if(r.hasOwnProperty(s)){if(a&&!n)break;let _=this.localSearch(r[s],0,t);_.sort((function(e,t){return e._order-t._order})),this.additionalFiltrationField&&e.length>6&&(_=_.filter((t=>t[this.additionalFiltrationField].startsWith(e)))),n=a?this.intersect(n,_):_,a=!0}let s=n[0],_=n.length+1,c=[];for(let e=1;e<_;e++){let t=n[e];t!=s&&(c.push(s),s=t)}return c},a.prototype.localSearch=function(e,t,r){if(!r)return[];let n={};for(let r in e)if(e.hasOwnProperty(r)){const e=r.substr(t,1)||-1;n[e]||(n[e]={}),n[e][r]=1}if(6==t++||!r)return r;let a=[];for(let e in n)if(-1==e)for(let s in r)r.hasOwnProperty(s)&&a.push.apply(a,this.localSearch(n[e],t,r[s]));else{let s=this.localSearch(n[e],t,r[e]);a.push.apply(a,s)}return a}},576854:(e,t,r)=>{"use strict";r.d(t,{hasAccessibilityMode:()=>u,makeInteractiveMVKA11yProposal:()=>g,updateAriaCheckboxes:()=>p,updateAriaElements:()=>m,updateOnlineText:()=>d});var n=r(683234),a=r(593159),s=r(754866),_=r(102088),c=r(575753),l=r(636576);function u(){return!(!window.vk||!vk.a11y)}function d(){clearTimeout(cur.updateOnlineTO),cur.updateOnlineTO=setTimeout((function(){(0,a.each)((0,s.geByClass)("_online"),(function(){const e=(0,s.geByClass1)("_online_reader",this)||this,t=(0,s.hasClass)(this,"online"),r=(0,s.hasClass)(this,"mobile"),n=(0,s.geByTag)("img",e),c=function(e){const t=(0,s.domClosest)("_post",e),r=t&&(0,s.domByClass)(t,"author");return r?r.innerText||r.textContent:""};if(t){let t="";(0,a.each)(n,(function(){const e=(0,s.attr)(this,"alt")||(0,s.attr)(this,"data-alt")||c(this);e&&(t=(0,a.trim)(t+" "+e),this.setAttribute("data-alt",e),this.removeAttribute("alt"))})),t=(0,a.trim)(t+" "+(r?(0,_.getLang)("global_user_is_online_mobile"):(0,_.getLang)("global_user_is_online"))),e.setAttribute("aria-label",t)}else(0,a.each)(n,(function(){const e=(0,s.attr)(this,"data-alt")||c(this);e&&(this.setAttribute("alt",e),this.removeAttribute("data-alt"))})),e.removeAttribute("aria-label")}))}),100)}function p(){clearTimeout(cur.updateChkBoxTO),cur.updateChkBoxTO=setTimeout((function(){let e=[];(0,a.each)(["checkbox","checkbox_pic"],(function(){e=e.concat((0,s.geByClass)(this))})),(0,a.each)(e,(function(){"DIV"!==this.tagName||this.getAttribute("role")||(this.setAttribute("role","checkbox"),this.setAttribute("aria-checked",(0,n.isChecked)(this)?"true":"false"),this.setAttribute("tabindex",0))}))}),100)}function E(){clearTimeout(cur.updateRadioBtnsTO),cur.updateRadioBtnsTO=setTimeout((function(){const e=[];let t=(0,s.geByClass)("radiobtn");(0,a.each)(t,(function(){if("DIV"===this.tagName&&!this.getAttribute("role")){const t=(0,n.isChecked)(this);this.setAttribute("role","radio"),this.setAttribute("aria-checked",t?"true":"false"),this.setAttribute("tabindex",t?0:-1);const r=function(e){const t=5;let r=0,n=e;for(;r<t&&n!==document;){n=(0,s.domPN)(n);if((0,s.geByClass)("radiobtn",n).length>1)break;r++}return n}(this);~e.indexOf(r)||e.push(r)}})),(0,a.each)(e,(function(){if(!(0,s.geByClass)("on",this).length){const e=(0,s.geByClass)("radiobtn",this);e.length&&e[0].setAttribute("tabindex",0)}}))}),100)}function m(){d(),p(),E()}function g(){const e=document.getElementById("a11y_mvk_proposal");e&&e.getAttribute("aria-label")&&!e.getAttribute("role")&&(e.setAttribute("role","link"),e.style.display="block",e.classList.add("visually-hidden"),e.addEventListener("click",(e=>{(0,l.statlogsValueEvent)("accessibility","is_mvk_proposal_clicked",cur?.module),setTimeout((()=>{(0,c.redirectToMVK)()}),100)}),{passive:!0}))}},956460:(e,t,r)=>{"use strict";r.d(t,{__adsUpdate:()=>p,initAds:()=>g,updSeenAdsInfo:()=>u});var n=r(396858),a=r(593159),s=r(754866),_=r(707491),c=r(540462),l=r(962724);function u(){let e="ads_left";if((0,c.partConfigEnabled)("tgb_adblock_protection")){e=l.Locator.getInstance().lookupId("ads_left")}if(!((0,s.getXY)(e,!0)||{})[1]||!vk.id)return;const t=(0,_.getLeftMenuHeight)(),u=Math.max(Math.floor(((window.lastWindowHeight||0)-t-42-10)/260),0),d=(0,n.getCookie)("remixseenads");r._dG("__seenAds",(0,a.intval)(d)),d&&__seenAds===u||(r._dG("__seenAds",u),(0,n.setCookie)("remixseenads",u,30))}function d(e,t){if(window.noAdsAtAll&&!(0,c.partConfigEnabled)("tgb_adblock_protection"))return!1;let r;return d=function(){return window.AdsLight&&AdsLight.getAjaxParams.apply(AdsLight.getAjaxParams,arguments)||{al_ad:null}},window.AdsLight?r=d(e,t):(r={al_ad:null},window.stManager.add([window.jsc("web/ads_light.js")],d.pbind(e,t))),r}function p(e){if(window.noAdsAtAll&&!(0,c.partConfigEnabled)("tgb_adblock_protection"))return!1;p=function(){window.AdsLight&&AdsLight.updateBlock.apply(AdsLight.updateBlock,arguments)},window.stManager.add([window.jsc("web/ads_light.js")],p.pbind(e))}function E(e,t,r,n,a,s){if(window.noAdsAtAll&&!(0,c.partConfigEnabled)("tgb_adblock_protection"))return!1;E=function(){let e="";arguments&&arguments[0]&&(e=arguments[0]),"\x3c!--criteo"===e.slice(0,10)&&Math.random()<.05&&(window.AdsLight&&AdsLight.setNewBlock?ajax.post("/wkview.php?act=mlet&mt=750",{},{onFail:()=>!0}):ajax.post("/wkview.php?act=mlet&mt=751",{},{onFail:()=>!0})),window.AdsLight&&AdsLight.setNewBlock.apply(AdsLight.setNewBlock,arguments)},window.stManager.add([window.jsc("web/ads_light.js")],E.pbind(e,t,r,n,a,s))}function m(e){if(window.noAdsAtAll&&!(0,c.partConfigEnabled)("tgb_adblock_protection"))return!1;m=function(){window.AdsLight&&AdsLight.updateExternalStats.apply(AdsLight.updateExternalStats,arguments)},window.stManager.add([window.jsc("web/ads_light.js")],m.pbind(e))}function g(){r._dG("__seenAds",(0,a.intval)((0,n.getCookie)("remixseenads"))),r._dG("__adsUpdate",p),r._dG("__adsSet",E),r._dG("__adsGetAjaxParams",d),r._dG("__adsUpdateExternalStats",m)}r._dG("__adsLoaded",(0,a.vkNow)())},784099:(e,t,r)=>{"use strict";r.d(t,{AjaxCacheClient:()=>s});var n=r(593159),a=r(6898);class s{static getInstance(e,t){const r=s.makeCacheKey(e,t);return s._instances[r]||(s._instances[r]=new s(r)),s._instances[r]}getFromCache(e,t,{cacheLevel:r=0,forceGlobalCache:a=!1,onAnswerProcessed:s=()=>{}}){if(r>0||a){let _=window.ajaxCache[this._cacheKey];if(_&&_._loading)return _._callbacks.push(e),!1;if(_&&!a)return e(0,_),3===r&&delete window.ajaxCache[this._cacheKey],!1;if(_=window.globalAjaxCache[this._cacheKey],_)return-1===_||(0,n.isFunction)(_)?window.globalAjaxCache[this._cacheKey]=t:t.apply(window,_),s&&s(),!1}return window.ajaxCache[this._cacheKey]={_loading:1,_callbacks:[]},!0}processExistingCache(e,t){const r=window.ajaxCache[this._cacheKey];r&&r._loading&&(setTimeout((function(){for(const n in r._callbacks)r._callbacks.hasOwnProperty(n)&&r._callbacks[n](e,t)}),0),delete window.ajaxCache[this._cacheKey])}cacheResponse(e){window.ajaxCache[this._cacheKey]=e}static ensureCachesInitialized(){window.ajaxCache||r._dG("ajaxCache",{}),window.globalAjaxCache||r._dG("globalAjaxCache",{})}static makeCacheKey(e,t){const r={...t};return["al","al_ad","ads_section","ads_showed","captcha_sid","captcha_key","_smt","_preload"].forEach((e=>delete r[e])),e+"#"+(0,a.toQueryString)(r)}static preload(e,t,r){s.ensureCachesInitialized(),e&&"/"!==e.substr(0,1)&&(e="/"+e),window.ajaxCache[s.makeCacheKey(e,t)]=r}static invalidate(e,t){s.ensureCachesInitialized(),void 0===e?r._dG("ajaxCache",{}):delete window.ajaxCache[s.makeCacheKey(e,t)]}static invalidateFor(e){Object.keys(window.ajaxCache).forEach((t=>{e(t)&&delete window.ajaxCache[t]}))}constructor(e){s.ensureCachesInitialized(),this._cacheKey=e}}s._instances={}},792238:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{FrameTransport:()=>FrameTransport,_debugLogger:()=>_debugLogger});var _shared_lib_convert__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6898),_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(593159),_web_lib_ui_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(560377),_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(237625),_web_lib_ajax_module_callback__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(287227),_web_lib_dom__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(754866),_shared_lib_site__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(105330),_shared_user_user_env__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(540462),_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(636576),_vkontakte_internal_utils__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(558137);const _queueStartMarker={type:"start"},_queueEndMarker={type:"end"};function isAllowedOrigin(e){if(!(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_7__.partConfigEnabled)("fix_frame_transport_xss"))return!0;const t=((0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_7__.getConfigValue)("vk_origin_frame_blacklist")??[]).every((t=>!e.includes(t)));return!t&&(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_7__.partConfigEnabled)("log_skipped_vk_origin_by_frame")&&(0,_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_8__.statlogsValueEvent)("skipped_vk_origin_by_frame",window.vk?.id??0,e,window.cur?.aid??0),t}function _debugLogger(){if(!(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_7__.partConfigEnabled)("extended_ajax_logging"))return;let e;try{throw new Error}catch(t){e=t.stack}let t="+ Frame transport: "+arguments[0];console.groupCollapsed(t),[].slice.call(arguments,1).forEach((e=>console.log(JSON.stringify(e)))),console.log(e),console.groupEnd()}class FrameTransport{setHandlers(e=()=>{},t=()=>{},r=()=>{}){this._onEnd=e,this._onModuleEvaluated=t,this._debug=r}setInlineHandler(e){this.execInline=e}run(e,t=()=>{}){return this._debug("Run ",e,this.frameDataQueue),this.frameUrl=e,this.onReady=t,this.fulfilled=!1,this.queueReady=!1,this.frameDataQueue=[_queueStartMarker],clearTimeout(this.frameTimeout),this.frameTimeout=!1,this.frame&&this._cleanup(),this.frame=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_5__.ce)("div",{innerHTML:"<iframe></iframe>"}),utilsNode.appendChild(this.frame),this.frame.firstChild.src=this.frameUrl,this}onWindowMessage(e){const t=!("isTrusted"in e)||e.isTrusted;if(!_shared_lib_site__WEBPACK_IMPORTED_MODULE_6__.VK_ORIGIN_REGEX_STRICT.test(e.origin)||!t)return;const{data:{action:r,type:n,data:a}}=e;if("frame_transport"===n&&"use_meta"===r)isAllowedOrigin(e.origin)&&this.useMeta(a)}useMeta(e){this._debug("Metainfo: ",e),this.onReady(e)}useAjaxBlock(e,t,r){this._debug("Ajax block: ",e,t,r,this.fulfilled,this.frameDataQueue),this.fulfilled||(this.frameDataQueue.push(FrameTransport._makeQueueBlock(e,t,r)),1===this.frameDataQueue.length&&this._nextQueueItem())}finalize(e,t){this._debug("Finalize: ",e),this._cleanup(),e&&this.frameDataQueue.push(FrameTransport._makeQueueBlock(!1,!1,e,t)),this.queueReady=!0,this.frameDataQueue.push(_queueEndMarker),window.cur.onFrameBlocksDone&&window.cur.onFrameBlocksDone(),this._onEnd&&this._onEnd((new Date).getTime())}_nextQueueItem(){if(this.frameTimeout&&clearTimeout(this.frameTimeout),!this.queueReady)return void(this.frameTimeout=setTimeout((()=>this._nextQueueItem()),100));if(this._debug("Next queue item: ",this.fulfilled,this.frameDataQueue),this.fulfilled||0===this.frameDataQueue.length)return void(this.frameTimeout=!1);const e=this.frameDataQueue.shift();switch(e.type){case _queueStartMarker.type:this._nextQueueItem();break;case _queueEndMarker.type:this.fulfilled=!0;break;default:this.frameTimeout=setTimeout((()=>this._onReceived(e)),0)}}_onReceived(e){const t=(e,t)=>{const r=e?.message||"Unknown error in eval";let n="<b>JavaScript error</b>"+((0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_7__.partConfigEnabled)("extended_client_logging")?": "+r:"");e.stack&&__debugMode&&(n+="<br/>"+e.stack.replace(/\n/g,"<br/>")),(0,_web_lib_ui_util__WEBPACK_IMPORTED_MODULE_2__.topMsg)(n,15,"#FFB4A3"),(0,_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_3__.logEvalError)(e,t,{message:r,breadcrumb:{data:{msg:r,module:(window.cur||{}).module,id:vk.id,host:locHost,lang:vk.lang,loc:(window.nav||{}).strLoc,realloc:location.toString()}}})},r=e.container&&(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_5__.ge)(e.container);r&&e.html&&(r.firstChild?r.appendChild((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_5__.cf)(e.html)):(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_5__.val)(r,e.html)),e.js&&(_runJs(e.js,t),this._onModuleEvaluated&&this._onModuleEvaluated(cur.module)),e.params&&"leftads"in e.params&&window.__adsSet&&__adsSet(e.params.leftads,e.params.ads_section||"",e.params.ads_can_show,e.params.ads_showed),this._nextQueueItem()}_cleanup(){this._debug("Cleanup: ",this.frameDataQueue),this.frame&&(this.frame.innerHTML="",utilsNode.removeChild(this.frame),this.frame=null)}abort(){clearTimeout(this.frameTimeout),this.frameTimeout=!1,this._cleanup()}static get frame(){const e=(0,_vkontakte_internal_utils__WEBPACK_IMPORTED_MODULE_9__.makeSharedState)("frame-transport",(()=>new FrameTransport),{version:1})();return e.setHandlers(void 0,(e=>{(0,_web_lib_ajax_module_callback__WEBPACK_IMPORTED_MODULE_4__.triggerSubscribersOnModuleEvaluated)()}),_debugLogger),e}static request(e,t,r,n,a){const s=FrameTransport.frame;return s.setInlineHandler(a),s.run(FrameTransport.makeUrl(e,t,!(n&&n.noSort)),r)}static _makeQueueBlock(e,t,r,n){return{type:"block",container:e,html:t,js:r,params:n}}static makeUrl(e,t,r=!0){let n=t;return"string"==typeof t&&(n=(0,_shared_lib_convert__WEBPACK_IMPORTED_MODULE_0__.fromQueryString)(t)),n=(0,_shared_lib_convert__WEBPACK_IMPORTED_MODULE_0__.toQueryString)({...n,_rndVer:(0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_1__.irand)(0,99999)},!r),e+"?"+n}constructor(){this.frameDataQueue=[],this.frameTimeout=null,this.frame=null,this.queueReady=!1,this.fulfilled=!1,this.execInline=()=>{},this._debug=()=>{},window.addEventListener("message",this.onWindowMessage.bind(this))}}function _runJs(js,onError){const script="(function(){"+js+";})()";if(__debugMode)eval(script);else try{eval(script)}catch(e){onError&&onError(e,script)}}},628202:(e,t,r)=>{"use strict";r.d(t,{activateMobileBox:()=>s,requestBox:()=>a,validateMobileBox:()=>_,validateOtpBox:()=>l,validatePassBox:()=>c});var n=r(270959);function a(e,t,r){return e.setOptions({onDestroy:r}),e.onDone=function(){t&&t.apply(null,arguments)},e}function s(e){return a((0,n.showBox)("activation.php",{act:"activate_mobile_box",hash:e.hash}),(function(){vk.nophone=0,e.onDone()}),e.onFail)}function _(e){return a((0,n.showBox)("activation.php",{act:"validate_box",captcha:e.acceptCaptcha?1:"",skip_push:e.skip_push?e.skip_push:"",from:e.from||"",hash:e.hash,ahash:e.ahash},{stat:["uncommon.css"]}),e.onDone,e.onFail)}function c(e){return a((0,n.showBox)("activation.php",{act:"pass_validate_box",hash:e.hash},{stat:["uncommon.css"]}),e.onDone,e.onFail)}function l(e){return a((0,n.showBox)("activation.php",{act:"otp_validate_box",hash:e.hash},{stat:["uncommon.css"]}),e.onDone,e.onFail)}},299628:(e,t,r)=>{"use strict";r.d(t,{AjaxProtoJson:()=>a});var n=r(593159);class a{parseResponse(e){let t=this.parseStaticPayload(e);return{navVersion:(0,n.intval)(t.loaderVersion),newStatic:t.static,statsMeta:t.statsMeta,langId:(0,n.intval)(t.langPack),langVer:(0,n.intval)(t.langVersion),langKeys:t.langKeys,templates:t.templates,code:(0,n.intval)(t.payload[0]),payload:t.payload[1],debugLog:t.debugLog,env:t.env,extra:t.extra,execInline:t.execInline,vkEnv:t.vkEnv}}parseStaticPayload(e,t){let r=e;return e&&"string"==typeof e&&(r=JSON.parse(e)),r.payload&&r.payload[0]>0&&(r.payload[1]=r.payload[1].map((e=>"string"==typeof e?JSON.parse(e):e))),r}}},761520:(e,t,r)=>{"use strict";r.d(t,{ajax:()=>U});var n=r(6898),a=r(246429),s=r(898848),_=r(540462),c=r(636576),l=r(593159),u=r(754866),d=r(560377),p=r(792238),E=r(784099),m=r(433409),g=r(368140),A=r(299628),f=r(298077),I=r(102088),y=r(624199),R=r(253003),O=r(416368),S=r(270959),T=r(553608),P=r(558137),b=r(790031);const C="global_reload_app_modal_local_storage_key",D="ajax_request";function M(e){try{return(new DOMParser).parseFromString(e,"text/html").querySelector("title")?.textContent||e}catch{return e}}class L{static post(e,t,r){L._protoAdapter=new A.AjaxProtoJson,e&&"/"!==e.substr(0,1)&&"http"!==e.substr(0,4)&&(e="/"+e);const n={...r||{},_captcha:!1,_box:!1,no_ads_params:!1},s={...t,al:n.frame?-1:1},_=(0,l.vkNow)(),c=vk.spentLastSendTS?Math.round((_-vk.spentLastSendTS)/1e3):0;if(vk.sampleUser>=0&&window.cur&&cur.module&&c>=1&&(window.curNotifier&&curNotifier.idle_manager&&!curNotifier.idle_manager.is_idle&&(s._smt=window.cur.module+":"+c),vk.spentLastSendTS=_),n.progress&&(n.showProgress||(n.showProgress=function(){const e=(0,u.ge)(n.progress);(0,u.hasClass)(e,"pr")&&(0,u.setStyle)(e,"opacity",1),(0,u.show)(e)}),n.hideProgress||(n.hideProgress=function(){const e=(0,u.ge)(n.progress);(0,u.hasClass)(e,"pr")&&(0,u.setStyle)(e,"opacity",0),(0,u.hide)(e)})),n.loader){const e=(0,u.isVisible)(window.boxLayerWrap);n.showProgress=function(){(0,a.boxRefreshCoords)(window.boxLoader),(0,u.show)(window.boxLoader),e||(0,u.show)(window.boxLayerWrap)},n.hideProgress=function(){(0,u.hide)(window.boxLoader),e||(0,u.hide)(window.boxLayerWrap)}}return new L(e,s,n)._post()}_post(){if(!this._query.captcha_sid&&this._options.showProgress&&this._options.showProgress(),window.__adsGetAjaxParams&&!this._options.no_ads_params&&(this._query={...this._query,...window.__adsGetAjaxParams(this._query,this._options)}),this._options.stat&&(this._additionalStaticLoader=null,window.stManager.add(this._options.stat,(()=>{this._additionalStaticLoader&&this._additionalStaticLoader(),this._options.stat=!1}))),this._cacheClient&&!this._cacheClient.getFromCache(this.processResponse,this._options.onDone,{cacheLevel:this._options.cache,forceGlobalCache:this._options.forceGlobalCache,onAnswerProcessed:this._options.hideProgress}))return;this._options.resend=(e,t)=>new L(this._url,e,t)._post(),window.debuglogSent?(this._reqid=window.debuglogSent(this._url+(this._query?": "+(0,n.toQueryString)(this._query,this._options.noSort).replace(/&/g,"&amp;"):"")),this._options.frame&&r._dG("_lfrid",this._reqid)):this._reqid=0;const e={};return this._options.timeout&&(e.timeout=this._options.timeout),this._options.onTimeout&&(e.ontimeout=this._options.onTimeout),this._options.frame?p.FrameTransport.request(this._url,this._query,this.onDone,this._options,this._runInlineScript.bind(this)):(0,m.plainpost)(this._url,this._query,this.onDone,this.onFail,!1,e,this._options,!1,(0,_.partConfigEnabled)("extended_ajax_logging")?e=>console.log("+ XHR Transport: "+e):null)}processResponse(e,t,r){if(this._options.cache&&this._cacheClient&&this._cacheClient.processExistingCache(e,t),this._options.stat)return this._options.stat=!1,void(this._additionalStaticLoader=this.processResponse.pbind(e,t));this._options.cache&&!this._options.forceGlobalCache&&!e&&this._cacheClient&&this._cacheClient.cacheResponse(t),this._options.hideProgress&&this._options.hideProgress(),2!==e&&(this._options._captcha&&(this._options._suggest&&(0,u.cleanElems)(this._options._suggest),this._options._captcha=k(this._options._captcha),this._options._suggest=this._options._captcha),this._options._box=k(this._options._box)),r&&this._runInlineScript(r),(0,g.getHandlerByCode)(e)(this._options,t,this._query,this._url)}onFail(e,t){if((0,R.processWaf)(t))return;if((0,O.processChallenge)(t))return;this._options.hideProgress&&this._options.hideProgress(),this._options._suggest&&(0,u.cleanElems)(this._options._suggest);const r=t instanceof XMLHttpRequest?t.status:t;if(this._options._box=k(this._options._captcha,this._options._box),this._options._captcha=this._options._box,this._options._suggest=this._options._captcha,"string"==typeof e&&-1!==e.indexOf("The page is temporarily unavailable")&&__dev&&(0,l.inArray)(vk.id,[100]))return void this._post();if(!(!(0,_.partConfigEnabled)("ajax_ignore_default_error_logger_disabled")&&this._options.ignoreDefaultErrorLogger)&&!0!==this._options.onFail?.(e)){const t=(JSON.stringify((a=e,"string"==typeof a?M(a):{...a,data:M(a.data)}))||"No error details").substr(0,300),s=this._query.act,c=this._query&&(0,n.toQueryString)(this._query,this._options.noSort),l=this._url,u={message:"Uncaught ajax error",status:r,data:{url:l,query:c}},d=[`url: ${l}`,s&&`act: ${s}`,t&&`text: ${t}`].filter((e=>e)).join(", ");0===u.status&&(0,_.partConfigEnabled)("js_errors_no_write_uncaught_errors")||(0,f.logError)(d,{environment:"uncaughtAjaxRequestError",breadcrumb:u}),__debugMode?console.error("Uncaught Ajax request error:",t,u):console.log("Uncaught Ajax request error:",t,u)}var a}doReload(e){nav.reload({force:!0,from:e,url:this._url,query:this._query&&(0,n.toQueryString)(this._query)})}onDone(e,t){if((0,R.processWaf)(t||e))return Promise.reject();if((0,O.processChallenge)(t||e))return Promise.reject();this._options.frame&&(0,p._debugLogger)("OnDone Req:",e);const r=t instanceof XMLHttpRequest?t.status:t;let n;try{n=L._protoAdapter.parseResponse(e)}catch(t){return this.onFail((0,_.partConfigEnabled)("fix_frame_transport_xss")?`<pre>${(0,s.clean)(e)}</pre>`:e,r),Promise.reject()}const{navVersion:a,langId:c,payload:l}=n;return a?vk.version&&String(vk.version)!==String(a)?(a&&l.length>4?this.doReload(2):nav.strLoc?window.location.replace((0,s.locBase)()):(0,d.topError)("Server error.",{type:100}),Promise.reject()):(vk.version=!1,vk.lang!==c&&this._options.canReload?(this.doReload(3),Promise.reject()):N.call(this,n,this._options.canReload)):(this.onFail(`<pre>${e}</pre>`,{status:-1}),Promise.reject())}_runInlineScript(e){const t="__exec_container",r=document.getElementById(t);r&&document.body.removeChild(r);const n=document.createElement("script");n.id=t,n.innerHTML=e,document.body.appendChild(n)}constructor(e,t,r){this._url=e,this._options={...r},this._query=t,this._additionalStaticLoader=null,this._cacheClient=null,r.local&&(this.onDone=(0,l.vkLocal)(this.onDone),this.onFail=(0,l.vkLocal)(this.onFail),this.processResponse=(0,l.vkLocal)(this.processResponse)),this._options.cache&&(this._cacheClient=E.AjaxCacheClient.getInstance(this._url,this._query)),this.onDone=this.onDone.bind(this),this.onFail=this.onFail.bind(this),this.processResponse=this.processResponse.bind(this)}}async function N(e,t){if(!(this instanceof L))throw new TypeError("_preProcessResponse should be called with AjaxRequest instance as this");const{navVersion:r,newStatic:a,statsMeta:u,langId:p,langVer:E,langKeys:m,templates:g,code:A,payload:R,debugLog:O,env:P,extra:M,execInline:N,vkEnv:k}=e;if((0,_.partConfigEnabled)("log_changing_vk_env")){const e=window[Symbol.for("vkEnv")];e!==k&&(0,c.statlogsValueEvent)("web_vk_env_desync",1,e,k,window.cur?.module,String(window.vk?.statsMeta?.st),String(u?.st),window.location.toString())}if((0,_.partConfigEnabled)("webinf_show_force_reload_modal")&&a&&t&&u&&u.reloadVersion&&u.reloadVersion!==window.vk.statsMeta.reloadVersion)try{await new Promise(((e,t)=>{let r;try{r=JSON.parse(T.vkLocalStorage.getItem(C))||{}}catch(e){r={}}const n=18e5,a=18e4,s=r.date?Date.now()-r.date:Number.POSITIVE_INFINITY;if(!r.state||"reload"===r.state&&s>n||"hidden"===r.state&&s>a){const r=()=>{T.vkLocalStorage.setItem(C,JSON.stringify({date:Date.now(),state:"reload"})),t()},n=()=>{T.vkLocalStorage.setItem(C,JSON.stringify({date:Date.now(),state:"hidden"})),e()},a={title:(0,I.getLang)("global_reload_app_modal_title"),selfDestruct:!1,hideOnBGClick:!1,noCloseButton:!1};new S.MessageBox(a).content((0,I.getLang)("global_reload_app_modal_content")).addButton((0,I.getLang)("global_reload_app_modal_action"),r).show().once("afterHide",n)}else e()}))}catch(e){throw this.doReload(5),e}if(u&&(u.reloadVersion=window.vk.statsMeta.reloadVersion,window.vk.statsMeta=u),m){const{local:e,global:t}=m;(0,I.addLangKeys)(e,window.cur),(0,I.addLangKeys)(t,!0),window.cur.onAfterReset=(t,r)=>{(0,I.addLangKeys)(e,r),delete r.onAfterReset}}let U;if(P&&P.pe&&(window.vk.pe=P.pe),g&&(0,l.addTemplates)(g),await function(e,t,r,n){return new Promise((async(r,a)=>{if(!window.stVersions||(0,s.isEmpty)(window.stVersions))r();else try{await(0,_.partConfigEnabled)(b.VERSION_SKEW_ENABLED_PE)?b.VersionSkewManager.maybeUpdateNav(e):(c=e,new Promise((e=>{String(c)!==String(window.stVersions.nav)?async function(e){try{const t=await fetch("/al_loader_nav.php?act=check",{credentials:"same-origin"}),r=await t.json(),n=r?.loaderVersion;return String(e)===String(n)}catch(e){return!1}}(c).then((t=>{if(!t)return void e();const r=function(e){const t=window.vk.navPostfix||"",r=window.navMapSection?`&section=${window.navMapSection}`:"";return`/al_loader_nav.php?act=nav${t}&l=${vk.lang}&v=${e}&f=json${r}`}(c);fetch(r,{credentials:"same-origin"}).then((e=>e.json())).then((t=>{for(const e in t)t.hasOwnProperty(e)&&(window[e]=t[e]);e()})).catch((()=>{const t=new Error("Can't load loader_nav");var n,a,s;n=r,a=t,s=t.stack,(0,f.logError)(a,{environment:D,breadcrumb:{message:String(s),category:"custom",data:{file:n}}}),(0,_.partConfigEnabled)("global_show_resource_fetch_error")&&(0,d.topMsg)(`Some problems with loading <b>${n}</b>...`,5),e()}))})):e()}))),await async function(e,t,r){const n=["common.css"];if(e){const t=e.split(",");for(let e=0,r=t.length;e<r;++e)n.push(t[e])}if(stVersions.lang<r){stVersions.lang=r;for(const e in StaticFiles)StaticFiles.hasOwnProperty(e)&&/^lang\d/i.test(e)&&n.push(e)}return window.stManager.add(n)}(t,0,n),r()}catch(e){a(e)}var c}))}(r,a,0,E),this._options.frame)U=R;else try{U=L._protoAdapter.parseStaticPayload(R,this._reqid),O&&(B=O,x=this._reqid,window.debuglogGot&&window.debuglogGot(x,B))}catch(e){const t={message:"JSON error",data:{answer:R,url:this._url,query:this._query&&(0,n.toQueryString)(this._query)}};(0,f.logError)(e,{environment:D,breadcrumb:t}),console.error(e)}var B,x;this.processResponse(A,U,N),(0,y._handleResponseExtraPayloads)(M),window.cur&&"function"==typeof window.cur.onAfterReset&&delete window.cur.onAfterReset}function k(){for(let e=0,t=arguments.length;e<t;++e){const t=arguments[e];t&&t.isVisible()&&(t.setOptions({onHide:!1,onDestroy:!1}),t.hide())}return!1}const U=(0,P.makeSharedState)("ajax",(()=>({enabled:function(){try{return!!new XMLHttpRequest}catch(e){return!1}}(),plainpost:m.plainpost,post:L.post,promisifiedPost:(e,t,r)=>new Promise(((n,a)=>{L.post(e,t,{...r,onDone:(...e)=>{n(e)},onFail:e=>(a(e),!!r?.ignoreDefaultErrorLogger),onTimeout:()=>{a("timeout")}})})),framepost:p.FrameTransport.request,request:m.request,preload:E.AjaxCacheClient.preload,invalidate:E.AjaxCacheClient.invalidate,AjaxRequest:L,AjaxCancellationToken:m.AjaxCancellationToken,frame:p.FrameTransport.frame,_framenext:()=>p.FrameTransport.frame._nextQueueItem()})),{version:1})()},368140:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{getHandlerByCode:()=>getHandlerByCode});var _vkontakte_internal_plugins__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(657472),_shared_lib_convert__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6898),_shared_lib_langs_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(768602),_shared_user_user_env__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(540462),_web_captcha_showCaptchaSDK__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(265668),_web_lib_dom_events__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(972332),_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(593159),_web_lib_message_box__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(270959),_web_lib_dom__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(754866),_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(237625),_web_lib_ui_util__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(560377),_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(246429),_modal_box__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(628202),_utils_resetOptionsCache__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(386477),_authFailed__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(383641);const showCaptchaPopupAsync=async e=>{const{showCaptchaPopup:t}=await Promise.all([__webpack_require__.e(91498),__webpack_require__.e(89631),__webpack_require__.e(762),__webpack_require__.e(30072),__webpack_require__.e("langs/web/showCaptchaPopup")]).then(__webpack_require__.bind(__webpack_require__,345601));return t(e)};function emailNotConfirmed(e,t){(0,_web_lib_message_box__WEBPACK_IMPORTED_MODULE_6__.showFastBox)({width:520,title:t[0],onDestroy:e.onFail},t[1])}const handleShowCaptchaSuggest=e=>{e._suggest=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_7__.geByClass1)("phone_validation_link",e._captcha.bodyNode),e._suggest&&(0,_web_lib_dom_events__WEBPACK_IMPORTED_MODULE_4__.addEvent)(e._suggest,"click",(function(){e._box=(0,_modal_box__WEBPACK_IMPORTED_MODULE_11__.validateMobileBox)({onDone:e._captcha.submit})}))};async function showCaptcha(e,t,r){const n={sid:t[0],dif:(0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_5__.intval)(t[1]),isRefreshEnabledValue:t[2],isSoundCaptchaAvailableValue:t[3],captchaImg:t[4],captchaTrack:t[5],captchaTrack:t[6],redirectUri:t[7]};if(2===n.dif)e._captcha=(0,_web_lib_message_box__WEBPACK_IMPORTED_MODULE_6__.showReCaptchaBox)(n.sid,n.isRefreshEnabledValue,e._captcha,{onSubmit:function(t){const n={...r,recaptcha:t,captcha_sid:null,captcha_key:null};e.resend(n,(0,_utils_resetOptionsCache__WEBPACK_IMPORTED_MODULE_13__.resetOptionsCache)(e))},onDestroy:function(){e.onFail&&e.onFail()}});else{const{redirectUri:t}=n;if(t)try{const n=await(0,_web_captcha_showCaptchaSDK__WEBPACK_IMPORTED_MODULE_3__.showCaptchaSDK)(t);return e.resend({...r,success_token:n},(0,_utils_resetOptionsCache__WEBPACK_IMPORTED_MODULE_13__.resetOptionsCache)(e)),void handleShowCaptchaSuggest(e)}catch(t){if(t===_vkontakte_internal_plugins__WEBPACK_IMPORTED_MODULE_14__.CaptchaSDKEvents.CLOSE||t===_vkontakte_internal_plugins__WEBPACK_IMPORTED_MODULE_14__.CaptchaSDKEvents.OPENED)return e.onFail&&e.onFail(),void handleShowCaptchaSuggest(e)}(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_2__.partConfigEnabled)("vkcom_audio_captcha_enabled")?showCaptchaPopupAsync({sid:n.sid,isRefreshEnabled:!!n.isRefreshEnabledValue,isSoundCaptchaAvailable:!!n.isSoundCaptchaAvailableValue,captcha_img:n.captchaImg,captcha_track:n.captchaTrack,onSubmit:(t,a)=>{e.resend({...r,captcha_sid:n.sid,captcha_key:t,is_sound_captcha:a},(0,_utils_resetOptionsCache__WEBPACK_IMPORTED_MODULE_13__.resetOptionsCache)(e))},onClose:()=>{e.onFail&&e.onFail()}}):e._captcha=(0,_web_lib_message_box__WEBPACK_IMPORTED_MODULE_6__.showCaptchaBox)(n.sid,n.dif,e._captcha,{onSubmit:function(t,n){const a={...r,captcha_sid:t,captcha_key:n};e.resend(a,(0,_utils_resetOptionsCache__WEBPACK_IMPORTED_MODULE_13__.resetOptionsCache)(e))},onDestroy:function(){e.onFail&&e.onFail()}},n.isRefreshEnabledValue)}handleShowCaptchaSuggest(e)}const mobileValidationRequired=e=>(t,r,n)=>{t._box=(0,_modal_box__WEBPACK_IMPORTED_MODULE_11__.validateMobileBox)({acceptCaptcha:11===e,onDone:function(e,r){vk.nophone=0,e&&(t._captcha=(0,_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_10__.curBox)());const a=e?{...n,captcha_sid:e,captcha_key:r}:n;t.resend(a,(0,_utils_resetOptionsCache__WEBPACK_IMPORTED_MODULE_13__.resetOptionsCache)(t))},onFail:t.onFail,hash:r[0],ahash:r[1]})};function passwordValidationRequired(e,t,r){e._box=(0,_modal_box__WEBPACK_IMPORTED_MODULE_11__.validatePassBox)({onDone:()=>e.resend(r,(0,_utils_resetOptionsCache__WEBPACK_IMPORTED_MODULE_13__.resetOptionsCache)(e)),onFail:e.onFail,hash:t[0]})}function makeRedirect(e,t){(0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_5__.intval)(t[1])?nav.go(t[0],!1,{nocur:"2"===t[1],noback:!0===t[1],showProgress:e.showProgress,hideProgress:e.hideProgress}):(hab.stop(),location.href=t[0])}function reload(e,t,r,n){nav.reload({force:(0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_5__.intval)(t[0]),from:1,url:n,query:r&&(0,_shared_lib_convert__WEBPACK_IMPORTED_MODULE_0__.toQueryString)(r)})}function mobileActivationRequired(e,t,r){e._box=(0,_modal_box__WEBPACK_IMPORTED_MODULE_11__.activateMobileBox)({onDone:e.resend(r,(0,_utils_resetOptionsCache__WEBPACK_IMPORTED_MODULE_13__.resetOptionsCache)(e)),onFail:e.onFail,hash:t[0]})}function showMessage(e,t){e.onFail&&e.onFail(),(0,_web_lib_ui_util__WEBPACK_IMPORTED_MODULE_9__.topMsg)(t[0],10)}function showError(e,t,r,n){e.onFail&&e.onFail(t[0])||(0,_web_lib_ui_util__WEBPACK_IMPORTED_MODULE_9__.topError)(t[0]+(t[2]?" #"+t[2]:""),{dt:t[1]?0:10,type:4,url:n,query:r&&(0,_shared_lib_convert__WEBPACK_IMPORTED_MODULE_0__.toQueryString)(r)})}function otpBox(e,t,r){e._box=(0,_modal_box__WEBPACK_IMPORTED_MODULE_11__.validateOtpBox)({onDone:()=>e.resend(r,(0,_utils_resetOptionsCache__WEBPACK_IMPORTED_MODULE_13__.resetOptionsCache)(e)),onFail:e.onFail,hash:t[0]})}function votesPayment(e,t,r){if(window.cur.paymentSuccess=!1,(e.fromBox||e.forceDone)&&(e.onDone&&e.onDone.apply(window,t),e.fromBox))return;if(e._box=(0,_web_lib_message_box__WEBPACK_IMPORTED_MODULE_6__.showFastBox)({title:(0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_5__.trim)(t[0])},t[1]),t[3]?.countries&&!cur.votesBoxOptions&&(cur.votesBoxOptions=t[3]),cur.votesBoxOptions){const t=()=>{window.Gifts.processBoxOptions(e._box,cur.votesBoxOptions),cur.votesBoxOptions=null};window.Gifts?t():window.stManager.add(window.jsc("web/gifts.js"),(()=>{t()}))}const n=(0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_5__.extend)((0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_5__.clone)(e),{showProgress:e._box.showProgress,hideProgress:e._box.hideProgress});e.cache&&(n.cache=-1),e._box=(0,_modal_box__WEBPACK_IMPORTED_MODULE_11__.requestBox)(e._box,(function(t){(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_7__.isVisible)(e._box.progress)||(t||(t={_votes_ok:1}),e.resend((0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_5__.extend)(r,t),n))}),e.onFail),e._box.evalBox(t[2])}function zeroZone(e,t,r){e._box=(0,_web_lib_message_box__WEBPACK_IMPORTED_MODULE_6__.showFastBox)({title:t[0]||(0,_shared_lib_langs_utils__WEBPACK_IMPORTED_MODULE_1__.getLang)("global_charged_zone_title"),onHide:e.onFail},t[1],(0,_shared_lib_langs_utils__WEBPACK_IMPORTED_MODULE_1__.getLang)("global_charged_zone_continue"),(function(){e.resend({...r,charged_confirm:t[3]},e)}),(0,_shared_lib_langs_utils__WEBPACK_IMPORTED_MODULE_1__.getLang)("global_cancel"))}function evalCode(options,answer){const evalString=`(function(){${answer[0]};})()`;if(__debugMode)eval(evalString);else try{eval(evalString)}catch(e){(0,_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_8__.logEvalError)(e,evalString)}}const defaultHandler=e=>(t,r)=>{if(-1===e||-2===e||-3===e){const t=r.pop(),n=r.pop(),a=r.pop();let s;-3===e&&(s=r.pop()),window.__adsSet&&__adsSet(a,null,n,t,null,s)}t.onDone&&t.onDone.apply(window,r)};function getHandlerByCode(e){switch(e){case 1:return emailNotConfirmed;case 2:return showCaptcha;case 3:return _authFailed__WEBPACK_IMPORTED_MODULE_12__.authFailed;case 4:return makeRedirect;case 5:return reload;case 6:return mobileActivationRequired;case 7:return showMessage;case 8:return showError;case 9:return votesPayment;case 10:return zeroZone;case 11:case 12:return mobileValidationRequired(e);case 13:return evalCode;case 14:return otpBox;case 15:return passwordValidationRequired;default:return defaultHandler(e)}}},433409:(e,t,r)=>{"use strict";r.d(t,{AjaxCancellationToken:()=>u,plainpost:()=>d,request:()=>p});var n=r(6898),a=r(366602),s=r(593159),_=r(540462),c=r(253003),l=r(416368);class u{_setCancelCb(e){this._cancel=e}cancel(){this._cancel&&this._cancel()}}function d(e,t,r,a,s,c,l,u=!1,d=null){if(t.act&&(0,_.partConfigEnabled)("force_act_in_get_params")){let r={},a=e,s="";e.includes("?")&&([a,s]=e.split("?"),r=(0,n.fromQueryString)(s)),r.act=t.act,e=`${a}?${(0,n.toQueryString)(r,!0)}`}let E=p(e,t,{xhrOptions:c,sortQueryStringParams:l&&!l.noSort,headers:l&&l.headers,noExtraHeaders:u,urlOnly:s,cancellationToken:l&&l.cancellationToken,logger:d}),m=E._getXhr();return E.then((e=>r&&r(e.data,m.status))).catch((e=>a&&a(e,m.status))),m}function p(e,t,{xhrOptions:r,headers:u=null,urlOnly:d=!1,sortQueryStringParams:p=!0,noExtraHeaders:E=!1,cancellationToken:m=null,logger:g=null}){let A,f=!1;g&&(A=(0,a.crc32)(e+JSON.stringify(t)),g(`Initialized request #${A} with URL ${e} and query ${JSON.stringify(t)}`));const I=new XMLHttpRequest;m&&m._setCancelCb((()=>{g&&g(`Aborting request #${A}`),I.abort()}));let y=new Promise((function(a,m){const y="string"!=typeof t?(0,n.toQueryString)(t,!p):t,R=()=>{if(g&&g(`Request readyState -> DONE with status ${I.status} #${A}`),I.status>=200&&I.status<300)try{a({data:I.responseText,code:I.status}),g&&g(`Success handler finished for request #${A}`)}catch(e){g&&g(`Success handler failed for request #${A}`),m({data:I.responseText,code:-1}),g&&g(`Failure handler finished for request #${A} [1]`)}else m({data:I.responseText,url:e,act:t.act,code:I.status}),g&&g(`Failure handler finished for request #${A} [2]`)};(0,_.partConfigEnabled)("skip_aborted_ajax_requests")?(I.addEventListener("readystatechange",(()=>{((0,c.processWaf)(I)||(0,l.processChallenge)(I))&&I.abort()})),I.addEventListener("abort",(()=>{f=!0})),I.addEventListener("loadend",(()=>{f||R()}))):I.onreadystatechange=function(){(0,c.processWaf)(I)||(0,l.processChallenge)(I)?I.abort():I.readyState===XMLHttpRequest.DONE&&R()};try{g&&g(`Starting request #${A}`),I.open("POST",e,!0)}catch(e){g&&g(`Request #${A} failed`),m({data:e,code:-1}),g&&g(`Failure handler finished for request #${A} [3]`)}u&&Object.keys(u).forEach((e=>{I.setRequestHeader(e,u[e])})),r&&(0,s.each)(r,(function(e,t){I[e]=t})),d||(I.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),E||I.setRequestHeader("X-Requested-With","XMLHttpRequest")),g&&g(`Sending data for request #${A}`),I.send(y)}));return y._getXhr=()=>I,y}},246429:(e,t,r)=>{"use strict";r.d(t,{boxRefreshCoords:()=>g,curBox:()=>d,getAndCleanBoxQueueData:()=>O,getBoxLayerWrap:()=>L,getBoxQueue:()=>m,hideBoxLoader:()=>k,hideLastBoxForCaching:()=>P,initBoxQueue:()=>E,isBoxLoadingCancelled:()=>U,refreshBoxLoaderCoords:()=>p,requireDoneBox:()=>I,restoreBoxQueue:()=>S,showBoxLoader:()=>N,showDoneBox:()=>A,showDoneBoxAsync:()=>f,showDoneBoxFull:()=>y,showLastBoxForCaching:()=>b});var n=r(972332),a=r(593159),s=r(754866),_=r(575753),c=r(878163),l=r(871873),u=r(540462);function d(){const e=window._message_boxes[window.boxQueue.curBox];return e&&e.isVisible()?e:null}function p(){const e=document.querySelector("#box_loader");e&&g(e)}function E(){r._dG("boxQueue",c.boxQueue),r._dG("__bq",c.boxQueue),r._dG("curBox",d),window.boxQueue.hideLastCheck=window.boxQueue.hideLast.pbind(!0),r._dG("_message_box_guid",0),r._dG("_message_boxes",[])}function m(){return window.boxQueue}function g(e){const t=window.innerHeight||document.documentElement.clientHeight||boxLayerBG.offsetHeight,r=_.browser.mobile?(0,a.intval)(window.pageYOffset):0,n=(0,s.getSize)(e);e.style.marginTop=Math.max(10,r+(t-n[1])/3)+"px"}function A(e,t={},r={}){window.Notifier?R(e,t,r):window.stManager.add([window.jsc("web/notifier.js"),"notifier.css"],(()=>{R(e,t,r)}))}function f(e,t={},r={}){return I().then((()=>R(e,t,r)))}function I(){return new Promise((e=>{window.Notifier?e():window.stManager.add([window.jsc("web/notifier.js"),"notifier.css"],(()=>{window.Notifier?e():(0,l.onModuleReady)("notifier",(()=>{e()}))}))}))}function y(e,t={},r={}){A(e,t,{...r,type:"done_box_full"})}function R(e,t,r){window.curNotifier&&window.curNotifier.version||window.Notifier.init({version:-1,instance_id:-1});const n=void 0!==t.onHide?t.onHide:t.callback,a=void 0!==t.timeout?t.timeout:void 0!==t.out?t.out:null,s=null!==t.id&&void 0!==t.id?t.id:++window.curNotifier.showDoneBoxLastId,_={version:window.curNotifier.version,type:"done_box",text:e,onclick:t.onClick,top_count:-1,video_top_count:-1,id:s,timeout:a,onHide:n,preventHideByClick:!0,link:t.link,...r};return t.tooltipHandler&&(_.tooltipHandler=t.tooltipHandler),Notifier.pushEvent(_),_}function O(){const e={boxes:[...window._message_boxes],boxQueueIds:[...window.boxQueue._boxes],curBoxId:window.boxQueue.curBox};return window.boxQueue._boxes=[],r._dG("_message_boxes",[]),window.boxQueue.curBox=0,e}function S(e){r._dG("_message_boxes",e.boxes),window.boxQueue._boxes=e.boxQueueIds,window.boxQueue.curBox=e.curBoxId}function T(){if(!window._message_boxes?.length)return null;const e=window._message_boxes.filter(Boolean);return e.length?e[e.length-1]:null}function P(){const e=T();e&&(e._hide(!1,!0,!0),e.forceHide=!0)}function b(){const e=T();e&&(e.forceHide=!1,e._show(!0,!1,!0))}function C(){return window.boxLoaderState||r._dG("boxLoaderState",{id:0,isShown:!1,onHide:null}),window.boxLoaderState}function D(e){r._dG("boxLoaderState",{...C(),...e})}function M(){return document.querySelector("#box_loader")}function L(){return document.querySelector("#box_layer_wrap")}function N(e=!0){const t=C();t.isShown&&t.onHide?.();const r=M();(0,u.partConfigEnabled)("web_box_loader_refresh_coords_disabled_on_reused")&&t.isShown||g(r),(0,s.show)(r);const a=L(),_=()=>{k()};a.addEventListener("click",_,e);const c=e=>{e.keyCode==n.KEY.ESC&&k()};document.addEventListener("keypress",c,e);const l=t.id+1;return D({id:l,onHide(){a.removeEventListener("click",_,e),document.removeEventListener("keypress",c,e)},isShown:!0}),(0,s.show)(a),l}function k(){(0,s.hide)(M()),d()||(0,s.hide)(L()),C().onHide?.(),D({isShown:!1,onHide:null})}function U(e){const t=C();return!t.isShown||t.id!==e}},633009:(e,t,r)=>{"use strict";r.d(t,{cancelStackFilter:()=>s,cancelStackPop:()=>c,cancelStackPush:()=>_,getCancelStack:()=>a});var n=r(419733);function a(){return window.cancelStack||[]}function s(e,t){const s=a();return t&&(0,n.topHeaderClearClose)(),r._dG("cancelStack",s.filter((t=>t.name!==e))),window.cancelStack}function _(e,t,a){return a&&(0,n.topHeaderClose)((function(r){t(r),s(e)})),r._dG("cancelStack",s(e).concat([{func:t,name:e,dclick:a}])),window.cancelStack}function c(e){const t=a();(0,n.topHeaderClearClose)(),t.length>0&&t.pop().func(e);const _=t[t.length-1];return _&&_.dclick&&(0,n.topHeaderClose)((function(){_.func(e),s(_.name)})),r._dG("cancelStack",t),window.cancelStack}},420839:(e,t,r)=>{"use strict";r.d(t,{checkPageBlocks:()=>s});var n=r(754866),a=r(576854);function s(){const e=(0,n.ge)("content");e&&((0,n.toggleClass)(e,"page_block",!(0,n.geByClass1)("page_block",e)),(0,a.updateAriaElements)())}},471984:(e,t,r)=>{"use strict";r.d(t,{clipboardProcessPaste:()=>p,copyToClipboard:()=>c._copyWithFakeElement,getFiles:()=>l});var n=r(967495),a=r(593159),s=r(972332),_=r(754866),c=r(695847);function l(e){let t=function(e){return e&&e.clipboardData?e.clipboardData:e&&e.originalEvent&&e.originalEvent.clipboardData?e.originalEvent.clipboardData:window.clipboardData}(e);if(!t)return[];let r=t.items;if(!r)return[];let n=[];for(let e=0;e<r.length;e++)0==r[e].type.indexOf("image")&&n.push(r[e].getAsFile());return n}let u=!1,d=null;function p(e){return new Promise(((t,r)=>{if(u)return(0,s.cancelEvent)(e),r();let[c,l,p,E,m]=(0,n.rangeGet)();if(c){if("paste"===e.type){let r=e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData;if(r&&r.types&&r.getData){(0,s.cancelEvent)(e),u=!0;let _=r.getData("text/html")||(0,a.clean)(r.getData("text/plain"))||"";return t([_,e=>{(0,n.rangeInsert)(c,e),u=!1}])}let d=(0,_.cf)(),g=e.target||window.event.srcElement;for(;g.firstChild;)d.appendChild(g.firstChild);return new Promise((e=>setTimeout((()=>{let t=g.innerHTML||"";g.innerHTML="",g.appendChild(d),e([t,e=>{c=(0,n.rangeCreate)(l,p,E,m),(0,n.rangeInsert)(c,e),u=!1}])}),0)))}if("beforepaste"===e.type)return u=!0,function(){if(!d){let e=(0,_.ge)("utils");d=(0,_.ce)("div",{},{width:"10px",height:"10px",overflow:"hidden"}),(0,_.attr)(d,"contenteditable","true"),e.appendChild(d)}}(),d.focus(),void(d.onpaste=()=>{setTimeout((()=>{let e=d.innerHTML||"";d.innerHTML="",delete d.onpaste,t([e,e=>{c=(0,n.rangeCreate)(l,p,E,m),(0,n.rangeInsert)(c,e),u=!1}])}),0)})}return r()}))}},101148:(e,t,r)=>{"use strict";r.d(t,{formatTime:()=>c,getFormattedDiffTimeText:()=>p,getLastDay:()=>d,getServerTime:()=>l,isLeapYear:()=>u,isSameDate:()=>s,leadingZero:()=>_});var n=r(102088),a=r(593159);function s(e,t){const r=new Date(e),n=new Date(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()&&r.getDate()===n.getDate()}function _(e){return e>=10?e:"0"+e}function c(e,t){let r;e=Math.max(e,0);const n=Math.floor(e%60);r=n<10?"0"+n:n;const a=(e=Math.floor(e/60))%60;return r=a+":"+r,((e=Math.floor(e/60))>0||t)&&(a<10&&(r="0"+r),r=e+":"+r),r}function l(){return vk.ts+Math.floor(((new Date).getTime()-vk.started)/1e3)}function u(e){return(e=parseInt(e))%4==0&&e%100!=0||e%400==0}function d(e,t){return 2==+t?u(e)?29:28:t>0&&(t<8&&t%2==0||t>7&&t%2==1)?30:31}function p(e,t="",r=!1){let s="";return s=e<5?(0,n.getLang)("global_just_now"):e<60?r?(0,n.getLang)("global_just_now"):(0,n.langWordNumeric)(e,(0,n.getLang)("global_word_secs_ago","raw"),(0,n.getLang)("global_secs_ago","raw")):e<3600?r?(0,n.langNumeric)((0,a.intval)(e/60),(0,n.getLang)("wall_post_mins_ago","raw")):(0,n.langWordNumeric)((0,a.intval)(e/60),(0,n.getLang)("global_word_mins_ago","raw"),(0,n.getLang)("global_mins_ago","raw")):e<14400?r?(0,n.langNumeric)((0,a.intval)(e/3600),(0,n.getLang)("wall_post_hours_ago","raw")):(0,n.langWordNumeric)((0,a.intval)(e/3600),(0,n.getLang)("global_word_hours_ago","raw"),(0,n.getLang)("global_hours_ago","raw")):t,s}},237625:(e,t,r)=>{"use strict";r.d(t,{debugLog:()=>u,debugLogDev:()=>d,initDebugTools:()=>c,logEvalError:()=>l});var n=r(575753),a=r(540462),s=r(298077);function _(){if((0,a.partConfigEnabled)("log_fetch_requests")){const e=(e,t)=>{try{if(~e.indexOf("/al_audio")||~e.indexOf("/like.php"))throw new Error(t)}catch(e){(0,s.logError)(e,{environment:"debugLog"})}};!function(e){const t=window.XMLHttpRequest;r._dG("XMLHttpRequest",(function(){const r=new t,n=r.open,s=r.send;let _,c;return r.open=function(){return[c,_]=arguments,n.apply(r,arguments)},r.send=function(){const t=arguments[0];return c=(c||"").toUpperCase(),("POST"===c||"GET"===c&&(0,a.partConfigEnabled)("log_fetch_requests_get"))&&e(_,[c,_,t].join(":")),s.apply(r,arguments)},r})),["DONE","HEADERS_RECEIVED","LOADING","OPENED","UNSENT"].forEach((e=>{Object.defineProperty(window.XMLHttpRequest,e,{enumerable:!1,configurable:!1,writable:!1,value:t[e]})}))}(e),window.fetch&&function(e){const t=window.fetch;window.fetch=function(){const r=new Array(arguments.length);for(let e=0;e<r.length;++e)r[e]=arguments[e];const n=r[0];let a,s="GET";"string"==typeof n?a=n:"Request"in window&&n instanceof window.Request?(a=n.url,n.method&&(s=n.method)):a=""+n,r[1]&&r[1].method&&(s=r[1].method);const _={method:s,url:a,status_code:null};return e(a,a),t.apply(this,r).then((function(e){return _.status_code=e.status,e})).catch((function(e){throw e}))}}(e)}}function c(){r._dG("_logTimer",(new Date).getTime()),_()}function l(e,t,r){if((0,a.partConfigEnabled)("web_inline_grouping_fix"))(0,s.logError)(e,r);else{if(t&&t.length>2e3){const e=t.indexOf("; window.TimeSpent && TimeSpent.setTimers && TimeSpent.setTimers(");~e&&(t=t.slice(0,e)),t=`${t.slice(0,1e3)}...${t.slice(-1e3)}`}e.message+=`: ${t}`,(0,s.logError)(e,r)}}function u(e){try{window.debuglogClient&&window.debuglogClient(e);const t="["+((new Date).getTime()-window._logTimer)/1e3+"] ";if(window.console&&console.log){const e=Array.prototype.slice.call(arguments);e.unshift(t),n.browser.msie||n.browser.mobile?console.log(e.join(" ")):console.log.apply(console,e)}}catch(e){}}function d(...e){0}},754866:(e,t,r)=>{"use strict";r.d(t,{$:()=>l,$$:()=>u,addClass:()=>Ee,addClassDelayed:()=>he,attr:()=>Oe,ce:()=>P,cf:()=>b,cleanElems:()=>Pe,clientHeight:()=>re,createElement:()=>Be,data:()=>Re,domByClass:()=>G,domCA:()=>z,domChildIndex:()=>Y,domChildren:()=>K,domClosest:()=>O,domClosestByTag:()=>S,domClosestOverflowHidden:()=>ee,domClosestPositioned:()=>Z,domClosestSibling:()=>q,domData:()=>j,domFC:()=>N,domInsertAfter:()=>H,domInsertBefore:()=>W,domLC:()=>k,domNS:()=>M,domPN:()=>U,domPS:()=>L,domQuery:()=>y,domQuery1:()=>R,domReplaceEl:()=>V,elfocus:()=>De,emptyNode:()=>p,ge:()=>E,geByClass:()=>A,geByClass1:()=>f,geById:()=>c,geByTag:()=>m,geByTag1:()=>g,getClientRectOffsetY:()=>ne,getH:()=>de,getScroll:()=>J,getSize:()=>le,getStyle:()=>Ie,getW:()=>ue,getXY:()=>ce,getXYRect:()=>_e,getZoom:()=>we,gpeByClass:()=>I,gpeByTag:()=>T,hasClass:()=>pe,hide:()=>oe,initDomScripts:()=>Ue,isAncestor:()=>Q,isHover:()=>X,isVisible:()=>ie,lockDocumentTitle:()=>ke,matchesSelector:()=>$,re:()=>C,removeAttr:()=>Se,removeClass:()=>me,removeClassDelayed:()=>ge,removeData:()=>Te,replaceClass:()=>fe,rs:()=>F,se:()=>B,sech:()=>x,setDocumentTitle:()=>Ne,setInnerText:()=>d,setStyle:()=>ye,setTitle:()=>be,show:()=>te,toggle:()=>ae,toggleClass:()=>Ae,toggleClassDelayed:()=>ve,traverseParent:()=>Me,val:()=>Ce});var n=r(593159),a=r(972332),s=r(575753),_=r(237625);function c(e){return document.getElementById(e)}function l(e,t){return(t||document).querySelector(e)}function u(e,t){return(t||document).querySelectorAll(e)}function d(e,t){e&&(e.innerText=t)}function p(e){if(e)for(;e.firstChild;)e.removeChild(e.firstChild)}const E=e=>"string"==typeof e||"number"==typeof e?document.getElementById(e):e;function m(e,t){return(t=E(t)||document).getElementsByTagName(e)}function g(e,t){return(t=E(t)||document).querySelector&&t.querySelector(e)||m(e,t)[0]}function A(e,t,r){return t=E(t)||document,r=r||"*",e=("."+e).replace(/\s+/gm,"."),Array.prototype.slice.call(t.querySelectorAll(r+e))}function f(e,t,r){return r=r||"*",(t=E(t)||document).querySelector&&t.querySelector(r+("."+e).replace(/\s+/gm,"."))||A(e,t,r)[0]}function I(e,t,r){if(!(t=E(t)))return null;for(;r!==t&&(t=t.parentNode);)if(pe(t,e))return t;return null}function y(e,t){return(t||document).querySelectorAll(e)}function R(e,t){return(t||document).querySelector(e)}function O(e,t){return pe(t,e)?t:I(e,t)}function S(e,t){return e=e.toUpperCase(),t.nodeType===Node.ELEMENT_NODE&&t.tagName.toUpperCase()===e?t:T(e,t)}function T(e,t){if(!(t=E(t)))return null;for(e=e.toUpperCase();t=t.parentNode;)if(t.tagName&&t.tagName.toUpperCase()===e)return t;return null}function P(e,t=null,r=null){const a=document.createElement(e);return t&&(0,n.extend)(a,t),r&&ye(a,r),a}const b=function(e){const t=e.createDocumentFragment(),r=e.createElement("div"),n=e.createRange&&e.createRange();return t.appendChild(r),n&&n.selectNodeContents(r),n&&n.createContextualFragment?t=>t?n.createContextualFragment(t):e.createDocumentFragment():t=>{if(!t)return e.createDocumentFragment();r.innerHTML=t;const n=e.createDocumentFragment();for(;r.firstChild;)n.appendChild(r.firstChild);return n}}(document);function C(e){return(e=E(e))&&e.parentNode&&e.parentNode.removeChild(e),e}function D(e,t){for(t=t?"previousSibling":"nextSibling";e&&!e.tagName;)e=e[t];return e}const M=e=>D((e||{}).nextSibling),L=e=>D((e||{}).previousSibling,1),N=e=>D((e||{}).firstChild),k=e=>D((e||{}).lastChild,1),U=e=>(e||{}).parentNode,B=e=>N(P("div",{innerHTML:e})),x=e=>K(P("div",{innerHTML:e}));function F(e,t){return(0,n.each)(t,(function(t,r){e=e.replace(new RegExp("%"+t+"%","g"),(void 0===r?"":r).toString().replace(/\$/g,"&#036;"))})),e}function V(e,t){return(0,n.isString)(t)&&(t=B(t)),U(e).replaceChild(t,e),t}function K(e){const t=[],r=e.childNodes;for(let e=0;e<r.length;e++)r[e].tagName&&t.push(r[e]);return t}function W(e,t){const r=U(t);return r&&r.insertBefore(e,t)}function H(e,t){const r=U(t);return r&&r.insertBefore(e,M(t))}function G(e,t){return e?f(t,e):e}function j(e,t,r){return e?void 0!==r?(null===r?e.removeAttribute("data-"+t):e.setAttribute("data-"+t,r),r):e.getAttribute("data-"+t):null}function Y(e){let t=0;for(;null!=(e=L(e));)t++;return t}function z(e,t){do{e=U(e)}while(e&&!$(e,t));return e}function q(e,t,r){let n=null;for(;null===n&&e;)(e=-1===r?L(e):M(e))&&$(e,t)&&(n=e);return n}function $(e,t){if(!(e=E(e))||e===document)return!1;const r=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector||function(e){const t=(this.document||this.ownerDocument).querySelectorAll(e);let r=t.length;for(;--r>=0&&t.item(r)!==this;);return r>-1};return r.call(e,t)}function X(e){return $(e,":hover")}function Q(e,t){let r=E(e);if(t=E(t),!e||!t)return!1;for(;r=r.parentNode;)if(r===t)return!0;return!1}function J(){const e=s.browser.msie6?E("PageContainer"):document.body,t=document.documentElement;return[e.scrollLeft||t.scrollLeft||window.pageXOffset||0,e.scrollTop||t.scrollTop||window.pageYOffset||0,t.clientWidth||e.clientWidth||0,t.clientHeight||e.clientHeight||0]}function Z(e,t){let r=(t=t||{}).fromEl||U(e);const a=t.positions||["relative","absolute","fixed"];for(;r&&r!==document.body;){const e=Ie(r,"position");if((0,n.inArray)(e,a)&&(!t.noOverflow||"hidden"!==Ie(r,"overflow")))break;r=U(r)}return r}function ee(e,t){let r,n,a,_=e=E(e),c=!1;for(;_&&_.tagName&&_!==document.body;){if(r=Ie(_,"position"),n=Ie(_,"overflow"),a=Ie(_,"transform"),t&&s.browser.mozilla){if("page_wrap"!=_.id&&_!==e&&"visible"!==n&&("static"===r?!c||"relative"===c:"fixed"!==c))break}else if(_!==e&&"visible"!==n&&("static"===r?!c||"relative"===c:"fixed"!==c))break;"none"!==a?c=void 0:"static"!==r&&"fixed"!==c&&(c=r),_=U(_)}return _}function te(e){const t=arguments.length;if(t>1){for(let e=0;e<t;e++)te(arguments[e]);return}if(!(e=E(e))||!e.style)return;const r=e.olddisplay,n=e.tagName.toLowerCase();let a="block";e.style.display=r||"","none"===Ie(e,"display")&&(a=pe(e,"inline")||pe(e,"_inline")?"inline":pe(e,"_inline_block")?"inline-block":pe(e,"_flex")?"flex":"tr"!==n||s.browser.msie?"table"!==n||s.browser.msie?"block":"table":"table-row",e.style.display=e.olddisplay=a)}function oe(e){const t=arguments.length;if(t>1){for(let e=0;e<t;e++)oe(arguments[e]);return}if(!(e=E(e))||!e.style)return;const r=Ie(e,"display");e.olddisplay="none"!==r?r:"",e.style.display="none"}function ie(e){return!(!(e=E(e))||!e.style)&&"none"!==Ie(e,"display")}function re(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}function ne(e,t,r){r=r||0;const a=ce(e=E(e))[1],s=le(e)[1],_=window,c=document.documentElement,l=Math.max((0,n.intval)(_.innerHeight),(0,n.intval)(c.clientHeight)),u=E("page_header_cont"),d=c.scrollTop||document.body.scrollTop||window.scrollY||0,p=vk.staticheader?Math.max(0,le(u)[1]-d):le(u)[1];if(t){if(a+s<d+p+r)return a+s-d-p-r;if(a>d+l-r)return a-d-l+r}else{if(a<d+p+r)return a-d-p-r;if(a+s>d+l-r)return a+s-d-l+r}return 0}function ae(e,t){return void 0===t&&(t=!ie(e)),t?te(e):oe(e),t}function se(e){return void 0!==e.getBoundingClientRect}function _e(e,t){let r;if(t&&"inline"===Ie(e,"display")){const t=e.getClientRects();r=t&&t[0]||e.getBoundingClientRect()}else r=e.getBoundingClientRect();return r}function ce(e,t){if(!(e=E(e)))return[0,0];const r=e.ownerDocument;let n={top:0,left:0};if(!r)return[0,0];const a=r.documentElement;se(e)&&(n=_e(e,!0));const s=r===r.window?r:9===r.nodeType&&(r.defaultView||r.parentWindow);return[n.left+(t?0:s.pageXOffset||a.scrollLeft)-(a.clientLeft||0),n.top+(t?0:s.pageYOffset||a.scrollTop)-(a.clientTop||0)]}function le(e,t,r){e=E(e);const a=document.documentElement;let s,_=[0,0];if(t&&"border-box"===Ie(e,"boxSizing")&&(t=!1),e===document)_=[Math.max(a.clientWidth,document.body.scrollWidth,a.scrollWidth,document.body.offsetWidth,a.offsetWidth),Math.max(a.clientHeight,document.body.scrollHeight,a.scrollHeight,document.body.offsetHeight,a.offsetHeight)];else if(e){function c(){_=se(e)&&(s=_e(e,r))&&void 0!==s.width?[s.width,s.height]:[e.offsetWidth,e.offsetHeight],t&&(0,n.each)(_,(function(t,r){const a=t?["Top","Bottom"]:["Left","Right"];(0,n.each)(a,(function(){_[t]-=parseFloat(Ie(e,"padding"+this))||0,_[t]-=parseFloat(Ie(e,"border"+this+"Width"))||0}))}))}if(ie(e))c();else{const l={position:"absolute",visibility:"hidden",display:"block"},u={};let d=!1;e.style.cssText.indexOf("!important")>-1&&(d=e.style.cssText),(0,n.each)(l,(function(t,r){u[t]=e.style[t],e.style[t]=r})),c(),(0,n.each)(l,(function(t,r){e.style[t]=u[t]})),d&&(e.style.cssText=d)}}return _}function ue(e){return le(e)[0]}function de(e){return le(e)[1]}function pe(e,t){const r=E(e);return r&&r.classList&&r.classList.contains(t)}function Ee(e,t){const r=E(e);if(r&&r.classList)if(t.includes(" ")){` ${r.className} `.includes(` ${t} `)||(r.className=(r.className?`${r.className} `:"")+t)}else t.length&&!r.classList.contains(t)&&r.classList.add(t)}const he=(e,t,r)=>{r=(0,n.positive)(r),setTimeout(Ee.pbind(e,t),r)};function me(e,t){const r=E(e);t.length&&r&&r.classList&&r.classList.contains(t)&&r.classList.remove(t)}const ge=(e,t,r)=>{r=(0,n.positive)(r),setTimeout(me.pbind(e,t),r)};function Ae(e,t,r){const n=E(e);if(!t.length||!n||!n.classList)return!1;if(void 0===r)return n.classList.toggle(t);const a=n.classList.contains(t);return r&&!a?n.classList.add(t):!r&&a&&n.classList.remove(t),r}function ve(e,t,r,a){return a=(0,n.positive)(a),void 0===r&&(r=!pe(e,t)),(r?he:ge)(e,t,a),r}function fe(e,t,r){me(e,t),Ee(e,r)}function Ie(e,t,r){if(e=E(e),(0,n.isArray)(t)){const r={};return(0,n.each)(t,((t,n)=>r[n]=Ie(e,n))),r}if(!e)return"";if(void 0===r&&(r=!0),!r&&"opacity"===t&&s.browser.msie){const t=e.style.filter;return t?t.indexOf("opacity=")>=0?parseFloat(t.match(/opacity=([^)]*)/)[1])/100+"":"1":""}if(!r&&e.style&&(e.style[t]||"height"===t))return e.style[t];let a;const _=document.defaultView||window;if(_.getComputedStyle){t=t.replace(/([A-Z])/g,"-$1").toLowerCase();const r=_.getComputedStyle(e,null);r&&(a=r.getPropertyValue(t))}else if(e.currentStyle){if("opacity"===t&&s.browser.msie){const t=e.currentStyle.filter;return t&&t.indexOf("opacity=")>=0?parseFloat(t.match(/opacity=([^)]*)/)[1])/100+"":"1"}const r=t.replace(/\-(\w)/g,(function(e,t){return t.toUpperCase()}));a=e.currentStyle[t]||e.currentStyle[r],"auto"===a&&(a=0),a=(a+"").split(" "),(0,n.each)(a,(function(t,r){if(!/^\d+(px)?$/i.test(r)&&/^\d/.test(r)){const n=e.style,s=n.left,_=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,n.left=r||0,a[t]=n.pixelLeft+"px",n.left=s,e.runtimeStyle.left=_}})),a=a.join(" ")}if(r&&("width"===t||"height"===t)){const r=le(e,!0)[{width:0,height:1}[t]];a=((0,n.intval)(a)?Math.max((0,n.floatval)(a),r):r)+"px"}return a}function ye(e,t,r){if(e=E(e))if((0,n.isObject)(t))(0,n.each)(t,((t,r)=>ye(e,t,r)));else if("opacity"===t)s.browser.msie&&((r+"").length?e.style.filter=1!==r?"alpha(opacity="+100*r+")":"":e.style.cssText=e.style.cssText.replace(/filter\s*:[^;]*/gi,""),e.style.zoom=1),e.style.opacity!==r&&(e.style.opacity=r);else try{const n="number"==typeof r;n&&/height|width/i.test(t)&&(r=Math.abs(r)),r=n&&!/z-?index|font-?weight|opacity|zoom|line-?height/i.test(t)?r+"px":r,e.style[t]!==r&&(e.style[t]=r)}catch(e){(0,_.debugLog)("setStyle error: ",[t,r],e)}}function Re(e,t,r){if(!e)return!1;let n=e[vkExpand];return n||(n=e[vkExpand]=++vkUUID),void 0!==r&&(vkCache[n]||(vkCache[n]={},window.__debugMode&&(vkCache[n].__elem=e)),vkCache[n][t]=r),t?vkCache[n]&&vkCache[n][t]:n}function Oe(e,t,r){return e=E(e),void 0===r?e.getAttribute(t):(e.setAttribute(t,r),r)}function Se(e){for(let t=0,r=arguments.length;t<r;++t){const r=arguments[t];if(void 0!==e[r])try{delete e[r]}catch(t){try{e.removeAttribute(r)}catch(e){}}}}function Te(e,t){const r=!!e&&e[vkExpand];if(r)if(t){if(vkCache[r]){delete vkCache[r][t],t="";let n=0;for(const e in vkCache[r])if("__elem"!==e){n++;break}n||Te(e)}}else(0,a.removeEvent)(e),Se(e,vkExpand),delete vkCache[r]}function Pe(){const e=arguments;for(let t=0;t<e.length;++t){const r=E(e[t]);r&&(Te(r),Se(r,"btnevents"))}}function be(e,t,r){if((e=E(e))&&!e.titleSet){if(t||(t=e),t.scrollWidth>t.clientWidth||t.scrollHeight>t.clientHeight)e.setAttribute("title",r||e.innerText||e.textContent);else{const t=g("b",e);t&&(t.scrollWidth>t.clientWidth||t.scrollHeight>t.clientHeight)?e.setAttribute("title",r||e.innerText||e.textContent):e.removeAttribute("title")}e.titleSet=1}}function we(){const e=E("zoom_test_1")||document.body.appendChild(P("div",{id:"zoom_test_1"},{left:"10%",position:"absolute",visibility:"hidden"}));return(E("zoom_test_2")||document.body.appendChild(P("div",{id:"zoom_test_2"},{left:e.offsetLeft+"px",position:"absolute",visibility:"hidden"}))).offsetLeft/e.offsetLeft}function Ce(e,t=void 0,r=void 0){if(e=E(e))return void 0!==t&&(e.setValue?(e.setValue(t),!r&&e.phonblur&&e.phonblur()):"INPUT"===e.tagName||"TEXTAREA"===e.tagName?e.value=t:void 0!==e.emojiId&&window.Emoji?Emoji.val(e,t):e.innerHTML=t,!r&&(0,a.triggerEvent)(e,"valueChanged")),e.getValue?e.getValue():("INPUT"===e.tagName||"TEXTAREA"===e.tagName?e.value:e.innerHTML)||""}function De(e,t,r){e=E(e);try{if(e.focus(),void 0!==t&&!1!==t||(t=e.value.length),void 0!==r&&!1!==r||(r=t),e.setSelectionRange)e.setSelectionRange(t,r);else if(window.getSelection&&document.createRange){let t=document.createRange();t.selectNodeContents(e),t.collapse(!1);let r=window.getSelection();r.removeAllRanges(),r.addRange(t)}}catch(e){}}function Me(e,t,r){for(e=E(e),r=r||999;e&&!t(e);){if(0===--r)return!1;try{if((e=U(e))===document)return!1}catch(t){e=!1}}return e}r._dG("cssTransformProp",function(){const e=document.createElement("div");if(null==e.style.transform){const t=["Webkit","Moz","ms"];for(const r in t)if(void 0!==e.style[t[r]+"Transform"])return t[r]+"Transform"}return"transform"}());let Le=!1;function Ne(e){if(!Le)return window.document.title=(0,n.replaceEntities)(e)}function ke(e){Le=e,e&&window.cur&&window.cur.destroy.push((()=>{ke(!1)}))}function Ue(){r._dG("vkExpand",window.vkExpand||"VK"+(0,n.vkNow)()),r._dG("vkUUID",window.vkUUID||0),r._dG("vkCache",window.vkCache||{})}const Be=P},972332:(e,t,r)=>{"use strict";r.d(t,{KEY:()=>_,KEY_NAME:()=>c,addEvent:()=>l,cancelEvent:()=>p,checkEvent:()=>A,checkKeyboardEvent:()=>f,checkOver:()=>I,normEvent:()=>g,removeEvent:()=>u,stopEvent:()=>E,triggerEvent:()=>d});var n=r(754866),a=r(593159),s=r(575753);const _={LEFT:37,UP:38,RIGHT:39,DOWN:40,DEL:8,TAB:9,RETURN:13,ENTER:13,ESC:27,PAGEUP:33,PAGEDOWN:34,SPACE:32,CTRL:17,ALT:18,SHIFT:16,META_LEFT:91,META_RIGHT:93},c={Enter:"Enter"};function l(e,t,r,s,_,c){if(!(e=(0,n.ge)(e))||3==e.nodeType||8==e.nodeType)return;const l=_?function(){const e=function(e){const t=e.data;e.data=_;const n=r.apply(this,[e]);return e.data=t,n};return e.handler=r,e}():r;e.setInterval&&e!==window&&(e=window);const u=(0,n.data)(e,"events")||(0,n.data)(e,"events",{}),d=(0,n.data)(e,"handle")||(0,n.data)(e,"handle",function(e){return function(){m.apply(e,arguments)}}(e));(0,a.each)(t.split(/\s+/),(function(t,r){u[r]||(u[r]=[],!s&&e.addEventListener?e.addEventListener(r,d,c):!s&&e.attachEvent&&e.attachEvent("on"+r,d)),u[r].push(l)}))}function u(e,t,r,s){if(void 0===s&&(s=!1),!(e=(0,n.ge)(e)))return;const _=(0,n.data)(e,"events");if(_)if("string"==typeof t)(0,a.each)(t.split(/\s+/),(function(t,c){if(!(0,a.isArray)(_[c]))return;let l=_[c].length;if((0,a.isFunction)(r)){for(let e=l-1;e>=0;e--)if(_[c][e]&&(_[c][e]===r||_[c][e].handler===r)){_[c].splice(e,1),l--;break}}else{for(let e=0;e<l;e++)delete _[c][e];l=0}l||(e.removeEventListener?e.removeEventListener(c,(0,n.data)(e,"handle"),s):e.detachEvent&&e.detachEvent("on"+c,(0,n.data)(e,"handle")),delete _[c])})),(0,a.isEmpty)(_)&&((0,n.removeData)(e,"events"),(0,n.removeData)(e,"handle"));else for(const t in _)_.hasOwnProperty(t)&&u(e,t)}function d(e,t,r,s){e=(0,n.ge)(e);const _=(0,n.data)(e,"handle");if(_){const n=()=>_.call(e,(0,a.extend)(r||{},{type:t,target:e}));s?n():setTimeout(n,0)}}function p(e){if(!(e=e||window.event))return!1;for(;e.originalEvent;)e=e.originalEvent;return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.cancelBubble=!0,e.returnValue=!1,!1}function E(e){if(!(e=e||window.event))return!1;for(;e.originalEvent;)e=e.originalEvent;return e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,!1}function m(e){e=g(e);const t=Array.from(arguments);t[0]=e;const r=(0,n.data)(this,"events");if(!r||"string"!=typeof e.type||!r[e.type]||!r[e.type].length)return;const a=(r[e.type]||[]).slice();for(const r in a){if(!a.hasOwnProperty(r))continue;if("mouseover"===e.type||"mouseout"===e.type){let t=e.relatedElement;for(;t&&t!==this;)t=t.parentNode;if(t===this)continue}const n=a[r].apply(this,t);if(!1!==n&&-1!==n||p(e),-1===n)return!1}}function g(e){const t=e=e||window.event;if((e=(0,a.clone)(t)).originalEvent=t,e.target||(e.target=e.srcElement||document),3==e.target.nodeType&&(e.target=e.target.parentNode),!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement===e.target),null==e.pageX&&null!=e.clientX){const t=document.documentElement,r=document.body;e.pageX=e.clientX+(t&&t.scrollLeft||r&&r.scrollLeft||0)-(t.clientLeft||0),e.pageY=e.clientY+(t&&t.scrollTop||r&&r.scrollTop||0)-(t.clientTop||0)}return!e.which&&(e.charCode||0===e.charCode?e.charCode:e.keyCode)&&(e.which=e.charCode||e.keyCode),!e.metaKey&&e.ctrlKey?e.metaKey=e.ctrlKey:!e.ctrlKey&&e.metaKey&&s.browser.mac&&(e.ctrlKey=e.metaKey),!e.which&&e.button&&(e.which=1&e.button?1:2&e.button?3:4&e.button?2:0),e}function A(e){const t=e||window.event;return t&&("click"===t.type||"mousedown"===t.type||"mouseup"===t.type)&&(t.which>1||t.button>1||t.ctrlKey||t.shiftKey||s.browser.mac&&t.metaKey)||!1}function f(e){if(!(e=g(e))||!e.target)return!1;if(!e.screenX)return!0;const t=(0,n.getSize)(e.target),r=(0,n.getXY)(e.target),a=e.pageX-r[0],s=e.pageY-r[1];return a<-1||a>t[0]+1||s<-1||s>t[1]+1||Math.abs(e.pageX-r[0]-t[0]/2)<1&&Math.abs(e.pageY-r[1]-t[1]/2)<1}function I(e,t){if(!e)return!0;e=e.originalEvent||e,t=t||e.target;let r=e.fromElement||e.relatedTarget;if(!r||r===t||r===t.parentNode)return!0;for(;r!==t&&r.parentNode&&r.parentNode!==document.body;)r=r.parentNode;return r!==t}},250598:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ElementTooltip:()=>d,default:()=>p});var n=r(754866),a=r(593159),s=r(972332),_=r(672277),c=r(137771),l=r(153659),u=r(317216);class d{_initEvents(e){this._opts.autoShow&&(this._el_me_event=this._onMouseEnter.bind(this),(0,s.addEvent)(e,"mouseenter",this._el_me_event),this._opts.showOnKeyboard&&(this._el_kd_event=t=>{t.target!==e||t.keyCode!==s.KEY.ENTER&&t.keyCode!==s.KEY.SPACE||this.toggle()}),(0,s.addEvent)(e,"keydown",this._el_kd_event)),(this._opts.autoShow||this._opts.autoHide)&&(this._el_ml_event=this._onMouseLeave.bind(this),(0,s.addEvent)(e,"mouseleave",this._el_ml_event)),this._opts.autoShow||this._opts.customShow||(this._el_c_event=()=>{this._isShown&&this._opts.noHideOnClick||this.toggle(!this._isShown)},(0,s.addEvent)(e,"click",this._el_c_event))}_onMouseEnter(e){clearTimeout(this._hto),this._hto=!1,!this._isShown&&this._opts.autoShow&&(clearTimeout(this._reTimeout),this._reTimeout=!1,clearTimeout(this._sto),this._sto=setTimeout(this.show.bind(this),this._opts.delay))}_onMouseLeave(e){this._clearTimeouts(),this._hto=setTimeout(this._hide.bind(this),200)}_onMouseWindowClick(e){if(this._opts.noAutoHideOnWindowClick)return;let t=e.target;for(;t&&t!==this._ttel&&t!==document.body&&t!==this._el;)t=(0,n.domPN)(t);return(0,n.hasClass)(e.target,"_ap_layer__close")||t&&t!==document.body?void 0:(0,a.isFunction)(this._opts.onWindowClick)?(this._opts.onWindowClick(),(0,s.cancelEvent)(e)):(this.hide(!0),(0,s.cancelEvent)(e))}destroy(){let e;this._el_me_event&&(0,s.removeEvent)(this._el,"mouseenter",this._el_me_event),this._el_ml_event&&(0,s.removeEvent)(this._el,"mouseleave",this._el_ml_event),this._el_c_event&&(0,s.removeEvent)(this._el,"click",this._el_c_event),this._el_kd_event&&(0,s.removeEvent)(this._el,"keydown",this._el_kd_event),this._clearTimeouts(),(0,n.removeData)(this._el,"ett"),(0,n.re)(this._ttel),this._ev_wclick&&(0,s.removeEvent)(document,"mousedown",this._ev_wclick),this._ttel&&(e=(0,n.geByClass1)("_eltt_content",this._ttel)),this._opts.onDestroy&&this._opts.onDestroy(e)}hide(e,t){this._hide(e,t)}_onTooltipMouseEnter(e){this._clearTimeouts()}_onTooltipMouseLeave(e){this._onMouseLeave()}build(){if(!this._ttel){const e=this._opts.withCloseButton?"eltt_with_close_button":"";this._ttel=(0,n.se)(`\n        <div class="eltt ${this._opts.cls||""} ${e}" id="${this._opts.id}">\n          <div class="eltt_arrow_back _eltt_arrow_back">\n            <div class="eltt_arrow"></div>\n          </div>\n          <div class="eltt_content _eltt_content"></div>\n        </div>`),this._ttArrowEl=(0,n.geByClass1)("_eltt_arrow_back",this._ttel);const t=(0,n.geByClass1)("_eltt_content",this._ttel);if(this._opts.content&&((0,a.isString)(this._opts.content)?t.innerHTML=this._opts.content:t.appendChild(this._opts.content)),this._opts.withCloseButton){const e='\n          <div class="eltt_close_button"></div>\n        ';this._ttel.insertAdjacentHTML("beforeend",e),this._closeButton=this._ttel.lastElementChild;const t=e=>{e.stopPropagation(),this.hide(null,!0),this._opts.onCloseButtonClick&&this._opts.onCloseButtonClick()};this._closeButton.addEventListener("click",t),cur.destroy.push((()=>this._closeButton.removeEventListener("click",t)))}this._appendToEl&&this._appendToEl.appendChild(this._ttel),this._opts.onClick&&(this._ttel.addEventListener("click",this._opts.onClick),window.cur.destroy.push((()=>this._ttel.removeEventListener("click",this._opts.onClick))))}}show(){if(this._isShown)return void this.updatePosition();if(this._tooltipStats.handleShow(),this._opts.skipShow)return;if(this._clearTimeouts(),this._ttel||(this.build(),(this._opts.autoShow||this._opts.autoHide)&&(this._ev_ttenter=this._onTooltipMouseEnter.bind(this),this._ev_ttleave=this._onTooltipMouseLeave.bind(this),(0,s.addEvent)(this._ttel,"mouseenter",this._ev_ttenter),(0,s.addEvent)(this._ttel,"mouseleave",this._ev_ttleave))),this._opts.width){const e=(0,a.isFunction)(this._opts.width)?this._opts.width.call(this):this._opts.width;(0,n.setStyle)(this._ttel,"width",e)}(0,n.show)(this._ttel);const e=(0,n.geByClass1)("_eltt_content",this._ttel);this._opts.onFirstTimeShow&&!this._firstTimeShown&&this._opts.onFirstTimeShow.call(this,e,this._ttel),this._opts.onShow&&this._opts.onShow(e,!this._firstTimeShown),this._firstTimeShown=!0,this.updatePosition(),this._isShown=!0,this._el.setAttribute("aria-expanded","true"),this._visTO=setTimeout(n.addClass.pbind(this._ttel,"eltt_vis"),10),this._opts.elClassWhenShown&&(0,n.addClass)(this._el,this._opts.elClassWhenShown),this._ev_wclick&&(0,s.removeEvent)(document,"mousedown",this._ev_wclick),this._ev_wclick=this._onMouseWindowClick.bind(this),(0,s.addEvent)(document,"mousedown",this._ev_wclick)}static getType(e){switch(e){case"top":case"bottom":return d.TYPE_VERTICAL;case"right":case"left":return d.TYPE_HORIZONTAL}}getOptions(){return this._opts}updatePosition(){let e=this._opts.forceSide,t=!!this._opts.getTargetBoundingBox&&this._opts.getTargetBoundingBox(this);if(!t){const e=(0,n.getXY)(this._el),r=(0,n.getSize)(this._el);t={left:e[0],top:e[1],width:r[0],height:r[1]}}const r=this._opts.getWrapEl?this._opts.getWrapEl(this):(0,n.gpeByClass)("audio_layer_container",this._ttel),s=r||(0,n.domClosestOverflowHidden)(this._ttel),l=s!==document.body?(0,n.getXY)(s):[(0,_.scrollGetX)(),(0,_.scrollGetY)()+(0,c.getPageHeaderHeight)()],u=s!==document.body?(0,n.getSize)(s):[window.innerWidth,window.innerHeight],p=(0,n.getSize)(this._ttel),E=this._arrowSize,m=this._opts.noBorder?0:1,g=(0,a.isFunction)(this._opts.offset)?this._opts.offset():this._opts.offset;let A;const f=(e,r)=>{const a={},s=[vk.rtl?"marginRight":"marginLeft","marginTop"].indexOf(e);let _;_=this._opts.align===(vk.rtl?d.ALIGN_LEFT:d.ALIGN_RIGHT)?p[s]-Math.max(m+E+(r||0),Math.min(p[s],t[s?"height":"width"])/2):this._opts.align===(vk.rtl?d.ALIGN_RIGHT:d.ALIGN_LEFT)?Math.max(m+E+(r||0),Math.min(p[s],t[s?"height":"width"])/2):p[s]/2,a[e]=Math.floor(_)-m-E-(r||0),this._opts.onSetArrowPosition(a),(0,n.setStyle)(this._ttArrowEl,a)};if(this._opts.setPos)A=this._opts.setPos(this)||{},d.getType(e)===d.TYPE_VERTICAL?void 0!==A.arrowPosition?(0,n.setStyle)(this._ttArrowEl,{marginLeft:A.arrowPosition}):vk.rtl?f("marginRight"):f("marginLeft"):void 0!==A.arrowPosition?(0,n.setStyle)(this._ttArrowEl,{marginTop:A.arrowPosition}):f("marginTop");else{if(!e&&this._prevSide&&this._opts.preventSideChange)e=this._prevSide;else if(!e)if(this._opts.type===d.TYPE_VERTICAL){const r=document.body.classList.contains("body_im")?this._opts.bottomGap||60:this._opts.bottomGap||0,n=t.top-l[1]>p[1]+E-g[1],a=(0,_.scrollGetY)()+u[1]-(t.top+t.height+E)-r>p[1];e="top"===this._opts.defaultSide?n?"top":"bottom":a?"bottom":"top"}else e=t.left-l[0]<p[0]?"right":"left";let r,a,s,c,m,A,I=(0,n.getXY)(this._appendToEl),y=[t.left-I[0],t.top-I[1]],R=g[0]+y[0];this._opts.centerShift?(R+=this._opts.centerShift||0,r=this._opts.centerShift):this._opts.rightShift&&(r=-(p[0]/2-this._opts.rightShift),R+=r),this._prevSide=e;let O=20;const S=!this._opts.autoAdjustToViewport;switch(this._opts.align===(vk.rtl?d.ALIGN_LEFT:d.ALIGN_RIGHT)?(a=t.width-p[0],s=t.height-p[1]):this._opts.align===(vk.rtl?d.ALIGN_RIGHT:d.ALIGN_LEFT)?(a=0,s=0):(a=-p[0]/2+t.width/2,s=t.height/2-p[1]/2),e){case"bottom":m=a+R,A=t.height+E-g[1]+y[1],r||S||(c=a+t.left+g[0]+p[0]+O-(l[0]+u[0]),c<0&&(c=0),m-=c,r=-c),(0,n.setStyle)(this._ttel,{left:m,top:A});break;case"top":m=a+R,r||S||(c=a+t.left+g[0]+p[0]+O-(l[0]+u[0]),c<0&&(c=0),m-=c,r=-c),(0,n.setStyle)(this._ttel,{left:m}),A=-(0,n.getSize)(this._ttel)[1]-E+g[1]+y[1],(0,n.setStyle)(this._ttel,{top:A});break;case"right":m=t.width+E+R,A=s+g[1]+y[1],r||S||(c=s+t.top+g[1]-(l[1]+O),c>0&&(c=0),A-=c,r=-c),(0,n.setStyle)(this._ttel,{left:m,top:A});break;case"left":m=-p[0]-E+R,A=s+g[1]+y[1],r||S||(c=s+t.top+g[1]-(l[1]+O),c>0&&(c=0),A-=c,r=-c),(0,n.setStyle)(this._ttel,{left:m,top:A})}this._opts.type===d.TYPE_VERTICAL?vk.rtl?f("marginRight",r):f("marginLeft",r):f("marginTop",r)}(0,a.each)(["top","bottom","left","right"],function(t,r){e!==r&&(0,n.removeClass)(this._ttel,"eltt_"+r)}.bind(this)),(0,n.addClass)(this._ttel,"eltt_"+e),(0,n.setStyle)(this._ttel,A)}_hide(e,t){if(this.tempPreventHide)return;let r;if(e&&(r=u.ETooltipEventTypes.TOOLTIP_HIDE_BY_CLICK),t&&(r=u.ETooltipEventTypes.TOOLTIP_HIDE_BY_CROSS),this._tooltipStats.handleHide(r),this._isShown=!1,this._clearTimeouts(),this._reTimeout=setTimeout(function(){(0,n.hide)(this._ttel),this._el.setAttribute("aria-expanded","false"),this._opts.elClassWhenShown&&(0,n.removeClass)(this._el,this._opts.elClassWhenShown),this._opts.onHide&&this._opts.onHide(this._ttel,!!e,!!t)}.bind(this),d.FADE_SPEED),this._opts.onBeforeHide)try{this._opts.onBeforeHide(this._ttel,!!e,!!t)}catch(e){}(0,n.removeClass)(this._ttel,"eltt_vis"),this._ev_wclick&&(0,s.removeEvent)(document,"mousedown",this._ev_wclick)}isShown(){return this._isShown}toggle(){this.isShown()?this.hide():this.show()}_clearTimeouts(){this._visTO&&clearTimeout(this._visTO),this._visTO=!1,this._sto&&clearTimeout(this._sto),this._sto=!1,this._hto&&clearTimeout(this._hto),this._hto=!1,this._reTimeout&&clearTimeout(this._reTimeout),this._reTimeout=!1}getContent(){return(0,n.geByClass1)("_eltt_content",this._ttel)}constructor(e,t){if(this.constructor!==d)throw new Error("ElementTooltip was called without 'new' operator");if(!(e=(0,n.ge)(e))||!e.nodeType)throw new Error("First argument not a DOM element");if((0,n.data)(e,"ett"))return(0,n.data)(e,"ett");if(this._tooltipStats=new l.TooltipsStat(t.helpHintId||"unknown",t.skipShow||!1),this._opts=(0,a.extend)({delay:100,offset:[0,0],type:d.TYPE_VERTICAL,id:"",cls:"",width:null,appendToParent:!1,autoAdjustToViewport:!0,autoShow:!0,autoHide:!1,noHideOnClick:!1,arrowSize:"normal",customShow:!1,align:d.ALIGN_CENTER,withCloseButton:!1,skipShow:!1,onSetArrowPosition:()=>{}},t),this._opts.customShow&&(this._opts.autoShow=!1),this._opts.defaultSide||(this._opts.defaultSide=this._opts.type===d.TYPE_VERTICAL?"top":"left"),this._opts.cls+=" eltt_arrow_size_"+this._opts.arrowSize,this._opts.cls+=" eltt_align_"+this._opts.align,this._opts.noBorder&&(this._opts.cls+=" eltt_noborder"),this._opts.setPos&&!this._opts.forceSide)throw new Error("forceSide parameter should be set if you use setPos");if(this._appendToEl=this._opts.appendTo?this._opts.appendTo:this._opts.appendToParent?(0,n.domClosestPositioned)(e,{noOverflow:!0}):e,this._arrowSize={mini:d.ARROW_SIZE_MINI,normal:d.ARROW_SIZE_NORMAL,big:d.ARROW_SIZE_BIG}[this._opts.arrowSize],this._opts.forceSide){const e=d.getType(this._opts.forceSide);if(void 0===e)throw new Error("ElementTooltip: invalid 'forceSide' option provided: ",this._opts.forceSide);0,this._opts.type=e}this._opts.type===d.TYPE_HORIZONTAL&&void 0===t?.autoAdjustToViewport&&(this._opts.autoAdjustToViewport=!1),this._el=e,(0,n.data)(this._el,"ett",this),this._initEvents(e),this._clearTimeouts(),this._isShown=!1,this._el.setAttribute("aria-expanded","false")}}d.TYPE_VERTICAL=0,d.TYPE_HORIZONTAL=1,d.FADE_SPEED=100,d.ARROW_SIZE_MINI=9,d.ARROW_SIZE_NORMAL=8,d.ARROW_SIZE_BIG=16,d.ALIGN_LEFT="left",d.ALIGN_CENTER="center",d.ALIGN_RIGHT="right";const p=d},193694:(e,t,r)=>{"use strict";r.d(t,{initFavIcon:()=>s,setFavIcon:()=>a});var n=r(754866);function a(e,t){if(!window.icoNode)return;if(e=e+"?"+((stVersions||{}).favicon||""),icoNode.getAttribute("href")===e&&!t)return;const r=(0,n.ce)("link",{rel:"shortcut icon",type:"image/gif",href:e});headNode.replaceChild(r,icoNode),icoNode=r}function s(){r._dG("_iconAdd",window.devicePixelRatio>=2?"_2x":"")}},788789:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{giftsBox:()=>giftsBox,imageStatusPopup:()=>imageStatusPopup,mobilePromo:()=>mobilePromo,moneyTransferBox:()=>_moneyTransferBox__WEBPACK_IMPORTED_MODULE_11__.moneyTransferBox,reportAd:()=>reportAd,showAudioClaimWarning:()=>showAudioClaimWarning,showPollBox:()=>showPollBox,showSettingsAddressBox:()=>showSettingsAddressBox,showWriteMessageBox:()=>showWriteMessageBox,sureDeleteAll:()=>sureDeleteAll});var _web_lib_message_box__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(270959),_web_audio_player_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(909436),_web_lib_ui__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(683234),_web_lib_dom__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(754866),_web_lib_dom_events__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(972332),_web_lib_lang__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(102088),_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(237625),_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(246429),_shared_lib_web_stats__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(101272),_web_settings_addressBox__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(880789),_icons_desktop__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(936492),_web_ui_FlatButton__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(952661),_moneyTransferBox__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(205597);function showSettingsAddressBox(){(0,_web_lib_message_box__WEBPACK_IMPORTED_MODULE_0__.showBox)("al_settings.php",{act:"address_box"},{stat:[window.jsc("web/settings.js"),"settings.css"],params:{bodyStyle:"padding: 0;",hideButtons:!0},onDone(e,{hash:t}){(0,_web_settings_addressBox__WEBPACK_IMPORTED_MODULE_9__.initSettingsAddressBox)(e,t)}})}function showWriteMessageBox(e,t,r={}){cur.onFriendMessage&&cur.onFriendMessage(),window.stManager.add([window.jsc("web/page.js"),window.jsc("web/wide_dd.js")]);const n=(0,_web_lib_message_box__WEBPACK_IMPORTED_MODULE_0__.showBox)("al_im.php",{act:"a_write_box",to:t,...r.params},{stat:[window.jsc("web/writebox.js"),"writebox.css","wide_dd.css","page.css","post.css",window.jsc("web/emoji.js"),"notifier.css"],cache:1},e);return n&&(0,_web_lib_dom_events__WEBPACK_IMPORTED_MODULE_4__.cancelEvent)(e),window.WriteBox&&WriteBox.extractEmoji(),!n}function giftsBox(e,t,r){return cur.viewAsBox?cur.viewAsBox():!(0,_web_lib_message_box__WEBPACK_IMPORTED_MODULE_0__.showBox)("al_gifts.php",{act:"box",tab:r||"received",mid:e},{cache:1,stat:["gifts.css",window.jsc("web/gifts.js")]},t)}function reportAd(e,t){{let r="",n=null;const a=(0,_web_lib_message_box__WEBPACK_IMPORTED_MODULE_0__.showBox)("/reports.php",{act:"report_ad_box",ad_data:t},{onDone:function(){const e=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_3__.geByClass)("radiobtn","ad_report");window.radioBtns.ad_report={val:0,els:e};const t=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_3__.ge)("ad_csrf");r=t?t.value:r,n=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_3__.ge)("ad_comment")},params:{width:370,onClean:()=>{delete window.radioBtns.ad_report}},stat:["reports.css"]});a.removeButtons(),a.addButton((0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_5__.getLang)("box_send"),(s=>{ajax.post("reports.php",{act:"a_report_ad",ad_id:e,reason:window.radioBtns.ad_report.val,comment:n?n.value:"",ad_data:t,hash:r},{onDone:()=>{a.hide(),(0,_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_7__.showDoneBox)((0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_5__.getLang)("reports_thanks_for_report"))},showProgress:()=>(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_2__.lockButton)(s),hideProgress:()=>(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_2__.unlockButton)(s)})})),a.addButton((0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_5__.getLang)("global_cancel"),!1,"no")}}const mobilePromo=()=>(0,_web_lib_message_box__WEBPACK_IMPORTED_MODULE_0__.showBox)("al_login.php",{act:"mobile",box:1});function showAudioClaimWarning(e,t,r){const{id:n,ownerId:a,title:s}=e,_=t.id,{reason:c,original:l}=t,u={width:470};let d,p;if(e.restrictionStatus)return _web_audio_player_utils__WEBPACK_IMPORTED_MODULE_1__.AudioUtils.showAudioRestriction(e);"geo"===c?(d=(0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_5__.getLang)("audio_claimed_geo"),p=(0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_5__.getLang)("audio_claim_warning_title")):"site_rules_violation"===c?(d=(0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_5__.getLang)("audio_site_rules_violation_warning"),p=(0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_5__.getLang)("audio_site_rules_violation_header")):"replace"===c?(d=(0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_5__.getLang)("audio_claimed_replacement_available"),p=(0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_5__.getLang)("audio_claim_warning_title")):"subscription"===c?(u.hideButtons=!0,u.bodyStyle="padding: 0; border-radius: 4px;",u.width=450,p=!1,d=`\n      <div class="audio_claim_popup">\n        <div class="audio_claim_popup__title">${(0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_5__.getLang)("global_audio_only_with_subscription_title")}</div>\n        <div class="audio_claim_popup__text">${(0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_5__.getLang)("global_audio_only_with_subscription_text")}</div>\n        <div class="audio_claim_popup__close" onclick="curBox().hide()">${(0,_icons_desktop__WEBPACK_IMPORTED_MODULE_12__.getIcon24Cancel)().icon}</div>\n        ${_web_ui_FlatButton__WEBPACK_IMPORTED_MODULE_10__.FlatButton.render({appearance:_web_ui_FlatButton__WEBPACK_IMPORTED_MODULE_10__.FlatButtonAppearance.PRIMARY,size:_web_ui_FlatButton__WEBPACK_IMPORTED_MODULE_10__.FlatButtonSize.M,round:!0,restAttrs:{onclick:"AudioPlayer.showSubscriptionPopup()"},children:(0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_5__.getLang)("global_audio_only_with_subscription_btn")}).outerHTML}\n      </div>`):(d=(0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_5__.getLang)("audio_claim_warning"),p=(0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_5__.getLang)("audio_claim_warning_title")),u.title=p,d=d.replace(/\{audio\}/g,`<b>${s}</b>`),d=d.replace(/\{objection_link\}/g,`<a href="/help?act=cc_objection&claim=${_}&content=audio${a}_${n}">${(0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_5__.getLang)("audio_claim_objection")}</a>`),d=d.replace(/\{delete_link\}/g,`<a onclick="deleteAudioOnClaim(${a}, ${n}); return false;">${(0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_5__.getLang)("audio_claim_delete")}</a>`);const E=[u,d];let m=null;if(r&&l){const e=_web_audio_player_utils__WEBPACK_IMPORTED_MODULE_1__.AudioUtils.drawAudio(l,"no_extra");E[1]=d.replace(/\{original\}/g,l[_web_audio_player_utils__WEBPACK_IMPORTED_MODULE_1__.AudioUtils.AUDIO_ITEM_INDEX_PERFORMER]+" - "+l[_web_audio_player_utils__WEBPACK_IMPORTED_MODULE_1__.AudioUtils.AUDIO_ITEM_INDEX_TITLE])+"<br/><br/>"+e,E.push((0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_5__.getLang)("audio_replace_with_original"),(function(){(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_2__.lockButton)(m.btns.ok[0]),r((()=>m.hide()))})),u.textControls=`<a onclick="deleteAudioOnClaim(${a}, ${n}); return false;">${(0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_5__.getLang)("audio_claim_delete_capital")}</a>`}cur.claimWarning=m=_web_lib_message_box__WEBPACK_IMPORTED_MODULE_0__.showFastBox.apply(null,E)}function sureDeleteAll(title,text,where,objectId,toId,fromId,hash,event){if((0,_web_lib_dom_events__WEBPACK_IMPORTED_MODULE_4__.checkEvent)(event))return;const box=(0,_web_lib_message_box__WEBPACK_IMPORTED_MODULE_0__.showFastBox)({title},text,(0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_5__.getLang)("global_delete"),(function(btn){ajax.post("/delete_all.php",{act:where,object_id:objectId,to_id:toId,from_id:fromId,hash,loc:nav.objLoc[0]},{onDone:function(res){if(__debugMode)eval(res);else try{eval(res)}catch(e){(0,_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_6__.logEvalError)(e,res)}box.hide()},showProgress:()=>(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_2__.lockButton)(btn),hideProgress:()=>(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_2__.unlockButton)(btn)})}),(0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_5__.getLang)("global_cancel"));return!1}function imageStatusPopup(e,t){Object.assign(t,{act:"image_status"});const r=(0,_web_lib_message_box__WEBPACK_IMPORTED_MODULE_0__.showBox)("special_event.php",t,{containerClass:"ImageStatusPopup__container",params:{hideButtons:!0,needShadow:!1},onFail:function(){return window.cur.imageStatusBox&&window.cur.imageStatusBox.hide(),!0},onDone:function(e,t){const{status_id:r}=t;r&&(0,_shared_lib_web_stats__WEBPACK_IMPORTED_MODULE_8__.saveStatlogEvents)({name:"image_status",value:r,keys:["show_popup"]})}},e);r&&((0,_web_lib_dom_events__WEBPACK_IMPORTED_MODULE_4__.cancelEvent)(e),window.cur.imageStatusBox=r)}function showPollBox(e,{ref:t,className:r}={}){(0,_web_lib_message_box__WEBPACK_IMPORTED_MODULE_0__.showBox)("al_voting.php",{act:"get_layout",voting_id:e,for_box:!0,ref:t},{containerClass:r,params:{hideButtons:!0,width:510}})}},205597:(e,t,r)=>{"use strict";r.d(t,{moneyTransferBox:()=>d});var n=r(270959),a=r(593159),s=r(683234),_=r(754866),c=r(102088),l=r(246429),u=r(641608);function d(e,t,p,E,m,g,A){if(cur.viewAsBox)return cur.viewAsBox();if(m){if(!A){let r,a;return 2===m?(r=(0,c.curLang)("mail_money_transfer_cancel_confirm")||(0,c.getLang)("mail_money_transfer_cancel_confirm"),a=(0,c.curLang)("mail_money_transfer_cancel_btn")||(0,c.getLang)("mail_money_transfer_cancel_btn")):(r=(0,c.curLang)("mail_money_transfer_decline_confirm")||(0,c.getLang)("news_fb_money_transfer_decline_confirm"),a=(0,c.curLang)("mail_money_transfer_decline_btn")||(0,c.getLang)("news_fb_money_transfer_decline_btn")),void(cur.confirmBox=(0,n.showFastBox)((0,c.getLang)("global_action_confirmation"),r,a,d.pbind(e,t,p,E,m,!1,1),(0,c.getLang)("global_cancel")))}const r=(0,_.hasClass)((0,_.domPN)(E),"wall_postlink_preview_btn")||(0,_.hasClass)(E,"money_transfer__decline_button"),a=(0,_.geByClass1)("flat_button",(0,_.domPN)(E)),u=()=>{r?((0,_.addClass)(E.firstChild,"round_spinner"),(0,_.removeClass)(E.firstChild,"button")):(0,s.lockButton)(E)},g=()=>{r?((0,_.addClass)(E.firstChild,"button"),(0,_.removeClass)(E.firstChild,"round_spinner")):(0,s.unlockButton)(E)};return 2!==A&&((0,s.disableButton)(a,!0),u(E),cur.confirmBox&&cur.confirmBox.hide()),void ajax.post("al_payments.php?act=a_cancel_money_transfer",{tx_id:e,hash:t,from:r?"snippet":""},{onDone:function(n,s,c){0!==n?(r?((0,_.re)(E),(0,_.hasClass)(a,"secondary")||(0,_.domReplaceEl)(a,c)):(0,_.re)((0,_.domPN)(E)),(0,l.showDoneBox)(s),window.TopNotifier.invalidate()):setTimeout((()=>d(e,t,p,E,m,!1,2)),2e3)},onFail:function(e){return(0,s.disableButton)(a,!1),g(E),setTimeout((0,n.showFastBox)((0,c.getLang)("global_error"),e).hide,2e3),!0}})}return cur.acceptMoneyBtn=E,g?!u.MoneyTransfer.showMoneyTransferBox({request_id:e,request:g,hash:t},{stat:["payments.css",window.jsc("web/payments_legacy.js")]},(e=>((0,l.curBox)()&&(0,l.curBox)().hide(),setTimeout((0,n.showFastBox)((0,c.getLang)("global_error"),e).hide,2e3),!0))):!(0,n.showBox)("al_payments.php",{act:"accept_money_transfer_box",tx_id:e,hash:t},{stat:["payments.css",window.jsc("web/payments_legacy.js")],onFail:e=>((0,l.curBox)()&&(0,l.curBox)().hide(),setTimeout((0,n.showFastBox)((0,c.getLang)("global_error"),e).hide,2e3),!0),onDone(e,t){u.MoneyTransfer.initHandlers(),r._dG("cur",(0,a.extend)(window.cur,{paymentsOptions:t,paymentsPopupWrite(e){e.document.innerHTML!=cur._popup_text&&(e.document.write(window.cur._popup_text),e.document.close(),e.blur(),e.focus(),window.cur._popup_callback&&window.cur._popup_callback())}})),e.setOptions({width:510,bodyStyle:"padding: 0;",hideButtons:!0,onClean(){window.cur.moneyTranferCheckInt&&clearInterval(window.cur.moneyTranferCheckInt),window.removeEventListener("message",u.MoneyTransfer.frameMessage,!1)}}),u.MoneyTransfer.initAccept(t.chkData,t.frame)}},p)}},458840:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AudioMessagePlayer:()=>se,articlePrepare:()=>L.articlePrepare,bookmark:()=>z,bookmarkArticle:()=>$,bookmarkEvent:()=>ie,bookmarkLink:()=>Q,bookmarkNarrative:()=>oe,bookmarkPodcast:()=>J,bookmarkPost:()=>q,deleteAudioOnClaim:()=>ne,ensureShowPhoto:()=>U.ensureShowPhoto,feedImageClick:()=>_e,feedRPhotoClick:()=>le,getIconBookmarked:()=>Z,initTopAudioPlayer:()=>ae,initTopNotifier:()=>F,isArticleLayerOpen:()=>D.isArticleLayerOpen,isPhotoeditor3Available:()=>V,mentionClick:()=>ue,openArticleEditor:()=>N.openArticleEditor,podcastStartFrom:()=>Y,sendBookmarkLink:()=>X,sendImageStatusStat:()=>de,setIconBookmarked:()=>ee,setNewIconBookmarked:()=>te,shareAudioPlaylist:()=>re,showAlbum:()=>k.showAlbum,showAlbums:()=>k.showAlbums,showApp:()=>x.showApp,showManyPhoto:()=>K,showNftInfo:()=>G,showPhoto:()=>U.showPhoto,showPhotoTags:()=>B.showPhotoTags,showPodcast:()=>j,showVideoTags:()=>W,showWiki:()=>M.showWiki,videoCallback:()=>H});var n=r(905366),a=r(909436),s=r(898848),_=r(754866),c=r(593159),l=r(246429),u=r(972332),d=r(270959),p=r(575753),E=r(866467),m=r(810068),g=r(6898),A=r(101272),f=r(800361),I=r(680261),y=r(194025),R=r(977202),O=r(784394),S=r(447931),T=r(702510),P=r(667309),b=r(880526),C=r(974010),D=r(613253),M=r(414623),L=r(416362),N=r(741791),k=r(862471),U=r(254551),B=r(100538),x=r(346028);function F(){const e=[window.jsc("web/notifier.js"),"notifier.css"];return{preload:function(){window.stManager.add(e,(()=>window.TopNotifier.preload()))},show:function(t){if(!0!==(0,u.checkEvent)(t))return window.stManager.add(e,(()=>window.TopNotifier.show(t))),(0,u.cancelEvent)(t)},showTooltip:function(t){window.stManager.add(e,(()=>window.TopNotifier.showTooltip(t)))},invalidate:()=>{},setCount:()=>{},createNewEventsBox:()=>{},onBellClick:t=>{window.stManager.add(e,(()=>window.TopNotifier.onBellClick(t)))},onBellMouseDown:t=>{window.stManager.add(e,(()=>window.TopNotifier.onBellMouseDown(t)))},checkClick:(t,r)=>{window.stManager.add(e,(()=>window.TopNotifier.checkClick(t,r)))}}}function V(){return!p.browser.msie||parseInt(p.browser.version)>10}function K(e,t,r,n){Page.showManyPhoto(e,t,r,n)}function W(e,t,r){return cur.viewAsBox?cur.viewAsBox():(0,u.checkEvent)(r)?void 0:(window.stManager.add([window.jsc("web/video.js"),"video.css",window.jsc("web/photoview.js"),"photoview.css"],(function(){Photoview.showVideoTags(e,t)})),!1)}function H(e){const t=e.shift();if(window.Videoview&&Videoview.playerCallback[t])return Videoview.playerCallback[t].apply(Videoview,e);throw Error("Unregistered player callback: "+t)}function G(e,t){return(0,l.curBox)()||(0,d.showBox)("al_nft.php",{act:"token_details_modal",tokenId:t},{params:{hideButtons:!0,noCloseButton:!0,titleTransparent:!0,bodyStyle:"padding: 16px 24px"}}),(0,u.cancelEvent)(e)}function j(e,t,n,a,s){if(!vk.widget)return(0,_.show)(boxLoader),(0,_.show)(boxLayerWrap),(0,l.boxRefreshCoords)(boxLoader),Promise.all([r.e(91498),r.e(89631),r.e(762),r.e(79210),r.e(66060),r.e(25977),r.e(65400),r.e(6827),r.e("langs/web/podcasts_web")]).then(r.bind(r,525166)).then((function(r){r.default.show(e,t,null,a,s)})),n&&(0,u.cancelEvent)(n)}function Y(e,t,n,a){return Promise.all([r.e(91498),r.e(89631),r.e(762),r.e(79210),r.e(66060),r.e(25977),r.e(65400),r.e(6827),r.e("langs/web/podcasts_web")]).then(r.bind(r,525166)).then((function(r){r.default.goToTime(e,t,n,a)})),n&&(0,u.cancelEvent)(n)}function z(e,t,r,n,a=!1,u="",p="",m="",g=1,A){ajax.post("al_bookmarks.php",{act:"bookmark",owner_id:e,object_id:t,type:r,state:a?1:0,hash:n,item_access_hash:u,ref:p||cur.module,track_code:m,show_snack:g,source:A},{onDone:(n,a,u,p)=>{if(n&&!vk.widget){const m=function(n){const l=(0,_.geByClass1)("bookmarks_tag_set",n);if(l&&!(0,s.isEmpty)(a)){const n=[];(0,c.each)(a,((e,t)=>{n.push(t)})),n.sort(((e,t)=>e.order-t.order));let s='<div class="bookmarks_tags_list">';for(let e=0;e<n.length;e++){const t=n[e];s+=`<div class="bookmarks_tags_list_item" data-id="${t.id}">${t.name}</div>`}s+="</div>",s=(0,_.se)(s),s.addEventListener("click",(r=>{const n=(0,_.domClosest)("bookmarks_tags_list_item",r.target);if(n){const r=(0,_.domData)(n,"id"),a=(0,_.toggleClass)(n,"bookmarks_tags_list_item--selected");ajax.post("al_bookmarks.php",{act:"set_tag",item_type:u,item_oid:e,item_id:t,hash:p,tag_id:r,is_tagged:(0,c.intval)(!a),is_from_snackbar:!0},{onFail:e=>((0,d.showFastBox)((0,E.getLang)("global_error"),e),!0)})}})),cur.setBookmarksTagTooltip&&cur.setBookmarksTagTooltip.destroy(),window.stManager.add(["ui_common.css",window.jsc("web/ui_common.js")],(()=>{}));let m=new ElementTooltip(l,{content:s,appendToParent:!0,cls:"bookmarks_tag_set_tt",autoShow:!0,offset:"video"===r?[-95,-10]:[0,-36],onFirstTimeShow:e=>{window.stManager.add(["ui_common.css",window.jsc("web/ui_common.js")],(()=>{cur.setBookmarksTagTooltipScrolls||(cur.setBookmarksTagTooltipScrolls=[]),cur.setBookmarksTagTooltipScrolls.push(new uiScroll((0,_.domFC)(e),{theme:"dark"}))}))},onShow:function(){Notifier.freezeEvents(),curNotifier.tooltipShown=!0},onHide:function(){curNotifier.tooltipShown=!1,curNotifier.unfreezeAfterTooltipHide&&Notifier.unfreezeEvents()}});cur.destroy.push((()=>{cur.setBookmarksTagTooltipScrolls&&(cur.setBookmarksTagTooltipScrolls.forEach((function(e){e.destroy()})),delete cur.setBookmarksTagTooltipScrolls),m.destroy()}))}};(0,l.showDoneBox)(n,{tooltipHandler:m,link:"/bookmarks"})}}})}async function q(e,t,n,a,s,l,u="",d="",p=""){if(p){const{bookmarkClipPost:t}=await Promise.all([r.e(30424),r.e(88651),r.e("langs/web/bookmarkClipPost")]).then(r.bind(r,697698));return t(e,p,Z(e))}if((0,c.isObject)(window.cur)&&(0,c.isFunction)(window.cur.viewAsBox))return window.cur.viewAsBox();const E=Z(e);e.innerHTML=E?(0,_.domData)(e,"add"):(0,_.domData)(e,"remove"),(0,_.domData)(e,"state",E?0:1),z(t,n,a,s,E,l,u,d)}function $(e,t,r,n,a,s,_,c=!1){return t&&(_=Z(t),c?te(t,_,24):ee(t,_)),z(r,n,a,s,_),document.querySelectorAll(`._article_${r}_${n}`).forEach((e=>{const t=e.querySelector("._bookmark_btn");c?te(t,_,24):ee(t,_)})),(0,u.cancelEvent)(e)}function X(e,t,r,n,a,s){ajax.post("al_bookmarks.php",{act:"bookmark_link",state:e?1:0,hash:t,url:r,img:n,title:a,ref:cur.module,track_code:s},{onDone:e=>{e&&!vk.widget&&(0,l.showDoneBox)(e)}})}function Q(e,t,r){const n=Z(t);return ee(t,n),X(n,r,(0,_.domData)(t,"link-url"),(0,_.domData)(t,"link-img"),(0,_.domData)(t,"link-title"),(0,_.domData)(t,"track-code")),(0,u.cancelEvent)(e)}function J(e,t,n,a,s){return Promise.all([r.e(91498),r.e(89631),r.e(762),r.e(79210),r.e(66060),r.e(25977),r.e(65400),r.e(6827),r.e("langs/web/podcasts_web")]).then(r.bind(r,525166)).then((function(r){r.default.toggleFave(e,t,n,s)})),a&&(0,u.cancelEvent)(a)}function Z(e){return parseInt(e.dataset.state)}function ee(e,t){e.dataset.state=String(t?0:1),e.innerHTML=t?(0,R.getIcon24FavoriteOutline)().icon:(0,O.getIcon24Favorite)().icon}function te(e,t,r=16){e.dataset.state=String(t?0:1);const n={16:(0,S.getIcon16Bookmark)().icon,24:(0,T.getIcon24Bookmark)().icon}[r],a={16:(0,P.getIcon16BookmarkOutline)().icon,24:(0,b.getIcon24BookmarkOutline)().icon}[r];e.innerHTML=t?a:n}function oe(e,t,r,n,a,s){const _=Z(t);return ee(t,_),z(r,n,a,s,_),_||(0,y.sendNarrativeAnalytic)(y.NarrativeAnalyticEventType.addToBookmarks,{ownerId:r,id:n},window.cur.module),(0,u.cancelEvent)(e)}function ie(e,t,r,n){const a=Z(t);return ee(t,a),ajax.post("fave.php",{act:a?"a_delete_group":"a_add_group",gid:r,hash:n},{onDone:(e,t)=>{a||vk.widget||(0,l.showDoneBox)(t)}}),(0,u.cancelEvent)(e)}function re(e,t,r,n){return(0,d.showBox)("like.php",{act:"publish_box",object:"audio_playlist"+t+"_"+r,list:n},{stat:[window.jsc("web/wide_dd.js"),"wide_dd.css",window.jsc("web/sharebox.js")],params:{shareButtonElement:e?.target??null}}),(0,u.cancelEvent)(e)}function ne(e,t){const r=e+"_"+t,n=(0,_.geByClass1)("_audio_row_"+r);a.AudioUtils.deleteAudio(n,a.AudioUtils.getAudioFromEl(n,!0)),cur.claimWarning&&cur.claimWarning.hide()}function ae(){window.TopAudioPlayer.init()}const se={loaded:!1,events:{on(e,t){(0,C.voiceMessagePlayerLoader)().then((()=>{window.AudioMessagePlayer.events.on(e,t)}))}},togglePlay:function(e){(0,C.voiceMessagePlayerLoader)().then((()=>{window.AudioMessagePlayer.togglePlay(e)}))},toggleTranscript:function(e){(0,C.voiceMessagePlayerLoader)().then((()=>{window.AudioMessagePlayer.toggleTranscript(e)}))},detachPlayer:function(e){(0,C.voiceMessagePlayerLoader)().then((()=>{window.AudioMessagePlayer.detachPlayer(e)}))}};function _e(e,t,r={}){const n=e.getAttribute("data-id");n&&((0,f.isVideoStandalone)()?(t.preventDefault(),nav.go(`/@${m.Ranges.isGroupId(n)?"club":"id"}${m.Ranges.convertOwnerIdToGroupId(n)}`)):(0,I.isFakeVideoStandalone)()&&window.cur?.vkvideo_link&&(t.preventDefault(),window.location.href=`${window.cur.vkvideo_link}@${m.Ranges.isGroupId(n)?"club":"id"}${m.Ranges.convertOwnerIdToGroupId(n)}`))}const ce=e=>e.endsWith("/")?e.slice(0,-1):e;function le(e,t){if(t.preventDefault(),(0,f.isVideoStandalone)()&&window.cur?.vkvideo_link){const{pathname:t}=new URL(e);nav.go(`${ce(window.cur.vkvideo_link)}${t}`)}else nav.go(e)}function ue(e,t,r={}){e&&e.tt&&e.tt.hide&&e.tt.hide({fasthide:1});let a=e,s=!1;if((0,D.isArticleLayerOpen)()&&ArticleLayer.isStandalone()&&(s=!0),a.tagName&&"a"===a.tagName.toLowerCase()&&!a.getAttribute("target")&&!nav.baseBlank){const e=a.getAttribute("hrefparams");let t;e&&(r.params=(0,c.extend)(r.params||{},(0,g.fromQueryString)(e))),a=a.href||"",a=(0,n.stripVKSiteURLOrigin)(a),a.match(/#$/)||!(t=a.match(/^\/(.*?)(\?|#|$)/))?s=!0:(t=t[1],(t.indexOf(".php")>0||t.match(/^(doc\-?\d+_\d+|graffiti\d+|reg\d+|images|utils|\.js|js\/|\.css|css\/)/))&&(s=!0))}if(s){if(!!!(r&&r.params&&r.params._post&&r.params._post_click_type))return!0;e.setAttribute("data-change-location-with-post-away",1),a=e}const _=e.getAttribute("mention_id");if((0,f.isVideoStandalone)()&&_)a=`/@${_}`;else if((0,I.isFakeVideoStandalone)()&&window.cur?.vkvideo_link)return void(window.location.href=`${window.cur.vkvideo_link}@${_}`);return nav.go(a,t,r)}function de(e){e&&(0,A.saveStatlogEvents)({name:"image_status",value:e,keys:["popup_action"]})}},613253:(e,t,r)=>{"use strict";function n(){return window.ArticleLayer&&window.ArticleLayer.isShown()}r.d(t,{isArticleLayerOpen:()=>n})},741791:(e,t,r)=>{"use strict";r.d(t,{openArticleEditor:()=>_});var n=r(593159),a=r(270959),s=r(102088);function _(e,t,_,c={},l={}){if(cur.articleEditorLayer)return void cur.articleEditorLayer.openById(e,t);r._dG("initialFCCollapse","article");const u=[window.jsc("web/article_editor_layer.js"),"article.css","article_editor.css"];window.stManager.add(u,(()=>{}));const d=Object.assign({act:"open_editor",article_owner_id:e,article_id:t,from_post_convert:_?1:0,post_data_medias:_?_.medias.join(","):""},c);ajax.post("al_articles.php",d,{loader:!0,onFail:function(e){return l&&l.onFail&&l.onFail(e),"app"===l.from?l.errorHandler&&l.errorHandler("ServerError: Can't open article editor."):(0,a.showFastBox)((0,s.getLang)("global_error"),e),window.SAKIntegration&&window.SAKIntegration.isIntegrated&&window.SAKIntegration.sendMessage("error",{error:e}),!0},onDone:function(e,t,r,a,s,c){l&&l.onDone&&l.onDone(),window.WkView&&WkView.hide(),window.boxQueue&&boxQueue.hideAll(),_&&(c.postData=_),(0,n.extend)(window.cur.lang,c.lang),c.articleOwnerId?window.stManager.add(u,(function(){if(layers.fullhide=function(){cur.articleEditorLayer&&cur.articleEditorLayer.hide()},window.AuthorPage&&window.AuthorPage.isOpen()&&(cur.needAuthorPageHardBack=!0),cur.articleEditorLayer=new window.ArticleEditorLayer(e,t,r,a,c,s,(()=>delete cur.articleEditorLayer)),"app"===l.from){const e=e=>t=>{t.type=e,"publish"!==e&&"close"!==e||cur.articleEditorLayer&&cur.articleEditorLayer.hide(),l.eventHandler&&l.eventHandler(t)};cur.articleVkAppEditor={onSaveDraft:e("draft"),onPublish:e("publish"),onClose:e("close")}}})):nav.change({z:!1})}})}},862471:(e,t,r)=>{"use strict";r.d(t,{showAlbum:()=>s,showAlbums:()=>a});var n=r(972332);function a(e,t,r){return cur.viewAsBox?cur.viewAsBox():(0,n.checkEvent)(r)?void 0:(window.stManager.add([window.jsc("web/photoview.js"),"photoview.css"],(function(){Photoview.showAlbums(e,t)})),!1)}function s(e,t,r){return cur.viewAsBox?cur.viewAsBox():(0,n.checkEvent)(r)?void 0:(window.stManager.add([window.jsc("web/photoview.js"),"photoview.css"],(function(){Photoview.showAlbum(e,t)})),!1)}},346028:(e,t,r)=>{"use strict";r.d(t,{showApp:()=>s});var n=r(593159),a=r(414623);function s(e,t,r,s,_,c){c||(c={});let l=!1,u=(0,n.extend)({w:"app"+t},c);if(r=(0,n.intval)(r),s&&((0,n.isObject)(s)?u=(0,n.extend)(u,s):u.ref=s),c.layer&&(l=!0),(cur.apps&&cur.apps[t]||!r)&&!l){delete u.w;const r="app"+t+(_?"_"+_:""),n=nav.objLoc&&!nav.objLoc[1]&&nav.objLoc[0]===r;return nav.go("/"+r+nav.toStr(u),e,{nocur:n})}_&&(u.mid=_);const d={stat:[window.jsc("web/wkview.js"),"wkview.css",window.jsc("web/apps.js"),"apps.css"],...c?.wikiOptions};c.queue&&(d.queue=1);const p=cur.module;if(d.onHide=()=>{cur.module=p,c.onHide&&c.onHide()},c.urlHash&&(u.url_hash=c.urlHash),u["#"]){const e=u["#"];delete u["#"],d.onLoaded=()=>{nav.setLoc((0,n.extend)(nav.objLoc,{"#":e}))}}return(0,a.showWiki)(u,!1,e,d)}},396445:(e,t,r)=>{"use strict";r.d(t,{showDonutSubscribePopup:()=>u});var n=r(8520),a=r(972332),s=r(111476),_=r(153663),c=r(768035);function l(e,t,a){return(0,n.asyncImportLoader)((()=>Promise.all([r.e(2166),r.e("langs/web/showDonutSubscriptionModal")]).then(r.bind(r,255945))),3).then((({showDonutSubscriptionModal:r})=>{r(e,t,a)}))}function u(e,t,r,n={},u=""){if(!t&&!u)return;let d=!1;if("post_footer"===n.from||"post_likes"===n.from){const r=(0,_.getBaseDataFromPost)(e.target),{id:a}=(0,c.parseRawId)(r.postId),l=(0,_.resolveRefFromCur)();"post_footer"===n.from&&a&&s.FeedDonutPaymentStats.paymentFromFooter(a,t,r.trackCode,l),"post_likes"===n.from&&a&&s.FeedDonutPaymentStats.paymentFromLikes(a,t,r.trackCode,l)}const p={onAppClose:()=>{d&&(window.nav.objLoc.w&&(delete window.nav.objLoc.w,delete window.nav.objLoc.source,window.nav.setLoc(window.nav.objLoc)),window.nav.reload({noback:!0,force:["article_placeholder","im","video_placeholder"].includes(r)}))},levelId:n.levelId};"restore"===n.type?l("RevertModal",{ownerIdOrScreenName:t||u,onRevert:()=>{d=!0}},p):l("SubscribeModal",{ownerIdOrScreenName:t||u,source:r,onSubscription:e=>{d=!0,e||n?.onSuccessPayment?.()}},p),(0,a.cancelEvent)(e)}},254551:(e,t,r)=>{"use strict";r.d(t,{ensureShowPhoto:()=>p,showPhoto:()=>d});var n=r(593159),a=r(246429),s=r(972332),_=r(683234),c=r(903687),l=r(672263),u=r(153663);function d(e,t,r={},p){if(r&&r.additional&&r.additional.open_pe&&r.temp&&(0,c.isImgBlurred)(r.temp)){const n=function(){d(e,t,r,p)};return void Page.showUnblurBox(r.temp.restrictionTitle,r.temp.restrictionText,r.temp.photoRaw,r.temp.unblurHash,n)}if(r&&r.additional&&r.additional.open_pe&&r.temp&&r.temp.restrictionGeo&&delete r.additional.open_pe,cur.viewAsBox)return cur.viewAsBox();if((0,s.checkEvent)(p)||cur._editMode&&cur._editMode(p))return;if((0,l.isUnauthorizedMediaLayerBoxAvailable)()&&!r.forceUnauth)return l.Unauthorized.showMoreBox(null,0,l.UnauthorizedSourceType.PHOTO,(()=>{r.preventPhotoShowingInLayer||d(e,t,{...r,forceUnauth:!0},p)})),!1;const E=[window.jsc("web/photoview.js"),"photoview.css",window.jsc("web/page.js"),"page.css"];if(r.img&&(r.showProgress=function(){(0,_.showProgress)(r.img)},r.hideProgress=function(){(0,_.hideProgress)(r.img)}),!e)return!1;let m=1;if((r?.additional?.open_pe||r?.noCache)&&(m=0),window.Photoview&&!1===Photoview.showPhoto(e,t,r)&&m)return!1;let g=!0;if(cur.pvOptions||(cur.pvOptions={}),cur.pvOptions.isLightMode=r.isLightMode,r.temp&&!(cur.pvNoTemp||{})[e]&&window.stManager.add(E,(function(){(0,n.extend)(cur,{pvCancelLoad:function(){g=!1},pvData:cur.pvData||{},pvOptions:cur.pvOptions||{}}),cur.pvData.temp=[r.temp],cur.pvOptions.temp_final=r.temp_final,cur.pvOptions.temp_summary=r.temp_summary,cur.pvOptions.queue=r.queue,r.onBeforeLayersPreparing&&(cur.pvOptions.onBeforeLayersPreparing=r.onBeforeLayersPreparing),Photoview.show("temp",0)})),(0,n.extend)(r,{onDone:function(n){Photoview.list(e,t,n),r.blog_text&&arguments[3]&&arguments[3][0]&&(arguments[3][0].album=r.blog_text),Photoview.loaded.apply(window,arguments),g&&("deleted"===n?Photoview.showDeleted.apply(window,arguments):Photoview.showPhoto(e,t,r,!0))},onHide:r.onHide,onChange:r.onChange,onFail:e=>((0,a.showDoneBox)(e),!0),stat:E,cache:m}),r.temp_final)return!1;let A="";nav.objLoc.dmcah&&(A=nav.objLoc.dmcah);const f=(0,u.getTrackCodeFromPost)(p?.target);return ajax.post("al_photos.php",(0,n.extend)({act:"show",gid:cur.gid,photo:e,list:t,dmcah:A,module:cur.module||"",list_info:r.list_info||null,track_code:f},r.additional),r),!1}const p=(0,r(558137).makeSharedState)("showPhoto",(()=>d),{version:0})},100538:(e,t,r)=>{"use strict";r.d(t,{showPhotoTags:()=>a});var n=r(972332);function a(e,t,r){return cur.viewAsBox?cur.viewAsBox():(0,n.checkEvent)(r)?void 0:(window.stManager.add([window.jsc("web/photoview.js"),"photoview.css"],(function(){Photoview.showTagged(e,t)})),!1)}},414623:(e,t,r)=>{"use strict";r.d(t,{showWiki:()=>m});var n=r(593159),a=r(972332),s=r(153663),_=r(581034),c=r(540462),l=r(12973),u=r(457872),d=r(694742),p=r(60512),E=r(608814);function m(e,t,r,m={}){if((0,a.checkEvent)(r))return!0;if(0!==cur.gid&&(e.gid=cur.gid),e.location_owner_id=cur.oid,window.wkcur&&wkcur.shown&&wkcur.wkRaw===e.w&&e.w&&!e.reply)return WkView.restoreLayer(m),(0,a.cancelEvent)(r);(window.wkcur&&wkcur.hideTitle||e.hide_title)&&(m.hide_title=e.hide_title=1);const g=m.stat||[window.jsc("web/wkview.js"),"wkview.css","wk.css",window.jsc("web/wk.js")];t&&g.push(window.jsc("web/wk_editor.js"),"wk_editor.css");const A={stat:g,loader:!m.noloader,onDone:function(t,a,_,u){window.Feed?.viewStats?.onWkLayer(e.postId),e.w&&"string"==typeof e.w&&e.w.startsWith("wall")&&(0,c.partConfigEnabled)("feed_content_events_open_post_event_web")&&l.feedOpenItemCollector.logEvent({source:m.clickSource??"news_item_click"},{track_code:m.trackCode},(0,s.resolveRefFromCur)()),WkView.show(t,a,(0,n.extend)(_,m),u,r)},onFail:function(e){return(0,n.isFunction)(m.onFail)?m.onFail(e):e?WkView.showError(e):void 0}};if(nav.objLoc.claim&&(e.claim=nav.objLoc.claim),nav.objLoc.tariff_act&&(e.tariff_act=nav.objLoc.tariff_act),nav.objLoc._post&&(e._post=nav.objLoc._post),nav.objLoc._post&&(e._post=nav.objLoc._post),e.w&&"/query"===e.w.substr(-6)){const t=(0,n.clone)(nav.objLoc);delete t[0],delete t.w,e.query=JSON.stringify(t)}let f,I;m.preload&&(0,n.extend)(A,m.preload),m.ads_params&&(f=m.ads_params,I=nav.getPostParams(r&&r.target),I.post_click_url&&(f._post_click_url=I.post_click_url));let y="";(0,c.partConfigEnabled)("feed_global_var_replaced_by_Feed")&&"feed"===cur.module&&window.Feed?y=window.Feed.getModuleRef():"feed"===cur.module&&window.feed?y=window.feed.getModuleRef():"public"===cur.module?y="club":"profile"===cur.module&&(y="profile"),m.customRef&&(y=m.customRef);let R="";const O=(0,n.clone)(nav.objLoc);O.dmcah&&(R=O.dmcah),(0,c.partConfigEnabled)("feed_post_menu_stats")&&"post_menu"===m?.clickSection&&m?.trackCode&&u.FeedPostMenuStats.postStat(m.trackCode,(0,s.resolveRefFromCur)());const S=(0,c.partConfigEnabled)("web_spa_new_modals")&&(0,p.matchLayer)({layerName:"w",layerPath:e.w,layersConfig:E.webLayersConfig,partConfigEnabled:c.partConfigEnabled});return window.performance?.mark?.(d.PERFORMANCE_MARK_SHOW_WIKI),S||ajax.post("wkview.php",(0,n.extend)({act:"show",loc:nav.objLoc[0].includes("market/category")||nav.objLoc[0].includes("market/section")||nav.objLoc[0].includes("market/compilation")?"market":nav.objLoc[0],is_znav:m.isZnav,dmcah:R,ref:y,track_code:m.trackCode},e,f,cur.getWkviewOpts&&cur.getWkviewOpts()),A),(0,_.isMiniAppLayer)(S)&&(0,_.handleSpaMiniAppLayer)(S.layerParams,m),(0,a.cancelEvent)(r)}},568775:(e,t,r)=>{"use strict";r.d(t,{audioShowActionTooltip:()=>m,bookmarkTooltip:()=>A,mentionOver:()=>g,mobileOnlineTip:()=>p,pageVerifiedTip:()=>E});var n=r(342879),a=r(909436),s=r(593159),_=r(754866),c=r(540462),l=r(680261),u=r(120101),d=r(927848);function p(e,t){const r=t.asrtl?0:t.right?289:35,a=t.asrtl?" mobile_tt_asrtl":t.right?" mobile_tt_right":"";return(0,n.showTooltip)(e,{url:"al_login.php",params:{act:"mobile_tt",mid:t.mid,was:t.was},slide:15,ajxdt:200,showdt:200,hidedt:200,forcetoup:t.forcetoup,toup:!1,dir:"auto",asrtl:t.asrtl,appendParentCls:t.appendParentCls,shift:[r,8,7],className:"mobile_tt"+a})}function E(e,t){return(0,n.showTooltip)(e,{url:"/al_page.php",params:{act:"verified_tt",type:t.type,oid:t.oid,force_new_tab:t.forceNewTab?1:0,with_action:t.withAction},slide:15,ajxdt:200,showdt:200,hidedt:200,dir:"auto",shift:t.shift&&t.shift.length?t.shift:[95,5,7],className:"verified_tt",forcetodown:t.forceToDown,appendEl:t.appendEl})}function m(e,t,r){if(cur._addRestoreInProgress)return;const c=(0,_.gpeByClass)("_audio_row",e),l=a.AudioUtils.getAudioFromEl(c,!0);if(!l)return;const u=(0,_.domData)(e,"action"),p=a.AudioUtils.getRowActionName(u,l,c);if("snippet"===u){const t=d.AudioLongtapTooltip.ensure();if(t.isOpen)return;if(t.canShow())return void t.show(e)}const E={text:()=>p,black:1,shift:t||[7,4,0],needLeft:!0,forcetodown:r,noZIndex:!0};(0,s.each)(["_im_mess_stack","top_notify_wrap","_ape_audio_item","wk_history_audio_content"],(function(t,r){if((0,_.gpeByClass)(r,e))return E.appendParentCls=r,!1})),(0,_.gpeByClass)("_im_mess_stack",e)&&(E.shift=[7,10,0],E.noZIndex=!0);const m=e.closest(".CatalogBlock");m&&(E.appendEl=m),(0,n.showTooltip)(e,E)}function g(e,t={}){if(!(0,l.isFakeVideoStandalone)())if(!(0,c.partConfigEnabled)("mail_history_mention_popover")||"im"!==window.cur.module||window.TopNotifier.shown()||window.layers.visible)(0,n.showTooltip)(e,{url:"al_wall.php",params:{act:"mention_tt",mention:e.getAttribute("mention_id"),from:"wall"},shift:t.shift||[52,7,7],hidedt:t.hidedt||500,showdt:500,needLeft:t.needLeft,slide:15,checkLeft:!0,reverseOffset:t.reverseOffset||112,dir:"auto",appendEl:t.appendEl||(0,_.domClosest)("im-page-history-w",e)||(0,_.domClosest)("rb_box_wrap",e)||(0,_.domClosest)("wk_cont",e)||(0,u.isVKCOMProfileRedesignedEnabled)()&&(0,_.domClosest)("box_layout",e)||(0,_.domClosest)("scroll_fix_wrap",e)});else{const t=e.getAttribute("mention_id").match(/^(id|club)(\d+)$/);if(!t)return;let r;switch(t[1]){case"id":r=parseInt(t[2],10);break;case"club":r=-parseInt(t[2],10)}if(!r)return;window.reforgedME&&window.reforgedME.profileInfo&&window.reforgedME.profileInfo.mountProfileInfo({peerId:r,targetElement:e})}}function A(e){let t="";(0,_.gpeByClass)("_im_mess_stack",e)?t="_im_mess_stack":(0,_.gpeByClass)("wall_text",e)&&(t="scroll_fix_wrap"),(0,n.showTooltip)(e,{className:"bookmarks_tt ",shift:[32,8],text:()=>"1"===(0,_.domData)(e,"state")?(0,_.domData)(e,"remove"):(0,_.domData)(e,"add"),black:1,appendParentCls:t})}},939646:(e,t,r)=>{"use strict";r.d(t,{Fx:()=>_,animate:()=>c,animateCount:()=>O,cubicBezier:()=>l,fadeIn:()=>A,fadeOut:()=>f,fadeTo:()=>u,fadeToggle:()=>I,genFx:()=>p,getColor:()=>R,getRGB:()=>y,slideDown:()=>E,slideToggle:()=>g,slideUp:()=>m});var n=r(593159),a=r(754866),s=r(575753);const _={Transitions:{linear:(e,t,r,n)=>r*e/n+t,sineInOut:(e,t,r,n)=>-r/2*(Math.cos(Math.PI*e/n)-1)+t,halfSine:(e,t,r,n)=>r*Math.sin(Math.PI*(e/n)/2)+t,easeOutBack:function(e,t,r,n){const a=1.70158;return r*((e=e/n-1)*e*((a+1)*e+a)+1)+t},easeInCirc:(e,t,r,n)=>-r*(Math.sqrt(1-(e/=n)*e)-1)+t,easeOutCirc:(e,t,r,n)=>r*Math.sqrt(1-(e=e/n-1)*e)+t,easeInQuint:(e,t,r,n)=>r*(e/=n)*e*e*e*e+t,easeOutQuint:(e,t,r,n)=>r*((e=e/n-1)*e*e*e*e+1)+t,easeOutCubic:(e,t,r,n)=>r*((e=e/n-1)*e*e+1)+t,swiftOut:(e,t,r,n)=>r*l(.4,0,.22,1,e/n,4/n)+t},Attrs:[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity","left","top"]],Timers:[],TimerId:null};function c(e,t,r,_){if(!(e=(0,a.ge)(e)))return;const c=(0,n.isFunction)(_)?_:()=>{},l=(0,n.extend)({},"object"==typeof r?r:{duration:r,onComplete:c}),u={},p={},E=(0,a.isVisible)(e);let m;l.orig={},(t=(0,n.clone)(t)).discrete&&(l.discrete=1,delete t.discrete),s.browser.iphone&&(l.duration=0);let g=(0,a.data)(e,"tween"),A=E?"hide":"show";g&&g.isTweening&&(l.orig=(0,n.extend)(l.orig,g.options.orig),g.stop(!1),g.options.show?A="hide":g.options.hide&&(A="show"));for(const r in t)if(t.hasOwnProperty(r)){if(!g&&("show"===t[r]&&E||"hide"===t[r]&&!E))return l.onComplete.call(this,e);if("height"!==r&&"width"!==r||!e.style||(t.overflow||(void 0===l.orig.overflow&&(l.orig.overflow=(0,a.getStyle)(e,"overflow")),e.style.overflow="hidden"),(0,a.hasClass)(e,"inl_bl")||"TD"===e.tagName||(e.style.display="block")),/show|hide|toggle/.test(t[r]))if("toggle"===t[r]&&(t[r]=A),"show"===t[r]){m=0,l.show=!0,void 0===l.orig[r]&&(l.orig[r]=(0,a.getStyle)(e,r,!1)||"",(0,a.setStyle)(e,r,0));const n=e.style[r];e.style[r]=l.orig[r],t[r]=parseFloat((0,a.getStyle)(e,r,!0)),e.style[r]=n,"height"===r&&s.browser.msie&&!t.overflow&&(e.style.overflow="hidden")}else void 0===l.orig[r]&&(l.orig[r]=(0,a.getStyle)(e,r,!1)||""),l.hide=!0,t[r]=0}return l.show&&!E&&(0,a.show)(e),g=new d(e,l),(0,n.each)(t,(function(t,r){if(/backgroundColor|borderBottomColor|borderLeftColor|borderRightColor|borderTopColor|color|borderColor|outlineColor/.test(t)){if(m=R(e,"borderColor"===t?"borderTopColor":t),r=y(r),void 0===m)return}else{const n=r.toString().match(/^([+-]=)?([\d+-.]+)(.*)$/);n&&(r=parseFloat(n[2]),n[1]&&(r=("-="==n[1]?-1:1)*r+r)),m=g.cur(t,!0),0!=m||"width"!==t&&"height"!==t||(m=1),"opacity"===t&&r>0&&!E&&((0,a.setStyle)(e,"opacity",0),m=0,(0,a.show)(e))}(m!=r||(0,n.isArray)(m)&&m.join(",")===r.join(","))&&(u[t]=m,p[t]=r)})),g.start(u,p),(0,a.data)(e,"tween",g),g}function l(e,t,r,n,a,s){const _=function(t){const n=1-t;return 3*n*n*t*e+3*n*t*t*r+t*t*t},c=function(e){const r=1-e;return 3*r*r*e*t+3*r*e*e*n+e*e*e},l=function(t){const n=1-t;return 3*(2*(t-1)*t+n*n)*e+3*(-t*t*t+2*n*t)*r},u=a;let d;{let e;for(d=u,e=0;e<8;e++){const e=_(d)-u;if(Math.abs(e)<s)return c(d);const t=l(d);if(Math.abs(t)<1e-6)break;d-=e/t}}let p=0,E=1;if(d=u,d<p)return c(p);if(d>E)return c(E);for(;p<E;){const e=_(d);if(Math.abs(e-u)<s)return c(d);u>e?p=d:E=d,d=.5*(E-p)+p}return c(d)}function u(e,t,r,n){return c(e,{opacity:r},t,n)}class d{start(e,t){this.from=e,this.to=t,this.time=(0,n.vkNow)(),this.isTweening=!0;const r=e=>this.step(e);return r.el=this.el,r()&&_.Timers.push(r)&&!_.TimerId&&(_.TimerId=setInterval((function(){const e=_.Timers;let t=e.length;for(let r=0;r<t;r++)e[r]()||(e.splice(r--,1),t--);t||(clearInterval(_.TimerId),_.TimerId=null)}),13)),this}stop(e){const t=_.Timers;for(let r=t.length-1;r>=0;r--)t[r].el===this.el&&(e&&t[r](!0),t.splice(r,1));this.isTweening=!1}step(e){const t=(0,n.vkNow)();if(!e&&t<this.time+this.options.duration){this.cTime=t-this.time,this.now={};for(const e in this.to)if((0,n.isArray)(this.to[e])){const t=[];for(let r=0;r<3;r++){if(void 0===this.from[e]||void 0===this.to[e])return!1;t.push(Math.min(parseInt(this.compute(this.from[e][r],this.to[e][r])),255))}this.now[e]=t}else this.now[e]=this.compute(this.from[e],this.to[e]),this.options.discrete&&(this.now[e]=(0,n.intval)(this.now[e]));return this.update(),!0}return setTimeout(this.options.onComplete.bind(this,this.el),10),this.now=(0,n.extend)(this.to,this.options.orig),this.update(),this.options.hide&&(0,a.hide)(this.el),this.isTweening=!1,!1}compute(e,t){const r=t-e;return this.options.transition(this.cTime,e,r,this.options.duration)}update(){this.options.onStep(this.now);for(const e in this.now)(0,n.isArray)(this.now[e])?(0,a.setStyle)(this.el,e,"rgb("+this.now[e].join(",")+")"):void 0!==this.el[e]?this.el[e]=this.now[e]:(0,a.setStyle)(this.el,e,this.now[e])}cur(e,t){return null==this.el[e]||this.el.style&&null!=this.el.style[e]?parseFloat((0,a.getStyle)(this.el,e,t))||0:this.el[e]}constructor(e,t,r){this.el=(0,a.ge)(e),this.name=r,this.options=(0,n.extend)({onStep:()=>{},onComplete:()=>{},transition:t.transition||_.Transitions.sineInOut,duration:500},t||{})}}function p(e,t){const r={};return(0,n.each)(_.Attrs.concat.apply([],_.Attrs.slice(0,t)),(function(){r[this]=e})),r}_.Base=d;const E=(e,t,r)=>c(e,p("show",1),t,r),m=(e,t,r)=>c(e,p("hide",1),t,r),g=(e,t,r)=>c(e,p("toggle",1),t,r),A=(e,t,r)=>c(e,{opacity:"show"},t,r),f=(e,t,r)=>c(e,{opacity:"hide"},t,r),I=(e,t,r)=>c(e,{opacity:"toggle"},t,r);function y(e){let t;return e&&(0,n.isArray)(e)&&3==e.length?e:(t=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(e))?[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]:(t=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(e))?[2.55*parseFloat(t[1]),2.55*parseFloat(t[2]),2.55*parseFloat(t[3])]:(t=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e))?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:(t=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(e))?[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]:void 0}function R(e,t){let r;do{if(r=(0,a.getStyle)(e,t),0===r.indexOf("rgba")&&(r=""),""!=r&&"transparent"!==r||"body"===e.nodeName.toLowerCase())break;t="backgroundColor",e=e.parentNode}while(e);return y(r)}function O(e,t,r={}){if(e=(0,a.ge)(e),t=r.str?(0,n.trim)(t.toString())||"":(0,n.positive)(t),!e)return;if(s.browser.mobile&&!s.browser.safari_mobile&&!s.browser.android)return void(0,a.val)(e,t||"");let l=(0,a.data)(e,"curCount");const u=(0,a.data)(e,"nextCount");if("number"==typeof u||r.str&&"string"==typeof u)return void(t!=u&&(0,a.data)(e,"nextCount",t));if("number"==typeof l||r.str&&"string"==typeof l)return void(t!==l&&(0,a.data)(e,"nextCount",t));if(l=r.str?(0,n.trim)((0,a.val)(e).toString())||"":(0,n.positive)((0,a.val)(e)),"auto"===r.str&&(r.str=!l.match(/^\d+$/)||!t.match(/^\d+$/),r.str||(l=(0,n.positive)(l),t=(0,n.positive)(t))),l===t)return;(0,a.data)(e,"curCount",t);const d=r.str?l.length===t.length?l<t:l.length<t.length:l<t,p=(d?t:l).toString();let E,m,g=(d?l:t).toString(),A=[],f=[];for(r.str||(g=new Array(p.length-g.length+1).join("0")+g),E=0,m=p.length;E<m;E++){const e=p.charAt(E);if(e!==g.charAt(E))break;A.push(e)}let I=p.substr(E),y=g.substr(E);if(r.str){for(E=I.length;E>0;E--){const e=I.charAt(E);if(e!==y.charAt(E))break;f.unshift(e)}f.length&&(I=I.substr(0,E+1),y=y.substr(0,E+1))}A=A.join("").replace(/\s$/,"&nbsp;"),f=f.join("").replace(/^\s/,"&nbsp;"),(0,n.trim)((0,a.val)(e))||r.noSpaceIfEmpty||(0,a.val)(e,"&nbsp;");const R=e.clientHeight||e.offsetHeight;(0,a.val)(e,'<div class="counter_wrap inl_bl"></div>');const S=e.firstChild;let T,P,b,C,D=!0;A.length&&S.appendChild(T=(0,a.ce)("div",{className:"counter_const inl_bl",innerHTML:A})),A.length||r.allowZero||(y=y.replace(/^0+/,"")),y&&("0"!==y||r.allowZero||A.length)||(y=r.noSpaceIfEmpty?"":"&nbsp;",D=!!A.length),S.appendChild(b=(0,a.ce)("div",{className:"counter_anim_wrap inl_bl"})),b.appendChild(C=(0,a.ce)("div",{className:"counter_anim "+(d?"counter_anim_inc":"counter_anim_dec"),innerHTML:`<div class="counter_anim_big"><span class="counter_anim_big_c">${I}</span></div>`+(D?`<div class="counter_anim_small"><span class="counter_anim_small_c">${y}</span></div>`:"")},D?{marginTop:d?-R:0}:{right:0})),r.str&&(0,a.setStyle)(C,{textAlign:"right",right:0});const M=(0,a.getSize)((0,a.geByClass1)("counter_anim_big_c",C,"span"))[0];let L=D?"&nbsp;"===y?M:(0,a.getSize)((0,a.geByClass1)("counter_anim_small_c",C,"span"))[0]:0;!y&&r.noSpaceIfEmpty&&(L=0),f.length&&S.appendChild(P=(0,a.ce)("div",{className:"counter_const inl_bl",innerHTML:f})),r.noWrapWidth||(0,a.setStyle)(S,{width:(T&&(0,a.getSize)(T)[0]||0)+(P&&(0,a.getSize)(P)[0]||0)+M+0}),void 0===s.browser.csstransitions&&(s.browser.csstransitions=s.browser.chrome&&s.browser.version>=9||s.browser.mozilla&&s.browser.version>=4||s.browser.opera&&s.browser.version>=10.5||s.browser.safari&&s.browser.version>=3.2||s.browser.safari_mobile||s.browser.android);const N=s.browser.csstransitions;(0,a.setStyle)(b,{width:d?L:M});const k=function(){(0,a.val)(e,t||(r.noSpaceIfEmpty?"":" "));const n=(0,a.data)(e,"nextCount");(0,a.data)(e,"curCount",!1),(0,a.data)(e,"nextCount",!1),("number"==typeof n||r.str&&"string"==typeof n)&&setTimeout(O.pbind(e,n,r),0),r.onDone&&r.onDone()},U=D?{marginTop:d?0:-R}:{marginRight:d?-L:0};N?((0,a.getStyle)(b,"width"),(0,a.addClass)(b,"counter_css_anim_wrap"),M!==L&&(0,a.setStyle)(b,{width:d?M:L}),D&&(0,a.setStyle)(C,U),setTimeout(k,300),r.fadeMode&&((0,a.setStyle)((0,a.geByClass1)("counter_anim_big",e),"opacity",1),(0,a.setStyle)((0,a.geByClass1)("counter_anim_small",e),"opacity",0))):(M!==L&&c(b,{width:d?M:L},{duration:100}),D?c(C,U,{duration:300,transition:_.Transitions.easeOutCirc,onComplete:k}):setTimeout(k,300))}},265167:(e,t,r)=>{"use strict";r.d(t,{handleGlobalEsc:()=>T,onCtrlEnter:()=>S,onDocumentClick:()=>R,onEnter:()=>O});var n=r(31580),a=r(905366),s=r(636576),_=r(101148),c=r(540462),l=r(754866),u=r(972332),d=r(593159),p=r(983567),E=r(575753),m=r(469004),g=r(633009),A=r(6898),f=r(701563),I=r(298077),y=r(800361);function R(e){if((0,c.partConfigEnabled)("ignore_navgo_if_prevented")&&e.defaultPrevented)return;if((0,u.checkEvent)(e))return!0;if(m.ls.set("last_reloaded",[]),cur.onMouseClick&&cur.onMouseClick(e))return;if(!(e=window.event||e.originalEvent||e))return!0;e.target?.dataset?.donutLogEvent&&(0,f.logDonutEvent)(e.target.dataset.donutLogEvent);let t,r=8,p=e.target||e.srcElement;for(;p&&p!==document.body&&"A"!==p.tagName&&r--;)p=p.parentNode;if(!p||"A"!==p?.tagName)return!0;const E=(0,y.isVideoStandalone)()?Boolean(p.getAttribute("onclick")||p.getAttribute("onmousedown")):p.onclick||p.onmousedown;if((0,c.partConfigEnabled)("react_global_nav_handling")?Boolean(p.getAttribute("onclick")||p.getAttribute("onmousedown")):!(0,n.isAllowLinkOnclickWebForLink)(p)&&E)return!0;let g=p.href;const R=p.getAttribute("target")||nav.baseBlank;if(g&&R){if((0,l.domClosest)("bookmarks_row_type_link",p)){const e=(nav.fromStr(g)||{}).to;(0,s.statlogsValueEvent)("bookmarks_product_analytics",{link_url:e,time:(0,_.getServerTime)()})}return!0}g=(0,a.stripVKSiteURLOrigin)(g);const O={};if((t=g.match(/^\/(.+?)#[\!\/](.+?)$/))&&!t[1].match(/^app(\d+)/)&&!(0,c.partConfigEnabled)("mini_apps_navgo_hash_fix")){const e=g;O.permanent=t[1],g="/"+t[2],(0,c.partConfigEnabled)("mini_apps_navgo_hash_stats")&&(0,I.logError)("Legacy hash navigation",{breadcrumb:{data:{oldHref:e,newHref:`${g}?_permanent=${O.permanent}`}}})}const S=!!(p.getAttribute&&p.getAttribute("data-post-click-type")&&p.getAttribute("data-post-id"));if(g.match(/#$/)&&!S)return!0;const T=(0,l.domData)(p,"post-id");let P;T&&(O.postId=T);let b=g,C=null;const D=g.match(/^\/(.*?)(\?|#|$)/);if(D)C=D[1];else{if(p.hostname)P=p.hostname,C=p.pathname+p.search;else{const e=/^([^:\/]+)?(?::(\d+))?(\/?[^#]*)(#?.*)$/i.exec(g);if(!e)return!0;P=e[1],C=e[3]||"/"}if(!P||!S)return!0;p.setAttribute("data-change-location-with-post-away",1),b=p}if("add_community_app"===C)return(0,l.attr)(p,"target","_blank"),!0;if(C.indexOf(".php")>0||C.match(/^(doc\-?\d+_\d+|graffiti\d+|reg\d+|images\/|utils\/|\.js|js\/|\.css|css\/|source\b)/)){if(!S)return!0;p.setAttribute("data-change-location-with-post-away",1),b=p}const M=p.getAttribute("hrefparams");M&&(O.params=(0,d.extend)(O.params||{},(0,A.fromQueryString)(M)));try{return nav.go(b,e,(0,d.extend)({},O,{throwErrorOnDisabledPath:!0})),(0,u.cancelEvent)(e)}catch(e){return!0}}function O(e,t){(t=t||window.event).keyCode===u.KEY.ENTER&&(e(),(0,u.cancelEvent)(t))}function S(e,t){(10===(e=e||window.event).keyCode||13===e.keyCode&&(e.ctrlKey||e.metaKey&&E.browser.mac))&&(t(),(0,u.cancelEvent)(e))}function T(e){if(r._dG("_wf",1),e.keyCode===u.KEY.ESC&&boxQueue.count()&&!cur._noEscHide)return boxQueue.hideLast(),-1;if(e.keyCode===u.KEY.ESC&&window.articleCloseImageFullSize&&window.articleCloseImageFullSize())return(0,u.cancelEvent)(e);if(e.keyCode===u.KEY.ESC&&window.isArticleLayerOpen&&window.isArticleLayerOpen())return window.ArticleLayer.close(!0),(0,u.cancelEvent)(e);if(e.keyCode===u.KEY.ESC&&window.AuthorPage&&!cur.articleEditorLayer)return window.AuthorPage.close(),(0,u.cancelEvent)(e);if(e.keyCode===u.KEY.ESC&&(0,c.partConfigEnabled)("vkm_reforged_in_vkcom")&&"im"===window.cur?.module)return void((0,g.getCancelStack)().length&&((0,g.cancelStackPop)(),(0,u.cancelEvent)(e)));if(e.keyCode===u.KEY.ESC)return(0,g.cancelStackPop)(),(0,u.cancelEvent)(e);const t=[176,177,178,179];let n=!1;window.audioPlayer&&(t.push(u.KEY.LEFT),t.push(u.KEY.RIGHT)),(0,d.each)(t,(function(t,r){if(e.keyCode===r)return n=!0,!1})),n&&(0,p.getAudioPlayer)().onMediaKeyPressedEvent(e)}},749284:(e,t,r)=>{"use strict";r.d(t,{isInputActive:()=>d,placeholderInit:()=>m,placeholderSetup:()=>E});var n=r(754866),a=r(972332),s=r(939646),_=r(593159),c=r(575753),l=r(540462),u=r(342018);function d(){return document.activeElement&&((0,n.attr)(document.activeElement,"contenteditable")||"INPUT"===document.activeElement.tagName||"textarea"===document.activeElement.tagName)}function p(e,t={},r,a){const _=e.phshown,l=e.phcont,{back:u,editable:d,hideBackAfter:p,timeout:E,phColor:m="#8C8E91",activeColor:g="#C0C8D0"}=t,A=E||0===E?E:100,f=t.period||200;let I;if(I=d?(void 0!==e.textContent?e.textContent:e.innerText)||(0,n.geByTag)("img",e).length:e.value,_&&(u&&I||!u&&(r&&!r.type||I))?((0,n.hide)(l),e.phshown=!1):_||I||!u&&!a||((0,n.show)(l),e.phshown=!0,c.browser.opera&&a&&(e.setAttribute("placeholder",""),e.removeAttribute("placeholder",""))),u&&!I){if(r&&!r.type){const t=p?n.hide.pbind(l.firstChild.firstChild):null;clearTimeout(e.phanim),e.phanim=setTimeout((function(){(0,s.animate)(l.firstChild.firstChild,{color:g},f,t)}),A)}a&&(clearTimeout(e.phanim),p&&(0,n.show)(l.firstChild.firstChild),e.phanim=setTimeout((function(){(0,s.animate)(l.firstChild.firstChild,{color:m},f)}),A))}}function E(e,t){const r=(0,n.ge)(e);if(!r)return!1;if(!(r.getAttribute?r.getAttribute("contenteditable"):r.contenteditable)&&(0,l.partConfigEnabled)("native_placeholder_enable"))return!1;const s=t?(0,_.clone)(t):{};if(r.phevents&&!s.reload)return;const u=r.getAttribute?r.getAttribute("placeholder"):r.placeholder;if(!u)return;r.removeAttribute("placeholder");let d={},E=!1;const m=["Top","Bottom","Left","Right"];if(s.pad)d=s.pad;else{if(s.fast){for(let e=0;e<4;e++)d["padding"+m[e]]=3,d["margin"+m[e]]=0,d["border"+m[e]+"Width"]=1;(0,_.extend)(d,s.styles||{})}else{const e=[];for(let t=0;t<4;t++)e.push("margin"+m[t]),e.push("padding"+m[t]),e.push("border"+m[t]+"Width");d=(0,n.getStyle)(r,e)}for(let e=0;e<4;e++){const t="margin"+m[e],r="border"+m[e]+"Width";d[t]=(0,_.intval)(d[t])+(0,_.intval)(d[r])+"px",delete d[r]}}if(s.reload){const e=r.previousSibling;e&&(0,n.hasClass)(e,"input_back_wrap")&&(0,n.re)(e)}const g=s.big?" big":"",A=(0,n.getSize)(r)[0]-20,f=r.phcont=r.parentNode.insertBefore((0,n.ce)("div",{className:"input_back_wrap no_select",innerHTML:`<div class="input_back"><div class="input_back_content${g}" style="width: ${A}px;">${u}</div></div>`}),r),I=(0,n.domFC)(f);(0,n.setStyle)(I,d);const y=p.pbind(r,s),R=c.browser.mobile?y:(e,t)=>setTimeout(y.pbind(e,t),0);c.browser.msie&&c.browser.version<8&&(0,n.setStyle)(I,{marginTop:1}),r.phonfocus=function(e){E||(r.focused=!0,cur.__focused=r,!0===e&&((0,n.setStyle)(r,{backgroundColor:"#FFF"}),(0,n.hide)(I)),R(!0,!1))},r.phonblur=function(){E||(cur.__focused=r.focused=!1,(0,n.show)(I),R(!1,!0))},r.phshown=!0,r.phanim=null,(r.value||s.editable&&((void 0!==r.textContent?r.textContent:r.innerText)||(0,n.geByTag)("img",r).length))&&(r.phshown=!1,(0,n.hide)(f)),c.browser.opera_mobile||((0,a.addEvent)(f,"focus click",(function(e){E||(s.editableFocus?(setTimeout(s.editableFocus.pbind(r),0),r.phonfocus()):(r.blur(),r.focus()))})),(0,a.addEvent)(r,"focus"+(s.editable?" click":""),r.phonfocus),(0,a.addEvent)(r,"keydown paste cut input",R)),(0,a.addEvent)(r,"blur",r.phonblur),r.check=R,r.getValue=()=>s.editable?r.innerHTML:r.value,r.setPlaceholder=e=>(0,n.geByClass1)("input_back_content",f).textContent=e,r.setDisabled=e=>E=e,r.setValue=function(e){s.editable?r.innerHTML=e:r.value=e,p(r,s)},r.phevents=!0,r.phonsize=function(){},s.global||s.reload||(cur.__phinputs||(cur.__phinputs=[],cur.destroy.push(function(e){for(let t=0,r=e.length;t<r;t++)(0,n.removeData)(e[t])}.pbind(cur.__phinputs))),cur.__phinputs.push(r))}function m(e,t){const r=(0,n.ge)(e);if(!r)return!1;if(!(r.getAttribute?r.getAttribute("contenteditable"):r.contenteditable)&&(0,l.partConfigEnabled)("native_placeholder_enable"))return!1;const s=t?(0,_.clone)(t):{},d=void 0===(0,n.ce)("input").placeholder||r&&r.getAttribute&&r.getAttribute("contenteditable");if(r.phevents&&!s.reload)return;const p=r.getAttribute?r.getAttribute("placeholder"):r.placeholder;if(!p)return;if(r.getValue=function(){return s.editable?r.innerHTML:r.value},r.setValue=function(e){s.editable?r.innerHTML=e:r.value=e,d&&E(r,s)},r.phonfocus=function(){},r.phonblur=function(){},!d)return;function E(e,t={}){const r=e.phshown,a=e.phcont;let s;t.editable?(s=void 0!==e.textContent?e.textContent:e.innerText,s&&c.browser.opera&&s.match(/^[ ]+$/)&&(s=""),s||(s=(0,n.geByTag)("img",e).length>0),s||(s=(0,n.geByTag)("br",e).length>1),s||(s=(0,n.geByTag)("p",e).length>1)):s=e.value,r&&s?((0,n.hide)(a),e.phshown=!1):r||s||((0,n.show)(a),e.phshown=!0)}if(r.removeAttribute("placeholder"),s.reload){const e=(0,n.domNS)(r);e&&(0,n.hasClass)(e,"placeholder")&&(0,n.re)(e)}const m=r.phcont=(0,n.domInsertAfter)((0,n.ce)("div",{className:"placeholder",innerHTML:'<div class="ph_input"><label class="ph_content" for="'+r.id+'">'+p+"</label></div>"}),r),g=E.pbind(r,s),A=c.browser.mobile?g:(e,t)=>setTimeout(g.pbind(e,t),0);r.phonfocus=function(){r.focused=!0,cur.__focused=r,A(!0,!1)},r.phonblur=function(){cur.__focused=r.focused=!1,A(!1,!0)},r.phshown=!0,(r.value||s.editable&&((void 0!==r.textContent?r.textContent:r.innerText)||(0,n.geByTag)("img",r).length))&&(r.phshown=!1,(0,n.hide)(m)),c.browser.opera_mobile||((0,a.addEvent)(m,"focus click contextmenu",(function(e){s.editableFocus?(setTimeout(s.editableFocus.pbind(r),0),"contextmenu"===e.type&&c.browser.msie&&s.editableFocus(r),r.phonfocus()):(r.blur(),r.focus())})),(0,a.addEvent)(r,"focus"+(s.editable?" click":""),r.phonfocus),(0,a.addEvent)(r,"keydown paste cut input",A)),(0,a.addEvent)(r,"blur",r.phonblur),r.check=A,r.phevents=!0,r.phonsize=function(){},s.global||s.reload||(cur.__phinputs||(cur.__phinputs=[],(0,u.pushNavDestroy)((()=>{if(cur.__phinputs)for(let e=0,t=cur.__phinputs.length;e<t;++e)(0,n.removeData)(cur.__phinputs[e])}))),cur.__phinputs.push(r))}},102088:(e,t,r)=>{"use strict";r.d(t,{addLangKeys:()=>d,curLang:()=>S,getBigDateNew:()=>R,getDateText:()=>y,getLang:()=>n.getLang,getShortDate:()=>g,getShortDateOrTime:()=>f,getShortDateWithTime:()=>A,getSmDate:()=>O,langDate:()=>m,langLink:()=>E,langNumeric:()=>n.langNumeric,langSex:()=>n.langSex,langStr:()=>u,langTag:()=>p,langWordNumeric:()=>I,parseCyr:()=>c,parseLatKeys:()=>l,parseLatin:()=>_});var n=r(768602),a=r(593159),s=r(8520);function _(e){const t=["yo","zh","kh","ts","ch","sch","shch","sh","eh","yu","ya","YO","ZH","KH","TS","CH","SCH","SHCH","SH","EH","YU","YA","'"],r=["ё","ж","х","ц","ч","щ","щ","ш","э","ю","я","Ё","Ж","Х","Ц","Ч","Щ","Щ","Ш","Э","Ю","Я","ь"];let n=e;for(let e=0,a=t.length;e<a;e++)n=n.split(t[e]).join(r[e]);const a="abvgdezijklmnoprstufhcyABVGDEZIJKLMNOPRSTUFHCYёЁ";for(let e=0,t=48;e<t;e++)n=n.split(a.charAt(e)).join("абвгдезийклмнопрстуфхцыАБВГДЕЗИЙКЛМНОПРСТУФХЦЫеЕ".charAt(e));return n===e?null:n}function c(e){const t=["yo","zh","kh","ts","ch","sch","shch","sh","eh","yu","ya","YO","ZH","KH","TS","CH","SCH","SHCH","SH","EH","YU","YA","'"],r=["ё","ж","х","ц","ч","щ","щ","ш","э","ю","я","Ё","Ж","Х","Ц","Ч","Щ","Щ","Ш","Э","Ю","Я","ь"],n="абвгдезийклмнопрстуфхцыАБВГДЕЗИЙКЛМНОПРСТУФХЦЫеЕ";let a=e;for(let e=0;e<r.length;e++)a=a.split(r[e]).join(t[e]);for(let e=0;e<48;e++)a=a.split(n.charAt(e)).join("abvgdezijklmnoprstufhcyABVGDEZIJKLMNOPRSTUFHCYёЁ".charAt(e));return a===e?null:a}function l(e){const t="qwertyuiop[]asdfghjkl;'zxcvbnm,./`";let r=e;for(let e=0;e<34;e++)r=r.split(t.charAt(e)).join("йцукенгшщзхъфывапролджэячсмитьбю.ё".charAt(e));return r==e?null:r}function u(e){const t=arguments,r=t.length;let n=e+"";for(let e=1;e<r;e+=2){const r="%"===t[e][0]?t[e]:"{"+t[e]+"}";n=n.replace(r,t[e+1])}return n}function d(e,t=!1){let r;r="object"==typeof t?t:t?window:window.cur,r.lang?(0,a.extend)(r.lang,e):r.lang=e}function p(e,t,r,n="tag"){let a=r;return a=a.replace(`{${n}}`,e),a=a.replace(`{/${n}}`,t),a}function E(e,t,r="link",n=""){return p(`<a ${!1!==e?`href="${e}"`:""} ${n}>`,"</a>",t,r)}function m(e,t,r,n,_,c){let l;if(c||(c=""),(0,a.isArray)(t)||(t=["",t,t,t,t]),"number"==typeof e||"string"==typeof e?(e>2147483646e3&&(e=0),e+=r,l=new Date(e)):l=e,_)t=t[1];else{let e="";e=(0,s.isDateToday)(l)?t[3]:(0,s.isDateYesterday)(l)?t[2]:(0,s.isDateToday)(l)?t[4]:t[1],!e&&t[1]&&(e=t[1]),t=e}const u={hours:l.getHours(),minutes:l.getMinutes(),seconds:l.getSeconds(),day:l.getDate(),month:l.getMonth()+1,year:l.getFullYear()};let d="";switch(3===vk.lang&&(d=l.getHours()>11?"pm":"am",u.hours=l.getHours()%12==0?12:l.getHours()%12),vk.lang){case 1:switch(l.getHours()){case 11:t=t.replace(" о "," об ");break;case 0:t=t.replace(" о "," в ")}break;case 3:!(0,s.isDateToday)(l)||(0,s.isDateYesterday)(l)||(0,s.isDateTomorrow)(l)||(t=c+t);break;case 12:case 73:1==l.getHours()&&(t=t.replace(" &#224;s "," &#224; "))}return 68===vk.lang&&(u.year=u.year+543),t.replace("{hour}",u.hours).replace("{num_hour}",(0,s.leadingZero)(u.hours)).replace("{minute}",(0,s.leadingZero)(u.minutes)).replace("{day}",u.day).replace("{num_day}",(0,s.leadingZero)(u.day)).replace("{month}",n[u.month]).replace("{year}",u.year).replace("{short_year}",u.year%100).replace("{second}",(0,s.leadingZero)(u.seconds)).replace("{am_pm}",d)}function g(e,t,r,a,s){e*=1e3,void 0===r&&(r=!0),void 0===a&&(a=(0,n.getLang)("months_of","raw")),t*=1e3;const _=Date.now(),c=new Date(_),l=new Date(e+t);return!s&&e>_&&e-_<864e5&&c.getDate()===l.getDate()?m(e,"{hour}:{minute} {am_pm}",t,[],!r):l.getYear()!==c.getYear()||e<_-157248e5?m(e,(0,n.getLang)("global_date","raw"),t,a,!r):m(e,(0,n.getLang)("global_short_date","raw"),t,a,!r)}function A(e,t,r,n){return(0,s.isDateToday)(new Date(1e3*e+1e3*t))?m(1e3*e,"{hour}:{minute} {am_pm}",1e3*t,[],!r):`${g(e,t,r,n)} ${m(1e3*e,"{hour}:{minute} {am_pm}",1e3*t,[],!r)}`}function f(e,t,r,n){return(0,s.isDateToday)(new Date(1e3*e+1e3*t))?m(1e3*e,"{hour}:{minute} {am_pm}",1e3*t,[],!r):g(e,t,r,n)}function I(e,t,r){return(0,a.isArray)(t)&&e<t.length?t[e]:(0,n.langNumeric)(e,r)}function y(e,t){e+=t;const r=parseInt(Date.now()/1e3)-e;let s="";if(r<60)s=(0,n.getLang)("global_just_now");else if(r<3600){s=I((0,a.intval)(r/60),(0,n.getLang)("global_word_mins_ago","raw"),(0,n.getLang)("global_mins_ago","raw"))}else if(r<14400){s=I((0,a.intval)(r/3600),(0,n.getLang)("global_word_hours_ago","raw"),(0,n.getLang)("global_hours_ago","raw"))}else s=R(e,0,!0,"_l");return s}function R(e,t,r,a){void 0===r&&(r=!0),void 0===t&&(t=0),void 0===a&&(a=""),t*=1e3;const s=new Date(1e3*e),_=new Date;return s.getFullYear()!==_.getFullYear()&&s.getTime()<_.getTime()-1728e5||Math.abs(s.getTime()-_.getTime())>157248e5?m(1e3*e,(0,n.getLang)("global_date"+a,"raw"),t,(0,n.getLang)("months_sm_of"),!r):m(1e3*e,(0,n.getLang)("global_short_date_time"+a,"raw"),t,(0,n.getLang)("months_sm_of"),!r)}function O(e,t,r){void 0===r&&(r=!0),void 0===t&&(t=0);const a=new Date,s=a.getFullYear(),_=a.getMonth(),c=new Date(1e3*e),l=c.getFullYear(),u=c.getMonth();return m(1e3*e,l<s&&(_>1||u<9||s-l>=2)?(0,n.getLang)("global_date","raw"):(0,n.getLang)("global_short_date_time","raw"),t,(0,n.getLang)("months_sm_of","raw"),!r)}function S(e){if(void 0!==window.cur&&void 0!==window.cur.lang)return window.cur.lang[e]}},137771:(e,t,r)=>{"use strict";r.d(t,{getPageHeaderHeight:()=>f,onBodyResize:()=>O,onBodyScroll:()=>R,redraw:()=>y,updateNarrow:()=>I});var n=r(754866),a=r(672277),s=r(575753),_=r(540462),c=r(11387),l=r(898848),u=r(593159),d=r(683234),p=r(956460),E=r(983567),m=r(744968),g=r(664441);let A;function f(){const e=(0,n.ge)("page_header");return A=A||(e?e.offsetHeight:0),A}function I(){cur.__narrowBar=cur.__narrowBar||{},cur.__narrowBar.bar=cur.__narrowBar.bar||(0,n.ge)("narrow_column"),cur.__narrowBar.barBlock=cur.__narrowBar.bar&&(0,n.geByClass1)("page_block",cur.__narrowBar.bar),cur.__narrowBar.wideCol=cur.__narrowBar.wideCol||(0,n.ge)("wide_column"),cur.__narrowBar.isBarFixed=cur.__narrowBar.isBarFixed||"fixed"===(0,n.getStyle)(cur.__narrowBar.bar,"position"),cur.__narrowBar.pl=cur.__narrowBar.pl||(0,n.ge)("page_layout");const e=cur.__narrowBar.bar,t=cur.__narrowBar.barBlock,r=cur.__narrowBar.wideCol,_=(0,a.scrollGetY)();if(s.browser.mobile||!e||!t||!r||(0,n.isVisible)(boxLoader)||(0,n.isVisible)(boxLayerBG)||(0,n.isVisible)(layerBG))return;const c=window.lastWindowHeight||0,d=Math.min(_,document.body.clientHeight-c),p=cur.__narrowBar.pl,E=vk.staticheader?Math.max(0,f()-d):f(),m=cur.__narrowBar.isBarFixed,g=(0,l.floatval)((0,n.getStyle)(cur.__narrowBar.barBlock,"marginTop")),A=(0,n.getSize)(e)[1]-(m?g:0),I=(0,n.getSize)(r)[1],y=(0,n.getXY)(r)[1],R=A>=I-g,O=g,S=d+c-I-y-O,T=Math.max(0,S),P=y-E,b=(0,n.getXY)(e)[1]+(m?g:0),C=cur.__narrowBar.lastSt||0,D=cur.__narrowBar.lastStyles||{},M=E+O+A+g+T<=c&&!cur.narrowHide,L=cur.__narrowBarForceNotFixed;let N,k=!1;d-1<P&&!(M&&s.browser.msie&&b<E+g)||R?N={marginTop:0}:!L&&(d-1<Math.min(C,b-E-g)||M)?(N={top:E,marginLeft:Math.min(-document.body.scrollLeft,Math.max(-document.body.scrollLeft,document.body.clientWidth-(0,n.getSize)(p)[0]))},k=!0):!L&&(d+1>Math.max(C,b+A+O-c)&&S<0&&!cur.narrowHide||cur.narrowHide&&d+1>Math.max(C,b+A-E))?(N={bottom:cur.narrowHide?c-E:O,marginLeft:Math.min(-document.body.scrollLeft,Math.max(-document.body.scrollLeft,document.body.clientWidth-(0,n.getSize)(p)[0]))},k=!0):N={marginTop:S>=0?I-A:Math.min(b-y,I-A+P)},function(e,t){const r=(0,u.clone)(e),n=(0,u.clone)(t);return(0,l.each)(r,(function(e,t){"position"!==e&&(r[e]=Math.round(t))})),(0,l.each)(n,(function(e,t){"position"!==e&&(n[e]=Math.round(t))})),JSON.stringify(r)===JSON.stringify(n)}(N,D)||((0,l.each)(D,(function(e){D[e]=null})),(0,n.setStyle)(e,(0,u.extend)(D,N)),cur.__narrowBar.lastStyles=N),k!==m&&(0,n.toggleClass)(e,"fixed",k),cur.__narrowBar.lastSt=d,cur.__narrowBar.isBarFixed=k}function y(e,t){e&&"fixed"===(0,n.getStyle)(e,"position")&&(t?(0,n.removeClass)(e,t):(0,n.setStyle)(e,{position:"relative"}),e.offsetLeft,t?(0,n.addClass)(e,t):(0,n.setStyle)(e,{position:"fixed"}))}function R(){if(!window.pageNode)return;const e=Math.min(0,Math.max(-document.body.scrollLeft,document.body.clientWidth-(0,n.getSize)((0,n.ge)("page_layout"))[0]));s.browser.mobile||vk.staticheader||(0,g.updateHeaderStyles)({marginLeft:e}),(0,g.updateLeftMenu)(),I(),(0,d.updSideTopLink)()}function O(e){if(!window.pageNode)return;const{clientWidth:t,clientHeight:a}=document.documentElement;let u=Math.max((0,l.intval)(window.innerWidth),(0,l.intval)(t)),A=Math.max((0,l.intval)(window.innerHeight),(0,l.intval)(a)),f=!1;if(s.browser.mobile&&(u=Math.max(u,(0,l.intval)(document.body.scrollWidth)),A=Math.max(A,(0,l.intval)(document.body.scrollHeight))),window.lastWindowWidth!==u||!0===e){f=!0;const e=(0,d.sbWidth)(!0);r._dG("lastInnerWidth",r._dG("lastWindowWidth",u)),layerWrap.style.width=boxLayerWrap.style.width=u+"px";const t=layer.style.width=boxLayer.style.width=u-e-2+"px";if(window.mvLayerWrap&&!mvcur.minimized&&(mvLayerWrap.style.width=u+"px",mvLayer.style.width=t),window.wkLayerWrap&&(wkLayerWrap.style.width=u+"px",wkLayer.style.width=t),document.body.offsetWidth<vk.width+e+2&&(u=vk.width+e+2),u)for(let t=pageNode.firstChild;t;t=t.nextSibling){if(!t.tagName)continue;const n=r._dG("lastInnerWidth",u-e-1)-1,a=Boolean(window.innerWidth-document.documentElement.clientWidth);for(let e=t.firstChild;e;e=e.nextSibling)"scroll_fix"!==e.className||(0,_.partConfigEnabled)("video_videopage_theater_mode")&&(0,c.isStandaloneOrVideoPage)()&&!a||(e.style.width=n+"px");document.documentElement.style.setProperty("--scroll-fixed-width",`${n}px`),vk.staticheader||(0,g.updateHeaderStyles)({width:n})}}if((window.lastWindowHeight!==A||!0===e)&&(f=!0,r._dG("lastWindowHeight",A),layerBG.style.height=boxLayerBG.style.height=layerWrap.style.height=boxLayerWrap.style.height=A+"px",window.mvLayerWrap&&!mvcur.minimized&&(mvLayerWrap.style.height=A+"px"),window.wkLayerWrap)){const e=s.browser.mobile?window.innerHeight:A;wkLayerWrap.style.height=e+"px"}if(vk.noSideTop||(0,d.updSideTopLink)(1),f&&window.curRBox&&window.curRBox.boxes&&window.getWndInner){const e=getWndInner();(0,l.each)(curRBox.boxes,((t,r)=>r._wnd_resize(e[0],e[1])))}setTimeout(p.updSeenAdsInfo,0);const R=(0,E.getAudioPlayer)();R.audioLayer&&R.audioLayer.isShown()&&R.audioLayer.updatePosition(),cur.pvShown&&window.Photoview&&setTimeout(Photoview.updatePhotoDimensions),window.tooltips&&tooltips.rePositionAll(),cur.lSTL&&(0,n.setStyle)(cur.lSTL,{width:Math.max((0,n.getXY)(cur.lSTL.el)[0],0),height:A-1}),(0,n.ge)("dev_top_nav")&&(0,n.setStyle)((0,n.ge)("dev_top_nav","left",null));const O=(0,n.geByClass)("ui_search_fixed"),S=(0,n.ge)("narrow_column");(0,l.each)(O,(function(){y(this,"ui_search_fixed"),setTimeout(y.pbind(this,"ui_search_fixed"),0)})),S&&(y(S,"fixed"),setTimeout(y.pbind(S,"fixed"),0)),(0,g.updateLeftMenu)(),I(),(0,m.updateSTL)()}},226220:(e,t,r)=>{"use strict";r.d(t,{TopMenu:()=>O,autosizeSetup:()=>R,checkPageBlocks:()=>f.checkPageBlocks,getProgressBarEl:()=>T,getProgressHtml:()=>S,leftBlockOut:()=>y,leftBlockOver:()=>I});var n=r(593159),a=r(754866),s=r(939646),_=r(972332),c=r(575753),l=r(633009),u=r(314309),d=r(187403),p=r(590151),E=r(540462),m=r(957994),g=r(64323),A=r(965494),f=r(420839);function I(e){let t=1;e.id||(e=(0,a.ge)("left_hide"+e),t=0),!t&&e.timer||(e.showing?(0,a.removeAttr)(e,"showing"):((0,s.animate)(e,{opacity:t?1:.5},200),t&&(e.showing=1))),e.timer&&(clearTimeout(e.timer),(0,a.removeAttr)(e,"timer"))}function y(e){let t=.5;e.id||(e=(0,a.ge)("left_hide"+e),t=0),e.timer=setTimeout((function(){(0,s.animate)(e,{opacity:t},200),(0,a.removeAttr)(e,"timer")}),1)}function R(e,t={}){if(!(e=(0,a.ge)(e)))return;if(e.autosize)return void e.autosize.update();t.minHeight=(0,n.intval)(t.minHeight)||(0,n.intval)((0,a.getStyle)(e,"height")),t.maxHeight=(0,n.intval)(t.maxHeight);let r=(0,a.getSize)(e)[0]||(0,n.intval)((0,a.getStyle)(e,"width")),s=(0,a.getStyle)(e,"fontSize"),l=(0,a.getStyle)(e,"lineHeight");r<1&&(r=(0,n.intval)((0,a.getStyle)(e,"width",!1))),s.indexOf("em")>0&&(s=(0,n.floatval)(s)*parseInt(window.getComputedStyle(document.body).fontSize)),s=(0,n.intval)(s);const u={width:r,height:10,fontFamily:(0,a.getStyle)(e,"fontFamily"),fontSize:s+"px",lineHeight:l,boxSizing:(0,a.getStyle)(e,"boxSizing")};(0,n.each)(["Top","Bottom","Left","Right"],(function(){u["padding"+this]=(0,a.getStyle)(e,"padding"+this)})),e.autosize={options:t,helper:(0,a.ce)("textarea",{className:"ashelper"},u),handleEvent:function(t,r){let n=r.charCode?String.fromCharCode(r.charCode):r.charCode;if(void 0===n&&(n=String.fromCharCode(r.keyCode),10===r.keyCode||13===r.keyCode?n="\n":!c.browser.msie&&r.keyCode<=40&&(n="")),!n)return t;if(!c.browser.msie)return t.substr(0,e.selectionStart)+n+t.substr(e.selectionEnd);const a=document.selection.createRange();return a.text&&(t=t.replace(a.text,"")),t+n},update:function(t){let r=e.value;!t||"blur"===t.type||"keyup"===t.type||c.browser.msie&&"keypress"!==t.type||t.ctrlKey||t.altKey||t.metaKey||(r=e.autosize.handleEvent(r,t)),r||(r=" "),e.autosize.helper.value!==r&&(e.autosize.helper.value=r);const s=e.autosize.options,_=(0,a.getSize)(e,!0)[1];let u=e.autosize.helper.scrollHeight;const d=u%l;s.exact&&d>2&&(u-=d-2),u<s.minHeight&&(u=s.minHeight);const p={overflow:"hidden"},E=(0,a.getStyle)(e,"overflow").indexOf("auto")>-1?"auto":"hidden";s.maxHeight&&u>s.maxHeight&&(u=s.maxHeight,(0,n.extend)(p,{overflow:"auto",overflowX:"hidden"})),s.addHeight&&(u+=s.addHeight),_===u&&E===p.overflow||(p.height=u,(0,a.setStyle)(e,p),(0,n.isFunction)(s.onResize)&&s.onResize(u))}},t.exact&&("normal"===l&&(l="120%"),l.indexOf("%")>0&&(l=s*(0,n.intval)(l)/100)),utilsNode.appendChild(e.autosize.helper),c.browser.opera_mobile?((0,a.setStyle)(e,{overflow:"hidden"}),e.autosize.update(),(0,_.addEvent)(e,"blur",e.autosize.update)):((0,_.addEvent)(e,"keydown keyup keypress change",e.autosize.update),setTimeout((()=>{(0,a.setStyle)(e,{overflow:"hidden",resize:"none"});const t=(0,a.val)(e);(0,a.val)(e," ",!0),(0,a.val)(e,t,!0),e.autosize.update()}),0))}const O={init:function(){if(this.inited)return!1;this.ecoPlateAnalytics=new A.EcoPlateAnalytics;const e=(0,a.ge)("top_profile_link"),t=(0,a.ge)("top_profile_menu");if(!e||!t)return!1;(0,_.addEvent)(e,"mousedown",O.clicked),this.inited=!0,(0,d.initColorSchemeDropdowns)()},clicked:function(e){return(0,_.checkEvent)(e)||"mousedown"===e.type&&(0,_.checkKeyboardEvent)(e)||O.toggle(),!1},toggle:function(e){if((0,E.partConfigEnabled)("logout_save_user_dialog")){if(document.querySelector(".SaveUserForQuickLoginBox"))return}const t=(0,a.ge)("top_profile_link"),r=(0,a.ge)("top_profile_menu"),n=(0,a.hasClass)(r,"shown");if(void 0!==e&&n===e)return;void 0===e&&(e=!n);const s=(0,a.$)("[data-warning]")?.getAttribute("data-warning"),_=(0,a.$)("[data-security-svg]");((0,a.hasClass)(r,"top_profile_menu_new")||(0,a.hasClass)(r,"top_profile_menu_react"))&&(e?(u.vkConnectNavigationCollector.logAccountActionsOpen(s),(0,p.logSwitcherAccounts)(),null!==_&&(_.remove(),(0,m.api)("account.setSecurityIndicatorShown",{}))):u.vkConnectNavigationCollector.logAccountActionsClose(s)),this.ecoPlateAnalytics&&this.ecoPlateAnalytics.logTopNavToggle(e),(0,a.toggleClass)(t,"active",e),(0,a.toggleClass)(r,"shown",e),e?((0,l.cancelStackPush)("top_menu",O.toggle.bind(this,!1),!0),cur.introExitTooltipHide&&(cur.introExitTooltipHide(),delete cur.introExitTooltipHide)):(0,l.cancelStackFilter)("top_menu",!0)},show:function(){O.hidetimer&&(clearTimeout(O.hidetimer),O.hidetimer=0),O.toggle(!0)},hide:function(){O.hidetimer||(O.hidetimer=setTimeout((function(){O.toggle(!1),O.hidetimer=0}),200))},select:function(e,t){return!!(0,_.checkEvent)(t)||((0,g.logTopNavElements)(e.href),O.toggle(!1),nav.go(e,t,{noback:!0}))}};function S(e,t){return(0,a.rs)(window.vk.pr_tpl,{id:e||"",cls:t||""})}function T(e){return(0,a.geByClass1)("ui_progress_bar",e)}},604723:(e,t,r)=>{"use strict";r.d(t,{__qlClear:()=>y,cssAnim:()=>E,hideNewsAnnounce:()=>m,initLegacyBrowserDetectionInAttribute:()=>I,initPostsLegacyVars:()=>C,leftAdBlockClose:()=>g,leftBlockFriendTooltip:()=>f,leftBlockToggleFriend:()=>A,nodeUpdated:()=>b,onLoginCaptcha:()=>T,onLoginDone:()=>O,onLoginFailed:()=>S,onLoginReCaptcha:()=>P,storePasswordCredential:()=>R});var n=r(342879),a=r(683234),s=r(754866),_=r(939646),c=r(972332),l=r(593159),u=r(270959),d=r(575753),p=r(102088);function E(e,t,r,n){const a=(0,l.intval)(d.browser.version);if(e&&(d.browser.chrome&&a>14||d.browser.mozilla&&a>13||d.browser.opera&&a>2)){const a="all "+r.duration+"ms "+(r.func||"ease-out");e.style.WebkitTransition=a,e.style.MozTransition=a,e.style.OTransition=a,e.style.transition=a;const _=function(){return d.browser.opera&&(0,l.intval)(d.browser.version)<=12?e.removeEventListener("oTransitionEnd",_):(0,c.removeEvent)(e,"webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd",_),e.style.WebkitTransition="",e.style.MozTransition="",e.style.OTransition="",e.style.transition="",n&&n(),!1};n&&(d.browser.opera&&(0,l.intval)(d.browser.version)<=12?e.addEventListener("oTransitionEnd",_):(0,c.addEvent)(e,"webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd",_)),setTimeout(s.setStyle.pbind(e,t),0)}else(0,_.animate)(e,t,(0,l.extend)(r,{onComplete:n}))}function m(e,t){const r={act:"hide_block",block:e,hash:t};ajax.post("al_index.php",r),(0,s.hide)("news_announce_"+e)}function g(e,t,r){(0,s.setStyle)("left_hide"+e,{visibility:"hidden"}),function(e,t,r){let n="";const c=(0,u.showBox)("reports.php",{act:"hide_ad_box",ad_data:r},{onDone:function(){const e=(0,s.geByClass)("radiobtn","ad_hide");window.radioBtns.ad_hide={val:0,els:e};const t=(0,s.ge)("ad_csrf");n=t?t.value:n},params:{width:370,onClean:()=>{delete window.radioBtns.ad_hide}},stat:["reports.css"]});c.removeButtons(),c.addButton((0,p.getLang)("box_send"),(l=>{(0,a.lockButton)(l),ajax.post("reports.php",{act:"hide_ad",reason_id:window.radioBtns.ad_hide.val,ad_data:r,hash:n}),function(e,t,r){function n(t){if(!t.done)return;if("function"==typeof r&&r(),"ya_direct"===e)return(0,_.animate)(e,{opacity:0},200,(function(){(0,s.re)("ya_direct"),setTimeout((function(){AdsLight.updateBlock("force_hard",2)}),5e3)})),void(window.vk__adsLight.yaDirectAdActive=!1);const n=(0,s.ge)("ads_ad_close_info_"+e);if(!n)return!1;(0,s.setStyle)(n,{opacity:0}),n.style.setProperty("display","block","important"),setTimeout(a,0)}function a(){(0,_.animate)("ads_ad_close_info_"+e,{opacity:1},200,c)}function c(){(0,s.setStyle)("ads_ad_box2_"+e,{visibility:"hidden"})}ajax.post(t,{},{noAds:!0,onDone:n})}(e,t,(()=>{(0,a.unlockButton)(l),c.hide()}))})),c.addButton((0,p.getLang)("global_cancel"),!1,"no")}(e,t,r)}function A(e,t,r,n,a){n&&window.stManager.add(["tooltips.css",window.jsc("web/tooltips.js")]),cur.mfid=e,ajax.post("al_friends.php",{act:n?"add":"remove",mid:e,mf_type:t,hash:r,from:"leftblock"},{onDone:function(t,r,n){if(!t)return nav.reload();const a=(0,s.ge)("left_friend_status_"+e);(0,s.cleanElems)(a.firstChild),t?((0,s.show)(a),(0,s.val)(a,t)):(0,s.hide)(a),r&&(ajax.preload("al_friends.php",{act:"friend_tt",mid:e},[r,n]),setTimeout(f,0))},showProgress:function(){const t=((0,s.ge)("left_friend_subscribed")||{}).tt;t&&(t.hide({fasthide:1}),t.destroy()),(0,s.ge)("left_friend_status_"+e).innerHTML='<img src="/images/upload'+(window.devicePixelRatio>=2?"_2x":"")+'.gif" width="32" />'},hideProgress:()=>(0,s.hide)("left_friend_status_"+e),onFail:function(e){if(e)return(0,u.showFastBox)({title:(0,p.getLang)("global_error")},e),!0}}),(0,c.cancelEvent)(a)}function f(){return(0,n.showTooltip)((0,s.ge)("left_friend_subscribed"),{url:"al_friends.php",params:{act:"friend_tt",mid:cur.mfid,from:"leftblock"},slide:15,hidedt:500,shift:[40,-1,3],className:"preq_tt",forcetodown:!0})}function I(){let e=[];(0,l.each)(d.browser,(function(t,r){r&&!(0,l.inArray)(t,["version","mac","search_bot"])&&"flash"!==t.substr(0,5)&&e.push(t)})),e=e.join(" "),document.body.setAttribute("data-useragent",e)}function y(){clearTimeout(window.__qlTimer),setTimeout((()=>clearTimeout(window.__qlTimer)),2e3)}function R(e){if(!d.browserFeatures.cmaEnabled||!window.ResizeObserver||!(0,s.val)("quick_email"))return;if(void 0===window.PasswordCredential)return;const t=new PasswordCredential({id:(0,s.ge)("quick_email").value,password:(0,s.ge)("quick_pass").value,name:e.name,iconURL:e.photo_50});navigator.credentials.store(t)}function O(e,t){y(),R(t),nav.reload({force:!0,from:6})}function S(e,t){switch(y(),e){case-1:location.href=location.href.replace(/^http:/,"https:");break;case 4:let e="/login?m=1"+(t.expire?"&s=0":"");(0,l.each)(["email","ul","pch","to"],(function(r,n){t[n]&&(e+="&"+n+"="+t[n])})),location.href=e;break;case 7:location.href="/login?m=7";break;default:location.href="/login"}}function T(e,t){y(),(0,a.unlockButton)(window.__qfBtn),r._dG("qloginBox",(0,u.showCaptchaBox)(e,t,window.qloginBox,{onSubmit:function(e,t){!function(){const e=(0,s.ge)("quick_captcha_sid"),t=(0,s.ge)("quick_captcha_key"),r=(0,s.ge)("quick_recaptcha"),n=(0,s.ge)("quick_login_form");e||n.appendChild((0,s.ce)("input",{type:"hidden",name:"captcha_sid",id:"quick_captcha_sid",value:""})),t||n.appendChild((0,s.ce)("input",{type:"hidden",name:"captcha_key",id:"quick_captcha_key",value:""})),r||n.appendChild((0,s.ce)("input",{type:"hidden",name:"recaptcha",id:"quick_recaptcha",value:""}))}(),(0,s.ge)("quick_captcha_sid").value=e,(0,s.ge)("quick_captcha_key").value=t,(0,s.ge)("quick_login_form").submit()},onHide:()=>r._dG("qloginBox",!1)}))}function P(e,t){y(),(0,a.unlockButton)(window.__qfBtn),r._dG("qloginBox",(0,u.showReCaptchaBox)(e,t,window.qloginBox,{onSubmit:function(e){(0,s.ge)("quick_recaptcha").value=e,(0,s.ge)("quick_login_form").submit()},onHide:()=>r._dG("qloginBox",!1)}))}function b(e,t){(0,s.setStyle)(e,{backgroundColor:"#F5F7FA"}),(0,_.animate)(e,{backgroundColor:"#FFF"},t||6e3,(function(e){(0,s.setStyle)(e,{backgroundColor:null})}))}function C(){r._dG("_postsSeen",window._postsSeen??{}),r._dG("_postsSaved",window._postsSaved??{}),r._dG("_postsSaveTimer",window._postsSaveTimer??void 0),r._dG("_postsSendTimer",window._postsSendTimer??void 0),r._dG("_postsCleanTimer",window._postsCleanTimer??void 0),r._dG("_postsSeenModules",window._postsSeenModules??{}),r._dG("_postsExtras",window._postsExtras??{})}},689634:(e,t,r)=>{"use strict";r.d(t,{collectMemoryStats:()=>_,statDurationsLoadImage:()=>c,statNavigationTiming:()=>l});var n=r(636576),a=r(593159);function s(e,t){let r;for(let n=0;n<t.length;n++)if(r=t[n],">"===r)r=">"+t[n-1];else{if(1e3*r>e){r="<"+r;break}r=!1}return r}function _(){let e={};const t=[15,60,300,1500,5e3,1e4,15e3,2e4,25e3,3e4],r=[300,1500,5e3,3e4,6e4,12e4,">"];let a=!1;setInterval((function(){const _=window.cur&&window.cur.module;_!==a&&(e={},a=_);const c=window.vkLastNav;if(_&&c){const a=s(Date.now()-c,t);if(a&&!e[a]){const t=s(Date.now()-window.vkTabLoaded,r);e[a]=!0;const c=performance.memory.usedJSHeapSize;(0,n.statlogsValueEvent)("js_memory_stats_modules",c,_,a,t)}}}),5e3)}function c(){if(Math.random()<.001&&window.performance&&window.performance.getEntriesByType){if(window.clientStatsInited)return!1;const e=window.performance.getEntriesByType("resource");if(!e)return!1;const t={},s={};for(let r=0;r<e.length;r++)if(e[r]&&"img"===e[r].initiatorType)if(e[r].duration<100)t["<100"]=(t["<100"]||0)+1;else if(e[r].duration<250)t["100-250"]=(t["100-250"]||0)+1;else if(e[r].duration<500)t["250-500"]=(t["250-500"]||0)+1;else if(e[r].duration<1e3)t["500-1000"]=(t["500-1000"]||0)+1;else if(e[r].duration<2e3)t["1000-2000"]=(t["1000-2000"]||0)+1;else if(e[r].duration<5e3)t["2000-5000"]=(t["2000-5000"]||0)+1;else if(t[">5000"]=(t[">5000"]||0)+1,e[r].name&&e[r].name.indexOf("pp.vk.me")>0){let t="";t=e[r].name,t=t.substr(t.indexOf("pp.vk.me")+9),t.indexOf("/")>0&&(t=t.substr(0,t.indexOf("/")),s[t]=(s[t]||0)+1)}(0,a.each)(t,((e,t)=>(0,n.statlogsValueEvent)("img_load",t,e))),(0,a.each)(s,((e,t)=>(0,n.statlogsValueEvent)("img_slow",t,e))),r._dG("clientStatsInited",!0)}}function l(){if(window.clientStatsInitedNT)return!1;if(window.performance&&performance.timing){if(Math.random()>.001&&!__dev)return!1;const e={},t=window.cur&&window.cur.module;performance.timing.redirectStart&&performance.timing.redirectEnd&&(e.redirect=performance.timing.redirectEnd-performance.timing.redirectStart),performance.timing.domainLookupStart&&performance.timing.domainLookupEnd&&(e.domainLookup=performance.timing.domainLookupEnd-performance.timing.domainLookupStart),performance.timing.connectStart&&performance.timing.connectEnd&&(e.connect=performance.timing.connectEnd-performance.timing.connectStart,performance.timing.secureConnectionStart&&(e.secureConnection=performance.timing.connectEnd-performance.timing.secureConnectionStart)),performance.timing.requestStart&&performance.timing.responseStart&&(e.request=performance.timing.responseStart-performance.timing.requestStart,performance.timing.responseEnd&&(e.response=performance.timing.responseEnd-performance.timing.responseStart)),performance.timing.unloadEventStart&&performance.timing.unloadEventEnd&&(e.unloadEvent=performance.timing.unloadEventEnd-performance.timing.unloadEventStart),performance.timing.domLoading&&performance.timing.domComplete&&(e.processing=performance.timing.domComplete-performance.timing.domLoading),performance.timing.domContentLoadedEventStart&&performance.timing.domContentLoadedEventEnd&&(e.domContentLoadedEvent=performance.timing.domContentLoadedEventEnd-performance.timing.domContentLoadedEventStart),performance.timing.loadEventStart&&performance.timing.loadEventEnd&&(e.loadEvent=performance.timing.loadEventEnd-performance.timing.loadEventStart),performance.timing.loadEventEnd&&performance.timing.responseEnd&&(e.resource=performance.timing.loadEventEnd-performance.timing.responseEnd),(0,a.each)(e,((e,r)=>(0,n.statlogsValueEvent)("navigation_timing",r,e,t))),r._dG("clientStatsInitedNT",!0)}}},191468:(e,t,r)=>{"use strict";r.d(t,{shortCurrency:()=>s});var n=r(593159),a=r(754866);function s(){const e={};(0,n.each)((0,a.geByClass)("_short_currency"),(function(){const t=(0,a.domData)(this,"short")||"";if(!t)return!0;const r=this.innerHTML,s=(0,n.winToUtf)(r).length,_=(0,a.getStyle)(this,"fontFamily")||"tahoma,arial,sans-serif";if(void 0===e[_]){let t="";for(let e=s-1;e>=0;e--)t+="&#8399;";const n=(0,a.ce)("div",{innerHTML:`<b>${r}</b><b>${t}</b>`},{fontFamily:_,fontSize:"24px"});(0,a.ge)("utils").appendChild(n),e[_]=Math.abs(n.firstChild.offsetWidth-n.lastChild.offsetWidth)>=2*s,(0,a.re)(n)}!1===e[_]&&(0,a.val)(this,t)}))}},891787:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Nav:()=>Nav,default:()=>__WEBPACK_DEFAULT_EXPORT__,getPageContentWrapperNode:()=>getPageContentWrapperNode});var _shared_counters_tmr_moduleChangeHandler__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(830195),_shared_lib_js_logger__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(298077),_spa_shared_audio_player__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(744521),_web_di__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(319756),_web_lib_navigation_stats__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(192366),_shared_lib_nav_url__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(905366),_web_feed_constants_feedPageLoadingState__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(766135),_web_lib_date__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(101148),_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(246429),_utils_common__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(593159),_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(898848),_shared_ecomm_serviceBooking_getServiceBookingWikiParamFromPath__WEBPACK_IMPORTED_MODULE_48__=__webpack_require__(923030),_ads__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(956460),_debug_tools__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(237625),_shared_feed_selectors_constants__WEBPACK_IMPORTED_MODULE_56__=__webpack_require__(398402),_dom__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(754866),_dom_events__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(972332),_scroll__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(672277),_ui_util__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(560377),_shared_lib_convert__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(6898),_nav_utils__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(664441),_web_lib_z_nav__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(516742),_shared_counters_updateCounters__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(21871),_web_lib_check_page_blocks__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(420839),_web_lib_layout_body_utils__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(137771),_web_lib_revertLastInlineVideo__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(892848),_legacy_performance_stats__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(689634),_shared_lib_browser__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(575753),_web_audioplayer_getAudioPlayer__WEBPACK_IMPORTED_MODULE_51__=__webpack_require__(983567),_web_lib_feature_entries_isArticleLayerOpen__WEBPACK_IMPORTED_MODULE_54__=__webpack_require__(613253),_web_lib_feature_entries_showDonutSubscribePopup__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(396445),_accessibility__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(576854),_web_lib_top_search_cancel__WEBPACK_IMPORTED_MODULE_52__=__webpack_require__(419733),_web_lib_updateSTL__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(744968),_message_box__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(270959),_lang__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(102088),_shared_navigation_stats__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(79612),_web_lib_ajax_module_callback__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(287227),_shared_evbus__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(338329),_shared_user_user_env__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(540462),_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__(636576),_shared_im_peer__WEBPACK_IMPORTED_MODULE_50__=__webpack_require__(182622),_shared_marusia_marusia_stats__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__(67118),_web_lib_cur_reset__WEBPACK_IMPORTED_MODULE_53__=__webpack_require__(99968),_web_feed_feed_common__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__(153663),_web_feed_feedPageLoading_navigationHandler__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__(91871),_spa_web_infrastructure_bookmakers__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__(796804),_spa_web_infrastructure_routing_matchWebSpaRoute__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__(235930),_vkontakte_internal_router__WEBPACK_IMPORTED_MODULE_55__=__webpack_require__(773444),_shared_utils_articleCheckURL__WEBPACK_IMPORTED_MODULE_57__=__webpack_require__(87252),_shared_feed_adblock_protection_attributes_hider__WEBPACK_IMPORTED_MODULE_41__=__webpack_require__(374339),_shared_adblock_protection_locator__WEBPACK_IMPORTED_MODULE_42__=__webpack_require__(962724),_shared_metrics_navigationStats__WEBPACK_IMPORTED_MODULE_43__=__webpack_require__(412877),_shared_video_isVideoStandalone__WEBPACK_IMPORTED_MODULE_44__=__webpack_require__(800361),_shared_feed_feed_utils__WEBPACK_IMPORTED_MODULE_45__=__webpack_require__(54998),_shared_ecomm_serviceBooking_showServiceBookingWiki__WEBPACK_IMPORTED_MODULE_49__=__webpack_require__(859357),_version_skew_manager__WEBPACK_IMPORTED_MODULE_46__=__webpack_require__(790031),_shared_lib_web_stats__WEBPACK_IMPORTED_MODULE_47__=__webpack_require__(101272);let updateCountersTimeout,locationChangeListeners=[];const navigationStartListeners=new Set,interseptingNavigationHandlers=new Set,PAGE_CONTENT_WRAPPER_NODE_ID="wrap3";function getPageContentWrapperNode(){return document.getElementById(PAGE_CONTENT_WRAPPER_NODE_ID)??void 0}function isFrameNavigation(e){return e.frame?1:e.noframe||(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_34__.partConfigEnabled)("disable_frame_transport")?0:1}const Nav={getData:function(e,t=null){const r=e=>{(0,_shared_video_isVideoStandalone__WEBPACK_IMPORTED_MODULE_44__.isVideoStandalone)()&&(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_34__.partConfigEnabled)("vkvideo_nav_stats")&&(0,_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_35__.statlogsValueEvent)("vkvideo_router_event",{route:e.replaceAll("\\","%")})};if(e.length){for(const n in navMap){if(!navMap.hasOwnProperty(n))continue;if("<"===n[0])continue;const a=e.match(new RegExp("^"+n,"i")),s=(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_34__.partConfigEnabled)("web_spa_router_check_full_loc_enabled")&&t&&t.match(new RegExp("^"+n,"i"));if(a||s){if(navMap[n][2])return null;const e=navMap[n][3],t=e?.enabled&&(!0===e.enabled||(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_34__.partConfigEnabled)(e.enabled));return r(n),{url:navMap[n][0],files:t?[]:navMap[n][1],isSpaRoute:t,clientOnly:Boolean(t&&e?.client_only&&(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_34__.partConfigEnabled)(e.client_only))}}}return e.match(/^[a-z0-9\-_]+\.php$/i)?(r(e),{url:e}):(r("<other>"),{url:navMap["<other>"][0],files:navMap["<other>"][1]})}return r("<void>"),{url:navMap["<void>"][0],files:navMap["<void>"][1]}},getDataAsync:function(e,t=null){return new Promise((r=>{(window.onLoaderNavReady||(e=>e()))((()=>r(this.getData(e,t))))}))},routeData:function(){try{const e=this.objLoc?.[0],t=/^friends/,r=/^(games|apps)/,n=this.strLoc,a=(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_34__.partConfigEnabled)("web_spa_router_friends_check_full_loc_enabled")&&n.match(t),s=(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_34__.partConfigEnabled)("games_catalog_spa_web")&&n.match(r),_=n&&(a||s)?n:null;if(e)return this.getData(e,_)||{}}catch{return{}}return{}},reload:function(e){if((0,_nav_utils__WEBPACK_IMPORTED_MODULE_18__.reloadCheckFlood)(e))return;if((0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_34__.partConfigEnabled)(_version_skew_manager__WEBPACK_IMPORTED_MODULE_46__.VERSION_SKEW_ENABLED_PE)&&window.Calls?.isInActiveCall)return;e=e||{};const t=Nav.strLoc.replace(/^\/+/g,"");e.force?(window.hab.stop(),e.from&&e.from>0&&(0,_shared_lib_web_stats__WEBPACK_IMPORTED_MODULE_47__.saveStatlogEvents)({name:"navigation_force_reload_event",value:1,keys:[e.from]}),t.includes("#")&&window.location.href.replace(window.location.origin,"")==="/"+t&&(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_34__.partConfigEnabled)("mini_apps_save_hash_on_language_change")?window.location.reload():location.href="/"+t):(TopNotifier.invalidate(),Nav.go("/"+t,void 0,(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.extend)({nocur:!0},e)))},link:function(e,t){if((0,_dom_events__WEBPACK_IMPORTED_MODULE_14__.checkEvent)(t)||cur.noAjaxNav){const t=(0,_shared_lib_nav_url__WEBPACK_IMPORTED_MODULE_5__.toMaybeVKSiteURLRelativeName)(e);window.open(t)}else Nav.go(e)},onLocationChange:function(e){return locationChangeListeners.push(e),()=>{locationChangeListeners=locationChangeListeners.filter((t=>t!==e))}},addNavigationStartListener:function(e){navigationStartListeners.add(e)},removeNavigationStartListener:function(e){navigationStartListeners.has(e)&&navigationStartListeners.delete(e)},addInterseptingNavigationHandler:function(e){interseptingNavigationHandlers.add(e)},removeInterseptingNavigationHandler:function(e){interseptingNavigationHandlers.has(e)&&interseptingNavigationHandlers.delete(e)},go:function(loc,ev,opts={}){const debugLog=opts.debugLog||(()=>{});(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_34__.partConfigEnabled)("web_spa_redesign_disabled_page")&&window.cur.moduleDisabled&&(opts.hard=!0);const awayLink=maybeNavigateAwayLink(loc,opts)||maybeNavigateAwayAppFormLink(loc);if(awayLink)return debugLog("awayLink",awayLink),document.location.href=awayLink,!1;if((0,_dom_events__WEBPACK_IMPORTED_MODULE_14__.checkEvent)(ev)||window.cur.noAjaxNav)return void debugLog("noAjaxNav");if(window.LongView&&window.LongView.onBeforePageChange(),loc.tagName&&"a"===loc.tagName.toLowerCase()){if("_blank"===loc.target||Nav.baseBlank)return void debugLog("baseBlank");const e=loc.getAttribute("hrefparams");if(e&&(opts.params=(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.extend)(opts.params||{},(0,_shared_lib_convert__WEBPACK_IMPORTED_MODULE_17__.fromQueryString)(e))),loc=loc.href||"",ev&&(!loc||!(0,_shared_lib_nav_url__WEBPACK_IMPORTED_MODULE_5__.isVKSiteURLForNav)(loc)))return void debugLog("isVKSiteURLForNav")}let strLoc="",objLoc={},changed={};if("string"==typeof loc?(opts.withoutRelativeURL||(loc=(0,_shared_lib_nav_url__WEBPACK_IMPORTED_MODULE_5__.toMaybeVKSiteURLRelativeName)(loc)),strLoc=loc,objLoc=Nav.fromStr(loc)):(loc[0]||(loc[0]=""),strLoc=Nav.toStr(loc),objLoc=loc),opts.hard&&(debugLog("hard",strLoc),location.href=strLoc,(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_34__.partConfigEnabled)("fix_eco_plate_navigation")))return;if((0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_34__.partConfigEnabled)("web_navigation_listeners")&&navigationStartListeners.forEach((e=>{try{e(strLoc,objLoc)}catch(e){(0,_shared_lib_js_logger__WEBPACK_IMPORTED_MODULE_1__.logUnknownError)(e)}})),window.cur.isCurrentVideoLayer&&!objLoc.section&&-1!==objLoc[0].indexOf("/playlist/")&&(objLoc.section="album_"+objLoc[0].split("_")[1]),maybeReloadBeforeNavigate(Nav.objLoc[0],objLoc[0],strLoc,debugLog))return!1;if((0,_legacy_performance_stats__WEBPACK_IMPORTED_MODULE_24__.statDurationsLoadImage)(),(0,_legacy_performance_stats__WEBPACK_IMPORTED_MODULE_24__.statNavigationTiming)(),0===strLoc.indexOf("market")&&window.MarketAnalyticsManager&&window.MarketAnalyticsManager.setScreen(window.cur.module),!opts.skipDonutLinkCheck&&maybeShowDonutSubscribePopupInsteadOfNavigation(strLoc,debugLog,ev,opts))return!1;const serviceBookingWikiPath=(0,_shared_ecomm_serviceBooking_getServiceBookingWikiParamFromPath__WEBPACK_IMPORTED_MODULE_48__.getServiceBookingWikiParamFromPath)(strLoc);if(serviceBookingWikiPath)return(0,_shared_ecomm_serviceBooking_showServiceBookingWiki__WEBPACK_IMPORTED_MODULE_49__.showServiceBookingWiki)(serviceBookingWikiPath);("im"===objLoc[0]&&(0,_shared_im_peer__WEBPACK_IMPORTED_MODULE_50__.isMarusiaPeer)(objLoc.sel)||"write-194070336"===strLoc)&&(_shared_marusia_marusia_stats__WEBPACK_IMPORTED_MODULE_36__.marusiaStats.logChatOpen(_shared_navigation_stats__WEBPACK_IMPORTED_MODULE_31__.navigationStat.getModule()),window.ajax.post("al_marusia.php",{act:"send_event",event:"chatopen"}));const ap=(0,_web_audioplayer_getAudioPlayer__WEBPACK_IMPORTED_MODULE_51__.getAudioPlayer)();if(ap&&ap.updateCurrentPlaying&&ap.updateCurrentPlaying(),!opts.nocur){changed=(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.clone)(objLoc);for(const e in Nav.objLoc)Nav.objLoc.hasOwnProperty(e)&&(Nav.objLoc[e]===changed[e]?delete changed[e]:void 0===changed[e]&&(changed[e]=!1));if(!1===(0,_web_lib_z_nav__WEBPACK_IMPORTED_MODULE_19__.zNav)((0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.clone)(changed),{hist:opts.hist,replace:opts.replace,back:opts.back,asBox:opts.asBox,onDone:opts.onDone},objLoc))return debugLog("zNav",strLoc),Nav.setLoc(strLoc,opts),!1;bookmarksNav(ev,strLoc);const e=window.cur._back&&window.cur._back.hasOwnProperty("onArticleNavBack")?window.cur._back.onArticleNavBack:null,t=articleNav(strLoc,Nav.toStr(Nav.objLoc),opts.back,e,ev);if(t)return Promise.resolve(t).then((()=>{strLoc=cleanArticleUrlByObjLoc(objLoc),Nav.setLoc(strLoc,{...opts,isForce:!0}),(Nav.objLoc.z||Nav.objLoc.w)&&(0,_web_lib_z_nav__WEBPACK_IMPORTED_MODULE_19__.zNav)({z:Nav.objLoc.z,w:Nav.objLoc.w},{hist:opts.hist,replace:opts.replace,back:opts.back})})),debugLog("handled",strLoc),!1;const r=!(0,_shared_video_isVideoStandalone__WEBPACK_IMPORTED_MODULE_44__.isVideoStandalone)()&&authorPageNav(strLoc,Nav.toStr(Nav.objLoc),opts.back,opts.postId);if(r)return window.AuthorPage&&window.AuthorPage.isOpen()&&window.cur.articleEditorLayer&&window.cur.articleEditorLayer.hide(!1),window.cur._hardNav?(debugLog("hardNav",strLoc),window.location.href=strLoc,!1):(Nav.setLoc(strLoc,opts),(Nav.objLoc.z||Nav.objLoc.w)&&(0,_web_lib_z_nav__WEBPACK_IMPORTED_MODULE_19__.zNav)({z:Nav.objLoc.z,w:Nav.objLoc.w},{hist:opts.hist,replace:opts.replace,back:opts.back}),debugLog("noHardNav",strLoc,Nav.objLoc.z||Nav.objLoc.w),!1)}if(!opts.nocur&&(vk.loaded||vk.bootstrapLoaded||!changed[0])){const e=window.cur.nav||[];for(let t=e.length-1;t>=0;t--){const r=document.URL;if(!1===e[t]((0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.clone)(changed),Nav.objLoc,objLoc,opts)){const e=`${locProtocol}//${location.host}/${strLoc}`,n=r===e?"":r;return updateCountersTimeout&&clearTimeout(updateCountersTimeout),updateCountersTimeout=setTimeout(_shared_counters_updateCounters__WEBPACK_IMPORTED_MODULE_20__.updateCounters.pbind(e,n),10),debugLog("curnav",t,objLoc),!1}}}if(4===vk.al||!vk.loaded&&!vk.bootstrapLoaded&&(!window.audioPlayer||!audioPlayer.player)&&changed[0])return debugLog("al4","/"+(strLoc||"").replace("%23","#")),setTimeout((function(){location.href="/"+(strLoc||"").replace("%23","#")}),0),!1;if(window.Upload&&Upload.terminateAllUploads(),(0,_web_lib_top_search_cancel__WEBPACK_IMPORTED_MODULE_52__.topHeaderClose)(),opts.back){if(window.cur._back&&window.cur._back.onBack)return debugLog("_back",strLoc),window.cur._back.onBack(strLoc);for(let e=0,t=globalHistory.length;e<t;e++)if(globalHistory[e].loc===strLoc){const t=globalHistory.splice(e,1)[0],r=(0,_dom__WEBPACK_IMPORTED_MODULE_13__.ge)(PAGE_CONTENT_WRAPPER_NODE_ID),n=(0,_dom__WEBPACK_IMPORTED_MODULE_13__.ge)("title"),a=window.cur._onback;return window.tooltips&&window.tooltips.destroyAll(),(0,_dom__WEBPACK_IMPORTED_MODULE_13__.hide)("audio_tip_wrap"),(0,_nav_utils__WEBPACK_IMPORTED_MODULE_18__.processDestroy)(window.cur),__webpack_require__._dG("radioBtns",t.radioBtns),__webpack_require__._dG("ajaxCache",t.ajaxCache),__webpack_require__._dG("PageID",t.pid),boxQueue.hideAll(!1,!0),layerQueue.clear(),layers.fullhide&&layers.fullhide(!0),(0,_nav_utils__WEBPACK_IMPORTED_MODULE_18__.showBackLink)(),__webpack_require__._dG("cur",t.cur),setTimeout((function(){if(r.innerHTML="",r.parentNode.replaceChild(t.content,r),vk.width===t.width&&vk.width_dec===t.width_dec&&vk.width_dec_footer===t.width_dec_footer||(0,_nav_utils__WEBPACK_IMPORTED_MODULE_18__.handlePageView)(t),(0,_scroll__WEBPACK_IMPORTED_MODULE_15__.scrollToY)(t.scrollTop,0),(0,_dom__WEBPACK_IMPORTED_MODULE_13__.setDocumentTitle)(t.htitle),n&&(n.innerHTML=t.title,(0,_dom__WEBPACK_IMPORTED_MODULE_13__.setStyle)(n.parentNode,"display",t.hideHeader?"none":"block")),t.bodyClass!==document.body.className&&(document.body.className=t.bodyClass||"",vk.body_class=t.bodyClass||""),window.cur._back.show)for(let e=0,t=window.cur._back.show.length;e<t;e++)window.cur._back.show[e]();if(!window.cur.noquickreg&&(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.isFunction)(window.changeQuickRegButton)&&window.changeQuickRegButton(!1),a)for(let e=0,t=a.length;e<t;e++)a[e]();Nav.setLoc(strLoc,opts);const e=t.back||{};setTimeout((function(){_shared_navigation_stats__WEBPACK_IMPORTED_MODULE_31__.navigationStat.sendBack(_shared_navigation_stats__WEBPACK_IMPORTED_MODULE_31__.navigationStat.getModule()),(0,_nav_utils__WEBPACK_IMPORTED_MODULE_18__.showBackLink)(e[0],e[1],e[2]),(Nav.objLoc.z||Nav.objLoc.w)&&(0,_web_lib_z_nav__WEBPACK_IMPORTED_MODULE_19__.zNav)({z:Nav.objLoc.z,w:Nav.objLoc.w},{hist:opts.hist,replace:opts.replace,back:opts.back}),(0,_web_lib_updateSTL__WEBPACK_IMPORTED_MODULE_28__.updateSTL)(),(0,_nav_utils__WEBPACK_IMPORTED_MODULE_18__.updateLeftMenu)(),(0,_accessibility__WEBPACK_IMPORTED_MODULE_27__.updateAriaElements)(),window.TopSearch&&window.TopSearch.clear()}),10),(0,_web_audioplayer_getAudioPlayer__WEBPACK_IMPORTED_MODULE_51__.getAudioPlayer)()?.updateCurrentPlaying()}),10),debugLog("globalHistory",strLoc),!1}}const dest=objLoc[0];let where;delete objLoc[0];try{const e=/^friends/,t=/^(games|apps)/,r=(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_34__.partConfigEnabled)("web_spa_router_friends_check_full_loc_enabled")&&strLoc.match(e),n=(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_34__.partConfigEnabled)("games_catalog_spa_web")&&strLoc.match(t),a=r||n?strLoc:null;where=Nav.getData(dest,a)}catch(e){where=null}if(null===where){if(debugLog("noWhere"),opts.throwErrorOnDisabledPath)throw new Error("AL navigation is disabled for this path");return!0}opts.params&&opts.params._ref||(opts.params=(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.extend)(opts.params||{},{_ref:Nav.objLoc[0]||""})),where.files&&window.stManager.add(where.files),where.params=(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.extend)({__query:dest,al_id:vk.id},objLoc,opts.params||{},{...(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_34__.partConfigEnabled)("video_upload_disable_redirect_to_standalone")&&opts.extraParams}),window.cur.isSpaRoute&&(opts=Object.assign({},opts,{noback:!0}));const possibleLinkElement=ev?.target,postParamsEl=Nav.getLinkElementWithPostParamsOrLocation(possibleLinkElement,loc),postParams=Nav.getPostParams(postParamsEl,!!where.params._post_click_type);where.params=Nav.mergePostParamsOptions(postParams,where.params),opts.cl_id&&(where.params.fr_click=window.cur.oid+","+opts.cl_id+","+window.cur.options.fr_click),opts.permanent&&(where.params._permanent=opts.permanent);const curNavVersion=++window.NextPageID,done=function({title,html,js,params}){if(curNavVersion!==window.NextPageID)return!0;try{params._id=params.id}catch(e){return(0,_ui_util__WEBPACK_IMPORTED_MODULE_16__.topError)(e,{dt:15,type:6,msg:`Error: ${e.message}, (params undefined?), title: ${title}, html: ${html}, js: ${js}`,url:where.url,query:(0,_shared_lib_convert__WEBPACK_IMPORTED_MODULE_17__.toQueryString)(where.params),answer:arguments.length})}const execTqTasks=e=>{params.exec_on_start&&(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_33__.processExecData)(JSON.stringify(params.exec_on_start),e)};__webpack_require__._dG("lastScrollTop",(0,_scroll__WEBPACK_IMPORTED_MODULE_15__.scrollGetY)());const isReloadRequired=(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_34__.partConfigEnabled)(_version_skew_manager__WEBPACK_IMPORTED_MODULE_46__.VERSION_SKEW_ENABLED_PE)?_version_skew_manager__WEBPACK_IMPORTED_MODULE_46__.VersionSkewManager.isReloadRequired()||params.force_reload:stVersions[window.jsc("web/common_web.js")]>StaticFiles[window.jsc("web/common_web.js")].v||params.force_reload;if(isReloadRequired){if((0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_34__.partConfigEnabled)(_version_skew_manager__WEBPACK_IMPORTED_MODULE_46__.VERSION_SKEW_ENABLED_PE))return Nav.setLoc(params.loc||Nav.strLoc,opts),Nav.reload(Object.assign({},opts,{force:!0,from:7}));if(Nav.setLoc(params.loc||Nav.strLoc,opts),(0,_nav_utils__WEBPACK_IMPORTED_MODULE_18__.reloadCheckFlood)({force:!0,from:4}))return;if(window.Calls?.isInActiveCall)return;return debugLog("reload",isReloadRequired),void location.reload(!0)}const newPage=void 0===where.params.al_id||where.params.al_id!=params.id||params.fullPage,tNode=(0,_dom__WEBPACK_IMPORTED_MODULE_13__.ge)("title");let wNode=(0,_dom__WEBPACK_IMPORTED_MODULE_13__.ge)(PAGE_CONTENT_WRAPPER_NODE_ID),_back=window.cur._back,hist=!1;if((strLoc===(window.cur._back||{}).loc||newPage||opts.back)&&(_back=!1),(opts.noback||params.level&&(!window.cur._level||params.level<=window.cur._level)&&!1!==opts.noback)&&(_back=!1,(opts.noback||window.cur._level&&params.level<window.cur._level)&&(0,_nav_utils__WEBPACK_IMPORTED_MODULE_18__.showBackLink)()),window.tooltips&&window.tooltips.destroyAll(),(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.each)((0,_dom__WEBPACK_IMPORTED_MODULE_13__.geByClass)("page_actions_wrap"),((e,t)=>(0,_dom__WEBPACK_IMPORTED_MODULE_13__.hide)(t))),(0,_dom__WEBPACK_IMPORTED_MODULE_13__.hide)("audio_tip_wrap"),_back){if((0,_web_lib_revertLastInlineVideo__WEBPACK_IMPORTED_MODULE_23__.revertLastInlineVideo)(null,!0),hist={loc:_back.loc||Nav.strLoc,cur:window.cur,radioBtns:(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.clone)(radioBtns),ajaxCache,pid:window.PageID,scrollTop:(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_34__.partConfigEnabled)("feed_manual_scroll_restoration")&&(0,_shared_feed_feed_utils__WEBPACK_IMPORTED_MODULE_45__.isOnFeedPage)()?0:(0,_scroll__WEBPACK_IMPORTED_MODULE_15__.scrollGetY)(),htitle:document.title.toString(),width:vk.width,width_dec:vk.width_dec,width_dec_footer:vk.width_dec_footer,noleftmenu:vk.noleftmenu,notopmenu:vk.notopmenu,nobottommenu:vk.nobottommenu,bodyClass:vk.body_class,back:!(!_tbLink||!_tbLink.loc)&&[_tbLink.loc,(0,_dom__WEBPACK_IMPORTED_MODULE_13__.val)(_tbLink),_tbLink.fast]},tNode&&tNode.parentNode&&!(0,_dom__WEBPACK_IMPORTED_MODULE_13__.isVisible)(tNode.parentNode)&&(hist.hideHeader=!0),(0,_nav_utils__WEBPACK_IMPORTED_MODULE_18__.globalHistoryDestroy)(hist.loc),globalHistory.length>2){const e=globalHistory.shift();(0,_nav_utils__WEBPACK_IMPORTED_MODULE_18__.processDestroy)(e.cur),e.content.innerHTML=""}if(window.cur._back.hide)for(let e=0,t=window.cur._back.hide.length;e<t;e++)window.cur._back.hide[e]();_back.text&&(0,_nav_utils__WEBPACK_IMPORTED_MODULE_18__.showBackLink)(hist.loc,_back.text,1)}else _tbLink&&(_tbLink.fast=0),(0,_nav_utils__WEBPACK_IMPORTED_MODULE_18__.processDestroy)(window.cur);if(__webpack_require__._dG("PageID",window.NextPageID),(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.each)(radioBtns,(function(e,t){t.keep||delete radioBtns[e]})),__webpack_require__._dG("ajaxCache",{}),boxQueue.hideAll(!1,!0),layerQueue.clear(),layers.fullhide&&layers.fullhide(!0,!0),(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_34__.partConfigEnabled)("video_fix_preserve_lang")?(0,_web_lib_cur_reset__WEBPACK_IMPORTED_MODULE_53__.resetWindowCur)(!0):(0,_web_lib_cur_reset__WEBPACK_IMPORTED_MODULE_53__.resetWindowCur)(),__webpack_require__._dG("_stlWas",0),newPage){for((0,_dom__WEBPACK_IMPORTED_MODULE_13__.cleanElems)("quick_login_button","quick_expire","search_form","top_links","bottom_nav");globalHistory.length;){const e=globalHistory.shift();(0,_nav_utils__WEBPACK_IMPORTED_MODULE_18__.processDestroy)(e.cur),e.content.innerHTML=""}const e=(0,_dom__WEBPACK_IMPORTED_MODULE_13__.ge)("dev_top_nav_wrap")&&(0,_dom__WEBPACK_IMPORTED_MODULE_13__.getSize)("dev_top_nav_wrap")[0]||(0,_dom__WEBPACK_IMPORTED_MODULE_13__.ge)("page_header_wrap")&&(0,_dom__WEBPACK_IMPORTED_MODULE_13__.getSize)("page_header_wrap")[0]||0;pageNode.innerHTML=html,execTqTasks(pageNode),e&&!vk.staticheader&&(0,_nav_utils__WEBPACK_IMPORTED_MODULE_18__.updateHeaderStyles)({width:e}),_shared_lib_browser__WEBPACK_IMPORTED_MODULE_25__.browser.mobile||(0,_web_lib_layout_body_utils__WEBPACK_IMPORTED_MODULE_22__.onBodyResize)(!0)}else{if(_back){const e=(0,_dom__WEBPACK_IMPORTED_MODULE_13__.ce)("div",{id:PAGE_CONTENT_WRAPPER_NODE_ID});(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.extend)(hist,{content:wNode.parentNode.replaceChild(e,wNode),title:tNode?tNode.innerHTML:""}),globalHistory.push(hist),wNode=e}const e=(0,_dom__WEBPACK_IMPORTED_MODULE_13__.ge)("dev_top_nav_wrap")&&(0,_dom__WEBPACK_IMPORTED_MODULE_13__.getSize)("dev_top_nav_wrap")[0]||(0,_dom__WEBPACK_IMPORTED_MODULE_13__.ge)("page_header_wrap")&&(0,_dom__WEBPACK_IMPORTED_MODULE_13__.getSize)("page_header_wrap")[0]||0;wNode&&(wNode.innerHTML=html,execTqTasks(wNode)),e&&!vk.staticheader&&(0,_nav_utils__WEBPACK_IMPORTED_MODULE_18__.updateHeaderStyles)({width:e}),tNode&&(tNode.innerHTML=title,(title?_dom__WEBPACK_IMPORTED_MODULE_13__.show:_dom__WEBPACK_IMPORTED_MODULE_13__.hide)(tNode.parentNode)),(0,_web_audioplayer_getAudioPlayer__WEBPACK_IMPORTED_MODULE_51__.getAudioPlayer)()?.updateCurrentPlaying()}(0,_web_lib_check_page_blocks__WEBPACK_IMPORTED_MODULE_21__.checkPageBlocks)(),(0,_web_lib_updateSTL__WEBPACK_IMPORTED_MODULE_28__.updateSTL)(),(0,_nav_utils__WEBPACK_IMPORTED_MODULE_18__.updateLeftMenu)(),(0,_accessibility__WEBPACK_IMPORTED_MODULE_27__.updateAriaElements)(),window.TopSearch&&window.TopSearch.clear(),(0,_nav_utils__WEBPACK_IMPORTED_MODULE_18__.handlePageParams)(params),opts.preventScroll||(opts.scrollTop>0?(0,_scroll__WEBPACK_IMPORTED_MODULE_15__.scrollToY)(opts.scrollTop,0):opts.noscroll||params.noscroll||(0,_scroll__WEBPACK_IMPORTED_MODULE_15__.scrollToTop)(0)),Nav.curLoc=params.loc,isFrameNavigation(opts)||Nav.setLoc(params.loc||"",opts);const runInlineScripts=()=>{if(js){const evalString=`(function(){${js};})()`;if(__debugMode)eval(evalString);else try{eval(evalString)}catch(e){(0,_debug_tools__WEBPACK_IMPORTED_MODULE_12__.logEvalError)(e,evalString)}}};isFrameNavigation(opts)?(runInlineScripts(),window.ajax._framenext()):setTimeout((()=>{runInlineScripts(),(0,_web_lib_ajax_module_callback__WEBPACK_IMPORTED_MODULE_32__.triggerSubscribersOnModuleEvaluated)()}),0),_shared_lib_browser__WEBPACK_IMPORTED_MODULE_25__.browser.mobile&&(0,_web_lib_layout_body_utils__WEBPACK_IMPORTED_MODULE_22__.onBodyResize)(),changed.f&&(0,_scroll__WEBPACK_IMPORTED_MODULE_15__.handleScroll)(changed.f),isFrameNavigation(opts)&&Nav.setLoc(params.loc||"",opts),opts.onDone&&opts.onDone(),changed[0]&&__webpack_require__._dG("vkLastNav",Date.now()),(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.lTimeout)((function(){(0,_web_audioplayer_getAudioPlayer__WEBPACK_IMPORTED_MODULE_51__.getAudioPlayer)()?.updateCurrentPlaying(),window.TopMenu&&window.TopMenu.toggle(!1)}),_shared_lib_browser__WEBPACK_IMPORTED_MODULE_25__.browser.chrome?100:50)},clientOnlyDone=function(e,t){if(curNavVersion!==window.NextPageID)return;(0,_nav_utils__WEBPACK_IMPORTED_MODULE_18__.handlePageView)({width:window.vk.defaultLayout.width,width_dec:window.vk.defaultLayout.widthDec}),adjustStylesToSpa(),__webpack_require__._dG("PageID",window.NextPageID),__webpack_require__._dG("lastScrollTop",(0,_scroll__WEBPACK_IMPORTED_MODULE_15__.scrollGetY)());let r=(0,_dom__WEBPACK_IMPORTED_MODULE_13__.ge)(PAGE_CONTENT_WRAPPER_NODE_ID);window.tooltips&&window.tooltips.destroyAll(),(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.each)((0,_dom__WEBPACK_IMPORTED_MODULE_13__.geByClass)("page_actions_wrap"),((e,t)=>(0,_dom__WEBPACK_IMPORTED_MODULE_13__.hide)(t))),(0,_dom__WEBPACK_IMPORTED_MODULE_13__.hide)("audio_tip_wrap");const n=Boolean(t?.persistCur)||"im"===window.cur.module&&!changed[0];n||(0,_nav_utils__WEBPACK_IMPORTED_MODULE_18__.processDestroy)(window.cur),(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.each)(window.radioBtns,(function(e,t){t.keep||delete window.radioBtns[e]})),boxQueue.hideAll(!1,!0),layerQueue.clear(),layers.fullhide&&layers.fullhide(!0,!0),n||(0,_web_lib_cur_reset__WEBPACK_IMPORTED_MODULE_53__.resetWindowCur)(!0),__webpack_require__._dG("_stlWas",0),r&&(r.innerHTML=""),(0,_web_audioplayer_getAudioPlayer__WEBPACK_IMPORTED_MODULE_51__.getAudioPlayer)()?.updateCurrentPlaying(),(0,_web_lib_check_page_blocks__WEBPACK_IMPORTED_MODULE_21__.checkPageBlocks)(),(0,_web_lib_updateSTL__WEBPACK_IMPORTED_MODULE_28__.updateSTL)(),(0,_nav_utils__WEBPACK_IMPORTED_MODULE_18__.updateLeftMenu)(),(0,_accessibility__WEBPACK_IMPORTED_MODULE_27__.updateAriaElements)(),window.TopSearch&&window.TopSearch.clear(),(0,_scroll__WEBPACK_IMPORTED_MODULE_15__.scrollToTop)(0),_shared_lib_browser__WEBPACK_IMPORTED_MODULE_25__.browser.mobile&&(0,_web_lib_layout_body_utils__WEBPACK_IMPORTED_MODULE_22__.onBodyResize)(),changed.f&&(0,_scroll__WEBPACK_IMPORTED_MODULE_15__.handleScroll)(changed.f),Nav.setLoc(e,t),(Nav.objLoc.z||Nav.objLoc.w)&&(0,_web_lib_z_nav__WEBPACK_IMPORTED_MODULE_19__.zNav)({z:Nav.objLoc.z,w:Nav.objLoc.w},{hist:t.hist,replace:t.replace,back:t.back}),t.onDone&&t.onDone(),changed[0]&&__webpack_require__._dG("vkLastNav",Date.now()),(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.lTimeout)((function(){(0,_web_audioplayer_getAudioPlayer__WEBPACK_IMPORTED_MODULE_51__.getAudioPlayer)()?.updateCurrentPlaying(),window.TopMenu&&window.TopMenu.toggle(!1)}),_shared_lib_browser__WEBPACK_IMPORTED_MODULE_25__.browser.chrome?100:50)};return window.Page&&(Page.postsSave(),Page.postsSend(),Page.postsClearTimeouts()),(0,_ads__WEBPACK_IMPORTED_MODULE_11__.updSeenAdsInfo)(),(0,_ads__WEBPACK_IMPORTED_MODULE_11__.__adsUpdate)("already"),"im"!==Nav.objLoc[0]&&"im"!==changed[0]||(where.params=(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.extend)({},where.params,{_full_page:!0})),Array.isArray(window.cur.beforeNavigateRequestHandlers)&&window.cur.beforeNavigateRequestHandlers.forEach((e=>{"function"==typeof e&&e()})),window.cur.beforeNavigateRequestHandlers=[],(0,_web_lib_navigation_stats__WEBPACK_IMPORTED_MODULE_4__.getModuleNavigationStatsServiceWeb)().handlePageLoadingStart(),(async()=>{let{clientOnly:e,isSpaRoute:t}=where;try{const{route:r}=await(0,_spa_web_infrastructure_routing_matchWebSpaRoute__WEBPACK_IMPORTED_MODULE_40__.matchWebSpaRoute)(strLoc);(0,_shared_video_isVideoStandalone__WEBPACK_IMPORTED_MODULE_44__.isVideoStandalone)()?e=!1:!r||r.isLegacyConfig||r.mockBookmakerRedirect||r.disabledClientNavigation&&("string"!=typeof r.disabledClientNavigation||(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_34__.partConfigEnabled)(r.disabledClientNavigation))||(t=!0,e=!0),e&&Nav.strLoc===strLoc&&(opts.persistCur=!0)}catch(e){return void(0,_ui_util__WEBPACK_IMPORTED_MODULE_16__.topError)(e,{dt:15,type:6,msg:"[nav.js]: failed matchWebSpaRoute",url:strLoc,query:(0,_shared_lib_convert__WEBPACK_IMPORTED_MODULE_17__.toQueryString)(where.params)})}(0,_web_lib_ajax_module_callback__WEBPACK_IMPORTED_MODULE_32__.subscribeOnModuleEvaluated)((()=>{if(!e&&(_shared_navigation_stats__WEBPACK_IMPORTED_MODULE_31__.navigationStat.sendGo((0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_34__.partConfigEnabled)("video_screen_in_web_navigation_logs")?(0,_shared_metrics_navigationStats__WEBPACK_IMPORTED_MODULE_43__.getModuleForNavigationStat)():_shared_navigation_stats__WEBPACK_IMPORTED_MODULE_31__.navigationStat.getModule()),(0,_shared_counters_tmr_moduleChangeHandler__WEBPACK_IMPORTED_MODULE_0__.handleModuleChanged)(window.cur?.module||""),(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_34__.partConfigEnabled)("ajax_nav_media_state"))){const e=(0,_web_di__WEBPACK_IMPORTED_MODULE_3__.ensureDIRootWebContainer)().resolve(_spa_shared_audio_player__WEBPACK_IMPORTED_MODULE_2__.AudioPlayer),t={videoplayer:window.mvcur?.minimized,musicPlayerPlaying:e?.globalChannel.playing,musicPlayerPaused:e?.globalChannel.paused,calls:window.Calls?.isInActiveCall,layer:document.body.classList.contains("layers_shown"),pip:document.pictureInPictureElement};(0,_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_35__.statlogsValueEvent)("ajax_nav_media_state",0,window.cur?.module,Object.entries(t).flatMap((([e,t])=>t?[e]:[])).join(","))}}),!0);const r=e=>{let r;if(__debugMode)r=done.call(null,e);else try{r=done.call(null,e)}catch(t){(0,_ui_util__WEBPACK_IMPORTED_MODULE_16__.topError)(t,{dt:15,type:6,url:where.url,query:(0,_shared_lib_convert__WEBPACK_IMPORTED_MODULE_17__.toQueryString)(where.params),js:e.js,answer:Array.prototype.slice.call(arguments).join("<!>")})}return(0,_web_lib_ajax_module_callback__WEBPACK_IMPORTED_MODULE_32__.subscribeOnModuleEvaluated)((()=>{t||(0,_web_lib_navigation_stats__WEBPACK_IMPORTED_MODULE_4__.getModuleNavigationStatsServiceWeb)().handlePageLoadingFinish()}),!0),r},n=(n=!1)=>{if(e){if((0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_34__.partConfigEnabled)(_version_skew_manager__WEBPACK_IMPORTED_MODULE_46__.VERSION_SKEW_ENABLED_PE)&&_version_skew_manager__WEBPACK_IMPORTED_MODULE_46__.VersionSkewManager.isReloadRequired())return Nav.setLoc(strLoc,opts),Nav.reload(Object.assign({},opts,{force:!0,from:7}));clientOnlyDone.call(null,strLoc,opts),t||(0,_web_lib_navigation_stats__WEBPACK_IMPORTED_MODULE_4__.getModuleNavigationStatsServiceWeb)().handlePageLoadingFinish(),(0,_web_lib_ajax_module_callback__WEBPACK_IMPORTED_MODULE_32__.triggerSubscribersOnModuleEvaluated)()}else window.ajax.post(where.url,where.params,{onDone:async function(){if(n&&"success"===(0,_web_feed_constants_feedPageLoadingState__WEBPACK_IMPORTED_MODULE_6__.getFeedPageLoadingState)().content.requestState)return;r({title:arguments[0],html:arguments[1],js:arguments[2],params:arguments[3]})},onFail:opts.onFail||function(e){if(e)return setTimeout((0,_message_box__WEBPACK_IMPORTED_MODULE_29__.showFastBox)({title:(0,_lang__WEBPACK_IMPORTED_MODULE_30__.getLang)("global_error")},e).hide,__debugMode?3e4:3e3),!0},frame:isFrameNavigation(opts),canReload:!0,showProgress:opts.showProgress,hideProgress:opts.hideProgress,cache:opts.search?1:""});t&&(window.cur.isSpaRoute=!0)};if(!(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_34__.partConfigEnabled)("special_groups_redirects")||opts.state?.usr?.bookmakerRedirectDisabled||!await(0,_spa_web_infrastructure_bookmakers__WEBPACK_IMPORTED_MODULE_39__.processNavigation)(strLoc)){if((0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_34__.partConfigEnabled)("web_navigation_handlers")){let e;for(const t of interseptingNavigationHandlers)try{const a=t({dest,opts,where,performRequest:n,clientOnlyDone,debugLog,callDoneFunc:r});if(void 0!==a&&(e=a),e)break}catch(e){(0,_shared_lib_js_logger__WEBPACK_IMPORTED_MODULE_1__.logUnknownError)(e)}if(void 0!==e)return}n(),debugLog("nothing")}})(),!1},getLinkElementWithPostParamsOrLocation(e,t){const r=e?.closest("a");return r&&r.getAttribute?r:t&&t.getAttribute?t:null},setLoc:function(e,t={}){const r="boolean"==typeof t?{isForce:t}:t;let n,a;if(n=a=e,"string"==typeof e?a=Nav.fromStr(e):n=Nav.toStr(e),!r.isForce&&(0,_web_lib_feature_entries_isArticleLayerOpen__WEBPACK_IMPORTED_MODULE_54__.isArticleLayerOpen)()&&!n.match(/article_edit(-?\d+_\d+)/))return;const s=Nav.strLoc;if(Nav.strLoc=n,Nav.objLoc=a,window.hab.setLoc(Nav.strLoc,t),(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_34__.partConfigEnabled)("disable_push_equal_history_location")&&s===n&&!t.replace)return;let _=t.replace?_vkontakte_internal_router__WEBPACK_IMPORTED_MODULE_55__.Action.Replace:_vkontakte_internal_router__WEBPACK_IMPORTED_MODULE_55__.Action.Push;t.back&&t.hist&&(_=_vkontakte_internal_router__WEBPACK_IMPORTED_MODULE_55__.Action.Pop);for(const e of locationChangeListeners)e(Nav.strLoc,_)},change:function(e,t=null,r={}){const n=(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.clone)(Nav.objLoc);return(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.each)(e,(function(e,t){!1===t?delete n[e]:n[e]=t})),Nav.go(n,t,r)},fromStr:function(e){const t=(e=e.split("#"))[0].split("?"),r={0:t[0]||""};return e[1]&&(r["#"]=e[1]),(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.extend)((0,_shared_lib_convert__WEBPACK_IMPORTED_MODULE_17__.fromQueryString)(t[1]||""),r)},toStr:function(e){const t=(e=(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.clone)(e))["#"]||"",r=e[0]||"";delete e[0],delete e["#"];const n=(0,_shared_lib_convert__WEBPACK_IMPORTED_MODULE_17__.toQueryString)(e);return(n?r+"?"+n:r)+(t?"#"+t:"")},init:function(){__webpack_require__._dG("globalHistory",[]),Nav.strLoc=window.hab.getLoc(),Nav.objLoc=Nav.fromStr(Nav.strLoc)},getPostParams:function(e,t){const r=!(!e||!e.getAttribute),n={};if(!r)return n;let a=e.getAttribute("data-post-id");if(!a){const t=e?.closest?.(_shared_feed_selectors_constants__WEBPACK_IMPORTED_MODULE_56__.FEED_POST_INDICATOR_CLASSNAME_INDICATOR);a=t?.getAttribute("data-post-id")??t?.id?.replace("post","")}a&&(n.post_id=a);const s=e.getAttribute("data-parent-post-id");s&&(n.parent_post_id=s);const _=e.getAttribute("data-post-click-type");_&&(n.post_click_type=_);const c=e.getAttribute("data-item-owner-id");c&&(n.item_owner_id=c);const l=e.getAttribute("mention_id");l&&(n.post_click_mention_id=l);const u=e.getAttribute("data-post-click-cc-key");u&&(n.post_click_cc_key=u);const d=[e.getAttribute("href"),e.getAttribute("data-href")];(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.each)(d,(function(e,t){if(t&&"#"!==t)return n.post_click_url=t,!1}));if(!!_||t){const t=(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_34__.partConfigEnabled)("post_adblock_protection_promo")?_shared_adblock_protection_locator__WEBPACK_IMPORTED_MODULE_42__.Locator.getInstance().lookupSelector("._ads_block_data_w"):"._ads_block_data_w",r=e?.closest?.(t),a=r&&(0,_shared_feed_adblock_protection_attributes_hider__WEBPACK_IMPORTED_MODULE_41__.getAdAttribute)(r,"ad"),s=r&&(0,_shared_feed_adblock_protection_attributes_hider__WEBPACK_IMPORTED_MODULE_41__.getAdAttribute)(r,"ad-block-uid");a&&(n.ad_data=a),s&&(n.ad_block_unique_id=s)}return n},mergePostParamsOptions:function(e,t){if(t=t||{},!e)return t;function r(e,r,n){const a=n&&t[r];return!(!e||a)&&(t[r]=e,!0)}return r(e.post_id,"_post",!0),r(e.parent_post_id,"_parent_post",!0),r(e.post_click_type,"_post_click_type",!0),t._post_click_type&&(r(e.post_click_mention_id,"_post_click_mention_id",!0),r(e.post_click_cc_key,"_post_click_cc_key",!0),r(e.post_click_url,"_post_click_url",!0),r(e.ad_data,"_post_ad_data",!0)&&r(e.ad_block_unique_id,"_post_ad_block_unique_id")),t},subscribeOnModuleEvaluated:_web_lib_ajax_module_callback__WEBPACK_IMPORTED_MODULE_32__.subscribeOnModuleEvaluated,unsubscribeOnModuleEvaluated:_web_lib_ajax_module_callback__WEBPACK_IMPORTED_MODULE_32__.unsubscribeOnModuleEvaluated};function authorPageNav(e,t,r){if(r&&cur.backFromAuthorPage)return delete cur.backFromAuthorPage,!0;const n=e.toLowerCase(),a=window.AuthorPage&&window.AuthorPage.isOpen(),s=n.match(/^(?:%40|@)-?[.a-z0-9_]+(?:\?\w+)?([\?&]z\=[a-z0-9-_]+)*$/);if(s)return!!a||(s[1]?cur._hardNav=!0:((0,_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_8__.boxRefreshCoords)(boxLoader),(0,_dom__WEBPACK_IMPORTED_MODULE_13__.show)(boxLoader),(0,_dom__WEBPACK_IMPORTED_MODULE_13__.show)(boxLayerWrap),window.stManager.add([window.jsc("web/author_page.js"),window.jsc("web/article_layer.js"),"author_page.css","ui_controls.js","ui_controls.css"],(function(){cur.prevAuthorPageUrl=t,window.AuthorPage.showLayer(n)})),!0));if(a){if(/^article_edit([0-9\-]+)_(\d+)/.test(n))return!1;if(r&&window.AuthorPage.isStandalone())return window.location.reload(!0),!0;const e=window.AuthorPage.close(!0);return void 0!==e?e:!!r}}function articleNav(e,t,r,n,a){const s=e.toLowerCase();if((0,_shared_utils_articleCheckURL__WEBPACK_IMPORTED_MODULE_57__.isArticleURL)(s)){(0,_web_lib_feature_entries_isArticleLayerOpen__WEBPACK_IMPORTED_MODULE_54__.isArticleLayerOpen)()||(cur.articlePrevLoc=t),window.WkView&&WkView.hide(!0),window.boxQueue&&boxQueue.hideAll(),window.Videoview&&window.Videoview.togglePlay(!1);const e=a?.target,n=e?(0,_web_feed_feed_common__WEBPACK_IMPORTED_MODULE_37__.getBaseDataFromPost)(e):void 0;return window.stManager.add([window.jsc("web/article_layer.js"),"article.css"]).then((()=>new Promise((e=>{ArticleLayer.show(s,!0,!1,{ev:a,onShowDone:()=>{cur.articleSequence=Math.max(1,(cur.articleSequence||0)+(r?-1:1)),e()},trackCode:n?.trackCode,postId:n?.postId,prepareAsync:!0})}))))}if((0,_web_lib_feature_entries_isArticleLayerOpen__WEBPACK_IMPORTED_MODULE_54__.isArticleLayerOpen)()){if(r&&ArticleLayer.isStandalone())return window.location.reload(!0),!0;const t=()=>{ArticleLayer.close(),delete cur.articleSequence},a=cur.articlePrevLoc;return delete cur.articlePrevLoc,a&&!_shared_utils_articleCheckURL__WEBPACK_IMPORTED_MODULE_57__.articleURLPattern.test(a)?e===a?(t(),n&&n(),!0):(layers.fullhide=function(){t()},!1):(t(),!0)}return!1}function cleanArticleUrlByObjLoc(e){return e&&e.ref&&delete e.ref,Nav.toStr(e)}function bookmarksNav(e){if(!e)return;const t=(0,_dom__WEBPACK_IMPORTED_MODULE_13__.domClosest)("bookmarks_rows",e.target),r=!!(0,_dom__WEBPACK_IMPORTED_MODULE_13__.domClosest)("bookmarks_pages",e.target);if((t||r)&&(r||(0,_dom__WEBPACK_IMPORTED_MODULE_13__.hasClass)(t,"bookmarks_rows_user")||(0,_dom__WEBPACK_IMPORTED_MODULE_13__.hasClass)(t,"bookmarks_rows_group")||(0,_dom__WEBPACK_IMPORTED_MODULE_13__.hasClass)(t,"bookmarks_rows_page"))){let r;if(r=t?(0,_dom__WEBPACK_IMPORTED_MODULE_13__.domClosest)("_bookmark_page_item",e.target):(0,_dom__WEBPACK_IMPORTED_MODULE_13__.domClosest)("line_cell",e.target),!r)return;(0,_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_35__.statlogsValueEvent)("bookmarks_product_analytics",{item_type:"page",item_id:(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.intval)((0,_dom__WEBPACK_IMPORTED_MODULE_13__.domData)(r,"id")),time:(0,_web_lib_date__WEBPACK_IMPORTED_MODULE_7__.getServerTime)()})}}function maybeNavigateAwayLink(e,t){if(e&&e.href&&e.getAttribute&&e.getAttribute("data-change-location-with-post-away")){let r=e.href;const n=Nav.getPostParams(e,!(!t.params||!t.params._post_click_type)),a=Nav.mergePostParamsOptions(n,t.params),s={};return a._post&&(s.post=a._post,a._post_ad_data&&(s.post_ad_data=a._post_ad_data),a._post_click_cc_key&&(s.cc_key=a._post_click_cc_key),r="/away.php?to="+encodeURIComponent(r)+"&"+(0,_shared_lib_convert__WEBPACK_IMPORTED_MODULE_17__.toQueryString)(s)),r}return null}function maybeNavigateAwayAppFormLink(e){if("string"!=typeof e)return null;return e.match(/app\d+_-?\d+\?form_id=\d+/i)?e:null}function maybeReloadBeforeNavigate(e,t,r,n){const a=/(^bug\d+$|^bugs$|^bugs_mng$|^bugtracker_adm$)/;if(-1!==e.search(a)&&-1===t.search(a)||-1===e.search(a)&&-1!==t.search(a))return n("bugtracker",r),location.href=r,!0}function maybeShowDonutSubscribePopupInsteadOfNavigation(e,t,r,n){const a=/^donut\/([A-Za-z0-9_\.]{2,32})/;if(e.match(a)){const s="direct_link",_=e.match(a)[1],c=()=>{t("groupDoesntExists"),nav.go(e,r,{...n,skipDonutLinkCheck:!0})};return t("donutLink",e),(0,_web_lib_feature_entries_showDonutSubscribePopup__WEBPACK_IMPORTED_MODULE_26__.showDonutSubscribePopup)(null,null,s,{type:"subscribe",fromSnippet:!0,onFailCallback:c,params:{act:"subscribe_popup"}},_),!0}}function adjustStylesToSpa(){document.body.classList.contains("video_showcase")&&document.body.classList.remove("video_showcase"),(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_34__.partConfigEnabled)("video_dashboard_body_class_after_redirect_bugfix")&&document.body.classList.contains("video_dashboard")&&document.body.classList.remove("video_dashboard"),document.body.classList.contains("static_header")&&document.body.classList.remove("static_header");const e="redesign_web_legacy_width";document.body.classList.contains(e)&&document.body.classList.remove(e),(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_34__.partConfigEnabled)("web_spa_helpdesk_styles_cleanup")&&(document.body.classList.contains("body_helpdesk")&&document.body.classList.remove("body_helpdesk"),document.body.classList.contains("body_narrow_sidebar")&&document.body.classList.remove("body_narrow_sidebar"))}Nav.addInterseptingNavigationHandler(_web_feed_feedPageLoading_navigationHandler__WEBPACK_IMPORTED_MODULE_38__.feedLoadingNavigationHandler);const __WEBPACK_DEFAULT_EXPORT__=Nav},967495:(e,t,r)=>{"use strict";r.d(t,{rangeCreate:()=>c,rangeGet:()=>s,rangeInsert:()=>l});var n=r(754866),a=r(575753);function s(){let e=null,t=window.getSelection();t.getRangeAt&&t.rangeCount&&(e=t.getRangeAt(0));let r=null,n=null,a=0,s=0,_=document.activeElement;return e&&("selectionStart"in _?(r=_,n=_,a=_.selectionStart,s=_.selectionEnd):t.rangeCount&&(r=e.startContainer,n=e.endContainer,a=e.startOffset,s=e.endOffset)),[e,r,a,n,s]}function _(e){let t=window.getSelection();return t.removeAllRanges(),t.addRange(e),e}function c(e,t,r,n){let a=document.createRange();return a.setStart(e,t),a.setEnd(r,n),_(a)}function l(e,t){if(t=t?t+"":"",!a.browser.msie&&document.execCommand)document.execCommand("insertHTML",!1,t);else if(e){e.deleteContents();let r=(0,n.cf)(t),a=r.lastChild;e.insertNode(r),a&&((e=e.cloneRange()).setStartAfter(a),e.collapse(!0),_(e))}return e}},892848:(e,t,r)=>{"use strict";r.d(t,{_destroyInlineVideoPlayer:()=>s,revertLastInlineVideo:()=>a});var n=r(754866);function a(e,t=!1){if(!window._videoLastInlined)return;let a,_=!1;const c=(0,n.ge)(e);if(c&&(a=window._videoLastInlined[0],a)){for(;a=a.parentNode;)if(a==c){_=!0;break}if(!_)return}(0,n.re)(window._videoLastInlined[0]),(0,n.show)(window._videoLastInlined[1]),window._videoLastInlined[1].removeAttribute("data-playing"),r._dG("_videoLastInlined",!1),s(t),delete cur.mvOpts}function s(e=!1){cur.videoInlinePlayer&&(cur.videoInlinePlayer.destroy(e),delete cur.videoInlinePlayer)}},672277:(e,t,r)=>{"use strict";r.d(t,{disableBodyScroll:()=>d,enableBodyScroll:()=>p,handleScroll:()=>E,scrollGetX:()=>l,scrollGetY:()=>u,scrollToTop:()=>c,scrollToY:()=>_});var n=r(683234),a=r(939646),s=r(754866);function _(e,t,c,d,p){null==t&&(t=400);"ontouchstart"in document.documentElement&&(t=0),d||(e=Math.max(0,e-(vk.staticheader?0:(0,s.getSize)("page_header_cont")[1]))),(0,s.data)(document.body,"tween")&&(0,s.data)(document.body,"tween").stop(!1);const E=window.htmlNode||document.getElementsByTagName("html")[0];if((0,s.data)(E,"tween")&&(0,s.data)(E,"tween").stop(!1),r._dG("scrollAnimation",!1),t){const s=function(){r._dG("scrollAnimation",!1),2===c&&("profile"!=cur.module&&"public"!=cur.module&&"group"!=cur.module&&"groups"!=cur.module&&"event"!=cur.module||!window.Wall||Wall.scrollCheck(!1,void 0,!0),(0,n.updSideTopLink)()),"function"==typeof p&&p()};r._dG("scrollAnimation",!0),(0,a.animate)(E,{scrollTop:e},{duration:t,transition:a.Fx.Transitions.sineInOut,onComplete:s}),(0,a.animate)(document.body,{scrollTop:e},{duration:t,transition:a.Fx.Transitions.sineInOut,onComplete:s})}else{if(c&&2!==c){"profile"!=cur.module&&"public"!=cur.module&&"group"!=cur.module&&"event"!=cur.module||!window.Wall||Wall.scrollCheck(!1,e,!0);const t=u()-e;return Math.abs(t)>6&&_(e+(t>0?6:-6),0,2,!0),(0,n.updSideTopLink)(),clearTimeout(window.scrlToTO),void r._dG("scrlToTO",setTimeout(_.pbind(e,100,2,!0,p),0))}window.scroll(l(),e),"function"==typeof p&&p(),c||(0,n.updSideTopLink)()}}function c(e){return _(0,e)}function l(){return window.pageXOffset||window.scrollNode?.scrollLeft||document.documentElement.scrollLeft}function u(){return window.pageYOffset||window.scrollNode?.scrollTop||document.documentElement.scrollTop}function d(){document.body.style.overflow="hidden"}function p(){document.body.style.overflow="auto"}function E(e){e=e.split(",");const t=cur.named||{};let r=e[0]&&(t[e[0]]||(0,s.ge)(e[0]))||!1;const n=e[1]&&(t[e[1]]||(0,s.ge)(e[1]))||!1;if(!r&&!n){if(r=document.getElementsByName(e[0])[0],!r)return;r=r.nextSibling}const a=(0,s.ge)("page_header_wrap")||(0,s.ge)("dev_top_nav_wrap");setTimeout((function(){r&&_((0,s.getXY)(r)[1]-(a?(0,s.getSize)(a)[1]:0),0),n&&(0,s.elfocus)(n)}),300)}},406266:(e,t,r)=>{"use strict";r.d(t,{addToStaticFiles:()=>b,getCompiledPath:()=>D,getSrcPrefix:()=>S,getStaticFileKeyBySrc:()=>P,initStaticManager:()=>C});var n=r(560377),a=r(298077),s=r(330478),_=r(898848),c=r(540462),l=r(502500),u=r(891040);const d={};let p=12e4;function E(){__debugMode&&(p=navigator.connection&&"4g"===navigator.connection.effectiveType?3e3:3e4)}const m=e=>"dist/"+e,g=e=>/\.js$/.test(e),A=e=>/\.css$/.test(e);function f(e){let t="/js/";return window.stTypes.fromLib[e]?t="/js/lib/":/^lang\d/i.test(e)||window.stTypes.fromRoot[e]||-1!==e.indexOf("/")?0===e.indexOf("dist")&&(t="/"):t="/js/al/",t}function I(e){return window.stTypes.fromRoot[e]||e.includes("/")||e.match(/^[\w_-]+\.[0-9a-f]{8,20}\.css$/)?"/":"/al/"}function y(e,t){const r=e.replace(/^dist\//,"");d[r]&&d[r](t)}function R(e){let t=e;if(~e.indexOf("dist/internal/")&&(!StaticFiles[t]||1===StaticFiles[t].l)){const e=new RegExp(t.replace(/\.js$/,u.DOT_HASH_DOT_JS));let r=!1;Object.keys(StaticFiles).forEach((t=>{e.test(t)&&!StaticFiles[t].l&&(r=t)})),r&&(t=r)}return t}function O(e,t,r){(0,a.logError)(t,{environment:l.staticManagerModuleName,breadcrumb:{message:String(r),category:"custom"}}),(0,c.partConfigEnabled)("global_show_resource_fetch_error")&&(0,n.topMsg)(`Some problems with loading <b>${e}</b>...`,5),y(e)}function S(e){return!g(e)&&!A(e)||function(e){if((0,c.partConfigEnabled)("no_public_files_cdn")&&!e.includes("dist/"))return!0;for(let t=0;t<vk.stExcludedMasks.length;t++)if(-1!==e.indexOf(vk.stExcludedMasks[t]))return!0;return!1}(e)?"":(0===`${f(t=e)}${t}`.indexOf("/dist/")||A(e))&&window.vk?.stDomain||"";var t}const T={_getLoadingState:function(e){const t=StaticFiles[e];return!t||!t.isLoading||t.v&&stVersions[e]&&String(t.v)!==String(stVersions[e])?null:t.isLoading},_getAssetInfo:e=>StaticFiles[e],_add:function(e){const t=T._getLoadingState(e),r=StaticFiles[e]?.error;if(t&&!r)return t;const n=stVersions[e],a=S(e);let _;if(g(e)){let t="";r&&(t=n?`t${Date.now()}`:`?t${Date.now()}`);_=function({fileName:e,fileFullName:t,domainPrefix:r}){const n=f(e),a=(new Error).stack;if(e!==m("web/common_web.js")){const _=r+n+t;return new Promise(((t,r)=>{const n={};if(void 0!==window.vk&&void 0!==window.vk.scriptType&&(n.type=window.vk.scriptType),(0,s.loadScript)(_,document.head,n).catch((t=>{StaticFiles[e]=null;const n=new u.StaticLoadingError({...t,stack:a});r(n)})),_.includes("dist/bundles/"))t(_);else{const n=setTimeout((()=>{if((0,c.partConfigEnabled)("extended_static_loading_errors")){const t=new u.StaticLoadingTimeout({source:_,stack:a});(0,c.partConfigEnabled)("send_static_loading_timeouts")&&(0,u.sendStaticLoadingIssueError)(t),(0,u.sendStaticLoadingIssueEvent)(t),y(e)}else O(e,new Error(`${s.JS_LOAD_ERROR_TEXT} ${e}`),a)}),window.devClient?.isActive?1e6:p),l=e.replace(/^dist\//,"");d[l]=e=>{if(clearTimeout(n),e){const t=new u.StaticLoadingExecuteError({source:_,error:e});r(t)}else t(_);d[l]=null}}})).catch((t=>(0,c.partConfigEnabled)("extended_static_loading_errors")?(((0,c.partConfigEnabled)("send_static_loading_errors")||t instanceof u.StaticLoadingExecuteError)&&(0,u.sendStaticLoadingIssueError)(t),(0,u.sendStaticLoadingIssueEvent)(t),t instanceof u.StaticLoadingExecuteError?Promise.reject(t):void y(e)):(O(e,t,a),Promise.resolve())))}(0,c.partConfigEnabled)("core_spa_blocking")||setTimeout((()=>T.done(m("web/common_web.js"))),0)}({fileName:e,fileFullName:`${e}${n?`?${n}${t}`:`${t}`}`,domainPrefix:a})}else A(e)&&(_=function({fileName:e,domainPrefix:t}){let r=I(e);e.startsWith("dist/")||(r="/css"+r);const n=t+r+e,a=(new Error).stack,_=(0,s.loadStyle)(n).catch((t=>{if((0,c.partConfigEnabled)("extended_static_loading_errors")){const r=new u.StaticLoadingError({...t,stack:a});(0,c.partConfigEnabled)("send_static_loading_errors")&&(0,u.sendStaticLoadingIssueError)(r),(0,u.sendStaticLoadingIssueEvent)(r),y(e)}else O(e,t,a)}));return _}({fileName:e,domainPrefix:a}));return StaticFiles[e]={v:n,isLoading:_},_},add:function(e,t){const r=[];if((0,_.isArray)(e)||(e=[e]),window.devClient?.isActive)return e.forEach((e=>{/^lang\d/i.test(e)&&(stVersions[e]=stVersions.lang)})),window.devClient.stManager.add(e).then((()=>(0,_.isFunction)(t)?t():[]));for(const t in e){if(!e.hasOwnProperty(t))continue;let n=e[t];if(!n)continue;n.includes("?")&&(n=n.split("?")[0]);let a="";g(n)?a=f(n):A(n)&&(a=I(n)),/^lang\d/i.test(n)?stVersions[n]=stVersions.lang:stVersions[a.substring(1)+n]||(stVersions[a.substring(1)+n]=1);let s=!1;if(window.stDeps){const e=a+n,t="/css"+a+n;let _="";window.stDeps[e]?_=e:window.stDeps[t]&&(_=t),_&&(s=!0,window.stDeps[_].forEach((e=>{r.push(T._add(e))})))}s||r.push(T._add(n))}return Promise.all(r).then((e=>((0,_.isFunction)(t)&&t(e),e)))},done:function(e){const t=R(e);y(t),StaticFiles[t]&&(StaticFiles[t].l=1,delete StaticFiles[t].error)},fail:function(e,t){if(!(0,c.partConfigEnabled)("static_loading_execute_errors"))return;const r=R(e);StaticFiles[r]&&(StaticFiles[r].error=t,y(r,t))}};function P(e){const t=e.replace(/^https?:\/\/[^\/]+/i,"").slice(1).split("?")[0];if(/^dist\//.test(t))return t;const r=t.split("/").pop()||"";return A(r)?t.replace(/^css\//,""):r}function b(e,t){const r={};r.isLoading=t,window.StaticFiles[e]=r}function C(){window.addEventListener("load",E,{passive:!0}),r._dG("jsc",m),(0,c.partConfigEnabled)("webinf_strangle_st_manager")||r._dG("stQueue",d),window.stVersions||(r._dG("stVersions",{}),r._dG("stTypes",{fromLib:{},fromRoot:{}}),r._dG("navMap",{})),window.StaticFiles||r._dG("StaticFiles",{}),function(){for(const e of Object.values(window.StaticFiles))e.isLoading=(0,c.partConfigEnabled)("core_spa_blocking")?e.isLoading:Promise.resolve()}(),window.stManager||((0,c.partConfigEnabled)("webinf_strangle_st_manager")?r._dG("stManager",{add:T.add.bind(T),done:T.done.bind(T),fail:T.fail.bind(T)}):r._dG("stManager",T)),window.devClient?.isActive&&window.devClient.stManager.connect(T)}function D(e){const{stDeps:t=[]}=window,r=t[`${f(e)}${e}`],n=new RegExp(e.replace(/\.js$/,u.DOT_HASH_DOT_JS));return r.find((t=>t===e||n.test(t)))}},568129:(e,t,r)=>{"use strict";r.d(t,{blockNameEmpty:()=>be,blockNameOwn:()=>we,blockNameSearch:()=>Ce,blockNameSearchGeoGroups:()=>Me,blockNameSearchGroups:()=>De,clickTypeAddFriendOut:()=>Oe,clickTypeJoinGroupOut:()=>ye,clickTypeLeaveGroupOut:()=>Re,clickTypeRemoveFriendOut:()=>Se,generateQID:()=>gt,logLeftMenuClicks:()=>ht,outOfSerpGroup:()=>Te,outOfSerpProfile:()=>Pe,removeOutOfSerpClickLogging:()=>ut,removeSearchPositionTracker:()=>Et,saveSearchAttemptStats:()=>mt,serviceApps:()=>L,serviceAppsList:()=>M,serviceAppsManage:()=>N,serviceAudio:()=>K,serviceBookmarksGroups:()=>C,serviceBookmarksUsers:()=>D,serviceDocs:()=>F,serviceEvents:()=>A,serviceFriends:()=>f,serviceFriendsFind:()=>y,serviceGamesCatalog:()=>q,serviceGroups:()=>E,serviceGroupsCatalog:()=>m,serviceManage:()=>W,serviceMarketV2:()=>j,serviceMessages:()=>V,serviceNews:()=>P,servicePhotos:()=>x,serviceSearchAudio:()=>b,serviceSearchClips:()=>U,serviceSearchCommunities:()=>g,serviceSearchPeople:()=>I,serviceSearchStatuses:()=>T,serviceSearchVideo:()=>k,serviceTopSearch:()=>B,serviceUserFriends:()=>z,serviceVideo:()=>H,serviceWall:()=>S,serviceWallGroups:()=>O,serviceWallUsers:()=>R,tryLogOutOfSerpClick:()=>lt});var n=r(898848),a=r(972332),s=r(593159),_=r(754866),c=r(636576),l=r(553608),u=r(952661),d=r(540462);const p={},E="groups",m="groups_catalog",g="search_communities",A="events",f="friends",I="search_people",y="friends_find",R="wall_users",O="wall_groups",S="wall",T="search_statuses",P="news",b="search_audio",C="bookmarks_groups",D="bookmarks_users",M="apps_list",L="apps",N="apps_manage",k="search_video",U="search_clips",B="top_search",x="photos",F="docs",V="messages",K="audio",W="manage",H="video",G="market",j="market_v2",Y="market_groups",z="profile_user_friends",q="games_catalog",$="",X="tap",Q="join_group",J="leave_group",Z="fave",ee="unfave",te="write_msg",oe="add_friend",ie="remove_friend",re="restore_friend",ne="show_photo",ae="add",se="remove",_e="play",ce="open_artist",le="open_author_group",ue="open_author_user",de="open_author",pe="show_similar",Ee="search_by_tag",he="edit",me="like",ge="open_comments",Ae="share",ve="expand",fe="mark_as_spam",Ie="stats",ye="join_group_out",Re="leave_group_out",Oe="add_friend_out",Se="remove_friend_out",Te="group",Pe="profile",be="",we="own",Ce="search",De="search_groups",Me="search_communities_geo",Le="own_playlists",Ne="global_clips",ke="own_audios",Ue="search_artists",Be="search_playlists",xe="search_global_playlists",Fe="search_audios",Ve="own_conversations",Ke="own_messages",We="own_albums",He="own_videos",Ge="video_playlists",je="search_videos",Ye="serps",ze="SERPS_LOGS_DATA_LOCK",qe=180,$e=100,Xe="",Qe="user",Je="group",Ze="app",et="event",tt="public",ot="grid",it="list";function rt(e,t,r,a="",s=void 0,c=void 0){let l=0,u="",d=0,p=1,E=0,m=0;return e&&((0,n.isArray)(r)||(r=[r]),r.some((r=>{const n=e.classList.contains(r)?e:(0,_.gpeByClass)(r,e);let g=0;if(n){let r;if(r=a?document.querySelectorAll(a):n.parentNode.children,r){if(l=[...r].indexOf(n)+1,l&&s)for(const e in s)if(s.hasOwnProperty(e)){const t=document.querySelectorAll(s[e]);if(t){const r=[...t].indexOf(n)+1;if(r){d=r,u=e;break}}p++,g++}if(c)for(const t of c){const r=(0,_.gpeByClass)(t,e);r&&(p=r.getAttribute("data-block-num"))}return[E,m]=t(n,g),!0}}}))),[l,E,m,u,d,p]}function nt(e,t,r,n,a,s,c){if(!p[e])return;const l=c.target;if(l&&l.classList)switch(e){case E:return void function(e,t,r,n,a,s){if(!t)return;const c=s.classList,l=s.outerHTML,d=s.tagName;let[,p,E,m,g]=rt(s,(e=>{let t=e.getAttribute("id")||e.getAttribute("data-id");return t=t?t.replace("gl_groups","").replace("gl_admin",""):0,[0,"-"+t]}),["_gl_row","search_row"],"#groups_list_tab_groups ._gl_row, #groups_list_search_wrap ._gl_row, #results .search_row, #groups_list_search_wrap .search_row",{[we]:"#groups_list_tab_groups ._gl_row",[Ce]:"#groups_list_search_wrap ._gl_row, #groups_list_search_wrap .search_row"});if(!g)return;m===we&&(n=0,a="");let A=$;if(c.contains("group_row_title")||c.contains("group_row_img")||c.contains("highlight")||c.contains("search_item_img")||"A"===d&&-1!==l.indexOf("return nav.go")){let e=(0,_.gpeByClass)("group_list_row",s)||(0,_.gpeByClass)("groups_row",s);if(!e)return;if(e.hasAttribute("data-clicked"))return;e.setAttribute("data-clicked",!0),A=X}(u.FlatButton.isFlatButton(s)&&u.FlatButton.getAppearance(s)!==u.FlatButtonAppearance.SECONDARY||c.contains("search_sub_button"))&&(A=Q);(u.FlatButton.isFlatButton(s)&&u.FlatButton.getAppearance(s)===u.FlatButtonAppearance.SECONDARY||c.contains("search_unsub_button"))&&(A=J);if(m===we&&-1!==l.indexOf("GroupsList.subscribe")){if(c.contains("ui_actions_menu"))return;A=Q,!cur.scrollList.deleted[-E]&&(A=J)}if(m===we&&-1!==l.indexOf("GroupsList.toggleFave")){if(c.contains("ui_actions_menu"))return;A=Z,"1"===s.getAttribute("data-value")&&(A=ee)}if(A===$)return;ct(),A===X&&_t(Te,e,m,g,r,t,E,p,n,a);dt(e,m,g,A,r,t,E,p,n,a,Xe)}(e,t,r,n,a,l);case g:return(0,d.partConfigEnabled)("search_communities_web_blocks_enabled")?void function(e,t,r,n,a,s,c){const l=c.classList,u=c.tagName,d=c.outerHTML,p=Boolean(c?.closest(".block_geo_groups"))||Boolean(c?.closest(".search_communities_block.section_page"))?Me:De,E=c?.closest(".search_row")?.dataset?.id||0,m=(()=>{const e=document.querySelector("#results .block_user_groups"),t=document.querySelector("#results .block_other_groups"),r=document.querySelector("#results .block_geo_groups"),n=document.querySelector("#results .search_communities_block.section_page");if(r&&c?.closest(".block_geo_groups")){const e=[...r.querySelectorAll(".search_row")].findIndex((e=>+e?.dataset?.id==+E));if(-1!==e)return e+1}return[...e?.querySelectorAll(".search_row")||[],...t?.querySelectorAll(".search_row")||[],...n?.querySelectorAll(".search_row")||[]].findIndex((e=>+e?.dataset?.id==+E))+1})(),g=document.querySelector("#results .block_geo_groups")?p===Me?1:2:1;if(!m)return;let A=$;if(l.contains("search_item_img")||l.contains("highlight")||"A"===u&&-1!==d.indexOf("return nav.go")){let e=(0,_.gpeByClass)("groups_row",c);if(!e)return;if(e.hasAttribute("data-clicked"))return;e.setAttribute("data-clicked",!0),A=X}l.contains("search_sub_button")&&(A=Q);l.contains("search_unsub_button")&&(A=J);if(A===$)return;ct(),A===X&&_t(Te,e,p,m,r,t,E,0,n,a,s,g);dt(e,p,m,A,r,t,E,0,n,a,Xe,"",s,g)}(e,t,r,n,a,s,l):void function(e,t,r,n,a,s,c){if(!t)return;const l=c.classList,u=c.outerHTML,d=c.tagName;let[p,E,m]=rt(c,(e=>{let t=e.getAttribute("data-id");return t||(t=0),[0,"-"+t]}),"search_row","#results .search_row");const g=c?.closest(".search_communities_block.section_page")?Me:be;if(!p)return;let A=$;if(l.contains("search_item_img")||l.contains("highlight")||"A"===d&&-1!==u.indexOf("return nav.go")){let e=(0,_.gpeByClass)("groups_row",c);if(!e)return;if(e.hasAttribute("data-clicked"))return;e.setAttribute("data-clicked",!0),A=X}l.contains("search_sub_button")&&(A=Q);l.contains("search_unsub_button")&&(A=J);if(A===$)return;ct(),A===X&&_t(Te,e,g,p,r,t,m,E,n,a);dt(e,g,p,A,r,t,m,E,n,a,Xe,"",s)}(e,t,r,n,a,s,l);case m:return void function(e,t,r,n,a,s){if(!t)return;const c=s.classList,l=s.outerHTML,u=s.tagName;let[d,p,E]=rt(s,(e=>{let t=e.getAttribute("data-id");return t||(t=0),[0,"-"+t]}),"search_row","#results .search_row"),m=$;if(c.contains("search_item_img")||c.contains("highlight")||"A"===u&&-1!==l.indexOf("return nav.go")){let e=(0,_.gpeByClass)("groups_row",s);if(!e)return;if(e.hasAttribute("data-clicked"))return;e.setAttribute("data-clicked",!0),m=X}c.contains("search_sub_button")&&(m=Q);c.contains("search_unsub_button")&&(m=J);if(m===$)return;ct(),m===X&&_t(Te,e,be,d,r,t,E,p,n,a);dt(e,be,d,m,r,t,E,p,n,a,Xe)}(e,t,r,n,a,l);case A:return void function(e,t,r,n,a,s){const c=s.classList,l=s.outerHTML,u=s.parentElement?s.parentElement.classList:null;let[d,p,E]=rt(s,(e=>{let t=e.getAttribute("data-id");return t||(t=0),[0,"-"+t]}),"search_row","#groups_list_in_tab_search_all .search_row");if(!d)return;let m=$;if(c.contains("search_item_img")||-1!==l.indexOf("return nav.go")&&u&&u.contains("title")){let e=(0,_.gpeByClass)("search_row",s);if(!e)return;if(e.hasAttribute("data-clicked"))return;e.setAttribute("data-clicked",!0),m=X}c.contains("search_sub_button")&&(m=Q);c.contains("search_unsub_button")&&(m=J);if(m===$)return;ct(),m===X&&_t(Te,e,be,d,r,t,E,p,n,a);dt(e,be,d,m,r,t,E,p,n,a,Xe)}(e,t,r,n,a,l);case f:case z:return void function(e,t,r,n,a,s){const c=s.classList,l=s.outerHTML,u=s.tagName;let[,d,p,E,m]=rt(s,(e=>{let t=e.getAttribute("id");return t=t?t.replace("friends_user_row",""):0,[0,t]}),"friends_user_row","#list_content .friends_user_row, #friends_search_cont .friends_user_row",{[we]:"#list_content .friends_user_row",[Ce]:"#friends_search_cont .friends_user_row"});if(!m)return;let g=$;E===we&&-1!==l.indexOf("showWriteMessageBox")&&(g=te);E===we&&-1!==l.indexOf("deleteFriend")&&(g=ie);E===we&&c.contains("friends_restore_link")&&(g=re);c.contains("ui_zoom_icon")&&(g=ne);E===Ce&&s.id&&-1!==s.id.indexOf("friends_subsc")&&(g=oe);E===Ce&&s.id&&-1!==s.id.indexOf("friends_unsubsc")&&(g=ie);if(c.contains("friends_photo_img")||E===we&&"A"===u&&-1!==l.indexOf("return nav.go")||E===Ce&&"A"===u&&0===c.length){let e=(0,_.gpeByClass)("friends_user_row",s);if(!e)return;if(e.hasAttribute("data-clicked"))return;e.setAttribute("data-clicked",!0),g=X}if(g===$)return;ct(),g===X&&_t(Pe,e,E,m,r,t,p,d,n,a);dt(e,E,m,g,r,t,p,d,n,a,Xe)}(e,t,r,n,a,l);case y:return void function(e,t,r,n,a,s){const c=s.classList,l=s.outerHTML,u=s.parentElement?s.parentElement.classList:null;if(!t)return;let[d,p,E]=rt(s,(e=>[0,e.getAttribute("data-id")||0]),"search_row","#results .search_row");if(!d)return;let m=$;if(c.contains("search_item_img")||-1!==l.indexOf("return nav.go")&&u&&u.contains("name")){let e=(0,_.gpeByClass)("people_row",s);if(!e)return;if(e.hasAttribute("data-clicked"))return;e.setAttribute("data-clicked",!0),m=X}c.contains("search_sub_button")&&(m=oe);c.contains("search_unsub_button")&&(m=ie);if(m===$)return;ct(),m===X&&_t(Pe,e,be,d,r,t,E,p,n,a);dt(e,be,d,m,r,t,E,p,n,a,Xe)}(e,t,r,n,a,l);case I:return void function(e,t,r,n,a,s,c){const l=c.classList,u=c.outerHTML,d=c.parentElement?c.parentElement.classList:null;if(!t)return;let[p,E,m]=rt(c,(e=>[0,e.getAttribute("data-id")||0]),"search_row","#results .search_row");if(!p)return;let g=$;if(l.contains("search_item_img")||l.contains("AvatarRich")||(-1!==u.indexOf("return nav.go")||-1!==u.indexOf("searcher.openProfileNps"))&&d&&(d.contains("name")||d.contains("img"))){let e=(0,_.gpeByClass)("people_row",c);if(!e)return;if(e.hasAttribute("data-clicked"))return;e.setAttribute("data-clicked",!0),g=X}l.contains("search_sub_button")&&(g=oe);l.contains("search_unsub_button")&&(g=ie);if(g===$)return;ct(),g===X&&_t(Pe,e,be,p,r,t,m,E,n,a);dt(e,be,p,g,r,t,m,E,n,a,Xe,"",s)}(e,t,r,n,a,s,l);case C:return void function(e,t,r,n,a,s){const c=s.classList,l=s.outerHTML;let[u,d,p]=rt(s,(e=>{let t=e.getAttribute("data-id");return t||(t=0),[0,t]}),"_bookmark_page_item");if(!u)return;let E=$;if(c.contains("group_link")||c.contains("bookmark_page_item__image")){let e=(0,_.gpeByClass)("_bookmark_page_item",s);if(!e)return;if(e.hasAttribute("data-clicked"))return;e.setAttribute("data-clicked",!0),E=X}(c.contains("ui_zoom")||c.contains("ui_zoom_icon"))&&(E=ne);-1!==l.indexOf("Bookmarks.removeBookmark")&&(E=ee);if(E===$)return;ct(),E===X&&_t(Te,e,be,u,r,t,p,d,n,a);dt(e,be,u,E,r,t,p,d,n,a,Xe)}(e,t,r,n,a,l);case D:return void function(e,t,r,n,a,s){const c=s.classList,l=s.outerHTML,[u,d,p]=rt(s,(e=>{let t=e.getAttribute("data-id");return t||(t=0),[0,t]}),"_bookmark_page_item");if(!u)return;let E=$;if(c.contains("mem_link")||c.contains("bookmark_page_item__image")){let e=(0,_.gpeByClass)("_bookmark_page_item",s);if(!e)return;if(e.hasAttribute("data-clicked"))return;e.setAttribute("data-clicked",!0),E=X}(c.contains("ui_zoom")||c.contains("ui_zoom_icon"))&&(E=ne);-1!==l.indexOf("Bookmarks.removeBookmark")&&(E=ee);if(E===$)return;ct(),E===X&&_t(Pe,e,be,u,r,t,p,d,n,a);dt(e,be,u,E,r,t,p,d,n,a,Xe)}(e,t,r,n,a,l);case b:!function(e,t,r,n,a,s){const c=s.classList,l=s.tagName;let u=(0,_.gpeByClass)("ap_layer_wrap",s);if(u)return;let d=(0,_.gpeByClass)("search_results",s);if(!d)return;let[p,E,m]=rt(s,(e=>{let t=e.getAttribute("data-full-id");return t&&t.indexOf("_")?t.split("_"):[0,0]}),"_audio_row");if(!p)return;let g=$;(c.contains("audio_row__cover_icon")||c.contains("audio_row__performer_title")||c.contains("audio_row__title")||c.contains("audio_row__title_inner")||c.contains("audio_row__title_inner_subtitle")||c.contains("audio_row__inner")||c.contains("audio_player__place")||c.contains("audio_row__action_next")||c.contains("audio_row__performers"))&&(g=_e);c.contains("audio_row__action_add")&&(g=ae);"A"===l&&(g=ce);if(g===$)return;dt(e,be,p,g,r,t,m,E,n,a,Xe)}(e,t,r,n,a,l);break;case k:return void function(e,t,r,n,a,s,_){const c=_.classList;let[l,u,d]=rt(_,(e=>{let t=e.getAttribute("data-id");return t&&t.indexOf("_")?t.split("_"):[0,0]}),"_video_item","#results ._video_item");if(!l)return;let p=$;(c.contains("video_thumb_play")||c.contains("video_item_controls")||c.contains("video_thumb_label_item")||c.contains("video_thumb_label")||c.contains("video_item_title")||c.contains("mv_subtitle"))&&(p=_e);(c.contains("icon_add")||c.contains("video_thumb_action_add")||c.contains("VideoCard__action--add"))&&(p=ae);c.contains("icon_added")&&(p=se);c.contains("group_link")&&(p=le);c.contains("al_need_login")&&(p=ce);c.contains("mem_link")&&(p=ue);if(p===$)return;dt(e,be,l,p,r,t,d,u,n,a,Xe,"",s)}(e,t,r,n,a,s,l);case U:return void function(e,t,r,n,a,s,_){const c=_.classList;let[l,u,d]=rt(_,(e=>{let t=e.parentNode.getAttribute("href");return t=t.replace("/clip",""),t&&t.indexOf("_")?t.split("_"):[0,0]}),"ShortVideoGridItem__thumb",".ShortVideoGridItem__thumb");if(!l)return;let p=$;c.contains("ShortVideoGridItem__thumb")&&(p=_e);if(p===$)return;dt(e,be,l,p,r,t,d,u,n,a,Xe,"",s)}(e,t,r,n,a,s,l);case K:return void function(e,t,r,n,a,s){const _=s.classList,c=s.tagName,l=s.parentElement?s.parentElement.classList:null,[,u,d,p,E]=rt(s,((e,t)=>{let r="";switch(t){case 1:case 4:case 2:r=e.getAttribute("data-full-id");break;case 0:case 3:case 6:r=e.getAttribute("data-raw-id")}return r&&r.indexOf("_")?r.split("_"):r?[r,0]:[0,0]}),["_audio_pl_item","audio_block_small_item","_audio_row","_video_item"],"\n        ._audio_section__search ._audio_pl_item,\n        ._audio_section__search ._audio_row,\n        ._audio_section__search .audio_block_small_item,\n        ._audio_section__search .video_item,\n        ._audio_search_blocks ._audio_row,\n        ._audio_search_blocks ._video_item,\n        ._audio_search_blocks ._audio_pl_item,\n        ._audio_search_blocks .audio_block_small_item\n      ",{[Be]:".CatalogBlock__search_global_albums ._audio_pl_item",[ke]:".CatalogBlock__search_owned_audios ._audio_row",[Fe]:".CatalogBlock__search_global_audios ._audio_row",[Ue]:".CatalogBlock__search_global_artists .audio_block_small_item",[Ne]:".CatalogBlock__search_global_clips .video_item",[Le]:'._audio_page_block__playlists_items[data-audio-context="search_owned_playlist"] ._audio_pl_item',[xe]:".CatalogBlock__search_global_playlists ._audio_pl_item"});if(!E)return;let m=$;_.contains("audio_row__action_more")||l&&l.contains("audio_row__actions")||(m=_e);_.contains("audio_row__action_next")&&(m=_e);p===ke&&_.contains("audio_row__action_recoms")&&(m=pe);p===ke&&_.contains("audio_row__action_delete")&&(m=se);p===ke&&_.contains("audio_row__action_add")&&(m=ae);p===Fe&&_.contains("audio_row__action_add")&&(m=ae);p===Ne&&_.contains("icon_add")&&(m=ae);p===Ne&&_.contains("icon_added")&&(m=se);p===Ue&&"A"===c&&(m=ce);if(m===$)return;dt(e,p,E,m,r,t,d,u,n,a,Xe)}(e,t,r,n,a,l);case B:return void function(e,t,r,n,a,s){const c=s.classList;let l=s;c.contains("ts_contact")||(l=(0,_.gpeByClass)("ts_contact",s,"div#ts_cont_wrap"));let[u,d,p]=rt(l,(()=>[0,(l.id||"").replace("ts_contact","")]),"ts_contact","#ts_cont_wrap .ts_contact");if(!u)return;let E=X,m=Xe;switch(l.getAttribute("hinttype")){case"h_friends":m=Qe,c.contains("ts_contact_status")&&(E=te);break;case"h_mutual_friends":case"s_people":case"h_mail_peers":m=Qe;break;case"h_vk_apps":case"h_apps":m=Ze;break;case"h_events":m=et;break;case"h_publics":m=tt;break;case"h_visited":case"s_groups":m=Je}dt(e,be,u,E,r,t,p,d,n,a,m)}(e,t,r,n,a,l);case H:return void function(e,t,r,n,a,s,_){const c=_.classList;let[,l,u,p,E]=rt(_,((e,t)=>{let r="";switch(t){case 1:case 3:r=e.getAttribute("data-id");break;case 2:r=e.getAttribute("data-name")}return r&&r.indexOf("_")?r.split("_"):[0,0]}),["video_playlist_item","_video_item","ui_gallery_item"],"\n        #video_layout_search .video_playlist_item,\n        #video_layout_search ._video_item,\n        #video_subtab_pane_search_promo_albums .ui_gallery_item\n      ",{[We]:"#video_subtab_pane_search_albums .video_playlist_item",[He]:"#video_subtab_pane_search_videos ._video_item",[Ge]:"#video_subtab_pane_search_promo_albums .ui_gallery_item",[je]:"#video_subtab_pane_search_global_videos ._video_item"});if(!E)return;let m=$;(c.contains("icon_add")||c.contains("video_thumb_action_add")||c.contains("VideoCard__action--add"))&&(m=ae);c.contains("icon_added")&&(m=se);const g=(0,d.partConfigEnabled)("video_remove_restore_video_act")?"video-restore-button-widget"===_.id:c.contains("video_restore_act");p===He&&g&&(m=ae);p===He&&c.contains("video_thumb_action_delete")&&(m=se);(c.contains("video_item_title")||c.contains("video_item_controls")||c.contains("video_thumb_label_item")||c.contains("video_thumb_play"))&&(m=_e);c.contains("group_link")&&(m=le);c.contains("al_need_login")&&(m=ce);c.contains("mem_link")&&(m=ue);m===$&&p===Ge&&(c.contains("VideoCard__controlsOverlay")||c.contains("VideoCard__title")||c.contains("VideoCard__icon")||c.contains("VideoCard__controlsOverlayText"))&&(m=X);if(m===$)return;dt(e,p,E,m,r,t,u,l,n,a,Xe,"",s)}(e,t,r,n,a,s,l);case G:case Y:return void function(e,t,r,n,a,s){const c=s.classList;let l=ot;const u=(0,_.gpeByClass)("market_row_line",s,".marketplace_content_search");u&&(l=it);const d=l===ot?"_market_row":"market_row_line";let[p,E,m]=rt(s,(e=>[0,e.getAttribute("data-id")||0]),d,"#marketplace_content ."+d);if(!p)return;let g=$;switch(l){case it:(c.contains("market_row_img")||c.contains("link"))&&(g=X),c.contains("market_favourite")&&!c.contains("selected")&&(g=Z),c.contains("market_favourite")&&c.contains("selected")&&(g=ee),c.contains("mem_link")&&(g=ue),c.contains("group_link")&&(g=le);break;case ot:g=X,(c.contains("icon")||c.contains("fav"))&&(g=Z)}if(g===$)return;dt(e,be,p,g,r,t,m,E,n,a,Xe)}(e,t,r,n,a,l);case j:return void function(e,t,r,n,a,s){const _=s.classList,c="ClassifiedsCatalogProduct__serpItem",[l,u,d]=rt(s,(e=>[+e.getAttribute("data-owner-id"),+e.getAttribute("data-id")]),c);if(!l)return;let p=$;_.contains("ClassifiedsCatalogProduct__serpTap")&&(p=X);_.contains("MarketplaceCatalogProductFavouriteButton--favorite")&&(p=Z);_.contains("MarketplaceCatalogProductFavouriteButton--notFavorite")&&(p=ee);_.contains("ClassifiedsCatalogProduct__serpOwnerGroup")&&(p=le);_.contains("ClassifiedsCatalogProduct__serpOwnerUser")&&(p=ue);if(p===$)return;dt(e,be,l,p,r,t,d,u,n,a,Xe)}(e,t,r,n,a,l);case V:return void function(e,t,r,n,a,s){let[,_,c,l,u]=rt(s,(e=>{let t=e.getAttribute("data-peer");return t||(t=0),[0,t]}),"_im_dialog","._im_page_dcontent ._im_dialog",{[Ve]:"._im_page_dcontent ._im_dialog:not(._im_search)",[Ke]:"._im_page_dcontent ._im_dialog._im_search"});if(!u)return;dt(e,l,u,X,r,t,c,_,n,a,Xe)}(e,t,r,n,a,l);case F:return void function(e,t,r,n,a,s){const _=s.classList,c=s.outerHTML;let[,l,u,d,p]=rt(s,(e=>{let t=e.getAttribute("id");return t&&(t=t.replace("docs_file_","")),t&&t.indexOf("_")?t.split("_"):[0,0]}),"_docs_item","#docs_list ._docs_item, #docs_search_list ._docs_item",{[we]:"#docs_list ._docs_item",[Ce]:"#docs_search_list ._docs_item"});if(!p)return;let E=$;d===Ce&&_.contains("docs_add_row")&&(E=ae);d===we&&_.contains("docs_delete_row")&&(E=se);d===we&&-1!==c.indexOf("Docs.restoreItem")&&(E=ae);d===we&&_.contains("docs_edit_row")&&(E=he);(_.contains("highlight")||_.contains("docs_item_thumb_img")||_.contains("docs_item_icon")||_.contains("docs_item_name"))&&(E=X);-1!==c.indexOf("Docs.tagSearch")&&(E=Ee);if(E===$)return;dt(e,d,p,E,r,t,u,l,n,a,Xe)}(e,t,r,n,a,l);case M:case L:return void function(e,t,r,n,a,s){const[_,c,l]=rt(s,(e=>{let t=e.getAttribute("id");return t=t?t.replace("app",""):0,[0,t]}),"_apps_cat_row");if(!_)return;let u=X;if(u===$)return;dt(e,be,_,u,r,t,l,c,n,a,Xe)}(e,t,r,n,a,l);case q:return void function(e,t,r,n,a,s){const _=s.classList,[c,l,u]=rt(s,(e=>[0,e.getAttribute("data-app-id")||0]),"GameCatalogSearchCard");if(!c)return;let d=$;(_.contains("GameCatalogSearchCard__screenshotImg")||_.contains("GameCatalogSearchCard__run")||_.contains("GameCatalogSearchCard__avatar")||_.contains("GameCatalogSearchCard__name"))&&(d=_e);if(d===$)return;dt(e,be,c,d,r,t,u,l,n,a,Xe)}(e,t,r,n,a,l);case x:return void function(e,t,r,n,a,s){const[_,c,l]=rt(s,(()=>{let e=s.getAttribute("href")||"";e=e.replace("/photo","");let t=e.split("_");return 2!==t.length?[0,0]:[t[0],t[1]]}),"page_post_thumb_wrap","._feed_rows .page_post_thumb_wrap");if(!_)return;dt(e,be,_,X,r,t,l,c,n,a,Xe)}(e,t,r,n,a,l);case R:case O:case S:case T:case P:return void function(e,t,r,n,a,s){const c=s.classList,l=s.outerHTML,u=(0,_.gpeByClass)("replies",s,".post");if(u)return;let d="feed_row",p="";e!==T&&e!==R&&e!==O||(d="post");e!==R&&e!==O||(p="#page_search_posts .post");const[E,m,g]=rt(s,(e=>{let t;if(e.classList.contains("post"))t=e;else{const r=e.getElementsByClassName("post");if(0===r.length)return[0,0];t=r[0]}if(!t)return[0,0];const r=(t.getAttribute("data-post-id")||"").split("_");return 2===r.length?r:[0,0]}),d,p);if(!E)return;let A=$;const f=(0,_.gpeByClass)("wall_text",s,".post");(f||c.contains("wall_text"))&&(A=X);(c.contains("author")||c.contains("post_img")||c.contains("copy_author")||c.contains("copy_post_img")||c.contains("_copy_post_img")||c.contains("PostHeader__avatar"))&&(A=de);const I=(0,_.gpeByClass)("PostHeaderSubtitle__link",s,"_post");(c.contains("rel_date")||c.contains("published_by_date")||I)&&(A=X);const y=(0,_.gpeByClass)("like",s,".post"),S=(0,_.gpeByClass)("PostBottomActionContainer",s,"_post");(y||c.contains("like")||S)&&(A=me);const P=(0,_.gpeByClass)("comment",s,".post");(P||c.contains("comment"))&&(A=ge);const b=(0,_.gpeByClass)("share",s,".post");(b||c.contains("share"))&&(A=Ae);c.contains("ui_actions_menu_item")&&-1!==l.indexOf("bookmarkPost")&&(A=Z);c.contains("ui_actions_menu_item")&&-1!==l.indexOf("wall.markAsSpam")&&(A=fe);const C=(0,_.gpeByClass)("PostTextMore",s,"_post");C&&(A=ve);if(A===$)return;dt(e,be,E,A,r,t,g,m,n,a,Xe)}(e,t,r,n,a,l);case W:case N:return void function(e,t,r,n,a,s){const _=s.classList,c=s.tagName,[l,u,d]=rt(s,(e=>{let t=e.getAttribute("id");return t=t?t.replace("app",""):0,[0,t]}),"_apps_settings_row");if(!l)return;let p=$;_.contains("apps_settings_stats")&&(p=Ie);"A"!==c&&"img"!==c||(p=X);if(p===$)return;dt(e,be,l,p,r,t,d,u,n,a,Xe)}(e,t,r,n,a,l)}}function at(){const e=window.vk.id;let t={[e]:{}};const r=l.vkLocalStorage.getItem(Ye);if(!r)return t;try{t=JSON.parse(r)}catch(e){t={}}return t&&e&&(t={...t,[e]:{...t[e]}}),t}function st(e){if("locked"===l.vkLocalStorage.getItem(ze))setTimeout((()=>st(e)),100);else{l.vkLocalStorage.setItem(ze,"locked");try{e()}catch(e){}l.vkLocalStorage.setItem(ze,"free")}}function _t(e,t,r,n,a,s,_,c,u,d,p=!1,E=0){st((()=>{const m=window.vk.id;let g=Math.round(+new Date/1e3),A=at();A[m][e]=A[m][e]||{};const f=Object.keys(A[m][e]);if(f.length>=$e){let t=f[0],r=A[m][e][t][0];f.forEach((n=>{let a=A[m][e][n][0];a<r&&(r=a,t=n)})),delete A[m][e][t]}A[m][e][_]=[g,t,r,n,a,s,c,u,d,p,E],l.vkLocalStorage.setItem(Ye,JSON.stringify(A))}))}function ct(){st((()=>{let e=at();if(!e)return;const t=Math.round(+new Date/1e3);Object.keys(e).forEach((r=>{Object.keys(e[r]).forEach((n=>{let a=e[r][n];Object.keys(a).forEach((e=>{let r=a[e][0];t-r>qe&&delete a[e]})),e[r][n]=a,0===Object.keys(a).length&&delete e[r][n]}))})),l.vkLocalStorage.setItem(Ye,JSON.stringify(e))}))}function lt(e,t,r){const n=window.vk.id;let a=at();a[n][e]=a[n][e]||{};const s=a[n][e][t];if(!s)return;Math.round(+new Date/1e3)-s[0]>qe?ut(!0,e,t):dt(s[1],s[2],s[3],r,s[4],s[5],t,s[6],s[7],s[8],Xe,"",s[9],s[10])}function ut(e,t,r){e&&st((()=>{const e=window.vk.id;let n=at();n[e][t]=n[e][t]||{},n[e][t][r]&&(delete n[e][t][r],l.vkLocalStorage.setItem(Ye,JSON.stringify(n)))}))}function dt(e,t,r,n,a,s,_,l,u,d,p,E="",m=!1,g=0){if(!r)return;const A=-(new Date).getTimezoneOffset();(0,c.statlogsValueEvent)("search_position",e,p,n,t,r,m,l,_,s,A,a,u,d,E,g)}function pt(){for(let e in p)p.hasOwnProperty(e)&&Et(e)}function Et(e){if(p[e]){const t=p[e];(0,a.removeEvent)(window,"click",t),delete p[e]}}function ht(e,t){const r=t||e.target.getAttribute("data-stats-key");r&&r.length>0&&(0,c.statlogsValueEvent)("submenu_clicks",0,r)}function mt(e,t,r,n,s="0",_=0,l="0",u="",d=be,E="",m=!1,g=0,A=null,f=0,I=!1){r=r?1:0,s=s&&"0"!==s?s:gt(),I||function(e,t,r,n,a,s,_,l,u="",d=!1,p=0,E=0,m=0){const g=-(new Date).getTimezoneOffset();(0,c.statlogsValueEvent)("search_attempts",e,d,s,n,g,r,_,a,l,t,u,p,E,m)}(e,d,s,n,l,r,_,u,E,m,g,A,f),p[e]&&Et(e);const y=nt.pbind(e,n,s,_,u,m);p[e]=y,(0,a.addEvent)(window,"click",y,!1,!1,!0),cur.destroy||(cur.destroy=[]),cur.destroy.some((e=>e===pt))||cur.destroy.push(pt)}function gt(){return(0,s.rand)(-9223372035,9223372035).toFixed(0).concat((0,s.rand)(0,999999999).toFixed(0))}},856771:(e,t,r)=>{"use strict";r.r(t),r.d(t,{sendMask:()=>D,showNarrative:()=>T,showStory:()=>S,storiesPreloadStatic:()=>b});var n=r(270959),a=r(246429),s=r(102088),_=r(226220),c=r(754866),l=r(194065),u=r(530888),d=r(540462),p=r(319756),E=r(852487),m=r(602204),g=r(608814),A=r(105648),f=r(298544),I=r(762673),y=r(60512);let R=!1,O=!1;function S(e,t={},r=void 0){if((0,l.trackStoryOpeningStart)({nonce:e,isColdStart:!O,isAnimated:null!=t.fromEl,viewSource:t.source,navigationSource:u.StoryTypeOpen.OPEN_STORY_BY_CLICK}),(0,d.partConfigEnabled)("web_stories_viewer_redesign"))return void(0,A.loadStoriesViewerLayers)().then((t=>{const{narrativesViewerModal:r,storiesViewerModal:n}=g.webLayersConfig,a=Boolean((0,y.matchLayer)({layerName:"w",layerPath:decodeURIComponent(window.location.search).replace("?w=",""),layersConfig:{narrativesViewerModal:r,storiesViewerModal:n},partConfigEnabled:d.partConfigEnabled})),[s,_,c,l,u,E]=(0,I.parseList)(e),m=e=>{e&&(0,p.ensureDIRootWebContainer)().resolve(g.WebLayers).open("storiesViewerModal",{layerParams:e,replace:a})};if(t.saveLayersBeforeOpeningStoryLayers(),_&&s&&u)m({storyId:_,ownerId:s,listName:u});else{const e=(0,f.getSearchQuery)();(0,p.ensureDIRootWebContainer)().resolve(t.StoriesViewerDataService).getStoryViewerModalParams({listName:u,query:e,blockKey:l,uniqKey:c,extra:E}).then((e=>{e.narrativeId?(e=>{e&&(0,p.ensureDIRootWebContainer)().resolve(g.WebLayers).open("narrativesViewerModal",{layerParams:e,replace:a})})(e):m(e)}))}}));const n=`stories_viewer_loader_${performance.now()}`;let a=!1;clearTimeout(R),R=setTimeout((function(){document.body.appendChild((0,c.ce)("div",{id:"stories_loader",innerHTML:(0,_.getProgressHtml)("stories_loader_pr","pr_baw pr_medium")+'<div class="back"></div>'})),a=!0,(0,l.trackShowViewerLoader)({nonce:n,isColdStart:!O})}),1e3),((0,d.partConfigEnabled)("web_stories_resource_preload_manager")||(0,d.partConfigEnabled)("web_stories_lives_vk_video"))&&(0,p.ensureDIRootWebContainer)().resolve(E.VideoPlayerConfigProvider).ensure({module:"stories"}),(0,m.loadStoryViewerStatic)().then((()=>{clearTimeout(R),(0,c.re)("stories_loader"),O=!0,a&&(0,l.trackHideViewerLoader)({nonce:n}),((0,d.partConfigEnabled)("web_stories_resource_preload_manager")||(0,d.partConfigEnabled)("web_stories_lives_vk_video"))&&window.Stories.setVideoPlayerConfigLoader((()=>(0,p.ensureDIRootWebContainer)().resolve(E.VideoPlayerConfigProvider).ensure({module:"stories"}))),window.Stories.show(e,t,r)}))}function T(e,t,r=0,n="",a={}){const s=`narrative${t}`;r=r?`_${r}`:"";let _=n.match(/^narrative(-?\d+)_(\d+)(?:_(\d+))?(?:\/([a-z0-9_\-]+))?(?:\/([a-z0-9_:;\-]+))?$/i);if(_){const[,,,,r,a]=_;n=r||(a?`narrative${e}_${t}/${a}`:`narrative${e}_${t}`)}else n=n||`narrative${e}_${t}`;S(n=`${e}${r}&${s}/${n}`,a)}let P=!1;function b(){P||(P=!0,window.stManager.add([window.jsc("web/stories.js"),"stories.css",window.jsc("web/story_publisher.js")]))}let C=!1;function D(e,t,r=!1){C||(C=!0,ajax.post("al_stories.php",{act:"send_mask",mask_id:e,hash:t,is_short_video:r},{loader:!0,onDone:(e,t,r,_)=>{"cant_send"===e?(0,n.showFastBox)({title:t,width:460},r,_):(0,a.showDoneBox)((0,s.getLang)("stories_mask_sent")),C=!1},onFail:()=>(C=!1,(0,n.showFastBox)({title:(0,s.getLang)("global_box_error_title")},(0,s.getLang)("global_unknown_error")),!0)}))}},342879:(e,t,r)=>{"use strict";r.d(t,{destroyAllTooltips:()=>d,hideAllTooltips:()=>u,showHint:()=>l,showTitle:()=>c,showTooltip:()=>_});var n=r(754866),a=r(972332),s=r(593159);function _(e,t){(vk.loaded||t.noload)&&e&&(e.temphide||(e.temphide=function(){e.showing=!1},(0,a.addEvent)(e,"mouseout",e.temphide)),e.showing=!0,"loadingstat"!==e.tt&&(e.tt||(e.tt="loadingstat"),cur.cancelTooltip=!1,t.stat&&window.stManager.add(t.stat),window.stManager.add([window.jsc("web/tooltips.js"),"tooltips.css"],(function(){"loadingstat"===e.tt&&(e.tt=!1),e.showing&&!cur.cancelTooltip&&(!function(e){e.temphide&&((0,a.removeEvent)(e,"mouseout",e.temphide),(0,n.removeAttr)(e,"temphide"),(0,n.removeAttr)(e,"showing"))}(e),e.tt&&e.tt.el&&!t.force||(tooltips.create(e,t),t.onCreate&&t.onCreate()),tooltips.show(e,t))}))))}function c(e,t,r,a){e=(0,n.ge)(e);if(!r){r=[Math.round(20-(0,n.getSize)(e)[0]/2),8]}_(e,(0,s.extend)({text:function(){return t||e.getAttribute("data-title")},shift:r,black:1},a||{}))}function l(e,t){t=t||{};_(e=(0,n.ge)(e),(0,s.extend)({text:function(){return e.getAttribute("data-title")},dir:"auto",width:300,shift:[22,8]},t))}function u(e){tooltips.hideAll(e)}function d(e){tooltips.destroyAll(e)}},419733:(e,t,r)=>{"use strict";function n(e,t){window.headerDestroy&&window.headerDestroy(t),r._dG("headerDestroy",e)}function a(){delete window.headerDestroy}r.d(t,{topHeaderClearClose:()=>a,topHeaderClose:()=>n})},683234:(e,t,r)=>{"use strict";r.d(t,{actionsMenuItemLocked:()=>I,buttonLocked:()=>C,checkbox:()=>k,createButton:()=>f,disable:()=>U,disableButton:()=>M,disableEl:()=>K,enableEl:()=>W,hideProgress:()=>V,initUiHelpers:()=>H,isButtonLocked:()=>D,isChecked:()=>N,linkLocked:()=>O,lockActionsMenuItem:()=>y,lockButton:()=>P,lockLink:()=>S,notaBene:()=>g,radiobtn:()=>x,radioval:()=>B,sbWidth:()=>L,showProgress:()=>F,unlockActionsMenuItem:()=>R,unlockButton:()=>b,unlockLink:()=>T,updSideTopLink:()=>A});var n=r(754866),a=r(972332),s=r(593159),_=r(672277),c=r(939646),l=r(575753),u=r(102088),d=r(952661),p=r(81930),E=r(321903),m=r(377803);function g(e,t,r){if(!(e=(0,n.ge)(e)))return;if(e.classList.contains("selector_container"))return e.classList.add("selector_container--error"),void setTimeout((()=>{e.classList.remove("selector_container--error")}),700);(e.classList.contains("vkuiInput__el")||e.classList.contains("vkuiTextarea__el"))&&(e=e.parentNode),r||(0,n.elfocus)(e),void 0===(0,n.data)(e,"backstyle")&&(0,n.data)(e,"backstyle",e.style.backgroundColor||"");const a=(0,n.data)(e,"back")||(0,n.data)(e,"back",(0,n.getStyle)(e,"backgroundColor")),s={notice:m.default.colorBackgroundNegativeTint.normal.value,warning:m.default.colorBackgroundNegativeTint.normal.value};(0,n.setStyle)(e,"backgroundColor",s[t]||t||s.warning),setTimeout((()=>(0,c.animate)(e,{backgroundColor:a},300,(function(){e.style.backgroundColor=(0,n.data)(e,"backstyle")}))),400)}function A(e){if(!window.scrollNode||l.browser.mobile||!window._tbLink)return;const t=(0,n.ge)("page_body");if(!t)return;const a=(0,n.getXY)(t);let s=(0,_.scrollGetY)();const d=document.body.scrollLeft,m=(0,n.ge)("side_bar"),g=(0,n.isVisible)(m);if(r._dG("_stlSideTop",Math.max((g?(0,n.getSize)(m)[1]:0)-s-(l.browser.mozilla?(0,n.getXY)(pageNode)[1]:0),a[1])),e||d!=__scrLeft){const e=(0,n.ge)("page_layout"),r=vk.rtl?e.offsetLeft+e.offsetWidth:0,s=vk.rtl?(window.lastWindowWidth||0)-r:e.offsetLeft;(0,n.setStyle)(_stlLeft,{width:Math.max(s-1,0)});const _=vk.rtl?a[0]+t.offsetWidth+5:s,c=vk.rtl?r-_:a[0]-5-_;(0,n.setStyle)(_stlSide,{left:_-d,width:Math.max(c,0)}),__scrLeft=d}(0,n.setStyle)(_stlSide,{top:_stlSideTop,height:Math.max((window.lastWindowHeight||0)-_stlSideTop,0)}),__adsUpdate();const A=200,f=_tbLink.loc||_stlWas||s>A,I=s>250&&cur._regBar;let y=0,R=!1;if(f){1!==_stlShown&&(_stlLeft&&(_stlLeft.style.display="block"),_stlSide&&(_stlSide.style.display="block"),(0,n.addClass)(_stlLeft,"stl_active"),(0,n.addClass)(_stlSide,"stl_active"),_stlShown=1),_tbLink.loc&&cur._noUpLink&&(s=0),_stlWas&&s>500&&(_stlWas=0),s>A?(y=(s-A)/A,(_stlWasSet||_stlBack)&&(_stlWasSet=_stlBack=0,R=1,(0,n.val)(_stlText,`${(0,p.getIcon24ChevronUp)().icon} ${(0,u.getLang)("global_to_top")}`))):(y=(A-s)/A,_stlWas?_stlWasSet||(_stlWasSet=1,R=0,(0,n.val)(_stlText,(0,E.getIcon24ChevronDown)().icon),_stlBack&&(_stlBack=0)):_tbLink.loc&&(_stlBack||(_stlBack=1,R=_tbLink.fast?1:0,(0,n.val)(_stlText,(0,u.getLang)("global_back")),_stlWasSet&&(_stlWasSet=0)))),!1!==R&&(0,n.toggleClass)(_stlLeft,"over_fast",(0,n.hasClass)(_stlLeft,"over")&&R);const e={opacity:Math.min(Math.max(y,0),1)};vk.staticheader&&(e.top=-Math.min((0,n.getSize)("page_header_cont")[1],s)),(0,n.setStyle)(_stlLeft,e)}else 0!==_stlShown&&(_stlLeft&&(_stlLeft.style.display="none"),_stlSide&&(_stlSide.style.display="none"),_stlShown=0);vk.id||(!_regBar&&I?(_regBar=1,(0,n.val)((0,n.ge)("reg_bar_content"),cur._regBar),(0,c.animate)((0,n.ge)("reg_bar"),{top:0,transition:c.Fx.Transitions.sineInOut},400),(0,c.animate)((0,n.ge)("stl_bg"),{paddingTop:60,transition:c.Fx.Transitions.sineInOut},400)):_regBar&&!I&&(_regBar=0,(0,c.animate)((0,n.ge)("reg_bar"),{top:-56,transition:c.Fx.Transitions.sineInOut},400),(0,c.animate)((0,n.ge)("stl_bg"),{paddingTop:13,transition:c.Fx.Transitions.sineInOut},400)))}function f(e,t){if(!(e=(0,n.ge)(e))||e.btnevents)return;if((0,n.hasClass)(e,"flat_button"))return void((0,s.isFunction)(t)&&(e.onclick=t.pbind(e)));const r=e.parentNode;if((0,n.hasClass)(r,"button_blue")||(0,n.hasClass)(r,"button_gray"))return void((0,s.isFunction)(t)&&(e.onclick=t.pbind(e)));let _=!1;(0,a.addEvent)(e,"click mousedown mouseover mouseout",(function(s){if(!(0,n.hasClass)(r,"locked"))switch(s.type){case"click":if(!_)return;return e.className="button_hover",t(e),(0,a.cancelEvent)(s);case"mousedown":e.className="button_down";break;case"mouseover":_=!0,e.className="button_hover";break;case"mouseout":e.className="button",_=!1}})),e.btnevents=!0}function I(e){const t=(0,n.ge)(e);if(t)return(0,n.hasClass)(t,"ui_actions_menu_item_lock")}function y(e){if((e=(0,n.ge)(e))&&!e.classList.contains("ui_actions_menu_item_lock")){if(e.classList.contains("ui_actions_menu_item_with_icon"))return e.classList.add("ui_actions_menu_item_lock"),void F(e);if((0,n.hasClass)(e,"ui_actions_menu_item")){(0,n.data)(e,"inner",e.innerHTML),(0,n.addClass)(e,"ui_actions_menu_item_lock");const t=(0,n.ce)("div",{className:"ui_actions_menu_item_lock_text"});(0,n.val)(t,e.innerHTML),e.appendChild(t),F(e)}}}function R(e){if((e=(0,n.ge)(e))&&e.classList.contains("ui_actions_menu_item_lock"))return e.classList.contains("ui_actions_menu_item_with_icon")?(e.classList.remove("ui_actions_menu_item_lock"),void V(e)):void((e=(0,n.ge)(e))&&(0,n.hasClass)(e,"ui_actions_menu_item")&&(0,n.hasClass)(e,"ui_actions_menu_item_lock")&&((0,n.removeClass)(e,"ui_actions_menu_item_lock"),e.innerHTML=(0,n.data)(e,"inner")))}function O(e){const t=(0,n.ge)(e);if(t)return(0,n.hasClass)(t,"link_lock")}function S(e,t){const r=(0,n.ge)(e);r&&"a"===r.tagName.toLowerCase()&&!O(r)&&((0,n.addClass)(r,"link_lock"),t&&(0,s.each)(t,((e,t)=>(0,n.addClass)(r,t))))}function T(e,t){const r=(0,n.ge)(e);r&&O(r)&&((0,n.removeClass)(r,"link_lock"),t&&(0,s.each)(t,((e,t)=>(0,n.removeClass)(r,t))))}function P(e){const t=(0,n.ge)(e);if(!t)return;if(d.FlatButton.isFlatButton(t))return d.FlatButton.lock(t);if("button"!==t.tagName.toLowerCase()&&!(0,n.hasClass)(t,"flat_button")&&!(0,n.hasClass)(t,"wr_header")||D(t))return;const r=(0,n.getSize)(t);(0,n.addClass)(t,"flat_btn_lock"),(0,n.data)(t,"inner",t.innerHTML),(0,n.setStyle)(t,{width:r[0],height:r[1]}),t.innerHTML="",F(t,"btn_lock")}function b(e){const t=(0,n.ge)(e);if(t)return d.FlatButton.isFlatButton(t)?d.FlatButton.unlock(t):void(D(t)&&(V(t),t.innerHTML=(0,n.data)(t,"inner"),(0,n.removeClass)(t,"flat_btn_lock"),(0,n.setStyle)(t,{width:null,height:null})))}function C(e){return D(e)}function D(e){const t=(0,n.ge)(e);if(t)return d.FlatButton.isFlatButton(t)?d.FlatButton.isLocked(t):(0,n.hasClass)(t,"flat_btn_lock")}function M(e,t){const r=(0,n.ge)(e);if(r&&"button"===r.tagName.toLowerCase()){if(d.FlatButton.isFlatButton(r))return d.FlatButton.setDisabled(r,t);if(t){if(!(0,n.isVisible)(r))return;r.parentNode.insertBefore((0,n.ce)("button",{innerHTML:r.innerHTML,className:r.className+" button_disabled"}),r),(0,n.hide)(r)}else{const e=(0,n.domPS)(r);e&&(0,n.hasClass)(e,"button_disabled")&&(0,n.re)(e),(0,n.show)(r)}}}function L(e){if(void 0===window._sbWidth||e){const e=(0,n.ce)("div",{innerHTML:'<div style="height: 75px;">1<br>1</div>'},{overflowY:"scroll",position:"absolute",width:"50px",height:"50px"});document.body.appendChild(e),r._dG("_sbWidth",Math.max(0,e.offsetWidth-e.firstChild.offsetWidth-1)),document.body.removeChild(e)}return window._sbWidth}function N(e){return(e=(0,n.ge)(e))&&(0,n.hasClass)(e,"on")?1:""}function k(e,t){const r=(0,n.ge)(e);if(r&&!(0,n.hasClass)(r,"disabled"))return void 0===t&&(t=!N(r)),(0,n.toggleClass)(r,"on",t),r.setAttribute("aria-checked",t?"true":"false"),!1}function U(e,t){return e=(0,n.ge)(e),void 0===t&&(t=!(0,n.hasClass)(e,"disabled")),(0,n.toggleClass)(e,"disabled",t),"INPUT"===e.tagName&&(t?e.setAttribute("readonly","readonly"):e.removeAttribute("readonly")),!1}function B(e){return!!radioBtns[e]&&radioBtns[e].val}function x(e,t,r){if(radioBtns[r]&&!(0,n.hasClass)(e,"disabled"))return(0,s.each)(radioBtns[r].els,(function(){this&&(this==e?((0,n.addClass)(this,"on"),this.setAttribute("aria-checked","true"),this.setAttribute("tabindex","0")):((0,n.removeClass)(this,"on"),this.setAttribute&&(this.setAttribute("aria-checked","false"),this.setAttribute("tabindex","-1"))))})),radioBtns[r].val=t}function F(e,t,r,a){if(!(e=(0,n.ge)(e)))return;let s;return(0,n.hasClass)(e,"pr")?s=e:(s=(0,n.se)((0,n.rs)(vk.pr_tpl,{id:t||"",cls:r||""})),a?(0,n.domInsertBefore)(s,e):e.appendChild(s)),setTimeout((function(){(0,n.setStyle)(s,{opacity:1})})),s}function V(e){e&&((0,n.hasClass)(e,"pr")?(0,n.setStyle)(e,{opacity:0}):(0,n.re)((0,n.geByClass1)("pr",e)))}function K(e){(0,n.setStyle)(e,"pointer-events","none")}function W(e){(0,n.setStyle)(e,"pointer-events","")}function H(){r._dG("__scrLeft",0),r._dG("radioBtns",{})}},560377:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{showGlobalPrg:()=>showGlobalPrg,showMsg:()=>showMsg,topError:()=>topError,topMsg:()=>topMsg});var _dom__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(754866),_shared_user_user_env__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(540462),_shared_lib_js_logger__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(298077),_utils_common__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(593159),_vkontakte_internal_vkcom_kit__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(377803);function topMsg(e,t,r){if(r||(r=_vkontakte_internal_vkcom_kit__WEBPACK_IMPORTED_MODULE_4__.default.colorBackgroundSecondary.normal.value),e){clearTimeout(window.topMsgTimer);const n=(0,_dom__WEBPACK_IMPORTED_MODULE_0__.ge)("system_msg");n.style.backgroundColor=r,n.innerHTML=e,(0,_dom__WEBPACK_IMPORTED_MODULE_0__.show)(n),t&&__webpack_require__._dG("topMsgTimer",setTimeout(topMsg.pbind(!1),1e3*t))}else(0,_dom__WEBPACK_IMPORTED_MODULE_0__.hide)("system_msg")}function topError(text,opts){const prefix="VK error: ";if(opts||(opts={}),text.message){const e=text;text="<b>JavaScript error</b>"+((0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_1__.partConfigEnabled)("extended_client_logging")?": "+e.message:""),opts.stack=e.stack,e.stack&&__debugMode&&(text+="<br/>"+e.stack.replace(/\n/g,"<br/>"));try{console.error(prefix,e.message),console.log(e.stack)}catch(e){}}else try{console.error(prefix,text)}catch(e){}if(!opts.stack)try{eval("0 = 1")}catch(e){opts.stack=e.stack}-1!=opts.dt&&topMsg(text,opts.dt,"#FFB4A3"),1!==opts.type&&(__dev||(0,_dom__WEBPACK_IMPORTED_MODULE_0__.ge)("debuglogwrap")||(delete opts.dt,(0,_shared_lib_js_logger__WEBPACK_IMPORTED_MODULE_2__.logError)(new Error(`VK error: ${opts.msg||text}`),{breadcrumb:{message:"Request details:",data:{...opts}}})))}function showMsg(e,t,r,n){let a="msg"+("msg"!==r?" "+r:"");n&&(a+=" msg_appear"),e=(0,_dom__WEBPACK_IMPORTED_MODULE_0__.ge)(e);const s=(0,_dom__WEBPACK_IMPORTED_MODULE_0__.geByClass1)(r,e),_=s||(0,_dom__WEBPACK_IMPORTED_MODULE_0__.domFC)(e),c=e.insertBefore((0,_dom__WEBPACK_IMPORTED_MODULE_0__.ce)("div",{className:a,innerHTML:'<div role="alert" class="msg_text">'+t+"</div>"}),_);s&&(0,_dom__WEBPACK_IMPORTED_MODULE_0__.re)(s),setTimeout(_dom__WEBPACK_IMPORTED_MODULE_0__.removeClass.pbind(c,"msg_appear"),0)}function showGlobalPrg(e,t){const r=(0,_dom__WEBPACK_IMPORTED_MODULE_0__.getXY)(e),n=(0,_dom__WEBPACK_IMPORTED_MODULE_0__.getSize)(e),a=t||{},{w:s=32,h:_=13}=a,c=(0,_dom__WEBPACK_IMPORTED_MODULE_0__.ge)("global_prg");c.className=a.cls||"progress",(0,_dom__WEBPACK_IMPORTED_MODULE_0__.setStyle)(c,{left:r[0]+Math.floor((n[0]-s)/2)+(0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.intval)(a.shift?a.shift[0]:0),top:r[1]+Math.floor((n[1]-_)/2)+(0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.intval)(a.shift?a.shift[1]:0),width:s,height:_,display:"block","z-index":a.zIndex?a.zIndex:null}),a.hide&&(e.style.visibility="hidden")}},744968:(e,t,r)=>{"use strict";r.d(t,{updateSTL:()=>s});var n=r(898848),a=r(754866);function s(){const{innerWidth:e}=window,{clientWidth:t}=document.documentElement,r=Math.max((0,n.intval)(e),(0,n.intval)(t));(0,a.toggleClass)(document.body,"no_stl",r<vk.width+280),(0,a.toggleClass)(document.body,"no_sett",r<vk.width+62)}},449299:(e,t,r)=>{"use strict";r.d(t,{arrayUnique:()=>R,checkTextLength:()=>P,getAct:()=>B,getDropdownValue:()=>U,getSelectionText:()=>b,goAway:()=>C,hashCode:()=>T,isClaimContent:()=>x,isFullScreen:()=>D,lplog:()=>I,onlinePlatformClass:()=>N,parallel:()=>S,parseJSON:()=>g.parseJSON,showErrorBox:()=>k,shuffle:()=>A.shuffle,throttle:()=>O,throttleAccumulate:()=>f,toArray:()=>y,toggleOnline:()=>L,unpackStore:()=>m.unpackStore,updateMoney:()=>M});var n=r(105330),a=r(593159),s=r(396858),_=r(898848),c=r(270959),l=r(754866),u=r(102088),d=r(575753),p=r(576854),E=r(972332),m=r(687903),g=r(261910),A=r(787661);function f(e,t){let r=[],n=0;return function(a){r.push(a),n||(n=setTimeout((()=>{n=!1,e(r),r=[]}),t))}}function I(e,t){let r,n;if(window.__debugMode){switch(t){case"error":r="color: red",n="background: red; color: white";break;case"success":r="color: green",n="background: green; color: white";break;default:r="color: blue;",n="background: #000; color: #fff;"}try{let t=new Date;console.debug(`%cLP:[${t.getHours()}:${t.getMinutes()}:${t.getSeconds()}:${t.getMilliseconds()}]%c ${e}`,n,r)}catch(e){}}}function y(e){let t=[];if(void 0===e.length)return Object.keys(e).map((t=>e[t]));for(let r=0;r<e.length;r++)t.push(e[r]);return t}function R(e){let t={},r=[];for(let n=0;n<e.length;n++)t[e[n]]||(r.push(e[n]),t[r[n]]=1);return r}function O(e,t){let r;return function(){r||(e.apply(this,arguments),r=setTimeout((function(){r=!1}),t))}}function S(){const e=[].slice.call(arguments),t=e.pop(),r=new CallHub(t,e.length);(0,a.each)(e,((e,t)=>t((()=>r.done()))))}function T(e){let t=0;if(0===e.length)return t;for(let r=0,n=e.length;r<n;r++){t=(t<<5)-t+e.charCodeAt(r),t|=0}return t}function P(e,t,r,n,a,s,_,c,d){if(!t)return;const p=t.getValue?t.getValue():t.value,E=t.lastLen||0;if(t.lastLen===p.length&&!s)return;t.lastLen=p.length;const m={"&":5,"<":4,">":4,'"':6,"\n":n?1:4,"\r":0,"!":5,"'":5,$:6,"\\":6},g={1168:1,1169:1,8211:1,8212:1,8216:1,8217:1,8218:1,8230:1,8240:1,8249:1,8250:1,8364:1,8470:1,8482:1,65533:1},A={1037:1,1104:1,1117:1};a&&(m[","]=5);const f=function(e){let t=0;for(let r=0,n=e.length;r<n;r++){const n=d?void 0:m[e.charAt(r)],a=e.charCodeAt(r);t+=void 0!==n?n:!_&&a>=128&&(a<1025||A[a]||a>1119)&&!g[a]&&(a<8220||a>8222)&&(a<8224||a>8226)?("&#"+a+";").length:1}return t}(p);if(r=(0,l.ge)(r),f>Math.max(e-100,.75*e))if((0,l.show)(r),f>e)if(a){const n=(0,l.val)(t,function(e,t){let r=0,n="";for(let a=0,s=e.length;a<s;a++){const s=e.charAt(a),c=d?void 0:m[s],l=e.charCodeAt(a);if(r+=void 0!==c?c:!_&&l>=128&&(l<1025||A[l]||l>1119)&&!g[l]&&(l<8220||l>8222)&&(l<8224||l>8226)?("&#"+l+";").length:1,r>t)break;n+=s}return n}(p,Math.min(e,E)));t.lastLen=n.length,r.innerHTML=(0,u.getLang)("text_N_symbols_remain",0),c&&r.classList.contains(c)&&r.classList.remove(c)}else r.innerHTML=(0,u.getLang)("text_exceeds_symbol_limit",f-e),c&&!r.classList.contains(c)&&r.classList.add(c);else r.innerHTML=(0,u.getLang)("text_N_symbols_remain",e-f),c&&r.classList.contains(c)&&r.classList.remove(c);else(0,l.hide)(r)}function b(){let e="";return window.getSelection?e=window.getSelection().toString():document.selection&&"Control"!==document.selection.type&&(e=document.selection.createRange().text),e}function C(e,t,r){if(-1!==(t||{}).h||(0,E.checkEvent)(r))return!0;if(-1!==(t||{}).h){const r=e.match(n.VK_URL_REGEX_STRICT);if(r&&"api."!==r[1].toLowerCase())return location.href=e,!1;const c=(0,a.intval)((0,s.getCookie)("remixsettings_bits"));if(n.VK_URL_REGEX_STRICT.test((0,_.locBase)())||1&c)return window.open("/away.php?to="+encodeURIComponent(e)+(t&&void 0!==t.h?"&h="+t.h:""),"_blank"),!1}const l=(0,a.extend)({act:"a_go",to:e},t||{});return!(0,c.showBox)("away.php",l,{},r)}function D(){return!!(document.fullscreenElement||document.fullScreenElement||document.msFullscreenElement||document.mozFullScreen||document.webkitIsFullScreen||cur.pvPartScreen)}function M(e,t){if(void 0===e||!1===e)return;if("object"==typeof e)return;let r="";!0===t?(vk.balanceEx=e,r="_ex"):vk.balance=e;const n=(0,l.geByClass)("votes_balance_nom"+r);(0,a.each)(n,((t,r)=>r.innerHTML=`${e} ${(0,u.getLang)("votes_flex",e)}`));const s=e*(vk.vcost||7),_=(0,l.geByClass)("money_balance_nom"+r);(0,a.each)(_,((e,t)=>t.innerHTML=(0,u.getLang)("global_money_amount_rub",s,!0))),void 0!==t&&!1!==t&&!0!==t&&M(t,!0),window.GamesCatalog&&window.GamesCatalog.updateMoney(e);const c=document.getElementById("topmenu-balance");c&&(c.textContent=e)}function L(e,t){const r=N(t).split(" "),n=[];["online","mobile","_online"].forEach((function(t){(0,a.inArray)(t,r)&&!(0,l.hasClass)(e,t)?n.push(t):!(0,a.inArray)(t,r)&&(0,l.hasClass)(e,t)&&(0,l.removeClass)(e,t)})),n.length>0&&(0,l.addClass)(e,n.join(" "))}function N(e){let t=" _online";return e&&(t+=" online"),d.mobPlatforms[e]&&(t+=" mobile"),(0,p.updateOnlineText)(),t}function k(e,t){return void 0===t&&(t=1e4),setTimeout((0,c.showFastBox)({title:(0,u.getLang)("global_error")},e).hide,t)}function U(e){let t=(0,l.ge)(e+"_container");if(t||(t=(0,l.ge)(e)),t&&t.dropdown)return t.dropdown.val()}function B(){return window.nav.objLoc.act}function x(){return Boolean(window.nav&&window.nav.objLoc&&window.nav.objLoc.claim)}},593159:(e,t,r)=>{"use strict";r.d(t,{addTemplates:()=>O,clean:()=>_.clean,clone:()=>y,decodeHtml:()=>D,each:()=>_.each,encodeHtml:()=>C,escapeAttr:()=>_.escapeAttr,escapeRE:()=>_.escapeRE,extend:()=>R,extractUrls:()=>P,floatval:()=>_.floatval,formatCount:()=>b,getTemplate:()=>S,inArray:()=>I,indexOf:()=>f,intval:()=>_.intval,irand:()=>_.irand,isArray:()=>_.isArray,isEmpty:()=>_.isEmpty,isFunction:()=>_.isFunction,isNumber:()=>g,isNumeric:()=>m,isObject:()=>_.isObject,isPageFirstOneOpened:()=>u,isRetina:()=>_.isRetina,isString:()=>_.isString,isUndefined:()=>_.isUndefined,lTimeout:()=>d,positive:()=>_.positive,rand:()=>_.rand,replaceEntities:()=>_.replaceEntities,serializeForm:()=>T,stripHTML:()=>E,trim:()=>p,unclean:()=>_.unclean,vkImage:()=>_.vkImage,vkLocal:()=>l,vkNow:()=>_.vkNow,winToUtf:()=>A});var n=r(754866),a=r(102088),s=r(575753),_=r(898848),c=r(540462);function l(e){const t=window.PageID;return function(){if(t===window.PageID)return e.apply(this,arguments)}}function u(){return 1===window.PageID}function d(e,t){return setTimeout(l(e),t)}const p=e=>(e||"").replace(/^\s+|\s+$/g,""),E=e=>e?e.replace(/<(?:.|\n|\r|\u2028|\u2029)*?>/g,""):"";function m(e){return!isNaN(e)}function g(e){return"number"==typeof e&&(e===Number(e)&&(e!==1/0&&e!==-1/0))}function A(e){return e.replace(/&#(\d\d+);/g,(function(e,t){return(t=(0,_.intval)(t))>=32?String.fromCharCode(t):e})).replace(/&quot;/gi,'"').replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/&amp;/gi,"&")}function f(e,t,r){for(let n=r||0,a=(e||[]).length;n<a;n++)if(e[n]==t)return n;return-1}function I(e,t){return-1!==f(t,e)}function y(e,t){const r=(0,_.isObject)(e)||void 0===e.length?{}:[];for(const n in e)(!/webkit/i.test(window._ua)||"layerX"!=n&&"layerY"!=n&&"webkitMovementX"!=n&&"webkitMovementY"!=n)&&(t&&"object"==typeof e[n]&&"prototype"!==n&&null!==e[n]?r[n]=y(e[n]):r[n]=e[n]);return r}function R(){const e=arguments,t=e.length;let r=e[0]||{},n=1,a=!1;for("boolean"==typeof r&&(a=r,r=e[1]||{},n=2),"object"==typeof r||(0,_.isFunction)(r)||(r={});n<t;n++){const t=e[n];if(null!=t)for(const e in t){if(!t.hasOwnProperty(e))continue;const n=r[e],s=t[e];r!==s&&(a&&s&&"object"==typeof s&&!s.nodeType?r[e]=R(a,n||(null!=s.length?[]:{}),s):void 0!==s&&(r[e]=s))}}return r}function O(e){r._dG("templates",window.templates||{}),R(window.templates,e)}function S(e,t){let a=r._dG("templates",window.templates||{})[e];return"function"==typeof a&&(a=a()),a&&t?(0,n.rs)(a,t):a||""}function T(e){if("object"!=typeof e)return!1;const t={},r=t=>(0,n.geByTag)(t,e),a=function(r,a){if(a.name)if("text"!==a.type&&a.type)if(a.getAttribute("bool")){const e=(0,n.val)(a);if(!e||"0"===e)return;t[a.name]=1}else t[a.name]=s.browser.msie&&!a.value&&e[a.name]?e[a.name].value:a.value;else t[a.name]=(0,n.val)(a)};return(0,_.each)(r("input"),(function(e,t){if("radio"!==t.type&&"checkbox"!==t.type||t.checked)return a(0,t)})),(0,_.each)(r("select"),a),(0,_.each)(r("textarea"),a),t}function P(e,t){if(!e)return[];let r=/(?:([!()?@., \n\r\t \u00A0\[]|^)((https?:\/\/)?((?:[a-z0-9_\-]+\.)+(?:[a-z]{2,10}|xn--p1ai|xn--j1amh|xn--80asehdb|xn--80aswg|xn--90ais))(\/.*?)?(\#.*?)?)(?:[\.!:;,\*\(\)]*(&nbsp;|\|.*]?|[ \t\r\n \u00A0]))|([!()?., \n\r\t \u00A0]|^)((https?:\/\/)?((?:[a-z0-9а-яєґї_\-]+\.)+(?:рф|укр|онлайн|сайт|срб|бел))(\/.*?)?(\#.*?)?)(?:[\.!:;,\*\(\)]*(&nbsp;|[ \t\r\n \u00A0])))/i;t&&(r=/(?:([!()?@., \n\r\t \u00A0\[]|^)((https?:\/\/)?((?:[a-z0-9_\-]+\.)+(?:[a-z]{2,10}|xn--p1ai|xn--j1amh|xn--80asehdb|xn--80aswg|xn--90ais))(\/.*?)?(\#.*?)?)(?:[\.!:;,\*\(\)&]*(&nbsp;|\|.*]?|[ \t\r\n \u00A0]|$))|([!()?., \n\r\t \u00A0]|^)((https?:\/\/)?((?:[a-z0-9а-яєґї_\-]+\.)+(?:рф|укр|онлайн|сайт|срб|бел))(\/.*?)?(\#.*?)?)(?:[\.!:;,\*\(\)&]*(&nbsp;|[ \t\r\n \u00A0]|$)))/i);const n=(0,c.partConfigEnabled)("links_parsing_latin_domain_enabled");n&&!t&&(r=/(?:([!()?@., \n\r\t \u00A0\[]|^)((https?:\/\/)?((?:[a-z0-9_\-]+\.)+(?:[a-z]{2,10}|xn--p1ai|xn--j1amh|xn--80asehdb|xn--80aswg|xn--90ais))(\/.*?)?(\#.*?)?)(?:[\.!:;,\*\(\)]*(&nbsp;|\|.*]?|[ \t\r\n \u00A0]))|([!()?., \n\r\t \u00A0]|^)((https?:\/\/)?((?:[a-z0-9а-яєґї_\-]+\.)+(?:рф|укр|онлайн|сайт|срб|бел|[a-z]{2,10}))(\/.*?)?(\#.*?)?)(?:[\.!:;,\*\(\)]*(&nbsp;|[ \t\r\n \u00A0])))/i),n&&t&&(r=/(?:([!()?@., \n\r\t \u00A0\[]|^)((https?:\/\/)?((?:[a-z0-9_\-]+\.)+(?:[a-z]{2,10}|xn--p1ai|xn--j1amh|xn--80asehdb|xn--80aswg|xn--90ais))(\/.*?)?(\#.*?)?)(?:[\.!:;,\*\(\)&]*(&nbsp;|\|.*]?|[ \t\r\n \u00A0]|$))|([!()?., \n\r\t \u00A0]|^)((https?:\/\/)?((?:[a-z0-9а-яєґї_\-]+\.)+(?:рф|укр|онлайн|сайт|срб|бел|[a-z]{2,10}))(\/.*?)?(\#.*?)?)(?:[\.!:;,\*\(\)&]*(&nbsp;|[ \t\r\n \u00A0]|$)))/i);const a=[];let s;for(;e&&(s=e.match(r),s);){if(e=e.substr(s.index+s[0].length),!s||!s.length||"@"===s[0][0])continue;let t=0;s[4]||(t=7),a.push({url:s[2+t],query:s[5+t]||"",domain:s[4+t]})}return a}function b(e,t={}){const r=t.kLimit||1e3,n=t.mLimit||1e6;return e>=(t.gLimit||1e9)&&!t.noCheck?b(e=(e=(0,_.intval)(e/1e8))>1e6?(0,_.intval)(e/10):e/10,R(t,{noCheck:!0}))+"G":e>=n&&!t.noCheck?b(e=(e=(0,_.intval)(e/1e5))>1e3?(0,_.intval)(e/10):e/10,R(t,{noCheck:!0}))+"M":e>=r&&!t.noCheck?b(e=(e=(0,_.intval)(e/100))>100?(0,_.intval)(e/10):e/10,R(t,{noCheck:!0}))+"K":(0,a.langNumeric)(e,"%s",!0).replace(/,/g,".")}let[C,D]=function(){let e=null;return[function(t){return e||(e=(0,n.se)("<span> </span>")),e.innerText=t,e.innerHTML},function(t){return e||(e=(0,n.se)("<span> </span>")),e.innerHTML=t.replace(/<br\s*\/?>/gim,"\n"),e.innerText}]}()},432081:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{VideoConstants:()=>VideoConstants,initVideo:()=>initVideo,loadInlineVideo:()=>loadInlineVideo,showInlineVideo:()=>showInlineVideo,showVideo:()=>showVideo});var _shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(636576),_web_lib_date__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(101148),_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(754866),_dom_events__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(972332),_utils_common__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(593159),_lang__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(102088),_message_box__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(270959),_layout_utils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(226220),_web_unauthorized_unauthorized__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(672263),_web_video_video_utils__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(826619),_shared_lib_site__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(105330),_web_lib_revertLastInlineVideo__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(892848),_shared_video__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(856289),_shared_user_user_env__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(540462),_vkontakte_internal_shared__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(361121),_web_di__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(319756),_spa_web_infrastructure_layers__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(608814),_spa_web_widgets_messenger_MessengerClipsModal_initMessengerClipsModal__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(780584);const rtrgQuery=`//${(0,_shared_lib_site__WEBPACK_IMPORTED_MODULE_10__.getHostName)()}/rtrg?r=w*Z1Flwi3QdbWaoLMc7zOA*7Cr4Nrtojr9otHjsjIhsb2CVqRWalgbvxZw3MzxZa6be3Siu2XY3gvK5fysYtWLWgNwHMpjRTupSGZrcGRNlj7fduqq9*t7ij6CX4aMcBTD5be8mIXJsbTsvP8Zl2RZEd76a4FTuCOFqzMxqGtFc-`;function showVideo(e,t,r={},n){if((0,_shared_video__WEBPACK_IMPORTED_MODULE_12__.isVideoStandalone)()&&"web_notify"===r.module&&n.preventDefault(),cur.viewAsBox)return cur.viewAsBox();if((0,_dom_events__WEBPACK_IMPORTED_MODULE_3__.checkEvent)(n))return;if(r.vkLiveUrl)return void(window.location.href=r.vkLiveUrl);if((0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_13__.partConfigEnabled)("vkm_reply_in_clip")&&r.shortVideo&&"im"===r.module&&r.addParams&&r.addParams.im_peer_id){const t=!cur.videoInlinePlayer||cur.videoInlinePlayer.getVideoId()!==e||cur.videoInlinePlayer.isMuted();return void(0,_spa_web_widgets_messenger_MessengerClipsModal_initMessengerClipsModal__WEBPACK_IMPORTED_MODULE_16__.initMessengerClipsModal)(e,parseInt(r.addParams.im_peer_id),parseInt(r.addParams.im_cmid),t)}if((0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_13__.partConfigEnabled)("clips_web_use_spa_modal")&&"im"!=r.module&&!(0,_shared_video__WEBPACK_IMPORTED_MODULE_12__.isVideoStandalone)()&&r.shortVideo){const{itemId:t,ownerId:r}=(0,_vkontakte_internal_shared__WEBPACK_IMPORTED_MODULE_17__.splitRawId)(e);return(0,_web_di__WEBPACK_IMPORTED_MODULE_14__.ensureDIRootWebContainer)().resolve(_spa_web_infrastructure_layers__WEBPACK_IMPORTED_MODULE_15__.WebLayers).open("clipsModal",{layerParams:{ownerId:r,clipId:t}}),!1}if((0,_web_unauthorized_unauthorized__WEBPACK_IMPORTED_MODULE_8__.isUnauthorizedMediaLayerBoxAvailable)()&&(n||r.openInPopup)&&!r.forceUnauth&&!cur.is_showcase)return _web_unauthorized_unauthorized__WEBPACK_IMPORTED_MODULE_8__.Unauthorized.showMoreBox(null,0,_web_unauthorized_unauthorized__WEBPACK_IMPORTED_MODULE_8__.UnauthorizedSourceType.VIDEO,(()=>{showVideo(e,t,{...r,openInPopup:!1,forceUnauth:!0},n)})),!1;if(r.forceUnauth=!0,window.mvcur&&mvcur.mvShown&&mvcur.minimized&&mvcur.videoRaw==e)return r.fromPlayer||Videoview.unminimize(),!1;if((0,_shared_video__WEBPACK_IMPORTED_MODULE_12__.isVideoStandalone)()&&!r.shortVideo&&void 0!==r.replyId)return r.module&&window.VideoShowcase?.setVideoPageOpts({module:r.module}),void window.nav.go(`/video${e}`);const a=nav.objLoc.claim,s=!(!r.addParams||!/^-?\d+_\d+$/.test(r.addParams.post_id))&&r.addParams.post_id;if(!r.playlistId&&s&&(/^public|groups|profile$/.test(cur.module)&&(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.hasClass)("post"+s,"own")?r.playlistId="wall_"+cur.oid:r.playlistId="post_"+r.addParams.post_id),r.playlistId)if(r.addParams=(0,_utils_common__WEBPACK_IMPORTED_MODULE_4__.extend)(r.addParams,{playlist_id:r.playlistId}),window.VideoPlaylist&&VideoPlaylist.getList(r.playlistId))e||(r.addParams.load_playlist=1);else if(/^wall_/.test(r.playlistId)){const e=cur.wallVideos&&cur.wallVideos[r.playlistId];r.addParams.load_playlist=e?.list.length>=50?0:1,r.addParams.show_next=e?.list.length>=1?1:0}else{const e=/^(?:post_)?-?\d+_-?\d+$/.test(r.playlistId)&&!(cur.pageVideosList&&cur.pageVideosList[r.playlistId]);r.addParams.load_playlist=e?1:0,r.addParams.show_next=e?1:0}r.expandPlayer||!cur.videoInlinePlayer||cur.videoInlinePlayer.getVideoId()!=e&&cur.videoInlinePlayer.getProjectId()!=e||!cur.videoInlinePlayer.canExpand()||(r.expandPlayer=cur.videoInlinePlayer),r.expandPlayer&&((0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_13__.partConfigEnabled)("use_uv_videoplayer_on_web")||(r.addParams=(0,_utils_common__WEBPACK_IMPORTED_MODULE_4__.extend)(r.addParams,{expand_player:1})),delete cur.videoInlinePlayer),cur.simple_description&&(r.addParams=(0,_utils_common__WEBPACK_IMPORTED_MODULE_4__.extend)(r.addParams||{},{simple_description:cur.simple_description}));const _=new CallHub((function(){r.hidden?r.hidden(_.data,r,t,e):Videoview.showVideo.apply(Videoview,_.data)}),2);window.stManager.add([window.jsc("web/videoview.js"),"videoview.css",window.jsc("web/page.js"),"page.css"],(()=>{_.failed||(r.hidden||((0,_web_lib_revertLastInlineVideo__WEBPACK_IMPORTED_MODULE_11__.revertLastInlineVideo)(),Videoview.show(n,e,t,r)),_.done())})),(0,_utils_common__WEBPACK_IMPORTED_MODULE_4__.extend)(r,{onDone:function(){const t=Array.prototype.slice.call(arguments);t.unshift(e),_.data=t,_.done()},onFail:function(t){if(_.failed=1,!r.hidden){if(window.mvcur&&mvcur.mvShown)window.Videoview.hide();else{const t=(0,_utils_common__WEBPACK_IMPORTED_MODULE_4__.clone)(nav.objLoc);t.z==="video"+e&&delete t.z,t[0]==="video"+e&&(t[0]="videos"+e.split("_")[0]),nav.setLoc(t)}const r=t&&"object"==typeof t?t?.data:t;if((0,_message_box__WEBPACK_IMPORTED_MODULE_6__.showFastBox)((0,_lang__WEBPACK_IMPORTED_MODULE_5__.getLang)("global_error"),r||(0,_lang__WEBPACK_IMPORTED_MODULE_5__.getLang)("global_error_occured")),window.Videoview?.isMinimized())if(mvcur&&mvcur.fallbackData){const{videoRaw:e,options:t,listId:r,mvData:n}=mvcur.fallbackData;mvcur.videoRaw=e,mvcur.options=t,mvcur.listId=r,mvcur.myData=n,mvcur.fallbackData=null,Videoview.initPlaylistBlock(e,t.playlistId,t.catLoadMore),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.show)("mv_player_box"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.hide)("mv_progress_box")}else(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.val)("mv_player_box","");_.done()}return!0},cache:"status"!==t}),window.VideoPlaylist&&(window.VideoPlaylist.module=null);let c=r.params;if(!c){const n=r.module||window.Videoview&&window.Videoview.getVideoModule();c={act:"show",video:e,list:t,autoplay:r.autoplay?1:0,show_next:1,ad_video:r.ad_video,module:(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_13__.partConfigEnabled)("video_show_set_module_web")?n??cur?.module??"":n||"",webcast:nav.objLoc.webcast?1:0,screen:nav.objLoc.screen?1:0}}return cur.is_showcase&&!c.context&&cur.ref_context&&(c.context=cur.ref_context),r.addParams&&(c=(0,_utils_common__WEBPACK_IMPORTED_MODULE_4__.extend)(c,r.addParams)),(0,_utils_common__WEBPACK_IMPORTED_MODULE_4__.trim)(c.module)||(0,_utils_common__WEBPACK_IMPORTED_MODULE_4__.extend)(c,{_nol:JSON.stringify(nav.objLoc)}),c.module&&(window.VideoPlaylist&&(window.VideoPlaylist.module=c.module),r.is_similar&&(c.module+=":similar")),a&&(c.claim=a),ajax.post(`al_video.php?act=${c.act}`,c,r),(0,_web_video_video_utils__WEBPACK_IMPORTED_MODULE_9__.idlizeCall)((()=>{(0,_utils_common__WEBPACK_IMPORTED_MODULE_4__.vkImage)().src=`${locProtocol}${rtrgQuery}`})),!1}let currentLoadingVideoId="";function showInlineVideo(videoId,listId,options,ev,thumb){if((0,_dom_events__WEBPACK_IMPORTED_MODULE_3__.checkEvent)(ev))return!0;if(options=options||{},currentLoadingVideoId=videoId,window.mvcur&&mvcur.mvShown||options.hasRestriction)return showVideo(videoId,listId,options,ev);if((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.attr)(thumb,"data-loading"))return!1;let h=thumb.clientHeight,w=thumb.clientWidth;h&&w||!thumb.parentElement||!(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_13__.partConfigEnabled)("feed_video_primary_attachment_web_enable")||(h=thumb.parentElement.clientHeight,w=thumb.parentElement.clientWidth);const btn=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.domByClass)(thumb,"page_post_video_play_inline"),onLoaded=options.onLoaded;onLoaded&&delete options.onLoaded;const params={video:videoId,list:listId,autoplay:options.autoplay,module:options.module};return thumb.className.includes("page_video_croppable")&&(params.with_crop=!0),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.domData)(thumb,"stretch-vertical")&&(params.stretch_vertical=1),(0,_utils_common__WEBPACK_IMPORTED_MODULE_4__.extend)(params,options.addParams),window.VideoPlaylist&&(window.VideoPlaylist.module=params.module),showProgress(),loadInlineVideo(params,(function(e,t){hideProgress(),e?onDone.apply(null,t):onFail.apply(null,t)}),options.cache),cur.videoInlinePlayerDestroyerSet||(cur.destroy.push(_web_lib_revertLastInlineVideo__WEBPACK_IMPORTED_MODULE_11__._destroyInlineVideoPlayer),cur.videoInlinePlayerDestroyerSet=1),(0,_utils_common__WEBPACK_IMPORTED_MODULE_4__.vkImage)().src=rtrgQuery,!1;function onDone(title,html,js,opts){(0,_web_lib_revertLastInlineVideo__WEBPACK_IMPORTED_MODULE_11__.revertLastInlineVideo)(),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.hide)(thumb);const isMt=thumb.dataset.mtId,isDirectMp4=!!thumb.dataset.directMp4,mtAspectRatio=thumb.dataset.mtAspectRatio?Number(thumb.dataset.mtAspectRatio):0,videoWrap=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.ce)("div",{innerHTML:html,className:"inline_video_wrap"},{width:w,height:isMt&&mtAspectRatio?Math.round(w*mtAspectRatio):h});if((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.attr)(videoWrap,"data-testid","inline_video_wrap"),opts&&opts.mvData&&-195297477!==opts.mvData.authorId&&__webpack_require__._dG("_videoLastInlined",[videoWrap,thumb]),thumb.parentNode.appendChild(videoWrap),cur.mvOpts=!(!opts||!opts.mvData)&&opts.mvData,opts.player){const e=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.domByClass)(videoWrap,"video_box_wrap");(0,_utils_common__WEBPACK_IMPORTED_MODULE_4__.isFunction)(onLoaded)&&(opts.player.params[0].onPlayerLoaded=onLoaded);const t=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.attr)(thumb,"data-link-attr");if(t&&(opts.player.params[0].link_attr=t),isMt){opts.player.params[0].ad_block_id=isMt;const e=thumb.dataset.mtVideoMp4;e&&(opts.player.params[0].direct_mp4=e);const t=thumb.dataset.mtVideoHls;t&&(opts.player.params[0].hls=t),mtAspectRatio&&(opts.player.params[0].aspect_ratio=mtAspectRatio);const r=thumb.firstChild&&thumb.firstChild.firstChild&&thumb.firstChild.firstChild.src;r&&(opts.player.params[0].jpg=r);const n=thumb.firstChild,a=n.dataset.mtLink,s=n.getAttribute("onclick");a&&(opts.player.params[0].link_attr=`href="${a}" onclick="${s}"`)}isDirectMp4&&(opts.player.params[0].direct_mp4=thumb.dataset.directMp4,opts.player.params[0].hls=void 0,opts.player.params[0].dash_sep=void 0,Object.keys(opts.player.params[0]).forEach((e=>{e.startsWith("url")&&(opts.player.params[0][e]=void 0)}))),opts.player.params[0].inline=!0,currentLoadingVideoId===videoId&&VideoInitializer.initPlayer(e,opts.player.type,opts.player.params)}try{eval("(function () {"+js+"})();")}catch(e){}if(!params.from_autoplay){const e=window.Notifier;e&&setTimeout((()=>e.lcSend("video_start")),0);const t=window.ap;t&&t.isPlaying()&&(t.pauseByChangeChannel(),t.pausedByVideo=(0,_utils_common__WEBPACK_IMPORTED_MODULE_4__.vkNow)())}ev&&(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.domClosest)("bookmarks_row_type_video",ev.target)&&(0,_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_0__.statlogsValueEvent)("bookmarks_product_analytics",{item_type:"video",item_owner_id:cur.mvOpts.oid,item_id:cur.mvOpts.vid,time:(0,_web_lib_date__WEBPACK_IMPORTED_MODULE_1__.getServerTime)()}),thumb.setAttribute("data-playing",1)}function onFail(e){params.from_autoplay||(0,_message_box__WEBPACK_IMPORTED_MODULE_6__.showFastBox)((0,_lang__WEBPACK_IMPORTED_MODULE_5__.getLang)("global_error"),e||(0,_lang__WEBPACK_IMPORTED_MODULE_5__.getLang)("global_error_occured"))}function showProgress(){thumb.setAttribute("data-loading",1),options.no_progress||((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.addClass)(btn,"page_post_video_play_inline_loading"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.val)(btn,(0,_layout_utils__WEBPACK_IMPORTED_MODULE_7__.getProgressHtml)()))}function hideProgress(){thumb.removeAttribute("data-loading"),options.no_progress||((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.removeClass)(btn,"page_post_video_play_inline_loading"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.val)(btn,""))}}function loadInlineVideo(e,t,r){const n=(0,_utils_common__WEBPACK_IMPORTED_MODULE_4__.extend)({autoplay:0,module:cur.module},e);(0,_utils_common__WEBPACK_IMPORTED_MODULE_4__.trim)(n.module)||(n._nol=JSON.stringify(nav.objLoc));const a=[window.jsc("web/videoview.js"),"videoview.css"];function s(e,r){(0,_utils_common__WEBPACK_IMPORTED_MODULE_4__.isFunction)(t)&&t(e,r)}n.from_autoplay&&a.push("videoplayer.css"),ajax.post("al_video.php?act=video_box",n,{onDone:function(){s(!0,[].slice.call(arguments))},onFail:function(){return s(!1,[].slice.call(arguments)),!0},stat:a,local:1,cache:r})}const VideoConstants={VIDEO_ITEM_INDEX_OWNER_ID:0,VIDEO_ITEM_INDEX_ID:1,VIDEO_ITEM_INDEX_THUMB:2,VIDEO_ITEM_INDEX_TITLE:3,VIDEO_ITEM_INDEX_FLAGS:4,VIDEO_ITEM_INDEX_DURATION:5,VIDEO_ITEM_INDEX_HASH:6,VIDEO_ITEM_INDEX_OWNER:8,VIDEO_ITEM_INDEX_DATE:9,VIDEO_ITEM_INDEX_VIEWS:10,VIDEO_ITEM_INDEX_PLATFORM:11,VIDEO_ITEM_INDEX_BLOCKED:12,VIDEO_ITEM_INDEX_MUSIC_VIDEO_META:13,VIDEO_ITEM_INDEX_ARIA:14,VIDEO_ITEM_INDEX_RESTRICTION_BLOCK:15,VIDEO_ITEM_INDEX_RESTRICTION_CLASSES:16,VIDEO_ITEM_INDEX_ADMIN_INFO:17,VIDEO_ITEM_INDEX_CARD_MENU_TOGGLE:18,VIDEO_ITEM_INDEX_RAW_DURATION:19,VIDEO_ITEM_INDEX_LINK:20,VIDEO_ITEM_INDEX_TRAILER:21,VIDEO_ITEM_INDEX_VIEWED_DURATION:22,VIDEO_ITEM_INDEX_VIEWED_DAY:23,VIDEO_ITEM_INDEX_LIST_ID:24,VIDEO_ITEM_INDEX_PLAYLIST_ID:25,VIDEO_ITEM_INDEX_CARD_ACTIONS:26,VIDEO_ITEM_INDEX_CARD_PRIVACY_ICONS:27,VIDEO_ITEM_INDEX_SMALL_THUMB:28,VIDEO_ITEM_INDEX_ML_THUMB_ID:29,VIDEO_ITEM_INDEX_PLAY_FROM:30,VIDEO_ITEM_INDEX_RECOMMENDATION_SOURCES:31,VIDEO_ITEM_INDEX_RECOMMENDATION_USERS:32,VIDEO_ITEM_TRACK_CODE:33,VIDEO_ITEM_INDEX_SUBTITLE_PLACE:34,VIDEO_ITEM_INDEX_AVATAR_IMAGE:35,VIDEO_ITEM_INDEX_AVATAR_PLACE:36,VIDEO_ITEM_INDEX_DESCRIPTON:37,VIDEO_ITEM_INDEX_DOWNLOAD_URL:38,VIDEO_ITEM_INDEX_OWNER_HREF:39,VIDEO_ITEM_PUBLISH_DATE:40,VIDEO_ITEM_BOOKMARKED:41,VIDEO_ITEM_BOOKMARK_HASH:42,VIDEO_ITEM_INDEX_UPCOMING_LIVE_DATE:43,VIDEO_ITEM_INDEX_INTERACTIVE:44,VIDEO_ITEM_INDEX_LABEL_PLACE:45,VIDEO_ITEM_INDEX_VK_LIVE_CHANNEL_URL:46,VIDEO_ITEM_INDEX_VK_LIVE_CHANNEL_NAME:47,VIDEO_ITEM_INDEX_CLICK_EVENT:48,VIDEO_ITEM_INDEX_SHOULD_OPEN_MODAL:49,VIDEO_TEMPLATE_INDEX_SUBTITLE_DURATION_WITH_VIEWS:0,VIDEO_TEMPLATE_INDEX_SUBTITLE_LABEL:1,VIDEO_TEMPLATE_INDEX_SUBTITLE_SCHEDULED:2,VIDEO_TEMPLATE_INDEX_SUBTITLE_UPCOMING_LIVE:3,VIDEO_ITEM_FLAG_EXTERNAL:1,VIDEO_ITEM_FLAG_ACTIVE_LIVE:2,VIDEO_ITEM_FLAG_CAN_DOWNLOAD:32,VIDEO_ITEM_FLAG_CAN_EDIT:64,VIDEO_ITEM_FLAG_CAN_DELETE:128,VIDEO_ITEM_FLAG_CAN_ADD:256,VIDEO_ITEM_FLAG_PRIVATE:512,VIDEO_ITEM_FLAG_NO_AUTOPLAY:1024,VIDEO_ITEM_FLAG_ADDED:2048,VIDEO_ITEM_FLAG_SKIP_THUMB_LOAD:4096,VIDEO_ITEM_FLAG_NEED_SIGN_IN:8192,VIDEO_ITEM_FLAG_HD:16384,VIDEO_ITEM_FLAG_DELETED:32768,VIDEO_ITEM_FLAG_CAN_MOVE:65536,VIDEO_ITEM_FLAG_CAN_DELETE_FROM_HISTORY:1<<17,VIDEO_ITEM_FLAG_PRIVATE_BY_LINK:1<<18,VIDEO_ITEM_FLAG_LIVE:1<<19,VIDEO_ITEM_FLAG_PRIVATE_NOT_PUBLISHED:1<<20,VIDEO_ITEM_FLAG_PRIVATE_MEMBERS:1<<21,VIDEO_ITEM_FLAG_HORIZONTAL:1<<22,VIDEO_ITEM_FLAG_NFT_AVATAR:1<<23,VIDEO_ITEM_FLAG_SCHEDULED:1<<24,VIDEO_ITEM_FLAG_CAN_BOOKMARK:1<<25,VIDEO_ITEM_FLAG_BOOKMARKED:1<<26,VIDEO_ITEM_FLAG_UPCOMING_LIVE:1<<27,VIDEO_ITEM_FLAG_INTERACTIVE:1<<28,VIDEO_ITEM_FLAG_MUSIC_VIDEO:1<<29};function initVideo(){__webpack_require__._dG("_videoLastInlined",!1)}},204416:(e,t,r)=>{"use strict";r.d(t,{pauseLastInlineVideo:()=>a,playLastInlineVideo:()=>s});var n=r(663939);function a(){if(!window._videoLastInlined)return;const e=cur.videoInlinePlayer||document.getElementById("video_yt")&&window.VideoYoutube;if(e){if(e.isActiveLive&&e.isActiveLive())return;cur.mvOpts.lastPlayerState=e.getState(),e.togglePlay(!1)}}function s(){if(!window._videoLastInlined||!cur.mvOpts||cur.mvOpts.lastPlayerState!==n.PLAYING)return;const e=cur.videoInlinePlayer||document.getElementById("video_yt")&&window.VideoYoutube;e&&e.togglePlay(!0)}},664822:(e,t,r)=>{"use strict";r.d(t,{AppOrderBox:()=>p});var n=r(754866),a=r(866467),s=r(593159),_=r(246429),c=r(683234),l=r(270959),u=r(449299),d=r(196829);class p{static instantSkipAppOrder(e,t){const r=(0,n.gpeByClass)("payments_instant_progress_wrap",e);let a={act:"a_order",aid:cur.paymentsOrderAppId,order_id:cur.paymentsOrderId,votes:cur.paymentsPreferVotes,test_mode:cur.paymentsOrderTestMode,_skip_instant:t||1,hash:cur.paymentsOrderHash};void 0!==cur.checkedMaxVotes&&(a.checked_max_votes=cur.checkedMaxVotes),ajax.post("al_apps.php",a,{forceDone:1,onDone:()=>{cur.paymentsCheckOrderCnt=1,(0,_.curBox)().hide(),cur.paymentsCheckOrderCnt=0,cur.fromInstantPay=!0},showProgress:()=>r&&r.classList.add("loading"),hideProgress:()=>r&&r.classList.remove("loading")})}static processOrder(e,t){t||(t=(0,_.curBox)());const r=(0,n.isVisible)("payments_box")?2:0;let s=!1;e||(e=r),r&&(s=t.btns.ok[0],(0,c.lockButton)(s));let E={act:"a_order",aid:cur.paymentsOrderAppId,order_id:cur.paymentsOrderId,votes:cur.paymentsPreferVotes,from:nav.objLoc[0],test_mode:cur.paymentsOrderTestMode,_votes_ok:e,hash:cur.paymentsOrderHash};1==e&&cur.paymentsOrderBillPeriod&&(E.payment_type=cur.votesType),!cur.paymentsOrderBillPeriod&&(0,n.ge)("payments_order_auto_confirm")&&(E.auto_confirm=(0,c.isChecked)("payments_order_auto_confirm")),ajax.post("al_apps.php",E,{forceDone:3==+e?1:0,onDone:(E,m,g,A,f)=>{if(A&&-1e3!==A&&(cur.votesBoxOptions=A),3==e&&-1e3==g)return d.Gifts.processBoxOptions((0,_.curBox)(),A),cur.paymentsCheckOrderCnt=1,t.hide(),void(cur.paymentsCheckOrderCnt=0);if(0===g||g>0)return cur.paymentsPreferVotes=1,r?cur.paymentsShowBoxError(m):(t.hide(),(0,l.showFastBox)((0,a.getLang)("global_error"),m)),void((cur.paymentsOrderBillPeriod||f)&&cur.onSubscriptionFail?cur.onSubscriptionFail(g):cur.onAppOrderFail&&cur.onAppOrderFail(g));if(E.result){let e=(0,_.curBox)();return cur.isPaymentsAppOrder=!1,e&&e.hide(),(0,_.showDoneBox)(m),E.balance&&(0,u.updateMoney)(E.balance),void(cur.onSubscriptionDone&&E.subscriptionStatus&&(cur.onSubscriptionDone(E.subscriptionStatus),cur.onSubscriptionDone=!1))}const I=E.orderId;if(!I)return void(cur.paymentGetOrderItemTO=setTimeout(p.processOrder.pbind(!1,t),1e3));m&&(t=(0,l.showFastBox)("",m)).setOptions({title:!1,width:520,bodyStyle:"padding: 0;",hideButtons:!0}),s&&(0,c.unlockButton)(s),cur.isPaymentsAppOrder=!1,cur.paymentsOrderId=I,E.subscriptionId&&(cur.paymentsSubscriptionId=E.subscriptionId),cur.paymentsOrderCheckHash=E.checkHash;const y=(0,a.getLang)("payments_waiting_app_order_complete");(0,n.ge)("payments_box_progress_msg_wrap")?((0,n.val)("payments_box_progress_msg_wrap",`<span id="payments_box_progress_msg">${y}</span>`),cur.paymentsShowProgress()):(0,n.val)("apps_paymentbox_progress_msg_wrap",y),cur.paymentsCheckOrderCnt=0,cur.paymentsCheckOrderInt=setInterval(p.checkOrder,2e3)},onFail:function(e){return!e||(cur.onSubscriptionFail?cur.onSubscriptionFail():cur.onAppOrderFail&&cur.onAppOrderFail(),(0,n.isVisible)("payments_box")?cur.paymentsShowBoxError(e):(t.hide(),(0,l.showFastBox)((0,a.getLang)("global_error"),e)),!0)}})}static checkOrder(){if(15==cur.paymentsCheckOrderCnt)(0,n.ge)("payments_box_progress_msg").innerHTML=(0,a.getLang)("payments_waiting_payment_complete_still");else if(cur.paymentsCheckOrderCnt>30)return clearInterval(cur.paymentsCheckOrderInt),(0,_.curBox)().hide(),void(0,l.showFastBox)((0,a.getLang)("payments_app_order_box_title"),(0,a.getLang)("payments_app_add_votes_delay"),(0,a.getLang)("global_close"),(()=>{cur.paymentsOrderBillPeriod&&cur.onSubscriptionCancel?cur.onSubscriptionCancel():cur.onAppOrderCancel&&cur.onAppOrderCancel(),(0,_.curBox)().hide()}));cur.paymentsCheckOrderCnt++,ajax.post("al_apps.php",{act:"a_check_order",aid:cur.paymentsOrderAppId,order_id:cur.paymentsOrderId,test_mode:cur.paymentsOrderTestMode,from:nav.objLoc[0],hash:cur.paymentsOrderCheckHash},{onDone:(e,t,r,n,a)=>{e&&((0,_.curBox)()&&(0,_.curBox)().hide(),clearInterval(cur.paymentsCheckOrderInt),cur.paymentsCheckOrderCnt=0,(0,_.showDoneBox)(t,{out:1e3}),r&&(0,u.updateMoney)(r),1==e?(cur.paymentsOrderBillPeriod&&cur.onSubscriptionSuccess?(cur.onSubscriptionSuccess(cur.paymentsSubscriptionId),TopNotifier&&TopNotifier.invalidate()):cur.onAppOrderSuccess&&cur.onAppOrderSuccess(cur.paymentsOrderId),cur.onSubscriptionDone&&a&&(cur.onSubscriptionDone(a),cur.onSubscriptionDone=!1)):cur.paymentsOrderBillPeriod&&cur.onSubscriptionFail?cur.onSubscriptionFail(n):cur.onAppOrderFail&&cur.onAppOrderFail(n))},onFail:function(e){return clearInterval(cur.paymentsCheckOrderInt),cur.paymentsShowBoxError(e),!0}})}static initialize(e,t,r,n,a,_,c){(0,s.extend)(cur,{isPaymentsAppOrder:!0,paymentsAuthPayment:!1,paymentsOrderNotice:!1,paymentsOrderId:e,paymentsOrderAppId:t,paymentsOrderTestMode:r,paymentsOrderHash:n,paymentsPreferVotes:a,paymentsOrderDiscount:_,paymentsOrderBillPeriod:c})}}},641608:(e,t,r)=>{"use strict";r.d(t,{MoneyTransfer:()=>x});var n=r(683234),a=r(575753),s=r(191468),_=r(898848),c=r(749284),l=r(972332),u=r(246429),d=r(270959),p=r(754866),E=r(560377),m=r(449299),g=r(593159),A=r(237625),f=r(636576),I=r(866467),y=r(126645),R=r.n(y),O=r(584427),S=r(150681),T=r(338329),P=r(342879),b=r(443291),C=r(105330),D=r(952661),M=r(810068),L=r(377803),N=r(428374);const k=1,U=2,B=-1,x={initHandlers(){(0,T.tq)().setInteractiveHandler("MoneyTransfer/receive_method_change",(e=>{const t=e.payload.event.target;if((0,p.hasClass)(t,"disabled"))return;const{value:r,name:n}=e.payload.dataAttrs;x.onReceiveMethodChange(t,r,n)})),(0,T.tq)().setInteractiveHandler("MoneyTransfer/in_chat_focus_amount",(()=>{(0,p.elfocus)("transfer_amount")})),(0,T.tq)().setInteractiveHandler("MoneyTransfer/check_user_message",(()=>{x.checkUserMessage()})),(0,T.tq)().setInteractiveHandler("MoneyTransfer/show_hint",(e=>{(0,P.showHint)(e.payload.event.target)})),(0,T.tq)().setInteractiveHandler("MoneyTransfer/send",(e=>{x.send(Boolean(e.payload.dataAttrs.newWindow))})),(0,T.tq)().setInteractiveHandler("MoneyTransfer/check_participate",(e=>{(0,n.checkbox)(e.payload.event.target),x.checkRequestParticipate()})),(0,T.tq)().setInteractiveHandler("MoneyTransfer/check",(e=>{(0,n.checkbox)(e.payload.event.target)})),(0,T.tq)().setInteractiveHandler("MoneyTransfer/check_auto_accept",(e=>{(0,n.checkbox)(e.payload.event.target),x.checkAutoAccept()})),(0,T.tq)().setInteractiveHandler("MoneyTransfer/about",(e=>{x.aboutBox(e.payload.dataAttrs.aboutKey)})),(0,T.tq)().setInteractiveHandler("MoneyTransfer/history",(()=>{x.historyBox()})),(0,T.tq)().setInteractiveHandler("MoneyTransfer/hide_pin_box",(()=>{x.hidePinBox()})),(0,T.tq)().setInteractiveHandler("MoneyTransfer/check_vk_pay_offer",(()=>{x.checkVkPayOfferBox()})),(0,T.tq)().setInteractiveHandler("MoneyTransfer/clean_amount",(e=>{x.cleanAmount(e.payload.event.target,e.payload.event,Boolean(e.payload.dataAttrs.onlyClean))})),(0,T.tq)().setInteractiveHandler("MoneyTransfer/send_amount_on_enter",(e=>{13===e.payload.event.keyCode&&x.send(),x.autosizeAmount()})),(0,T.tq)().setInteractiveHandler("MoneyTransfer/focus_from_to",(e=>{(0,p.elfocus)(e.payload.event,0,1e4)})),(0,T.tq)().setInteractiveHandler("MoneyTransfer/focus_and_hide_link",(e=>{(0,p.elfocus)(e.payload.event,0,1e4),x.hideLinkCopied()})),(0,T.tq)().setInteractiveHandler("MoneyTransfer/copy_link",(e=>{x.copyLinkToClipboard((0,p.ge)(e.payload.dataAttrs.element))})),(0,T.tq)().setInteractiveHandler("MoneyTransfer/share_qr",(()=>{x.shareQRCode()})),(0,T.tq)().setInteractiveHandler("MoneyTransfer/download_qr",(()=>{x.downloadQRCode()})),(0,T.tq)().setInteractiveHandler("MoneyTransfer/switch_to_transfer_box",(e=>{x.switchBoxSection(e.payload.event.target,"transfer")})),(0,T.tq)().setInteractiveHandler("MoneyTransfer/switch_to_request_box",(e=>{x.switchBoxSection(e.payload.event.target,"request")})),(0,T.tq)().setInteractiveHandler("MoneyTransfer/switch_to_link_box",(e=>{x.switchBoxSection(e.payload.event.target,"link")})),(0,T.tq)().setInteractiveHandler("MoneyTransfer/init_accept",(()=>{x.initAccept(cur.paymentsOptions.chkData,cur.paymentsOptions.frame,!0)}))},init(){this.initHandlers();const e=(0,u.curBox)();if((0,p.ge)("payments_box")!=(0,p.geByClass1)("payments_money_transfer_box",e.bodyNode)&&_message_boxes.length>1){let e=!0;_message_boxes.forEach((function(t,r){e&&(0,p.ge)("payments_box")==(0,p.geByClass1)("payments_money_transfer_box",t.bodyNode)&&(boxLayer.removeChild((0,p.gpeByClass)("popup_box_container",t.bodyNode)),boxQueue._boxes.splice(r,1),delete _message_boxes[r],e=!1)}))}if(cur.moneyLinksTooltip&&(cur.moneyLinksTooltip.destroy(),delete cur.moneyLinksTooltip),e.setOptions({grey:!0}),cur.paymentsOptions.requestId&&!cur.paymentsOptions.vkpayAvailable&&(e.changed=!0,e.setOptions({width:510}),x.send()),(0,c.placeholderInit)("transfer_amount"),(0,c.placeholderInit)("transfer_comment"),cur.paymentsOptions.isChat){if((0,c.placeholderInit)("transfer_chunk_amount"),cur.autoacceptCardDD=new N.InlineDropdown("transfer_autoaccept_card",{items:cur.paymentsOptions.cards,selected:cur.paymentsOptions.cardSeleceted,withArrow:!0,onShow:x.enableAutoaccept,onSelect:e=>{-1==e?x.sendBind():cur.paymentsOptions.vkpayAvailable&&x.checkAmount((0,p.val)("transfer_amount"))}}),cur.autoacceptCardEl=(0,p.ge)("transfer_autoaccept_card"),(0,p.toggleClass)("transfer_autoaccept_card","disabled",!cur.paymentsOptions.autoAcceptEnabled),cur.paymentsOptions.autoAcceptEnabled&&(0,n.checkbox)("transfer_autoaccept",!0),cur.paymentsOptions.cards.length<2){let e=(0,p.ce)("a",{id:"payments_money_transfer_new_card_lnk",innerHTML:(0,I.getLang)("payments_money_transfer_new_card")});(0,l.addEvent)(e,"mousedown",x.sendBind),(0,p.hide)(cur.autoacceptCardEl),cur.autoacceptCardEl.parentNode.appendChild(e)}}else if((0,p.ge)("transfer_to")){(0,p.hide)("payments_money_transfer_user");let e="transfer"===cur.paymentsOptions.boxTab;cur.uiTransferTo=new Dropdown((0,p.ge)("transfer_to"),cur.paymentsOptions.friends.filter((function(t){return e||!0===t[7]})),{big:!0,introText:(0,I.getLang)("votes_transfer_start_typing_recipient"),noResult:"",placeholder:(0,I.getLang)("votes_transfer_choose_recipients"),multiselect:!1,enableCustom:!0,autocomplete:!0,imageId:"transfer_to_photo",indexkeys:[1,4],noImageSrc:"/images/blank.gif",onChange:e=>{if(!e||-1==e)return;const t=cur.uiTransferTo.val_full();cur.paymentsOptions.toId=t[0],cur.paymentsOptions.hash=t[5],(0,p.val)("payments_money_transfer_summary",t[6]),setTimeout(p.elfocus.pbind("transfer_amount"),100),cur.paymentsOptions.vkpayAvailable&&x.updateMethods()}})}else(0,p.ge)("transfer_method")&&x.initMethods();setTimeout(p.elfocus.pbind("transfer_amount"),100),(0,s.shortCurrency)(),"link"===cur.paymentsOptions.boxTab&&x.genQRCode();let t=(0,p.val)("transfer_amount");t&&x.checkAmount(t,!1,!0),x.autosizeAmount(),x.showMoneyLinksTooltip(),cur.transferPageLoaded=!1,cur.destroy.push(x.destroy)},destroy(){x.stopCheckFrameLoad(),cur.uiTransferTo&&cur.uiTransferTo.destroy(cur.uiTransferTo),cur.qrFrame&&(0,p.re)(cur.qrFrame)},initMethods(){cur.paymentsOptions.onlyCards=!(0,p.isVisible)("payments_money_transfer_receive_methods");let e=cur.paymentsOptions.cardSelected;if([U,k].includes(parseInt(cur.paymentsOptions.forceType)))for(const[t]of cur.paymentsOptions.cards)t===B&&(e=B);if(cur.uiTransferCard=new Dropdown((0,p.ge)("transfer_method"),cur.paymentsOptions.cards,{big:!0,selectedItems:e,onChange:(e,t)=>{if(-2===parseInt(e)){const e=(0,p.se)(t);nav.go(e.getAttribute("data-url"));const r=document.querySelector("#payments_money_transfer_send");return D.FlatButton.lock(r),!1}x.updateTransferType(),x.updateCardFee(!0),(0,p.val)("transfer_amount")||setTimeout(p.elfocus.pbind("transfer_amount"),100)}}),!cur.paymentsOptions.onlyCards){(0,p.geByClass1)("payments_money_transfer_receive_options","payments_money_transfer_receive_methods")&&(window.radioBtns.receiveOptions={els:Array.prototype.slice.apply((0,p.geByClass)("radiobtn")),val:e==B?"vkpay":"cards"})}if(void 0!==cur.paymentsOptions.vkpayBalance&&((0,g.each)((0,p.geByClass)("_code","payments_money_transfer_code_wrap"),(function(){(0,l.addEvent)(this,"mousedown",x.onPinClick),(0,l.addEvent)(this,"keyup",x.onPinKeyUp),(0,l.addEvent)(this,"keypress",x.onPinEnter)})),x.isVKPayFillUpEnabled())){const e=x.getBindCards();e.length>0&&(cur.uiFillUpCard=new Dropdown((0,p.ge)("fill_up_card"),e,{big:!0,selectedItems:cur.paymentsOptions.fillUpCardSelected}))}const t=!cur.paymentsOptions.transferType||cur.paymentsOptions.forceType;t&&x.updateTransferType(),x.updateCardFee(!t)},updateLocalStorageNewWindowSign(){const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()+20+20*Math.random());return localStorage.setItem("money_transfer_new_window",t.getTime()),t},getLocalStorageNewWindowSign(){let e=parseInt(localStorage.getItem("money_transfer_new_window")??0);if(1===e)e=x.updateLocalStorageNewWindowSign().getTime();else if(0===e)return!1;return e>(new Date).getTime()},updateMethods(){const e=cur.paymentsOptions.toId;if(!e||!cur.paymentsOptions.vkpayAvailable||!M.Ranges.isUserIdTransitional(e)&&!M.Ranges.isChatOrChannelPeer(e))return;const t=document.querySelector("#payments_money_transfer_send");(0,p.val)("payments_box_error",""),cur.moneyTranferMethodsReq&&(cur.moneyTranferMethodsReq.abort(),cur.moneyTranferMethodsReq=null),"request"!==cur.paymentsOptions?.boxTab&&(cur.moneyTranferMethodsReq=ajax.post("al_payments.php?act=a_get_money_transfer_methods",{to_id:e},{onDone:(e,r)=>{D.FlatButton.unlock(t),(0,p.val)("payments_money_transfer_methods",e),cur.paymentsOptions=(0,g.extend)(cur.paymentsOptions,r),cur.paymentsOptions.transferType=r.transferType,x.initMethods()},onFail:e=>(e&&(0,_.isString)(e)&&(D.FlatButton.unlock(t),x.showError(e)),!0),showProgress:()=>D.FlatButton.lock(t)}))},send(e=!1,t=!1){const r=(0,u.curBox)(),a=document.querySelector("#payments_money_transfer_send");if(D.FlatButton.isLocked(a))return;if(!cur.paymentsOptions.toId&&cur.uiTransferTo)return void(0,n.notaBene)(cur.uiTransferTo.container);let s=0;if(x.resetTransferWindow(),!(0,p.isVisible)("payments_money_transfer_no_amount_wrap")){if(s=(0,p.val)("transfer_amount"),!s||s<=0)return(0,p.addClass)("payments_money_transfer_amount_wrap","money_error"),setTimeout(p.removeClass.pbind("payments_money_transfer_amount_wrap","money_error"),500),void(0,p.elfocus)("transfer_amount");if(!x.checkAmount(s,!0))return;if((0,n.isChecked)("transfer_participate")){s-=x.getChunkAmount(s,!0)}}if(x.hideMoneyLinksTooltip(),cur.paymentsOptions.onSendStart&&cur.paymentsOptions.onSendStart(),"request"===cur.paymentsOptions.boxTab)return void x.sendRequest(s);x.createFrame();let _={act:"a_init_money_transfer",to_id:cur.paymentsOptions.toId,owner_id:cur.paymentsOptions.ownerId,amount:s,currency:cur.paymentsOptions.currency,comment:(0,p.val)("transfer_comment"),from:cur.paymentsOptions.from,hash:cur.paymentsOptions.hash,accept_vk_pay_offer:cur.paymentsOptions.shouldAcceptVkPayOffer};if(cur.paymentsOptions.vkpayAvailable&&(_.card_id=cur.uiTransferCard.val(),cur.paymentsOptions.onlyCards||(_.receive_method=(0,n.radioval)("receiveOptions")),"-1"===_.card_id)){if(!t)return void x.showPinBox();_.vkpay_pin=t}if(x.isVKPayTransfer()&&x.isVKPayFillUpEnabled()&&x.isFillUpCardSelectionVisible()&&(_.fill_up_card_id=cur.uiFillUpCard.val()),cur.paymentsOptions.requestId&&(_.request_id=cur.paymentsOptions.requestId),cur.paymentsOptions.statSessionId&&(_.stat_session_id=cur.paymentsOptions.statSessionId),(0,p.val)("payments_box_error",""),e||!localStorage||this.isVKPayTransfer()||"-1"===_.card_id||(e=x.getLocalStorageNewWindowSign()),e){cur.paymentsOptions.qid&&(_.act="a_continue_money_transfer",_.qid=cur.paymentsOptions.qid),cur.transferWindow=window.open("","Money Transfer");let e=O.PaymentsBox.popupHtml((0,I.getLang)("payments_cards_redirect"),"","");cur.transferWindow.document.write(e)}ajax.post("al_payments.php",_,{onDone:(t,a)=>{if(a)if(cur.paymentsOptions.qid=t.qid,e)cur.transferWindow?x.updateTransferWindow(a):x.showError((0,I.getLang)("payments_payment_cancelled"),"info_msg");else{let e;cur._popup_text=a,cur._popup_callback=function(){(0,p.hide)("payments_money_transfer_wrap","payments_money_transfer_buttons","payments_box_error","payments_money_transfer_prg","payments_iframe_cookie_disabled_div"),(0,p.show)("payments_money_transfer_iframe","payments_iframe_container"),cur.uiTransferTo&&((0,p.hide)("payments_money_transfer_user_select"),(0,p.show)("payments_money_transfer_user")),(0,p.ge)("payments_iframe_container").scrollTop=0,window.addEventListener("message",x.frameMessage,!1),r.changed=!0,r.setOptions({width:510}),!cur.paymentsOptions.requestId&&(0,p.isVisible)(r.titleWrap)&&r.setBackTitle(x.resetSendBox),(0,p.setStyle)(e,{width:(0,p.ge)("payments_iframe_container").parentNode.offsetWidth-(0,n.sbWidth)()+"px"})},e=(0,p.ge)("transfer_iframe"),e.contentWindow.document.open("text/html","replace"),e.contentWindow.document.write(a),e.contentWindow.document.close(),cur._popup_callback(),x.startCheckFrameLoad(+new Date)}else cur.paymentsOptions.receiptRedesign&&window.addEventListener("message",x.frameMessage,!1),(0,p.hide)("payments_money_transfer_wrap","payments_money_transfer_buttons","payments_box_error","payments_iframe_container",(0,p.geByClass1)("payments_money_transfer_mc_info_msg","payments_money_transfer_iframe")),cur.uiTransferTo&&((0,p.hide)("payments_money_transfer_user_select"),(0,p.show)("payments_money_transfer_user")),(0,p.show)("payments_money_transfer_iframe","payments_money_transfer_prg");x.startCheckStatus(t,e)},onFail:e=>(x.resetTransferWindow(),x.showError(e),!0),showProgress:()=>D.FlatButton.lock(a),hideProgress:()=>D.FlatButton.unlock(a)})},sendRequest(e){let t=document.querySelector("#payments_money_transfer_send"),r={to_id:cur.paymentsOptions.toId,owner_id:cur.paymentsOptions.ownerId,amount:e,currency:cur.paymentsOptions.currency,comment:(0,p.val)("transfer_comment"),from:cur.paymentsOptions.from,hash:cur.paymentsOptions.hash};if(cur.paymentsOptions.statSessionId&&(r.stat_session_id=cur.paymentsOptions.statSessionId),cur.paymentsOptions.isChat){if(r.total_amount=parseInt(e),r.amount=parseInt((0,p.val)("transfer_chunk_amount")),r.pin_message=(0,n.isChecked)("transfer_pin_message")?1:0,(0,n.isChecked)("transfer_autoaccept")&&(cur.autoacceptCardDD&&(r.accept_card=cur.autoacceptCardDD.val()),!r.accept_card||-1==r.accept_card))return x.showError((0,I.getLang)("payments_money_request_error_no_accept_card")),!1;let t=!1;const a=x.getTransferLimit("minAmount"),s=x.getTransferLimit("maxAmount");if(a&&r.amount<a?t=(0,I.getLang)("payments_money_request_error_min_chunk_amount_currency"):s&&r.amount>s?t=(0,I.getLang)("payments_money_request_error_max_chunk_amount_currency"):r.total_amount&&r.amount>r.total_amount&&(t=(0,I.getLang)("payments_money_request_error_chunk_amount_too_big")),t)return x.showError(t),(0,n.notaBene)("transfer_chunk_amount"),!1}(0,p.val)("payments_box_error",""),ajax.post("al_payments.php?act=a_send_money_request",r,{onDone:e=>{(0,u.curBox)().hide(),(0,u.showDoneBox)(e,{out:6e3})},onFail:e=>(x.showError(e),!0),showProgress:()=>D.FlatButton.lock(t),hideProgress:()=>D.FlatButton.unlock(t)})},sendBind(){const e=(0,u.curBox)();x.createFrame(),(0,p.hide)("payments_money_transfer_wrap","payments_money_transfer_buttons","payments_box_error","payments_money_transfer_summary_wrap","payments_iframe_container",(0,p.geByClass1)("msg","payments_money_transfer_iframe"),(0,p.geByClass1)("tb_tabs_wrap",e.bodyNode)),(0,p.show)("payments_money_transfer_iframe","payments_money_transfer_prg"),e.setBackTitle(x.resetSendBox),e.setOptions({width:510});const t={type:"card",only_auth:1,hash:cur.paymentsOptions.bindHash};(0,p.val)("payments_box_error",""),ajax.post("al_payments.php?act=a_getvotes_charge",t,{onDone:(t,r)=>{let a;cur._popup_text=r,cur._popup_callback=function(){(0,p.hide)("payments_money_transfer_prg"),(0,p.show)("payments_iframe_container"),(0,p.ge)("payments_iframe_container").scrollTop=0,window.addEventListener("message",x.frameMessage,!1),cur.autoacceptCardDD&&(0,p.isVisible)(cur.autoacceptCardEl)&&cur.autoacceptCardDD.select(cur.paymentsOptions.cards[0][0]),e.changed=!0,(0,p.setStyle)(a,{width:(0,p.ge)("payments_iframe_container").parentNode.offsetWidth-(0,n.sbWidth)()+"px"})},a=(0,p.ge)("transfer_iframe"),a.contentWindow.document.open("text/html","replace"),a.contentWindow.document.write(r),a.contentWindow.document.close(),cur._popup_callback(),cur.isPaymentCanceled=cur.isPaymentFailed=!1,cur.moneyTranferCheckInt=setInterval((function(){x.checkBindStatus(t),(cur.isPaymentCanceled||cur.isPaymentFailed)&&(clearInterval(cur.moneyTranferCheckInt),cur.isPaymentFailed?x.showError((0,I.getLang)("payments_landing_cancelled")):x.showError((0,I.getLang)("payments_payment_cancelled"),"info_msg"))}),2e3)},onFail:e=>(x.showError(e),!0)})},createFrame(){let e=(0,p.ge)("payments_iframe_container"),t=(0,p.ce)("iframe",{id:"transfer_iframe",name:"transfer_iframe"},{border:0,height:"445px",width:510-(0,n.sbWidth)()+"px",overflowX:"hidden",overflowY:"hidden"});t.frameBorder=0,e.innerHTML="",e.appendChild(t)},popupWrite(e){if(e.document.innerHTML!==cur._popup_text){e.document.write(cur._popup_text),e.document.close();try{e.document.charset="windows-1251"}catch(e){}e.blur(),e.focus(),cur._popup_callback&&cur._popup_callback()}},resetSendBox(){const e=(0,u.curBox)();if(!e)return;const t=(0,p.geByClass1)("tb_tabs_wrap",e.bodyNode);(0,p.hide)("payments_money_transfer_iframe"),(0,p.show)("payments_money_transfer_wrap","payments_money_transfer_buttons","payments_money_transfer_summary_wrap",t,(0,p.geByClass1)("payments_money_transfer_mc_info_msg","payments_money_transfer_iframe")),cur.uiTransferTo&&((0,p.hide)("payments_money_transfer_user"),(0,p.show)("payments_money_transfer_user_select")),t&&e.setOptions({title:""}),e.changed=!1,e.setOptions({width:510}),(0,p.isVisible)(e.titleWrap)&&e.setBackTitle(!1)},resetTransferWindow(){cur.transferWindow&&((0,p.show)("payments_money_transfer_wrap","payments_money_transfer_buttons"),(0,p.hide)("payments_money_transfer_prg","payments_money_transfer_iframe"),cur.transferWindow.location=window.location,cur.transferWindow.close()),cur.transferWindow=void 0},updateTransferWindow(e){const t=cur.transferWindow.document.getElementById("wait_text_container");t&&(t.innerHTML=""),cur.transferWindow.document.write(e),setTimeout((()=>{cur.transferWindow.document.getElementById("popup_payment_form")?.submit()}),1500),window.addEventListener("message",x.frameMessage,!1),(0,p.hide)("payments_money_transfer_wrap","payments_money_transfer_buttons","payments_box_error","payments_iframe_safari_trouble_div","payments_iframe_container"),(0,p.val)("payments_transfer_box_progress_msg",(0,I.getLang)("payments_waiting_transfer_complete")),(0,p.show)("payments_money_transfer_iframe","payments_money_transfer_prg")},startCheckStatus(e,t=!1){cur.isPaymentCanceled=cur.isPaymentFailed=!1,cur.moneyTransferRedirected=!1,cur.moneyTranferCheckInt&&clearInterval(cur.moneyTranferCheckInt),cur.moneyTranferCheckInt=setInterval((function(){if(x.checkStatus(e,t),cur.isPaymentCanceled||cur.isPaymentFailed){let t=x.resetTransferWindow();if(t&&t(),clearInterval(cur.moneyTranferCheckInt),e.accept)return void(0,u.curBox)().hide();cur.isPaymentFailed?x.showError((0,I.getLang)("payments_landing_cancelled")):x.showError((0,I.getLang)("payments_payment_cancelled"),"info_msg")}}),2e3)},hideBoxQueue(){for(;boxQueue.count();)boxQueue.hideLast(!1)},stopListeningFrameMessages(){window.removeEventListener("message",x.frameMessage,!1)},checkStatus(e,t){const r={act:"a_check_money_transfer",qid:e.qid,hash:e.hash};e.accept&&(r.accept=e.accept),ajax.post("al_payments.php",r,{onDone:(r,a,s,_)=>{if(!r||4==r&&cur.moneyTransferRedirected)t&&cur.transferWindow?.closed&&(x.showError((0,I.getLang)("payments_payment_cancelled")),x.stopListeningFrameMessages(),x.resetTransferWindow(),cur.isPaymentFailed=!1,cur.isPaymentCanceled=!1);else{if(1==r||3==r){if(t){0===cur.paymentsOptions.transferType||cur.paymentsOptions.transferType===k?cur.transferWindow&&!cur.transferWindow.closed&&(x.resetTransferWindow(),x.hideBoxQueue()):(x.resetTransferWindow(),x.hideBoxQueue())}else cur.paymentsOptions.transferType===U?(x.resetTransferWindow(),x.hideBoxQueue()):cur.paymentsOptions.receiptRedesign&&((0,p.hide)(document.querySelector(".payments_money_transfer_footer")),_?.receipt_link&&x.setIframeByLink(_.receipt_link));_||(0,u.showDoneBox)(a,{out:6e3});const n=nav.objLoc;e.accept||"settings"!==n[0]||"payments"!==n.act||"transfer"!==n.section||(cur.historyOffset||(cur.historyOffset={}),cur.historyOffset.transfer=0,(0,b.showNextPaymentsHistory)(!1,n.section)),3==r&&(_&&_.title&&(0,d.showFastBox)({title:_.title},a,(0,I.getLang)("payments_remember_card_btn"),x.rememberAcceptCard.pbind(_),(0,I.getLang)("payments_dont_remember_card_btn")),TopNotifier.invalidate(),cur.acceptMoneyBtn&&(0,p.hasClass)((0,p.domPN)(cur.acceptMoneyBtn),"feedback_buttons")?((0,p.re)((0,p.domPN)(cur.acceptMoneyBtn)),cur.acceptMoneyBtn=!1):cur.acceptMoneyBtn&&((0,p.re)((0,p.geByClass1)("_decline_btn",(0,p.domPN)(cur.acceptMoneyBtn))),(0,p.domReplaceEl)(cur.acceptMoneyBtn,s),cur.acceptMoneyBtn=!1))}else if(2==r||5==r)x.showError(a),x.stopListeningFrameMessages(),cur.isPaymentFailed=!1,cur.isPaymentCanceled=!1;else{if(4==r){if(cur.moneyTransferRedirected=!0,cur._popup_text=s,t&&cur.transferWindow)x.updateTransferWindow(s);else{let e;cur._popup_callback=function(){(0,p.hide)("payments_money_transfer_prg"),(0,p.show)("payments_iframe_container"),(0,p.ge)("payments_iframe_container").scrollTop=0,window.addEventListener("message",x.frameMessage,!1),(0,u.curBox)().changed=!0,(0,p.setStyle)(e,{width:(0,p.ge)("payments_iframe_container").parentNode.offsetWidth-(0,n.sbWidth)()+"px"})},e=(0,p.ge)("transfer_iframe"),e.contentWindow.document.open("text/html","replace"),e.contentWindow.document.write(s),e.contentWindow.document.close(),cur._popup_callback()}return}if(6==r)return void((0,p.isVisible)("payments_money_transfer_prg")||((0,p.hide)("payments_iframe_container"),(0,p.show)("payments_money_transfer_iframe","payments_money_transfer_prg")))}clearInterval(cur.moneyTranferCheckInt)}},onFail:e=>(clearInterval(cur.moneyTranferCheckInt),x.resetTransferWindow()(),x.showError(e),!0)})},checkBindStatus(e){let t={act:"a_getvotes_check",type:"card"};e&&(e.oid||e.qid)&&(t.oid=e.oid,t.qid=e.qid,t.hash=e.hash),ajax.post("al_payments.php",t,{onDone:(e,t,r)=>{e&&(1==e?(x.resetSendBox(),x.enableAutoaccept(),r&&cur.autoacceptCardDD&&((0,p.isVisible)(cur.autoacceptCardEl)||((0,p.hide)((0,p.geByTag)("A",cur.autoacceptCardEl.parentNode)[0]),(0,p.show)(cur.autoacceptCardEl)),cur.paymentsOptions.cards.unshift([r.bindingId,r.bin]),cur.autoacceptCardDD.setItems(cur.paymentsOptions.cards),cur.autoacceptCardDD.select(r.bindingId))):2!=e&&10!=e||x.showError(t),clearInterval(cur.moneyTranferCheckInt))},onFail:e=>(clearInterval(cur.moneyTranferCheckInt),x.showError(e),!0)})},paymentCanceled(e){e?cur.isPaymentFailed=!0:cur.isPaymentCanceled=!0,x.frameHeight()},frameHeight(e,t){let r=(0,p.ge)("transfer_iframe");e?(e=Math.max(e,250),cur.prevFrameHeight=r.style.height,r.style.height=e+"px"):(r.style.height=cur.prevFrameHeight,(0,p.removeClass)("payments_iframe_container","payments_threeds_frame")),t||((0,p.ge)("payments_iframe_container").style.height=(e||cur.prevFrameHeight)+15+"px"),(0,p.ge)("payments_iframe_container").scrollTop=0},frameMessage(e){if(!(0,u.curBox)()&&cur.paymentsOptions.receiptRedesign)return void x.stopListeningFrameMessages();if(!(e.origin.match(/^https?:\/\/([a-zA-Z0-9\-.]+\.)?money\.mail\.ru$/)||e.origin.match(new RegExp(`^https?:\\/\\/([a-zA-Z0-9\\-.]+\\.)?${C.VK_SITE_REGEX_SOURCE_UNSAFE}$`))&&cur.paymentsOptions?.receiptRedesign))return!1;let t={};if(e.data){switch(typeof e.data){case"object":t=e.data;break;case"string":"{"===e.data.substr(0,1)&&(t=(0,m.parseJSON)(e.data))}if("billing"!==t.type)return!1}vk.dev&&(0,A.debugLog)(t);const r=(0,p.geByClass1)("payments_iframe_container",(0,u.curBox)().bodyNode)||(0,p.ge)("payments_iframe_container");if(cur.transferPageLoaded=!0,"resizeFrame"===t.action?setTimeout(x.frameHeight.pbind(t.action_params.height),200):"submit"===e.data||"3dsPage"===t.action?(setTimeout(x.frameHeight.pbind(600,!0),200),(0,p.addClass)(r,"payments_threeds_frame")):"3dsFinish"===t.action?(x.frameHeight(),(0,p.removeClass)(r,"payments_threeds_frame")):"session_fail"===t.action?((0,p.hide)(r),x.resetTransferWindow(),(0,p.show)("payments_iframe_safari_trouble_div"),x.updateLocalStorageNewWindowSign()):"putPixel"===t.action&&"page_load"===t.action_params.alias?(O.PaymentsBox.finishFormMeasure("dmr_transfer"),(0,f.statlogsValueEvent)("money_transfers",0,"iframe_loaded")):"paySuccess"===t.action?setTimeout(x.frameHeight.pbind(500),300):"payError"===t.action&&(0,p.isVisible)("payments_iframe_container")&&((0,p.hide)("payments_iframe_container"),(0,p.val)("payments_transfer_box_progress_msg",(0,I.getLang)("payments_waiting_transfer_complete")),(0,p.show)("payments_money_transfer_iframe","payments_money_transfer_prg")),cur.paymentsOptions.receiptRedesign){if("make_one_more_transfer"===t.action||"close_window"===t.action)switch(clearInterval(cur.moneyTranferCheckInt),x.resetTransferWindow(),x.stopListeningFrameMessages(),t.action){case"make_one_more_transfer":x.resetSendBox();break;case"close_window":x.hideBoxQueue()}if("get_transfer_source"===t.action){let e=vk.dev?"*":window.location.origin;cur.transferWindow&&cur.transferWindow.postMessage(JSON.stringify({from:cur.paymentsOptions.from}),e);let t=(0,p.ge)("transfer_iframe");t&&t.contentWindow.postMessage(JSON.stringify({action:"set_transfer_source",source:cur.paymentsOptions.from}),e)}}},setIframeByLink(e){let t=(0,p.geByClass1)("payments_iframe_container",(0,u.curBox)().bodyNode)||(0,p.ge)("payments_iframe_container"),r=(0,p.ce)("iframe",{id:"transfer_iframe",name:"transfer_iframe"},{border:0,height:"445px",width:"510px",overflowX:"hidden",overflowY:"hidden"});r.frameBorder=0,t.innerHTML="",t.appendChild(r),(0,p.hide)((0,p.ge)("payments_money_transfer_prg")),(0,p.show)(t),r.src=e},startCheckFrameLoad(e){cur.frameLoadChecker=setInterval((function(){if(cur.transferPageLoaded)x.stopCheckFrameLoad();else{+new Date-e>5e3&&(x.stopCheckFrameLoad(),x.resetTransferWindow(),(0,p.hide)("payments_iframe_container"),(0,p.show)("payments_iframe_safari_trouble_div"),x.updateLocalStorageNewWindowSign())}}),1e3)},stopCheckFrameLoad(){clearInterval(cur.frameLoadChecker)},initAccept(e,t,r=!1){if(r)cur.transferWindow=window.open("/","Money transfer"),cur.transferWindow.document.write(t),(0,p.hide)("payments_box_error","payments_iframe_container","payments_iframe_safari_trouble_div","payments_iframe_container"),(0,p.val)("payments_transfer_box_progress_msg",(0,I.getLang)("payments_waiting_transfer_complete")),(0,p.show)("payments_money_transfer_iframe","payments_money_transfer_prg");else{let e=(0,p.geByClass1)("payments_iframe_container",(0,u.curBox)().bodyNode)||(0,p.ge)("payments_iframe_container");(0,p.show)(e);let r=(0,p.ce)("iframe",{id:"transfer_iframe",name:"transfer_iframe"},{border:0,height:"445px",width:"510px",overflowX:"hidden",overflowY:"hidden"});r.frameBorder=0,e.innerHTML="",e.appendChild(r),r.contentWindow.document.open("text/html","replace"),r.contentWindow.document.write(t),r.contentWindow.document.close(),x.startCheckFrameLoad(+new Date)}window.addEventListener("message",x.frameMessage,!1),x.startCheckStatus(e,r)},rememberAcceptCard(e){const t=(0,u.curBox)()||{};let r=t.btns.ok[0];ajax.post("al_payments.php?act=a_remember_money_transfer_accept_card",{card_id:e.card_id,hash:e.hash},{onDone:t.hide,showProgress:()=>D.FlatButton.lock(r),hideProgress:()=>D.FlatButton.unlock(r)})},cleanAmount(e,t,r){if(13===t.keyCode)return;let n=e.value.replace(/[^0-9]/g,"");n=n.replace(/^0+/,""),e.value!=n&&(e.value=n),r||(x.checkAmount(n),x.autosizeAmount(),cur.paymentsOptions.cardsFee&&x.updateCardFee(!0))},getTransferLimit(e){let t="request"===cur.paymentsOptions.boxTab?0:cur.paymentsOptions.transferType;return"balance"===e&&parseInt(t)===U?cur.paymentsOptions.vkpayBalance:(cur.paymentsOptions.isChat&&"request"===cur.paymentsOptions.boxTab&&"maxAmount"===e&&cur.autoacceptCardDD&&-2===cur.autoacceptCardDD.val()&&(t=2),cur.paymentsOptions.limits[t][e])},checkAmount(e,t,r){let a=!1;const s=(0,p.hasClass)("payments_money_transfer_amount_wrap","money_error"),_=parseInt(cur.uiTransferCard?.val())===B,c=x.isVKPayTransfer(),l=x.isVKPayFillUpEnabled();if(t&&s)return c&&e>x.getTransferLimit("balance")&&!l&&(0,d.showFastBox)({title:(0,I.getLang)("payments_vkpay_low_balance_title"),width:420},(0,I.getLang)("payments_vkpay_low_balance_text"),(0,I.getLang)("payments_vkpay_topup_button"),nav.go.pbind("/vkpay#action=refill"),(0,I.getLang)("global_close")),!1;const u=cur.paymentsOptions.isChat&&"request"===cur.paymentsOptions.boxTab,E=u&&(0,n.isChecked)("transfer_participate"),m=x.getTransferLimit("minAmount")*(E?2:1),g=x.getTransferLimit("maxAmount"),A=x.getTransferLimit("balance"),f=(0,I.langNumeric)(m,cur.paymentsOptions.currencyStr,!0),y=(0,I.getLang)("payments_money_transfer_amount_limits").replace("{min_amount}",f);let R=!u;if(u&&cur.autoacceptCardDD&&-2===cur.autoacceptCardDD.val()&&(R=!0),_&&c&&l&&!(void 0!==A&&e<=A)||x.hideFillUpCardSelection(),t&&m&&e<m)a=(0,I.getLang)("payments_money_transfer_error_min_amount_currency").replace("{min_amount}",f);else if(g&&R&&e>g){const e=(0,I.langNumeric)(g,cur.paymentsOptions.currencyStr,!0);a=(0,I.getLang)("payments_money_transfer_error_max_amount_currency").replace("{max_amount}",e)}else if(_&&void 0!==A&&e>A)if(c&&l){x.getBindCards().length>0?x.showFillUpCardSelection():a=(0,I.getLang)("payments_money_transfer_low_balance")}else a=(0,I.getLang)("payments_money_transfer_low_balance");const O=(0,p.ge)("payments_money_transfer_notice");if(0!=a)return(0,p.val)(O,a),(0,p.addClass)("payments_money_transfer_amount_wrap","money_error"),!1;if((s||r||e<m)&&((e<m||"request"===cur.paymentsOptions.boxTab)&&(0,p.val)(O,y),(0,p.removeClass)("payments_money_transfer_amount_wrap","money_error")),!t&&u){const t=x.getChunkAmount(e,E);if((0,p.val)("transfer_chunk_amount",t),m&&e<m)(0,p.val)(O,y);else{const r=E?e-t:e,n=(0,I.langNumeric)(r,cur.paymentsOptions.currencyStr,!0);(0,p.val)(O,(0,I.getLang)("payments_money_transfer_will_be_requested").replace("{amount}",n))}}return!0},getChunkAmount(e,t){const r=x.getTransferLimit("minAmount"),n=x.getTransferLimit("maxAmount");let a=Math.max(r||100,Math.ceil(e/Math.max(1,cur.paymentsOptions.chatCount-(t?0:1))));return n&&(a=Math.min(a,n)),a},autosizeAmount(){let e=(0,p.ge)("transfer_amount"),t=(0,p.ce)("span",{innerHTML:e.value||"0"},{fontFamily:(0,p.getStyle)(e,"fontFamily"),fontSize:(0,p.getStyle)(e,"fontSize"),fontWeight:(0,p.getStyle)(e,"fontWeight")});(0,p.ge)("utils").appendChild(t);let r=Math.floor((0,p.getSize)(t)[0])+50;(0,p.re)(t),cur.amountMinSize||(cur.amountMinSize=80),r<cur.amountMinSize&&(r=cur.amountMinSize),(0,p.setStyle)(e,{width:r})},checkUserMessage(){(0,m.checkTextLength)(cur.paymentsOptions.maxTextLength,(0,p.ge)("transfer_comment"),(0,p.ge)("transfer_comment_limit_message"),!1,!0),((0,p.val)("transfer_comment_limit_message")&&(0,p.isVisible)("transfer_comment_limit_message")?p.hide:p.show)("payments_money_transfer_fee_link")},checkRequestParticipate(){x.checkAmount((0,p.val)("transfer_amount"))},checkRequestNoAmount(e,t){e&&uiTabs.switchTab(e),t?((0,p.hide)("payments_money_transfer_amount_wrap","transfer_participate"),(0,p.show)("payments_money_transfer_no_amount_wrap")):((0,p.hide)("payments_money_transfer_no_amount_wrap"),(0,p.show)("payments_money_transfer_amount_wrap","transfer_participate"),(0,p.elfocus)("transfer_amount"))},checkAutoAccept(){(0,p.toggleClass)("transfer_autoaccept_card","disabled",!(0,n.isChecked)("transfer_autoaccept"))},enableAutoaccept(){(0,n.isChecked)("transfer_autoaccept")||((0,n.checkbox)("transfer_autoaccept",!0),(0,p.removeClass)("transfer_autoaccept_card","disabled"))},showMoneyTransferBox:(e,t,r=void 0,n=null)=>(0,d.showBox)("al_payments.php",{...e,act:"money_transfer_box"},{...t,onDone(e,t){n?.(),cur.paymentsOptions=t,e.setOptions({width:510,bodyStyle:"padding: 0;",hideButtons:!0,onClean(){cur.moneyTranferCheckInt&&clearInterval(cur.moneyTranferCheckInt),nav.objLoc.z&&"moneysend"===nav.objLoc.z.substr(0,9)&&(delete nav.objLoc.z,nav.setLoc(nav.objLoc))}}),x.init()},onFail:r}),aboutBox:e=>!(0,d.showFastBox)({title:(0,I.getLang)("payments_money_transfer_about_title"),width:560},(0,I.getLang)(e)),showError(e,t){e&&((0,p.ge)("payments_box_error").innerHTML="",(0,E.showMsg)("payments_box_error",e,t||"error"),(0,p.show)("payments_box_error")),(0,p.ge)("payments_money_transfer_wrap")&&(x.resetSendBox(),cur.moneyTranferCheckInt&&(clearInterval(cur.moneyTranferCheckInt),cur.moneyTranferCheckInt=!1))},switchBoxSection(e,t){if(cur.paymentsOptions.boxTab!==t){if(e&&uiTabs.switchTab(e),"transfer"===cur.paymentsOptions.boxTab&&(0,p.isVisible)("payments_money_transfer_iframe")&&(x.resetSendBox(),cur.moneyTranferCheckInt&&(clearInterval(cur.moneyTranferCheckInt),cur.moneyTranferCheckInt=!1)),"transfer"===cur.paymentsOptions.boxTab&&cur.paymentsMoneyBoxTTHide&&cur.paymentsMoneyBoxTTHide(),"link"===cur.paymentsOptions.boxTab&&((0,p.hide)("payments_money_link_box"),(0,p.show)("payments_money_transfer_request_box"),x.hideMoneyLinksTooltip()),cur.paymentsOptions.boxTab=t,"link"===t)(0,p.hide)("payments_money_transfer_request_box"),(0,p.show)("payments_money_link_box"),x.hideMoneyLinksTooltip(),x.genQRCode(),x.showMoneyLinksTooltip();else{(0,p.val)("payments_money_transfer_summary",cur.paymentsOptions.boxSections[t].summary);const e=document.querySelector("#payments_money_transfer_send");D.FlatButton.setLabel(e,cur.paymentsOptions.boxSections[t].btn),(0,p.val)("payments_money_transfer_user_select_label",cur.paymentsOptions.boxSections[t].user_select_label),x.checkAmount((0,p.val)("transfer_amount"),!1,!0),"transfer"===t&&x.updateCardFee(!0)}(0,p.toggle)("payments_money_transfer_nf_warning","transfer"===t),(0,p.toggle)("payments_money_transfer_methods","transfer"===t),(0,p.toggle)("payments_money_transfer_vk_pay_offer","transfer"===t),x.renderSelectBox(),setTimeout(p.elfocus.pbind("transfer_amount"),100)}},genQRCode(){const e=(0,p.ge)("payments_money_transfer_qr");if(e.childNodes.length)return;const t={isShowLogo:!0,isShowBackground:!1,foregroundColor:L.default.colorTextPrimary.normal.value,logoColor:L.default.colorIconAccent.normal.value};(0,p.val)(e,R().createQR(cur.paymentsOptions.transferLink,115,"qr-code",t))},shareQRCode(){x.hideMoneyLinksTooltip(!0),(0,d.showBox)("like.php",{act:"publish_box",object:"moneysend"+vk.id+"_0",list:""})},downloadQRCode(){if(!cur.paymentsOptions.qrUrl)return!1;let e=(0,p.ce)("iframe",{src:cur.paymentsOptions.qrUrl});return utilsNode.appendChild(e),cur.qrFrame&&(0,p.re)(cur.qrFrame),cur.qrFrame=e,!1},hideLinkCopied(){(0,g.each)((0,p.geByClass)("_link_copied","payments_money_link_box"),p.hide.pbind(this))},copyLinkToClipboard(e){x.hideLinkCopied(),x.hideMoneyLinksTooltip(!0),e.select(),document.execCommand("copy");const t=(0,p.geByClass1)("_link_copied",(0,p.gpeByClass)("_link_wrap",e));(0,p.show)(t)},renderSelectBox(){if(!cur.uiTransferTo)return;const e="transfer"===cur.paymentsOptions.boxTab;cur.uiTransferTo.setData([]),cur.uiTransferTo.setOptions({autocomplete:!1}),cur.uiTransferTo.setData(cur.paymentsOptions.friends.filter((function(t){return e||!0===t[7]}))),cur.uiTransferTo.setOptions({autocomplete:!0}),cur.paymentsOptions.toId=null,cur.paymentsOptions.hash=null,cur.uiTransferTo.clear(),cur.uiTransferTo.deselectTokens(),(0,p.val)("payments_money_transfer_methods","")},updateImHistory(e,t,r){const n=(0,p.geByClass1)("_money_transfer"+t,e);if(!n)return;let a=(0,p.geByClass1)("_accept_btn",n);a&&((0,p.re)((0,p.geByClass1)("_decline_btn",(0,p.domPN)(a))),(0,p.domReplaceEl)(a,r))},initHistoryBox(e,t,r,s){let _=(0,p.ge)("ui_money_transfer_load_more");if(_){let c=(0,p.ge)("settings_transfer_history").tBodies[0];cur.userAutoScroll=new S.default(c,{offset:r,onNoMore:p.re.pbind(_),onNeedRows:(r,n)=>{let a={act:"money_transfer_history_box",offset:n,owner_id:e};t&&(a.request_id=t),s&&(a.hash=s),ajax.post("al_payments.php",a,{onDone:r})},drawRows:(e,t)=>{if(a.browser.msie){const r=(0,p.se)("<table>"+t+"</table>");t=(0,p.geByTag)("tr",r);for(let r in t)1==t[r].nodeType&&e.appendChild(t[r])}else e.insertAdjacentHTML("beforeEnd",t)},showProgress:()=>(0,n.lockButton)(_),hideProgress:()=>(0,n.unlockButton)(_),rowClass:"settings_history_row"})}},historyBox(){(0,d.showBox)("al_payments.php?act=money_transfer_history_box")},showMoneyLinksTooltip(){if(!cur.paymentsOptions.moneylinks_feature_tooltip||cur.moneyLinksTooltip)return;let e,t,r;(0,p.isVisible)("payments_money_link_box")?(e=(0,p.geByClass1)("payments_money_transfer_link_copy_btn","payments_money_link_box"),t=(0,I.getLang)("payments_money_link_btn_feature_text"),r={forceSide:"right",width:320,offset:[6,0]}):(e=(0,p.geByClass1)("ui_tab",(0,p.geByClass1)("_moneylink_tab","box_layer")),e&&(t=(0,I.getLang)("payments_money_link_tab_feature_text"),r={forceSide:"bottom",width:250,offset:[0,4]})),e&&setTimeout((function(){cur.moneyLinksTooltip=new ElementTooltip(e,(0,g.extend)({content:'<div class="feature_tooltip__close" onclick="cur.moneyLinksTooltip.hide();"></div>'+t,cls:"feature_intro_tt feature_info_tooltip moneylinks_feature_tooltip",autoShow:!1,noHideOnClick:!0,noAutoHideOnWindowClick:!0,appendTo:(0,p.geByClass1)("ui_tabs","box_layer"),onHide:x.hideMoneyLinksTooltip.pbind(!0)},r)),cur.moneyLinksTooltip.show(),cur.destroy.push(x.hideMoneyLinksTooltip)}),500)},hideMoneyLinksTooltip(e){e&&ajax.post("al_index.php",{act:"hide_feature_tt",hash:cur.paymentsOptions.moneylinks_feature_tooltip_hash,type:"moneylinks"}),cur.moneyLinksTooltip&&(cur.moneyLinksTooltip.destroy(),delete cur.moneyLinksTooltip)},showPinBox(){(0,p.addClass)((0,u.curBox)().bodyNode,"payments_box_code_showed"),(0,p.show)("payments_money_transfer_layer_bg","payments_money_transfer_code_box"),(0,g.each)((0,p.geByClass)("_code","payments_money_transfer_code_wrap"),(function(){(0,p.val)(this,"")})),(0,p.elfocus)("payments_code1"),(0,u.curBox)().changed=!0;const e=document.querySelector("#payments_money_transfer_send");e&&(e.style.pointerEvents="none",setTimeout((()=>{e.style.pointerEvents="auto"}),0))},hidePinBox(){(0,p.hide)("payments_money_transfer_layer_bg","payments_money_transfer_code_box"),(0,p.removeClass)((0,u.curBox)().bodyNode,"payments_box_code_showed"),(0,u.curBox)().changed=!1},checkVkPayOfferBox(){const e="payments_money_transfer_vk_pay_offer_box",t=!(0,n.isChecked)(e),r=document.querySelector("#payments_money_transfer_send");D.FlatButton.setDisabled(r,!t),(0,n.checkbox)(e)},onPinKeyUp(e){const t=e.target;if(8==e.keyCode){const e=(0,p.domPS)(t);if(e){const t=e.getAttribute("data-index");(0,p.val)(e,""),cur.paymentsOptions.vkpcode[t]="",cur.paymentsOptions.vkpcode[t-1]="",(0,p.elfocus)(e)}}},onPinEnter(e){const t=e.target;if(!(e.keyCode>=47&&e.keyCode<=57))return(0,l.cancelEvent)(e);{const r=t.getAttribute("data-index");cur.paymentsOptions.vkpcode||(cur.paymentsOptions.vkpcode=[]),cur.paymentsOptions.vkpcode[r-1]=e.key,(0,p.val)(t,String.fromCharCode(9679));const n=(0,p.domNS)(t);n?setTimeout(p.elfocus.pbind(n),10):setTimeout((function(){t.blur(),x.checkPin()}),10)}},onPinClick(e){const t=e.target,r=(0,p.domPS)(t);if(r&&!(0,p.val)(r))return(0,l.cancelEvent)(e)},checkPin(){const e=cur.paymentsOptions.vkpcode.join("");delete cur.paymentsOptions.vkpcode,(0,p.val)("payments_money_transfer_code_error",""),ajax.post("al_payments.php?act=a_check_vkpay_pin",{code:e,hash:cur.paymentsOptions.pinHash},{onDone:t=>{if(1==t)return(0,p.hide)((0,p.geByClass1)("_code_enter","payments_money_transfer_code_box")),void(0,p.show)((0,p.geByClass1)("_code_recover","payments_money_transfer_code_box"));x.hidePinBox(),x.send(!1,e)},onFail:e=>(e&&(0,p.val)("payments_money_transfer_code_error",e),(0,g.each)((0,p.geByClass)("_code","payments_money_transfer_code_wrap"),(function(){(0,p.val)(this,""),(0,n.notaBene)(this)})),(0,p.elfocus)("payments_code1"),!0),showProgress:function(){(0,p.hide)("payments_money_transfer_code_wrap"),(0,p.show)("payments_money_transfer_spinner")},hideProgress:function(){(0,p.hide)("payments_money_transfer_spinner"),(0,p.show)("payments_money_transfer_code_wrap")}})},onReceiveMethodChange(e,t,r){(0,n.radiobtn)(e,t,r),x.updateTransferType(e),x.updateCardFee(!0)},updateTransferType(e){void 0!==cur.paymentsOptions.forceType?cur.paymentsOptions.transferType=cur.paymentsOptions.forceType:parseInt(cur.uiTransferCard.val())===B?cur.paymentsOptions.transferType=U:cur.paymentsOptions.onlyCards?cur.paymentsOptions.transferType=0:(void 0===e&&(0,g.each)(radioBtns.receiveOptions.els,(function(){(0,p.hasClass)(this,"on")&&(e=this)})),void 0!==e&&(cur.paymentsOptions.transferType=(0,g.intval)((0,p.attr)(e,"data-type")))),x.checkAmount((0,p.val)("transfer_amount"),!1,!0)},updateCardFee(e){if(!cur.uiTransferCard||"request"===cur.paymentsOptions.boxTab)return;const t=(0,g.intval)((0,p.val)("transfer_amount")),r=x.getTransferLimit("minAmount"),n=(0,p.ge)("payments_money_transfer_to_card"),a=cur.uiTransferCard.val(),s=cur.paymentsOptions.cardsFee[a],_=0===cur.paymentsOptions.transferType,c=parseInt(a)===B||cur.paymentsOptions.forceType===k||cur.paymentsOptions.forceType===U,l=parseInt(a)!==B&&!cur.paymentsOptions.receiverVkpay||0===cur.paymentsOptions.forceType;let u=(0,I.getLang)("payments_transfer_without_fee"),d=(0,I.getLang)("payments_money_transfer_btn"),E=c?"payments_money_transfer_to_vkpay":"payments_money_transfer_to_card",m=l,A=0;if((0,p.toggleClass)(n,"disabled",c),(0,p.toggleClass)("payments_money_transfer_to_vkpay","disabled",l),0===parseInt(a))_&&(u=cur.paymentsOptions.mastercardPromoEnabled?(0,I.getLang)("payments_transfer_method_without_fee_for_mastercard"):(0,I.getLang)("payments_money_transfer_commission_undefined"));else if(parseInt(a)===B)m=!0;else if(_&&s&&(s.percent||s.vkPay&&s.vkPay.percent)){const e=s.free_amount_rest||0,r=s.free_amount_min||0;if(!e||t>e||r&&t<r){let r=t;t>e&&(r=t-e);const n=s.percent||0,a=s.min||0,_=s.add||0;A=r*n,A<a?A=a:A+=_,A=+(Math.round(A+"e+3")+"e-3"),A=+(Math.round(A+"e+2")+"e-2"),u=(0,I.langNumeric)(A,cur.paymentsOptions.cardsFeeStr,!0)}if(s.vkPay){const e=t+A,r=s.vkPay.percent||0,n=s.vkPay.min||0,a=s.vkPay.add||0;let _=e*r;_<n?_=n:_+=a,A=+(Math.round(A+_+"e+2")+"e-2"),_=+(Math.round(_+"e+2")+"e-2"),u=(0,I.langNumeric)(A,cur.paymentsOptions.cardsFeeStr,!0),u+=(0,I.langNumeric)(_,cur.paymentsOptions.cardsFeeVkPayStr,!0)}}!E||e&&!m||(0,p.ge)(E).classList.contains("on")||(0,p.ge)(E).click(),t>=r&&!(0,p.hasClass)("payments_money_transfer_amount_wrap","money_error")&&((0,p.val)("payments_money_transfer_notice",u),0===parseInt(a)&&_||(d=(0,I.langNumeric)(+(Math.round(t+A+"e+2")+"e-2"),cur.paymentsOptions.buttonAmountStr,!0)));const f=document.querySelector("#payments_money_transfer_send");D.FlatButton.setLabel(f,d)},isVKPayFillUpEnabled:()=>1==cur.paymentsOptions.vkpayFillUpEnabled,isVKPayTransfer:()=>parseInt(cur.paymentsOptions.transferType)===U,getBindCards:()=>cur.paymentsOptions.cards.filter((e=>{const t=parseInt(e[0]);return 0!==t&&t!==B})),hideFillUpCardSelection(){(0,p.hide)("payments_money_transfer_fill_up_cards")},showFillUpCardSelection(){(0,p.show)("payments_money_transfer_fill_up_cards")},isFillUpCardSelectionVisible:()=>(0,p.isVisible)("payments_money_transfer_fill_up_cards")}},584427:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{PaymentsBox:()=>PaymentsBox});var _icons_desktop__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(963251),_shared_evbus__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(338329),_shared_lib_browser__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(575753),_shared_lib_common__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(898848),_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(866467),_shared_lib_site__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(105330),_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(636576),_web_lib_accessibility__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(576854),_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(246429),_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(237625),_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(754866),_web_lib_dom_events__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(972332),_web_lib_feature_entries__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(458840),_web_lib_message_box__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(270959),_web_lib_tooltip_utils__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(342879),_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(683234),_web_lib_ui_util__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(560377),_web_lib_utils__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(449299),_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(593159),_web_payments_app_order_box__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(664822),_shared_apps_MiniAppsService_utils_getCurrentApp__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(670053),_web_lib_static_manager__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(406266);class PaymentsBox{static initHandlers(){(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_0__.tq)().setInteractiveHandler("PaymentsBox/ps_promo_banner_click",(e=>{(0,_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_5__.statlogsValueEvent)("payments_ps_promo_banner_event","","votes_buypage","relocate"),PaymentsBox.getVotesAmounts(!1,"spasibo",e.payload.target)})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_0__.tq)().setInteractiveHandler("PaymentsBox/save_phone_prefix_click",(e=>{(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.elfocus)((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.geByTag1)("input",e.payload.target.parentNode),0,0)})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_0__.tq)().setInteractiveHandler("PaymentsBox/save_phone_input",(e=>{13===e.payload.event.keyCode&&PaymentsBox.saveSmsPhone()})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_0__.tq)().setInteractiveHandler("PaymentsBox/get_votes_amounts",(e=>{PaymentsBox.getVotesAmounts(!1,e.payload.dataAttrs.name,e.payload.target)})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_0__.tq)().setInteractiveHandler("PaymentsBox/phone_code_input",(e=>{13===e.payload.event.keyCode&&PaymentsBox.smsSendCode()})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_0__.tq)().setInteractiveHandler("PaymentsBox/show_confirm_on_enter",(e=>{13===e.payload.event.keyCode&&PaymentsBox.showConfirm()})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_0__.tq)().setInteractiveHandler("PaymentsBox/show_confirm",(()=>{PaymentsBox.showConfirm()})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_0__.tq)().setInteractiveHandler("PaymentsBox/old_widebox_proceed_payment",(()=>{const e=cur.paymentsPreferVotes;PaymentsBox.isPaymentMethodForForeignCardEnabled()?PaymentsBox.showCardCountrySelect(e):PaymentsBox.showConfirm()})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_0__.tq)().setInteractiveHandler("PaymentsBox/show_types",(()=>{PaymentsBox.showTypes()})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_0__.tq)().setInteractiveHandler("PaymentsBox/show_terminal_tt",(e=>{PaymentsBox.paymentsShowTerminalTT(e.payload.target,e.payload.dataAttrs.name)})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_0__.tq)().setInteractiveHandler("PaymentsBox/show_phone_form",(()=>{PaymentsBox.showPhoneForm(2)})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_0__.tq)().setInteractiveHandler("PaymentsBox/show_phone_form_1",(()=>{PaymentsBox.showPhoneForm(1)})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_0__.tq)().setInteractiveHandler("PaymentsBox/show_all_prices",(e=>{PaymentsBox.showAllPrices(e.payload.target)})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_0__.tq)().setInteractiveHandler("PaymentsBox/change_option",(e=>{const{index:t,name:r}=e.payload.dataAttrs;PaymentsBox.onChangeOption(e.payload.target,t,r)})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_0__.tq)().setInteractiveHandler("PaymentsBox/focus_votes",(()=>{PaymentsBox.onChangeOption((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.geByClass1)("last","payments_getvotes_amounts"),4,"payments_getvotes_amounts")})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_0__.tq)().setInteractiveHandler("PaymentsBox/update_pay_amount",(e=>{PaymentsBox.updatePayAmount(e.payload.target)})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_0__.tq)().setInteractiveHandler("PaymentsBox/make_checkbox",(e=>{(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.checkbox)(e.payload.target)})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_0__.tq)().setInteractiveHandler("PaymentsBox/toggle_email",(e=>{PaymentsBox.toggleEmail(e.payload.target)})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_0__.tq)().setInteractiveHandler("PaymentsBox/pay_from_rf_selected",(e=>{(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.hide)("payments_getvotes_card_country_select"),PaymentsBox.showProgress(""),PaymentsBox.showConfirm(!0)})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_0__.tq)().setInteractiveHandler("PaymentsBox/pay_from_non_rf_selected",(e=>{(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.hide)("payments_getvotes_card_country_select");const{votesValue:t}=PaymentsBox.handleSelectedVotesAmount();PaymentsBox.showProgress(""),PaymentsBox.submitSomCheckout(t)}))}static initialize(e){PaymentsBox.initHandlers(),window.curNotifier&&curNotifier.idle_manager&&curNotifier.idle_manager.started&&((0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_2__.isArray)(cur.onUnidle)||(cur.onUnidle=[]),(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_2__.isArray)(cur.onIdle)||(cur.onIdle=[]),cur.onUnidle.push((()=>{cur.getVotesDoneHide=!0})),cur.onIdle.push((()=>{cur.getVotesDoneHide=!1})));let t={bodyStyle:"padding: 0;",hideButtons:!0};if(cur.paymentsWideBox){let e={width:cur.checkoutEnabled?800:780,height:390};cur.checkoutEnabled||(e.title=!1),t=(0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_17__.extend)(t,e)}else t=(0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_17__.extend)(t,{width:480});if(e.setOptions((0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_17__.extend)(t,{onClean:()=>{let t="sms"===cur.votesType&&(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.isVisible)("payments_box_progress");cur.smsChkStatInt&&clearInterval(cur.smsChkStatInt);for(let e in cur.paymentsWaitingCache)cur.paymentsWaitingCache[e][2]&&clearInterval(cur.paymentsWaitingCache[e][2]);cur.smsAmountsInt&&clearTimeout(cur.smsAmountsInt),cur.isPaymentsAppOrder&&(cur.isPaymentComplete||cur.isPaymentAttemted)?e.onDone?e.onDone():(e.hide(),_web_payments_app_order_box__WEBPACK_IMPORTED_MODULE_18__.AppOrderBox.processOrder(1,e)):cur.isPaymentsAppOrder&&!cur.paymentsCheckOrderCnt&&cur.paymentsOrderBillPeriod&&cur.onSubscriptionCancel?cur.onSubscriptionCancel():cur.isPaymentsAppOrder&&!cur.paymentsCheckOrderCnt&&cur.onAppOrderCancel?cur.onAppOrderCancel():cur.paymentsTryCompleteOrder&&(cur.isPaymentComplete||cur.isPaymentAttemted)&&e.onDone&&e.onDone(),PaymentsBox.removeCheckOffersEvent(),window.removeEventListener("message",PaymentsBox.frameMessage,!1),window.removeEventListener("message",PaymentsBox.handlePaymentCompleteMessage,!1),t&&(0,_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_7__.showDoneBox)((0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_get_votes_box_close_notice"),{out:6e3})},onDestroy:()=>{PaymentsBox.sendBillingAnalytics({action:"closeWindow"})}})),(cur.fromInstantPay||cur.paymentsAuthPayment)&&(e.onDone=!1),cur.votesBox=e,cur.destroy.push((()=>{for(;boxQueue.count();)boxQueue.hideLast(!1)})),cur.checkoutEnabled)if(cur.paymentsWideBox){const e=cur.paymentsPreferVotes;PaymentsBox.isPaymentMethodForForeignCardEnabled()?PaymentsBox.showCardCountrySelect(e):(PaymentsBox.showProgress(""),PaymentsBox.submitDmrCheckout(e,!0));let t=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_wide_box_close_btn");t&&(t.onclick=cur.votesBox.hide)}else(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)("payments_getvotes_cont"),window.radioBtns.payments_getvotes_amounts={els:Array.prototype.slice.apply((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.geByClass)("radiobtn",(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_getvotes_amounts")))},PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.onGetVotes);else cur.votesTypeInit&&(PaymentsBox.getVotesAmounts(!1,cur.votesTypeInit),cur.votesTypeInit=!1)}static getSomPaymentLink(e){return new Promise(((t,r)=>{const n=cur.psList.som_payment,a=(e*n.vote_cost).toFixed(2),s={act:"a_getvotes_charge",type:"som_payment",hash:cur.paymentsHash,amount:a,stat_session_id:cur.statSessionId,votes:e};ajax.post("al_payments.php",s,{onDone:function(e){t(e)},onFail:r})}))}static showCardCountrySelect(e){(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.hide)("payments_getvotes_cont"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.hide)("payments_getvotes_buttons");const t={};!cur.checkoutEnabled&&cur.paymentsWideBox||(t.height="auto"),cur.paymentsWideBox&&cur.checkoutEnabled?t.width=480:PaymentsBox.setButtons(!1,!1,(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_go_change_votes_amount"),PaymentsBox.showVotesAmounts),cur.votesBox.setOptions(t),PaymentsBox.showProgress(""),PaymentsBox.getSomPaymentLink(e).then((e=>{cur.somPaymentData=e,(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.hide)("payments_box_progress"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)("payments_getvotes_wrap"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)("payments_getvotes_card_country_select")})).catch((e=>{PaymentsBox.showBoxError(e)}))}static initPhoneCountry(e,t){cur.countries=e,cur.defCountry=t,cur.uiPhoneCountry=new Dropdown((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("phone_country"),cur.countries,{selectedItems:t,big:!0,autocomplete:!0,multiselect:!1,onChange:e=>{let t=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("phone"),r=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_phone_prefix"),n=cur.uiPhoneCountry.val_full()[3];if(0===e||"0"===e||""===e||!1===e||void 0===e){let e=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)(r);if(n==e)return;for(let t=0,r=cur.countries.length;t<r;++t)if(cur.countries[t][3]==e)return cur.uiPhoneCountry.val(cur.countries[t]);return cur.uiPhoneCountry.val(cur.defCountry,!0)}(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)(r,n),setTimeout(_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.elfocus.pbind(t),0)}}),cur.destroy.push(cur.uiPhoneCountry.destroy.bind(cur.uiPhoneCountry))}static initPhoneNumber(e){e&&["input","keydown","keyup","mousedown","mouseup","select","contextmenu","drop"].forEach((function(t){e.addEventListener(t,(e=>{const t=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.domClosestByTag)("input",e.target);t&&(t.value=t.value.replace(/\D/g,""))}))}))}static validateEmail(e){return e.length<64&&e.match(/^.{1,40}@.{1,40}$/)&&e.match(/^([a-z0-9_\-]{0,40}\.){0,10}[a-z0-9_\-*]{1,40}@(([a-z0-9][a-z0-9_\-]{0,40})?[a-z0-9]\.){1,6}[a-z]{2,7}$/i)}static getEmail(){let e=!1;if(cur.paymentsEmailCheckbox)if((0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.isChecked)(cur.paymentsEmailCheckbox)){if(e=(0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_17__.trim)((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)(cur.paymentsEmailInput)),!e)return(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.notaBene)(cur.paymentsEmailInput),""}else e="false";return e}static toggleEmail(e){"INPUT"===e.tagName&&(e=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.geByClass1)("checkbox",(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.domPN)(e)),(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.isChecked)(e))||((0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.checkbox)(e),(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.isChecked)(e)&&(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.elfocus)(cur.paymentsEmailInput))}static unbind(e,t,r,n){if((0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.isButtonLocked)("payments_getvotes_submit"))return;const a=cur.paymentsPreferVotes;if(!r){const r="card"==e?(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_unbind_card_confirm"):(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_revoke_token_confirm");return void(cur.confirmBox=(0,_web_lib_message_box__WEBPACK_IMPORTED_MODULE_12__.showFastBox)({title:(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("global_action_confirmation"),bodyStyle:"padding: 20px; line-height: 160%;"},r,(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_unbind_card_btn"),(()=>{PaymentsBox.unbind(e,t,!0)}),(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("global_cancel")))}const s={act:"a_del_instant_method",type:e,prefer_votes:n?-1:a,hash:t};cur.isPaymentsAppOrder&&cur.paymentsOrderAppId&&(s.aid=cur.paymentsOrderAppId),ajax.post("al_payments.php",s,{onDone:PaymentsBox.getVotesAmountsOnDone,onFail:function(e){return PaymentsBox.showBoxError(e),!0},showProgress:()=>{cur.confirmBox?cur.confirmBox.showProgress():(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.lockButton)("payments_getvotes_submit")},hideProgress:()=>{cur.confirmBox?cur.confirmBox.hide():(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.unlockButton)("payments_getvotes_submit")}})}static instantPay(){if((0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.isButtonLocked)("payments_getvotes_submit"))return;const e=(0,_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_7__.curBox)();if(cur.isPaymentAttemted=!0,cur.paymentsAuthPayment)return void e.hide();let t,r,n;if((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_getvotes_amounts")&&(cur.votesAmountsVal=(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.radioval)("payments_getvotes_amounts")),void 0===cur.votesAmountsData[cur.votesAmountsVal]){const e=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("votes_num")?parseInt((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("votes_num").value,10):0;if(!(e>0))return;cur._otherVotes=e,t=cur._otherAmount,r=cur._otherAmount,n=cur.votesAmountCustomTimeHash}else t=cur.votesAmountsData[cur.votesAmountsVal][2],r=cur.votesAmountsData[cur.votesAmountsVal][3],n=cur.votesAmountsData[cur.votesAmountsVal][4];let a={act:"a_getvotes_charge",type:cur.votesType,instant_pay:1,amount:t,order_amount:r,hash:n};cur.statSessionId&&(a.stat_session_id=cur.statSessionId),cur.isPaymentsAppOrder&&cur.paymentsOrderId&&(a.order_id=cur.paymentsOrderId,a.order_app_id=cur.paymentsOrderAppId,a.order_bill_period=cur.paymentsOrderBillPeriod,a.order_hash=cur.paymentsOrderHash),PaymentsBox.disablePaymentTypesRows(),ajax.post("al_payments.php",a,{onDone:(e,t,r,n)=>{PaymentsBox.setCurMidas(n),cur.smsChkStatCnt=0,cur.smsChkStatInt=setInterval((()=>{PaymentsBox.checkStatus(cur.votesType,e)}),2e3),PaymentsBox.showProgress&&PaymentsBox.showProgress()},onFail:e=>(PaymentsBox.showBoxError(e),!0),showProgress:_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.lockButton.pbind("payments_getvotes_submit"),hideProgress:_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.unlockButton.pbind("payments_getvotes_submit")})}static showAllPrices(e){return(0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_17__.each)((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.geByClass)("radiobtn",(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_getvotes_amounts")),((e,t)=>{(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)(t)})),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.re)(e),!1}static paymentsShowTerminalTT(e,t){let r="";cur.paymentsTooltips[t]&&(r+=cur.paymentsTooltips[t]),r&&(0,_web_lib_tooltip_utils__WEBPACK_IMPORTED_MODULE_13__.showTooltip)(e,{text:r,dir:"auto",slide:15,className:"payments_terminal_tt",shift:[-3,3],hasover:1})}static updatePayAmount(o){let v=o.value.replace(/[^0-9]/g,"");const i=(0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_17__.intval)(parseInt(v,10));v=i<1e4?i:parseInt(i.toString().substr(0,4),10),o.value!==v.toString()&&(o.value=v);let amount=0;if(cur.votesAmountsData.calcPayAmount){-1==cur.votesAmountsData.calcPayAmount.indexOf("return")&&(cur.votesAmountsData.calcPayAmount="return "+cur.votesAmountsData.calcPayAmount);const calcFunc="(function(votes){"+cur.votesAmountsData.calcPayAmount+";})("+v+")";try{amount=eval(calcFunc)}catch(e){(0,_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_8__.logEvalError)(e,calcFunc)}amount=amount?Math.ceil(100*amount)/100:0,amount=parseInt(amount,10)==amount?amount.toFixed(0):amount.toFixed(2),cur._otherAmount=amount,cur._otherVotes=v}const isBonusVotesDiscount=!!cur.votesAmountsData.calcBonusVotesForDiscount,isPriceDiscount=!!cur.votesAmountsData.calOriginalAmountForDiscount;let bonusElement=null;if(bonusElement=isBonusVotesDiscount?document.getElementById("personal_discount_bonus"):isPriceDiscount?document.getElementById("personal_discount_original_amount"):document.getElementById("payments_other_votes_bonus"),bonusElement&&(cur.votesAmountsData.bonusesTable||cur.votesAmountsData.calcBonusVotes||isBonusVotesDiscount||isPriceDiscount)){let bonus=0;if(cur.votesAmountsData.calcBonusVotes||isBonusVotesDiscount||isPriceDiscount){const calcFunc="(function(votes){"+(cur.votesAmountsData.calcBonusVotes||cur.votesAmountsData.calcBonusVotesForDiscount||cur.votesAmountsData.calOriginalAmountForDiscount)+";})("+v+")";try{bonus=eval(calcFunc)}catch(e){(0,_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_8__.logEvalError)(e,calcFunc)}}else for(let e in cur.votesAmountsData.bonusesTable)if(v>=e){const t=Math.floor(v*cur.votesAmountsData.bonusesTable[e]/e);t>bonus&&(bonus=t)}if(bonus)if(isBonusVotesDiscount)bonusElement.innerHTML=(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("apps_personal_discount_amount_gift_calc",bonus),bonusElement.style.display="block";else if(isPriceDiscount){let e="";e=cur.votesAmountsData.currency_str?bonus>0?(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.langNumeric)(bonus,cur.votesAmountsData.currency_str):"":bonus>0?(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_votes_cost_in_rubles",bonus):"",bonusElement.innerHTML=e,bonusElement.style.display="inline-block"}else bonusElement.innerHTML=(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_bonus_votes",bonus),bonusElement.style.display="inline-block";else(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.hide)(bonusElement)}if(cur.votesAmountsData.currency_str?(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("votes_amount").innerHTML=amount>0?(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.langNumeric)(amount,cur.votesAmountsData.currency_str):"":(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("votes_amount").innerHTML=amount>0?(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_votes_cost_in_rubles",amount):"",isPriceDiscount){const e=document.getElementById("votes_amount");e&&e.classList.add("payments_opt_gift")}}static onChangeOption(e,t,r){let n;if((0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.radiobtn)(e,t,r),"payments_getvotes_amounts"===r){const e=cur.votesAmountsData[t];if(e){cur.votesAmountsVal=t,n=(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_get_votes_for_X").replace("{amount}",e[1]),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)("votes_num",""),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)("votes_amount","");const r=document.getElementById("personal_discount_original_amount");r&&(r.style.display="none"),cur.paymentsEmailCheckbox&&(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.isChecked)(cur.paymentsEmailCheckbox)&&(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.elfocus)(cur.paymentsEmailInput)}else n=cur.payments_get_votes,(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.elfocus)("votes_num");cur.checkoutEnabled?PaymentsBox.setButtons(n,PaymentsBox.onGetVotes):PaymentsBox.setButtons(n,cur.votesAmountIsInstant||e&&e.length>=5?PaymentsBox.instantPay:PaymentsBox.onGetVotes,cur.paymentsChangeType,PaymentsBox.showTypes)}}static isPaymentMethodForForeignCardEnabled(){return cur.foreignCardPaymentOption}static onGetVotes(){const{votesValue:e,isCustomInput:t}=PaymentsBox.handleSelectedVotesAmount();if(void 0!==e||void 0!==t){if(PaymentsBox.isPaymentMethodForForeignCardEnabled()){const t=PaymentsBox.checkAmountFitsPsLimits(e,cur.checkoutEnabled?"dmr_checkout":"card"),r=PaymentsBox.checkAmountFitsPsLimits(e,"som_payment");return t&&r?void PaymentsBox.showBoxError(t):PaymentsBox.showCardCountrySelect(e)}return PaymentsBox.showConfirm()}}static setConfirmButtons(){if("card"!=cur.votesType&&cur.psList[cur.votesType]){const e=cur.paymentsWideBox?(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_back_to_ps_list"):(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_go_ps_list");let t=!cur.psList[cur.votesType].in_menu;cur.paymentsInstantPayType==cur.votesType?t?PaymentsBox.setButtons((0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_pay_order_btn"),PaymentsBox.instantPay,e,PaymentsBox.showPaySystemsList):PaymentsBox.setButtons((0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_pay_order_btn"),PaymentsBox.instantPay):t?PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.showConfirm,e,PaymentsBox.showPaySystemsList):PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.showConfirm)}else cur.checkoutEnabled?PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.onGetVotes):PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.onGetVotes,cur.paymentsChangeType,PaymentsBox.showTypes)}static popupWrite(e){return!(e.document.innerHTML==cur._popup_text||!cur._popup_text)&&(e.document.write(cur._popup_text),e.document.close(),e.blur(),e.focus(),cur._popup_callback&&cur._popup_callback(),!0)}static show3DsFrame(e,t){if(cur.threeds_submitted)return!0;cur.threeds_submitted=!0;let r=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_iframe_container"),n=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("cards_iframe");n||(n=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ce)("iframe",{id:"card_iframe",name:"card_iframe"},{border:0,height:"435px",width:r.parentNode.offsetWidth+"px",overflowX:"hidden",overflowY:"hidden"}),n.frameBorder=0,r.innerHTML="",r.appendChild(n));let a=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ce)("form",{target:"card_iframe",method:"POST",action:e});for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&a.appendChild((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ce)("input",{type:"hidden",name:e,value:t[e]}));r.appendChild(a),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.addClass)("payments_iframe_container",cur.checkoutEnabled?"payments_threeds_checkout_frame":"payments_threeds_frame"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)("payments_iframe_container"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.hide)("payments_box_progress"),a.submit()}static checkAmountFitsPsLimits(e,t){const r=cur.psList[t];let n=!1;return!!r&&(!e||e<=0?n=(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_web_no_sum"):r.min_amount&&e<r.min_amount?n=(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_min_amount_limit_votes").replace("%s",r.min_amount):r.max_amount&&e>r.max_amount?n=(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_max_amount_limit_votes").replace("%s",r.max_amount):void 0!==r.rest_amount_day&&e>r.rest_amount_day?n=(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_rest_amount_day_votes").replace("%s",r.rest_amount_day):void 0!==r.rest_amount_week&&e>r.rest_amount_week&&(n=(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_rest_amount_week_votes").replace("%s",r.rest_amount_week)),n)}static checkEmailValid(e){return""===e?((0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.unlockButton)("payments_getvotes_submit"),!1):!(e&&"false"!==e&&!PaymentsBox.validateEmail(e))||((0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.notaBene)(cur.paymentsEmailInput),PaymentsBox.showBoxError((0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_error_invalid_email")),!1)}static prepareCardPaymentIframe(){(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.removeClass)("payments_iframe_container","payments_threeds_checkout_frame");let e=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_iframe_container"),t=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ce)("iframe",{id:"card_iframe",name:"card_iframe"},{border:0,height:cur.isMidas?"560px":"435px",width:e.parentNode.offsetWidth+"px",overflowX:"hidden",overflowY:"hidden",display:"block",borderRadius:"0 0 4px 4px"});t.frameBorder=0,e.innerHTML="",e.style.height=t.style.height,e.appendChild(t)}static enableGetVotesCheckPolling(e,t){const r=cur.psList[t];cur.smsChkData=e,cur.isPaymentComplete=cur.isPaymentCanceled=cur.isPaymentFailed=!1,cur.smsChkStatCnt=0,cur.smsChkStatInt=setInterval((function(){PaymentsBox.checkStatus(t,e),r.use_iframe&&(cur.isPaymentCanceled||cur.isPaymentFailed)?(clearInterval(cur.smsChkStatInt),PaymentsBox.showVotesAmounts(),cur.isPaymentFailed?PaymentsBox.showBoxError((0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_landing_cancelled")):PaymentsBox.showBoxError((0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_payment_cancelled")),window.removeEventListener("message",PaymentsBox.frameMessage,!1)):cur.isPaymentComplete&&r.name!=t&&PaymentsBox.showTypes()}),2e3)}static submitDmrCheckout(e,t=!1){if((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.isVisible)("payments_box_progress")&&!t)return;(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.lockButton)("payments_getvotes_submit");const r=cur.psList.dmr_checkout,n=(e*r.vote_cost).toFixed(2),a=PaymentsBox.getEmail(),s=PaymentsBox.checkAmountFitsPsLimits(e,"dmr_checkout");if(s)return PaymentsBox.showBoxError(s),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)("payments_getvotes_buttons"),!1;if(!PaymentsBox.checkEmailValid(a))return!1;PaymentsBox.prepareCardPaymentIframe(),window.addEventListener("message",PaymentsBox.frameMessage,!1);let _=cur.votesType;!_&&cur.votesTypeInit&&(_=cur.votesTypeInit);const c={act:"a_getvotes_charge",type:"dmr_checkout",hash:cur.paymentsHash,amount:n,stat_session_id:cur.statSessionId,votes:e};_&&(c.pay_method=_),cur.paymentsAuthPayment&&(c.only_auth=1),a&&(c.email=a),cur.votesAmountsData.appoveCode&&(c.approve_code=cur.votesAmountsData.appoveCode),cur.isPaymentsAppOrder&&cur.paymentsOrderId&&(c.order_id=cur.paymentsOrderId,c.order_app_id=cur.paymentsOrderAppId,c.order_bill_period=cur.paymentsOrderBillPeriod,c.order_hash=cur.paymentsOrderHash),cur.votesAmountsData.purchaseDescr&&(c.purchase_descr=cur.votesAmountsData.purchaseDescr),PaymentsBox.trackingProtectionEnabled((function(){(0,_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_5__.statlogsValueEvent)("payments",0,"votes","dmr_checkout","iframe_track_protection_enabled")}),(function(){(0,_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_5__.statlogsValueEvent)("payments",0,"votes","dmr_checkout","iframe_track_protection_disabled")})),ajax.post("al_payments.php",c,{onDone:function(t,r,a,s){if(PaymentsBox.setCurMidas(s),!t)return;if(-2==t){const t=(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("global_money_amount_rub",Math.floor(n));return(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)("payments_getvotes_confirm_msg",r),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)("payments_box_votes_num",e),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)("payments_box_amount",t),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)("payments_box_votes_money",(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_money_for_votes",e).replace("{money}",t)),cur.votesAmountsData.resend_msg&&(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)("payments_getvotes_sms_resend",cur.votesAmountsData.resend_msg),cur.votesAmountsData.confirm_hash=a,(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)("confcode",""),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)("payments_box_confcode_wrap"),PaymentsBox.enablePaymentTypesRows(),void PaymentsBox.approveGetCode()}if((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.isVisible)("payments_getvotes_confirm")&&PaymentsBox.showVotesAmounts(),!cur.paymentsWideBox){const e=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_getvotes_submit");PaymentsBox.setButtons(e.innerHTML,PaymentsBox.showConfirm,(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("global_back"),PaymentsBox.showVotesAmounts)}cur._popup_text=r,cur._popup_callback=!1,cur._popup_callback=function(){(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.unlockButton)("payments_getvotes_submit"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.hide)("payments_getvotes_wrap","payments_getvotes_buttons","payments_box_progress","payments_box_error","payments_getvotes_card_country_select"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)("payments_iframe_container"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_iframe_container").scrollTop=0};let _=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("card_iframe");if(_.contentWindow.vk={pe:{}},_.contentWindow.document.open("text/html","replace"),_.contentWindow.document.write(r),_.contentWindow.document.close(),cur._popup_callback(),cur.isMidas){let e=_.closest(".popup_box_container");e&&(e.style.width="520px",e.style.minWidth="520px",e.style.height="auto");let t=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_iframe_container");if(t.style.width="520px",t.style.minHeight="560px",t.style.height=null,_.style.width="520px",_.style.minWidth="520px",_.style.minHeight="560px",_.style.height=null,document.body.attributes.scheme&&"vkcom_dark"==document.body.attributes.scheme.value&&e&&(e.querySelector(".box_title_wrap").style.backgroundColor="#19191a",e.querySelector(".box_body").style.backgroundColor="#19191a"),cur.isHideButtonBackAndText){let t=e.querySelector(".payments_box_summary");t&&(t.style.display="none")}}PaymentsBox.enableGetVotesCheckPolling(t,"dmr_checkout")},onFail:e=>((0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.isButtonLocked)("payments_getvotes_submit")&&!PaymentsBox.isPaymentMethodForForeignCardEnabled()||PaymentsBox.setConfirmButtons(),PaymentsBox.showBoxError(e),!0),frame:_shared_lib_browser__WEBPACK_IMPORTED_MODULE_1__.browser.safari_mobile})}static submitSomCheckout(e){const t=PaymentsBox.getEmail(),r=PaymentsBox.checkAmountFitsPsLimits(e,"som_payment");if(r)return PaymentsBox.showBoxError(r),void(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)("payments_getvotes_buttons");PaymentsBox.checkEmailValid(t)&&(window.open(cur.somPaymentData.payment_url,"_blank"),PaymentsBox.enableGetVotesCheckPolling(cur.somPaymentData,"som_payment"))}static submitCard(e){if((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.isVisible)("payments_box_progress")&&!PaymentsBox.isPaymentMethodForForeignCardEnabled())return;(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.lockButton)("payments_getvotes_submit");const t=cur.psList.card;let r=!1;const n=(e*t.vote_cost).toFixed(2);if(!e||e<=0?r=(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_web_no_sum"):t.min_amount&&e<t.min_amount?r=(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_min_amount_limit_votes").replace("%s",t.min_amount):t.max_amount&&e>t.max_amount?r=(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_max_amount_limit_votes").replace("%s",t.max_amount):null!=t.rest_amount_day&&e>t.rest_amount_day?r=(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_rest_amount_day_votes").replace("%s",t.rest_amount_day):null!=t.rest_amount_week&&e>t.rest_amount_week&&(r=(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_rest_amount_week_votes").replace("%s",t.rest_amount_week)),r)return PaymentsBox.showBoxError(r),!1;const a=PaymentsBox.getEmail();if(""===a)return(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.unlockButton)("payments_getvotes_submit"),!1;if(a&&"false"!==a&&!PaymentsBox.validateEmail(a))return(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.notaBene)(cur.paymentsEmailInput),PaymentsBox.showBoxError((0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_error_invalid_email")),!1;if(cur.votesAmountsData.needApprove){const t=(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("global_money_amount_rub",Math.floor(n));return(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)("payments_getvotes_confirm_msg",cur.votesAmountsData.needApprove),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)("payments_box_votes_num",e),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)("payments_box_amount",t),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)("payments_box_votes_money",(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_money_for_votes",e).replace("{money}",t)),cur.votesAmountsData.resend_msg&&(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)("payments_getvotes_sms_resend",cur.votesAmountsData.resend_msg),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)("confcode",""),delete cur.votesAmountsData.needApprove,(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)("payments_box_confcode_wrap"),void PaymentsBox.approveGetCode()}let s;if(PaymentsBox.disablePaymentTypesRows(),t.use_iframe){let e=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_iframe_container"),t=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ce)("iframe",{id:"card_iframe",name:"card_iframe"},{border:0,height:"435px",width:e.parentNode.offsetWidth+"px",overflowX:"hidden",overflowY:"hidden"});t.frameBorder=0,e.innerHTML="",e.appendChild(t),window.addEventListener("message",PaymentsBox.frameMessage,!1)}else{const e=`scrollbars=1, resizable=1, menubar=1, left=${0}, top=${0}, toolbar=1, status=1`;s=window.open("","_blank",e),cur._popup_text=PaymentsBox.popupHtml((0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_cards_redirect"),"",""),PaymentsBox.popupWrite(s)}const _={act:"a_getvotes_charge",type:"card",hash:cur.paymentsHash,amount:n,stat_session_id:cur.statSessionId};cur.paymentsAuthPayment&&(_.only_auth=1),a&&(_.email=a),cur.votesAmountsData.appoveCode&&(_.approve_code=cur.votesAmountsData.appoveCode),cur.isPaymentsAppOrder&&cur.paymentsOrderId&&(_.order_id=cur.paymentsOrderId,_.order_app_id=cur.paymentsOrderAppId,_.order_bill_period=cur.paymentsOrderBillPeriod,_.order_hash=cur.paymentsOrderHash),PaymentsBox.trackingProtectionEnabled((function(){(0,_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_5__.statlogsValueEvent)("payments",0,"votes","dmr","iframe_track_protection_enabled")}),(function(){(0,_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_5__.statlogsValueEvent)("payments",0,"votes","dmr","iframe_track_protection_disabled")})),ajax.post("al_payments.php",_,{onDone:function(r,a,_,c){if(PaymentsBox.setCurMidas(c),r){if(-2==r){t.use_iframe||s.close();const r=(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("global_money_amount_rub",Math.floor(n));return(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)("payments_getvotes_confirm_msg",a),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)("payments_box_votes_num",e),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)("payments_box_amount",r),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)("payments_box_votes_money",(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_money_for_votes",e).replace("{money}",r)),cur.votesAmountsData.resend_msg&&(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)("payments_getvotes_sms_resend",cur.votesAmountsData.resend_msg),cur.votesAmountsData.confirm_hash=_,(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)("confcode",""),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)("payments_box_confcode_wrap"),PaymentsBox.enablePaymentTypesRows(),void PaymentsBox.approveGetCode()}if((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.isVisible)("payments_getvotes_confirm")&&PaymentsBox.showVotesAmounts(),t.use_iframe||((0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.unlockButton)("payments_getvotes_submit"),PaymentsBox.showProgress()),cur._popup_text=a,cur._popup_callback=!1,t.use_iframe){cur._popup_callback=function(){(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.unlockButton)("payments_getvotes_submit"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.hide)("payments_getvotes_wrap","payments_getvotes_buttons","payments_box_progress","payments_box_error"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)("payments_iframe_container"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_iframe_container").scrollTop=0};let e=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("card_iframe");e.contentWindow.vk={pe:{}},e.contentWindow.document.open("text/html","replace"),e.contentWindow.document.write(a),e.contentWindow.document.close(),cur._popup_callback()}else s.document.open("text/html","replace"),s.document.write(a),s.document.close(),s.blur(),s.focus();cur.smsChkData=r,cur.isPaymentComplete=cur.isPaymentCanceled=cur.isPaymentFailed=!1,cur.smsChkStatCnt=0,cur.smsChkStatInt=setInterval((function(){PaymentsBox.checkStatus("card",r),!t.use_iframe&&s.closed?setTimeout((function(){cur.isPaymentComplete||(clearInterval(cur.smsChkStatInt),PaymentsBox.showBoxError((0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_payment_cancelled"),"info_msg"),PaymentsBox.setConfirmButtons())}),500):t.use_iframe&&(cur.isPaymentCanceled||cur.isPaymentFailed)?(clearInterval(cur.smsChkStatInt),PaymentsBox.showVotesAmounts(),cur.isPaymentFailed?PaymentsBox.showBoxError((0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_landing_cancelled")):PaymentsBox.showBoxError((0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_payment_cancelled")),window.removeEventListener("message",PaymentsBox.frameMessage,!1)):cur.isPaymentComplete&&"alfabank"!=t.name&&"dmr"!=t.name&&PaymentsBox.showTypes()}),2e3)}},onFail:function(e){return t.use_iframe||s.close(),(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.isButtonLocked)("payments_getvotes_submit")||PaymentsBox.setConfirmButtons(),PaymentsBox.showBoxError(e),!0},frame:_shared_lib_browser__WEBPACK_IMPORTED_MODULE_1__.browser.safari_mobile})}static trackingProtectionEnabled(e,t){let r=new XMLHttpRequest;r.open("GET","https://top-fwz1.mail.ru/counter2?id=1",!0),r.onreadystatechange=function(){200!==r.status?e():t(),r.onreadystatechange=null},r.send()}static submitPaymentSystem(e){if((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.isVisible)("payments_box_progress"))return;const t=cur.votesType,r=cur.psList[t];let n=!1,a=0,s=0,_=0,c=0;if(!r.simple_redirect){if(!e)return;a=(e*r.vote_cost).toFixed(2),s=(e*r.vote_cost/cur.usdRate).toFixed(2),_=Math.floor(a),c=100*(a-_),!e||e<=0?n=(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_web_no_sum"):r.min_amount&&e<r.min_amount?n=(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_min_amount_limit_votes").replace("%s",r.min_amount):r.max_amount&&e>r.max_amount?n=(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_max_amount_limit_votes").replace("%s",r.max_amount):null!=r.rest_amount_day&&e>r.rest_amount_day?n=(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_rest_amount_day_votes").replace("%s",r.rest_amount_day):null!=r.rest_amount_week&&e>r.rest_amount_week&&(n=(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_rest_amount_week_votes").replace("%s",r.rest_amount_week))}if(n)return PaymentsBox.showBoxError(n),!1;const l=PaymentsBox.getEmail();if(""===l)return;if(l&&"false"!==l&&!PaymentsBox.validateEmail(l))return void PaymentsBox.showBoxError((0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_error_invalid_email"));if(PaymentsBox.showProgress(),PaymentsBox.disablePaymentTypesRows(),"mailmoney_vkpay"===t){const e={act:"a_getvotes_charge",type:t,hash:cur.paymentsHash,amount:a,random_auth:0,stat_session_id:cur.statSessionId};ajax.post("al_payments.php",e,{onDone:(e,t,r,n)=>{PaymentsBox.setCurMidas(n);const a=(0,_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_7__.curBox)(),s={noLocChange:1,skipBoxesHide:1,noClickHide:1};cur.isPaymentsAppOrder?(0,_shared_apps_MiniAppsService_utils_getCurrentApp__WEBPACK_IMPORTED_MODULE_19__.getCurrentApp)().openAppInLayer(e,!1,!0,s):(0,_web_lib_feature_entries__WEBPACK_IMPORTED_MODULE_11__.showWiki)({w:e},!1,!1,s),a._hide(!1,!0),cur.onExternalAppDone=e=>{a._show(),e.status||(PaymentsBox.showBoxError((0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_payment_cancelled"),"info_msg"),PaymentsBox.setConfirmButtons(),clearInterval(cur.smsChkStatInt)),cur.onExternalAppDone=null,window.WkView&&WkView.hide(!1,!0)},cur.smsChkStatCnt=0,cur.smsChkStatInt=setInterval((function(){PaymentsBox.checkStatus(cur.votesType,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.data,null,a)}),2e3)},onFail:e=>(PaymentsBox.showBoxError(e),PaymentsBox.setConfirmButtons(),!0)})}else{if(cur.votesAmountsData.oauth_url&&(!(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_remember_wallet")||(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.isChecked)("payments_remember_wallet"))){const e=cur.votesAmountsData.oauth_params;let n="";for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)){n+=`<input type="hidden" autocomplete="off" name="${t}" value="${e[t]}"/>`}let s=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("paymentSystemsForm");s.action=cur.votesAmountsData.oauth_url,s.method="post",s.innerHTML=n;const _=cur.votesAmountsData.popup_params||{},c="_blank",u=_.width||700,d=_.height||600,p=`scrollbars=1, resizable=1, menubar=0, left=${Math.floor(window.screen.width/2)-u/2}, top=${Math.floor(window.screen.height/2)-d/2}, width=${u}, height=${d}`,E=(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payment_redirect").replace("%s",r.title),m=`<form action="${s.action}" method="${s.method}" id="popup_payment_form" accept-charset="UTF-8">${s.innerHTML}</form>`;cur._popup_text=PaymentsBox.popupHtml(E,m,"document.getElementById('popup_payment_form').submit()"),cur._popup_callback=!1,window.addEventListener("message",PaymentsBox.handlePaymentCompleteMessage,!1);let g=window.open("",c,p);cur.smsChkStatCnt=0,cur.oauthState=0;let A=0;return cur.smsChkStatInt=setInterval((function(){if(2==cur.oauthState)PaymentsBox.checkStatus(cur.votesType,cur.smsChkData);else if(0==cur.oauthState&&(A=cur.isPaymentComplete&&cur.paymentCompleteParams&&cur.paymentCompleteParams.code?cur.paymentCompleteParams.code:0,A)){cur.oauthState=1;let e={act:"a_getvotes_charge",type:t,oauth_code:A,hash:cur.paymentsHash,amount:a,stat_session_id:cur.statSessionId};return cur.paymentsAuthPayment&&(e.only_auth=1),l&&(e.email=l),void ajax.post("al_payments.php",e,{onDone:(e,t,r,n)=>{PaymentsBox.setCurMidas(n),cur.oauthState=2,cur.smsChkData=e},onFail:e=>(clearInterval(cur.smsChkStatInt),PaymentsBox.showBoxError(e),PaymentsBox.setConfirmButtons(),!0)})}(g.closed&&!cur.isPaymentComplete||cur.isPaymentComplete&&!A)&&(clearInterval(cur.smsChkStatInt),cur.isPaymentComplete?PaymentsBox.showBoxError((0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_sms_money_fail")):PaymentsBox.showBoxError((0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_payment_cancelled"),"info_msg"),PaymentsBox.setConfirmButtons())}),2e3),void PaymentsBox.popupWrite(g)}if(cur.votesAmountsData.provider&&-1!==["dmr","paypal","yandexmoney","api_provider"].indexOf(cur.votesAmountsData.provider)){const e=(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payment_redirect").replace("%s",r.title);let n,s={act:"a_getvotes_charge",type:t,hash:cur.paymentsHash,amount:a,random_auth:0,stat_session_id:cur.statSessionId};if(l&&(s.email=l),"paypal"===cur.votesAmountsData.provider||"yandexmoney"===cur.votesAmountsData.provider){let e;if((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_remember_wallet")?(s.remember_wallet=(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.isChecked)("payments_remember_wallet")||cur.forceRebind,cur.forceRebind&&(cur.forceRebind=!1)):s.remember_wallet=1,s.remember_wallet){const t=cur.votesAmountsData.popup_params||{},r=t.width||700,n=t.height||600;e=`scrollbars=1, resizable=1, menubar=0, left=${Math.floor(window.screen.width/2)-r/2}, top=${Math.floor(window.screen.height/2)-n/2}, width=${r}, height=${n}`}else{e=`scrollbars=1, resizable=1, menubar=1, left=${0}, top=${0}, toolbar=1, status=1`}n=s.remember_wallet?window.open("","",e):window.open("","_blank",e);const t=(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payment_redirect").replace("%s",r.title);cur._popup_text=PaymentsBox.popupHtml(t,"",""),PaymentsBox.popupWrite(n)}ajax.post("al_payments.php",s,{onDone:function(t,r,a,s){if(PaymentsBox.setCurMidas(s),!t)return;let _="api_provider"!==cur.votesAmountsData.provider;cur.canOpenPopup=_;let c=!_;PaymentsBox.checkStatusCallback=t=>{if("paypal"===cur.votesAmountsData.provider||"yandexmoney"===cur.votesAmountsData.provider){if(n&&!n.closed&&!c){c=!0;let r=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("paymentSystemsForm");r.action=t.action,r.method="get";let a="";for(let e in t.params)if(Object.prototype.hasOwnProperty.call(t.params,e)){a+=`<input type="hidden" autocomplete="off" name="${e}" value="${t.params[e]}"/>`}r.innerHTML=a;let s=`<form action="${r.action}" method="${r.method}" id="popup_payment_form" accept-charset="UTF-8">${r.innerHTML}</form>`;cur._popup_text=PaymentsBox.popupHtml(e,s,"document.getElementById('popup_payment_form').submit()"),PaymentsBox.popupWrite(n)}(n.closed&&!cur.isPaymentComplete||cur.isPaymentComplete)&&(clearInterval(cur.smsChkStatInt),PaymentsBox.showBoxError(cur.isPaymentComplete?(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_sms_money_fail"):(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_payment_cancelled")),PaymentsBox.setConfirmButtons())}else cur._popup||(cur._popup=window.open("","_blank"))},cur.smsChkData=t,cur.smsChkStatCnt=0,cur.smsChkStatInt=setInterval((()=>{PaymentsBox.checkStatus(cur.votesType,t)}),2e3)},onFail:function(e){return(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.isButtonLocked)("payments_getvotes_submit")||PaymentsBox.setConfirmButtons(),PaymentsBox.showBoxError(e),!0}})}else{if(!cur.isAdsPayment){const t={act:"a_getvotes_invoice",type:cur.votesType,amount:a,votes:e,invoice_hash:cur.votesAmountsData.invoice_hash,stat_session_id:cur.statSessionId};ajax.post("al_payments.php",t)}let n=r.gate_params,u="",d=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("paymentSystemsForm"),p=(new Date).getTime();for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t)){let r=n[t];r=r.replace("{amount_votes}",e),r=r.replace("{amount_rub}",a),r=r.replace("{amount_usd}",s),r=r.replace("{amount_rub_int}",_),r=r.replace("{amount_rub_frac}",c),r=r.replace("{time}",p),u+=`<input type="hidden" autocomplete="off" name="${t}" value="${r}"/>`}let E=r.gate_url;E=E.replace("{time}",p),E=E.replace("{amount_votes}",e),E=E.replace("{amount_rub}",a),E=E.replace("{amount_usd}",s),E=E.replace("{amount_rub_int}",_),E=E.replace("{amount_rub_frac}",c),d.action=E,d.method=r.gate_method,d.innerHTML=u;const m="_blank",g=`scrollbars=1, resizable=1, menubar=1, left=${0}, top=${0}, toolbar=1, status=1`;let A=!1;try{const n=(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payment_redirect").replace("%s",r.title),_=`<form action="${d.action}" method="${d.method}" id="popup_payment_form" accept-charset="${r.gate_charset}">${d.innerHTML}</form>`;cur._popup_text=PaymentsBox.popupHtml(n,_,`Payments.submitPopupForm("${t}", "${e}", "${a}", "${s}")`),cur._popup_callback=!1,A=window.open("",m,g),(0,_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_5__.statlogsValueEvent)("payments","","votes",t,"start"),cur.smsChkData=!1,cur.isPaymentComplete=!1,cur.smsChkStatCnt=0,cur.smsChkStatInt=setInterval((function(){PaymentsBox.checkStatus(cur.votesType,!1),A.closed&&!cur.isPaymentComplete&&(clearInterval(cur.smsChkStatInt),PaymentsBox.showBoxError((0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_payment_cancelled"),"info_msg"),r.simple_redirect?PaymentsBox.setButtons(!1,!1,cur.paymentsChangeType,PaymentsBox.showTypes):PaymentsBox.setConfirmButtons())}),2e3),PaymentsBox.popupWrite(A)}catch(e){d.submit()}l&&ajax.post("al_payments.php",{act:"a_set_receipt_email",email:l,hash:cur.paymentsHash},{onFail:e=>!0})}}}static approveSendCode(){const e=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("confcode").value;if(!e.length)return void(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.notaBene)("confcode");(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.hide)("payments_box_error");let t=0;for(let r=0;r<e.length;r++)t+=parseInt(e[r]);if(t%=10,t!=cur.votesAmountsData.approveCodeChk)return PaymentsBox.showBoxError((0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_invalid_code")),void(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.notaBene)("confcode");cur.votesAmountsData.appoveCode=e,PaymentsBox.showConfirm()}static approveGetCode(e){(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.lockButton)("payments_getvotes_submit");let t={act:"a_getvotes_approve_code",hash:cur.votesAmountsData.confirm_hash};return e&&(t.resend=1),ajax.post("al_payments.php",t,{onDone:function(t,r){(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.unlockButton)("payments_getvotes_submit"),1==t?PaymentsBox.showBoxError(r):e||(cur.votesAmountsData.approveCodeChk=r,PaymentsBox.refreshBox(),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)("payments_getvotes_confirm"),PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.approveSendCode,cur.paymentsChangeType,cur.checkoutEnabled?PaymentsBox.showVotesAmounts:PaymentsBox.showTypes))},onFail:function(e){return PaymentsBox.showBoxError(e),PaymentsBox.setConfirmButtons(),!0}}),!1}static smsSendPin(){if(null==cur.votesAmountsVal)return!1;const e=cur.votesAmountsData[cur.votesAmountsVal][3],t=cur.votesAmountsData[cur.votesAmountsVal][2];if(4!=e&&8!=t&&(2!=e||5!=t))return!1;const r=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("confcode").value;r.length&&((0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.lockButton)("payments_getvotes_submit"),ajax.post("al_payments.php",{act:"a_getvotes_validate",code:r,oid:cur.votesAmountsData[cur.votesAmountsVal][3],qid:cur.smsChkData.qid,hash:cur.smsChkData.hash},{onDone:function(){(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.unlockButton)("payments_getvotes_submit"),PaymentsBox.showProgress(),cur.smsChkStatCnt=0,cur.smsChkStatInt=setInterval(PaymentsBox.checkStatus.pbind("sms",cur.smsChkData),2e3)},onFail:function(e){return PaymentsBox.showBoxError(e),!0}}))}static smsSendCode(){if("card"===cur.votesType)return!1;if(null!=cur.votesAmountsVal){const e=cur.votesAmountsData[cur.votesAmountsVal][3],t=cur.votesAmountsData[cur.votesAmountsVal][2];if(4==e||8==t||2==e&&5==t)return PaymentsBox.smsSendPin()}const e=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("confcode").value;e.length?((0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.lockButton)("payments_getvotes_submit"),ajax.post("al_payments.php",{act:"a_getvotes_validate",pid:cur.votesAmountsVal,code:e,hash:cur.votesAmountsData[cur.votesAmountsVal].hash},{onDone:function(e){(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.unlockButton)("payments_getvotes_submit"),e&&3==cur.votesAmountsData[cur.votesAmountsVal][2]?PaymentsBox.getVotesCharge(!1,!0):e&&PaymentsBox.getVotesCharge()},onFail:function(e){return PaymentsBox.showBoxError(e),!0}})):(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.notaBene)("confcode")}static smsGetCode(e){(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.lockButton)("payments_getvotes_submit");let t={act:"a_getvotes_validate",hash:cur.votesAmountsData[cur.votesAmountsVal].hash,pid:cur.votesAmountsVal};e&&(t.resend=1),ajax.post("al_payments.php",t,{onDone:function(e,t){(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.unlockButton)("payments_getvotes_submit"),2==e?(PaymentsBox.showBoxError(t,"ok_msg"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.elfocus)("confcode")):e&&3==cur.votesAmountsData[cur.votesAmountsVal][2]?PaymentsBox.getVotesCharge(!1,!0):e?PaymentsBox.getVotesCharge():(PaymentsBox.refreshBox(),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)("payments_getvotes_confirm"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.elfocus)("confcode"),cur.paymentsWideBox?PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.smsSendCode,(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_change_phone_number"),PaymentsBox.showPhoneForm):PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.smsSendCode,cur.paymentsChangeType,PaymentsBox.showTypes))},onFail:function(e){return PaymentsBox.showBoxError(e),PaymentsBox.setConfirmButtons(),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.elfocus)("confcode"),!0}})}static confirmPinCode(){const e=(0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_17__.trim)((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("confcode").value);if(!e.length)return void(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.notaBene)("confcode");let t={act:"a_getvotes_confirm_pin",hash:cur.updateTnxHash,ps:cur.votesType,qid:cur.smsChkData.qid,pin:e};PaymentsBox.showProgress(),ajax.post("al_payments.php",t,{onDone:function(){cur.smsChkStatInt=setInterval((()=>{PaymentsBox.checkStatus(cur.votesType,cur.smsChkData)}),2e3)},onFail:function(e){PaymentsBox.refreshBox(),PaymentsBox.showBoxError(e)}})}static checkPinKeyPress(e){if((e=e||window.event).ctrlKey||e.altKey||e.metaKey)return;let t=null;return null===e.which&&e.keyCode>=32?t=String.fromCharCode(e.keyCode):0!==e.which&&0!==e.charCode&&e.which>=32&&(t=String.fromCharCode(e.which)),null!==t?!(t<"0"||t>"9")&&void 0:void 0}static fillBDay(){let params={act:"a_getvotes_fill_bday"};ajax.post("al_payments.php",params,{onDone:function(js){if(js)try{eval(js)}catch(e){(0,_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_8__.logEvalError)(e,js)}}})}static showOffer(e){let t={act:"a_getvotes_offer",offer_id:e,offer_aid:cur.paymentsOfferApp||0,app_currency:cur.offersAppCurrency||0};const r=(0,_shared_apps_MiniAppsService_utils_getCurrentApp__WEBPACK_IMPORTED_MODULE_19__.getCurrentApp)();r?.options&&(t.aid=r.options.aid),cur.paymentsOfferPreview&&(t.offer_view=cur.paymentsOfferPreview),ajax.post("al_payments.php",t,{onDone:PaymentsBox.offerOnLoad,onFail:e=>(e&&(PaymentsBox.showBoxError(e),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.hide)("payments_getvotes_wrap")),!0)})}static showNextOffers(e){let t={act:"a_getvotes_amounts",type:"offers",offset:cur.offersOffset,app_currency:cur.offersAppCurrency,hash:cur.paymentsHash};const r=(0,_shared_apps_MiniAppsService_utils_getCurrentApp__WEBPACK_IMPORTED_MODULE_19__.getCurrentApp)();r?.options&&(t.isAppOrder=cur.paymentsOfferApp?1:0,t.aid=r.options.aid),ajax.post("al_payments.php",t,{onDone:function(t,r){r&&(t||(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.re)(e),cur.offersOffset+=20,(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_offers_wrap").innerHTML+=r,PaymentsBox.checkOffers())},showProgress:()=>(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.lockButton)(e),hideProgress:()=>(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.unlockButton)(e)})}static handleSelectedVotesAmount(){cur.votesAmountsVal=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_getvotes_amounts")?(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.radioval)("payments_getvotes_amounts"):0;const e=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("votes_num")?parseInt((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("votes_num").value,10):0;if(void 0===cur.votesAmountsVal)return{votesValue:void 0,isCustomInput:void 0};const t=void 0===cur.votesAmountsData[cur.votesAmountsVal];if(t&&(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("votes_num")&&!e)return(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.notaBene)("votes_num"),{votesValue:void 0,isCustomInput:!0};return{votesValue:t?e:cur.votesAmountsData[cur.votesAmountsVal][0],isCustomInput:t}}static showConfirm(e=!1){const{votesValue:t,isCustomInput:r}=PaymentsBox.handleSelectedVotesAmount();if(void 0===t&&void 0===r)return;let n=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_spasibo_rules_accept");if(n&&!(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.isChecked)(n)){let e={text:(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_spasibo_rules_not_accepted"),dir:"auto",className:"payments_terminal_tt",hasover:1};return cur.paymentsWideBox&&(e=(0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_17__.extend)(e,{shift:[-30,10]})),void(0,_web_lib_tooltip_utils__WEBPACK_IMPORTED_MODULE_13__.showTooltip)(n,e)}if((0,_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_7__.curBox)().changed=!0,"sms"===cur.votesType){cur.isResetCheckedMaxSmsVotesValue&&((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_getvotes_confirm_msg").innerHTML=cur.votesAmountsData.confirm_msg_again,cur.isResetCheckedMaxSmsVotesValue=!1);const e=cur.votesAmountsData.confirm_type;if(2==e&&null!=cur.votesAmountsData.checked_max_sms_votes_val&&(cur.votesAmountsVal=cur.votesAmountsData.checked_max_sms_votes_val,cur.votesAmountsData.checked_max_sms_votes_val=0,cur.isResetCheckedMaxSmsVotesValue=!0),r){if(!e)return void PaymentsBox.getVotesCharge(t,!0);cur.votesAmountsData[-1]=[t,(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("global_money_amount_rub",cur._otherAmount),cur.votesAmountsData[0][2],0],cur.votesAmountsVal=-1}void 0===t&&r&&(cur.votesAmountsVal=0);const n=cur.votesAmountsData[cur.votesAmountsVal][0],a=cur.votesAmountsData[cur.votesAmountsVal][1],s=cur.votesAmountsData[cur.votesAmountsVal][2],_=cur.votesAmountsData[cur.votesAmountsVal][3],c=cur.votesAmountsData[cur.votesAmountsVal][6];if(0==s){cur.smsChkData={oid:_,qid:0,hash:cur.votesAmountsData.check_hash};let e=(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_to_get_send_sms",n);cur.paymentsWideBox||(e+=`<br/>${(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_service_cost")}`);const t=cur.votesAmountsData[cur.votesAmountsVal];if(e=e.replace("{number}",cur.votesAmountsData[cur.votesAmountsVal][4]),e=e.replace("{text}",`<nobr>${cur.votesAmountsData[cur.votesAmountsVal][5]}${vk.id}</nobr>`),e=e.replace("{amount}",cur.votesAmountsData[cur.votesAmountsVal][1]),t.invoice_hash&&cur.statSessionId){PaymentsBox.showWaiting("");const r={act:"a_getvotes_invoice",type:cur.votesType,oid:_,votes:n,invoice_hash:t.invoice_hash,stat_session_id:cur.statSessionId};ajax.post("al_payments.php",r,{onDone:function(){(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_getvotes_waiting_msg").innerHTML=e},onFail:function(e){return clearInterval(cur.smsChkStatInt),PaymentsBox.needContinue=0,(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.isVisible)("payments_getvotes_waiting")||(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.isVisible)("payments_getvotes_confirm")?PaymentsBox.showVotesAmounts():PaymentsBox.setButtons(cur.payments_get_votes,(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.isVisible)("payments_getvotes_confirm")?PaymentsBox.getVotesCharge:PaymentsBox.showConfirm,cur.paymentsChangeType,PaymentsBox.showTypes),PaymentsBox.showBoxError(e),!0}})}else PaymentsBox.showWaiting(e)}else if(5==s||6==s||8==s)PaymentsBox.getVotesCharge();else if(7==s){PaymentsBox.getVotesCharge(),cur._popup_text=PaymentsBox.popupHtml((0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_cards_redirect"),"",""),cur._popup_callback=!1,cur._popup_href=!1;const e="/payments?act=go_gate&type=sms",t=Math.floor(window.screen.width/2)-350,r=Math.floor(window.screen.height/2)-300;(0,_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_8__.debugLog)(e),cur._popup=window.open(e,"_blank",`scrollbars=1, resizable=1, menubar=0, left=${t}, top=${r}, width=700, height=600`)}else if(1!=s&&4!=s&&1!=e)PaymentsBox.getVotesCharge(!1,!0);else{if((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)("payments_box_votes_num",n),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)("payments_box_amount",a),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)("payments_box_votes_money",c),3==_&&(PaymentsBox.checkStatusCallback=function(e){cur.isResetCheckedMaxSmsVotesValue=!1,cur.checkedMaxVotes=e,PaymentsBox.getVotesAmounts(!0)}),2==e&&n<=cur.votesAmountsData.confirm_max_votes){if(cur.paymentsWideBox)return void PaymentsBox.getVotesCharge();(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.hide)("payments_box_confcode_wrap"),PaymentsBox.refreshBox(),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)("payments_getvotes_confirm"),PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.getVotesCharge,(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("global_back"),PaymentsBox.showVotesAmounts)}else(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)("payments_box_confcode_wrap"),PaymentsBox.smsGetCode();cur.votesAmountsData.resend_msg&&(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)("payments_getvotes_sms_resend",cur.votesAmountsData.resend_msg),cur.votesAmountsData.confirm_wait_comment&&cur.votesAmountsData.confirm_wait_comment[_]?((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)("payments_getvotes_confirm_comm",cur.votesAmountsData.confirm_wait_comment[_]),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)("payments_getvotes_confirm_comm_wrap")):((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_getvotes_confirm_comm").innerHTML="",(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.hide)("payments_getvotes_confirm_comm_wrap"))}}else cur.checkoutEnabled?PaymentsBox.submitDmrCheckout(t,e):"card"===cur.votesType?PaymentsBox.submitCard(t):PaymentsBox.submitPaymentSystem(t)}static offerOnLoad(html,js){(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.unlockButton)("payments_getvotes_submit"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.hide)("payments_offers_list");let offerView=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_offer_view");if(offerView){offerView.innerHTML=html,(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)(offerView);try{eval(js)}catch(e){(0,_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_8__.logEvalError)(e,js)}}}static showWaiting(e){const t=cur.votesAmountsData[cur.votesAmountsVal]?cur.votesAmountsData[cur.votesAmountsVal][3]:0;(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_getvotes_waiting_msg").innerHTML=e,t&&cur.votesAmountsData.confirm_wait_comment&&cur.votesAmountsData.confirm_wait_comment[t]?((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_getvotes_waiting_comm").innerHTML=cur.votesAmountsData.confirm_wait_comment[t],(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)("payments_getvotes_waiting_comm")):((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_getvotes_waiting_comm").innerHTML="",(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.hide)("payments_getvotes_waiting_comm")),PaymentsBox.refreshBox(),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)("payments_getvotes_waiting"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.hide)("payments_getvotes_buttons"),cur.paymentsWideBox&&cur.votesAmountsData[cur.votesAmountsVal]&&cur.votesAmountsData[cur.votesAmountsVal][7]?((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_getvotes_waiting_amount").innerHTML=cur.votesAmountsData[cur.votesAmountsVal][6],(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_getvotes_waiting_phone").innerHTML=cur.votesAmountsData[cur.votesAmountsVal][7],(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)("payments_getvotes_waiting_mo")):(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.hide)("payments_getvotes_waiting_mo"),delete cur.paymentsWaitingCache[cur.votesType],cur.smsChkStatInt&&clearInterval(cur.smsChkStatInt),cur.smsChkStatCnt=0,cur.smsChkStatInt=setInterval(PaymentsBox.checkStatus.pbind(cur.votesType,cur.smsChkData),2e3)}static showPhoneForm(e,t){(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.geByClass1)("_msg","payments_getvotes_phone").innerHTML=t||(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_get_votes_input_phone"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("phone").value="",PaymentsBox.refreshBox(),t&&cur.paymentsWideBox?PaymentsBox.setButtons((0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_save_phone"),PaymentsBox.saveSmsPhone):PaymentsBox.setButtons((0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_save_phone"),PaymentsBox.saveSmsPhone,(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("global_back"),2==e?PaymentsBox.getVotesAmounts:e?PaymentsBox.showVotesAmounts:PaymentsBox.showTypes),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)("payments_getvotes_phone");const r=cur.uiPhoneCountry.container;if("spasibo"===cur.votesType)(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.hide)(r),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)("payments_phone_prefix","+79");else{const e=cur.uiPhoneCountry.selectedItems();if(e.length>0)(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)("payments_phone_prefix",e[0][3]);else for(let e=0,t=cur.countries.length;e<t;++e)cur.countries[e][0]==cur.defCountry&&(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)("payments_phone_prefix",cur.countries[e][3]);(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)(r)}return cur.paymentsBoxClass=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_box").className,(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.addClass)("payments_box","payments_phone_form"),!1}static showPaySystemsList(){return PaymentsBox.refreshBox(),cur.paymentsWideBox&&((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_getvotes_title").innerHTML=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_ps_list_title_header").innerText),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)("payments_getvotes_ps","payments_votes_vkpay_promo_banner"),cur.votesType=!1,PaymentsBox.setButtons(!1,!1,cur.paymentsChangeType,PaymentsBox.showTypes),!1}static showVotesAmounts(){return PaymentsBox.refreshBox(),cur.checkoutEnabled?PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.onGetVotes):"card"!==cur.votesType&&cur.psList[cur.votesType]&&!cur.psList[cur.votesType].in_menu?PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.showConfirm,(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_go_ps_list"),PaymentsBox.showPaySystemsList):PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.onGetVotes,cur.paymentsChangeType,PaymentsBox.showTypes),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)("payments_getvotes_cont","payments_getvotes_wrap","payments_getvotes_buttons"),cur.paymentsWideBox&&cur.paymentsOrderNotice&&((0,_web_lib_ui_util__WEBPACK_IMPORTED_MODULE_15__.showMsg)("payments_box_error",cur.paymentsOrderNotice,"info_msg",null),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)("payments_box_error")),(0,_web_lib_accessibility__WEBPACK_IMPORTED_MODULE_6__.updateAriaElements)(),delete cur.votesAmountsData.appoveCode,!1}static showTypes(){if(cur.paymentsWideBox)return PaymentsBox.showVotesAmounts(),!1;if(PaymentsBox.refreshBox(),cur.votesAmountsVal=void 0,cur.votesAmountsData=[],(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.hide)("payments_getvotes_buttons"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)("payments_getvotes_method","payments_votes_vkpay_promo_banner"),cur.paymentBoxTitle){(0,_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_7__.curBox)().setOptions({title:cur.paymentBoxTitle})}return!1}static setButtons(e,t,r,n){if(!cur.paymentsWideBox||e){if(e){let r=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_getvotes_submit");r&&(r.innerHTML=e,r.onclick=t,r.dataset.taskClick="",(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)(r,"payments_getvotes_buttons"))}else(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.hide)("payments_getvotes_buttons");if(cur.paymentsWideBox){let e=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_getvotes_back");e&&(e.innerHTML="",r&&e.appendChild((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ce)("div",{className:"button",innerHTML:r,onclick:n,"data-task-click":""})))}else{let e=(0,_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_7__.curBox)();e&&(cur.paymentBoxTitle||(cur.paymentBoxTitle=e.getOptions().title),r?((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.geByClass1)("box_title",e.titleWrap).innerHTML=`<div class="back"><span class="back__icon">${(0,_icons_desktop__WEBPACK_IMPORTED_MODULE_21__.getIcon24BrowserBack)().icon}</span>${(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_box_title_back")}</div>`,(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.geByClass1)("back",e.titleWrap).onclick=n,(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.geByClass1)("back",e.titleWrap).dataset.taskClick=""):(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.geByClass1)("box_title",e.titleWrap).innerHTML=cur.paymentBoxTitle)}}else(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.hide)("payments_getvotes_buttons")}static showBoxError(e,t){if("object"==typeof e&&(e=(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("global_error_occured")),e&&cur.paymentsWideBox&&cur.checkoutEnabled){let t=new _web_lib_message_box__WEBPACK_IMPORTED_MODULE_12__.MessageBox({title:(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("global_error"),hideButtons:!0}),r=(0,_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_7__.curBox)();r&&r.hide(),t.content(e).show()}else{if(e){let r=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_box_error");r&&((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)(r,""),(0,_web_lib_ui_util__WEBPACK_IMPORTED_MODULE_15__.showMsg)(r,e,t||"error"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)(r))}(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.hide)("payments_box_progress","payments_iframe_container"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)("payments_getvotes_wrap"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)("payments_getvotes_cont"),(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.unlockButton)("payments_getvotes_submit"),PaymentsBox.hideRowProgress(),PaymentsBox.enablePaymentTypesRows()}}static showProgress(e){(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)("payments_box_progress_msg","string"==typeof e?e:(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_waiting_payment_complete")),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.hide)("payments_box_error","payments_getvotes_wrap","payments_getvotes_buttons"),cur.paymentsWideBox&&e?(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)("payments_box_progress_link"):e||(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.hide)("payments_box_progress_link"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)("payments_box_progress")}static hideRowProgress(){["payments_getvotes_ps",cur.paymentsWideBox?"payments_box_menu":"payments_getvotes_method"].forEach((e=>{(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.isVisible)(e)&&(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.geByClass)("payments_getvotes_active_row",(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)(e)).forEach((t=>{"payments_box_menu"!==e?(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.removeClass)(t,"payments_getvotes_active_row"):(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.removeClass)(t,"payments_progress")}))}))}static refreshBox(){(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.hide)("payments_box_progress","payments_box_error","payments_getvotes_method","payments_getvotes_cont","payments_getvotes_phone","payments_getvotes_confirm","payments_getvotes_waiting","payments_getvotes_card_country_select","payments_getvotes_other","payments_getvotes_terminals","payments_getvotes_ps","payments_getvotes_foreign_cards_warning","payments_iframe_container"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)("payments_getvotes_wrap"),cur.smsChkStatInt&&!cur.paymentsWideBox&&clearInterval(cur.smsChkStatInt),cur.paymentsBoxClass&&((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_box").className=cur.paymentsBoxClass,cur.paymentsBoxClass=""),cur.votesType&&"card"!==cur.votesType||(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)("payments_getvotes_foreign_cards_warning"),PaymentsBox.enablePaymentTypesRows()}static saveSmsPhone(){const e=(0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_17__.trim)((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)("phone")),t=(0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_17__.trim)((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_phone_prefix")||{})||"");e&&(cur.paymentsWaitingCache.sms&&(clearInterval(cur.paymentsWaitingCache.sms[2]),delete cur.paymentsWaitingCache.sms),cur.newSmsPhone=t+e,PaymentsBox.getVotesAmounts())}static startFormMeasure(){cur.formMeasureTime=Date.now(),vk.dev&&(0,_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_8__.debugLog)(cur.formMeasureTime)}static finishFormMeasure(e){if(cur.formMeasureTime){const t=Date.now()-cur.formMeasureTime;vk.dev&&(0,_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_8__.debugLog)(t),delete cur.formMeasureTime,(0,_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_5__.statlogsValueEvent)("payments_frame_load_time",t,e)}}static sendBillingAnalytics(e){if(!cur?.smsChkData?.qid)return;const t={act:"save_event",event:e.action,time_ms:(new Date).getTime(),qid:cur?.smsChkData?.qid||0,payment_method:e.action_params&&e.action_params.system||void 0,session_id:cur.statSessionId};ajax.post("al_payments.php",t)}static frameMessage(e){if(!e.origin.match(/^https?:\/\/([a-zA-Z0-9\-\.]+\.)?paymentgate\.ru$/)&&!e.origin.match(/^https?:\/\/([a-zA-Z0-9\-\.]+\.)?money\.mail\.ru$/)&&!e.origin.match(/^https?:\/\/co\.vkpay\.io$/))return!1;let t={};if(e.data){switch(typeof e.data){case"object":t=e.data;break;case"string":"{"===e.data.substr(0,1)&&(t=(0,_web_lib_utils__WEBPACK_IMPORTED_MODULE_16__.parseJSON)(e.data))}if("billing"!==t.type)return!1}if(["openWindow","formLoad","typePaymentMethod","payFail","closeWindow","payButtonClick"].includes(t.action)&&PaymentsBox.sendBillingAnalytics(t),"pageLoad"===t.action||"formLoad"===t.action)cur.paymentsIgnoreResize=!1;else if("paySuccess"===t.action||"closeWindow"==t.action&&"ok"==t.action_params.status)cur.paymentsIgnoreResize=!0,cur.checkoutEnabled&&(PaymentsBox.showProgress(),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.hide)("payments_iframe_container"));else if("submit"===e.data||"3dsPage"===t.action)setTimeout(PaymentsBox.frameHeight.pbind(600,!0),200),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.addClass)("payments_iframe_container",cur.checkoutEnabled?"payments_threeds_checkout_frame":"payments_threeds_frame");else if("3dsFinish"===t.action)PaymentsBox.frameHeight(),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.removeClass)("payments_iframe_container",cur.checkoutEnabled?"payments_threeds_checkout_frame":"payments_threeds_frame");else if("resizeFrame"===t.action)if(t.action_params.height<10&&cur.paymentsIgnoreResize)cur.paymentsIgnoreResize=!1;else{const e=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_iframe_container");e&&!(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.hasClass)(e,"payments_threeds_checkout_frame")&&setTimeout(PaymentsBox.frameHeight.pbind(t.action_params.height),200)}else"putPixel"===t.action&&"page_load"===t.action_params.alias?(PaymentsBox.finishFormMeasure("dmr"),(0,_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_5__.statlogsValueEvent)("payments",0,"votes","dmr","iframe_loaded")):"session_fail"===t.action?(0,_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_5__.statlogsValueEvent)("payments",0,"votes","dmr","iframe_session_fail"):("payError"===t.action||"closeWindow"==t.action&&["error","cancel"].includes(t.action_params.status))&&cur.checkoutEnabled?PaymentsBox.checkoutDecline(t.action_params):"typePaymentMethod"===t.action&&cur.checkoutEnabled&&((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.removeClass)("payments_iframe_container","payments_threeds_checkout_frame"),t.action_params&&t.action_params.system&&PaymentsBox.checkoutPayMethodChanged(t.action_params.system))}static frameHeight(e,t){let r=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("card_iframe");r&&(e?(cur.prevFrameHeight=r.style.height,r.style.height=e+"px"):(r.style.height=cur.prevFrameHeight,(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.removeClass)("payments_iframe_container",cur.checkoutEnabled?"payments_threeds_checkout_frame":"payments_threeds_frame")));let n=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_iframe_container");n&&(cur.paymentsWideBox&&!cur.checkoutEnabled||t||(n.style.height=(e||cur.prevFrameHeight)+(cur.checkoutEnabled?0:10)+"px"),n.scrollTop=0)}static paymentCanceled(e){e?cur.isPaymentFailed=!0:cur.isPaymentCanceled=!0,PaymentsBox.frameHeight()}static checkoutDecline(e){let t=e||{};t.act="checkout_decline",t.qid=cur.smsChkData.qid,t.hash=cur.smsChkData.declineHash,ajax.post("payments",t,{onDone:function(e){return PaymentsBox.stopCheckAndShowError(e),!0},onFail:function(e){return PaymentsBox.stopCheckAndShowError(e),!0}})}static checkoutPayMethodChanged(e){e&&ajax.post("payments",{act:"checkout_ps_choose",qid:cur.smsChkData.qid,pay_method:e})}static stopCheckAndShowError(e){clearInterval(cur.smsChkStatInt),PaymentsBox.needContinue=0,(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.isVisible)("payments_getvotes_waiting")||(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.isVisible)("payments_getvotes_confirm")?PaymentsBox.showVotesAmounts():cur.checkoutEnabled?PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.onGetVotes):PaymentsBox.setButtons(cur.payments_get_votes,(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.isVisible)("payments_getvotes_confirm")?PaymentsBox.getVotesCharge:PaymentsBox.onGetVotes,cur.paymentsChangeType,PaymentsBox.showTypes),PaymentsBox.showBoxError(e)}static complete(e,t){cur.paymentCompleteParams=t,cur.isPaymentComplete=!0}static checkStatus(e,t,r,n){if("sms"===e&&(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.isVisible)("payments_box_progress")&&!cur.paymentsWideBox&&7!=cur.votesAmountsData[cur.votesAmountsVal][2])if(15==cur.smsChkStatCnt)(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_box_progress_msg").innerHTML=(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_waiting_payment_complete_still");else if(cur.smsChkStatCnt>30){return clearInterval(cur.smsChkStatInt),cur.isPaymentAttemted=!0,(0,_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_7__.curBox)().hide(),void(0,_web_lib_message_box__WEBPACK_IMPORTED_MODULE_12__.showFastBox)((0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_internet_getting_votes"),(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_get_votes_delay"))}let a={act:"a_getvotes_check",type:e,votes_purchase:cur.isPaymentsAppOrder||cur.paymentsWideBox||cur.paymentsInstantPayType?0:1};t&&(t.oid||t.qid)?(a.oid=t.oid,a.qid=t.qid,a.hash=t.hash):a.hash=cur.psList[e].check_hash,0==cur.smsChkStatCnt&&(a.start=1),cur.statSessionId&&(a.stat_session_id=cur.statSessionId),t.test&&(a.test=1);let s=n||(0,_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_7__.curBox)();ajax.post("al_payments.php",a,{onDone:function(r,n,a){if("sms"===e&&cur._popup&&cur._popup.closed)return clearInterval(cur.smsChkStatInt),cur.smsChkStatCnt=0,PaymentsBox.showBoxError((0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_payment_cancelled"),"info_msg"),void PaymentsBox.setConfirmButtons();if(r){if(1==r){if(window.cur.paymentSuccess=!0,"mailmoney_vkpay"===e&&WkView&&(s._show(),cur.onExternalAppDone=null,WkView.hide(!1,!0)),cur.isPaymentAttemted=!0,PaymentsBox.needContinue&&(cur.needContinue=1,PaymentsBox.needContinue=0),cur.paymentsHideLastBoxOnly)boxQueue.hideLast(!1),delete cur.paymentsHideLastBoxOnly;else for(;boxQueue.count();)boxQueue.hideLast(!1);if(n&&!cur.isPaymentsAppOrder&&(!cur.paymentsTryCompleteOrder||!s.onDone)){let e=new _web_lib_message_box__WEBPACK_IMPORTED_MODULE_12__.MessageBox({width:400,hideButtons:!0,bodyStyle:"padding: 0; border-radius: 8px;"});e.content(n),e.show()}a&&(0,_web_lib_utils__WEBPACK_IMPORTED_MODULE_16__.updateMoney)(a)}else if(2==r||10==r)(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.isVisible)("payments_getvotes_waiting")||(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.isVisible)("payments_getvotes_confirm")||(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.isVisible)("payments_iframe_container")?PaymentsBox.showVotesAmounts():PaymentsBox.setButtons(cur.payments_get_votes,(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.isVisible)("payments_getvotes_confirm")?PaymentsBox.getVotesCharge:PaymentsBox.showConfirm,cur.paymentsChangeType,PaymentsBox.showTypes),PaymentsBox.showBoxError(n);else if(3==r){let r="sms"===e;cur.votesAmountsData[cur.votesAmountsVal]?((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)("payments_box_votes_num",cur.votesAmountsData[cur.votesAmountsVal][0]),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)("payments_box_amount",cur.votesAmountsData[cur.votesAmountsVal][1]),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)("payments_box_votes_money",r?cur.votesAmountsData[cur.votesAmountsVal][6]:cur.votesAmountsData[cur.votesAmountsVal][1])):((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)("payments_box_votes_num",cur._otherVotes),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)("payments_box_amount",cur._otherAmount+" "+(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.langNumeric)(cur._otherAmount,cur.votesAmountsData.currency_price_str)),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)("payments_box_votes_money",cur._otherAmount+" "+(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.langNumeric)(cur._otherAmount,cur.votesAmountsData.currency_price_str))),r||((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)("payments_getvotes_confirm_msg",(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_get_votes_ps_enter_code")),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.hide)("payments_getvotes_confirm_amount")),cur.votesAmountsData.confirm_wait_comment&&cur.votesAmountsData.confirm_wait_comment[t.oid]?((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_getvotes_confirm_comm").innerHTML=cur.votesAmountsData.confirm_wait_comment[t.oid],(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)("payments_getvotes_confirm_comm_wrap")):r&&((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_getvotes_confirm_comm").innerHTML="",(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.hide)("payments_getvotes_confirm_comm_wrap")),"spasibo"===e&&(cur.updateTnxHash=n),PaymentsBox.refreshBox(),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)("payments_box_confcode_wrap","payments_getvotes_confirm"),r&&n&&PaymentsBox.showBoxError(n),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("confcode").onkeypress=r?"":PaymentsBox.checkPinKeyPress,PaymentsBox.setButtons(cur.payments_get_votes,r?PaymentsBox.smsSendCode:PaymentsBox.confirmPinCode,cur.paymentsChangeType,PaymentsBox.showTypes)}else{if(4==r){if(!(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.isVisible)("payments_getvotes_waiting")&&!cur.paymentsWaitingCache.sms){let e=(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_to_get_send_sms",cur.votesAmountsData[cur.votesAmountsVal][0]);cur.paymentsWideBox||(e+=`<br/>${(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_service_cost")}`),e=e.replace("{number}",n.service_number),e=e.replace("{text}",`<nobr>${n.message_text}</nobr>`),e=e.replace("{amount}",cur.votesAmountsData[cur.votesAmountsVal][1]),PaymentsBox.showWaiting(e)}return}if(5==r)PaymentsBox.refreshBox(),PaymentsBox.showConfirm();else if(6==r)delete cur.votesAmountsData.oauth_url,delete cur.paymentsInstantPayType,PaymentsBox.showVotesAmounts(),PaymentsBox.showBoxError((0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_instant_pay_amount_limit_error")),PaymentsBox.setConfirmButtons(),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.hide)("payments_remember_wallet",(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.geByClass1)("payments_getvotes_confirm_descr","payments_getvotes_cont"));else{if(7==r)return void(cur._popup&&!cur._popup_href&&(cur._popup_href=n,cur._popup.location.href=n));if(8==r)return void PaymentsBox.checkStatusCallback(n);if(9==r)return void PaymentsBox.show3DsFrame(n,a)}}clearInterval(cur.smsChkStatInt),cur.smsChkStatCnt=0}},onFail:function(e){return PaymentsBox.stopCheckAndShowError(e),!0}}),cur.smsChkStatCnt++}static checkStatusCallback(e){}static getVotesCharge(e,t){if((0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.isButtonLocked)("payments_getvotes_submit")||(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.isVisible)("payments_box_progress"))return;if(!((e=parseInt(e,10))||null!=cur.votesAmountsVal&&cur.votesAmountsData[cur.votesAmountsVal]))return;let r={act:"a_getvotes_charge",type:cur.votesType,hash:cur.paymentsHash,stat_session_id:cur.statSessionId};const n=PaymentsBox.getEmail();""!==n&&(n&&(r.email=n),t?(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.lockButton)("payments_getvotes_submit"):PaymentsBox.showProgress(),e?(r.pid=-1,r.votes=e):(r.pid=cur.votesAmountsVal,-1==cur.votesAmountsVal&&(r.votes=cur.votesAmountsData[cur.votesAmountsVal][0])),cur.isResetCheckedMaxSmsVotesValue&&(r.pay_by_repay_status=1),PaymentsBox.disablePaymentTypesRows(),ajax.post("al_payments.php",r,{onDone:(r,n,a,s)=>{PaymentsBox.setCurMidas(s),PaymentsBox.votesChargeOnDone(r,e,t)},onFail:e=>((0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.unlockButton)("payments_getvotes_submit"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.isVisible)("payments_box_progress")&&PaymentsBox.setButtons(cur.payments_get_votes,(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.isVisible)("payments_getvotes_confirm")?PaymentsBox.getVotesCharge:PaymentsBox.showConfirm,cur.paymentsChangeType,PaymentsBox.showTypes),PaymentsBox.showBoxError(e),!0)}))}static votesChargeOnDone(e,t,r){if(e)if((0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.unlockButton)("payments_getvotes_submit"),-1==e)PaymentsBox.getVotesAmounts(!0);else if(e.qid)if(cur.smsChkData=e,r){const e=(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_for_get_n_votes",t||cur.votesAmountsData[cur.votesAmountsVal][0]);let r=cur.votesAmountsData.confirm_wait_msg.replace("{amount}",e);if(r+=t?`<br/>${(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_service_cost_rubles",cur._otherAmount)}`:`<br/>${(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_service_cost").replace("{amount}",cur.votesAmountsData[cur.votesAmountsVal][1])}`,cur.paymentsWideBox){r+=`<br><br/><a onclick="return PaymentsBox.showPhoneForm(1);">${(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_change_phone_number")}</a>`}PaymentsBox.showWaiting(r)}else cur.smsChkStatCnt=0,cur.smsChkStatInt=setInterval(PaymentsBox.checkStatus.pbind(cur.votesType,e),2e3)}static getVotesAmounts(e,t,r){if(null!=t&&cur.paymentsWideBox){if(cur.votesType==t&&cur.votesTypeInit!=t&&((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.isVisible)("payments_getvotes_cont")||(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.isVisible)("payments_getvotes_terminals")||(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.isVisible)("payments_getvotes_ps")))return;(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.isVisible)("payments_getvotes_waiting")?cur.paymentsWaitingCache[cur.votesType]=[(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_getvotes_title").innerHTML,(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_getvotes_waiting").innerHTML,cur.smsChkStatInt]:cur.smsChkStatInt&&!cur.paymentsWaitingCache[t]&&clearInterval(cur.smsChkStatInt),cur.votesType=t}else null!=t&&(cur.votesType=t);if(!cur.votesType)return void(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)("payments_getvotes_foreign_cards_warning");if(cur.paymentsWideBox&&!r&&(r=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.domPN)((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.geByClass1)("payments_method_"+cur.votesType,(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_box_menu")))),cur.paymentsWideBox&&cur.paymentsTypesSum&&cur.paymentsTypesSum[t]){let e=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_summary_bill");e?e.innerHTML=cur.paymentsTypesSum[t]:(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)("payments_order_sum",cur.paymentsTypesSum[t]),(0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_17__.each)((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.geByClass)("payments_tt"),((e,t)=>{(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.re)(t)}))}let n="term"===cur.votesType||"ps"===cur.votesType;if(n){PaymentsBox.refreshBox(),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.hide)("payments_getvotes_method");let e="";if("term"===cur.votesType?((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)("payments_getvotes_terminals"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.hide)("payments_votes_vkpay_promo_banner"),e="payments_terminals_title_header"):((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)("payments_getvotes_ps"),e="payments_ps_list_title_header"),cur.paymentsWideBox&&((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.hide)(e),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_getvotes_title").innerHTML=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)(e).innerText),PaymentsBox.setButtons(!1,!1,cur.paymentsChangeType,PaymentsBox.showTypes),!cur.paymentsWideBox)return}const a=["payments_getvotes_ps",cur.paymentsWideBox?"payments_box_menu":"payments_getvotes_method"];for(let t=0;t<a.length;t++){let s=a[t];if(!(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.isVisible)(s)||cur.paymentsWideBox&&!r||"payments_box_menu"===s&&(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.isVisible)("payments_getvotes_ps")&&r&&(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.hasClass)(r.parentNode,"payments_getvotes_ps_list"))continue;let _=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)(s),c=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.geByClass)("payments_getvotes_active_row",_);if(!e&&c.length&&!cur.paymentsWideBox)return;c.forEach((e=>{(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.removeClass)(e,"payments_getvotes_active_row"),cur.paymentsWideBox&&!n&&(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.removeClass)(e,"payments_progress")}))}if(r&&(!cur.paymentsWideBox||"payments_box_menu"!==r.parentNode.id||n||e||(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.addClass)(r,"payments_progress"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.addClass)(r,"payments_getvotes_active_row")),cur.paymentsWideBox&&cur.paymentsWaitingCache[t])return(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_getvotes_title").innerHTML=cur.paymentsWaitingCache[t][0],(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_getvotes_waiting").innerHTML=cur.paymentsWaitingCache[t][1],PaymentsBox.refreshBox(),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)("payments_getvotes_waiting","payments_getvotes_title"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.hide)("payments_getvotes_buttons"),void PaymentsBox.hideRowProgress();if(n)return;(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.isVisible)("payments_getvotes_buttons")&&!cur.paymentsWideBox&&(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.lockButton)("payments_getvotes_submit");let s={act:"a_getvotes_amounts",type:cur.votesType,prefer_votes:cur.paymentsPreferVotes,hash:cur.paymentsHash};if(cur.statSessionId&&(s.stat_session_id=cur.statSessionId),cur.isPaymentsAppOrder&&cur.paymentsOrderAppId&&(s.aid=cur.paymentsOrderAppId,cur.paymentsOrderBillPeriod&&(s.bill_period=cur.paymentsOrderBillPeriod),cur.paymentsOrderDiscount&&(s.discount=cur.paymentsOrderDiscount)),"sms"===s.type)cur.checkedMaxVotes&&(s.checked_max_votes=cur.checkedMaxVotes,cur.checkedMaxVotes=0),cur.newSmsPhone&&(s.phone=cur.newSmsPhone,cur.newSmsPhone=!1),cur.isCorpPhone&&(s.corp=cur.isCorpPhone,cur.isCorpPhone=!1);else if("offers"===s.type){const e=(0,_shared_apps_MiniAppsService_utils_getCurrentApp__WEBPACK_IMPORTED_MODULE_19__.getCurrentApp)();if(e?.options&&(s.isAppOrder=cur.paymentsOfferApp?1:0,s.aid=e.options.aid,s.orderBox=cur.isPaymentsAppOrder?1:0),cur.paymentsPreload)return PaymentsBox.getVotesAmountsOnDone.apply(this,cur.paymentsPreload),cur.paymentsPreload=!1,void(cur.paymentsOfferPreload&&(PaymentsBox.offerOnLoad.apply(this,cur.paymentsOfferPreload),cur.paymentsOfferPreload=!1,cur.paymentsOneOffer=!0))}else if("spasibo"===s.type)cur.newSmsPhone&&(s.phone=cur.newSmsPhone,cur.newSmsPhone=!1),cur.needContinue&&(s.continue=1,cur.needContinue=0);else if(cur.psList[s.type]&&cur.psList[s.type].simple_redirect)return PaymentsBox.hideRowProgress(),void PaymentsBox.submitPaymentSystem();ajax.post("al_payments.php",s,{onDone:PaymentsBox.getVotesAmountsOnDone,onFail:e=>(PaymentsBox.showBoxError(e),!0)})}static getVotesAmountsOnDone(result,html,data,js,title){if(PaymentsBox.hideRowProgress(),(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_14__.unlockButton)("payments_getvotes_submit"),cur.paymentsWideBox&&(title&&((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)("payments_getvotes_title",title),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)("payments_getvotes_title")),data&&data.menu_money)){let e=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_summary_bill");e?e.innerHTML=data.menu_money:(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)(`payments_method_${cur.votesType}_descr`,data.menu_money)}if((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.hide)("payments_votes_vkpay_promo_banner"),-1==result)return void PaymentsBox.showPhoneForm();if(-2==result)return void PaymentsBox.showPhoneForm(!1,html);if(-3==result){const e=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.geByClass)("payments_getvotes_method_opt","payments_box_menu");(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.hide)((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.geByClass1)("payments_getvotes_active_row","payments_box_menu"));for(let t=0;t<e.length;t++){let r=e[t];if(!(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.hasClass)(r,"payments_getvotes_active_row")){r.onclick();break}}return}if(!result)return PaymentsBox.showProgress(""),void(cur.smsAmountsInt=setTimeout((()=>{PaymentsBox.getVotesAmounts(!0)}),1e3));if(!html)return;let other;if(2==result?(other=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_getvotes_other"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)(other,html)):(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)("payments_getvotes_cont",html),cur.votesAmountsData=data,(cur.fromInstantPay&&2==cur.votesAmountsData.confirm_type||2!=cur.votesAmountsData.confirm_type||!cur.votesAmountsData.checked_max_sms_votes_val)&&PaymentsBox.showVotesAmounts(),cur.votesType&&"card"!==cur.votesType?(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.hide)("payments_getvotes_foreign_cards_warning"):(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)("payments_getvotes_foreign_cards_warning"),cur.paymentsPreload&&"offers"===cur.votesType?PaymentsBox.setButtons(!1):"offers"===cur.votesType?PaymentsBox.setButtons(!1,!1,cur.paymentsChangeType,PaymentsBox.showTypes):cur.paymentsPreload&&PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.showConfirm),window.radioBtns.payments_getvotes_amounts={els:Array.prototype.slice.apply((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.geByClass)("radiobtn",(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_getvotes_amounts")))},data.confirm_msg&&data.confirm_type&&(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.val)("payments_getvotes_confirm_msg",data.confirm_msg),2==result&&((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.hide)("payments_getvotes_wrap"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)(other)),js)try{eval(js)}catch(e){(0,_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_8__.logEvalError)(e,js)}cur.instantNeedCVV&&(PaymentsBox.showConfirm(),cur.instantNeedCVV=!1),cur.paymentsEmailInput=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_receipt_email"),cur.paymentsEmailCheckbox=!!cur.paymentsEmailInput&&(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.geByClass1)("_checkbox",(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.domPN)(cur.paymentsEmailInput))}static popupHtml(e,t,r){return`<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">\n<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">\n<head>\n    <meta http-equiv="content-type" content="text/html; charset=windows-1251" />\n    <meta http-equiv="X-UA-Compatible" content="IE=edge" />\n    <style>\n        body {font-family:tahoma,verdana,arial,sans-serif,Lucida Sans; font-size:11px;}\n        .text {position:relative; top:40%; text-align:center; line-height:24px;}\n        .text img {margin-bottom:8px;}\n        .text_container {position:absolute; top:0; left:0; right:0; bottom:0; line-height:150%; height: 100%;}\n    </style>\n    <script type="text/javascript">\n      if (!window.vk) window.vk = {loginscheme: '${vk.loginscheme}', ip_h: '${vk.ip_h}', __domain: '${(0,_shared_lib_site__WEBPACK_IMPORTED_MODULE_4__.getHostName)()}'};\n    <\/script>\n    <script type="text/javascript" src="${(0,_web_lib_static_manager__WEBPACK_IMPORTED_MODULE_20__.getCompiledPath)(window.jsc("web/payments_legacy.js"))}"><\/script>\n</head>\n<body>\n${t}\n<div id="wait_text_container" class="text_container">\n    <div class="text">\n        <img src="/images/progress.gif" /><br/>${e}\n    </div>\n</div>\n<script type="text/javascript">\n  var st = setTimeout(function() {try {${r}; clearTimeout(st)} catch(e) {}}, 100)\n<\/script>\n</body>\n</html>`}static viewOffer(e){this.setButtons(e,(()=>{(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("start_offer").submit(),PaymentsBox.setButtons((0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("payments_back_to_offers_list"),PaymentsBox.backToOffersList,(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("global_cancel"),PaymentsBox.backToOffersList)}),(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("global_cancel"),PaymentsBox.backToOffersList)}static backToOffersList(){if(cur.paymentsOneOffer)return(0,_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_7__.curBox)().hide();(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.hide)("payments_offer_view"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.show)("payments_offers_list"),cur.votesTypeInit||!1===cur.votesTypeInit?PaymentsBox.setButtons(!1):PaymentsBox.setButtons(!1,!1,cur.paymentsChangeType,PaymentsBox.showTypes)}static initializeOfferChecker(e,t,r,n){cur.offersOffset=e,cur.offersAppCurrency=t,PaymentsBox.checkOffersList=[],PaymentsBox.checkOffersDo=()=>{if(r)return;const e=PaymentsBox.checkOffersList.join(",");PaymentsBox.checkOffersList=[],ajax.post("al_payments.php",{act:"a_offers_stat",offers:e,hash:n}),PaymentsBox.checkOffersTO=!1},PaymentsBox.checkOffers(),(0,_web_lib_dom_events__WEBPACK_IMPORTED_MODULE_10__.addEvent)((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("box_layer_wrap"),"scroll",PaymentsBox.checkOffers)}static removeCheckOffersEvent(){(0,_web_lib_dom_events__WEBPACK_IMPORTED_MODULE_10__.removeEvent)((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("box_layer_wrap"),"scroll",PaymentsBox.checkOffers)}static checkOffers(){const e=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.geByClass)("payments_offer",(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("payments_offers_wrap")),t=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.ge)("box_layer_wrap").scrollTop,r=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.getSize)("box_layer_wrap")[1];e.forEach((e=>{const n=e,a=n.offsetTop;a+30<t+r&&a+(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.getSize)(n)[1]-20>t&&!n.getAttribute("checked")&&(n.setAttribute("checked",1),PaymentsBox.checkOffersList.push(n.id.substr(15)),PaymentsBox.checkOffersTO||(PaymentsBox.checkOffersTO=setTimeout(PaymentsBox.checkOffersDo,1e3)))}))}static offersRemoveButtons(){cur.votesTypeInit?PaymentsBox.setButtons(!1):PaymentsBox.setButtons(cur.paymentsChangeType,PaymentsBox.showTypes,(0,_shared_lib_langs__WEBPACK_IMPORTED_MODULE_3__.getLang)("global_close"),(0,_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_7__.curBox)().hide)}static disablePaymentTypesRows(){const e=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.geByClass)("payments_getvotes_method_opt");if(e&&e.length>0)for(let t=0;t<e.length;t++){let r=e[t];r.classList.contains("payments_getvotes_active_row")?r.classList.add("payments_getvotes_noevents_row"):r.classList.add("payments_getvotes_disabled_row","payments_getvotes_noevents_row")}}static enablePaymentTypesRows(){const e=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_9__.geByClass)("payments_getvotes_method_opt");if(e&&e.length>0)for(let t=0;t<e.length;t++)e[t].classList.remove("payments_getvotes_disabled_row","payments_getvotes_noevents_row")}static handlePaymentCompleteMessage(e){e.origin==window.origin&&e.data.type&&"paymentCompleteMessage"===e.data.type&&window.PaymentsBox.complete(e.data.newUrl,e.data.params)}static setCurMidas(e){"object"==typeof e&&"isMidas"in e&&("cur"in window||__webpack_require__._dG("cur",{}),window.cur.isMidas=Boolean(e.isMidas))}}},903687:(e,t,r)=>{"use strict";r.d(t,{deletePhotoOwnerAlbumCache:()=>l,dropPhotoCacheData:()=>u,getCurrentPhoto:()=>_,getIndexedFriends:()=>d,getPhotoData:()=>s,isImgBlurred:()=>E,setIndexedFriends:()=>p,setPhotoData:()=>c});var n=r(542789),a=r(495239);function s(e){const t=cur.pvListId,r=cur.pvIndex;if(cur.pvData&&t&&!isNaN(r)){const n=cur.pvData[t][r];return e?n[e]:n}return!1}function _(){const e=cur.pvListId,t=cur.pvIndex;return cur.pvData&&e&&!isNaN(t)?cur.pvData[e][t]:null}function c(e,t){const r=cur.pvListId,n=cur.pvIndex;return!(!cur.pvData||!r||isNaN(n))&&(cur.pvData[r][n][e]=t,cur.pvData[r][n])}function l(e){const t="album"+e+"_0/rev";delete window.cur.pvData[t]}function u(){delete cur.pvList,delete cur.pvData}function d(){return cur.pvIndexedFriends}function p(e,t){cur.pvIndexedFriends=new n.vkIndexer(e,(e=>e[1]),t)}function E(e){return!!e&&(!!e.restrictionBlur&&!(0,a.isPhotoUnblurred)(e.photoRaw))}},880789:(e,t,r)=>{"use strict";r.d(t,{initSettingsAddressBox:()=>d});var n=r(754866),a=r(593159),s=r(972332),_=r(342879),c=r(683234),l=r(866467),u=r(952661);function d(e,t){e.setOptions({title:(0,l.getLang)("settings_addrbox_title")});const r=document.querySelector("#settdbx_addr"),d=document.querySelector("#settdbx_addr_tt_place");r.onfocus=function(){-2===cur.addrChecked&&(0,_.showTooltip)(d,{text:(0,l.getLang)("settings_addrbox_hint"),dir:"left",slideX:15,className:"settings_pwd_tt",shift:[-12,-15,0],onCreate:function(){(0,s.removeEvent)(d,"mouseout")}})},r.onblur=function(){d.tt&&d.tt.hide()},(0,n.elfocus)(r),setTimeout(n.elfocus.pbind(r),100),(0,n.setStyle)(r,{width:230-(0,n.ge)("settdbx_base").offsetWidth-8}),(0,a.extend)(cur,{settDomainCheckAddress:function(e){clearTimeout(cur.addressCheckTO),cur.lastAddress!==(0,n.val)("settdbx_addr")&&(cur.addressCheckTO=setTimeout(cur.settDomainDoCheckAddress,e||0))},settDomainDoCheckAddress:function(){let e=document.querySelector("#settdbx_submit"),t=document.querySelector("#settdbx_advices");cur.lastAddress=(0,n.val)("settdbx_addr"),ajax.post("al_settings.php",{act:"a_check_address",name:cur.lastAddress,from:"box"},{onDone:function(r){cur.addrChecked=1,u.FlatButton.setLabel(e,r),u.FlatButton.setDisabled(e,!1),(0,n.val)(t,"")},onFail:function(a){let s=(a=a.split("<*>"))[1],_=a[2];return a=a[0],_?(cur.addrChecked=-2,r.onfocus()):(cur.addrChecked=-1,r.onblur()),u.FlatButton.setLabel(e,a),u.FlatButton.setDisabled(e,!0),(0,n.val)(t,s),!0}})},settDomainAdvisedAddress:function(e){(0,n.val)("settdbx_addr",e),cur.settDomainCheckAddress()},settDomainAddressSubmit:function(e){if(1!==cur.addrChecked)return void(0,c.notaBene)("settings_addr");let r=(0,n.val)("settdbx_addr"),a={act:"a_change_address",hash:t,name:r};u.FlatButton.lock(e),window.ajax.post("al_settings.php",a,{onDone:function(e){nav.go(r,!1,{params:{from:"address_box"}})},showProgress:()=>u.FlatButton.lock(e),hideProgress:()=>u.FlatButton.unlock(e)})}})}},443291:(e,t,r)=>{"use strict";r.d(t,{showNextPaymentsHistory:()=>_});var n=r(683234),a=r(575753),s=r(754866);const _=(e,t)=>{if((0,n.isButtonLocked)(e))return;let r,_;return(0,n.lockButton)(e),t||(t="votes"),void 0===cur.historyOffset[t]&&(cur.historyOffset[t]=5),"transfer"===t?(r={act:"a_transfer_history"},_=(0,s.ge)("settings_transfer_history")):"subscriptions"===t?(r={act:"a_payments_subsciptions"},_=(0,s.ge)("settings_payments_subscriptions")):"games"===t?(r={act:"a_payments_games"},_=(0,s.ge)("settings_payments_games")):"goods_orders"===t?(r={act:"a_payments_goods_orders"},_=(0,s.ge)("settings_payments_goods_orders")):(r={act:"a_votes_history"},_=(0,s.ge)("settings_votes_history")),r.offset=_.rows.length,"subscriptions"===t&&(r.extra_items_count=cur.historyExtraItemsSubscriptions),ajax.post("al_settings.php",r,{onDone:function(r,c,l){const u=_.tBodies[0];if(r){if((0,n.unlockButton)(e),a.browser.msie){const e=(0,s.se)("<table>"+r+"</table>");Array.from((0,s.geByTag)("tr",e)).forEach((e=>{1===e.nodeType&&u.appendChild(e)}))}else u.insertAdjacentHTML("beforeEnd",r);"subscriptions"===t&&l&&(cur.historyExtraItemsSubscriptions=l)}r&&!c||((0,s.addClass)(u.lastChild,"settings_votes_history_last"),(0,s.hide)(e))}}),!1}},428374:(e,t,r)=>{"use strict";r.d(t,{InlineDropdown:()=>d});var n=r(754866),a=r(575753),s=r(604723),_=r(972332),c=r(600222),l=r(898848),u=r(593159);function d(e,t){if(this.constructor!==d)throw new Error("InlineDropdown was called without 'new' operator");if(!(e=(0,n.ge)(e)))return;if(!e.nodeType)throw new Error("First argument not a DOM element");if((0,n.hasClass)(e,"idd_wrap"))return;if(this._opts=t||{},this._items=t.items?(0,u.clone)(t.items):JSON.parse(e.getAttribute("data-items")),!this._items)throw new Error("No items provided");this._title=t.keepTitle?t.title||e.textContent:"",this._selectable=!t.keepTitle||t.keepSelected,this._disableCancelClickEvent=!!t.disableCancelClickEvent&&!!t.disableCancelClickEvent;const{icon:r}=(0,c.getIcon12Dropdown)();this._iddEl=(0,n.se)(`<div class="idd_wrap" id="${e.id}">\n    <div class="idd_selected_value" tabindex="0" role="button">\n      ${e.textContent}\n    </div>\n    ${t.withArrow?`<div class="idd_chevron">${r}</div>`:""}\n    <input type="hidden" id="${e.id}_input" name="${e.getAttribute("name")||e.id}" />\n  </div>`);let a=this;if((0,l.each)(e.className.split(" "),(function(e,t){(0,n.addClass)(a._iddEl,t)})),(0,l.each)(e.attributes,(function(e,t){0==t.name.indexOf("data-")&&a._iddEl.setAttribute(t.name,t.value)})),e.parentNode.replaceChild(this._iddEl,e),this._els={valueEl:(0,n.geByClass1)("idd_selected_value",this._iddEl),itemsContentEl:(0,n.geByClass1)("idd_items_content",this._iddEl),hiddenInputEl:(0,n.geByTag1)("input",this._iddEl)},this._opts.autoShow){let e=!1;const t=function(){e=!0,clearTimeout(a._autoShowTimeout),a._autoShowTimeout=setTimeout((function(){e&&a._onClick()}),100)},r=function(){clearTimeout(a._autoShowTimeout),e=!1};(0,_.addEvent)(this._iddEl,"mouseenter",t),(0,_.addEvent)(this._iddEl,"mouseleave",r),(0,_.addEvent)(this._iddEl,"keydown",(e=>"Enter"===e.key&&e.target.getAttribute("class").includes("idd_selected_value")?t():null))}else(0,_.addEvent)(this._iddEl,"click",this._onClick.bind(this)),(0,_.addEvent)(this._iddEl,"keydown",(e=>"Enter"===e.key&&e.target.getAttribute("class").includes("idd_selected_value")?this._onClick.call(this):null));this._rebuildDropdown();let s=!1;void 0!==t.selected?s=t.selected:e.hasAttribute("data-value")&&(s=e.getAttribute("data-value")),!1!==s&&this.select(s,!0)}d.IDD_HEADER_CORRECTION_LEFT=-10,d.IDD_HEADER_CORRECTION_TOP=-8,d.prototype.updateItems=function(e){this._items&&(this._items=(0,u.clone)(e),this._rebuildDropdown())},d.prototype._rebuildDropdown=function(){let e=this._opts.withIcon?"idd_with_icon":"",t=this._opts.idPrefix?this._opts.idPrefix:"",r=this._opts.idItemPrefix?this._opts.idItemPrefix:"",s=this,u=this._opts.ariaLabel||"";const{icon:p}=(0,c.getIcon12Dropdown)();let E=`<div class="idd_header_wrap ${e}">\n    <div class="idd_header" id="${t}${this._items[0][0]}"></div>\n      ${this._opts.withArrow?`<div class="idd_chevron">${p}</div>`:""}\n    </div>`,m=`<div class="idd_items_wrap"><div class="idd_items_content" role="list" aria-label="${u}">`;(0,l.each)(this._items,(function(t,n){m+="separator"===n?'<div class="idd_separator"></div>':function(t,n){n=n||"";const a=document.createElement("div");a.className="idd_item_name",s._opts.html?a.innerHTML=s._opts.html(t):a.textContent=t[1];let _=s._opts.sublists&&s._opts.sublists[t[0]]?"idd_sublist":"";return`<div class="idd_item ${n} ${e} ${_}" id="${r}idd_item_${t[0]}" data-testid="${r+"idd_item_"+t[0]}" data-id="${t[0]}" tabindex="0" role="button">\n      ${s._opts.withIcon?'<div class="idd_item_icon" id="'+t[0]+'"></div>':""}\n      ${a.outerHTML}\n    </div>`}(n)})),m+="</div></div>",this._els.popupItems=(0,n.se)(m),this._els.popupHeader=(0,n.se)(E),(0,_.addEvent)(this._els.popupItems,"click",(function(e){let t=e.target;if("a"!=t.tagName.toLowerCase()){for(;t&&!(0,n.hasClass)(t,"idd_item");)t=t.parentNode;if(t){const r=t.getAttribute("data-id");if(s._opts.customClickHandler?.(Number(r)))return void(0,_.cancelEvent)(e);s.select(r)?s._hide():s._hoverItem(t)}(0,_.cancelEvent)(e)}else setTimeout((function(){s._hide()}))})),(0,l.each)((0,n.geByClass)("idd_item",this._els.popupItems),(function(e,t){(0,_.addEvent)(t,"mouseenter",(function(e){d._preventMouseHover||s._hoverItem(e.currentTarget)})),(0,_.addEvent)(t,"mouseleave",(function(e){d._preventMouseHover||s._unhoverItem(e.currentTarget,e)}))})),(0,_.addEvent)(this._els.popupItems,"mouseenter",function(){(0,_.addEvent)(this._els.popupItems,a.browserFeatures.wheelEvent,this._onWheel.bind(this))}.bind(this)),(0,_.addEvent)(this._els.popupItems,"mouseleave",function(){(0,_.removeEvent)(this._els.popupItems,a.browserFeatures.wheelEvent,this._onWheel.bind(this))}.bind(this))},d.prototype._onClick=function(e){if((0,n.isVisible)(this._els.popupEl))return void this._hide();d._currIDD&&d._currIDD._hide(),d._currIDD=this,window.tooltips&&tooltips.hideAll();let t=this;let r=this._els.popupEl=(0,n.se)('<div class="idd_popup"></div>');this._opts.alignLeft&&(0,n.addClass)(r,"idd_align_left"),this._opts.popupClass&&(0,n.addClass)(r,this._opts.popupClass),this.openToUp=1==this._opts.forceDir||"up"==this._opts.forceDir||-1!=this._opts.forceDir&&"down"!=this._opts.forceDir&&(0,n.getXY)(t._iddEl)[1]-((window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0))+200>window.innerHeight,this.openToUp?(r.appendChild(this._els.popupItems),r.appendChild(this._els.popupHeader),(0,n.addClass)(r,"idd_popup_up")):(r.appendChild(this._els.popupHeader),r.appendChild(this._els.popupItems));let a=(0,n.geByClass1)("idd_header",this._els.popupHeader);this._opts.keepTitle?a.textContent=this._title:a.textContent=this._selected?this._selected[1]:"",r.id="idd_"+this._iddEl.id,this._iddEl.appendChild(r);let s=(0,n.getSize)(r),c=(0,n.getSize)(this._els.valueEl),l=0;this.openToUp&&(l=-(0,n.getSize)(this._els.popupItems)[1]);let u={marginTop:(this._opts.headerTop||d.IDD_HEADER_CORRECTION_TOP)-c[1]+l,width:s[0]+8,opacity:1};this._opts.alignLeft?u[vk.rtl?"marginRight":"marginLeft"]=c[0]-d.IDD_HEADER_CORRECTION_LEFT:u.marginLeft=(this._opts.headerLeft||d.IDD_HEADER_CORRECTION_LEFT)-(this._opts.withIcon?20:0),(0,n.setStyle)(r,u),this._unhoverItem(),this._highlightItem(),this._initOutEvent(),this._initKeypressEvent(),this._opts.onShow&&this._opts.onShow(this.ddEl),this._disableCancelClickEvent||(0,_.cancelEvent)(e)},d.prototype._hide=function(){(0,n.re)(this._els.popupEl),this._els.popupEl=null,(0,n.removeClass)(this._hoveredItem,"idd_hover"),this._hoveredItem=null,this._deinitEvents(),this._hideSubmenu(),clearTimeout(this._hideSubmenuTimeout),this._opts.onHide&&this._opts.onHide()},d.prototype._highlightItem=function(e){if(!this._selectable)return;if(!this._els.popupEl)return;if(void 0===e){if(!this._selected)return;e=this._selected[0]}let t=(0,n.geByClass1)("idd_hl",this._els.popupEl);t&&(0,n.removeClass)(t,"idd_hl");let r=(0,n.ge)("idd_item_"+e);(0,n.addClass)(r,"idd_hl");let a=this;(0,l.each)((0,n.geByClass)("idd_item",this._els.popupItems),(function(e,t){if(t==r)return a._els.popupItems.scrollTop=(e+1)*(0,n.getSize)(t)[1]-(0,n.getSize)(a._els.popupItems)[1]/2,!1}))},d.prototype._onWheel=function(e){let t=(0,n.getSize)((0,n.geByClass1)("idd_items_content",this._els.popupItems))[1],r=(0,n.getSize)(this._els.popupItems)[1];t!=r&&(0==this._els.popupItems.scrollTop&&e.deltaY<0||this._els.popupItems.scrollTop==t-r&&e.deltaY>0)&&(0,_.cancelEvent)(e)},d.prototype._onKeyDown=function(e){switch(e.keyCode){case 9:case 38:case 40:case 13:case 27:this._onKey(e.keyCode,e)}},d.prototype._onKeyPress=function(e){this._onKey(e.which,e)},d.prototype._hideSubmenu=function(){(0,n.removeClass)(this._currSubmenuItem,"idd_hover_sublist_parent"),(0,n.re)(this._els.currCascade),delete this._currSubmenuItem,this._hoveredItem&&this._showSubmenu(this._hoveredItem)},d.prototype._showSubmenu=function(e){if(clearTimeout(this._hideSubmenuTimeout),!e)return;let t=this,r=e.getAttribute("data-id");if(this._opts.sublists&&this._opts.sublists[r]){if((0,n.addClass)(e,"idd_hover_sublist_parent"),this._currSubmenuItem==e)return void clearTimeout(this._submenuHideTimeout);let a=this._opts.sublists[r],c='<div class="idd_popup"><div class="idd_items_wrap"><div class="idd_items_content">',u=a.withIcon?"idd_with_icon":"";function p(e,t){t=t||"";const r=document.createElement("div");return r.className="idd_item_name",a.html?r.innerHTML=a.html(e):r.textContent=e[1],'<div class="idd_item '+t+" "+u+'" id="idd_item_'+e[0]+'" data-id="'+e[0]+'" role="button" tabindex="0">'+(a.withIcon?'<div class="idd_item_icon" id="'+e[0]+'"></div>':"")+r.outerHTML+"</div>"}(0,l.each)(a.items,(function(e,t){c+=p(t)})),c+="</div></div></div>",this._els.currCascade=(0,n.se)(c),this._iddEl.appendChild(this._els.currCascade);{let E=(0,n.getSize)(this._els.popupEl),m=(0,n.getSize)(e),g=(0,n.getSize)(this._els.currCascade),A=0,f=e;for(;null!=(f=f.previousSibling);)A++;let I=E[0]+(this._opts.headerLeft||d.IDD_HEADER_CORRECTION_LEFT)-1;(0,n.setStyle)(this._els.currCascade,{marginLeft:I-3,marginTop:m[1]*A+6-(this.openToUp?E[1]:0),"z-index":200,width:g[0]+30}),setTimeout((function(){(0,s.cssAnim)(t._els.currCascade,{marginLeft:I,opacity:1},{duration:140})}),10)}(0,l.each)((0,n.geByClass)("idd_item",this._els.currCascade),(function(e,r){(0,_.addEvent)(r,"mouseenter",(function(e){t._isInSubmenu=!0,d._preventMouseHover||t._hoverItem(e.currentTarget,null,!0)})),(0,_.addEvent)(r,"mouseleave",(function(e){t._isInSubmenu=!1,d._preventMouseHover||t._unhoverItem()}))})),(0,_.addEvent)(this._els.currCascade,"click",(function(e){let r=e.target;if("a"!=r.tagName.toLowerCase()){for(;r&&!(0,n.hasClass)(r,"idd_item");)r=r.parentNode;if(r){let e=!0,s=r.getAttribute("data-id"),_=(0,n.geByClass1)("idd_item_name",r).textContent;a.onSelect?e=a.onSelect(s,_):t._opts.onSelect&&(e=t._opts.onSelect(s,_)),e&&t._hide()}(0,_.cancelEvent)(e)}else setTimeout((function(){t._hide()}))})),this._currSubmenuItem=e}},d.prototype._hoverItem=function(e,t,r){let a=this;if(this._unhoverItem(),(0,n.addClass)(e,"idd_hover"),this._hoveredItem=e,t&&e){let t=e.getAttribute("id"),r=this;(0,l.each)((0,n.geByClass)("idd_item"),(function(a,s){if(s.getAttribute("id")==t)return r._els.popupItems.scrollTop=(0,n.getSize)(e)[1]*(a+1)-(0,n.getSize)(r._els.popupItems)[1]/2,clearTimeout(d._preventMouseHover),d._preventMouseHover=setTimeout((function(){d._preventMouseHover=null}),100),!1}))}if(clearTimeout(this._hideSubmenuTimeout),r)(0,n.addClass)(this._currSubmenuItem,"idd_hover_sublist_parent");else{let t=this._currSubmenuItem==e;this._currSubmenuItem&&!t&&(this._hideSubmenuTimeout=setTimeout((function(){a._hideSubmenu()}),200)),this._currSubmenuItem||this._showSubmenu(e),(0,n.removeClass)(this._currSubmenuItem,"idd_hover_sublist_parent")}},d.prototype._unhoverItem=function(e,t){this._hoveredItem&&(0,n.removeClass)(this._hoveredItem,"idd_hover"),this._hoveredParentItem&&(0,n.removeClass)(this._hoveredParentItem,"idd_hover"),clearTimeout(d._preventMouseHover)},d.prototype._onKey=function(e,t){if(38==e||40==e){let r=this,a=this._hoveredItem||(0,n.geByClass1)("idd_hl",this._els.popupItems)||(0,n.geByClass1)("idd_item",this._els.popupItems);return a=38==e?a.previousSibling:a.nextSibling,r._hoverItem(a,!0),(0,_.cancelEvent)(t),!1}if(9==e){let e=this,r=(0,n.geByClass1)("idd_items_content",this._els.popupItems),a=t.target;return a=t.target.getAttribute("class").includes("idd_item")?t.shiftKey?a.previousSibling:a.nextSibling:t.shiftKey?r.lastChild:r.firstChild,e._hoverItem(a,!0),!1}13==e?this._hoveredItem&&this.select(this._hoveredItem.getAttribute("data-id"))&&this._hide():27==e?this._hide():this._quickSearch(e)},d.prototype._quickSearch=function(e){let t=this;if(void 0!==e){let r=String.fromCharCode(e).toLowerCase();if(!r)return;setTimeout((function(){t._currSearchStr=""}),600),this._currSearchStr=this._currSearchStr||"",this._currQuickSearchIndex=this._currQuickSearchIndex||0,1==this._currSearchStr.length&&this._currSearchStr[0]==r||(this._currSearchStr+=r)}let r=this._items;for(let t=this._currQuickSearchIndex;t<r.length;t++){let a=r[t][1].toLowerCase();if(1==this._currSearchStr.length&&this._currSearchStr==a[0]||this._currSearchStr.length>1&&a.indexOf(this._currSearchStr)>=0){this._currQuickSearchIndex=t+1,this._hoverItem((0,n.ge)("idd_item_"+r[t][0]),!0),t==r.length-1&&(this._currQuickSearchIndex=0);break}t==r.length-1&&(this._currQuickSearchIndex=0,e&&this._quickSearch())}},d.prototype._deinitEvents=function(){(0,_.removeEvent)(window,"click",d._window_onOuterClick),(0,_.removeEvent)(window,"keypress",d._window_onKeyPress),(0,_.removeEvent)(window,"keydown",d._window_onKeyDown)},d.prototype._initKeypressEvent=function(){(0,_.addEvent)(window,"keypress",d._window_onKeyPress=this._onKeyPress.bind(this)),(0,_.addEvent)(window,"keydown",d._window_onKeyDown=this._onKeyDown.bind(this))},d.prototype._onOuterClick=function(e){let t=e.target,r=!0;for(;t&&t!=document;){if((0,n.hasClass)(t,"idd_popup")){r=!1;break}t=t.parentNode}r&&this._hide()},d.prototype._initOutEvent=function(){let e=this;setTimeout((function(){(0,_.addEvent)(window,"click",d._window_onOuterClick=e._onOuterClick.bind(e))})),this._opts.autoHide>0&&((0,_.addEvent)(this._iddEl,"mouseleave",(function(){clearTimeout(e._leaveTimeout),e._leaveTimeout=setTimeout((function(){e._isInSubmenu||e._hide()}),e._opts.autoHide)})),(0,_.addEvent)(this._iddEl,"mouseenter",(function(){clearTimeout(e._leaveTimeout)})))},d.prototype.deinit=function(){this._deinitEvents()},d.prototype.setItems=function(e){this._items=(0,u.clone)(e),this.select(e[0][0],!0),this._rebuildDropdown()},d.prototype.getElement=function(){return this._iddEl},d.prototype.getSelected=function(){return this._selected},d.prototype.select=function(e,t){if(this._opts.sublists&&this._opts.sublists[e])return;let r=!1;if((0,l.each)(this._items,(function(t,n){if(n[0]==e)return r=n,!1})),!1===r)throw new Error("No item found for selection");this._selected=r,this._opts.keepTitle||(this._els.valueEl.textContent=r[1]),(0,n.val)(this._els.hiddenInputEl,e);let a=!0;if(!t&&this._opts.onSelect)try{a=!this._opts.onSelect(r[0],r)}catch(e){console.error(e)}return a},d.prototype.val=function(e,t){return void 0!==e?this.select(e,t):this.getSelected()?this.getSelected()[0]:""}},663939:(e,t,r)=>{"use strict";r.r(t),r.d(t,{EMPTY:()=>n,ENDED:()=>c,ERROR:()=>l,FAKE_PAUSED:()=>d,FAKE_PLAYING:()=>u,PAUSED:()=>_,PLAYING:()=>s,UNSTARTED:()=>a});const n="empty",a="unstarted",s="playing",_="paused",c="ended",l="error",u="fakePlaying",d="fakePaused"},437266:(e,t,r)=>{"use strict";r.d(t,{PLAYLIST_URL_REGEXP:()=>n.PLAYLIST_URL_REGEXP,getPlaylistId:()=>n.getPlaylistId,logPlaylistEvent:()=>n.logPlaylistEvent});var n=r(369488)},369488:(e,t,r)=>{"use strict";r.d(t,{PLAYLIST_URL_REGEXP:()=>a.PLAYLIST_URL_REGEXP,getPlaylistId:()=>a.getPlaylistId,logPlaylistEvent:()=>n.logPlaylistEvent});var n=r(712234),a=r(131462)},712234:(e,t,r)=>{"use strict";r.d(t,{logPlaylistEvent:()=>d});var n=r(538522),a=r(540462),s=r(314309),_=r(317216),c=r(231450);const l=(e,t,r,n)=>{(n=(0,c.getTrackCode)("search_track_code")||n)&&s.searchStatsCollector.logEvent({action:e,type:t,track_code:r||n})},u=(e,t)=>{var r,n,a;r=_.EventItemType.VIDEO,n=e?.track_code,a=t?.searchTrackCode,l(_.SearchClickActionMap.TAP,r,n,a)},d=e=>{const t=(0,n.joinRawId)({itemId:e.id,ownerId:e.owner_id});if(u({},{playlistId:t}),(0,a.partConfigEnabled)("video_playlist_click_events")){const t=e.owner_id===window.vk.id;s.videoPlaylistClickStatsCollector.logEvent({event_type:_.VideoPlaylistEventTypes.PLAY_ALL_PLAYLIST_COVER,album_id:e.id,owner_id:e.owner_id},t?"video_my_playlist":"video_group_playlist")}}},131462:(e,t,r)=>{"use strict";r.d(t,{PLAYLIST_URL_REGEXP:()=>n,getPlaylistId:()=>a});const n=/\/?playlist\/(-?\d+_-?\d+)\/?/,a=()=>{const{strLoc:e="",objLoc:t={}}=window.nav,{pl:r,playlist:a}=t;return e.match(n)?.[1]??r??a}},570366:(e,t,r)=>{"use strict";r.d(t,{getFocusableElements:()=>a,setFocusIsNeed:()=>s});const n=["a[href]","area[href]",'input:not([disabled]):not([hidden]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([hidden]):not([aria-hidden])","textarea:not([disabled])","button:not([disabled])","iframe","audio","video","[contenteditable]",'[tabindex]:not([tabindex="-1"])'];function a(e=document){return Array.from(e.querySelectorAll(n.join())).filter((e=>null!==e.offsetParent)).filter((e=>-1!==e.tabIndex))}function s(e=document,t=[]){if(document.activeElement&&!t.includes(document.activeElement)&&e.contains(document.activeElement))return;const r=function(e=document,t=[]){return a(e).filter((e=>!t.includes(e)))[0]}(e,t);r&&r.focus()}},270262:(e,t,r)=>{"use strict";r.d(t,{AdBlockDetector:()=>_,getAdblockState:()=>c});var n=r(540462),a=r(210909),s=r(558137);class _{get hasResult(){return void 0!==this.reason}async detect(e=!1){return this.hasResult&&!e||(this.reason=await(0,a.isAdblockDetected)(),this.detected=!!this.reason),this.detected}}const c=(0,s.makeSharedState)("adblock_protection/detector",(()=>{const e=new _;return e.detect(),e}),{version:1});((0,n.partConfigEnabled)("post_adblock_protection_promo")||(0,n.partConfigEnabled)("tgb_adblock_protection"))&&c()},962724:(e,t,r)=>{"use strict";r.d(t,{Locator:()=>_});var n=r(283348),a=r(558137);const s=/((#|\.)[a-zA-Z0-9_\-]*)(?:[:|\s]{0})/gi;class _{get isWhitelistedModule(){return this.whitelistedModules.has(window.cur.module)}lookupSelector(e){return this.isWhitelistedModule?this.cache.names[e]??e:e}lookupId(e){return this.lookupSelector(`#${e}`).slice(1)}lookupClassName(e){return this.lookupSelector(`.${e}`).slice(1)}getMappingPairs(){return Object.entries(this.cache.names)}hasCache(){return Object.keys(this.cache.names).length>0}disableLocator(){this.isEnabled=!1}setObserving(e){this.isObserving=e}setWhitelistedModules(e){this.whitelistedModules=new Set(e)}isWhitelistedSelector(e){return this.obfuscateSelectors.has(e)||this.obfuscateSelectorMatchers.some((t=>t(e)))}transform(e){if(!this.isWhitelistedSelector(e))return e;let t=this.cache.names[e];return t||(t=`${e[0]}${(0,n.cid)()}`,this.cache.names[e]=t,this.cache.reverse[t]=e),t}addSelectors(e=[]){for(const t of e)"function"==typeof t?this.obfuscateSelectorMatchers.push(t):this.obfuscateSelectors.add(t)}wrapStyleSheet(e){if(!e.cssRules)return;let t;try{t=new CSSStyleSheet}catch(e){return}for(const r of e.cssRules){if(!(r instanceof CSSStyleRule))continue;const n=r.selectorText,a=n.replace(s,(e=>this.transform(e))),_=r.cssText;if(n!==a){_.includes(": ;")&&console.warn(["[Locator] Найдено неподдерживаемая shorthand-запись, используйте полную запись",`Правило: ${_}`,e?.href?`Файл: ${e.href}`:""].join(". \n"),r);const s=_.replace(n,a);t.insertRule(s,t.cssRules.length)}}return t.cssRules.length>0&&(document.adoptedStyleSheets=[...document.adoptedStyleSheets??[],t]),t}constructor(){this.isEnabled=!0,this.isObserving=!1,this.cache={names:{},reverse:{}},this.obfuscateSelectors=new Set,this.obfuscateSelectorMatchers=[],this.whitelistedModules=new Set}}_.getInstance=(0,a.makeSharedState)("adblock_protection/locator",(()=>new _),{version:3})},283348:(e,t,r)=>{"use strict";r.d(t,{cid:()=>u});var n=r(787661);let a=1e3;const s=function(e){for(let t=0;t<10;t++)e.push(t.toString());for(let t=0;t<25;t++)e.push(String.fromCharCode(97+t)),e.push(String.fromCharCode(65+t));return(0,n.shuffle)(e)}([]),_=s.length;function c(e){return(e>=_?c((e/_|0)-1):"")+s[e%_|0]}const l=function(){const e=[];for(let t=0;e.length<5&&t<s.length;t++)(e.length>0||!/[0-9]/.test(s[t]))&&e.push(s[t]);return e.join("")}(),u=()=>l+c(a++)},865322:(e,t,r)=>{"use strict";r.d(t,{api:()=>p,setApiConfig:()=>E});var n=r(352319),a=r(586138),s=r(157598),_=r(277495),c=r(298077),l=r(810068),u=r(540462),d=r(738150);const p=(e,t,r,a={})=>{if(!s.globalState.isApiInited)return Promise.reject(new Error("[VKJS][API]: api didn't init. Use setApiConfig function"));let l=null;(0,u.partConfigEnabled)("send_stack_trace_request_api_error")&&"groups.getById"===e&&(l=new Error("request api error"));const p=()=>((e,t,r,a={})=>{if(!s.globalState.isAuth)return Promise.reject(new Error("[VKJS][API]: missing access_token"));const _=s.globalState.isAuth||(0,u.partConfigEnabled)("loginvk_api_use_anonymous_token")?t:{client_secret:n.clientSecret,...t};return(0,d.api)(e,_,r,a)})(e,t,r,a).then((e=>e),(e=>{throw l&&(e?.error?.error_msg&&(l.message=e.error.error_msg),(0,c.logError)(l,{breadcrumb:{data:e}})),e}));return s.globalState.didFirstLogin?p():(0,_.fetchToken)().then((e=>(s.globalState.didFirstLogin=!0,(0,d.setApiConfig)({accessToken:e.access_token}),p())))},E=e=>{s.globalState.isApiInited?(0,d.setApiConfig)({...e}):((0,d.setApiConfig)({appId:(0,u.partConfigEnabled)("video_client_appid")?n.clientId:a.VK_WEB_APP_ID,version:a.API_VERSION,onTokenExpired:()=>(0,_.fetchToken)(!0).then((({access_token:e})=>e||"")),grouping:l.Ranges.isUserId(window.vk?.id),formattedExecuteResponse:(0,u.partConfigEnabled)("vkid_api_formatted_execute_response"),...e}),s.globalState.isApiInited=!0)}},277495:(e,t,r)=>{"use strict";r.d(t,{fetchToken:()=>m,login:()=>E,setLoginConfig:()=>p});var n=r(352319),a=r(586138),s=r(157598),_=r(42514),c=r(540462),l=r(105330),u=r(101272),d=r(367375);const p=e=>{s.globalState.isAuthInited||((0,d.setLoginConfig)({appId:a.VK_WEB_APP_ID,...e}),s.globalState.isAuthInited=!0)},E=(e,t,r,n,a={})=>{if(!s.globalState.isAuthInited)return Promise.reject(new Error("[VKJS][LOGIN]: login didn't init. Use setLoginConfig function"));let l;return l=(0,c.partConfigEnabled)("web_api_token_fetch_retry")?(0,_.retryFn)((()=>(0,d.login)(e,t,r,n,a)),2,(e=>[.25,.5][e-1]??.5))():(0,d.login)(e,t,r,n,a),l.then((e=>{if(Boolean(e.access_token)&&(s.globalState.isAuth=!0),window.vk?.id&&!s.globalState.isAuth&&console.error("[VKJS][LOGIN] Token request failed:",e),(0,c.partConfigEnabled)("act_a_check_after_web_token")&&Boolean(e.access_token))try{(0,d.login)("a_check",{access_token:e.access_token})}catch(e){console.error("[VKJS][LOGIN]: a_check act is failed")}return e})).catch((e=>{if(console.error("[VKJS][AUTH]:",e),"unauthorized"===e.error&&"login_error"===e.type){const e=(0,c.partConfigEnabled)("loginvk_unauthorized_force_logout");if(console.error(`[VKJS][AUTH]: logout ${e?"enabled":"disabled"} because `,"loginvk_unauthorized_force_logout = ",e),e)return(0,d.removeLoginCache)(),s.globalState.didFirstLogin=!0,s.globalState.isAuth=!1,(0,u.saveStatlogEvents)({name:"connect_logout_web_link",value:1,keys:[window.location.href]}),window.location.href=window.vk.logoutUrl,new Promise((()=>{}))}return{access_token:"",error:!0,...e}}))},m=(e=!1)=>window.vk?.id<=0&&(0,c.partConfigEnabled)("loginvk_api_use_anonymous_token")?E("get_anonym_token",{client_secret:n.clientSecret,client_id:n.clientId,scopes:"audio_anonymous,video_anonymous,photos_anonymous,profile_anonymous",isApiOauthAnonymEnabled:(0,c.partConfigEnabled)("video_fix_refresh_anonym_token")},{},e):(0,l.isVkVideo)()?(0,l.isMvkVKVideo)()?E("web_token",{},{domain:window.location.hostname,path:"video",appId:n.clientId},e,{headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded"}}):E("web_token",{},{appId:n.clientId,domain:window.location.hostname,path:"al_video.php"},e):E("web_token",{},{},e)},352319:(e,t,r)=>{"use strict";r.d(t,{API_VERSION:()=>I,VK_ID_AUTH_APP:()=>g,VK_MVK_APP_ID:()=>p,VK_MVK_VKVIDEO_APP_ID:()=>m,VK_WEB_APP_ID:()=>d,VK_WEB_VKVIDEO_APP_ID:()=>E,clientId:()=>f,clientSecret:()=>A});var n=r(105330),a=r(831505);const s="aR5NKGmm03GYrCiNKsaw",_="QbYic1K3lEV5kTGiqlq2",c="IjjCNl4L4Tf5QZEXIHKK",l="o557NLIkAErNhakXrQ7A",u="WStp4ihWG4l3nmXZgIbC",d=6287487,p=7879029,E=52461373,m=52649896,g=51781872,{clientSecret:A,clientId:f}=(()=>{let e=d,t=_;return(0,n.isMvk)()&&(e=p,t=s),(0,n.isVkMe)()&&(e=51745158,t=c),(0,n.isVkVideo)()&&(e=E,t=l),(0,n.isMvkVKVideo)()&&(e=m,t=u),{clientId:e,clientSecret:t}})(),I=a.API_VERSION},157598:(e,t,r)=>{"use strict";r.d(t,{globalState:()=>n});const n={isApiInited:!1,isAuthInited:!1,didFirstLogin:!1,isAuth:!1}},586138:(e,t,r)=>{"use strict";r.d(t,{API_VERSION:()=>n.API_VERSION,VK_ID_AUTH_APP:()=>n.VK_ID_AUTH_APP,VK_MVK_APP_ID:()=>n.VK_MVK_APP_ID,VK_MVK_VKVIDEO_APP_ID:()=>n.VK_MVK_VKVIDEO_APP_ID,VK_WEB_APP_ID:()=>n.VK_WEB_APP_ID,VK_WEB_VKVIDEO_APP_ID:()=>n.VK_WEB_VKVIDEO_APP_ID,clientId:()=>n.clientId,clientSecret:()=>n.clientSecret});r(865322),r(277495);var n=r(352319)},805658:(e,t,r)=>{"use strict";r.d(t,{apiWithPrefetch:()=>g,loadPrefetchCache:()=>m,startCacheMissLog:()=>A});var n=r(636576),a=r(831505),s=r(8520),_=r(540462),c=r(298077);let l,u=!1,d=!1,p=new Set;class E extends Error{constructor(e){super("Api request failed."),this.type="api_error",this.error=e}}function m(e,t,r){l!==window.cur.apiPrefetchCache&&(l=(0,s.decodeHTMLEntitiesDeep)(window.cur.apiPrefetchCache),window.cur.apiPrefetchCache=l);const n=window.cur?.apiPrefetchCache?.findIndex((n=>n.method===e&&n.version===t&&f(r,n.request)));if(null==n||-1===n)return p.add(e),void(d=!0);const a=window.cur.apiPrefetchCache?.[n];!function(e,t){if(!e||-1===t)return;e.splice(t,1)}(window.cur.apiPrefetchCache,n);const _=a?.response,c=a?.error;if(c)throw new E(c);return _}const g=async(e,t,r,n={})=>{if(window.apiPrefetchReadyPromise&&await window.apiPrefetchReadyPromise,!window.vkApi)throw new Error("[VKJS][API]: api didn't allowed. Use makeAuthAndApiGlobal function");const s=r?.version??a.API_VERSION;try{const r=m(e,s,t);if(r)return r}catch(e){throw console.error(e),e}return window.vkApi.api(e,t,r,n)};function A(e){if(u)return()=>{};const t=Boolean(window.cur),r=Array.isArray(window.cur?.apiPrefetchCache),a=0===window.cur?.apiPrefetchCache?.length,s=window.cur?.apiPrefetchCache?.map((({method:e})=>e))??[];function l(...l){u&&(u=!1,d&&((0,n.statlogsValueEvent)("api_prefetch_cache_miss",e,...l),(0,_.partConfigEnabled)("log_api_prefetch_cache_miss")&&(0,c.logError)(new Error("apiWithPrefetch has missing caches for some methods"),{breadcrumb:{message:"Extra information",data:{isCurInitialized:t,isPrefetchDefined:r,isPrefetchEmpty:a,existingMethods:s,missingMethods:Array.from(p)}}})))}return u=!0,d=!1,p.clear(),window.setTimeout((()=>{l()})),l}function f(e,t){return e===t||(!(!y(e)||!y(t))||!y(e)&&!y(t)&&(Array.isArray(e)&&"string"==typeof t?I(e,t.split(",")):"string"==typeof e&&Array.isArray(t)?I(e.split(","),t):Array.isArray(e)&&Array.isArray(t)?I(e,t):"object"==typeof e&&"object"==typeof t?function(e,t){const r=e,n=t,a=new Set([...Object.keys(r),...Object.keys(n)]);for(const e of a){if(!f(r[e],n[e]))return!1}return!0}(e,t):"number"==typeof e&&"string"==typeof t?e===Number.parseFloat(t):"string"==typeof e&&"number"==typeof t?Number.parseFloat(e)===t:"number"!=typeof e||1!==e&&0!==e||"boolean"!=typeof t?"boolean"==typeof e&&"number"==typeof t&&(1===t||0===t)&&e===Boolean(t):Boolean(e)===t))}function I(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!f(e[r],t[r]))return!1;return!0}function y(e){return null==e||""===e||Array.isArray(e)&&0===e.length||"object"==typeof e&&null!==e&&0===Object.keys(e).length||"object"==typeof e&&null!==e&&Object.values(e).every(y)}},957994:(e,t,r)=>{"use strict";r.d(t,{api:()=>n,login:()=>a,removeLoginCache:()=>s});const n=(e,t,r,n={})=>window.vkApi?window.vkApi.api(e,t,r,n):Promise.reject(new Error("[VKJS][API]: api didn't allowed. Use makeAuthAndApiGlobal function")),a=(e,t,r,n)=>window.vkApi?window.vkApi.login(e,t,r,n):Promise.reject(new Error("[VKJS]: login didn't allowed. Use makeAuthAndApiGlobal function")),s=(e,t)=>window.vkApi?window.vkApi.removeLoginCache(e,t):console.error("[VKJS]: removeLoginCache didn't allowed. Use makeAuthAndApiGlobal function")},525815:(e,t,r)=>{"use strict";r.d(t,{lifecycle:()=>l});var n=r(558137),a=r(32489),s=r(303790);const _=e=>({create:e.createEvent("create/app"),updateConfig:e.createEvent("create/app"),remount:e.createEvent("remount/app"),close:e.createEvent("close/app"),unmount:e.createEvent("unmount/app")}),c=e=>{const t=e.createStore([]),r=t.map((e=>e[0]??null)),n=e.createStore({startTime:void 0});return{stack:t,currentAppId:r,apps:e.createStore(new Map),bridges:e.createStore(new Map),performance:n}},l=(0,n.makeSharedState)("MiniAppsSDKLifecycle",(()=>{const e=(0,a.createDomain)("MiniAppsSDK_lifecycle"),t=e.createEvent("resetLifecycleEvent");return{resetLifecycleHandlersEvent:t,beforeStart:(0,s.generateLifecycleHooks)("beforeStart",e,t),afterStart:(0,s.generateLifecycleHooks)("afterStart",e,t),afterMount:(0,s.generateLifecycleHooks)("afterMount",e,t),afterInit:(0,s.generateLifecycleHooks)("afterInit",e,t),afterUnmount:(0,s.generateLifecycleHooks)("afterUnmount",e,t),beforeClose:(0,s.generateLifecycleHooks)("beforeClose",e,t),intents:_(e),miniApp:c(e)}}),{version:1})()},303790:(e,t,r)=>{"use strict";r.d(t,{generateLifecycleHooks:()=>_});var n=r(32489),a=r(506856);const s=({handlers:e,data:t})=>{e.forEach((e=>{e(t)}))};const _=(e,t,r)=>{const _=t.createEvent(`add/${e}`),c=t.createEvent(`remove/${e}`),l=t.createEvent(`fire/${e}`),u=t.createEvent(`complete/${e}`),d=t.createStore(new Set,{name:e}),p=t.createEffect(s),E=t.createEffect((e=>t=>{throw(0,a.error)(`MiniAppsSDK/lifecycle/handler/${e}`,t.params,t.error),new Error(`MiniAppsSDK/lifecycle/handler/${e}: ${t.error.message}`)})(e)),m=t.createEffect({name:`add/${e}`,handler:({handlers:e,handler:t})=>{e.add(t)}}),g=t.createEffect({name:`add/${e}`,handler:({handlers:e,handler:t})=>{e.delete(t)}});d.reset(r),(0,n.sample)({clock:_,source:d,fn:(e,t)=>({handlers:e,handler:t}),target:m}),(0,n.sample)({clock:c,source:d,fn:(e,t)=>({handlers:e,handler:t}),target:g}),(0,n.sample)({clock:l,source:d,fn:(e,t)=>({handlers:e,data:t}),target:p}),(0,n.sample)({clock:p.done,fn:({params:e})=>e.data,target:u}),(0,n.sample)({clock:p.fail,target:E});const A=function(e,t){return r=>(e(r),()=>{t(r)})}(_,c);return{add:A,remove:c,fire:l,complete:u}}},670053:(e,t,r)=>{"use strict";r.d(t,{getCurrentApp:()=>c});var n=r(525815),a=r(540462),s=r(150682),_=r(816980);function c(){if((0,_.isSpaLaunch)())return(0,s.getSharedCurrentApp)();if(!(0,a.partConfigEnabled)("mini_apps_replace_cur_app_with_get_current_app"))return window.cur.app;const e=n.lifecycle.miniApp.apps.getState(),[t]=n.lifecycle.miniApp.stack.getState();return e.get(t)?.app??null}},539977:(e,t,r)=>{"use strict";r.d(t,{getCurrentAppAsync:()=>_});var n=r(540462),a=r(150682),s=r(816980);async function _(){if((0,s.isSpaLaunch)())return(0,a.getSharedCurrentApp)();const{lifecycle:e}=await Promise.all([r.e(762),r.e(6086),r.e("langs/web/MiniAppsLifecycle")]).then(r.bind(r,525815));if(!(0,n.partConfigEnabled)("mini_apps_replace_cur_app_with_get_current_app"))return window.cur.app;const t=e.miniApp.apps.getState(),[_]=e.miniApp.stack.getState();return t.get(_)?.app??null}},816980:(e,t,r)=>{"use strict";r.d(t,{isSpaLaunch:()=>s});var n=r(540462),a=r(105330);function s(){const e=!(0,a.isMvk)()&&(0,n.partConfigEnabled)("web_spa_mini_apps_s"),t=(0,a.isMvk)()&&(0,n.partConfigEnabled)("mobile_spa_mini_apps_r");return e||t}},694742:(e,t,r)=>{"use strict";r.d(t,{CUSTOM_MEASURE_TYPE:()=>a,PERFORMANCE_MARK_SHOW_WIKI:()=>n});const n="__navshowwikimark",a={HARD:"hard",SOFT:"soft",FAIL:"fail"}},539310:(e,t,r)=>{"use strict";r.d(t,{CURRENT_APP_SHARED_STATE_KEY:()=>n,IFRAME_APP_TYPE:()=>a});const n="mini_apps_current_app",a=1},150682:(e,t,r)=>{"use strict";r.d(t,{getSharedCurrentApp:()=>_,getSharedState:()=>s});var n=r(558137),a=r(539310);const s=(0,n.makeSharedState)(a.CURRENT_APP_SHARED_STATE_KEY,(()=>({value:null})),{version:1}),_=()=>s().value},802991:(e,t,r)=>{"use strict";function n(e,t="not null assertion failed"){if(null==e)throw new Error(t)}r.d(t,{assertNotNull:()=>n})},706278:(e,t,r)=>{"use strict";r.d(t,{AudioMediaSession:()=>u});var n=r(392358),a=r(423015),s=r(251458),_=r(8520),c=r(636576),l=r(628459);class u{init(){this.mediaSession&&(this.player.subscribe(n.AudioPlayerEventType.PLAY,this.handlePlay),this.player.subscribe(n.AudioPlayerEventType.PLAYLIST_CHANGED,this.handlePlaylistChange))}async updateMediaSessionControls(){const{mediaSession:e}=this;if(e)if(this.player.ads?.isActive)e.setActionHandler("play",this.play),e.setActionHandler("pause",this.pause),e.setActionHandler("seekbackward",null),e.setActionHandler("seekforward",null),e.setActionHandler("previoustrack",null),e.setActionHandler("nexttrack",null);else{e.setActionHandler("play",this.play),e.setActionHandler("pause",this.pause);const t=this.player.getCurrentAudio();if(this.player.isPlaying()?(e.setActionHandler("seekbackward",this.seekBackward),e.setActionHandler("seekforward",this.seekForward)):(e.setActionHandler("seekbackward",null),e.setActionHandler("seekforward",null)),t&&!(0,s.isPodcast)(t))try{const[t,r]=await this.getPrevAndNextAudio();t?e.setActionHandler("previoustrack",this.previousTrack):e.setActionHandler("previoustrack",null);const n=this.player.getCurrentPlaylist();r||n?.isInfinite?.()?e.setActionHandler("nexttrack",this.nextTrack):e.setActionHandler("nexttrack",null)}catch(t){e.setActionHandler("previoustrack",null),e.setActionHandler("nexttrack",null)}else e.setActionHandler("previoustrack",null),e.setActionHandler("nexttrack",null)}}getPrevAndNextAudio(){return Promise.all([this.player.getPrevAudio().catch((()=>null)),this.player.getNextAudio().catch((()=>null))])}constructor(e,t){this.handlePlay=()=>{const{mediaSession:e}=this;if(!e)return;const t=this.player.getCurrentAudio(),r=(0,a.audioTupleToAudioObject)(t);if(!r)return;const n=(0,_.decodeHTMLEntities)(r.title+(r.subTitle?` (${r.subTitle})`:"")).replace(/<[^>]*>?/gm,""),s=(0,_.decodeHTMLEntities)(r.performer||"").replace(/<[^>]*>?/gm,""),c=this.player.getCurrentPlaylist(),u=c?(0,_.decodeHTMLEntities)(c.getTitle&&c.getTitle()||"").replace(/<[^>]*>?/gm,""):"",d=r.coverUrl_p||r.coverUrl_l,p=d?[{sizes:"160x160",src:d}]:[];this.updateMediaSessionControls(),(0,l.updateMediaSessionMetadata)({title:n,artist:s,album:u,artwork:p},e)},this.handlePlaylistChange=()=>{this.player&&!this.player.getCurrentAudio()&&(0,l.clear)()},this.play=()=>{this.player.play(),(0,c.statlogsValueEvent)("global_media_controls","audio_player","play")},this.pause=()=>{this.player.pause(),(0,c.statlogsValueEvent)("global_media_controls","audio_player","pause")},this.previousTrack=()=>{this.player.prev(),(0,c.statlogsValueEvent)("global_media_controls","audio_player","previous_track")},this.nextTrack=()=>{this.player.next(),(0,c.statlogsValueEvent)("global_media_controls","audio_player","next_track")},this.seekBackward=()=>{const e=(0,a.audioTupleToAudioObject)(this.player.getCurrentAudio()),t=e?.duration||0,r=(this.player.getCurrentProgress()||0)*t,n=Math.max(0,(r-10)/t);n>0?this.player.seek(n):this.player.prev(),(0,c.statlogsValueEvent)("global_media_controls","audio_player","seek_backward")},this.seekForward=()=>{const e=(0,a.audioTupleToAudioObject)(this.player.getCurrentAudio()),t=e?.duration||0,r=(this.player.getCurrentProgress()||0)*t,n=Math.min(1,(r+10)/t);n<1?this.player.seek(n):this.player.next(),(0,c.statlogsValueEvent)("global_media_controls","audio_player","seek_forward")},this.player=e,this.mediaSession=t??l.DEFAULT_MEDIA_SESSION}}},392358:(e,t,r)=>{"use strict";r.d(t,{AudioPlayerEventType:()=>n,events:()=>a});var n=function(e){return e.STATE_INITIALIZED="state_initialized",e.CURRENT_AUDIO_CHANGED="current_audio_changed",e.STATE_RESTORED="state_restored",e.CURRENT_CHANGED="curr",e.PLAY="start",e.PLAY_REQUESTED="request_play",e.IMPL_PLAY="impl_play",e.PAUSE="pause",e.STOP="stop",e.UPDATE="update",e.LOADED="loaded",e.ENDED="ended",e.FAILED="failed",e.BUFFERED="buffered",e.PROGRESS="progress",e.VOLUME="volume",e.PLAYLIST_CHANGED="plchange",e.PLAYLIST_CLEAR_REQUESTED="playlist_clear_requested",e.PLAYLIST_CLEARED="playlist_cleared",e.ADDED="added",e.REMOVED="removed",e.FREQ_UPDATE="freq",e.SEEK="seek",e.PLAY_NEXT="play_next",e.AD_READY="ad_ready",e.AD_DEINITED="ad_deinit",e.AD_STARTED="ad_started",e.AD_COMPLETED="ad_completed",e.PLAYER_IS_AD_CHANGED="player_is_ad_changed",e.PLAYER_IS_PLAYING_CHANGED="player_is_playing_changed",e.START_LOADING="start_load",e.CAN_PLAY="actual_start",e.SELECT="select",e.DESELECT="deselect",e.EMPTY_PLAYLIST="empty_playlist",e.NOT_FOUND_PLAYLIST="not_found_playlist",e.INIT="init",e.REQUEST_EXPANDED="request_expanded",e.PLAYLIST_START_LOADING="playlist_start_loading",e.PLAYBACK_QUEUE_SHUFFLED_UPDATED="playback_queue_queue_shuffled_updated",e.MUSIC_AUDIOS_ADD="music_audios_add",e.MUSIC_AUDIOS_DELETE="music_audios_delete",e.MUSIC_PLAYLISTS_ADD="music_playlists_add",e.MUSIC_OWNERS_FOLLOW="music_owners_follow",e.MUSIC_OWNERS_UNFOLLOW="music_owners_unfollow",e.CURATOR_FOLLOW="curator_follow",e.CURATOR_UNFOLLOW="curator_unfollow",e.RADIOSTATION_FOLLOW="radiostation_follow",e.RADIOSTATION_UNFOLLOW="radiostation_unfollow",e.CURRENT_RADIOSTATION_FOLLOW_STATUS_UPDATE="current_radiostation_update",e.CURRENT_AUDIO_DISLIKE_STATUS_UPDATE="current_audio_dislike_status_update",e.AUDIO_RESTORE_BY_DISLIKE_ACTION="audio_restore_by_dislike_action",e.AUDIO_DELETE_BY_DISLIKE_ACTION="audio_delete_by_dislike_action",e.PLACEHOLDER_REMOVE="placeholder_remove",e.PLAY_TRACK_FROM_AUTOPLAY="play_track_from_autoplay",e.CLEAN_AUTOPLAY_QUEUE="clean_autoplay_queue",e.PLAY_PREVIEW="play_preview",e.STOP_PREVIEW="stop_preview",e.END_PREVIEW="end_preview",e.PROGRESS_PREVIEW="progress_preview",e.PREVIEW_BUFFERED="preview_buffered",e.PLAY_SNIPPET="play_snippet",e.STOP_SNIPPET="stop_snippet",e.PROGRESS_SNIPPET="progress_snippet",e.SNIPPET_BUFFERED="snippet_buffered",e.SNIPPET_PLAYER_STATE_CHANGED="snippet_player_state_changed",e.SNIPPET_PLAYER_FAIL="snippet_player_fail",e.SNIPPET_PLAYER_PLAY_NEXT_SNIPPET="snippet_player_play_next_snippet",e.SNIPPET_PLAYER_PLAY_PREV_SNIPPET="snippet_player_play_prev_snippet",e.SNIPPET_PLAYER_SNIPPET_PLAYING_END="snippet_player_snippet_playing_end",e.SNIPPET_PLAYER_CHANGE_SOURCE="snippet_player_change_source",e.SNIPPET_PLAYER_PAUSED_BY_INCOMING_CALL="snippet_player_paused_by_incoming_call",e.SNIPPET_PLAYER_PAUSED_BY_VISIBILITY="snippet_player_paused_by_visibility",e.NAVIGATE_TO_SECTION="navigate_to_section",e}({});const a=n},679937:(e,t,r)=>{"use strict";r.d(t,{AudioMixPlaylist:()=>g,PLAYLIST_CONTEXT_VKMIX:()=>p,PLAYLIST_TYPE_VKMIX:()=>d});var n=r(434518),a=r(763812),s=r(346127),_=r(488150),c=r(702130),l=r(955141),u=r(540462);const d="vkmix",p="vkmix:vk_mix";var E=(0,a._)("_items"),m=(0,a._)("_isSessionLaunched");class g extends c.AudioList{get isSessionLaunched(){return(0,n._)(this,m)[m]}get infinite(){return!0}get isEmpty(){return!1}get items(){return(0,n._)(this,E)[E]}get length(){return this.items.length}audioAt(e){return this.items.at(e)}async fetchAt(e,{range:t=0}={}){const r=this.ensureAbsIndex(e),n=this.audioAt(r),a=r+t+1-this.length;if(n&&a<=0)return n;const[s]=await this.fetchNext(a);if(!s)throw new Error("fetchNext have not return audios");return s}async fetchNext(e=1){const t=(0,u.partConfigEnabled)("audio_recom_playlists_starts_with_last_played_audio_web"),{id:r,blockId:n,isSessionLaunched:a}=this,c=(await this.service.fetchNextFx({id:r,blockId:n,count:e,isSessionLaunched:a,isSessionFeatureEnabled:t})).map((e=>function(e){return{mediaMetadata:{},...(0,s.mapAPIAudioToMusicAudioData)(_.AudioType.MusicTrack,e),apiAudio:e}}(e)));return this.items.push(...c),c}launchSession(){if(0===this.length)throw new Error("Music mix session cannot be launched if there are no tracks in the mix");(0,n._)(this,m)[m]=!0}breakSession(){this.items.length=0,(0,n._)(this,m)[m]=!1}constructor({id:e,blockId:t,title:r,items:a=[],context:s}){super(),Object.defineProperty(this,E,{writable:!0,value:void 0}),Object.defineProperty(this,m,{writable:!0,value:void 0}),(0,n._)(this,m)[m]=!1,this.fetchable=null,this.service=(0,l.createAudioVkMixPlaylistService)(),(0,n._)(this,E)[E]=[...a],this.type=d,this.title=r,this.id=e,this.blockId=t,this.context=s}}},955141:(e,t,r)=>{"use strict";r.d(t,{createAudioVkMixPlaylistService:()=>s});var n=r(32489),a=r(241024);function s(){const e=(0,n.createDomain)("audio/playlist/vkmix"),{$lists:t,fetchNextFx:r}=(0,a.createAudioVkMixService)(e);return{$lists:t,$loading:r.pending,fetchNextFx:r}}},82467:(e,t,r)=>{"use strict";r.d(t,{AudioMixPlaylist:()=>n.AudioMixPlaylist,PLAYLIST_CONTEXT_VKMIX:()=>n.PLAYLIST_CONTEXT_VKMIX,PLAYLIST_TYPE_VKMIX:()=>n.PLAYLIST_TYPE_VKMIX});var n=r(679937)},972623:(e,t,r)=>{"use strict";r.d(t,{AudioStats:()=>$,SUBTYPE_PLAYLIST:()=>G,SUBTYPE_UPLOAD:()=>F,TYPE_ADDED:()=>E,TYPE_REMOVED:()=>m,TYPE_SHARE_AUDIO:()=>f,TYPE_SHOW_ALBUM:()=>A});var n=r(7240),a=r(740342),s=r(636576),_=r(418562),c=r(469004),l=r(346723),u=r(314309),d=r(540462),p=r(317216);const E="added",m="removed",g="recommendation_removed",A="show_album",f="share_audio",I="start",y="stop",R="volume",O="rewind",S="play_further",T="broadcast",P="curator",b="default",C="next_track",D="prev_track",M="auto",L="interruption",N="continue_from_pause",k="new",U="close_app",B="queue",x="pause",F="upload",V="on",K="off",W="follow",H="unfollow",G="playlist",j="session_end",Y={[I]:1,[y]:2,[R]:3,[O]:4,[S]:5,[E]:6,[m]:7,[g]:8,[A]:9,[f]:10,[T]:11,[P]:12,[p.RADIO_STATION_EVENT_ITEM]:13},z={[b]:1,[C]:2,[D]:3,[M]:4,[L]:5,[N]:6,[k]:7,[U]:8,[B]:9,[x]:10,[F]:11,[V]:12,[K]:13,[W]:14,[H]:15},q="audio_unique_unauth_id";class ${listenOnBeforeUnload(){window.addEvent(window,"beforeunload",this.onPageClose)}stopListenOnBeforeUnload(){window.removeEvent(window,"beforeunload",this.onPageClose)}logEvent(e){return this.actionStatCollector.logEvent(e)}canOperate(){return!!this.playerAdapter&&!(this.playerAdapter.isPodcast()||this.playerAdapter.isExternalStream()||this.playerAdapter.isAdPlaying()||this.playerAdapter.isMarusiaTrack())}getCurrentAudioParams(){if(!this.playerAdapter)return{};const e=this.currentAudioId||this.playerAdapter.getAudioId();if(e){const[t,r]=e.split("_");return{ownerId:t,audioId:r,trackCode:this.currentAudioTrackCode||this.playerAdapter.getAudioTrackCode()}}return{}}getEnvParams(){if(this.playerAdapter)return{state:this.playerAdapter.getState(),context:this.playerAdapter.getContext(),ref:window.cur&&window.vk.widget?String(window.cur.widgetReferrer||"").substring(0,20):""}}getListenedTime(){return this.playerAdapter&&Math.round(this.playerAdapter.getListenedTime())||0}getPlaySubtype(){if(!this.playerAdapter)return"";if(this.playerAdapter.isAutoPlayed())return M;const e=this.playerAdapter.getSequence();if(e)return e>0?C:D;const t=this.pausedAudioId,r=this.playerAdapter.getAudioId();return t&&r===t?N:k}onRadioOn(e){(0,d.partConfigEnabled)("audioRadioActionStatCollectorEnabled")?this.actionStatCollector.logEvent({type:p.RADIO_STATION_EVENT_ITEM,[p.RADIO_STATION_EVENT_ITEM]:{event_type:V,radio_station_id:e.id,track_code:e.trackCode}}):this.sendAudioEvent({type:p.RADIO_STATION_EVENT_ITEM,subtype:V,playlistId:e.id,trackCode:e.trackCode})}onRadioOff(e){(0,d.partConfigEnabled)("audioRadioActionStatCollectorEnabled")?this.actionStatCollector.logEvent({type:p.RADIO_STATION_EVENT_ITEM,[p.RADIO_STATION_EVENT_ITEM]:{event_type:K,radio_station_id:e.id,duration:this.getListenedTime(),track_code:e.trackCode}}):this.sendAudioEvent({type:p.RADIO_STATION_EVENT_ITEM,subtype:K,playlistId:e.id,listened:this.getListenedTime(),trackCode:e.trackCode})}onTrackSwitch(e,t){if(!e||!this.playerAdapter)return;let r=k;const n=this.playerAdapter.getSequence(),[a,s]=e.fullId.split("_");this.playerAdapter.isAutoPlayed()?r=M:n&&(r=n>0?C:D),this.sendCurrentAudioEvent({type:y,subtype:r,position:this.currentPosition,listened:this.currentListened,trackCode:e.trackCode,playlistId:t,ownerId:Number(a),audioId:Number(s)}),this.wasEnded=!0,this.collectListenedData(e),this.collectListenedDataSwitch();const _=this.listenedData;this.listenedData=null,this.sendListenedData(_)}onPageClose(){this.playerAdapter&&this.playerAdapter.isPlaying()&&(this.sendCurrentAudioEvent({type:y,subtype:U}),this.sendListenedData())}collectListenedDataSwitch(){if(this.listenedData){if(this.listenedData.end_stream_reason===j||!this.playerAdapter)return;const e=this.playerAdapter.isAutoPlayed(),t=this.getListenedTime(),r=this.playerAdapter.getSequence();let n=null;r&&!e?n=r>0?"next_btn":"prev":this.playlistChanged&&(n="playlist_change"),!n&&e&&(n="playlist_next"),this.listenedData.end_stream_reason=n||"new",t&&(this.listenedData.listened=t)}}collectListenedData(e=null){const t=e||this.currentAudio;if(!this.canOperate()||!t||!this.playerAdapter)return null;const r=t.fullId,n=t.trackCode||this.playerAdapter.getAudioTrackCode(),a=this.getListenedTime(),s=t.urlHash;if(s||console.log("no url hash"),!a||!s)return null;let _={audio_id:r,listened:a,context:this.playerAdapter.getContext(),hash:s};return window.cur&&window.vk.widget&&(_.ref=window.cur.widgetReferrer||""),this.playerAdapter.hasSearchParams()&&(_.search_params=JSON.stringify(this.playerAdapter.getSearchParams())),this.playerAdapter.hasPlaylist()&&(this.playerAdapter.isRealPlaylist()&&(_.playlist_id=this.playerAdapter.getPlaylistId()),this.playerAdapter.isShuffledPlaylist()&&(_.shuffled=1)),n&&(_.track_code=n),this.playerAdapter.isRepeatCurrentAudio()?_.repeat="one":this.playerAdapter.isRepeatAll()&&(_.repeat="all"),this.playerAdapter.isAutoPlayed()&&(_.auto=1),this.playerAdapter.hasPrevAudio()&&(_.prev_audio_id=this.playerAdapter.getPrevAudioId()),this.playerAdapter.hasPrevPlaylist()&&this.playerAdapter.isRealPrevPlaylist()&&(_.prev_playlist_id=this.playerAdapter.getPrevPlaylistId()),this.playerAdapter.isPlaying()||(_.end_stream_reason="stop_btn"),_.state=document.hidden?"background":"app",this.listenedData=_,this.sendListenedDataDelayed(1e4,_),_}sendListenedData(e=null){if(null!==this.sendTimeout&&clearTimeout(this.sendTimeout),!this.withMarketingStats)return;const t=e||this.listenedData;this.listenedData=null,t&&t.listened&&this.playerAdapter&&(this.uniqueUserId&&(t.unique_id=this.uniqueUserId),this.playerAdapter.sendListenedData?.(t))}sendListenedDataDelayed(e=0,t=null){null!==this.sendTimeout&&clearTimeout(this.sendTimeout),this.sendTimeout=setTimeout((()=>this.sendListenedData(t)),e)}serializeEvent(e){const t=[Y[e.type],z[e.subtype],1];return e.audioId?t.push(e.ownerId+"_"+e.audioId):t.push(0),e.trackCode?t.push(e.trackCode):t.push(0),e.state?t.push(e.state):t.push(n.UNKNOWN_STATE),e.ref?t.push(e.ref):t.push(""),e.context?t.push(e.context):t.push("other"),e.volume||0===e.volume?t.push(e.volume):t.push(this.playerAdapter&&this.playerAdapter.getVolume()),e.position||0===e.position?t.push(e.position):t.push(this.playerAdapter&&this.playerAdapter.getProgressInSeconds()),e.shuffle?t.push(e.shuffle?1:0):t.push(0),e.repeat?t.push(e.repeat):t.push(0),e.listened?t.push(Math.max(e.listened,0)):t.push(0),e.playlistId?t.push(e.playlistId):t.push(""),e.targetOwnerId?t.push(e.targetOwnerId):t.push(0),this.uniqueUserId?t.push(this.uniqueUserId):t.push(""),e.positionTo?t.push(e.positionTo):t.push(null),t}sendEvent(e){this.debug&&(console.log("[audio stats event]",e.type,e.subtype,e),window._statForTest||r._dG("_statForTest",[]),window._statForTest.push(e)),(0,s.statlogsValueEvent)("audio_sts",...this.serializeEvent(e))}sendCurrentAudioEvent(e){if(!this.playerAdapter)return;const t=this.playerAdapter.isRepeatCurrentAudio()?1:this.playerAdapter.isRepeatAll()?2:0;this.sendEvent({shuffle:this.playerAdapter.isShuffledPlaylist(),repeat:t,volume:this.playerAdapter.getVolume(),position:this.playerAdapter.getProgressInSeconds(),listened:this.getListenedTime(),playlistId:this.playerAdapter.getPlaylistId(),...this.getEnvParams(),...this.getCurrentAudioParams(),...e})}sendAudioEvent(e){const t={...e,...this.getEnvParams()};!window.vk.id&&this.uniqueUserId&&(t.uniqueUnauthId=this.uniqueUserId),this.sendEvent(t)}destroy(){this.playerAdapter.events.off("play",this.handlePlay).off("pause",this.handlePause).off("stop",this.handlePause).off("progress",this.handleProgress).off("volume",this.handleVolume).off("seekLegacy",this.handleSeek).off("playlistChanged",this.handlePlaylistChanged).off("ended",this.handleEnded).off("playNext",this.handlePlayNext).off("adCompleted",this.handleAdCompleted),this.stopListenOnBeforeUnload(),this.listenedData=null,null!==this.sendTimeout&&clearTimeout(this.sendTimeout)}constructor(e,t=!0){if(this.withMarketingStats=t,this.handlePlay=()=>{if(!this.playerAdapter)return;const e=this.playerAdapter.getAudio();if(!e)return;if(this.playerAdapter.isRadio()&&!this.playerAdapter.isMarusiaTrack())return void this.onRadioOn(e);if(this.playerAdapter.isMarusiaTrack())return void l.marusiaAudioStats.onPlay(this.playerAdapter);if(!this.canOperate())return;const t=e.fullId,r=this.currentAudioId===t||!this.currentAudioId,n=this.currentAudioId!==this.pausedAudioId;let a=this.playerAdapter.getListenedTime();!r&&n&&this.onTrackSwitch(this.currentAudio,this.currentPlaylistId),this.playedTime=Date.now(),this.currentAudioId=t,this.currentAudio=e,this.currentAudioTrackCode=this.playerAdapter.getAudioTrackCode()??null,this.currentPlaylistId=this.playerAdapter.getPlaylistId(),this.wasEnded||this.playerAdapter.hasPrevAudio()&&(!this.pausedAudioId||this.playerAdapter.isAutoPlayed())?(this.currentPosition=0,a=0):this.currentPosition=this.playerAdapter.getProgressInSeconds(),this.currentListened=a,this.sendCurrentAudioEvent({type:I,subtype:this.getPlaySubtype(),position:this.currentPosition,listened:a}),this.pausedAudioId=null,this.playlistChanged=!1,this.wasEnded=!1,this.listenOnBeforeUnload()},this.handlePause=()=>{if(!this.playerAdapter)return;const e=this.playerAdapter.getAudio();if(!e)return;if(this.playerAdapter.isRadio()&&!this.playerAdapter.isMarusiaTrack())return void this.onRadioOff(e);if(this.playerAdapter.isMarusiaTrack())return void l.marusiaAudioStats.onPause(this.playerAdapter);const t=this.playerAdapter.getAudioId();if(!this.canOperate()||!t)return;const r=this.collectListenedData();this.sendListenedDataDelayed(1e3,r),setTimeout((()=>{if(this.currentAudio&&t!==this.currentAudio.fullId)return;if(Date.now()-this.playedTime<150)return;if(!this.playerAdapter)return;this.pausedAudioId=t;const e=this.playerAdapter.getPausedBy();this.sendCurrentAudioEvent({type:y,subtype:e?e===B?B:L:x})}),100),this.stopListenOnBeforeUnload()},this.handleProgress=()=>{this.playerAdapter&&(this.playerAdapter.getProgress()<.01||!this.playerAdapter.isPlaying()||(this.currentPosition=this.playerAdapter.getProgressInSeconds(),this.currentListened=this.playerAdapter.getListenedTime(),!this.pausedAudioId&&Date.now()-this.playedTime>150&&this.collectListenedData(),this.adsCompleted&&(this.sendCurrentAudioEvent({type:I,subtype:this.getPlaySubtype(),position:this.currentPosition}),this.adsCompleted=!1)))},this.handleVolume=(0,a.debounce)((()=>{this.canOperate()&&this.sendCurrentAudioEvent({type:R,subtype:b})}),300),this.handleSeek=()=>{if(!this.canOperate()||!this.playerAdapter)return;const e={position:this.currentPosition,positionTo:this.playerAdapter.getProgressInSeconds()};e.position!==e.positionTo&&this.sendCurrentAudioEvent({type:O,subtype:b,...e})},this.handlePlaylistChanged=()=>{this.canOperate()&&(this.playlistChanged=!0)},this.handleEnded=()=>{this.listenedData&&this.playerAdapter.isLastTrack()&&(this.listenedData.end_stream_reason=j),this.wasEnded=!0,this.playerAdapter.isRepeatCurrentAudio()?(this.sendCurrentAudioEvent({type:y,subtype:M}),this.collectListenedData(),this.sendListenedData()):this.sendListenedDataDelayed(150)},this.handlePlayNext=({audioFullId:e})=>{if(!this.canOperate()||!e)return;const[t,r]=e.split("_");this.sendAudioEvent({type:S,subtype:b,ownerId:Number(t),audioId:Number(r)})},this.handleAdCompleted=()=>{this.adsCompleted=!0},this.handleBroadcastStatusToggled=({status:e,targetOwnerId:t})=>{this.sendCurrentAudioEvent({type:T,subtype:e?V:K,targetOwnerId:t.toString()})},this.playerAdapter=e,this.listenedData=null,this.sendTimeout=null,this.currentAudioId=null,this.currentAudio=null,this.currentAudioTrackCode=null,this.pausedAudioId=null,this.playlistChanged=!1,this.currentPosition=0,this.currentListened=0,this.playedTime=0,this.adsCompleted=!1,this.wasEnded=!1,window.vk.id)this.uniqueUserId=null;else{const e=c.ls.get(q);e?this.uniqueUserId=e:(this.uniqueUserId=(0,_.default)(),c.ls.set(q,this.uniqueUserId))}this.debug=e.isDebug(),this.playerAdapter.events.on("play",this.handlePlay).on("pause",this.handlePause).on("stop",this.handlePause).on("progress",this.handleProgress).on("volume",this.handleVolume).on("seekLegacy",this.handleSeek).on("playlistChanged",this.handlePlaylistChanged).on("ended",this.handleEnded).on("playNext",this.handlePlayNext).on("adCompleted",this.handleAdCompleted).on("broadcastStatusToggled",this.handleBroadcastStatusToggled),this.onPageClose=this.onPageClose.bind(this),this.productionStatCollector=new u.ProductionStatCollector,this.actionStatCollector=new u.ActionStatCollector(this.productionStatCollector)}}},315283:(e,t,r)=>{"use strict";r.d(t,{AudioStatsPlayerAdapter:()=>c,FULL_SCREEN_STATE:()=>_,UNKNOWN_STATE:()=>s});var n=r(392358),a=r(426389);const s=0,_=2;class c{destory(){this.unlistenPlayer()}get events(){return this.emitter.listenable}getPausedBy(){return null}getState(){return document.hidden?1:3}getProgress(){return this.player.playerGetProgress()}getProgressInSeconds(){return this.player.getProgressInSeconds()}getVolume(){return this.player.getVolume()}getAudioId(){return this.player.getAudioId()}getAudio(){return this.player.getAudio()}getAudioTrackCode(){return this.player.getAudioTrackCode()}getPrevAudioId(){return this.player.getPrevAudioId()}getPrevPlaylistId(){return this.player.getPrevPlaylistId()}getPlaylistId(){return this.player.getPlaylistId()}getContext(){return this.player.getContext()}getSequence(){return this.player.getSequence()}getType(){return this.player.getType()}getListenedTime(){return isNaN(this.player.getListenedTime())?0:Math.round(this.player.getListenedTime())}getSearchParams(){return this.player.getSearchParams()}isPlaying(){return this.player.isPlaying()}isPaused(){return this.player.isPaused()}isAutoPlayed(){return this.player.isAutoPlayed()}isRepeatCurrentAudio(){return this.player.isRepeatCurrentAudio()}isRepeatAll(){return this.player.isRepeatAll()}isShuffledPlaylist(){return this.player.isShuffledPlaylist()}isRealPlaylist(){return this.player.isRealPlaylist()}isRealPrevPlaylist(){return this.player.isRealPrevPlaylist()}isPodcast(){return this.player.isPodcast()}isExternalStream(){return this.player.isExternalStream()}isRadio(){return this.player.isRadio()}isMarusiaTrack(){return this.player.isMarusiaTrack()}isAdPlaying(){return this.player.ads.isActive}isLastTrack(){return this.player.isLastTrack()}getTrackPosition(){return this.player.getTrackPosition()}hasPrevAudio(){return this.player.hasPrevAudio()}hasPrevPlaylist(){return this.player.hasPrevPlaylist()}hasPlaylist(){return this.player.hasPlaylist()}hasSearchParams(){return this.player.hasSearchParams()}isDebug(){return!1}sendListenedData(e){return this.player.sendListenedData(e)}getPlaylistQueue(){return null}getCurrentAudio(){return this.player.getCurrentAudioData()}getPlayingAudio(){return this.isPlaying()||this.isPaused()?this.getCurrentAudio():null}listenPlayer(){this.player.subscribe(n.AudioPlayerEventType.PLAY,this.handlePlayerPlay),this.player.subscribe(n.AudioPlayerEventType.PAUSE,this.handlePlayerPause),this.player.subscribe(n.AudioPlayerEventType.STOP,this.handlePlayerStop),this.player.subscribe(n.AudioPlayerEventType.PROGRESS,this.handlePlayerProgress),this.player.subscribe(n.AudioPlayerEventType.VOLUME,this.handlePlayerVolume),this.player.subscribe(n.AudioPlayerEventType.SEEK,this.handlePlayerSeekLegacy),this.player.subscribe(n.AudioPlayerEventType.PLAYLIST_CHANGED,this.handlePlayerPlaylistChanged),this.player.subscribe(n.AudioPlayerEventType.ENDED,this.handlePlayerEnded),this.player.subscribe(n.AudioPlayerEventType.PLAY_NEXT,this.handlePlayerPlayNext),this.player.subscribe(n.AudioPlayerEventType.AD_COMPLETED,this.handlePlayerAdCompleted);const e=this.player.nextEvents;e?.on&&(e.on("playAudio",this.handlePlayerPlayMarked),e.on("pauseAudio",this.handlePlayerPauseMarked),e.on("stopAudio",this.handlePlayerStopMarked),e.on("playAdv",this.handlePlayerPlayAdv),e.on("pauseAdv",this.handlePlayerPauseAdv),e.on("stopAdv",this.handlePlayerStopAdv),e.on("seek",this.handlePlayerSeek),e.on("stateRestore",this.handlePlayerStateRestore),e.on("broadcastStatusToggled",this.handlePlayerBroadcastStatusToggled))}unlistenPlayer(){this.player.unsubscribe(n.AudioPlayerEventType.PLAY,this.handlePlayerPlay),this.player.unsubscribe(n.AudioPlayerEventType.PAUSE,this.handlePlayerPause),this.player.unsubscribe(n.AudioPlayerEventType.STOP,this.handlePlayerStop),this.player.unsubscribe(n.AudioPlayerEventType.PROGRESS,this.handlePlayerProgress),this.player.unsubscribe(n.AudioPlayerEventType.VOLUME,this.handlePlayerVolume),this.player.unsubscribe(n.AudioPlayerEventType.SEEK,this.handlePlayerSeekLegacy),this.player.unsubscribe(n.AudioPlayerEventType.PLAYLIST_CHANGED,this.handlePlayerPlaylistChanged),this.player.unsubscribe(n.AudioPlayerEventType.ENDED,this.handlePlayerEnded),this.player.unsubscribe(n.AudioPlayerEventType.PLAY_NEXT,this.handlePlayerPlayNext),this.player.unsubscribe(n.AudioPlayerEventType.AD_COMPLETED,this.handlePlayerAdCompleted);const e=this.player.nextEvents;e?.off&&(e.off("playAudio",this.handlePlayerPlayMarked),e.off("pauseAudio",this.handlePlayerPauseMarked),e.off("stopAudio",this.handlePlayerStopMarked),e.off("playAdv",this.handlePlayerPlayAdv),e.off("pauseAdv",this.handlePlayerPauseAdv),e.off("stopAdv",this.handlePlayerStopAdv),e.off("seek",this.handlePlayerSeek),e.off("stateRestore",this.handlePlayerStateRestore))}constructor(e,t){this.emitterFactory=t,this.emitter=this.emitterFactory.create(),this.handlePlayerPlay=()=>{this.emitter.emit("play")},this.handlePlayerPlayMarked=e=>{const{audio:t,reason:r,progressTime:n}=e;E(t),function(e){if(!l.includes(e))throw new Error(`Invalid play reason: ${e}`)}(r),m(n),this.emitter.emit("playAudio",{audio:t,reason:r,progressTime:n})},this.handlePlayerPause=()=>{this.emitter.emit("pause")},this.handlePlayerPauseMarked=e=>{const{audio:t,reason:r,progressTime:n}=e;E(t),function(e){if(!u.includes(e))throw new Error(`Invalid pause reason: ${e}`)}(r),m(n),this.emitter.emit("pauseAudio",{audio:t,reason:r,progressTime:n})},this.handlePlayerStop=()=>{this.emitter.emit("stop")},this.handlePlayerStopMarked=e=>{const{audio:t,reason:r,progressTime:n}=e;E(t),function(e){if(!d.includes(e))throw new Error(`Invalid stop reason: ${e}`)}(r),m(n),this.emitter.emit("stopAudio",{audio:t,reason:r,progressTime:n})},this.handlePlayerProgress=()=>{this.emitter.emit("progress")},this.handlePlayerVolume=()=>{this.emitter.emit("volume")},this.handlePlayerSeekLegacy=()=>{this.emitter.emit("seekLegacy")},this.handlePlayerSeek=e=>{const{audio:t,reason:r,progressTime:n,fromTime:a}=e;E(t),function(e){if(!p.includes(e))throw new Error(`Invalid seek reason: ${e}`)}(r),m(n),m(a),this.emitter.emit("seek",{audio:t,reason:r,progressTime:n,fromTime:a})},this.handlePlayerPlaylistChanged=()=>{this.emitter.emit("playlistChanged")},this.handlePlayerEnded=()=>{this.emitter.emit("ended")},this.handlePlayerPlayNext=(e,t)=>{this.emitter.emit("playNext",{currentAudio:e,audioFullId:t})},this.handlePlayerAdCompleted=()=>{this.emitter.emit("adCompleted")},this.handlePlayerPlayAdv=e=>{this.emitter.emit("playAdv",e)},this.handlePlayerPauseAdv=e=>{this.emitter.emit("pauseAdv",e)},this.handlePlayerStopAdv=e=>{this.emitter.emit("stopAdv",e)},this.handlePlayerStateRestore=e=>{const{audio:t,progressTime:r}=e;t&&E(t),m(r),this.emitter.emit("stateRestore",{audio:t,progressTime:r})},this.handlePlayerBroadcastStatusToggled=e=>{this.emitter.emit("broadcastStatusToggled",e)},this.player=e,this.listenPlayer()}}const l=Object.values(a.AudioPlayerPlayAudioEventReason),u=Object.values(a.AudioPlayerPauseAudioEventReason),d=Object.values(a.AudioPlayerStopAudioEventReason),p=Object.values(a.AudioPlayerSeekEventReason);function E(e){if(!e||"object"!=typeof e)throw new Error(`Invalid TrackedAudioData: ${e}`);if(!Number.isFinite(e.id))throw new Error(`Invalid TrackedAudioData (id is not finite): ${e.id}`);if(!Number.isFinite(e.ownerId))throw new Error(`Invalid TrackedAudioData (ownerId is not finite): ${e.ownerId}`);if("string"!=typeof e.trackCode)throw new Error("Invalid TrackedAudioData (trackCode is not string): "+typeof e.trackCode)}function m(e){if("number"!=typeof e)throw new Error(`Value is not number (given: ${typeof e})`)}},7240:(e,t,r)=>{"use strict";r.d(t,{AudioStatsPlayerAdapter:()=>n.AudioStatsPlayerAdapter,FULL_SCREEN_STATE:()=>n.FULL_SCREEN_STATE,UNKNOWN_STATE:()=>n.UNKNOWN_STATE});var n=r(315283)},956648:(e,t,r)=>{"use strict";r.d(t,{AudioTaskManager:()=>s,TaskName:()=>a});var n=r(762701),a=function(e){return e.URL="url",e.PLAYBACK_RATE="playback_rate",e.DELAY="delay",e.SEEK="seek",e.PAUSE="pause",e.PLAY="play",e.VOL_SET="vol_set",e.VOL_UP="vol_up",e.VOL_DOWN="vol_down",e}({});class s{newTask(e,t){let r,n;const a=new Promise(((e,t)=>{r=e,n=t}));return this.tasks.push({name:e,fn:()=>t().then(r).catch(n),id:`${e}_${this.taskIDCounter++}`}),this.doTasks(),a}clearAllTasks(){this.taskAbort=this.taskInProgress,this.taskInProgress=null,this.tasks=[]}clearTask(e){this.tasks=this.tasks||[],this.tasks=this.tasks.filter((t=>t.name!==e))}doTasks(){if(this.taskInProgress)return;const e=this.tasks.shift();e&&(this.taskInProgress=e.id,this.ensureImplReady().then((()=>e.fn())).then((()=>{this.taskAbort!==e.id?(this.taskInProgress=null,this.doTasks()):this.taskAbort=null})))}ensureImplReady(){return new Promise((e=>this.impl.onReady(e)))}delay(e){return this.newTask("delay",(()=>new Promise((t=>(0,n.setWorkerTimeout)(t,e)))))}setUrl(e){return this.newTask("url",(()=>new Promise((t=>this.impl.setUrl(e,t)))))}seekImmediate(e){this.impl.seek(e)}seek(e){return this.clearTask("seek"),this.newTask("seek",(()=>new Promise((t=>{this.seekImmediate(e),t()}))))}pause(){return this.newTask("pause",(()=>new Promise((e=>{this.impl.pause(),e()}))))}play(){return window.browser.safari&&this.impl.play(),this.newTask("play",(()=>new Promise(((e,t)=>{this.impl.play().then(e).catch(t)}))))}setVolume(e,t,r=null){if(t){const t=e?"vol_up":"vol_down";return this.newTask(t,(()=>new Promise((t=>this.impl.fadeVolume(e,r,(()=>t()))))))}return this.newTask("vol_set",(()=>new Promise((t=>{this.impl.setVolume(e),t()}))))}updatePlaybackRate(e){return this.newTask("playback_rate",(()=>new Promise((t=>{this.impl.setPlaybackRate(e),t()}))))}constructor(e){this.impl=e,this.taskIDCounter=1,this.tasks=[],this.taskInProgress=null,this.taskAbort=null}}},653192:(e,t,r)=>{"use strict";r.d(t,{AutoplayQueue:()=>u});var n=r(8520),a=r(867366),s=r(392358),_=r(519290),c=r(18058),l=r(730640);class u{get list(){return this._list}get length(){return this._list.length}get enabled(){return this.service.$enabled.getState()}hasSource(e){const t=(0,l.clearObject)({...e,offset:void 0});return this.sources.some((e=>(0,n.isEqual)(t,(0,l.clearObject)({...e,offset:void 0}))))}setSource(e){this.hasSource(e)||(this.sources=[(0,l.clearObject)(e)],this.nextFrom=null,this._list=[],this.hasMore=!0,this.fetchNextAudios())}async fetchNextAudios(){try{const e=this.nextFrom??this.sources[0];if(!e)return[];const t=await this.fetchService.getAutoplayAudioIdsBySource(e);if(!t)return[];const{next_from:r,audios:n}=t;if(this.nextFrom=r,this.hasSource(r)||this.sources.push(r),!n||!n.length)return this.hasMore=!1,[];const s=n.map((e=>e.audio_raw_id)).join(","),c=await this.fetchService.reloadAudios(s),l=this.getCurrentQueueAudioIds(),u=c.map(((e,t)=>(e[a.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_ACCESS_KEY]=n[t]?.access_key||"",e[a.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_TRACK_CODE]=n[t]?.track_code||"",e[a.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_CONTEXT]="autoplay",e))).filter((e=>!l.some((t=>t.includes((0,_.getAudioFullId)(e))))));return this._list.push(...u),u}catch(e){console.log(e)}}async getNextAudios(e=0){const t=Math.min(e+10,this._list.length);if(e>this._list.length-1){const t=await this.fetchNextAudios();return t&&t.length>0?this.getNextAudios(e):[]}return this._list.slice(e,t)}getAudioById(e){return this._list.find((t=>e.includes((0,_.getAudioFullId)(t))))}indexOf(e){const t=(0,_.getAudioFullId)(e);return this._list.findIndex((e=>(0,_.getAudioFullId)(e)===t))}spliceHead(e){return this._list.splice(0,e+1)}clean(){this._list=[],this.sources=[],this.nextFrom=null,this.hasMore=!1,this.eventBus.emit(s.AudioPlayerEventType.CLEAN_AUTOPLAY_QUEUE)}constructor(e,t,r){this._list=[],this.sources=[],this.nextFrom=null,this.service=(0,c.ensureAutoplayService)(),this.hasMore=!0,this.fetchService=e,this.getCurrentQueueAudioIds=r,this.eventBus=t,this.service.init()}}},726680:(e,t,r)=>{"use strict";r.d(t,{EventBus:()=>n});class n{subscribe(e,t){return Array.isArray(e)&&e.forEach((e=>this.subscribe(e,t))),this.subscriptions[e]||(this.subscriptions[e]=[]),this.subscriptions[e].push(t),{unsubscribe:()=>this.unsubscribe(e,t)}}unsubscribe(e,t){if(this.subscriptions[e]){const r=this.subscriptions[e].indexOf(t);r>=0&&this.subscriptions[e].splice(r,1)}}emit(e,...t){this.precheck&&!this.precheck(e,...t)||(this.onAnyCallBack&&setTimeout((()=>this.onAnyCallBack(e,...t))),this.subscriptions[e]&&this.subscriptions[e].forEach((e=>setTimeout((()=>e(...t))))))}constructor(){this.subscriptions={}}}},269808:(e,t,r)=>{"use strict";r.d(t,{PlaylistSourceType:()=>n,PlaylistType:()=>a,isAutoplayEnabledForPlaylist:()=>_});var n=function(e){return e.CATALOG="catalog",e.MESSAGE="im",e.FEED="feed",e.WALL="wall",e.ALBUM="album",e.CURATOR="curator",e.PLAYLIST="playlist",e.VKMIX="vkmix",e.PODCAST="podcast",e}({}),a=function(e){return e.TYPE_CURRENT="current",e.TYPE_PLAYLIST="playlist",e.TYPE_MY="my",e.TYPE_ALBUM="album",e.TYPE_TEMP="temp",e.TYPE_RECOM="recoms",e.TYPE_SEARCH="search",e.TYPE_LIVE="live",e.TYPE_WALL="wall",e.TYPE_RECENT="recent",e.TYPE_RADIO="radio",e.TYPE_ARTICLE_TTS="article_tts",e.TYPE_VKMIX="vkmix",e}({});const s=["radio","article_tts"],_=e=>!s.includes(e.getType())},673269:(e,t,r)=>{"use strict";r.d(t,{PlaylistQueue:()=>G});var n=r(434518),a=r(763812),s=r(8520),_=r(540462),c=r(898848),l=r(667545),u=r(867366),d=r(423015),p=r(653192),E=r(392358),m=r(269808),g=r(223009),A=r(590733),f=r(213236),I=r(105330),y=r(519290),R=r(482310),O=r(137590),S=r(768035);function T(e){let t=e.length;for(;t>0;){const r=Math.floor(Math.random()*t);t--;const n=e[t];e[t]=e[r],e[r]=n}return e}const{AUDIO_ITEM_INDEX_OWNER_ID:P,AUDIO_ITEM_INDEX_TRACK_CODE:b,AUDIO_ITEM_INDEX_ID:C,AUDIO_QUEUE_MAX_AUDIOS_COUNT:D,AUDIO_ITEM_INDEX_URL:M,AUDIO_ITEM_INDEX_TITLE:L,AUDIO_ITEM_INDEX_PERFORMER:N,AUDIO_ITEM_INDEX_EXTRA:k,AUDIO_ITEM_ACCESS_KEY:U,AUDIO_ITEM_INDEX_CONTEXT:B}=u.AUDIO_PLAYER_ENUMS;var x=(0,a._)("_shuffled"),F=(0,a._)("_currentAudio"),V=(0,a._)("_unshuffle"),K=(0,a._)("_shuffle"),W=(0,a._)("_setShuffled"),H=(0,a._)("_connectEventBusEvents");class G{get isAutoplayEnabled(){return this._autoplayQueue?.enabled??!1}get eventBus(){return this._eventBus}get autoplayQueue(){return this.isAutoplaySupported?this._autoplayQueue:null}get list(){return this._list}get source(){return this._source}get shuffled(){return(0,n._)(this,x)[x]}setSortedQueue(e,t){Array.isArray(e)&&((0,n._)(this,F)[F]=null,this._list=[],this.originalList=[],this.addToList(e),t&&this.setSource(t))}async setSortedQueueByPlaylist(e,t){return this.clean(),this.addPlaylist(e,t)}setSource(e){this._source=e}setAutoplaySourceFromPlaylist(e){if(!this.isAutoplaySupported)return;const t=(0,g.getPlaylistRawSource)(e),r=(0,f.getAutoplayPlaylistSource)(t);this.setAutoplaySource(r)}setAutoplaySource(e){this._autoplayQueue?.setSource({...e,offset:0})}getAudioIds(e){return"string"==typeof e?e.split("_"):"object"!=typeof e||Array.isArray(e)?[e[P],e[C]]:[e.ownerId,e.id]}compareAudiosIds(e,t){return!(!Array.isArray(e)||e.length<2||!t)&&(e[0]==t[P]&&e[1]==t[C])}fetchAudios(e){let t=e;return Array.isArray(t)&&(t=t.join(",")),this.fetchService.reloadAudios(t)}findAndFetchEmptyAudiosFrom(e){const t=[],r=[],n=this._list;let a=e+D;a=a<n.length?a:n.length-1;for(let s=e;s<=a;s++){const e=n[s];if(this.isEmptyAudio(e)&&e){const n=`${e[P]}_${e[C]}_${e[U]}`;t.push(n),r.push(s)}}return t.length<1?Promise.resolve({counter:0,successful:!0}):this.fetchAudios(t).then((e=>{if(e){let a=this.syncAndRemoveUnmatchedAudios(t,e,n);return this.truncateArray(r,a),r.forEach(((t,r)=>{if(e[r]){const a=(0,R.getAudioExtra)(e[r]);if(a){const s=(0,R.getAudioExtra)(n[t]);if(s){const t=(0,O.mergeAudioExtra)(s,a);t&&(e[r][k]=t)}else e[r][k]=n[t][k]}else e[r][k]=n[t][k];e[r][b]=n[t][b],n[t]=e[r]}})),{counter:a,successful:!0}}return{counter:0,successful:!1}})).catch((()=>({counter:0,successful:!1})))}truncateArray(e,t){return e.length=Math.max(e.length-t,0),e}syncAndRemoveUnmatchedAudios(e,t,r){if(e.length===t.length)return 0;let n=0;const a=t.map((e=>e[C]));return e.forEach((e=>{const t=Number(e.split("_")[1]);if(!a.includes(t)){const[t,a]=e.split("_"),s=r.find((e=>Number(e[C])===Number(a)&&Number(e[P])===Number(t)));s&&(n++,this.removeAudio(s))}})),n}getAudio(e){if(!e)return Promise.resolve(null);let t=null,r=null;const n=this.getAudioIds(e);return this._list.find(((e,a)=>!!this.compareAudiosIds(n,e)&&(r=a,t=e,!0))),t&&null!==r?this.isEmptyAudio(t)?this.findAndFetchEmptyAudiosFrom(r).then((({successful:e})=>e&&null!==r?Promise.resolve(this._list[r]):Promise.resolve(null))).catch((()=>Promise.resolve(null))):Promise.resolve(t):Promise.resolve(null)}async getFirstAudio(e){const t=await this.getAudioAt(0);return t&&e&&(0,d.audioTupleToAudioObject)(t).isClaimed?this.getNextAudio(t,{repeat:!1,ignoreClaimed:e}):t}async getLastAudio(e){const t=this.length-1;if(t<0)return null;const r=await this.getAudioAt(t);return r&&e&&(0,d.audioTupleToAudioObject)(r).isClaimed?this.getPrevAudio(r,{repeat:!1,ignoreClaimed:e}):r}async getPrevAudio(e,t={}){const{ignoreClaimed:r}=t,n=this.indexOfAudio(e);if(n<0)return null;const a=n-1;if(a<0)return t.repeat?this.getLastAudio(r):null;const s=await this.getAudioAt(a);return s&&r&&(0,d.audioTupleToAudioObject)(s).isClaimed?this.getPrevAudio(s,t):s}async getNextAudio(e,t={}){const{autoplayQueue:r}=this,{ignoreClaimed:n}=t,a=this.indexOfAudio(e);if(a<0)return null;const s=a+1;if(s>=this.length){if(t.repeat)return this.getFirstAudio(n);if(r?.enabled){const e=r.list;if(e.length>0)return e[0]}return null}const _=await this.getAudioAt(s);return _&&n&&(0,d.audioTupleToAudioObject)(_).isClaimed?this.getNextAudio(_,t):_}indexOfAudio(e){if(!e)return-1;let t=this.getAudioIds(e);return this._list?this._list.findIndex((e=>this.compareAudiosIds(t,e))):-1}getAudioAt(e){return!Array.isArray(this._list)||this._list.length<=e?Promise.resolve(null):e<0?this.findAndFetchEmptyAudiosFrom(0).then((()=>this._list[0])):this.findAndFetchEmptyAudiosFrom(e).then((()=>this._list[e]))}getAudios(e,t){return Number.isInteger(e)&&Number.isInteger(t)?(e<0&&(e=0),e>this._list.length?Promise.resolve(null):(t-e>D&&(t=e+D),t>this._list.length&&(t=this._list.length),this.findAndFetchEmptyAudiosFrom(e).then((({counter:r})=>this._list.slice(e,t+1-r))))):Promise.resolve(null)}removeAudio(e){let t=this.indexOfAudio(e);return t>=0?(this._list.splice(t,1),t):-1}addToList(e,t,r){const a=this._list;let s=e;void 0!==t||r?s.forEach((e=>{const t=this.indexOfAudio(e);t>=0&&a.splice(t,1)})):s=s.filter((e=>-1===this.indexOfAudio(e))),s.forEach((e=>{null===e[k]&&(e[k]="[]"),e[L]=(0,c.clean)((0,c.replaceEntities)(e[L]).replace(/(<em>|<\/em>)/g,"")),e[N]=(0,c.clean)((0,c.replaceEntities)(e[N]).replace(/(<em>|<\/em>)/g,""))})),this.shuffled&&(this.originalList.push(...s),s=T(s)),void 0===t?a.push(...s):a.splice(t,0,...s),this.shuffled&&(0,n._)(this,F)[F]&&(0,n._)(this,K)[K]()}addAudio(e,t){this.isArrayOfAudioTuples(e)?this.addToList(e,t):e?.length&&this.addToList([e],t)}isArrayOfAudioTuples(e){return Array.isArray(e)&&Array.isArray(e[0])}addEmptyAudios(e){const t=e.map((e=>{const{audio_raw_id:t,access_key:r,track_code:n}=e,{ownerId:a,id:s}=(0,S.parseRawId)(t),_=[];return _[P]=a,_[C]=s,_[U]=r,_[b]=n,_}));this.addToList(t,void 0,!0)}async addNoConsecutivePlaylist(e,t){const r=(0,g.getPlaylistRawSource)(e),n=(0,A.getPlaylistSource)(r),a=(0,f.getAutoplayPlaylistSource)(r,(0,y.getAudioFullId)(t));return"autoplay"===t[B]||this._autoplayQueue?.hasSource(a)||(this.setSource(n),this.setAutoplaySource(a),this._list=[],this.addToList([t])),!0}async addPlaylist(e,t){if(this.isAutoplayEnabledForPlaylist=(0,m.isAutoplayEnabledForPlaylist)(e),!this.isAutoplayEnabledForPlaylist){this.clean();const t=e.getAudiosList();return this.addToList(t),this._autoplayQueue?.clean(),!0}const{isAutoplaySupported:r}=this,a=(0,g.getPlaylistRawSource)(e),_=(0,A.getPlaylistSource)(a);if((0,s.isEqual)(_,this._source)){if(r&&this.length){const e=(0,f.getAutoplayPlaylistSource)(a);this.setAutoplaySource(e)}return!0}if(this.setSource(_),_.source===m.PlaylistSourceType.VKMIX){this.clean();const t=e.getAudiosList();return this.addToList(t),this._autoplayQueue?.clean(),!0}if(e.isLive()||e?.isLoadable())return this._autoplayQueue?.clean(),!0;if(r){const t=(0,f.getAutoplayPlaylistSource)(a);if(!this._source)return!1;try{const{audioIds:r}=await this.fetchService.getAudioIdsBySource(_);if(!Array.isArray(r)||0===r.length){const t=e.getAudiosList();return this.addToList(t),!0}return this.addEmptyAudios(r),this.setAutoplaySource(t),!0}catch{return!1}}try{const r=await e.getAudioIds();if(!Array.isArray(r)||0===r.length){const t=e.getAudiosList();return this.addToList(t),!0}return this.addEmptyAudios(r),this.shuffled&&t&&(0,n._)(this,K)[K](),!0}catch{return!1}}moveAudio(e,t){let r=this._list.splice(e,1);e<t&&(t-=1),this._list.splice(t,0,r[0])}clean(){(0,n._)(this,F)[F]=null,this._list=[],this.originalList=[],this._source=null}moveAudioAtFirstPosition(e){let t=this.indexOfAudio(e);-1!==t?(this._list.splice(t,1),this._list.unshift(e)):this._list.unshift(e)}get length(){return this.list.length}isEmpty(){return!this.length}toggleShuffle(e){(void 0!==e?e:!this.shuffled)?(0,n._)(this,K)[K]():(0,n._)(this,V)[V]()}constructor(e,t){if(Object.defineProperty(this,V,{value:j}),Object.defineProperty(this,K,{value:Y}),Object.defineProperty(this,W,{value:z}),Object.defineProperty(this,H,{value:q}),Object.defineProperty(this,x,{writable:!0,value:void 0}),Object.defineProperty(this,F,{writable:!0,value:void 0}),this._autoplayQueue=null,(0,n._)(this,F)[F]=null,this.isAutoplaySupported=(0,_.partConfigEnabled)("autoplay_web")&&!(0,I.isMvk)(),this.isEmptyAudio=e=>!(e&&(e[M]||(0,l.isClaimedAudio)(e))),G.instance)return G.instance;if(this._eventBus=t,(0,n._)(this,H)[H](),this.fetchService=e,this.clean(),this.isAutoplaySupported){const r=new p.AutoplayQueue(e,t,(()=>this._list.map(y.getAudioFullId)));this._autoplayQueue=r,this.isAutoplayEnabledForPlaylist=!0,this._eventBus.subscribe(E.AudioPlayerEventType.PLAY_TRACK_FROM_AUTOPLAY,(e=>{const t=r.indexOf(e);if(t>=0){const e=r.spliceHead(t);this.addToList(e)}}))}G.instance=this}}function j(){this.shuffled&&(this._list=[...this.originalList],(0,n._)(this,W)[W](!1))}function Y(){this.shuffled&&(0,n._)(this,V)[V](),this.originalList=[...this._list],this._list=T([...this._list]);const e=(0,n._)(this,F)[F];e&&this.moveAudioAtFirstPosition(e),(0,n._)(this,W)[W](!0)}function z(e){e!==(0,n._)(this,x)[x]&&((0,n._)(this,x)[x]=e,this.eventBus.emit(E.AudioPlayerEventType.PLAYBACK_QUEUE_SHUFFLED_UPDATED,(0,n._)(this,x)[x]))}function q(){this.eventBus.subscribe(E.AudioPlayerEventType.CURRENT_AUDIO_CHANGED,(e=>{(0,n._)(this,F)[F]=e??null}))}},233297:(e,t,r)=>{"use strict";r.d(t,{SpecialProjectController:()=>_});var n=r(119864),a=r(445798);let s;class _{static get(){if(!s)throw new Error("SpecialProjectController must be initialized.");return s}static init(e,t){if(!e)throw new Error("SpecialProjectController must be initialized with showModal.");return s||(s=new _(e,t),s)}showModal(e,t){this.showCurrentModal&&this.showCurrentModal(t,this.tryToSendCloseReason(e))}constructor(e,t){this.audioApi=t,this.projects={},this.statCollector=null,this.wasProjectShown=e=>!!this.projects[e],this.tryModal=async(e,t)=>{if(!this.wasProjectShown(e))try{const r=await this.getSpecialProject(e);this.showModal(e,r),this.statCollector?.open(+e,t)}catch(e){}finally{this.projects[e]="opened"}},this.tryToSendCloseReason=e=>t=>{"closed"!==this.projects[e]&&(this.consumeSpecialProject(e,t),this.statCollector?.close(),this.projects[e]="closed")},this.getSpecialProject=async e=>{const t=await this.audioApi.getSpecialProject({special_project_id:e});return(0,a.mapSpecialProjectData)(t)},this.consumeSpecialProject=(e,t)=>this.audioApi.consumeSpecialProject({special_project_id:e,reason:t}),this.statCollector=new n.SpecialProjectStatCollector,this.showCurrentModal=e}}},119864:(e,t,r)=>{"use strict";r.d(t,{SpecialProjectStatCollector:()=>s});var n=r(317216),a=r(314309);class s{open(e,t){if(this.openedModal)throw new Error("Modal must be closed before opening");this.openedModal={id:e,trackCode:t,startView:this.productCollector.getCurrentTime()}}close(){const{openedModal:e}=this;if(!e)throw new Error("Modal must be open before closing");this.sendView(e),this.openedModal=null}sendView(e){const t={end_view:this.productCollector.getCurrentTime(),start_view:e.startView,type:n.ViewProductionStatEventTypes.TYPE_CATALOG_SPECIAL_PROJECT_ITEM},r={type:n.EventItemType.AUDIO_SPECIAL_PROGECT_MODAL,id:e.id,track_code:e.trackCode};this.viewCollector.logEvent(t,r)}constructor(){this.openedModal=null,this.productCollector=new a.ProductionStatCollector,this.viewCollector=new a.ViewStatCollector(this.productCollector)}}},514871:(e,t,r)=>{"use strict";r.d(t,{SpecialProjectHeader:()=>u});var n=r(474848),a=r(296540),s=r(612196),_=r(8520),c=r(515037);const l=e=>{const[t]=e.filter((e=>!!e&&!!e.url)).map((e=>e.url));return t||""},u=(0,a.memo)((({style:e,image:t=[],className:r,backgroundImage:a=[]})=>{const u=l(a),d=l(t);return(0,n.jsx)("div",{className:(0,_.classNames)(c.default.root,r,{[c.default.singleImage]:"image"===e}),style:{backgroundImage:`url(${"avatar"===e?u:d})`},children:"avatar"===e&&(0,n.jsx)(s.Avatar,{noBorder:!0,src:d,size:72})})}))},445798:(e,t,r)=>{"use strict";r.d(t,{mapSpecialProjectData:()=>n});const n=e=>({...e,backgroundImage:e.background_image})},423769:(e,t,r)=>{"use strict";function n(e){const t=e?.options;if(!t)return[];const r=[];for(const e of t)switch(e.type){case"copy":{const{name:t,copyText:n}=e;if(!t||!n)break;const a=()=>{navigator.clipboard.writeText(n)};r.push({type:"action",label:t,action:a});break}case"default":{const{name:t,clickLink:n}=e;if(!t)break;if(n){r.push({type:"link",label:t,href:n});break}break}}return r}r.d(t,{makeChoicesFromAdman:()=>n})},255818:(e,t,r)=>{"use strict";r.d(t,{makeAudioAdFromAdman:()=>a});var n=r(423769);function a(e){return{id:e.banner_id,choices:(0,n.makeChoicesFromAdman)(e.adChoices)}}},216577:(e,t,r)=>{"use strict";function n(e){return new Promise(((t,r)=>{window.ajax.post("al_audio.php",{act:"get_lyrics",aid:e.audio_id},{onDone:t,onFail:e=>(r(e),!0)})}))}r.d(t,{getLyrics:()=>n})},867366:(e,t,r)=>{"use strict";r.d(t,{AUDIO_PLAYER_ENUMS:()=>s,AudioPlaylistContext:()=>_,EAudioFlagBit:()=>a,EAudioTupleIndex:()=>n});var n=function(e){return e[e.ID=0]="ID",e[e.OWNER_ID=1]="OWNER_ID",e[e.URL=2]="URL",e[e.TITLE=3]="TITLE",e[e.PERFORMER=4]="PERFORMER",e[e.DURATION=5]="DURATION",e[e.ALBUM_ID=6]="ALBUM_ID",e[e.AUTHOR_LINK=8]="AUTHOR_LINK",e[e.LYRICS=9]="LYRICS",e[e.FLAGS=10]="FLAGS",e[e.CONTEXT=11]="CONTEXT",e[e.EXTRA=12]="EXTRA",e[e.HASHES=13]="HASHES",e[e.COVER_URL=14]="COVER_URL",e[e.ADS=15]="ADS",e[e.SUBTITLE=16]="SUBTITLE",e[e.MAIN_ARTISTS=17]="MAIN_ARTISTS",e[e.FEAT_ARTISTS=18]="FEAT_ARTISTS",e[e.ALBUM=19]="ALBUM",e[e.TRACK_CODE=20]="TRACK_CODE",e[e.RESTRICTION=21]="RESTRICTION",e[e.ALBUM_PART=22]="ALBUM_PART",e[e.IS_NEW_STATS=23]="IS_NEW_STATS",e[e.ACCESS_KEY=24]="ACCESS_KEY",e[e.CHART_INFO=25]="CHART_INFO",e[e.TRACK_PAGE_ID=26]="TRACK_PAGE_ID",e[e.IS_ORIGINAL_SOUND=27]="IS_ORIGINAL_SOUND",e[e.ADMIN_URL=28]="ADMIN_URL",e[e.UMA_QUERY_URL=29]="UMA_QUERY_URL",e[e.LEGAL_NOTICES_TYPE=30]="LEGAL_NOTICES_TYPE",e}({}),a=function(e){return e[e.HAS_LYRICS=1]="HAS_LYRICS",e[e.CAN_ADD=2]="CAN_ADD",e[e.CLAIMED=4]="CLAIMED",e[e.QUEUE=8]="QUEUE",e[e.HQ=16]="HQ",e[e.LONG_PERFORMER=32]="LONG_PERFORMER",e[e.UMA=128]="UMA",e[e.REPLACEABLE=512]="REPLACEABLE",e[e.EXPLICIT=1024]="EXPLICIT",e[e.SHOW_INFO=8192]="SHOW_INFO",e}({});const s={AUDIO_ITEM_INDEX_ID:0,AUDIO_ITEM_INDEX_OWNER_ID:1,AUDIO_ITEM_INDEX_URL:2,AUDIO_ITEM_INDEX_TITLE:3,AUDIO_ITEM_INDEX_PERFORMER:4,AUDIO_ITEM_INDEX_DURATION:5,AUDIO_ITEM_INDEX_ALBUM_ID:6,AUDIO_ITEM_INDEX_AUTHOR_LINK:8,AUDIO_ITEM_INDEX_LYRICS:9,AUDIO_ITEM_INDEX_FLAGS:10,AUDIO_ITEM_INDEX_CONTEXT:11,AUDIO_ITEM_INDEX_EXTRA:12,AUDIO_ITEM_INDEX_HASHES:13,AUDIO_ITEM_INDEX_COVER_URL:14,AUDIO_ITEM_INDEX_ADS:15,AUDIO_ITEM_INDEX_SUBTITLE:16,AUDIO_ITEM_INDEX_MAIN_ARTISTS:17,AUDIO_ITEM_INDEX_FEAT_ARTISTS:18,AUDIO_ITEM_INDEX_ALBUM:19,AUDIO_ITEM_INDEX_TRACK_CODE:20,AUDIO_ITEM_INDEX_RESTRICTION:21,AUDIO_ITEM_INDEX_ALBUM_PART:22,AUDIO_ITEM_ACCESS_KEY:24,AUDIO_ITEM_CHART_INFO_INDEX:25,AUDIO_ITEM_INDEX_TRACK_PAGE_ID:26,AUDIO_ITEM_INDEX_IS_ORIGINAL_SOUND:27,AUDIO_ITEM_INDEX_ADMIN_URL:28,AUDIO_ITEM_INDEX_UMA_QUERY_URL:29,AUDIO_ITEM_HAS_LYRICS_BIT:1,AUDIO_ITEM_CAN_ADD_BIT:2,AUDIO_ITEM_CLAIMED_BIT:4,AUDIO_ITEM_QUEUE_BIT:8,AUDIO_ITEM_HQ_BIT:16,AUDIO_ITEM_LONG_PERFORMER_BIT:32,AUDIO_ITEM_UMA_BIT:128,AUDIO_ITEM_REPLACEABLE:512,AUDIO_ITEM_EXPLICIT_BIT:1024,AUDIO_ITEM_SHOW_INFO_BIT:8192,AUDIO_ENOUGH_LOCAL_SEARCH_RESULTS:500,AUDIO_RECOMS_TYPE_LISTENED:"recoms6",AUDIO_PLAYING_CLS:"audio_row__playing",AUDIO_CURRENT_CLS:"audio_row__current",AUDIO_DURATION_CLS:"audio_row__duration",AUDIO_LAYER_HEIGHT:550,AUDIO_LAYER_MIN_WIDTH:400,AUDIO_LAYER_MAX_WIDTH:1e3,AUDIO_HQ_LABEL_CLS:"audio_hq_label_show",AUDIO_MAX_AUDIOS_IN_SNIPPET:5,AUDIO_ROW_COVER_SIZE:40,AUDIO_ROW_PLAY_SIZE:24,AUDIO_ROW_ACTION_ROW_ITEM:'<button class="audio_row__more_action audio_row__more_action_%0% _audio_row__more_action_%0% %3%">%2%</button>',AUDIO_QUEUE_MAX_AUDIOS_COUNT:35,LOG_LS_KEY:"audiolog",ONBOARDING_ARTISTS_LS_KEY:"artists_onboarding",AUDIO_RECOMS_ONBOARDING_NEED_SKIP_LS_KEY:"audio_recoms_onboarding_need_skip"};var _=function(e){return e.USER_WALL="user_wall",e.GROUP_WALL="group_wall",e.WALL="wall",e.FEED="feed",e}({})},71935:(e,t,r)=>{"use strict";r.d(t,{HTMLAudioNode:()=>O});var n=r(434518),a=r(763812),s=r(994506),_=r(434810),c=r(201659),l=r(262022),u=r(39816),d=r(166583),p=r(43866),E=r(469004),m=r(540462),g=r(491284),A=(0,a._)("_stallRater"),f=(0,a._)("_handleStalled"),I=(0,a._)("_handleUnstalled"),y=(0,a._)("_handleUnloaded"),R=(0,a._)("_logFragmentEvent");class O{get isFullyLoaded(){return this.fullyLoaded}get error(){return this.audioElement.error||null}get played(){return this.audioElement.played}get src(){return this.url}get hls(){return this.hlsInstance||null}get duration(){return isFinite(this.audioElement.duration)?this.audioElement.duration:0}get readyState(){return this.audioElement.readyState}get currentTime(){return this.audioElement.currentTime}set currentTime(e){this.audioElement.currentTime=e}get volume(){return this.audioElement.volume}set volume(e){this.audioElement.volume=e}set playbackRate(e){this.audioElement.playbackRate=e}get currentProgress(){return isNaN(this.audioElement.duration)?0:Math.max(0,Math.min(1,this.audioElement.currentTime/this.audioElement.duration))}get currentBuffered(){return this.audioElement.buffered.length?Math.min(1,this.audioElement.buffered.end(0)/this.audioElement.duration):0}play(){return(0,p.wrapAudioPlay)(this.audioElement).catch((e=>{switch(e.code){case e.NOT_SUPPORTED_ERR:case e.ABORT_ERR:break;default:throw e}}))}pause(){this.audioElement.pause()}addEventListeners(e){this.audioElement.addEventListener("pause",(()=>{e.onPause(),(0,n._)(this,I)[I]()})),this.audioElement.addEventListener("play",(()=>e.onPlay())),this.audioElement.addEventListener("playing",(()=>{(0,n._)(this,I)[I]()})),this.audioElement.addEventListener("waiting",(()=>{this.audioElement.paused||this.audioElement.readyState<HTMLMediaElement.HAVE_FUTURE_DATA||(0,n._)(this,f)[f]()})),this.audioElement.addEventListener("progress",(()=>{if(e.onBufferUpdate(),!this.hlsInstance){const e=this.audioElement.buffered;e.length&&Math.abs(e.end(e.length-1)-this.audioElement.duration)<1&&(this.fullyLoaded=!0)}})),this.audioElement.addEventListener("timeupdate",(()=>{e.onProgressUpdate&&e.onProgressUpdate()})),this.audioElement.addEventListener("seeked",(()=>{(0,n._)(this,I)[I]()})),this.audioElement.addEventListener("ended",(()=>{e.onEnd&&e.onEnd(),(0,n._)(this,I)[I]()})),this.onFail=e.onFail||(()=>{}),this.audioElement.addEventListener("error",(()=>{this.onFail(),(0,n._)(this,I)[I]()})),this.audioElement.addEventListener("canplay",(()=>{e.onCanPlay&&e.onCanPlay()})),this.audioElement.addEventListener("durationchange",(()=>{e.onDurationChange&&e.onDurationChange()}))}static isHlsUrl(e){const t=(0,_.audioUnmaskSource)(e).includes(".m3u8");if(!(0,s.isAudioPWAFeature)())return t;const r=(0,l.checkIsDownloadedUrl)(e);return t||r}setUrl(e){if(this.url&&(0,n._)(this,I)[I](),this.url=e,O.isHlsUrl(this.url)&&!O.shouldUseNativeHls()&&"function"==typeof window.MediaSource)return this.initHls(this.url).catch((()=>this.onFail()));this.hlsInstance&&this.hlsInstance.destroy();const t=this.audioElement.firstElementChild;return t.src=this.url,O.isHlsUrl(this.url)?t.type="application/vnd.apple.mpegurl":(0,m.partConfigEnabled)("music_clear_media_type")&&t.removeAttribute("type"),this.audioElement.load(),Promise.resolve()}static shouldUseNativeHls(){const[e]=window.browser.version.split("."),t=parseInt(e);return window.browser.safari||window.browser.msie_edge&&t>11&&t<78}initHls(e){return O.loadHls().then((({default:t})=>new Promise((r=>{let a=!1;const s=!!E.ls.get("_audio_hls_debug");this.hlsInstance&&this.hlsInstance.destroy();const _=new t({debug:s,maxBufferHole:3,nudgeOffset:.5,nudgeMaxRetry:5,maxFragLookUpTolerance:.2});_.on(t.Events.BUFFER_EOS,(()=>this.fullyLoaded=!0)),_.on(t.Events.ERROR,((e,r)=>{(s||r.fatal)&&console.log("audio hls error",e,r),r.details===t.ErrorDetails.BUFFER_STALLED_ERROR&&(a=!0,_.stopLoad(),_.startLoad(),(0,n._)(this,f)[f]()),r.fatal&&this.onFail({type:r.type,details:r.details,url:r.frag&&r.frag.url||r.context&&r.context.url,code:r.networkDetails?r.networkDetails.status:0})})),_.on(t.Events.FRAG_BUFFERED,((e,t)=>{const r=t.frag.sn,s=Math.ceil(1e3*t.frag.duration),_=t.stats.buffering.end-t.stats.buffering.start,c=Math.ceil(t.stats.loading.first-t.stats.loading.start),l=Math.ceil(t.stats.loading.end-t.stats.loading.start),u=new URL(t.frag.baseurl).host;a&&(a=!1,(0,n._)(this,I)[I]({id:r,duration:s,timeToFirstByte:c,timeToFirstFrame:l,httpRequestHost:u})),(0,n._)(this,y)[y]({id:r,duration:s,bufferingTime:_,timeToFirstByte:c,timeToFirstFrame:l,httpRequestHost:u})})),_.loadSource(e),_.attachMedia(this.audioElement),this.hlsInstance=_,r()}))))}static loadHls(){return Promise.all([r.e(45458),r.e("langs/web/hls")]).then(r.bind(r,164945))}constructor(e,t){Object.defineProperty(this,R,{value:S}),Object.defineProperty(this,A,{writable:!0,value:void 0}),Object.defineProperty(this,f,{writable:!0,value:void 0}),Object.defineProperty(this,I,{writable:!0,value:void 0}),Object.defineProperty(this,y,{writable:!0,value:void 0}),this.fullyLoaded=!1,this.url="",(0,n._)(this,A)[A]=new g.StallRater,(0,n._)(this,f)[f]=()=>{(0,n._)(this,A)[A].start()},(0,n._)(this,I)[I]=(e={})=>{let t;(0,n._)(this,A)[A].active&&(t=(0,n._)(this,A)[A].stop(),(0,n._)(this,R)[R](u.AudioNetworkType.FRAGMENT_STALLED,{...e,bufferingTime:t}))},(0,n._)(this,y)[y]=(e={})=>{(0,n._)(this,R)[R](u.AudioNetworkType.FRAGMENT_LOADED,e)},this.audioElement=new Audio,this.audioElement.appendChild(document.createElement("source")),this.audioElement.crossOrigin="anonymous",this.audioElement.preload="auto",this.volume=e.volume,this.addEventListeners(e),t&&this.setUrl(t).then((()=>{this.audioElement.load()}));const r=new u.NetworkStatCollector;this.audioNetworkStatCollector=new u.AudioNetworkStatCollector(r)}}function S(e,t={}){const r=(0,c.getCurrentAudio)();this.audioNetworkStatCollector.logEvent({event_type:e,owner_id:r.ownerId,audio_id:r.id,buffering_time:(t.bufferingTime??0).toString(),fragment_id:t.id?.toString?.()||"0",fragment_duration:t.duration?.toString()||(1e3*this.duration).toString(),time_to_first_byte:t.timeToFirstByte?.toString?.()||"0",time_to_first_frame:t.timeToFirstFrame?.toString?.()||"0",http_request_host:t.httpRequestHost},d.default.getConnectionType(),d.default.getConnectionEffectiveType())}},491284:(e,t,r)=>{"use strict";r.d(t,{StallRater:()=>d});var n=r(434518),a=r(763812),s=(0,a._)("_startTime"),_=(0,a._)("_currentTime"),c=(0,a._)("_reset"),l=(0,a._)("_calcCurrentDuration"),u=(0,a._)("_warn");class d{get active(){return null!==(0,n._)(this,s)[s]}start(){this.active&&(0,n._)(this,u)[u]("Already started"),(0,n._)(this,s)[s]=(0,n._)(this,_)[_]}stop(){let e;return this.active||(0,n._)(this,u)[u]("Not started"),e=(0,n._)(this,l)[l](),(0,n._)(this,c)[c](),e}constructor(){Object.defineProperty(this,_,{get:p,set:void 0}),Object.defineProperty(this,c,{value:E}),Object.defineProperty(this,l,{value:m}),Object.defineProperty(this,u,{value:g}),Object.defineProperty(this,s,{writable:!0,value:void 0}),(0,n._)(this,s)[s]=null}}function p(){return performance.now()}function E(){(0,n._)(this,s)[s]=null}function m(){return(0,n._)(this,s)[s]?(0,n._)(this,_)[_]-(0,n._)(this,s)[s]:0}function g(e){}},766194:(e,t,r)=>{"use strict";r.d(t,{setAudioLastListRefCookie:()=>u,setAudioLastListRefCookieDebounced:()=>d});var n=r(8520),a=r(873900),s=r(396858),_=r(540462);const c="remixaudio_last_list_ref",l=1/24/60;function u({ref:e,list:t,index:r}){if(!(0,_.partConfigEnabled)("audio_player_stats_ref_web"))return;const u={list_id:(0,a.getIdentityRawId)(t),ref:e};(0,n.isNumber)(r)&&(u.index=r);const d=JSON.stringify(u);(0,s.setCookie)(c,d,l)}const d=(0,n.debounce)(u,50)},18058:(e,t,r)=>{"use strict";r.d(t,{ensureAutoplayService:()=>c});var n=r(32489),a=r(978746),s=r(540462);let _;function c(){return _||(_=function(){const e=(0,n.createDomain)("audio/autoplay"),t=(0,a.ensureAccountInfoService)(),{$accountInfo:r,setInfoFx:_}=t,c=(0,s.partConfigEnabled)("autoplay_web_toggle"),l=e.createStore(c),u=e.createStore(!1),d=e.createEffect((e=>_({query:{name:"audio_autoplay",value:e}})));return{$toggleSupported:l,$enabled:u,setEnabledFx:d,init:function(){l.on(r,((e,{audio_autoplay:t})=>c&&void 0!==t)),(0,n.sample)({source:{accountInfo:r,toggleSupported:l},fn:({accountInfo:e,toggleSupported:t})=>!t||(e.audio_autoplay??!1),target:u}),t.initEvent()}}}()),_}},262022:(e,t,r)=>{"use strict";r.d(t,{checkIsDownloadedUrl:()=>a});var n=r(434810);function a(e){return(0,n.audioUnmaskSource)(e).includes("blob:http")}},730640:(e,t,r)=>{"use strict";r.d(t,{clearObject:()=>s});var n=r(596034),a=r(269592);function s(e){return(0,n.default)(e,a.default)}},310619:(e,t,r)=>{"use strict";r.d(t,{decodeHTML:()=>s});var n=r(8520);const a={"amp;":"&","#38;":"&","lt;":"<","#60;":"<","gt;":">","#62;":">","apos;":"'","#39;":"'","quot;":'"',"#34;":'"',"copy;":"©"};function s(e){return(0,n.decodeHTMLEntities)(e,a)}},482310:(e,t,r)=>{"use strict";r.d(t,{getAudioExtra:()=>s});var n=r(898848),a=r(867366);function s(e){if(!e)return null;let t;if((0,n.isObject)(e)){t=e.extra}else{t=e[a.EAudioTupleIndex.EXTRA]}if((0,n.isObject)(t))return t;try{return JSON.parse(t||"{}")}catch(e){return null}}},519290:(e,t,r)=>{"use strict";r.d(t,{getAudioFullId:()=>a});var n=r(867366);const a=e=>e[n.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_OWNER_ID]+"_"+e[n.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_ID]},213236:(e,t,r)=>{"use strict";r.d(t,{getAutoplayPlaylistSource:()=>n});const n=(e,t="")=>{const{entity_id:r,...n}=e;return{...n,audio_id:t}}},201659:(e,t,r)=>{"use strict";r.d(t,{getCurrentAudio:()=>s});var n=r(423015),a=r(105330);function s(){const e={id:0,ownerId:0};try{return(0,a.isMvk)()?window.audio.getCurrent()||e:(0,n.audioTupleToAudioObject)(window.getAudioPlayer().getCurrentAudio())||e}catch(t){return e}}},223009:(e,t,r)=>{"use strict";r.d(t,{getPlaylistRawSource:()=>a});var n=r(269808);const a=e=>{const t=e.getContext(),r=e.getBlockId(),a=e.getFullId();if(r)return{source:n.PlaylistSourceType.CATALOG,section_id:r,entity_id:r,playlist_id:a};if(e.getType()===n.PlaylistSourceType.CURATOR)return{source:n.PlaylistSourceType.CURATOR,section_id:r,entity_id:r,playlist_id:a};const{sourceType:s,id:_}=(e=>{if(e){const[t,r]=e.split(":");return{sourceType:t,id:r}}return{sourceType:"",id:""}})(t);if(s.includes("wall"))return{source:n.PlaylistSourceType.WALL,entity_id:_,owner_id:_};switch(s){case n.PlaylistSourceType.CATALOG:return{source:n.PlaylistSourceType.CATALOG,section_id:_,entity_id:_,playlist_id:a,block_id:r};case n.PlaylistSourceType.MESSAGE:return{source:n.PlaylistSourceType.MESSAGE,entity_id:`_${_}`};case n.PlaylistSourceType.FEED:return{source:n.PlaylistSourceType.FEED,entity_id:_,owner_id:_};case n.PlaylistSourceType.ALBUM:return{source:n.PlaylistSourceType.ALBUM,entity_id:_};case n.PlaylistSourceType.VKMIX:return{source:n.PlaylistSourceType.VKMIX,entity_id:_};default:return{source:n.PlaylistSourceType.PLAYLIST,entity_id:a,playlist_id:a}}}},590733:(e,t,r)=>{"use strict";r.d(t,{getPlaylistSource:()=>a});var n=r(269808);const a=e=>{let t;return t=e.source===n.PlaylistSourceType.CATALOG&&!1===e.block_id?{source:n.PlaylistSourceType.PLAYLIST,entity_id:e.playlist_id}:{source:e.source||"",entity_id:e.entity_id||""},t}},947779:(e,t,r)=>{"use strict";r.d(t,{getSpecialProjectId:()=>a});var n=r(482310);function a(e){const t=(0,n.getAudioExtra)(e);return t?.specialProjectId??null}},219095:(e,t,r)=>{"use strict";r.d(t,{isArticleTts:()=>a});var n=r(482310);function a(e){const t=(0,n.getAudioExtra)(e);return!!t&&!!t.articleTts}},994506:(e,t,r)=>{"use strict";r.d(t,{isAudioPWAFeature:()=>a});var n=r(540462);function a(){return(0,n.partConfigEnabled)("mvk_music_pwa")}},667545:(e,t,r)=>{"use strict";r.d(t,{isClaimedAudio:()=>s});var n=r(423015),a=r(867366);function s(e){return!!e&&!!((e=(0,n.audioTupleToAudioObject)(e)).flags&a.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_CLAIMED_BIT)}},690027:(e,t,r)=>{"use strict";r.d(t,{isExternalStream:()=>a});var n=r(482310);function a(e){const t=(0,n.getAudioExtra)(e);return!!t&&!!t.externalStream}},388952:(e,t,r)=>{"use strict";r.d(t,{isMarusiaTale:()=>a});var n=r(482310);function a(e){const t=(0,n.getAudioExtra)(e);return!!t&&!!t.marusiaTale}},103293:(e,t,r)=>{"use strict";r.d(t,{isMarusiaTrack:()=>a});var n=r(482310);function a(e){const t=(0,n.getAudioExtra)(e);return!!t&&!!t.voiceAssistant}},22021:(e,t,r)=>{"use strict";r.d(t,{isRadio:()=>a});var n=r(482310);function a(e){const t=(0,n.getAudioExtra)(e);return!!t&&!!t.radio}},137590:(e,t,r)=>{"use strict";function n(e,t){return e&&t?{...e,...t}:null}r.d(t,{mergeAudioExtra:()=>n})},315621:(e,t,r)=>{"use strict";r.d(t,{mergeAudioTupleWithoutContext:()=>a});var n=r(867366);function a(e,t){const r=[...e];return Object.assign(r,t),r[n.EAudioTupleIndex.CONTEXT]=e[n.EAudioTupleIndex.CONTEXT],r}},303354:(e,t,r)=>{"use strict";r.d(t,{AudioLyricsProvider:()=>d});var n=r(825127),a=r(203763),s=r(216577),_=r(660617),c=r(423015),l=r(474201),u=r(174736);class d{get(e){return this.lyrics.get(e)||{status:u.EAudioLyricsStatus.Pending}}listen(e,t){return this.eventEmitter.on(e,t),()=>{this.eventEmitter.off(e,t)}}setLoading(e){const t={status:u.EAudioLyricsStatus.Loading};this.lyrics.set(e,t),this.eventEmitter.emit(e,t)}setLoaded(e,t){const r={status:u.EAudioLyricsStatus.Loaded,data:t};this.lyrics.set(e,r),this.eventEmitter.emit(e,r)}setError(e,t){const r={status:u.EAudioLyricsStatus.Error,errorMessage:t};this.lyrics.set(e,r),this.eventEmitter.emit(e,r)}constructor(){this.lyrics=new Map,this.eventEmitter=new n.default,this.fetch=(0,a.dedupeAsyncCallback)((async e=>{const t=(0,c.audioTupleToAudioObject)(e),{fullId:r,hasLyrics:n}=t;try{const e=this.lyrics.get(r);if(e&&e.status===u.EAudioLyricsStatus.Loaded)return e.data||null;if(!n)return this.setLoaded(r,null),null;this.setLoading(r);const t=await(0,s.getLyrics)({audio_id:r}),a=(0,l.mapLyricsResponse)(t);return this.setLoaded(r,a),a}catch(e){throw this.setError(r,e.message||"unknown"),e}}),(e=>(0,_.getAudioTupleFullId)(e)))}}},474201:(e,t,r)=>{"use strict";r.d(t,{mapLyricsResponse:()=>a});var n=r(310619);function a(e){if(Array.isArray(e))return null;const{credits:t,lyrics:r}=e;if(!r)return null;const{text:a,timestamps:s,ugc:_}=r||{},c={};return s&&(c.karaoke=function(e){return e.map((e=>{const{line:t,...r}=e;return t?{...r,text:(0,n.decodeHTML)(t)}:r}))}(s)),a&&(c.static=a.map((e=>({text:(0,n.decodeHTML)(e)})))),_&&(c.ugc=_.map((e=>({text:(0,n.decodeHTML)(e)})))),c.karaoke?.length||c.static?.length||c.ugc?.length?{lines:c,credits:t&&(0,n.decodeHTML)(t)}:null}},174736:(e,t,r)=>{"use strict";r.d(t,{EAudioLyricsStatus:()=>n});var n=function(e){return e[e.Pending=0]="Pending",e[e.Loading=1]="Loading",e[e.Loaded=2]="Loaded",e[e.Error=3]="Error",e}({})},356812:(e,t,r)=>{"use strict";r.d(t,{apiAudioToAudioTuple:()=>n.apiAudioToAudioTuple});var n=r(761602)},423015:(e,t,r)=>{"use strict";r.d(t,{audioTupleToAudioObject:()=>u});var n=r(898848),a=r(867366),s=r(349581),_=r(660617),c=r(22021);const l=Symbol("audioObjectSymbol");function u(e){if(!e)return null;if("string"==typeof e)return{id:e};if(!Array.isArray(e))return e.__audioObject!==l&&console.warn("audioTupleToAudioObject get audio object that not marked as audioObjectSymbol",{audio:e}),e;const t=e[a.EAudioTupleIndex.FLAGS],r=(e[a.EAudioTupleIndex.HASHES]||"").split("/"),u=(e[a.EAudioTupleIndex.COVER_URL]||"").split(/(,(?!\d))/g).filter((e=>","!==e));return u.length<2&&(0,c.isRadio)(e)&&u.push(e[a.EAudioTupleIndex.COVER_URL],e[a.EAudioTupleIndex.COVER_URL]),{id:(0,n.intval)(e[a.EAudioTupleIndex.ID]),owner_id:(0,n.intval)(e[a.EAudioTupleIndex.OWNER_ID]),ownerId:(0,n.intval)(e[a.EAudioTupleIndex.OWNER_ID]),fullId:(0,_.getAudioTupleFullId)(e),title:e[a.EAudioTupleIndex.TITLE]||"",subTitle:e[a.EAudioTupleIndex.SUBTITLE],performer:(0,s.getAudioPerformers)(e,!1),mainArtists:e[a.EAudioTupleIndex.MAIN_ARTISTS],featArtists:e[a.EAudioTupleIndex.FEAT_ARTISTS],authorLink:e[a.EAudioTupleIndex.AUTHOR_LINK],duration:(0,n.intval)(e[a.EAudioTupleIndex.DURATION]),lyrics:e[a.EAudioTupleIndex.LYRICS],url:e[a.EAudioTupleIndex.URL],context:e[a.EAudioTupleIndex.CONTEXT],extra:e[a.EAudioTupleIndex.EXTRA],accessKey:e[a.EAudioTupleIndex.ACCESS_KEY],addHash:r[0]||"",editHash:r[1]||"",actionHash:r[2]||"",deleteHash:r[3]||"",replaceHash:r[4]||"",urlHash:r[5]||"",restoreHash:r[6]||"",canEdit:!!r[1],canDelete:r[3]===e[a.EAudioTupleIndex.ACCESS_KEY]?window.vk.id===e[a.EAudioTupleIndex.OWNER_ID]:Boolean(r[3]),flags:t,isOriginalSound:e[a.EAudioTupleIndex.IS_ORIGINAL_SOUND],hasLyrics:!!(t&a.EAudioFlagBit.HAS_LYRICS),isLongPerformer:!!(t&a.EAudioFlagBit.LONG_PERFORMER),isClaimed:!!(t&a.EAudioFlagBit.CLAIMED),isFromQueue:!!(t&a.EAudioFlagBit.QUEUE),isExplicit:!!(t&a.EAudioFlagBit.EXPLICIT),isUMA:!!(t&a.EAudioFlagBit.UMA),isReplaceable:!!(t&a.EAudioFlagBit.REPLACEABLE),canAdd:!!(t&a.EAudioFlagBit.CAN_ADD),showInfo:!!(t&a.EAudioFlagBit.SHOW_INFO),coverUrl_s:u[1],coverUrl_p:u[1],coverUrl_l:u[0],hasTrackPage:!!e[a.EAudioTupleIndex.TRACK_PAGE_ID],trackPageId:e[a.EAudioTupleIndex.TRACK_PAGE_ID],ads:e[a.EAudioTupleIndex.ADS],album:e[a.EAudioTupleIndex.ALBUM],albumId:(0,n.intval)(e[a.EAudioTupleIndex.ALBUM_ID]),albumPart:(0,n.intval)(e[a.EAudioTupleIndex.ALBUM_PART]),trackCode:e[a.EAudioTupleIndex.TRACK_CODE],restrictionStatus:e[a.EAudioTupleIndex.RESTRICTION],chartInfo:e[a.EAudioTupleIndex.CHART_INFO],adminUrl:e[a.EAudioTupleIndex.ADMIN_URL]||"",umaQueryUrl:e[a.EAudioTupleIndex.UMA_QUERY_URL]||"",legalNoticesType:e[a.EAudioTupleIndex.LEGAL_NOTICES_TYPE]||0,__audioObject:l}}},660617:(e,t,r)=>{"use strict";r.d(t,{getAudioTupleFullId:()=>a});var n=r(867366);function a(e){return`${e[n.EAudioTupleIndex.OWNER_ID]}_${e[n.EAudioTupleIndex.ID]}`}},587952:(e,t,r)=>{"use strict";r.d(t,{AUDIO_PLAYER_ADAPTER_HASHES_SEPARATOR:()=>n});const n="/"},133326:(e,t,r)=>{"use strict";r.d(t,{getAudioHashesString:()=>a});var n=r(587952);const a=({addHash:e,editHash:t,actionHash:r,deleteHash:a,replaceHash:s,urlHash:_,restoreHash:c})=>[e||"",t||"",r||"",a||"",s||"",_||"",c||""].join(n.AUDIO_PLAYER_ADAPTER_HASHES_SEPARATOR)},213921:(e,t,r)=>{"use strict";r.d(t,{toSnippetAudioData:()=>n.toSnippetAudioData,toTrackedAudioData:()=>n.toTrackedAudioData});var n=r(338536);r(289286)},338536:(e,t,r)=>{"use strict";r.d(t,{toSnippetAudioData:()=>c,toTrackedAudioData:()=>_});var n=r(488150),a=r(423015),s=r(482310);function _(e){if(!e||"object"!=typeof e)return;const t=Array.isArray(e)?(0,a.audioTupleToAudioObject)(e):e;return t?function(e){const t=e.extra??"{}",r="string"==typeof t?JSON.parse(t):t,a={id:e.id,ownerId:e.ownerId,accessKey:e.accessKey};let _={...a,identity:a,title:e.title,author:{raw:e.performer,main:[],feat:[]},url:e.url,duration:e.duration,isExplicit:e.isExplicit,trackCode:e.trackCode??"",artwork:[]};if(r.podcast)return{..._,type:n.AudioType.PodcastEpisode,podcastId:_.ownerId};if(r.radio)return{..._,type:n.AudioType.Radio};return{..._,type:n.AudioType.MusicTrack,hasLyrics:e.hasLyrics??!1,disliked:(0,s.getAudioExtra)(e)?.dislike??!1}}(t):void 0}function c(e){var t;if(e&&"object"==typeof e)return{...e,identity:e.identity,title:e.title,artwork:e.cover?(t=e.cover,t.sizes.map((e=>({src:e.src,size:e.width})))):[],id:e.identity.id,ownerId:e.identity.ownerId,author:e.authors,hasLyrics:e.hasLyrics,trackCode:e.context.trackCode??"",disliked:!1}}},289286:(e,t,r)=>{"use strict";r(139612),r(867366)},582218:(e,t,r)=>{"use strict";r.d(t,{QueueListener:()=>n});class n{constructor(e){this.queueHandler=e}}},797251:(e,t,r)=>{"use strict";r.d(t,{mapAudioTupleToMusicAudioIdentity:()=>n.mapAudioTupleToMusicAudioIdentity});var n=r(960518)},960518:(e,t,r)=>{"use strict";r.d(t,{mapAudioTupleToMusicAudioIdentity:()=>n.mapAudioTupleToMusicAudioIdentity});var n=r(220436)},220436:(e,t,r)=>{"use strict";r.d(t,{mapAudioTupleToMusicAudioIdentity:()=>s});var n=r(867366),a=r(70148);function s(e){return new a.OwnedIdentity({id:e[n.EAudioTupleIndex.ID],ownerId:e[n.EAudioTupleIndex.OWNER_ID],accessKey:e[n.EAudioTupleIndex.ACCESS_KEY]})}},943223:(e,t,r)=>{"use strict";r.d(t,{mapAudioTupleToMusicAudioIdentity:()=>n.mapAudioTupleToMusicAudioIdentity});var n=r(797251)},227997:(e,t,r)=>{"use strict";r.d(t,{mapPlaylistToMusicMixIdentity:()=>n.mapPlaylistToMusicMixIdentity,mapPlaylistToMusicPlaylistIdentity:()=>n.mapPlaylistToMusicPlaylistIdentity});var n=r(874903)},874903:(e,t,r)=>{"use strict";r.d(t,{mapPlaylistToMusicMixIdentity:()=>n.mapPlaylistToMusicMixIdentity,mapPlaylistToMusicPlaylistIdentity:()=>n.mapPlaylistToMusicPlaylistIdentity});var n=r(998082)},998082:(e,t,r)=>{"use strict";r.d(t,{mapPlaylistToMusicMixIdentity:()=>n.mapPlaylistToMusicMixIdentity,mapPlaylistToMusicPlaylistIdentity:()=>a.mapPlaylistToMusicPlaylistIdentity});var n=r(736722),a=r(764144)},736722:(e,t,r)=>{"use strict";r.d(t,{mapPlaylistToMusicMixIdentity:()=>a});var n=r(843161);function a(e){let t=e.getPlaylistId();if(null==t)throw new Error("There is no identity in the music mix");if("number"==typeof t&&(t=String(t)),"string"!=typeof t)throw new Error("There is no identity in the music mix");return new n.SingleIdentity({id:t})}},764144:(e,t,r)=>{"use strict";r.d(t,{mapPlaylistToMusicPlaylistIdentity:()=>s});var n=r(35215),a=r(70148);function s(e){const t=e.getPlaylistId(),r=e.getOwnerId?.();if(null==t||null==r)throw new Error("There is no identity in the music playlist");const s=parseInt(String(t)),_=parseInt(String(r));if(!(0,n.isNumber)(s)||!(0,n.isNumber)(_))throw new Error("There is no identity in the music playlist");return new a.OwnedIdentity({id:s,ownerId:_})}},280494:(e,t,r)=>{"use strict";r.d(t,{mapAudioTupleToMusicAudioIdentity:()=>n.mapAudioTupleToMusicAudioIdentity,mapPlaylistToMusicMixIdentity:()=>a.mapPlaylistToMusicMixIdentity,mapPlaylistToMusicPlaylistIdentity:()=>a.mapPlaylistToMusicPlaylistIdentity});var n=r(943223),a=r(227997)},734768:(e,t,r)=>{"use strict";r.d(t,{GlobalAudioPlayerLazyProxy:()=>A});var n=r(434518),a=r(763812),s=r(331635),_=r(327813),c=r(132028),l=r(190050),u=r(738445),d=(0,a._)("_provider"),p=(0,a._)("_mock"),E=(0,a._)("_player"),m=(0,a._)("_getValue"),g=(0,a._)("_createMethod");class A{get isInitializing(){return(0,n._)(this,m)[m]("isInitializing")}get currentAudio(){return(0,n._)(this,m)[m]("currentAudio")}get currentAudioIdentity(){return(0,n._)(this,m)[m]("currentAudioIdentity")}get prevAudio(){return(0,n._)(this,m)[m]("prevAudio")}get currentListIdentity(){return(0,n._)(this,m)[m]("currentListIdentity")}get negativeDurationTypeEnabled(){return(0,n._)(this,m)[m]("negativeDurationTypeEnabled")}get currentSubChannel(){return(0,n._)(this,m)[m]("currentSubChannel")}get repeat(){return(0,n._)(this,m)[m]("repeat")}get isPlaying(){return(0,n._)(this,m)[m]("isPlaying")}get isPaused(){return(0,n._)(this,m)[m]("isPaused")}get isEnded(){return(0,n._)(this,m)[m]("isEnded")}get isPending(){return(0,n._)(this,m)[m]("isPending")}get isShuffled(){return(0,n._)(this,m)[m]("isShuffled")}get progress(){return(0,n._)(this,m)[m]("progress")}get listenedTime(){return(0,n._)(this,m)[m]("listenedTime")}get bufferingProgress(){return(0,n._)(this,m)[m]("bufferingProgress")}get volume(){return(0,n._)(this,m)[m]("volume")}get duration(){return(0,n._)(this,m)[m]("duration")}get playbackSpeed(){return(0,n._)(this,m)[m]("playbackSpeed")}get frequencyData(){return(0,n._)(this,m)[m]("frequencyData")}constructor(e){Object.defineProperty(this,E,{get:f,set:void 0}),Object.defineProperty(this,m,{value:I}),Object.defineProperty(this,g,{value:y}),Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:void 0}),(0,n._)(this,p)[p]=new l.GlobalAudioPlayerMock({methodsThrowsErrors:!1}),this.isCurrentAudioList=(0,n._)(this,g)[g]("isCurrentAudioList"),this.playAudio=(0,n._)(this,g)[g]("playAudio"),this.playAudioList=(0,n._)(this,g)[g]("playAudioList"),this.play=(0,n._)(this,g)[g]("play"),this.pause=(0,n._)(this,g)[g]("pause"),this.resume=(0,n._)(this,g)[g]("resume"),this.stop=(0,n._)(this,g)[g]("stop"),this.playNext=(0,n._)(this,g)[g]("playNext"),this.playPrev=(0,n._)(this,g)[g]("playPrev"),this.toggleShuffle=(0,n._)(this,g)[g]("toggleShuffle"),this.setRepeat=(0,n._)(this,g)[g]("setRepeat"),this.toggleNegativeDurationType=(0,n._)(this,g)[g]("toggleNegativeDurationType"),this.seek=(0,n._)(this,g)[g]("seek"),this.seekBySlider=(0,n._)(this,g)[g]("seekBySlider"),this.updateVolume=(0,n._)(this,g)[g]("updateVolume"),this.updatePlaybackSpeed=(0,n._)(this,g)[g]("updatePlaybackSpeed"),this.setNextAudioListInQueue=(0,n._)(this,g)[g]("setNextAudioListInQueue"),(0,n._)(this,d)[d]=e,(0,_.makeObservable)(this),(0,n._)(this,d)[d].ensure()}}function f(){return(0,n._)(this,d)[d].instance}function I(e){return(0,n._)(this,E)[E]?.[e]??(0,n._)(this,p)[p][e]}function y(e){return(...t)=>{const r=(0,n._)(this,E)[E],a=(0,n._)(this,p)[p];return r?r[e](...t):a[e](...t)}}(0,s.__decorate)([_.computed,(0,s.__metadata)("design:type",void 0),(0,s.__metadata)("design:paramtypes",[])],A.prototype,"isInitializing",null),(0,s.__decorate)([_.computed,(0,s.__metadata)("design:type",void 0),(0,s.__metadata)("design:paramtypes",[])],A.prototype,"currentAudio",null),(0,s.__decorate)([_.computed,(0,s.__metadata)("design:type",void 0),(0,s.__metadata)("design:paramtypes",[])],A.prototype,"currentAudioIdentity",null),(0,s.__decorate)([_.computed,(0,s.__metadata)("design:type",void 0),(0,s.__metadata)("design:paramtypes",[])],A.prototype,"prevAudio",null),(0,s.__decorate)([_.computed,(0,s.__metadata)("design:type",void 0),(0,s.__metadata)("design:paramtypes",[])],A.prototype,"currentListIdentity",null),(0,s.__decorate)([_.computed,(0,s.__metadata)("design:type",void 0),(0,s.__metadata)("design:paramtypes",[])],A.prototype,"negativeDurationTypeEnabled",null),(0,s.__decorate)([_.computed,(0,s.__metadata)("design:type",void 0),(0,s.__metadata)("design:paramtypes",[])],A.prototype,"currentSubChannel",null),(0,s.__decorate)([_.computed,(0,s.__metadata)("design:type","undefined"==typeof TPlaybackQueueRepeat?Object:TPlaybackQueueRepeat),(0,s.__metadata)("design:paramtypes",[])],A.prototype,"repeat",null),(0,s.__decorate)([_.computed,(0,s.__metadata)("design:type",void 0),(0,s.__metadata)("design:paramtypes",[])],A.prototype,"isPlaying",null),(0,s.__decorate)([_.computed,(0,s.__metadata)("design:type",void 0),(0,s.__metadata)("design:paramtypes",[])],A.prototype,"isPaused",null),(0,s.__decorate)([_.computed,(0,s.__metadata)("design:type",void 0),(0,s.__metadata)("design:paramtypes",[])],A.prototype,"isEnded",null),(0,s.__decorate)([_.computed,(0,s.__metadata)("design:type",void 0),(0,s.__metadata)("design:paramtypes",[])],A.prototype,"isPending",null),(0,s.__decorate)([_.computed,(0,s.__metadata)("design:type",void 0),(0,s.__metadata)("design:paramtypes",[])],A.prototype,"isShuffled",null),(0,s.__decorate)([_.computed,(0,s.__metadata)("design:type",void 0),(0,s.__metadata)("design:paramtypes",[])],A.prototype,"progress",null),(0,s.__decorate)([_.computed,(0,s.__metadata)("design:type",void 0),(0,s.__metadata)("design:paramtypes",[])],A.prototype,"listenedTime",null),(0,s.__decorate)([_.computed,(0,s.__metadata)("design:type",void 0),(0,s.__metadata)("design:paramtypes",[])],A.prototype,"bufferingProgress",null),(0,s.__decorate)([_.computed,(0,s.__metadata)("design:type",void 0),(0,s.__metadata)("design:paramtypes",[])],A.prototype,"volume",null),(0,s.__decorate)([_.computed,(0,s.__metadata)("design:type",void 0),(0,s.__metadata)("design:paramtypes",[])],A.prototype,"duration",null),(0,s.__decorate)([_.computed,(0,s.__metadata)("design:type",void 0),(0,s.__metadata)("design:paramtypes",[])],A.prototype,"playbackSpeed",null),(0,s.__decorate)([_.computed,(0,s.__metadata)("design:type",void 0),(0,s.__metadata)("design:paramtypes",[])],A.prototype,"frequencyData",null),A=(0,s.__decorate)([c.scope.global(),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[void 0===u.GlobalAudioPlayerProvider?Object:u.GlobalAudioPlayerProvider])],A)},190050:(e,t,r)=>{"use strict";r.d(t,{GlobalAudioPlayerMock:()=>c});var n=r(434518),a=r(763812),s=(0,a._)("_params"),_=(0,a._)("_createMethod");class c{constructor(e){Object.defineProperty(this,_,{value:l}),Object.defineProperty(this,s,{writable:!0,value:void 0}),this.isInitializing=!0,this.currentAudio=null,this.prevAudio=null,this.currentAudioIdentity=null,this.currentListIdentity=null,this.currentSubChannel=null,this.repeat="none",this.negativeDurationTypeEnabled=!1,this.isPlaying=!1,this.isPaused=!1,this.isEnded=!1,this.isPending=!1,this.isShuffled=!1,this.progress=0,this.listenedTime=0,this.bufferingProgress=0,this.volume=0,this.duration=0,this.playbackSpeed=1,this.frequencyData={amplitude:0,pitch:0,modulation:0,harmonics:0},this.isCurrentAudioList=(0,n._)(this,_)[_]("isCurrentAudioList",(()=>!1)),this.playAudio=(0,n._)(this,_)[_]("playAudio",u),this.playAudioList=(0,n._)(this,_)[_]("playAudioList",u),this.play=(0,n._)(this,_)[_]("play",u),this.pause=(0,n._)(this,_)[_]("pause",u),this.resume=(0,n._)(this,_)[_]("resume",u),this.stop=(0,n._)(this,_)[_]("stop",u),this.playNext=(0,n._)(this,_)[_]("playNext",u),this.playPrev=(0,n._)(this,_)[_]("playPrev",u),this.toggleShuffle=(0,n._)(this,_)[_]("toggleShuffle",u),this.setRepeat=(0,n._)(this,_)[_]("setRepeat",u),this.toggleNegativeDurationType=(0,n._)(this,_)[_]("toggleNegativeDurationType",u),this.seek=(0,n._)(this,_)[_]("seek",u),this.seekBySlider=(0,n._)(this,_)[_]("seekBySlider",u),this.updateVolume=(0,n._)(this,_)[_]("updateVolume",u),this.updatePlaybackSpeed=(0,n._)(this,_)[_]("updatePlaybackSpeed",u),this.setNextAudioListInQueue=(0,n._)(this,_)[_]("setNextAudioListInQueue",u),(0,n._)(this,s)[s]=e}}function l(e,t){return(...r)=>{if((0,n._)(this,s)[s].methodsThrowsErrors)throw new Error(`Not implemented method ${e}`);return t(...r)}}function u(){}},738445:(e,t,r)=>{"use strict";r.d(t,{GlobalAudioPlayerProvider:()=>u});var n=r(434518),a=r(763812),s=r(331635),_=r(327813),c=r(132028),l=(0,a._)("_initialization");class u{get instance(){return this._instance}async ensure(){if(this.instance)return this.instance;if((0,n._)(this,l)[l])return(0,n._)(this,l)[l];(0,n._)(this,l)[l]=(async()=>{const e=await this.lazyCreateImpl();return this.setInstance(e)})();const e=await(0,n._)(this,l)[l];return(0,n._)(this,l)[l]=null,e}setInstance(e){return this._instance=e}constructor(){Object.defineProperty(this,l,{writable:!0,value:void 0}),this._instance=null,(0,n._)(this,l)[l]=null,(0,_.makeObservable)(this)}}(0,s.__decorate)([_.observable.ref,(0,s.__metadata)("design:type",Object)],u.prototype,"_instance",void 0),(0,s.__decorate)([_.computed,(0,s.__metadata)("design:type",Object),(0,s.__metadata)("design:paramtypes",[])],u.prototype,"instance",null),(0,s.__decorate)([_.action,(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",["undefined"==typeof IGlobalAudioPlayer?Object:IGlobalAudioPlayer]),(0,s.__metadata)("design:returntype","undefined"==typeof IGlobalAudioPlayer?Object:IGlobalAudioPlayer)],u.prototype,"setInstance",null),u=(0,s.__decorate)([c.scope.global({abstract:!0}),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[])],u)},332911:(e,t,r)=>{"use strict";r.d(t,{PlayableAudioListTypes:()=>_,PlayableAudioTypes:()=>c});var n=r(775182),a=r(568952),s=r(588357);const _=[...n.MusicPlaylistsTypes,a.AudioListType.MusicMix,a.AudioListType.Podcast,a.AudioListType.ShortVideoMusicTrackList,a.AudioListType.AttachmentMusicTrackList,a.AudioListType.GroupMusicTrackList],c=[s.AudioType.MusicTrack,s.AudioType.PodcastEpisode,s.AudioType.PodcastTrailer]},830135:(e,t,r)=>{"use strict";r.d(t,{GlobalAudioPlayerSubChannelType:()=>a});var n=r(21990),a=function(e){return e[e.MusicTrack=n.AudioPlayerChannelType.MusicTrack]="MusicTrack",e[e.Radio=n.AudioPlayerChannelType.Radio]="Radio",e[e.Podcast=n.AudioPlayerChannelType.Podcast]="Podcast",e.Ads="ads",e}({})},718540:(e,t,r)=>{"use strict";r.d(t,{GlobalAudioPlayerSubChannelType:()=>n.GlobalAudioPlayerSubChannelType,PlayableAudioListTypes:()=>a.PlayableAudioListTypes,PlayableAudioTypes:()=>a.PlayableAudioTypes});var n=r(830135),a=r(332911)},344893:(e,t,r)=>{"use strict";r.d(t,{isSpecificPlayableAudio:()=>n.isSpecificPlayableAudio});var n=r(920817)},920817:(e,t,r)=>{"use strict";r.d(t,{isSpecificPlayableAudio:()=>a});var n=r(718540);function a(e,t){const{context:r,apiAudio:a}=e;return!!(e.type&&r&&a)&&(t?Array.isArray(t)?t.includes(e.type):e.type===t:n.PlayableAudioTypes.includes(e.type))}},103466:(e,t,r)=>{"use strict";r.d(t,{GlobalAudioPlayerProvider:()=>n.GlobalAudioPlayerProvider,GlobalAudioPlayerSubChannelType:()=>a.GlobalAudioPlayerSubChannelType,PlayableAudioListTypes:()=>a.PlayableAudioListTypes,isSpecificPlayableAudio:()=>s.isSpecificPlayableAudio});r(734768);var n=r(738445),a=r(718540),s=r(344893)},880804:(e,t,r)=>{"use strict";r.d(t,{AudioPlayerPauseAudioEventReason:()=>a,AudioPlayerPlayAudioEventReason:()=>n,AudioPlayerSeekEventReason:()=>_,AudioPlayerStopAudioEventReason:()=>s});var n=function(e){return e.PlayButton="PLAY_BUTTON",e.NextButton="NEXT_BUTTON",e.PrevButton="PREV_BUTTON",e.NextMediaSession="NEXT_MEDIA_SESSION",e.PrevMediaSession="PREV_MEDIA_SESSION",e.MixAndPlayButton="MIX_AND_PLAY_BUTTON",e.ListButton="LIST_BUTTON",e.AudioButton="AUDIO_BUTTON",e.QueueContinuation="QUEUE_CONTINUATION",e.QueueContinuationAfterError="QUEUE_CONTINUATION_AFTER_ERROR",e.Autoplay="AUTOPLAY",e.Repeat="REPEAT",e.Voice="VOICE",e.NextVoice="NEXT_VOICE",e.PrevVoice="PREV_VOICE",e.ChannelAutoResume="CHANNEL_AUTO_RESUME",e.Unknown="UNKNOWN",e}({}),a=function(e){return e.PauseButton="PAUSE_BUTTON",e.MediaSession="MEDIA_SESSION",e.ChannelAutoPause="CHANNEL_AUTO_PAUSE",e.Voice="VOICE",e.Paywall="PAYWALL",e.Unknown="UNKNOWN",e}({}),s=function(e){return e.NextButton="NEXT_BUTTON",e.PrevButton="PREV_BUTTON",e.QueueContinuation="QUEUE_CONTINUATION",e.Adv="ADV",e.Repeat="REPEAT",e.ChangeQueue="CHANGE_QUEUE",e.Clear="CLEAR",e.Error="ERROR",e.Unknown="UNKNOWN",e}({}),_=function(e){return e.SliderForward="SLIDER_FORWARD",e.SliderBack="SLIDER_BACK",e.TapForward="TAP_FORWARD",e.TapBack="TAP_BACK",e.DoubleTapForward="DOUBLE_TAP_FORWARD",e.DoubleTapBack="DOUBLE_TAP_BACK",e.Unknown="UNKNOWN",e}({})},294718:(e,t,r)=>{"use strict";r.d(t,{createAudioPlayerEventEmitter:()=>a});var n=r(26530);function a(e){return e.resolve(n.EmitterFactory).create()}},198994:(e,t,r)=>{"use strict";r.d(t,{getStopReasonForPlayReason:()=>a});var n=r(880804);function a(e){switch(e){case n.AudioPlayerPlayAudioEventReason.QueueContinuation:return n.AudioPlayerStopAudioEventReason.QueueContinuation;case n.AudioPlayerPlayAudioEventReason.QueueContinuationAfterError:return n.AudioPlayerStopAudioEventReason.Error;case n.AudioPlayerPlayAudioEventReason.NextButton:case n.AudioPlayerPlayAudioEventReason.NextMediaSession:case n.AudioPlayerPlayAudioEventReason.NextVoice:return n.AudioPlayerStopAudioEventReason.NextButton;case n.AudioPlayerPlayAudioEventReason.PrevButton:case n.AudioPlayerPlayAudioEventReason.PrevMediaSession:case n.AudioPlayerPlayAudioEventReason.PrevVoice:return n.AudioPlayerStopAudioEventReason.PrevButton;case n.AudioPlayerPlayAudioEventReason.MixAndPlayButton:case n.AudioPlayerPlayAudioEventReason.ListButton:case n.AudioPlayerPlayAudioEventReason.AudioButton:case n.AudioPlayerPlayAudioEventReason.Voice:return n.AudioPlayerStopAudioEventReason.ChangeQueue;case n.AudioPlayerPlayAudioEventReason.Repeat:return n.AudioPlayerStopAudioEventReason.Repeat;case n.AudioPlayerPlayAudioEventReason.Unknown:return n.AudioPlayerStopAudioEventReason.Unknown;default:return}}},913735:(e,t,r)=>{"use strict";r.d(t,{createAudioPlayerEventEmitter:()=>n.createAudioPlayerEventEmitter,getStopReasonForPlayReason:()=>a.getStopReasonForPlayReason});var n=r(294718),a=r(198994)},426389:(e,t,r)=>{"use strict";r.d(t,{AudioPlayerPauseAudioEventReason:()=>n.AudioPlayerPauseAudioEventReason,AudioPlayerPlayAudioEventReason:()=>n.AudioPlayerPlayAudioEventReason,AudioPlayerSeekEventReason:()=>n.AudioPlayerSeekEventReason,AudioPlayerStopAudioEventReason:()=>n.AudioPlayerStopAudioEventReason,createAudioPlayerEventEmitter:()=>a.createAudioPlayerEventEmitter,getStopReasonForPlayReason:()=>a.getStopReasonForPlayReason});var n=r(880804),a=r(913735)},771979:(e,t,r)=>{"use strict";r.d(t,{AudioPlayerStatsListener:()=>M});var n=r(434518),a=r(763812),s=r(488150),_=r(694132),c=r(107885),l=r(985890),u=r(851636),d=(0,a._)("_stats"),p=(0,a._)("_handlePlayAudio"),E=(0,a._)("_handlePlayAdv"),m=(0,a._)("_handlePauseAudio"),g=(0,a._)("_handlePauseAdv"),A=(0,a._)("_handleStopAudio"),f=(0,a._)("_handleStopAdv"),I=(0,a._)("_handleSeek"),y=(0,a._)("_handleStateRestore"),R=(0,a._)("_handlePageClose"),O=(0,a._)("_makeAdvEventData"),S=(0,a._)("_makeAudioEventData"),T=(0,a._)("_makeEventData"),P=(0,a._)("_canOperate"),b=(0,a._)("_getPlayedTime"),C=(0,a._)("_handleRadioHeartbeat"),D=(0,a._)("_radioHeartbeat");class M{destroy(){window.removeEventListener("beforeunload",(0,n._)(this,R)[R]),this.playerAdapter.events.off("playAudio",(0,n._)(this,p)[p]).off("pauseAudio",(0,n._)(this,m)[m]).off("stopAudio",(0,n._)(this,A)[A]).off("playAdv",(0,n._)(this,E)[E]).off("pauseAdv",(0,n._)(this,g)[g]).off("stopAdv",(0,n._)(this,f)[f]).off("seek",(0,n._)(this,I)[I]).off("stateRestore",(0,n._)(this,y)[y])}constructor(e){Object.defineProperty(this,O,{value:L}),Object.defineProperty(this,S,{value:N}),Object.defineProperty(this,T,{value:k}),Object.defineProperty(this,P,{value:U}),Object.defineProperty(this,b,{value:B}),Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:void 0}),Object.defineProperty(this,E,{writable:!0,value:void 0}),Object.defineProperty(this,m,{writable:!0,value:void 0}),Object.defineProperty(this,g,{writable:!0,value:void 0}),Object.defineProperty(this,A,{writable:!0,value:void 0}),Object.defineProperty(this,f,{writable:!0,value:void 0}),Object.defineProperty(this,I,{writable:!0,value:void 0}),Object.defineProperty(this,y,{writable:!0,value:void 0}),Object.defineProperty(this,R,{writable:!0,value:void 0}),Object.defineProperty(this,C,{writable:!0,value:void 0}),Object.defineProperty(this,D,{writable:!0,value:void 0}),this.playerAdapter=e,(0,n._)(this,d)[d]=new c.AudioPlayerStatsCollector(new _.AudioNavScreenProvider),(0,n._)(this,p)[p]=({reason:e,audio:t,progressTime:r})=>{if(!(0,n._)(this,P)[P]())return;const a=(0,n._)(this,S)[S](t,r);(0,n._)(this,d)[d].play((0,l.mapPlayReasonToSubtype)(e),a),t.type===s.AudioType.Radio&&(0,n._)(this,D)[D].start(t)},(0,n._)(this,E)[E]=({reason:e,advId:t,progressTime:r})=>{if(!(0,n._)(this,P)[P]())return;const a=(0,n._)(this,O)[O](t,r);(0,n._)(this,d)[d].play((0,l.mapPlayReasonToSubtype)(e),a)},(0,n._)(this,m)[m]=({reason:e,audio:t,progressTime:r})=>{if(!(0,n._)(this,P)[P]())return;const a=(0,n._)(this,S)[S](t,r);(0,n._)(this,d)[d].pause((0,l.mapPauseReasonToSubtype)(e),a),t.type===s.AudioType.Radio&&(0,n._)(this,D)[D].stop(t)},(0,n._)(this,g)[g]=({reason:e,advId:t,progressTime:r})=>{if(!(0,n._)(this,P)[P]())return;const a=(0,n._)(this,O)[O](t,r);(0,n._)(this,d)[d].pause((0,l.mapPauseReasonToSubtype)(e),a)},(0,n._)(this,A)[A]=({reason:e,audio:t,progressTime:r,wasPaused:a})=>{if(!(0,n._)(this,P)[P]())return;const _=(0,n._)(this,S)[S](t,r);(0,n._)(this,d)[d].end((0,l.mapStopReasonToSubtype)(e),_),t.type!==s.AudioType.Radio||a||(0,n._)(this,D)[D].stop(t)},(0,n._)(this,f)[f]=({reason:e,advId:t,progressTime:r})=>{if(!(0,n._)(this,P)[P]())return;const a=(0,n._)(this,O)[O](t,r);(0,n._)(this,d)[d].end((0,l.mapStopReasonToSubtype)(e),a)},(0,n._)(this,I)[I]=({reason:e,audio:t,progressTime:r,fromTime:a})=>{if(!(0,n._)(this,P)[P]())return;const s=(0,n._)(this,S)[S](t,a);(0,n._)(this,d)[d].pause((0,l.mapSeekPauseReasonToSubtype)(e),s);const _=(0,n._)(this,S)[S](t,r);(0,n._)(this,d)[d].play((0,l.mapSeekPlayReasonToSubtype)(e),_)},(0,n._)(this,y)[y]=({audio:e,progressTime:t})=>{if(!e||!(0,n._)(this,P)[P]())return;const r=(0,n._)(this,S)[S](e,t);(0,n._)(this,d)[d].pause(c.PauseEventSubtype.StateRestore,r),(0,n._)(this,D)[D].clear()},(0,n._)(this,R)[R]=()=>{const e=this.playerAdapter.getPlayingAudio();if(!e||!(0,n._)(this,P)[P]())return;const t=(0,n._)(this,S)[S](e,(0,n._)(this,b)[b]());(0,n._)(this,d)[d].end(c.StopEventSubtype.Close,t),(0,n._)(this,D)[D].clear()},(0,n._)(this,C)[C]=e=>{const t=(0,n._)(this,S)[S](e,(0,n._)(this,b)[b]());(0,n._)(this,d)[d].play(c.PlayEventSubtype.Heartbeat,t)},(0,n._)(this,D)[D]=new u.AudioHeartbeatTimer({ms:1e4,onBeat:(0,n._)(this,C)[C]}),this.playerAdapter=e,window.addEventListener("beforeunload",(0,n._)(this,R)[R]),this.playerAdapter.events.on("playAudio",(0,n._)(this,p)[p]).on("pauseAudio",(0,n._)(this,m)[m]).on("stopAudio",(0,n._)(this,A)[A]).on("playAdv",(0,n._)(this,E)[E]).on("pauseAdv",(0,n._)(this,g)[g]).on("stopAdv",(0,n._)(this,f)[f]).on("seek",(0,n._)(this,I)[I]).on("stateRestore",(0,n._)(this,y)[y])}}function L(e,t){const r=(0,c.makeAdvListeningData)(e),a=Math.round(t/1e3);return{...(0,n._)(this,T)[T](),timeline:a,trackCode:"",...r}}function N(e,t){const r=(0,l.mapAudioDataToListeningData)(e),a=Math.round(t/1e3);return{...(0,n._)(this,T)[T](),trackCode:e.trackCode,timeline:a,...r}}function k(){return{shuffle:Boolean(this.playerAdapter.isShuffledPlaylist()),repeatMode:this.playerAdapter.isRepeatCurrentAudio()?c.RepeatMode.One:this.playerAdapter.isRepeatAll()?c.RepeatMode.All:c.RepeatMode.Off,volume:this.playerAdapter.getVolume(),speed:100,streamingType:c.StreamingType.Online,playerInitId:null,layer:!0,autorecoms:!0}}function U(){return!this.playerAdapter.isMarusiaTrack()}function B(){return 1e3*Math.round(this.playerAdapter.getListenedTime())||0}},818212:(e,t,r)=>{"use strict";r.d(t,{AudioPlayerStatsCollector:()=>I});var n=r(434518),a=r(763812),s=r(314309),_=r(540462),c=r(975106),l=r(847154),u=r(674234);const d=["audio","podcast"];var p=(0,a._)("_eventTimelines"),E=(0,a._)("_actionCollector"),m=(0,a._)("_audioNavScreenProvider"),g=(0,a._)("_log"),A=(0,a._)("_debug"),f=(0,a._)("_getNavScreen");class I{play(e,t){(0,n._)(this,g)[g]({category:c.EventCategory.Play,type:c.PlayEventType.Start,subtype:e},t)}pause(e,t){(0,n._)(this,g)[g]({category:c.EventCategory.Stop,type:c.StopEventType.Pause,subtype:e},t)}end(e,t){(0,n._)(this,g)[g]({category:c.EventCategory.Stop,type:c.StopEventType.End,subtype:e},t)}constructor(e){Object.defineProperty(this,g,{value:y}),Object.defineProperty(this,A,{get:R,set:void 0}),Object.defineProperty(this,f,{value:O}),Object.defineProperty(this,p,{writable:!0,value:void 0}),Object.defineProperty(this,E,{writable:!0,value:void 0}),Object.defineProperty(this,m,{writable:!0,value:void 0}),(0,n._)(this,p)[p]=new Map,(0,n._)(this,E)[E]=new s.ActionStatCollector(new s.ProductionStatCollector),(0,n._)(this,m)[m]=e}}function y(e,t){const r=(0,n._)(this,f)[f](),a=(0,u.getEventDataKey)(t),s=(0,l.makeEventItem)(e,t,(0,n._)(this,p)[p].get(a)??0,r);if((0,n._)(this,E)[E].logEvent({type:c.EVENT_ITEM_TYPE,[c.EVENT_ITEM_TYPE]:s},{screen:r.screen}),(0,n._)(this,A)[A]){const e=s.event.type,t=s.event[e];console.log([["event_category",e],["event_type",t.type],["event_subtype",t.subtype],["screen",r.screen]].map((([e,t])=>`${e}: ${t}`)).join("\n"),s)}e.category===c.EventCategory.Stop&&e.type===c.StopEventType.End?(0,n._)(this,p)[p].delete(a):(0,n._)(this,p)[p].set(a,t.timeline)}function R(){return(0,_.partConfigEnabled)("audio_player_stats_debug")}function O(){let e=window.cur.module,t=null;return d.includes(e)?((0,_.partConfigEnabled)("audio_player_stats_extra_screens")&&(e=(0,n._)(this,m)[m].screen??e),t=(0,n._)(this,m)[m].catalogSectionId):(0,n._)(this,m)[m].clearPage(),{screen:e,catalogSectionId:t}}},761372:(e,t,r)=>{"use strict";r.d(t,{ListeningType:()=>n,MusicContentType:()=>a,PauseEventSubtype:()=>u,PlayEventSubtype:()=>l,PodcastContentType:()=>s,RepeatMode:()=>_,StopEventSubtype:()=>d,StreamingType:()=>c});var n=function(e){return e.Music="type_audio_audio_listening_item",e.Podcast="type_audio_podcast_listening_item",e.Book="type_audio_book_listening_item",e.Adv="type_audio_adv_listening_item",e.Radio="type_audio_radio_listening_item",e}({}),a=function(e){return e.Track="music_track",e.Snippet="music_snippet",e}({}),s=function(e){return e.Episode="podcast_episode",e.Trailer="podcast_trailer",e}({}),_=function(e){return e.Off="off",e.One="one",e.All="all",e}({}),c=function(e){return e.Online="online",e.OnlineCache="online_cache",e}({}),l=function(e){return e.PlayButton="play_btn",e.NextButton="next_btn",e.PrevButton="prev_btn",e.NextMediaSession="next_by_system",e.PrevMediaSession="prev_by_system",e.MixAndPlayButton="mix_and_play_btn",e.FastplayListButton="fastplay_list_btn",e.FastplayAudioButton="fastplay_audio_btn",e.QueueContinuation="autoplay",e.QueueContinuationAfterError="autoplay_error",e.Autoplay="autoplay",e.Repeat="repeat",e.Voice="voice",e.NextVoice="next_voice",e.PrevVoice="prev_voice",e.PullSliderForward="pull_slider_forward",e.PullSliderBack="pull_slider_back",e.SeekTapForward="seek_tap_forward",e.SeekTapBack="seek_tap_back",e.NextDoubleTap="next_double_tap",e.PrevDoubleTap="prev_double_tap",e.ChannelAutoResume="session_terminated_autostart",e.Heartbeat="heartbeat",e.Unknown="unhandled_on_client",e}({}),u=function(e){return e.PauseButton="pause_btn",e.MediaSession="pause_by_system",e.ChannelAutoPause="session_terminated",e.PullSliderForward="pull_slider_forward",e.PullSliderBack="pull_slider_back",e.SeekTapForward="seek_tap_forward",e.SeekTapBack="seek_tap_back",e.NextDoubleTap="next_double_tap",e.PrevDoubleTap="prev_double_tap",e.Voice="voice",e.Paywall="paywall_pause",e.StateRestore="client_restore",e.Error="error",e.Unknown="unhandled_on_client",e}({}),d=function(e){return e.NextButton="next",e.PrevButton="prev",e.Autoplay="autoplay",e.Adv="adv",e.Repeat="repeat",e.ChangeSource="change_source",e.Close="close",e.Error="error",e.Unknown="unhandled_on_client",e}({})},805711:(e,t,r)=>{"use strict";r.d(t,{makeAdvListeningData:()=>n.makeAdvListeningData});var n=r(69095)},69095:(e,t,r)=>{"use strict";r.d(t,{makeAdvListeningData:()=>a});var n=r(761372);function a(e){return{listeningType:n.ListeningType.Adv,contentType:"audio_adv",advId:e}}},107885:(e,t,r)=>{"use strict";r.d(t,{AudioPlayerStatsCollector:()=>n.AudioPlayerStatsCollector,ListeningType:()=>a.ListeningType,MusicContentType:()=>a.MusicContentType,PauseEventSubtype:()=>a.PauseEventSubtype,PlayEventSubtype:()=>a.PlayEventSubtype,PodcastContentType:()=>a.PodcastContentType,RepeatMode:()=>a.RepeatMode,StopEventSubtype:()=>a.StopEventSubtype,StreamingType:()=>a.StreamingType,makeAdvListeningData:()=>s.makeAdvListeningData});var n=r(818212),a=r(761372),s=r(805711)},975106:(e,t,r)=>{"use strict";r.d(t,{AppState:()=>m,AudioEventLayer:()=>d,Autorecoms:()=>E,EVENT_ITEM_TYPE:()=>_,EventCategory:()=>c,PLAYER_INIT_ID:()=>s,PlayEventType:()=>l,Shuffle:()=>p,StopEventType:()=>u});var n=r(418562),a=r(553608);const s=(()=>{const e="AUDIO_PLAYER_INIT_ID",t=(0,a.getSessionStorage)();let r=t.getItem(e);return r||(r=(0,n.default)(),t.setItem(e,r)),r})(),_="type_audio_listening_item";var c=function(e){return e.Play="play",e.Stop="stop",e}({}),l=function(e){return e.Start="start",e}({}),u=function(e){return e.Pause="pause",e.End="end",e}({}),d=function(e){return e.Not="not",e.Layer="layer",e}({}),p=function(e){return e.Off="off",e.On="on",e}({}),E=function(e){return e.Off="off",e.On="on",e}({}),m=function(e){return e.Active="active",e.Inactive="inactive",e}({})},674234:(e,t,r)=>{"use strict";r.d(t,{getEventDataKey:()=>a});var n=r(761372);function a(e){return`${function(e){switch(e.listeningType){case n.ListeningType.Music:{const{contentType:t,audioId:r,ownerId:n}=e;return`${t}/${n}_${r}`}case n.ListeningType.Adv:{const{contentType:t,advId:r}=e;return`${t}/${r}`}case n.ListeningType.Podcast:{const{contentType:t,podcastId:r,ownerId:n,episodeId:a}=e;return`${t}/${n}_${r}_${a}`}case n.ListeningType.Book:{const{contentType:t,bookId:r,chapterId:n}=e;return`${t}/${r}${n?"_":""}${n}`}case n.ListeningType.Radio:{const{contentType:t,radioId:r}=e;return`${t}/${r}`}}}(e)}/${e.trackCode}`}},847154:(e,t,r)=>{"use strict";r.d(t,{getClientServerTime:()=>n.getClientServerTime,getClientTime:()=>n.getClientTime,makeEventItem:()=>n.makeEventItem});r(982727);var n=r(187847)},187847:(e,t,r)=>{"use strict";r.d(t,{getClientServerTime:()=>l,getClientTime:()=>c,makeEventItem:()=>_});var n=r(540462),a=r(975106),s=r(982727);function _(e,t,r,n){const _=c(),u=function({category:e,type:t,subtype:r}){const n={type:e};return{[e]:{type:t,subtype:r},...n}}(e),{catalogSectionId:d}=n;return{event:u,client_time:_,client_server_time:l(_),layer:t.layer?a.AudioEventLayer.Layer:a.AudioEventLayer.Not,autorecoms:t.autorecoms?a.Autorecoms.On:a.Autorecoms.Off,track_code:t.trackCode,timeline:t.timeline,timeline_from:r,player_init_id:a.PLAYER_INIT_ID,volume:t.volume,speed:t.speed,shuffle:t.shuffle?a.Shuffle.On:a.Shuffle.Off,app_state:document.hidden?a.AppState.Inactive:a.AppState.Active,streaming_type:t.streamingType,repeat_mode:t.repeatMode,...d?{nav_info:{section_id:d}}:void 0,...(0,s.mapListeningData)(t)}}function c(){return Math.floor(Date.now()/1e3)}function l(e=c()){return e-(Number.isFinite(window.vk?.dt)?window.vk.dt:(0,n.calculateTimeOffsets)())}},982727:(e,t,r)=>{"use strict";r.d(t,{mapListeningData:()=>a});var n=r(761372);function a(e){switch(e.listeningType){case n.ListeningType.Music:return function({listeningType:e,...t}){return{listening_type:e,[e]:{audio_id:t.audioId,audio_owner_id:t.ownerId,content_type:t.contentType}}}(e);case n.ListeningType.Podcast:return function({listeningType:e,...t}){return{listening_type:e,[e]:{podcast_id:t.podcastId,podcast_owner_id:t.ownerId,episode_id:t.episodeId,podcast_authors_ids:t.authorIds,content_type:t.contentType}}}(e);case n.ListeningType.Book:return function({listeningType:e,...t}){return{listening_type:e,[e]:{book_id:t.bookId,chapter_id:t.chapterId,content_type:"audiobook_chapter"}}}(e);case n.ListeningType.Radio:return function({listeningType:e,...t}){return{listening_type:e,[e]:{radio_id:t.radioId,content_type:"radio"}}}(e);case n.ListeningType.Adv:return function({listeningType:e,...t}){return{listening_type:e,[e]:{adv_id:t.advId,content_type:"audio_adv"}}}(e)}}},123965:(e,t,r)=>{"use strict";r.d(t,{AudioPlayerMediascopeListener:()=>n.AudioPlayerMediascopeListener,AudioPlayerMyTrackerListener:()=>a.AudioPlayerMyTrackerListener,AudioPlayerStatsListener:()=>s.AudioPlayerStatsListener});var n=r(888090),a=r(405188),s=r(771979)},851636:(e,t,r)=>{"use strict";r.d(t,{AudioHeartbeatTimer:()=>m});var n=r(434518),a=r(763812),s=r(478455),_=r(86909),c=(0,a._)("_ms"),l=(0,a._)("_onBeat"),u=(0,a._)("_clearIntervalFn"),d=(0,a._)("_currentAudio"),p=(0,a._)("_clearInterval"),E=(0,a._)("_isActive");class m{start(e){if((0,n._)(this,E)[E])throw new Error("HeartbeatTimer is already started");const t=(0,n._)(this,l)[l];(0,n._)(this,p)[p](),(0,n._)(this,d)[d]=e,(0,n._)(this,u)[u]=(0,_.setStableInterval)((()=>{t(e)}),(0,n._)(this,c)[c],{name:"AudioHeartbeatTimer"})}stop(e){if(!(0,n._)(this,E)[E])throw new Error("HeartbeatTimer is not started");const t=(0,n._)(this,d)[d]&&(0,s.getAudioFullId)((0,n._)(this,d)[d]);if((0,s.getAudioFullId)(e)!==t)throw new Error("Trying to pause another audio");(0,n._)(this,p)[p](),(0,n._)(this,d)[d]=null}clear(){(0,n._)(this,p)[p](),(0,n._)(this,d)[d]=null}constructor(e){Object.defineProperty(this,p,{value:g}),Object.defineProperty(this,E,{get:A,set:void 0}),Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:void 0}),Object.defineProperty(this,u,{writable:!0,value:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),(0,n._)(this,u)[u]=null,(0,n._)(this,d)[d]=null,(0,n._)(this,c)[c]=e.ms,(0,n._)(this,l)[l]=e.onBeat}}function g(){(0,n._)(this,u)[u]&&((0,n._)(this,u)[u](),(0,n._)(this,u)[u]=null)}function A(){return!!(0,n._)(this,u)[u]}},985890:(e,t,r)=>{"use strict";r.d(t,{mapAudioDataToListeningData:()=>n.mapAudioDataToListeningData,mapPauseReasonToSubtype:()=>a.mapPauseReasonToSubtype,mapPlayReasonToSubtype:()=>a.mapPlayReasonToSubtype,mapSeekPauseReasonToSubtype:()=>a.mapSeekPauseReasonToSubtype,mapSeekPlayReasonToSubtype:()=>a.mapSeekPlayReasonToSubtype,mapStopReasonToSubtype:()=>a.mapStopReasonToSubtype});var n=r(936112),a=r(530887)},936112:(e,t,r)=>{"use strict";r.d(t,{mapAudioDataToListeningData:()=>c});var n=r(488150),a=r(107885);const s={[n.AudioType.MusicTrack]:a.MusicContentType.Track,[n.AudioType.MusicSnippet]:a.MusicContentType.Snippet},_={[n.AudioType.PodcastTrailer]:a.PodcastContentType.Trailer,[n.AudioType.PodcastEpisode]:a.PodcastContentType.Episode};function c(e){const{id:t,ownerId:r,type:c}=e;switch(c){case n.AudioType.MusicTrack:case n.AudioType.MusicSnippet:return{listeningType:a.ListeningType.Music,contentType:s[c],audioId:t,ownerId:r};case n.AudioType.PodcastEpisode:case n.AudioType.PodcastTrailer:return{listeningType:a.ListeningType.Podcast,contentType:_[c],episodeId:t,ownerId:r,podcastId:e.podcastId};case n.AudioType.Radio:return{listeningType:a.ListeningType.Radio,contentType:"radio",radioId:t}}}},530887:(e,t,r)=>{"use strict";r.d(t,{mapPauseReasonToSubtype:()=>p,mapPlayReasonToSubtype:()=>d,mapSeekPauseReasonToSubtype:()=>m,mapSeekPlayReasonToSubtype:()=>g,mapStopReasonToSubtype:()=>E});var n=r(426389),a=r(107885);const s={[n.AudioPlayerPlayAudioEventReason.PlayButton]:a.PlayEventSubtype.PlayButton,[n.AudioPlayerPlayAudioEventReason.NextButton]:a.PlayEventSubtype.NextButton,[n.AudioPlayerPlayAudioEventReason.PrevButton]:a.PlayEventSubtype.PrevButton,[n.AudioPlayerPlayAudioEventReason.NextMediaSession]:a.PlayEventSubtype.NextMediaSession,[n.AudioPlayerPlayAudioEventReason.PrevMediaSession]:a.PlayEventSubtype.PrevMediaSession,[n.AudioPlayerPlayAudioEventReason.MixAndPlayButton]:a.PlayEventSubtype.MixAndPlayButton,[n.AudioPlayerPlayAudioEventReason.ListButton]:a.PlayEventSubtype.FastplayListButton,[n.AudioPlayerPlayAudioEventReason.AudioButton]:a.PlayEventSubtype.FastplayAudioButton,[n.AudioPlayerPlayAudioEventReason.QueueContinuation]:a.PlayEventSubtype.QueueContinuation,[n.AudioPlayerPlayAudioEventReason.QueueContinuationAfterError]:a.PlayEventSubtype.QueueContinuationAfterError,[n.AudioPlayerPlayAudioEventReason.Autoplay]:a.PlayEventSubtype.Autoplay,[n.AudioPlayerPlayAudioEventReason.Repeat]:a.PlayEventSubtype.Repeat,[n.AudioPlayerPlayAudioEventReason.Voice]:a.PlayEventSubtype.Voice,[n.AudioPlayerPlayAudioEventReason.NextVoice]:a.PlayEventSubtype.NextVoice,[n.AudioPlayerPlayAudioEventReason.PrevVoice]:a.PlayEventSubtype.PrevVoice,[n.AudioPlayerPlayAudioEventReason.ChannelAutoResume]:a.PlayEventSubtype.ChannelAutoResume,[n.AudioPlayerPlayAudioEventReason.Unknown]:a.PlayEventSubtype.Unknown},_={[n.AudioPlayerPauseAudioEventReason.PauseButton]:a.PauseEventSubtype.PauseButton,[n.AudioPlayerPauseAudioEventReason.MediaSession]:a.PauseEventSubtype.MediaSession,[n.AudioPlayerPauseAudioEventReason.ChannelAutoPause]:a.PauseEventSubtype.ChannelAutoPause,[n.AudioPlayerPauseAudioEventReason.Voice]:a.PauseEventSubtype.Voice,[n.AudioPlayerPauseAudioEventReason.Paywall]:a.PauseEventSubtype.Paywall,[n.AudioPlayerPauseAudioEventReason.Unknown]:a.PauseEventSubtype.Unknown},c={[n.AudioPlayerStopAudioEventReason.NextButton]:a.StopEventSubtype.NextButton,[n.AudioPlayerStopAudioEventReason.PrevButton]:a.StopEventSubtype.PrevButton,[n.AudioPlayerStopAudioEventReason.QueueContinuation]:a.StopEventSubtype.Autoplay,[n.AudioPlayerStopAudioEventReason.Adv]:a.StopEventSubtype.Adv,[n.AudioPlayerStopAudioEventReason.Repeat]:a.StopEventSubtype.Repeat,[n.AudioPlayerStopAudioEventReason.ChangeQueue]:a.StopEventSubtype.ChangeSource,[n.AudioPlayerStopAudioEventReason.Clear]:a.StopEventSubtype.Close,[n.AudioPlayerStopAudioEventReason.Error]:a.StopEventSubtype.Error,[n.AudioPlayerStopAudioEventReason.Unknown]:a.StopEventSubtype.Unknown},l={[n.AudioPlayerSeekEventReason.SliderForward]:a.PauseEventSubtype.PullSliderForward,[n.AudioPlayerSeekEventReason.SliderBack]:a.PauseEventSubtype.PullSliderBack,[n.AudioPlayerSeekEventReason.TapForward]:a.PauseEventSubtype.SeekTapForward,[n.AudioPlayerSeekEventReason.TapBack]:a.PauseEventSubtype.SeekTapBack,[n.AudioPlayerSeekEventReason.DoubleTapForward]:a.PauseEventSubtype.NextDoubleTap,[n.AudioPlayerSeekEventReason.DoubleTapBack]:a.PauseEventSubtype.PrevDoubleTap,[n.AudioPlayerSeekEventReason.Unknown]:a.PauseEventSubtype.Unknown},u={[n.AudioPlayerSeekEventReason.SliderForward]:a.PlayEventSubtype.PullSliderForward,[n.AudioPlayerSeekEventReason.SliderBack]:a.PlayEventSubtype.PullSliderBack,[n.AudioPlayerSeekEventReason.TapForward]:a.PlayEventSubtype.SeekTapForward,[n.AudioPlayerSeekEventReason.TapBack]:a.PlayEventSubtype.SeekTapBack,[n.AudioPlayerSeekEventReason.DoubleTapForward]:a.PlayEventSubtype.NextDoubleTap,[n.AudioPlayerSeekEventReason.DoubleTapBack]:a.PlayEventSubtype.PrevDoubleTap,[n.AudioPlayerSeekEventReason.Unknown]:a.PlayEventSubtype.Unknown};function d(e){return s[e??n.AudioPlayerPlayAudioEventReason.Unknown]}function p(e){return _[e??n.AudioPlayerPauseAudioEventReason.Unknown]}function E(e){return c[e??n.AudioPlayerStopAudioEventReason.Unknown]}function m(e){return l[e??n.AudioPlayerPauseAudioEventReason.Unknown]}function g(e){return u[e??n.AudioPlayerPauseAudioEventReason.Unknown]}},599653:(e,t,r)=>{"use strict";r.d(t,{AudioPlayerMediascopeListener:()=>p});var n=r(434518),a=r(763812),s=(0,a._)("_player"),_=(0,a._)("_counter"),c=(0,a._)("_handlePlayAudio"),l=(0,a._)("_handlePauseAudio"),u=(0,a._)("_handleStopAudio"),d=(0,a._)("_canOperate");class p{destroy(){(0,n._)(this,s)[s].events.off("playAudio",(0,n._)(this,c)[c]).off("pauseAudio",(0,n._)(this,l)[l]).off("stopAudio",(0,n._)(this,u)[u])}constructor(e,t){Object.defineProperty(this,d,{value:E}),Object.defineProperty(this,s,{writable:!0,value:void 0}),Object.defineProperty(this,_,{writable:!0,value:void 0}),Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:void 0}),Object.defineProperty(this,u,{writable:!0,value:void 0}),(0,n._)(this,c)[c]=()=>{(0,n._)(this,d)[d]()&&(0,n._)(this,_)[_].start()},(0,n._)(this,l)[l]=()=>{(0,n._)(this,d)[d]()&&(0,n._)(this,_)[_].stop()},(0,n._)(this,u)[u]=()=>{(0,n._)(this,d)[d]()&&(0,n._)(this,_)[_].stop()},(0,n._)(this,s)[s]=e,(0,n._)(this,_)[_]=t.ensureActivityCounter({type:"service",events:{start:{code:"632121"},stop:{code:"652121"},heartbeat:{code:"642121",msInterval:3e4}}}),(0,n._)(this,s)[s].events.on("playAudio",(0,n._)(this,c)[c]).on("pauseAudio",(0,n._)(this,l)[l]).on("stopAudio",(0,n._)(this,u)[u])}}function E(){return!(0,n._)(this,s)[s].isMarusiaTrack()}},888090:(e,t,r)=>{"use strict";r.d(t,{AudioPlayerMediascopeListener:()=>n.AudioPlayerMediascopeListener});var n=r(599653)},164374:(e,t,r)=>{"use strict";r.d(t,{AudioListenedDAUCounter:()=>m});var n=r(434518),a=r(763812);var s=(0,a._)("_onReach"),_=(0,a._)("_startedAt"),c=(0,a._)("_timeout"),l=(0,a._)("_listenedTime"),u=(0,a._)("_reached"),d=(0,a._)("_reach"),p=(0,a._)("_clear"),E=(0,a._)("_clearTimeout");class m{start(){(0,n._)(this,u)[u]||this.started||((0,n._)(this,_)[_]=Date.now(),(0,n._)(this,c)[c]=setTimeout((()=>{(0,n._)(this,d)[d](),(0,n._)(this,c)[c]=null}),3e4-(0,n._)(this,l)[l]))}pause(){this.started&&((0,n._)(this,E)[E](),(0,n._)(this,l)[l]+=Date.now()-(0,n._)(this,_)[_],(0,n._)(this,l)[l]>=3e4&&(0,n._)(this,d)[d]())}reset(){this.pause(),(0,n._)(this,p)[p]()}get started(){return null!==(0,n._)(this,c)[c]}constructor(e){Object.defineProperty(this,d,{value:g}),Object.defineProperty(this,p,{value:A}),Object.defineProperty(this,E,{value:f}),Object.defineProperty(this,s,{writable:!0,value:void 0}),Object.defineProperty(this,_,{writable:!0,value:void 0}),Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:void 0}),Object.defineProperty(this,u,{writable:!0,value:void 0}),(0,n._)(this,_)[_]=-1,(0,n._)(this,c)[c]=null,(0,n._)(this,l)[l]=0,(0,n._)(this,u)[u]=!1,(0,n._)(this,s)[s]=e}}function g(){(0,n._)(this,u)[u]=!0,(0,n._)(this,s)[s]()}function A(){(0,n._)(this,E)[E](),(0,n._)(this,_)[_]=-1,(0,n._)(this,l)[l]=0,(0,n._)(this,u)[u]=!1}function f(){const e=(0,n._)(this,c)[c];e&&(clearTimeout(e),(0,n._)(this,c)[c]=null)}},977e3:(e,t,r)=>{"use strict";r.d(t,{AudioPlayerActivityCounter:()=>I});var n=r(434518),a=r(763812),s=r(478455),_=r(540462),c=r(261793),l=r(164374),u=(0,a._)("_type"),d=(0,a._)("_timespent"),p=(0,a._)("_dau"),E=(0,a._)("_listenedCounter"),m=(0,a._)("_currentAudio"),g=(0,a._)("_debug"),A=(0,a._)("_logDebug"),f=(0,a._)("_isCurrentAudio");class I{get isActiveTimespent(){return(0,n._)(this,d)[d].isActiveTimespent}start(e){(0,n._)(this,f)[f](e)||((0,n._)(this,m)[m]=e,(0,n._)(this,E)[E].reset()),(0,n._)(this,A)[A](`start ${(0,s.getAudioFullId)(e.identity)}`),(0,n._)(this,E)[E].start(),(0,n._)(this,d)[d].startTimespent()}pause(e){(0,n._)(this,f)[f](e)&&(0,n._)(this,E)[E].pause(),(0,n._)(this,d)[d].stopTimespent(),(0,n._)(this,A)[A](`pause ${(0,s.getAudioFullId)(e.identity)}`)}stop(e){(0,n._)(this,f)[f](e)&&(0,n._)(this,E)[E].reset(),(0,n._)(this,d)[d].stopTimespent(),(0,n._)(this,A)[A](`stop ${(0,s.getAudioFullId)(e.identity)}`)}constructor({myTracker:e,type:t,strict:r}){Object.defineProperty(this,g,{get:y,set:void 0}),Object.defineProperty(this,A,{value:R}),Object.defineProperty(this,f,{value:O}),Object.defineProperty(this,u,{writable:!0,value:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:void 0}),Object.defineProperty(this,E,{writable:!0,value:void 0}),Object.defineProperty(this,m,{writable:!0,value:void 0}),(0,n._)(this,E)[E]=new l.AudioListenedDAUCounter((()=>{(0,n._)(this,p)[p].increment(),(0,n._)(this,A)[A]("increment")})),(0,n._)(this,m)[m]=null,(0,n._)(this,u)[u]=t,(0,n._)(this,d)[d]=S(e,c.TIMESPENT_ACTIVITY_MAP[t],r),(0,n._)(this,p)[p]=S(e,c.DAU_ACTIVITY_MAP[t],r)}}function y(){return(0,_.partConfigEnabled)("audio_player_stats_debug")}function R(e){(0,n._)(this,g)[g]&&console.log(`[AudioPlayerActivityCounter][${(0,n._)(this,u)[u]}] ${e}`)}function O(e){const t=(0,n._)(this,m)[m];return!!t&&(0,s.getAudioFullId)(e.identity)===(0,s.getAudioFullId)(t.identity)}function S(e,t,r){return e.ensureActivityCounter({activityId:t,timespentType:"service",strict:r})}},660857:(e,t,r)=>{"use strict";r.d(t,{AudioPlayerMyTrackerListener:()=>g});var n=r(434518),a=r(763812),s=r(261793),_=r(977e3),c=(0,a._)("_player"),l=(0,a._)("_counters"),u=(0,a._)("_handlePlayAudio"),d=(0,a._)("_handlePauseAudio"),p=(0,a._)("_handleStopAudio"),E=(0,a._)("_getCounter"),m=(0,a._)("_canOperate");class g{destroy(){(0,n._)(this,c)[c].events.off("playAudio",(0,n._)(this,u)[u]).off("pauseAudio",(0,n._)(this,d)[d]).off("stopAudio",(0,n._)(this,p)[p])}constructor(e,t){Object.defineProperty(this,E,{value:A}),Object.defineProperty(this,m,{value:f}),Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:void 0}),Object.defineProperty(this,u,{writable:!0,value:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:void 0}),(0,n._)(this,u)[u]=e=>{if(!(0,n._)(this,m)[m]())return;const{audio:t}=e;(0,n._)(this,E)[E](t.type).start(t)},(0,n._)(this,d)[d]=e=>{if(!(0,n._)(this,m)[m]())return;const{audio:t}=e;(0,n._)(this,E)[E](t.type).pause(t)},(0,n._)(this,p)[p]=e=>{if(!(0,n._)(this,m)[m]())return;const{audio:t}=e;(0,n._)(this,E)[E](t.type).stop(t)},(0,n._)(this,c)[c]=e,(0,n._)(this,l)[l]=function(e){const t=t=>new _.AudioPlayerActivityCounter({myTracker:e,type:t,strict:!1});return{[s.AudioPlayerActivityCounterType.Music]:t(s.AudioPlayerActivityCounterType.Music),[s.AudioPlayerActivityCounterType.MusicSnippets]:t(s.AudioPlayerActivityCounterType.MusicSnippets),[s.AudioPlayerActivityCounterType.Podcasts]:t(s.AudioPlayerActivityCounterType.Podcasts),[s.AudioPlayerActivityCounterType.Audiobooks]:t(s.AudioPlayerActivityCounterType.Audiobooks),[s.AudioPlayerActivityCounterType.Radio]:t(s.AudioPlayerActivityCounterType.Radio)}}(t),(0,n._)(this,c)[c].events.on("playAudio",(0,n._)(this,u)[u]).on("pauseAudio",(0,n._)(this,d)[d]).on("stopAudio",(0,n._)(this,p)[p])}}function A(e){const t=s.AUDIO_TYPE_ACTIVITY_TYPE_MAP[e];return(0,n._)(this,l)[l][t]}function f(){return!(0,n._)(this,c)[c].isMarusiaTrack()}},261793:(e,t,r)=>{"use strict";r.d(t,{AUDIO_TYPE_ACTIVITY_TYPE_MAP:()=>_,AudioPlayerActivityCounterType:()=>s,DAU_ACTIVITY_MAP:()=>l,TIMESPENT_ACTIVITY_MAP:()=>c});var n=r(571355),a=r(488150),s=function(e){return e.Music="music",e.MusicSnippets="music_snippets",e.Podcasts="podcasts",e.Audiobooks="audiobooks",e.Radio="radio",e}({});const _={[a.AudioType.MusicTrack]:"music",[a.AudioType.MusicSnippet]:"music_snippets",[a.AudioType.PodcastEpisode]:"podcasts",[a.AudioType.PodcastTrailer]:"podcasts",[a.AudioType.Radio]:"radio"},c={music:n.MyTrackerActivityId.MusicListen,music_snippets:n.MyTrackerActivityId.MusicSnippetsListen,podcasts:n.MyTrackerActivityId.PodcastsListen,audiobooks:n.MyTrackerActivityId.AudiobooksListen,radio:n.MyTrackerActivityId.RadioListen},l={music:n.MyTrackerActivityId.MusicTrackListenedDAU,music_snippets:n.MyTrackerActivityId.MusicSnippetListenedDAU,podcasts:n.MyTrackerActivityId.PodcastEpisodeListenedDAU,audiobooks:n.MyTrackerActivityId.AudiobookListenedDAU,radio:n.MyTrackerActivityId.RadiostationListenedDAU}},405188:(e,t,r)=>{"use strict";r.d(t,{AudioPlayerMyTrackerListener:()=>n.AudioPlayerMyTrackerListener});var n=r(660857)},220347:(e,t,r)=>{"use strict";function n(e){const t={};return e&&e.length&&e.filter((e=>!!e)).map((e=>e.queues&&e.queues[0])).forEach((e=>t[e.type]=e)),t}r.d(t,{unpackQueues:()=>n})},43899:(e,t,r)=>{"use strict";r.d(t,{renderAvatarToString:()=>l});var n=r(474848),a=r(440961),s=r(751268),_=r(575753),c=r(709241);function l(e,t,r,l="",u,d,p,E,m,g){let A;u&&(A="online"),_.mobPlatforms[u]&&(A="online-mobile");const f=null!==r&&r?"a":"span",I=document.createElement(f);void 0!==d&&I.setAttribute("onclick",d),g&&I.classList.add("nft_avatar_wrap"),l&&(Array.isArray(l)?I.classList.add(...l):I.classList.add(l)),r&&(I.href=r),a.render((0,n.jsxs)(s.RichAvatar,{className:c.default.root,alt:m,src:e,size:t,nft:g,children:[p&&(0,n.jsx)(s.RichAvatar.Outline,{"data-outline-id":E,appearance:"accent"}),A&&(0,n.jsx)(s.RichAvatar.BadgeWithPreset,{preset:A})]}),I);const y=I.outerHTML;return a.unmountComponentAtNode(I),y}},564048:(e,t,r)=>{"use strict";r.d(t,{ColorSchemeMode:()=>n,ColorSchemeName:()=>a,SchemeColors:()=>s});var n=function(e){return e.Light="light",e.Dark="dark",e.Auto="auto",e}({}),a=function(e){return e.Dark="space_gray",e.Light="bright_light",e.WebDark="vkcom_dark",e.WebLight="vkcom_light",e}({}),s=function(e){return e.Dark="#222222",e.Light="#ffffff",e}({})},175819:(e,t,r)=>{"use strict";r.d(t,{OUR_DOMAINS:()=>_,RE_DOMAIN_PATTERN:()=>l,TOP_DOMAINS:()=>a,VK_DOMAIN:()=>c});var n=r(105330);const a=[..."aaa,aarp,abarth,abb,abbott,abbvie,abc,able,abogado,abudhabi,ac,academy,accenture,accountant,accountants,aco,active,actor,ad,adac,ads,adult,ae,aeg,aero,aetna,af,afamilycompany,afl,africa,ag,agakhan,agency,ai,aig,aigo,airbus,airforce,airtel,akdn,al,alfaromeo,alibaba,alipay,allfinanz,allstate,ally,alsace,alstom,am,americanexpress,americanfamily,amex,amfam,amica,amsterdam,an,analytics,android,anquan,anz,ao,aol,apartments,app,apple,aq,aquarelle,ar,aramco,archi,army,arpa,art,arte,as,asda,asia,associates,at,athleta,attorney,au,auction,audi,audible,audio,auspost,author,auto,autos,avianca,aw,aws,ax,axa,az,azure,ba,baby,baidu,banamex,bananarepublic,band,bank,bar,barcelona,barclaycard,barclays,barefoot,bargains,baseball,basketball,bauhaus,bayern,bb,bbc,bbt,bbva,bcg,bcn,bd,be,beats,beauty,beer,bentley,berlin,best,bestbuy,bet,bf,bg,bh,bharti,bi,bible,bid,bike,bing,bingo,bio,biz,bj,bl,black,blackfriday,blanco,blockbuster,blog,bloomberg,blue,bm,bms,bmw,bn,bnl,bnpparibas,bo,boats,boehringer,bofa,bom,bond,boo,book,booking,boots,bosch,bostik,boston,bot,boutique,box,bq,br,bradesco,bridgestone,broadway,broker,brother,brussels,bs,bt,budapest,bugatti,build,builders,business,buy,buzz,bv,bw,by,bz,bzh,ca,cab,cafe,cal,call,calvinklein,cam,camera,camp,cancerresearch,canon,capetown,capital,capitalone,car,caravan,cards,care,career,careers,cars,cartier,casa,case,caseih,cash,casino,cat,catering,catholic,cba,cbn,cbre,cbs,cc,cd,ceb,center,ceo,cern,cf,cfa,cfd,cg,ch,chanel,channel,chase,chat,cheap,chintai,chloe,christmas,chrome,chrysler,church,ci,cipriani,circle,cisco,citadel,citi,citic,city,cityeats,ck,cl,claims,cleaning,click,clinic,clinique,clothing,cloud,club,clubmed,cm,cn,co,coach,codes,coffee,college,cologne,com,comcast,commbank,community,company,compare,computer,comsec,condos,construction,consulting,contact,contractors,cooking,cookingchannel,cool,coop,corsica,country,coupon,coupons,courses,cr,credit,creditcard,creditunion,cricket,crown,crs,cruise,cruises,csc,cu,cuisinella,cv,cw,cx,cy,cymru,cyou,cz,dabur,dad,dance,data,date,dating,datsun,day,dclk,dds,de,deal,dealer,deals,degree,delivery,dell,deloitte,delta,democrat,dental,dentist,desi,design,dev,dhl,diamonds,diet,digital,direct,directory,discount,discover,dish,diy,dj,dk,dm,dnp,do,docs,doctor,dodge,dog,doha,domains,dot,download,drive,dtv,dubai,duck,dunlop,duns,dupont,durban,dvag,dvr,dz,earth,eat,ec,eco,edeka,edu,education,ee,eg,eh,email,emerck,energy,engineer,engineering,enterprises,epost,epson,equipment,er,ericsson,erni,es,esq,estate,esurance,et,eu,eurovision,eus,events,everbank,exchange,expert,exposed,express,extraspace,fage,fail,fairwinds,faith,family,fan,fans,farm,farmers,fashion,fast,fedex,feedback,ferrari,ferrero,fi,fiat,fidelity,fido,film,final,finance,financial,fire,firestone,firmdale,fish,fishing,fit,fitness,fj,fk,flickr,flights,flir,florist,flowers,fly,fm,fo,foo,food,foodnetwork,football,ford,forex,forsale,forum,foundation,fox,fr,free,fresenius,frl,frogans,frontdoor,frontier,ftr,fujitsu,fujixerox,fun,fund,furniture,futbol,fyi,ga,gal,gallery,gallo,gallup,game,games,gap,garden,gb,gbiz,gd,gdn,ge,gea,gent,genting,george,gf,gg,ggee,gh,gi,gift,gifts,gives,giving,gl,glade,glass,gle,global,globo,gm,gmail,gmbh,gmo,gmx,gn,godaddy,gold,goldpoint,golf,goo,goodhands,goodyear,goog,google,gop,got,gov,gp,gq,gr,grainger,graphics,gratis,green,gripe,group,gs,gt,gu,guardian,gucci,guge,guide,guitars,guru,gw,gy,hair,hamburg,hangout,haus,hbo,hdfc,hdfcbank,health,healthcare,help,helsinki,here,hermes,hgtv,hiphop,hisamitsu,hitachi,hiv,hk,hkt,hm,hn,hockey,holdings,holiday,homedepot,homegoods,homes,homesense,honda,honeywell,horse,hospital,host,hosting,hot,hoteles,hotmail,house,how,hr,hsbc,ht,htc,hu,hughes,hyatt,hyundai,ibm,icbc,ice,icu,id,ie,ieee,ifm,ikano,il,im,imamat,imdb,immo,immobilien,in,industries,infiniti,info,ing,ink,institute,insurance,insure,int,intel,international,intuit,investments,io,ipiranga,iq,ir,irish,is,iselect,ismaili,ist,istanbul,it,itau,itv,iveco,iwc,jaguar,java,jcb,jcp,je,jeep,jetzt,jewelry,jio,jlc,jll,jm,jmp,jnj,jo,jobs,joburg,jot,joy,jp,jpmorgan,jprs,juegos,juniper,kaufen,kddi,ke,kerryhotels,kerrylogistics,kerryproperties,kfh,kg,kh,ki,kia,kim,kinder,kindle,kitchen,kiwi,km,kn,koeln,komatsu,kosher,kp,kpmg,kpn,kr,krd,kred,kuokgroup,kw,ky,kyoto,kz,la,lacaixa,ladbrokes,lamborghini,lamer,lancaster,lancia,lancome,land,landrover,lanxess,lasalle,lat,latino,latrobe,law,lawyer,lb,lc,lds,lease,leclerc,lefrak,legal,lego,lexus,lgbt,li,liaison,lidl,life,lifeinsurance,lifestyle,lighting,like,lilly,limited,limo,lincoln,linde,link,lipsy,live,living,lixil,lk,loan,loans,local,locker,locus,loft,lol,london,lotte,lotto,love,lpl,lplfinancial,lr,ls,lt,ltd,ltda,lu,lundbeck,lupin,luxe,luxury,lv,ly,ma,macys,madrid,maif,maison,makeup,man,management,mango,market,marketing,markets,marriott,marshalls,maserati,mattel,mba,mc,mcd,mcdonalds,mckinsey,md,me,med,media,meet,melbourne,meme,memorial,men,menu,meo,metlife,mf,mg,mh,miami,microsoft,mil,mini,mint,mit,mitsubishi,mk,ml,mlb,mls,mm,mma,mn,mo,mobi,mobile,mobily,moda,moe,moi,mom,monash,money,monster,montblanc,mopar,mormon,mortgage,moscow,moto,motorcycles,mov,movie,movistar,mp,mq,mr,ms,msd,mt,mtn,mtpc,mtr,mu,museum,mutual,mv,mw,mx,my,mz,na,nab,nadex,nagoya,name,nationwide,natura,navy,nba,nc,ne,nec,net,netbank,netflix,network,neustar,new,newholland,news,next,nextdirect,nexus,nf,nfl,ng,ngo,nhk,ni,nico,nike,nikon,ninja,nissan,nissay,nl,no,nokia,northwesternmutual,norton,now,nowruz,nowtv,np,nr,nra,nrw,ntt,nu,nyc,nz,obi,observer,off,office,okinawa,olayan,olayangroup,oldnavy,ollo,om,omega,one,ong,onl,online,onyourside,ooo,open,oracle,orange,org,organic,orientexpress,origins,osaka,otsuka,ott,ovh,pa,page,pamperedchef,panasonic,panerai,paris,pars,partners,parts,party,passagens,pay,pccw,pe,pet,pf,pfizer,pg,ph,pharmacy,philips,phone,photo,photography,photos,physio,piaget,pics,pictet,pictures,pid,pin,ping,pink,pioneer,pizza,pk,pl,place,play,playstation,plumbing,plus,pm,pn,pnc,pohl,poker,politie,porn,post,pr,pramerica,praxi,press,prime,pro,prod,productions,prof,progressive,promo,properties,property,protection,pru,prudential,ps,pt,pub,pw,pwc,py,qa,qpon,quebec,quest,qvc,racing,radio,raid,re,read,realestate,realtor,realty,recipes,red,redstone,redumbrella,rehab,reise,reisen,reit,reliance,ren,rent,rentals,repair,report,republican,rest,restaurant,review,reviews,rexroth,rich,richardli,ricoh,rightathome,ril,rio,rip,rmit,ro,rocher,rocks,rodeo,rogers,room,rs,rsvp,ru,ruhr,run,rw,rwe,ryukyu,sa,saarland,safe,safety,sakura,sale,salon,samsclub,samsung,sandvik,sandvikcoromant,sanofi,sap,sapo,sarl,sas,save,saxo,sb,sbi,sbs,sc,sca,scb,schaeffler,schmidt,scholarships,school,schule,schwarz,science,scjohnson,scor,scot,sd,se,seat,secure,security,seek,select,sener,services,ses,seven,sew,sex,sexy,sfr,sg,sh,shangrila,sharp,shaw,shell,shia,shiksha,shoes,shop,shopping,shouji,show,showtime,shriram,si,silk,sina,singles,site,sj,sk,ski,skin,sky,skype,sl,sling,sm,smart,smile,sn,sncf,so,soccer,social,softbank,software,sohu,solar,solutions,song,sony,soy,space,spiegel,spot,spreadbetting,sr,srl,srt,ss,st,stada,staples,star,starhub,statebank,statefarm,statoil,stc,stcgroup,stockholm,storage,store,stream,studio,study,style,su,sucks,supplies,supply,support,surf,surgery,suzuki,sv,swatch,swiftcover,swiss,sx,sy,sydney,symantec,systems,sz,tab,taipei,talk,taobao,target,tatamotors,tatar,tattoo,tax,taxi,tc,tci,td,tdk,team,tech,technology,tel,telecity,telefonica,temasek,tennis,teva,tf,tg,th,thd,theater,theatre,tiaa,tickets,tienda,tiffany,tips,tires,tirol,tj,tjmaxx,tjx,tk,tkmaxx,tl,tm,tmall,tn,to,today,tokyo,tools,top,toray,toshiba,total,tours,town,toyota,toys,tp,tr,trade,trading,training,travel,travelchannel,travelers,travelersinsurance,trust,trv,tt,tube,tui,tunes,tushu,tv,tvs,tw,tz,ua,ubank,ubs,uconnect,ug,uk,um,unicom,university,uno,uol,ups,us,uy,uz,va,vacations,vana,vanguard,vc,ve,vegas,ventures,verisign,vermögensberater,vermögensberatung,versicherung,vet,vg,vi,viajes,video,vig,viking,villas,vin,vip,virgin,visa,vision,vista,vistaprint,viva,vivo,vlaanderen,vn,vodka,volkswagen,volvo,vote,voting,voto,voyage,vu,vuelos,wales,walmart,walter,wang,wanggou,warman,watch,watches,weather,weatherchannel,webcam,weber,website,wed,wedding,weibo,weir,wf,whoswho,wien,wiki,williamhill,win,windows,wine,winners,wme,wolterskluwer,woodside,work,works,world,wow,ws,wtc,wtf,xbox,xerox,xfinity,xihuan,xin,xperia,xxx,xyz,yachts,yahoo,yamaxun,yandex,ye,yodobashi,yoga,yokohama,you,youtube,yt,yu,yun,za,zappos,zara,zero,zip,zippo,zm,zone,zuerich,zw".split(","),..."бг,бел,дети,ею,католик,ком,мкд,мон,москва,онлайн,орг,рус,рф,сайт,срб,укр".split(","),..."qxam,90ae,90ais,d1acj3b,e1a4c,80aqecdr1a,j1aef,d1alf,l1acc,80adxhks,80asehdb,c1avg,p1acf,p1ai,80aswg,90a3ac,j1amh,80ao21a,y9a3aq,9dbq2a,mgbca7dzdo,mgba3a3ejt,mgbayh7gpa,lgbbat1ad8j,mgberp4a5d4ar,mgba7c0bbn0a,mgbc0a9azcg,mgb2ddes,mgbaam7a8h,mgba3a4f16a,mgbbh1a,mgbab2bd,ngbe9e0a,mgbbh1a71e,pgbs0dh,mgbpl2fh,ogbpf8fl,ngbc5azd,mgbtx2b,mgb9awbf,ygbi2ammx,wgbl6a,mgbi4ecexp,fhbei,wgbh1c,mgbx4cd0ab,mgbb9fbpob,4gbrim,mgbt3dhd,mgbai9azgqp6j,mgbgu82a,11b4c3d,c2br7g,h2brj9c,h2breg3eve,h2brj9c8c,i1b6b1a6a2e,54b7fta0cc,45brj9c,45br5cyl,s9brj9c,gecrj9c,3hcrj9c,xkc2dl3a5ee0h,xkc2al3hye2a,clchc0ea0b2g2a9gcd,fpcrj9c3d,2scrj9c,rvc1e0am3e,fzc2c9e2c,42c2d9a,o3cw4h,node,q9jyb4c,gckr3f0f,qcka1pmc,tckwe,cck2b3b,1ck2e1b,bck1b9a5dre4c,eckvdtc9d,rhqv96g,fiq64b,fiqs8s,fiqz9s,fiq228c5hs,vhquv,1qqw23a,vuq861b,nyqy26a,45q11c,55qx5d,55qw42g,kprw13d,kpry57d,czru2d,czrs0t,czr694b,w4rs40l,w4r85el8fhu5dnra,3ds443g,3oq18vl8pn36a,pssy2u,tiq49xqyj,fjq720a,fct429k,estv75g,xhq521b,9krt00a,30rr7y,6qq986b3xl,kput3i,kpu716f,zfr164b,mxtq1m,yfro4i67o,efvy88h,9et52u,rovu88b,nqv7f,b4w605ferd,unup4y,mix891f,mix082f,3pxu8k,pbt977c,6frz82g,nqv7fs00ema,ses554g,hxt814e,5tzm5g,io0a7i,8y0a063a,jlq61u9w7b,flw351e,g2xx48c,gk3at1e,3bst00m,fzys8d69uvgm,kcrx77d1x4a,jvr189m,imr513n,5su34j936bgsg,j6w193g,t60b56a,mk1bu44c,cg4bki,3e0b707e".split(",").map((e=>"xn--"+e))],s=n.VK_HOST_REGEX_GROUP_UNSAFE.source,_=new RegExp(`^([a-zA-Z0-9\\.\\_\\-]+\\.)?(${s}|vk\\.cc)$`),c=new RegExp(`^(?:https?:\\/\\/)?(?:${n.VK_SITES_REGEX_SOURCE_UNSAFE})?\\/([a-zA-Z0-9\\._]+)\\??$`),l="((?:[a-z0-9_]*[a-z0-9])?(?:(?:\\.[a-z](?:[a-z0-9_]+[a-z0-9])?)*\\.[a-z][a-z0-9_]{2,40}[a-z0-9])?)"},470403:(e,t,r)=>{"use strict";r.d(t,{EMAIL:()=>a});var n=r(828758);const a=new RegExp("([a-zA-Zа-яА-Я\\-_\\.0-9\\+]+@("+n.RE_URL_DOMAIN_NAME+n.RE_URL_DOMAIN_TOP+"))","ig")},846145:(e,t,r)=>{"use strict";r.d(t,{FREE_MENTION:()=>s,FREE_MENTION_LINK:()=>_,MENTION:()=>a});var n=r(105330);const a=/\[(id|club)(\d+)(?:\:([a-z0-9_\-]+))?\|([^\$]+?)\]/g,s=/\[([^\$\[\]]+?)\|([^\]]+?)\]/g,_=new RegExp(`\\[((?:https?:\\/\\/)?(?:(?:m\\.|dev\\.)?(?:${n.VK_HOST_REGEX_GROUP_UNSAFE.source}|vk\\.me))(?!\\/\\/)(?!\\/doc[\\d\\-])(?!\\/page[\\d\\-])(?!\\/away[\\.\\?])(?:\\/[-\\._~:\\/?#\\[\\]@!\\$&'\\(\\)\\*\\+,;=%.\\w]*)*)\\|([^\\]\\n\\t]*)\\]`)},949779:(e,t,r)=>{"use strict";r.d(t,{PLATFORM_MVK:()=>n});const n="mvk"},828758:(e,t,r)=>{"use strict";r.d(t,{RE_URL_DOMAIN_NAME:()=>a,RE_URL_DOMAIN_TOP:()=>s,RE_URL_PATTERN:()=>_});const n="\\w\\$А-Яа-яёЁєЄҐґЇїІіЈј",a="((?:["+n+"\\—\\-\\_]+\\.){1,5})",s="([A-Za-zа-яА-Я\\-\\d]{2,22})",_="(https?:\\/\\/)?"+("("+a+s+"(?:\\:(\\d{2,5}))?)")+("(([\\/?#])(?:\\&|\\&#\\d{2,6};|,[_%]|!|,*[\\wА-Яа-я\\xa8\\xb8\\xc0-\\xffєЄҐґЇїІіЈј\\—\\-\\_@#%?+\\/\\$.~=;:'ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴࢶ-ࢽऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢄᢇ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞮꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ　-〿＀-￯*]+|"+("(?:\\(|\\[)["+n+"\\d&#%;,]+(?:\\)|\\])")+"){0,200})?")},389585:(e,t,r)=>{"use strict";r.d(t,{TIMESPENT_SCREEN_COUNTER_IDS:()=>l,TIMESPENT_SERVICE_COUNTER_IDS:()=>u,TimespentCollector:()=>d,getScreenTimespentCollector:()=>p,getServiceTimespentCollector:()=>E});var n=r(571355),a=r(558137),s=r(814516),_=r(101272),c=r(314309),l=function(e){return e[e.FEED=5]="FEED",e[e.MESSENGER=7]="MESSENGER",e[e.MINI_APPS=75]="MINI_APPS",e[e.VIDEO_SHOWCASE_VIEW=63]="VIDEO_SHOWCASE_VIEW",e[e.VIDEO_VIEW=20]="VIDEO_VIEW",e[e.DATING=67]="DATING",e[e.SHORT_VIDEOS=98]="SHORT_VIDEOS",e[e.SHORT_VIDEOS_FULL_SCREEN=97]="SHORT_VIDEOS_FULL_SCREEN",e[e.SHORT_VIDEOS_ENGAGEMENT_3_ITEMS=96]="SHORT_VIDEOS_ENGAGEMENT_3_ITEMS",e[e.AUDIO=n.MyTrackerActivityId.MusicScreen]="AUDIO",e}({}),u=function(e){return e[e.MUSIC_ENGAGEMENT_30S=1]="MUSIC_ENGAGEMENT_30S",e[e.CALLS_IN_CALL=21]="CALLS_IN_CALL",e[e.VIDEO_VIEW_30S=77]="VIDEO_VIEW_30S",e}({});class d{startVisibilityChangeListener(){document.addEventListener("visibilitychange",(()=>{document.hidden?this.onScreenHide():this.onScreenShow()}))}startPageCloseListener(){window.addEventListener("beforeunload",(()=>{this.active.forEach(((e,t)=>{this.finish(t)}))}))}get isDebug(){return!1}warn(...e){this.isDebug||console.warn("[MyTrackerTimespent]",...e)}onScreenHide(){if("service"===this.type)return;const e=Date.now();this.startData.forEach(((t,r)=>{const n=(this.timespent.get(r)??0)+(e-(t.span_ts??t.start_ts));this.timespent.set(r,n),this.startData.set(r,{...t,span_ts:Date.now()}),this.hideTimestamp=Date.now()}))}onScreenShow(){"service"!==this.type&&(this.hideTimestamp=null,this.startData.forEach(((e,t)=>{this.startData.set(t,{...e,span_ts:Date.now()})})))}start(e){this.active.has(e)?this.isDebug&&this.warn("Запись таймспента #%s уже началась. Проверьте механизм записи.",e):(this.active.add(e),this.startData.set(e,{...this.getCurrentTimingMetadata(),start_ts:Date.now()}),this.tmrTimespentUtils.tmrStartTimespent(e,"service"===this.type))}finish(e){if(!this.active.has(e))return void(this.isDebug&&this.warn("Не удалось завершить запись таймспента #%s. Проверьте механизм записи.",e));this.active.delete(e),this.tmrTimespentUtils.tmrFinishTimespent(e,"service"===this.type);const t=this.startData.get(e);if(!t)return;this.startData.delete(e);const r=t.span_ts??t.start_ts,n=this.hideTimestamp??Date.now(),a=n-r,s=(this.timespent.get(e)??0)+a;(0,_.saveStatlogEvents)({name:"tmp_tmr_timespent",value:s,keys:[this.type,e]}),this.collector.logEvent({activity_id:e,counter_id:this.counterId,start_time:Math.floor(r/1e3),end_time:Math.floor(n/1e3)}),this.timespent.delete(e)}getCurrentTimingMetadata(){return{module:window.cur?.module||"unknown",screen:window.cur?.screen||"unknown"}}constructor(e,t){this.active=new Set,this.startData=new Map,this.timespent=new Map,this.collector=new c.MTTimespentStatCollector,this.hideTimestamp=null,this.type=e;const{tmrFinishTimespent:r=s.tmrFinishTimespent,tmrStartTimespent:n=s.tmrStartTimespent}=t?(0,s.getCustomCounterIdTmrUtils)(t):{};this.tmrTimespentUtils={tmrFinishTimespent:r,tmrStartTimespent:n},this.counterId=parseInt(t??s.counterId),this.startVisibilityChangeListener(),this.startPageCloseListener()}}const p=(0,a.makeSharedState)("myTrackerScreenTimespentCollector",(()=>new d("screen")),{version:1}),E=(0,a.makeSharedState)("myTrackerServiceTimespentCollector",(()=>new d("service")),{version:1})},316435:(e,t,r)=>{"use strict";r.d(t,{MY_TRACKER_COUNT_EVENT_IDS:()=>n});var n=function(e){return e[e.COMMUNITY_SUBSCRIBE=11]="COMMUNITY_SUBSCRIBE",e[e.POST_PUBLISH=13]="POST_PUBLISH",e[e.MESSAGE_SEND=26]="MESSAGE_SEND",e}({})},251703:(e,t,r)=>{"use strict";r.r(t),r.d(t,{MY_TRACKER_COUNT_EVENT_IDS:()=>s.MY_TRACKER_COUNT_EVENT_IDS,TIMESPENT_SCREEN_COUNTER_IDS:()=>_.TIMESPENT_SCREEN_COUNTER_IDS,TIMESPENT_SERVICE_COUNTER_IDS:()=>_.TIMESPENT_SERVICE_COUNTER_IDS,TimespentCollector:()=>_.TimespentCollector,counterId:()=>n.counterId,getCustomCounterIdTmrUtils:()=>n.getCustomCounterIdTmrUtils,getScreenTimespentCollector:()=>_.getScreenTimespentCollector,getServiceTimespentCollector:()=>_.getServiceTimespentCollector,handleModuleChanged:()=>a.handleModuleChanged,tmrFinishTimespent:()=>n.tmrFinishTimespent,tmrPushRawEvent:()=>n.tmrPushRawEvent,tmrSendTimespentEvent:()=>n.tmrSendTimespentEvent,tmrStartTimespent:()=>n.tmrStartTimespent,tmrTrackCustomGoal:()=>n.tmrTrackCustomGoal,tmrTrackMiniAppClose:()=>n.tmrTrackMiniAppClose,tmrTrackMiniAppCustom:()=>n.tmrTrackMiniAppCustom,tmrTrackMiniAppEvent:()=>n.tmrTrackMiniAppEvent,tmrTrackMiniAppOpen:()=>n.tmrTrackMiniAppOpen,tmrTrackPage:()=>n.tmrTrackPage,tmrUpdateUserId:()=>n.tmrUpdateUserId});var n=r(814516),a=r(830195),s=r(316435),_=r(389585)},830195:(e,t,r)=>{"use strict";r.d(t,{handleModuleChanged:()=>c});var n=r(558137),a=r(389585);const s={audio:a.TIMESPENT_SCREEN_COUNTER_IDS.AUDIO,feed:a.TIMESPENT_SCREEN_COUNTER_IDS.FEED,mini_apps_catalog:a.TIMESPENT_SCREEN_COUNTER_IDS.MINI_APPS,im:a.TIMESPENT_SCREEN_COUNTER_IDS.MESSENGER,mail:a.TIMESPENT_SCREEN_COUNTER_IDS.MESSENGER},_=(0,n.makeSharedState)("tmr-active-module",(()=>({activeModule:""})),{version:1});function c(e){const t=_().activeModule;if(e===t)return;const r=(0,a.getScreenTimespentCollector)(),n=s[t];n&&r.finish(n),_().activeModule=e;const c=s[e];c&&r.start(c)}},863578:(e,t,r)=>{"use strict";r.d(t,{CustomStatCollector:()=>s});var n=r(298077),a=r(101272);class s{getCurrentTime(e=!0){const t=Date.now().toString(10);return e?t+"000":t}getIntId(){return Math.floor(Math.random()*s.MAX_INT32)}getBaseEvent(){return{id:this.getIntId(),timestamp:this.getCurrentTime()}}logEvent(e){e.type&&e[e.type]?(0,a.saveCustomStats)(e):(0,n.logError)(new Error("CustomStatCollector: invalid event."))}}s.MAX_INT32=2147483647},116068:(e,t,r)=>{"use strict";r.d(t,{DevNullStatCollector:()=>a});var n=r(658960);class a{logEvent(e){const t={...this.customStatCollector.getBaseEvent(),type:n.CustomStatEventTypes.TYPE_DEV_NULL_ITEM,[n.CustomStatEventTypes.TYPE_DEV_NULL_ITEM]:e};this.customStatCollector.logEvent(t)}constructor(e){this.customStatCollector=e}}},596181:(e,t,r)=>{"use strict";r.d(t,{CustomStatCollector:()=>n.CustomStatCollector,DevNullStatCollector:()=>a.DevNullStatCollector});var n=r(863578),a=r(116068)},658960:(e,t,r)=>{"use strict";r.d(t,{CustomStatEventTypes:()=>n});var n=function(e){return e.TYPE_DEV_NULL_ITEM="type_dev_null_item",e}({})},157007:(e,t,r)=>{"use strict";r.d(t,{DebugConfig:()=>s});var n=r(469004);const a={showBubble:!1,blinkOnPostTrack:!1,serverEvents:!1,statlogsWatch:[],productionStatsLogsImmediately:!1,serviceWorker:!1,forcePWA:"",printPerformanceMarks:!1};class s{static loadConfig(){this._config={...a,...JSON.parse(n.ls.get("debug-menu")||"{}")}}static addEmitter(e){this._debugEmitters.push(e)}static saveConfig(){n.ls.set("debug-menu",JSON.stringify(s.getConfig()))}static getConfig(){return s._config}static set(e,t){this._config[e]!==t&&(this._config[e]=t,this._debugEmitters.forEach((t=>t.emit("update",e))))}static get(e){return this._config[e]}}s._debugEmitters=[],s._config=a,s.loadConfig()},425946:(e,t,r)=>{"use strict";r.d(t,{ensureDIRootContainer:()=>Ae});var n=r(132028),a=r(712600),s=r(24516),_=r(295372),c=r(130653),l=r(882543),u=r(622934),d=r(558576),p=r(988010),E=r(510454),m=r(12196),g=r(590780),A=r(809424),f=r(670252),I=r(575362),y=r(717436),R=r(268688),O=r(71892),S=r(550490),T=r(888584),P=r(123980),b=r(90526),C=r(804797),D=r(784022),M=r(876011),L=r(209708),N=r(214079),k=r(842396),U=r(474928),B=r(551178),x=r(946258),F=r(736780),V=r(622644),K=r(744464),W=r(253145),H=r(951652),G=r(955060),j=r(500926),Y=r(298077),z=r(103466),q=r(760031),$=r(338268),X=r(697392),Q=r(189045),J=r(859402),Z=r(111606),ee=r(181600),te=r(413288),oe=r(162306),ie=r(601849),re=r(292989),ne=r(138253),ae=r(128914),se=r(513859),_e=r(778021),ce=r(167013),le=r(455461),ue=r(798113),de=r(590352),pe=r(399758),Ee=r(715007),he=r(759339),me=r(367734);let ge=!1;function Ae({SnackbarImpl:e,PushNotifierImpl:t,PhotoViewerImpl:r,GlobalAudioPlayerProviderImpl:Ae,AudioPlatformConfigImpl:ve,ModelEventsHandlersImpl:fe,MiniAppLaunchServiceImpl:Ie}){return ge||(n.rootContainer.replace(a.Langs,q.BrowserLangs),n.rootContainer.replace(s.UserEnv,X.BrowserUserEnv),n.rootContainer.replace(_.ApiPrefetch,Q.BrowserApiPrefetch),n.rootContainer.replace(c.Tmr,l.BrowserTmr),n.rootContainer.replace(u.Mediascope,d.BrowserMediascope),n.rootContainer.replace(p.ExternalEvents,J.BrowserExternalEvents),n.rootContainer.replace(E.LocalStorage,$.BrowserLocalStorage),n.rootContainer.replace(m.SessionStorage,ie.BrowserSessionStorage),n.rootContainer.replace(g.Performance,te.BrowserPerformance),n.rootContainer.replace(A.MetaData,ne.MetaDataImpl),n.rootContainer.replace(f.Snackbar,e),n.rootContainer.replace(I.Appearance,ae.BrowserAppearance),n.rootContainer.replace(y.MiniAppApiWrapper,se.MiniAppApiWrapperImpl),n.rootContainer.replace(R.Analytics,Z.BrowserAnalytics),n.rootContainer.replace(O.Analytics,ee.BrowserAnalytics),n.rootContainer.replace(S.Cookie,oe.BrowserCookie),n.rootContainer.replace(T.VkHost,re.BrowserVkHost),n.rootContainer.replace(P.APIClient,_e.BrowserAPIClient),n.rootContainer.replace(b.MapsFactory,C.MapsFactoryImpl),n.rootContainer.replace(D.CaptchaSDK,M.CaptchaSDK),n.rootContainer.replace(L.VKPlayApi,ce.BrowserVKPlayApi),n.rootContainer.replace(z.GlobalAudioPlayerProvider,Ae),n.rootContainer.replace(me.AudioPlatformConfig,ve),n.rootContainer.replace(N.StatsInfo,le.BrowserStatsInfo),n.rootContainer.replace(k.PhotoUtils,ue.BrowserPhotoUtils),n.rootContainer.replace(U.Network,de.BrowserNetwork),n.rootContainer.replace(B.PerformanceStatsCore,pe.PerformanceStatsCoreImpl),n.rootContainer.replace(n.ModelEventsHandlers,fe),n.rootContainer.replace(he.MiniAppLaunchService,Ie),n.rootContainer.replace(x.PushNotifier,t),n.rootContainer.replace(F.PhotoViewer,r),n.rootContainer.replace(V.LoafStats,Ee.LoafStatsImpl),n.rootContainer.replace(K.FavIcon,W.FavIconImpl),(0,j.registerBrowserPlugins)(n.rootContainer),n.rootContainer.resolve(H.AuthService).setUserId(window.vk.id),n.rootContainer.resolve(G.ErrorLogger).init(Y.logError),ge=!0),n.rootContainer}},778021:(e,t,r)=>{"use strict";r.d(t,{BrowserAPIClient:()=>_});var n=r(331635),a=r(132028),s=r(957994);class _{request(e,t,r={}){return(0,s.api)(e,t,{...void 0!==r.version?{version:r.version}:{},...void 0!==r.grouping?{grouping:r.grouping}:{},...void 0!==r.accessToken?{accessToken:r.accessToken}:{},...void 0!==r.maxRetries?{maxRetries:r.maxRetries}:{}},{signal:r?.signal})}fetchWebToken(e,t){return(0,s.login)("web_token",e,t)}}_=(0,n.__decorate)([a.scope.global()],_)},111606:(e,t,r)=>{"use strict";r.d(t,{BrowserAnalytics:()=>c});var n=r(331635),a=r(132028),s=r(506856),_=r(101272);class c{sendBenchmarkMainStats(e){this.DEBUG&&(0,s.log)(e),(0,_.saveBenchmarkMainStats)(e)}sendCustomStats(e){this.DEBUG&&(0,s.log)(e),(0,_.saveCustomStats)(e)}sendNetworkStats(e){this.DEBUG&&(0,s.log)(e),(0,_.saveNetworkStats)(e)}sendProductionStats(e,t){this.DEBUG&&(0,s.log)(e),(0,_.saveProductionStats)(e,t)}sendStatlogEvents(e){this.DEBUG&&(0,s.log)(e),(0,_.saveStatlogEvents)(e)}sendStoryViewStats(e){this.DEBUG&&(0,s.log)(e),(0,_.saveStoryViewStats)(e)}sendWebPerfStats(e){this.DEBUG&&(0,s.log)(e),(0,_.saveWebPerfStats)(e)}sendWebStatsWithoutQueue(e,t){this.DEBUG&&(0,s.log)(t),(0,_.sendWebStats)(e,t)}constructor(){this.DEBUG=!1}}c=(0,n.__decorate)([a.scope.global()],c)},181600:(e,t,r)=>{"use strict";r.d(t,{BrowserAnalytics:()=>c});var n=r(331635),a=r(132028),s=r(506856),_=r(101272);class c{sendBenchmarkMainStats(e){this.DEBUG&&(0,s.log)(e),(0,_.saveBenchmarkMainStats)(e)}sendCustomStats(e){this.DEBUG&&(0,s.log)(e),(0,_.saveCustomStats)(e)}sendNetworkStats(e){this.DEBUG&&(0,s.log)(e),(0,_.saveNetworkStats)(e)}sendProductionStats(e,t){this.DEBUG&&(0,s.log)(e),(0,_.saveProductionStats)(e,t)}sendStatlogEvents(e){this.DEBUG&&(0,s.log)(e),(0,_.saveStatlogEvents)(e)}sendStoryViewStats(e){this.DEBUG&&(0,s.log)(e),(0,_.saveStoryViewStats)(e)}sendWebPerfStats(e){this.DEBUG&&(0,s.log)(e),(0,_.saveWebPerfStats)(e)}sendWebStatsWithoutQueue(e,t){this.DEBUG&&(0,s.log)(t),(0,_.sendWebStats)(e,t)}constructor(){this.DEBUG=!1}}c=(0,n.__decorate)([a.scope.global()],c)},189045:(e,t,r)=>{"use strict";r.d(t,{BrowserApiPrefetch:()=>_});var n=r(331635),a=r(132028),s=r(805658);class _{loadPrefetchCache(e,t,r){return(0,s.loadPrefetchCache)(e,t,r)}}_=(0,n.__decorate)([a.scope.global()],_)},128914:(e,t,r)=>{"use strict";r.d(t,{BrowserAppearance:()=>u});var n=r(331635),a=r(348847),s=r(19589),_=r(564048),c=r(132028);const l={[a.AppearanceTheme.Dark]:_.ColorSchemeName.Dark,[a.AppearanceTheme.Light]:_.ColorSchemeName.Light};class u{isDarkTheme(){return s.colorScheme.isDarkScheme()}forceTheme(e){const t=l[e];s.colorScheme.applyScheme(document.body,t)}clearForcing(){s.colorScheme.applyScheme(document.body,s.colorScheme.getScheme())}setMode(e){const t=s.colorScheme.getColorModeFromValue(e);if(!t)throw new Error(`Unsupported color scheme mode: ${e}`);s.colorScheme.setMode(t)}getMode(){return s.colorScheme.getMode()}onModeChange(e){return s.colorScheme.subscribe(e)}}u=(0,n.__decorate)([c.scope.global()],u)},162306:(e,t,r)=>{"use strict";r.d(t,{BrowserCookie:()=>_});var n=r(331635),a=r(132028),s=r(396858);class _{get(e){return(0,s.getCookie)(e)}set(e,t,{domain:r,excludeSubdomains:n,expireDays:a,isSecured:_,sameSiteValue:c}={}){(0,s.setCookie)(e,t,a,_,c,r,{withoutSubdomains:n})}}_=(0,n.__decorate)([a.scope.platform()],_)},859402:(e,t,r)=>{"use strict";r.d(t,{BrowserExternalEvents:()=>c});var n=r(331635),a=r(132028),s=r(793384);const _="stories_seen";class c{subscribeToAllStoriesSeen(e){const t=({detail:t})=>{this.allStoriesSeenListener(t,e)};return window.addEventListener(_,t),()=>window.removeEventListener(_,t)}allStoriesSeenListener(e,t){e.forEach((({storyRawIdSet:e})=>{[...e.values()].forEach((e=>{const[r]=e.split("_"),n=(0,s.isIntAsString)(r)?Number(r):null;if(!n)return;const a=window.cur[`stories_list_owner_feed${n}`];if(!a)return;a.every((e=>e.items.every((({unread:e})=>!e))))&&t(n)}))}))}}c=(0,n.__decorate)([a.scope.global()],c)},760031:(e,t,r)=>{"use strict";r.d(t,{BrowserLangs:()=>c});var n=r(331635),a=r(132028),s=r(712600),_=r(866467);class c extends s.Langs{numeric(e,t,r){return(0,_.langNumeric)(e,t,r)}sex(e,t){return(0,_.langSex)(e,t)}date(e,t,r,n={}){return(0,_.langDate)(e,t,n.offset??0,r,n.onlyDate)}getLang(e,t=!1){return t?(0,_.getLang)(e,"raw"):(0,_.getLang)(e)}get locale(){return window.langConfig?.locale||"ru"}}c=(0,n.__decorate)([a.scope.platform()],c)},338268:(e,t,r)=>{"use strict";r.d(t,{BrowserLocalStorage:()=>_});var n=r(331635),a=r(132028),s=r(553608);class _{setItem(e,t){return s.vkLocalStorage.setItem(e,t)}getItem(e){return s.vkLocalStorage.getItem(e)}removeItem(e){return s.vkLocalStorage.removeItem(e)}clear(){return s.vkLocalStorage.clear()}length(){return s.vkLocalStorage.length()}key(e){return s.vkLocalStorage.key(e)}keys(){return s.vkLocalStorage.keys()}}_=(0,n.__decorate)([a.scope.global()],_)},590352:(e,t,r)=>{"use strict";r.d(t,{BrowserNetwork:()=>s});var n=r(331635),a=r(132028);class s{get isOnline(){return window.navigator.onLine}addEventListener(e,t){window.addEventListener(e,t)}removeEventListener(e,t){window.removeEventListener(e,t)}}s=(0,n.__decorate)([a.scope.platform()],s)},413288:(e,t,r)=>{"use strict";r.d(t,{BrowserPerformance:()=>s});var n=r(331635),a=r(132028);class s{mark(e,t){return window.performance.mark(e,t)}measure(e,t,r){return window.performance.measure(e,t,r)}clearMarks(e){return window.performance.clearMarks(e)}clearMeasures(e){return window.performance.clearMeasures(e)}}s=(0,n.__decorate)([a.scope.platform()],s)},798113:(e,t,r)=>{"use strict";r.d(t,{BrowserPhotoUtils:()=>s});var n=r(331635),a=r(132028);class s{showPhoto(e,t,r){window.showPhoto?.(e,t,r)}showAlbum(e,t,r){window.showAlbum?.(e,t,r)}uploadPhoto(e,t){r._dG("filesToUpload",t),window.nav.go(e)}}s=(0,n.__decorate)([a.scope.platform()],s)},601849:(e,t,r)=>{"use strict";r.d(t,{BrowserSessionStorage:()=>_});var n=r(331635),a=r(132028),s=r(553608);class _{setItem(e,t){return s.vkSessionStorage.setItem(e,t)}getItem(e){return s.vkSessionStorage.getItem(e)}removeItem(e){return s.vkSessionStorage.removeItem(e)}clear(){return s.vkSessionStorage.clear()}length(){return s.vkSessionStorage.length()}key(e){return s.vkSessionStorage.key(e)}keys(){return s.vkSessionStorage.keys()}}_=(0,n.__decorate)([a.scope.global()],_)},455461:(e,t,r)=>{"use strict";r.d(t,{BrowserStatsInfo:()=>s});var n=r(331635),a=r(132028);class s{getFromType(e){return(history.state?.from||new URLSearchParams(window.location.search).get("from"))===e}getBlockId(){return new URLSearchParams(window.location.search).get("block_id")}}s=(0,n.__decorate)([a.scope.global()],s)},697392:(e,t,r)=>{"use strict";r.d(t,{BrowserUserEnv:()=>_});var n=r(331635),a=r(132028),s=r(540462);class _{partConfigEnabled(e){return(0,s.partConfigEnabled)(e)}getConfigValue(e){return(0,s.getConfigValue)(e)}}_=(0,n.__decorate)([a.scope.global()],_)},167013:(e,t,r)=>{"use strict";r.d(t,{BrowserVKPlayApi:()=>_});var n=r(331635),a=r(132028),s=r(209708);class _ extends s.VKPlayApi{async request(e,t,r){const n=new URL(`${s.VKPlayApi.VK_PLAY_API_BASE}/${e}/`);for(const[e,r]of Object.entries(t))n.searchParams.append(e,String(r));const a=await fetch(n,{signal:r?.signal}),_=await a.json();if("failed"===_.status)throw _.error;return _}}_=(0,n.__decorate)([a.scope.global()],_)},292989:(e,t,r)=>{"use strict";r.d(t,{BrowserVkHost:()=>_});var n=r(331635),a=r(132028),s=r(888584);class _ extends s.VkHost{getGlobalObject(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}}getDomainName(){return this.getGlobalObject().vk?.apiConfigDomains.domain}getHostName(){return this.getGlobalObject().vk?.__domain||"vk.com"}}_=(0,n.__decorate)([a.scope.global()],_)},715007:(e,t,r)=>{"use strict";r.d(t,{LoafStatsImpl:()=>l});var n=r(331635),a=r(132028),s=r(24516),_=r(627876),c=r(809424);class l{observe(e){if(!this.userEnv.partConfigEnabled("loaf_stats_plugin"))return()=>{};const t=performance.now(),r=new PerformanceObserver((e=>{this.observerToLoAFs.get(r).push(...e.getEntries())}));return this.observerToLoAFs.set(r,[]),r.observe({type:"long-animation-frame"}),()=>{r.disconnect();const n=this.observerToLoAFs.get(r),a=[this.sendTotalBlockingTime,this.sendLongestEntry,this.sendPercentiles];if(n&&n.length>0){const r=performance.now();a.forEach((a=>{a(e,Math.ceil((r-t)/1e3),n)}))}this.observerToLoAFs.delete(r)}}constructor(e,t,r){this.userEnv=e,this.statLog=t,this.metaData=r,this.percentiles=[25,50,75,90,99],this.observerToLoAFs=new Map,this.sendPercentiles=(e,t,r)=>{r.sort(((e,t)=>e.duration-t.duration));const{module:n,screen:a}=this.metaData.get();this.percentiles.forEach((s=>{const _=s/100*(r.length-1),c=Math.floor(_),l=Math.ceil(_);if(l>=r.length)return[s,r[r.length-1].duration];const u=_-c,d=Math.round(r[c].duration+u*(r[l].duration-r[c].duration));this.statLog.send({name:"web_loaf_stats",value:d,keys:[n,a,`p${s}`,e,t]})}))},this.sendTotalBlockingTime=(e,t,r)=>{const n=Math.round(r.reduce(((e,{duration:t})=>e+t-16),0)),{module:a,screen:s}=this.metaData.get();this.statLog.send({name:"web_loaf_stats",value:n,keys:[a,s,"TBT",e,t]})},this.sendLongestEntry=(e,t,r)=>{const{duration:n}=r.reduce(((e,t)=>e.duration>t.duration?e:t)),{module:a,screen:s}=this.metaData.get();this.statLog.send({name:"web_loaf_stats",value:Math.round(n),keys:[a,s,"Longest entry",e,t]})}}}l=(0,n.__decorate)([a.scope.global(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[void 0===s.UserEnv?Object:s.UserEnv,void 0===_.Statlog?Object:_.Statlog,void 0===c.MetaData?Object:c.MetaData])],l)},138253:(e,t,r)=>{"use strict";r.d(t,{MetaDataImpl:()=>_});var n=r(331635),a=r(132028),s=r(586138);class _{get(){return{module:window.cur?.module||"unknown",screen:window.cur?.screen||"unknown",moduleDisabled:Boolean(window.cur?.moduleDisabled),platformId:s.clientId,platformSecret:s.clientSecret,domains:{api:window.vk?.apiConfigDomains?.apiDomain||"api.vk.com",login:window.vk?.apiConfigDomains?.loginDomain||"login.vk.com",connect:window.vk?.apiConfigDomains?.connectDomain||"id.vk.com"},statsMeta:{time:window.vk?.statsMeta?.time,st:window.vk?.statsMeta?.st,platform:window.vk?.statsMeta?.platform,hash:window.vk?.statsMeta?.hash},wsTransport:window.vk?.wsTransport,isSearchBot:Boolean(window.vk?.isSearchBot)}}}_=(0,n.__decorate)([a.scope.global()],_)},513859:(e,t,r)=>{"use strict";r.d(t,{MiniAppApiWrapperImpl:()=>c});var n=r(331635),a=r(132028),s=r(365815),_=r(957994);class c{isAPIResponseWithErrors(e){return null!=e&&"object"==typeof e&&"execute_errors"in e}transformAPIParams(e){return new Promise(((t,r)=>{t(Object.entries(e).reduce(((e,[t,n])=>{try{return{...e,[t]:"object"==typeof n?JSON.stringify(n):n}}catch{r({error_code:s.ERROR_CODES.INVALID_PARAMS,error_reason:`Param "params[${t}]" should be a valid json`})}}),{}))}))}constructor(){this.requestApiMethod=async(e,t,r)=>{const n={...r,grouping:!1},a=await this.transformAPIParams(t),s=await(0,_.api)(e,a,n),{response:c,error:l=null,execute_errors:u=null}=this.isAPIResponseWithErrors(s)?s:{response:s};if(null==c){if(l||u)throw l||u;throw new Error("MiniAppsService: empty api response")}return{response:c}}}}c=(0,n.__decorate)([a.scope.global()],c)},399758:(e,t,r)=>{"use strict";r.d(t,{PerformanceStatsCoreImpl:()=>m});var n=r(331635),a=r(418562),s=r(132028),_=r(773444),c=r(24516),l=r(951652),u=r(750937),d=r(433367),p=r(170022),E=r(807978);class m{createTrace(e,t,r){let n;switch(t){case _.Action.Pop:n=r.length>1?"HISTORY_TRANSITION":"INITIAL_LOAD";break;case _.Action.Push:n="LINK_TRANSITION";break;case _.Action.Replace:n="APP_REDIRECT"}const{module:s,screen:c}=e;return{id:(0,a.default)(),startDate:"INITIAL_LOAD"===n?0:performance.now(),cause:n,module:s||"unknown",screen:c||"unknown"}}onRouterChangedEvent({activeRoute:e,action:t,historyLocations:r}){this.trace&&this.cooldownManager.updateMetricTimestamp(this.trace.module),this.trace=e?this.createTrace(e,t,r):void 0}send(e,{debug:t}={}){if(!this.userEnv.partConfigEnabled("performance_stats_core_plugin")||!this.trace)return;const{id:r,startDate:n,cause:a,module:s,screen:_}=this.trace,c=e.split("."),[l,d]=[c.pop(),c.join("_")],p=this.userEnv.getConfigValue("performance_stats_core_modules_coefficients")[s]??1;"INITIAL_LOAD"===a&&this.cooldownManager.isMetricOnCoolDown(s)||Math.random()>=p||"APP_REDIRECT"===a||(0,u.sendPerformanceStats)({entity:d,event:l,trace_id:r,trace_cause:a,module:s,page:_,value:Math.round(performance.now()-n),debug_meta:t})}constructor(e,t){this.userEnv=e,this.authService=t,this.cooldownManager=new d.CooldownManager(this.authService.userId,p.METRICS_SCOPE.PERFORMANCE_STATS_CORE,this.userEnv.getConfigValue("performance_stats_core_module_cooldown")||8*E.HOUR)}}m=(0,n.__decorate)([s.scope.global(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[void 0===c.UserEnv?Object:c.UserEnv,void 0===l.AuthService?Object:l.AuthService])],m)},407869:(e,t,r)=>{"use strict";r.d(t,{ensureDIRootContainer:()=>n.ensureDIRootContainer});var n=r(425946)},701563:(e,t,r)=>{"use strict";r.d(t,{logDonutEvent:()=>_});var n=r(93642),a=r(317216),s=r(261910);function _(e,t){const{type:r,type_property:_,params:c}=(0,s.parseJSON)(e);_===a.ActionProductionStatEventTypes.TYPE_DONUT_PAYMENT_ITEM?n.donutStats.logEventAction({event_type:c.event_type,source:c.source,owner_id:c.owner_id}):t&&r===a.ProductionStatEventTypes.TYPE_NAVGO&&function(e,{params:t,typeProperty:r}){if(r===a.NavigationProductionStatEventTypes.TYPE_DONUT_DESCRIPTION_NAV_ITEM){const e=t.owner_id,r=t.track_code;if(!t||"number"!=typeof e||"string"!=typeof r)return;n.donutStats.logEventDescriptionClick({ownerId:e,trackCode:r})}}(0,{typeProperty:_,params:c})}},93642:(e,t,r)=>{"use strict";r.d(t,{donutStats:()=>c});var n=r(314309),a=r(317216),s=r(301374);class _{logEventAction(e){return this.actionStatCollector.logEvent(_.createDonutActionStatEvent(e))}logEventActionView(e){return this.logEventAction({...e,event_type:s.DonutActionEventType.PAYMENT_FORM})}logEventDescriptionClick(e){this.navStatCollector.logEvent({..._.createNavStatEventBase(),..._.createDescriptionClickStatEvent(e)})}static createDonutActionStatEvent(e){return{type:a.ActionProductionStatEventTypes.TYPE_DONUT_PAYMENT_ITEM,[a.ActionProductionStatEventTypes.TYPE_DONUT_PAYMENT_ITEM]:e}}static createNavStatEventBase(){return{screen:"wall",subtype:a.NavigationProductionStatEventTypes.GO}}static createDescriptionClickStatEvent(e){return{item:_.processClickParamsToEventItem(e),type:a.NavigationProductionStatEventTypes.TYPE_DONUT_DESCRIPTION_NAV_ITEM,[a.NavigationProductionStatEventTypes.TYPE_DONUT_DESCRIPTION_NAV_ITEM]:{}}}static processClickParamsToEventItem(e){return{type:a.EventItemType.BROWSER,owner_id:e.ownerId,track_code:e.trackCode}}constructor(){this.productionStatCollector=new n.ProductionStatCollector,this.actionStatCollector=new n.ActionStatCollector(this.productionStatCollector),this.navStatCollector=new n.NavigationStatCollector(this.productionStatCollector)}}const c=new _},5933:(e,t,r)=>{"use strict";r.d(t,{AddToCartEventType:()=>a,EventName:()=>c,EventType:()=>n,RemoveFromCartEventType:()=>s,Screen:()=>_});var n=function(e){return e.TYPE_CLICK="type_market_click",e.TYPE_VIEW="type_market_view",e.TYPE_ACTION="type_market_action",e}({}),a=function(e){return e.ADD_ITEM="add_item",e.SET_ITEM_AMOUNT="set_item_amount",e}({}),s=function(e){return e.ALL="all",e.SET_ITEM_AMOUNT="set_item_amount",e}({}),_=function(e){return e.MARKETPLACE_SEARCH="marketplace_search",e.MARKETPLACE_MAIN="marketplace_main",e.MARKETPLACE_SECTION="marketplace_section",e.MARKETPLACE_MY_ORDERS="marketplace_my_orders",e.MARKET_CART="market_cart",e.MARKET_ITEM="market_item",e.MARKET="market",e.GROUP_MENU="group_menu",e.FAVE_PRODUCTS="fave_products",e.MARKET_IM_CHAT="im_chat",e}({}),c=function(e){return e.TRANSITION_TO_CARTS_LIST="type_marketplace_transition_to_carts_list_click",e.TRANSITION_TO_CHECKOUT="type_marketplace_transition_to_checkout_click_item",e.TRANSITION_TO_CART="type_marketplace_transition_to_cart_click",e.VIEW_ITEM="type_market_view_item",e.ADD_ITEM_TO_BOOKMARKS="type_market_add_item_to_bookmarks",e.ADD_ITEM_TO_CART="type_add_item_to_cart",e.REMOVE_ITEM_FROM_CART="type_remove_item_from_cart_item",e.REMOVE_ITEM_FROM_BOOKMARKS="type_market_remove_item_from_bookmark",e}({})},826008:(e,t,r)=>{"use strict";r.d(t,{AdminsClickAnalytics:()=>_});var n=r(468073),a=r(971150),s=r(433071);class _{logControlClick({screen:e,params:t}){this.collector.logEvent({params:{type:a.EventName.TYPE_MARKET_ITEMS_CONTROL_CLICK,screen:e,id:t.id,itemType:t.itemType}})}logEditItemClick({screen:e,params:t}){this.collector.logEvent({params:{type:a.EventName.TYPE_MARKET_END_EDIT_ITEM,screen:e,ownerId:t.ownerId,id:t.id,itemType:t.itemType,difference:t.difference,status:t.status,attachedPhotoCount:t.attachedPhotoCount}})}logModerationEditItemClick({screen:e,params:t}){this.collector.logEvent({params:{type:a.EventName.TYPE_MARKET_MODERATION_EDIT_ITEM_CLICK,screen:e,id:t.id,ownerId:t.ownerId,itemType:"market_item"}})}logModerationDeleteItemClick({screen:e,params:t}){this.collector.logEvent({params:{type:a.EventName.TYPE_MARKET_MODERATION_DELETE_ITEM_CLICK,screen:e,id:t.id,ownerId:t.ownerId,itemType:"market_item"}})}logImportsGoodsEvent({ownerId:e,eventName:t}){this.collector.logEvent({params:{type:t,screen:a.CustomScreen.MARKET_ITEMS,id:n.Ranges.convertOwnerIdToGroupId(e),ownerId:e,itemType:"market_item"}})}logAddItemGoodsEvent({id:e,eventName:t,screen:r}){this.collector.logEvent({params:{screen:r,type:t,id:n.Ranges.convertOwnerIdToGroupId(e),itemType:"market_item"}})}constructor(e=new s.ClickEventCollector){this.collector=e}}},433071:(e,t,r)=>{"use strict";r.d(t,{ClickEventCollector:()=>_});var n=r(314309),a=r(317216),s=r(971150);class _{logEvent({params:e}){const t=this.constructEvent({params:e});this.statCollector.logEvent(t),this.lastNavEventId=t.id}constructEvent({params:e}){const t=this.statCollector.getBaseEvent();return{id:t.id,timestamp:t.timestamp,type:a.ProductionStatEventTypes.TYPE_CLICK,prev_nav_id:this.lastNavEventId,prev_event_id:t.prev_id||0,screen:e.screen,[a.ProductionStatEventTypes.TYPE_CLICK]:{item:{type:e.itemType,id:e.id,owner_id:e.ownerId,community_id:e.ownerId},type:s.EventType.TYPE_CLICK,[s.EventType.TYPE_CLICK]:{type:e.type,[e.type]:{changed_parameters:e.difference,attached_photo_count:e.attachedPhotoCount,status:e.status}}}}}constructor(e=new n.ProductionStatCollector){this.statCollector=e,this.lastNavEventId=0}}},971150:(e,t,r)=>{"use strict";r.d(t,{CustomScreen:()=>a,EventName:()=>l,EventType:()=>c,ItemTypes:()=>s,Section:()=>n,Statuses:()=>_});var n=function(e){return e.AUTO="auto",e.SEARCH="search",e.MARKET="market",e.GROUP="group",e.MAIN="main",e}({}),a=function(e){return e.MARKET_ITEM="market_item",e.MARKET_ITEMS="market_items",e.MARKET_ALBUMS="market_albums",e}({}),s=function(e){return e.GROUP="group",e.MARKET_ITEM="market_item",e}({}),_=function(e){return e.CANCEL_EDIT_ITEM="cancel_edit_item",e.CANCEL_CREATE_ITEM="cancel_create_item",e}({}),c=function(e){return e.TYPE_CLICK="type_market_click",e}({}),l=function(e){return e.TYPE_MARKET_ITEMS_CONTROL_CLICK="type_market_items_control_click",e.TYPE_MARKET_END_EDIT_ITEM="type_market_end_edit_item",e.TYPE_MARKET_MODERATION_EDIT_ITEM_CLICK="type_market_items_moderation_edit_click",e.TYPE_MARKET_MODERATION_DELETE_ITEM_CLICK="type_market_items_moderation_delete_click",e.TYPE_MARKET_IMPORT_GOODS="type_market_import_goods",e.TYPE_MARKET_IMPORT_GOODS_START="type_market_import_goods_start",e.TYPE_MARKET_IMPORT_GOODS_FAIL="type_market_import_goods_fail",e.TYPE_MARKET_TRANSITION_TO_IMPORT_GOODS="type_market_transition_to_import_goods",e.TYPE_MARKET_TRANSITION_TO_ADD_GOODS="type_market_transition_to_add_goods",e.TYPE_MARKET_TRANSITION_TO_MANUAL_ADD_GOODS="type_market_transition_to_manual_add_goods",e}({})},511241:(e,t,r)=>{"use strict";r.d(t,{ClickAnalytics:()=>_});var n=r(5933),a=r(30259),s=r(198694);class _{logAddToBookmarksClick({screen:e,params:t,refSource:r,previousScreen:n,sourceUrl:s,trackCode:_}){this.collector.logEvent({params:{type:a.EventName.ADD_ITEM_TO_BOOKMARKS,screen:e,previous_screen:n,ref_source:r,item:{track_code:_},source_url:s,[a.EventName.ADD_ITEM_TO_BOOKMARKS]:t}})}logRemoveFromBookmarksClick({screen:e,params:t,refSource:r,previousScreen:n,sourceUrl:s,trackCode:_}){this.collector.logEvent({params:{type:a.EventName.REMOVE_ITEM_FROM_BOOKMARKS,screen:e,previous_screen:n,ref_source:r,source_url:s,item:{track_code:_},[a.EventName.REMOVE_ITEM_FROM_BOOKMARKS]:t}})}logTransitionToItemClick({screen:e,params:t,refSource:r}){const{source_url:n="",previous_screen:s,track_code:_,...c}=t;this.collector.logEvent({params:{type:a.EventName.TRANSITION_TO_ITEM,previous_screen:s,ref_source:r,source_url:n,screen:e,item:{track_code:_},[a.EventName.TRANSITION_TO_ITEM]:c}})}logTransitionToSimilarClick({screen:e,previousScreen:t,sourceUrl:r="",refSource:n,params:s}){this.collector.logEvent({params:{type:a.EventName.TRANSITION_TO_SIMILARS,previous_screen:t,screen:e,source_url:r,ref_source:n,[a.EventName.TRANSITION_TO_SIMILARS]:s||{}}})}logSendMessageToOwnerClick({screen:e,params:t,refSource:r,previousScreen:n}){this.collector.logEvent({params:{type:a.EventName.SEND_MESSAGE_TO_OWNER,ref_source:r,screen:e,previous_screen:n,[a.EventName.SEND_MESSAGE_TO_OWNER]:t}})}logTransitionToMarketClick({ownerId:e,screen:t,refSource:r,previousScreen:n}){this.collector.logEvent({params:{type:a.EventName.TRANSITION_TO_MARKET,screen:t,previous_screen:n,ref_source:r,item:{owner_id:e}}})}logMarketCtaButtonClick({itemId:e,ownerId:t,screen:r,refSource:n,previousScreen:s,params:_}){this.collector.logEvent({params:{type:a.EventName.CLICK_MARKET_CTA_BUTTON,screen:r,previous_screen:s,ref_source:n,item:{id:e,owner_id:t},[a.EventName.CLICK_MARKET_CTA_BUTTON]:_}})}logImagePaginationClick({item:e,item_media_idx:t,screen:r,traffic_source:n,ref_source:s,previous_screen:_}){this.collector.logEvent({params:{type:a.EventName.IMAGE_PAGINATION_CLICK,item:e,screen:r,previous_screen:_,ref_source:s,[a.EventName.IMAGE_PAGINATION_CLICK]:{item_media_idx:t,traffic_source:n}}})}logHideMarketItemClick({itemId:e,ownerId:t,screen:r,refSource:n,itemIdx:s,trackCode:_}){this.collector.logEvent({params:{type:a.EventName.HIDE_ITEM,screen:r,ref_source:n,item:{id:e,owner_id:t,track_code:_},[a.EventName.HIDE_ITEM]:{item_idx:s}}})}logOpenMarketplaceClick({screen:e,previousScreen:t,refSource:r}){this.collector.logEvent({params:{type:a.EventName.CLICK_OPEN_MARKETPLACE,screen:e,previous_screen:t,ref_source:r}})}logTransitionToCartsListClick({screen:e,previousScreen:t,refSource:r}){this.collector.logEvent({params:{type:a.EventName.TRANSITION_TO_CARTS_LIST,screen:e,previous_screen:t,ref_source:r,ref_screen:e}})}addItemToCart({screen:e,previousScreen:t,params:r}){this.collector.logEvent({params:{type:a.EventName.ADD_ITEM_TO_CART,screen:e,previous_screen:t,ref_screen:e,ref_source:a.RefSource.BOOKMARKS,[a.EventName.ADD_ITEM_TO_CART]:{event_type:n.AddToCartEventType.ADD_ITEM,...r}}})}constructor(e=new s.ClickEventCollector){this.collector=e}}},198694:(e,t,r)=>{"use strict";r.d(t,{ClickEventCollector:()=>c});var n=r(314309),a=r(317216),s=r(30259),_=r(883347);class c{logEvent({params:e}){const t=this.constructEvent({params:e});this.statCollector.logEvent(t),this.lastNavEventId=t.id}constructEvent({params:e}){const t=this.statCollector.getBaseEvent();return{id:t.id,timestamp:t.timestamp,type:a.ProductionStatEventTypes.TYPE_CLICK,prev_nav_id:this.lastNavEventId,prev_event_id:t.prev_id||0,screen:e.screen,[a.ProductionStatEventTypes.TYPE_CLICK]:{item:{type:"market_item",..."item"in e?e.item:{}},type:s.EventType.TYPE_CLICK,[s.EventType.TYPE_CLICK]:(0,_.getValidatedParams)({...e,analytics_version:1})}}}constructor(e=new n.ProductionStatCollector){this.statCollector=e,this.lastNavEventId=0}}},170722:(e,t,r)=>{"use strict";r.d(t,{adminsClickAnalytics:()=>c,clickAnalytics:()=>_,viewAnalytics:()=>l});var n=r(511241),a=r(826008),s=r(905042);const _=new n.ClickAnalytics,c=new a.AdminsClickAnalytics,l=new s.ViewAnalytics},30259:(e,t,r)=>{"use strict";r.d(t,{CustomScreen:()=>a,EventName:()=>c,EventType:()=>_,RefSource:()=>s,Section:()=>n});var n=function(e){return e.AUTO="auto",e.SEARCH="search",e.MARKET="market",e.GROUP="group",e}({}),a=function(e){return e.MARKET_ITEM="market_item",e.MARKET_CARTS_LIST="market_carts_list",e.MARKET_CHECKOUT="market_checkout",e.FAVE_PRODUCTS="fave_products",e}({}),s=function(e){return e.COMMUNITY_GOODS="community_goods",e.COMMUNITY_GROUP_GOODS="community_group_goods",e.COMMUNITY_SHOWCASE="community_showcase",e.SEARCH_GLOBAL="search_global",e.SEARCH_GOODS="search_goods",e.SEARCH_RECOMMENDATIONS="search_recommendations",e.SEARCH_RECOMMENDATIONS_WITH_GOODS="search_communities_with_goods",e.GLUBS="messages",e.POST="post",e.PHOTO="photo",e.VIDEO="video",e.STORIES="stories",e.CLIPS="clips",e.CART="cart",e.BOOKMARKS="bookmarks",e.MARKETPLACE="marketplace",e.VIDEO_CAROUSEL_ITEMS="video_carousel_items",e.ARTIST_GOODS="artist_goods",e.FEED_PORTLET_GOODS="feed_portlet_goods",e.OTHER="other",e.LINK="link",e}({}),_=function(e){return e.TYPE_CLICK="type_market_click",e.TYPE_VIEW="type_market_view",e}({}),c=function(e){return e.ADD_ITEM_TO_BOOKMARKS="type_market_add_item_to_bookmarks",e.REMOVE_ITEM_FROM_BOOKMARKS="type_market_remove_item_from_bookmark",e.VIEW_ITEM="type_market_view_item",e.TRANSITION_TO_ITEM="type_market_transition_to_item",e.SEND_MESSAGE_TO_OWNER="type_market_send_message_to_owner_click",e.TRANSITION_TO_SIMILARS="type_market_transition_to_similars",e.TRANSITION_TO_MARKET="type_market_transition_to_market",e.CLICK_MARKET_CTA_BUTTON="type_market_cta_button_click",e.HIDE_ITEM="type_market_hide_item",e.CLICK_OPEN_MARKETPLACE="type_market_open_marketplace",e.TRANSITION_TO_CARTS_LIST="type_market_transition_to_carts_list",e.IMAGE_PAGINATION_CLICK="type_market_pagination_in_product_tile",e.ADD_ITEM_TO_CART="type_add_item_to_cart",e}({})},905042:(e,t,r)=>{"use strict";r.d(t,{ViewAnalytics:()=>s});var n=r(30259),a=r(373145);class s{logMarketItemView({screen:e,previous_screen:t,params:r,view:a,ref_source:s,source_url:_,track_code:c}){this.collector.logEvent({screen:e,view:a,params:{type:n.EventName.VIEW_ITEM,previous_screen:t,ref_source:s,source_url:_,track_code:c,[n.EventName.VIEW_ITEM]:r}})}constructor(e=new a.ViewEventCollector){this.collector=e}}},373145:(e,t,r)=>{"use strict";r.d(t,{ViewEventCollector:()=>c});var n=r(314309),a=r(317216),s=r(883347),_=r(30259);class c{logEvent(e){const t=this.constructEvent(e);this.statCollector.logEvent(t),this.lastNavEventId=t.id}constructEvent({screen:e,view:t,params:r}){const n=this.statCollector.getBaseEvent();return{id:n.id,timestamp:n.timestamp,type:a.ProductionStatEventTypes.TYPE_VIEW,prev_nav_id:this.lastNavEventId,prev_event_id:n.prev_id||0,screen:e,[a.ProductionStatEventTypes.TYPE_VIEW]:{item:{type:"market_item"},start_view:t.start_view,end_view:t.end_view,type:_.EventType.TYPE_VIEW,[_.EventType.TYPE_VIEW]:{...(0,s.getValidatedParams)(r),analytics_version:1}}}}constructor(e=new n.ProductionStatCollector){this.statCollector=e,this.lastNavEventId=0}}},923030:(e,t,r)=>{"use strict";r.d(t,{getServiceBookingWikiParamFromPath:()=>a});const n="service-booking";function a(e){const t=new RegExp(`^/?${n}-(\\d+)(/[\\w-]+)?/?(\\?.*)?(#.*)?$`),r=e.match(t),a=e.includes("?")?e.split("?")[1].split("#")[0]:"",s=new URLSearchParams(a);if(r){const e=r[1],t=r[2]||"";return{w:`${n}-${e}${t}`,query:Object.fromEntries(s)}}return null}},859357:(e,t,r)=>{"use strict";r.d(t,{showServiceBookingWiki:()=>n});const n=({w:e,query:t})=>{t&&window.nav.setLoc({...window.nav.objLoc,...t}),window.showWiki({w:e},void 0,void 0,{onHide:()=>{if(!t)return;const e={...window.nav.objLoc};Object.keys(t).forEach((t=>delete e[t])),window.nav.setLoc(e)}})}},758302:(e,t,r)=>{"use strict";r.d(t,{clone:()=>n});const n=e=>{let t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&("object"==typeof e[r]&&(t[r]=n(e[r])),t[r]=e[r]);return t}},883347:(e,t,r)=>{"use strict";r.d(t,{getValidatedParams:()=>s});var n=r(758302),a=r(810068);const s=e=>{const t=(0,n.clone)(e);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){if("autofill_info"===e&&Array.isArray(t[e]))continue;"object"!=typeof t[e]||Object.is(null,t[e])||(t[e]=s(t[e])),"owner_id"===e&&"number"==typeof t[e]&&a.Ranges.isUserId(t[e])&&(t[e]=-t[e]),"search_query_id"===e&&"number"!=typeof t[e]&&(t[e]=Number(t[e]??""))}return delete t.screen,t}},604341:(e,t,r)=>{"use strict";r.d(t,{TaskQueue:()=>s});var n=r(402210),a=r.n(n);class s{get events(){return this._emitter}static migrate(e,t=()=>{}){const r=new s(t);return r.pause(),e&&e.destroy&&e._handlers&&e._q&&(e.destroy(),Object.keys(e._handlers).forEach((t=>{const n=e._handlers[t];r.setHandler(t,n,n.once)})),e._q.forEach((e=>r.push(e)))),r.restart(),r}setupGc(e){this._gcTimer&&clearInterval(this._gcTimer),this._gcTimer=setInterval(this._gcTask.bind(this),e||s._gcDefaultInterval)}_next(e=!1){this._timer=setTimeout(this._processNext.bind(this),e?0:this._timerInterval)}_gcTask(){this.pause(),this._emitter.emit("ev_gc_start");const e=this._q.filter((e=>e.postponed));this._q=this._q.filter((e=>!e.postponed)),this._emitter.emit("ev_gc_end",e),this.restart()}_processNext(){const[e]=this._q.splice(0,1);if(!e)return void this.pause();const t=this._handlers[e.selector];if(t?.once&&this.removeHandler(e.selector),!t)return e.postponed||(e.postponed=!0),this._q.push(e),void(this._timer&&this._next());let r;this._emitter.emit("ev_task_start",e.selector),window._tqVerbose&&console.info("Running evbus task",e.selector);try{r=Promise.resolve(t(e))}catch(e){r=Promise.reject(e)}r.then((()=>{this._next(!0)}),(t=>{this._errorHandler&&this._errorHandler(e,t),this._next(!0)}))}constructor(e=()=>{}){this._errorHandler=e,this._timerInterval=15,this._handlers=Object.create(null),this._emitter=new(a()),this._q=[],this.destroy=()=>{this.pause(),clearInterval(this._gcTimer)},this.pause=()=>{this._timer&&(clearTimeout(this._timer),this._timer=void 0,this._emitter.emit("ev_paused"))},this.restart=()=>{this._timer||(this._next(),this._emitter.emit("ev_restarted"))},this.push=e=>{this._q.push(e),this.restart()},this.setHandler=(e,t,r=!1)=>{t.once=r,this._handlers[e]=t,this._emitter.emit("ev_new_handler",e)},this.removeHandler=e=>{delete this._handlers[e],this._emitter.emit("ev_rm_handler",e)},this._next()}}s._gcDefaultInterval=5e3},338329:(e,t,r)=>{"use strict";r.d(t,{init:()=>n.init,initLazy:()=>n.initLazy,processExecData:()=>a.processExecData,tq:()=>n.tq});var n=r(530107),a=r(258230)},530107:(e,t,r)=>{"use strict";r.d(t,{init:()=>m,initLazy:()=>g,tq:()=>f,tqi:()=>I,tqs:()=>y});var n=r(604341),a=r(258230),s=r(298077),_=r(120517),c=r(540462);const l=(e,t)=>{const r={message:"Task execution error",data:{taskName:e.selector,type:void 0===e.payload.dataAttrs?"startup_task":"interactive_task",params:JSON.stringify(void 0===e.payload.dataAttrs?e.payload.data:e.payload.dataAttrs)}};(0,s.logError)(t,{environment:"task_queue",breadcrumb:r}),console.error(t)},u=()=>{if(!document.head)throw new Error("Document must be loaded before queue init");return document.head},d=e=>e((()=>{(0,a.unregisterGlobalTqHandlers)(document.body,u()._tqhl),u()._tqhl=(0,a.registerGlobalTqHandlers)(document.body)})),p=e=>{const t=u();t._tqs=new n.TaskQueue(l),t._tqi=new n.TaskQueue(l),d(e),t._tq={setInteractiveHandler:(e,r,n=!1)=>t._tqi.setHandler(e,r,n),setStartupHandler:(r,n,a=!1)=>{t._tqs.setHandler(r,n,a),e((()=>{t._tqs.setupGc(),t._tqs.restart()}))}},e((()=>{t._tqi.setupGc(),(0,a.initMutationObserver)(),(0,a.processTreeOfNodes)(document)}))},E=()=>!!u()._tq,m=(e=_.onDomReady)=>{if((0,c.partConfigEnabled)("lazy_tq_init"))return;const t=u();E()?(t._tqi=n.TaskQueue.migrate(t._tqi,l),t._tqs=n.TaskQueue.migrate(t._tqs,l),d(e)):p(e)},g=(e=_.onDomReady)=>{if(!(0,c.partConfigEnabled)("lazy_tq_init"))if(document.head)E()||m(e);else{const t=new MutationObserver((()=>{document.head&&(g(e),t.disconnect())}));t.observe(document.documentElement,{childList:!0})}},A=e=>()=>{const t=u();if((0,c.partConfigEnabled)("lazy_tq_init")&&(t._tq||p(_.onDomReady)),!t["_"+e])throw new Error(e+" not initialized");return t["_"+e]},f=A("tq"),I=A("tqi"),y=A("tqs")},258230:(e,t,r)=>{"use strict";r.d(t,{initMutationObserver:()=>m,processExecData:()=>u,processTreeOfNodes:()=>E,registerGlobalTqHandlers:()=>g,unregisterGlobalTqHandlers:()=>A});var n=r(530107),a=r(964025),s=r(540462);const _={click:1,mouseover:1,mouseout:1,keyup:1,keydown:1,change:1,paste:1},c=["focus","mouseenter","mouseleave"],l=e=>t=>{if(t.type!==e||!t.target||!e)return;let r=(e=>e.nodeType===Node.TEXT_NODE?e.parentNode:(0,s.partConfigEnabled)("web_task_queue_global_handler_init_svg_fix")?"svg"===e.nodeName?e.parentNode:"path"===e.nodeName?e.parentNode?.parentNode:e:e)(t.target);if((0,a.isReactHTMLElement)(r)||!r.dataset)return;let _=r.dataset[`task${e.toUpperCase()[0]+e.slice(1)}`];if(!_){if("click"!==t.type)return;const n=r.closest("[data-task-click]");if(!n)return;r=n,_=n.dataset[`task${e.toUpperCase()[0]+e.slice(1)}`]}if(_){if(r.dataset.prevent&&t instanceof MouseEvent&&"A"===r.tagName){const e=r.hasAttribute("href"),n=t.ctrlKey||t.metaKey;if(e&&n)return}if((0,n.tqi)().push({selector:_,payload:{target:r,dataAttrs:r.dataset,event:t},postponed:!1,createTime:Date.now()}),r.dataset.prevent)return 2&Number(r.dataset.prevent)&&t.stopPropagation(),t.preventDefault(),!1}},u=(e,t)=>{let r={};try{r=JSON.parse(e)}catch(t){console.error("Failed to parse JSON: ",e)}for(let e in r)r.hasOwnProperty(e)&&(0,n.tqs)().push({selector:e,payload:{target:t,data:r[e]},postponed:!1,createTime:Date.now()})},d=e=>{if(e.matches("[data-exec]")){const t=e.dataset.exec||"{}";e.removeAttribute("data-exec"),u(t,e)}},p=e=>{for(const t of c){const r=`data-task-${t}`;if(e.hasAttribute(r)){const a=e.getAttribute(r)??"";e.removeAttribute(r),e.addEventListener(t,(t=>{const r=(0,n.tqi)()._handlers[a];Promise.resolve(null).then((()=>r?.({selector:a,payload:{dataAttrs:e.dataset,target:e,event:t},postponed:!1,createTime:Date.now()}))).catch((e=>console.error(e)))}),{passive:!0})}}},E=(e=document)=>{for(const t of e.querySelectorAll("[data-exec]"))(t instanceof HTMLElement||t instanceof SVGElement)&&d(t);for(const t of c)for(const r of e.querySelectorAll(`[data-task-${t}]`))(r instanceof HTMLElement||r instanceof SVGElement)&&p(r)},m=()=>{r._dG("_obs",new MutationObserver((function(e){for(let t of e)for(let e of t.addedNodes)(e instanceof HTMLElement||e instanceof SVGElement)&&(d(e),p(e),E(e))}))),window._obs.observe(document,{subtree:!0,childList:!0,attributes:!0})},g=e=>{const t={};for(let r in _){if(!_.hasOwnProperty(r))continue;const n=l(r);e.addEventListener(r,n),t[r]=n}return t},A=(e,t)=>{for(let r in t)t.hasOwnProperty(r)&&e.removeEventListener(r,t[r])}},374339:(e,t,r)=>{"use strict";r.d(t,{getAdAttribute:()=>u,hasAdElementAttributes:()=>E,hideAdAttributesOnTarget:()=>l,removeAdAttribute:()=>p,updateAdAttribute:()=>d});var n=r(540462),a=r(115939),s=r(33414);const _=()=>(0,n.partConfigEnabled)("post_adblock_protection_promo"),c=e=>e.replace(/^data-/,"");function l(e){if(!_())return;const t=a.AdBlockPostMasker.getInstance();e.matches(s.POST_SELECTOR_WHITELIST)&&(t.maskPost(e),e.removeAttribute(s.DATA_POST_LOCATOR_ATTR));const r=e.querySelectorAll(s.POST_SELECTOR_WHITELIST);for(const e of r)t.maskPost(e),e.removeAttribute(s.DATA_POST_LOCATOR_ATTR)}function u(e,t){if(!e)return null;const r=c(t);return _()?e.adAttrs?.[r]??e.getAttribute(`data-${r}`):e.getAttribute(`data-${r}`)}function d(e,t,r){if(!e)return;const n=c(t);_()?(e.adAttrs||(e.adAttrs={}),e.adAttrs[n]=r):e.setAttribute(`data-${n}`,r)}function p(e,t){if(!e)return;const r=c(t);_()?e&&e.adAttrs&&delete e.adAttrs[r]:e.removeAttribute(`data-${r}`)}function E(e){if(!e)return!1;const t=e.adAttrs&&0!==Object.keys(e.adAttrs).length;return!(!_()||!t)||!!e.getAttributeNames().find((e=>s.DATA_AD_ATTR_REGEXP.test(e)))}},33414:(e,t,r)=>{"use strict";r.d(t,{AD_LINKS_SELECTOR:()=>l,DATA_AD_ATTR_REGEXP:()=>u,DATA_AD_DETAILS_ATTR:()=>s,DATA_AD_RECCOMENDATION_INFO_ATTR:()=>_,DATA_ERID_MARKER_ATTR:()=>p,DATA_POST_LOCATOR_ATTR:()=>a,DATA_SMOKEGUARD_ATTR:()=>m,ERID_MARKER_PROP:()=>d,EVENT_HANDLER_SELECTORS_TO_HIDE:()=>E,FAKE_ALPHABET:()=>g,OBFUSCATED_ATTR:()=>A,POST_ACTION_MENU_ITEM_SELECTOR:()=>I,POST_MENU_OPENER_SELECTOR:()=>f,POST_OBFUSCATABLE_ELEMENT_SELECTOR:()=>y,POST_SELECTOR_WHITELIST:()=>c,smokeGuardElementClasses:()=>R});var n=r(398402);const a="data-post-locator",s="data-ad-details-link",_="data-ad-recommendation-info-link",c=`[${a}],${n.FEED_POST_INDICATOR_CLASSNAME_INDICATOR}`,l=["adaato","msadto"].map((e=>`a[href*="away.php?${e}="]`)).join(","),u=/^data-ad\b/,d="marker_id",p=`data-${d}`,E=[["click","wall.showIgnoreItemReasons"],["click","wall.adBlockClickStat"],["click","wall.markAsSpam"],["click","wall.ignoreAdsOwner"]],m="data-smokeguard",g=Array.from("0123456789abcdefghijklmnopqrstuvwxyzабвгдеклмнопртсефхцчшц".repeat(3)).sort((()=>Math.random()-.5)),A="smokeguard-obfuscated",f=[".ads_ad_action_menu_list",".ui_actions_menu_wrap"].join(", "),I=".PostHeaderActions .ui_actions_menu > .ui_actions_menu_item",y=[I,".PostHeaderSubtitle"].join(", "),R={HIDDEN:"SmokeGuardElement--hidden",VISIBLE:"SmokeGuardElement--visible"}},195995:(e,t,r)=>{"use strict";r.d(t,{obfuscateChildNodes:()=>l,obfuscateDataSmokeguardElements:()=>u});var n=r(33414),a=r(374339);const s=(e=!1)=>{const t=document.createElement(Math.random()>.5?"span":"div");return t.setAttribute("aria-hidden",e?"true":"false"),!e&&Math.random()>.5&&t.removeAttribute("aria-hidden"),t.classList.add("SmokeGuard__char"),e&&t.classList.add("SmokeGuard__char--fake"),t},_=({char:e,fake:t})=>{if(!t&&Math.random()>.7)return document.createTextNode(e);const r=s(t);return r.textContent=e,r},c=(e,t=!1,r=0)=>{if(0===e.length)return document.createTextNode("");if(1===e.length)return _(e[0]);const n=0===r?document.createDocumentFragment():s();if(t){const a=Math.trunc(Math.random()*(e.length-2)+1);n.append(c(e.slice(0,a),t,r+1),c(e.slice(a),t,r+1))}else for(const t of e)n.append(_(t));return n};function l(e,t=!1){if(!(0,a.getAdAttribute)(e,n.OBFUSCATED_ATTR)){for(const r of e.childNodes){if(r.nodeType===Node.TEXT_NODE&&r.textContent){const t=Array.from(r.textContent).reduce(((e,t,r)=>{if(e.push({char:t,fake:!1}),r%3==0||1===r){const t=n.FAKE_ALPHABET[Math.floor(Math.random()*n.FAKE_ALPHABET.length)];e.push({char:t,fake:!0})}return e}),[]),a=c(t);e.replaceChild(a,r)}t&&r.nodeType===Node.ELEMENT_NODE&&l(r,t)}(0,a.updateAdAttribute)(e,n.OBFUSCATED_ATTR,"true")}}function u(e){e.matches(`[${n.DATA_SMOKEGUARD_ATTR}]`)&&(l(e),e.replaceWith(...e.childNodes));const t=e.querySelectorAll(`[${n.DATA_SMOKEGUARD_ATTR}]`);for(const e of t)l(e),e.replaceWith(...e.childNodes)}},115939:(e,t,r)=>{"use strict";r.d(t,{AdBlockPostMasker:()=>l});var n=r(898848),a=r(558137),s=r(33414),_=r(195995),c=r(866467);class l{setAdBlockDetected(e){this.adBlockDetected=e}maskPost(e){this.shouldSkip(e)||(this.maskSubtitle(e),this.maskPostId(e),this.hideAdDetailsHref(e),this.hideReccomendationInfoHref(e),this.hideEridMarkerId(e),this.hideAdHtmlEventsHandlers(e),this.hideDataAdAttributes(e),this.hideAdAwayLinks(e),this.hideActionMenuItemHandlers(e),this.obfuscateNodes(e))}shouldSkip(e){return!!e.querySelector('img[src*="yandex.net/get-direct"]')}isMailRuAds(e){return e.id.startsWith("postadsite")}getOriginalPostId(e){return this.postIdMapping.maskedToOriginal[e]??e}getMaskedPostId(e){return this.postIdMapping.originalToMasked[e]??e}hideDataAdAttributes(e){const{attributes:t}=e;Object.values(t).filter((e=>s.DATA_AD_ATTR_REGEXP.test(e.nodeName))).forEach((t=>{e.adAttrs||(e.adAttrs={}),e.adAttrs[t.nodeName.replace("data-","")]=t.nodeValue,e.removeAttribute(t.nodeName)}))}maskSubtitle(e){const t="PostHeaderSubtitle__link",r=e.querySelector(".PostHeaderSubtitle");if(!r)return;const n=document.createElement("template");n.innerHTML=`<time class="${t} ${s.smokeGuardElementClasses.HIDDEN}">\n    <span class="rel_date rel_date_needs_update" abs_time="${(0,c.getLang)("global_just_now")}" time="${Math.trunc(Date.now()/1e3)}">\n    ${(0,c.getLang)("global_just_now")}\n    </span>\n    </time>`;let a=r.querySelector(`.${t}`);if(a){u(a),d(a,"click"),a.classList.add(s.smokeGuardElementClasses.VISIBLE);const e=a.querySelector("time");e?e.classList.add(s.smokeGuardElementClasses.VISIBLE):a.prepend(n.content)}else{a=document.createElement("a");const e=document.createElement("template");e.innerHTML=`<a class="${t} ${s.smokeGuardElementClasses.HIDDEN}" role="link">\n        ${n.innerHTML}\n      </a>`,r.prepend(e.content)}}hideActionMenuItemHandlers(e){const t=e.querySelector(s.POST_MENU_OPENER_SELECTOR);t&&(d(t,"mouseover"),d(t,"mouseout"));for(const t of e.querySelectorAll(s.POST_ACTION_MENU_ITEM_SELECTOR))d(t,"click")}hideAdHtmlEventsHandlers(e){for(const[t,r]of s.EVENT_HANDLER_SELECTORS_TO_HIDE){const n=[r[0].toUpperCase()+r.slice(1),r[0].toLowerCase()+r.slice(1)].map((e=>`[on${t}*="${e}"]`)).join(", ");e.matches(n)&&d(e,t);for(const r of e.querySelectorAll(n))d(r,t)}}hideEridMarkerId(e){const t=e.querySelector(`[${s.DATA_ERID_MARKER_ATTR}]`);t&&(t.adAttrs||(t.adAttrs={}),t.adAttrs[s.ERID_MARKER_PROP]=t.getAttribute(s.DATA_ERID_MARKER_ATTR),t.removeAttribute(s.DATA_ERID_MARKER_ATTR))}hideReccomendationInfoHref(e){const t=e.querySelector(`[${s.DATA_AD_RECCOMENDATION_INFO_ATTR}]`);t&&(t.removeAttribute(s.DATA_AD_RECCOMENDATION_INFO_ATTR),u(t))}hideAdDetailsHref(e){const t=e.querySelector(`[${s.DATA_AD_DETAILS_ATTR}]`);t&&(t.removeAttribute(s.DATA_AD_DETAILS_ATTR),t.href=`/away.php?to=${encodeURIComponent(t.href)}`,this.adBlockDetected&&(t.href=`${t.href}&delay=1`),u(t))}maskPostId(e){if(!this.isMailRuAds(e))return;const t=e.id;let r=parseInt(e.dataset.postAuthorId??"",10);if(!r){const e=(0,n.irand)(6,8);r=Math.trunc(Math.random()*10**e)}r=r>0?-1*r:r;const a=e.id.replace(/adsite_?/,`${r}_`);e.id=a,Object.defineProperty(e,"id",{get:()=>t,set:t=>e.setAttribute("id",t)}),this.postIdMapping.originalToMasked[t]=a,this.postIdMapping.maskedToOriginal[a]=t}hideAdAwayLinks(e){if(this.isMailRuAds(e))for(const t of e.querySelectorAll(s.AD_LINKS_SELECTOR)){if(this.adBlockDetected){const e=new URL(t.href);e.searchParams.append("delay","1"),t.href=e.href}u(t)}}obfuscateNodes(e){const t=e.querySelectorAll(s.POST_OBFUSCATABLE_ELEMENT_SELECTOR);for(let e of t)(0,_.obfuscateChildNodes)(e)}constructor(){this.postIdMapping={originalToMasked:{},maskedToOriginal:{}}}}function u(e){if(!e.hasAttribute("href"))return;const{href:t,target:r}=e;e.setAttribute("role","link"),e.removeAttribute("href"),e.removeAttribute("target"),e.adAttrs||(e.adAttrs={}),e.adAttrs.href=t,e.addEventListener("click",(()=>{e.setAttribute("href",t),e.setAttribute("target",r),setTimeout((()=>{e.removeAttribute("href"),e.removeAttribute("target")}),0)}))}function d(e,t){const r=`on${t}`,n=e?.[r];"function"==typeof n&&(e.addEventListener(t,n),e.removeAttribute(r))}l.getInstance=(0,a.makeSharedState)("adblock_protection/post_masker",(()=>new l),{version:1})},54998:(e,t,r)=>{"use strict";r.d(t,{checkIfInternalLink:()=>c,getNearestPost:()=>_,getPostElementBySelector:()=>l,isOnFeedPage:()=>s});var n=r(105330),a=r(398402);const s=()=>"feed"===window.cur?.module,_=(e,t="")=>{const r=(0,n.isMvk)()?a.MVK_WALL_ITEM_SELECTOR:a.WEB_WALL_POST_SELECTOR,s=t?`${a.FEED_POST_INDICATOR_CLASSNAME_INDICATOR}${t}`:r;return e?.closest(s)??null};function c(e){if(!e)return null;try{const t=decodeURIComponent(e),r=n.VK_URL_REGEX.test(t),a=new URL(t),s="/away.php"===a.pathname&&a.searchParams.has("to");return r&&!s}catch{return null}}function l(e,t){return t?t.querySelector(e):document.querySelector(e)}},398402:(e,t,r)=>{"use strict";r.d(t,{FEED_POST_INDICATOR_CLASSNAME_INDICATOR:()=>n,MVK_WALL_ITEM_SELECTOR:()=>s,WEB_WALL_POST_SELECTOR:()=>a});const n=".feed_post_indicator",a=`.post, .wl_post, ${n}`,s=`.wall_item, .post_item, .js-wall_item, ${n}`},111476:(e,t,r)=>{"use strict";r.d(t,{FeedDonutPaymentStats:()=>s});var n=r(314309),a=r(317216);const s={paymentFromLikes(e,t,r,s){r&&n.feedPostDonutPaymentStatsCollector.logEvent({subtype:a.FeedPostDonutPaymentEventSubtypeTypes.LIKES_ACTIVITY},{id:e,owner_id:t,track_code:r,type:a.EventItemType.POST},s??void 0)},paymentFromFooter(e,t,r,s){r&&n.feedPostDonutPaymentStatsCollector.logEvent({subtype:a.FeedPostDonutPaymentEventSubtypeTypes.FOOTER},{id:e,owner_id:t,track_code:r,type:a.EventItemType.POST},s??void 0)}}},457872:(e,t,r)=>{"use strict";r.d(t,{FeedPostMenuStats:()=>s});var n=r(660521),a=r(317216);const s={sendDonut(e,t){e&&n.feedItemMenuActionCollector.logEvent({action:"send_donut"},{track_code:e,type:a.EventItemType.POST},t??void 0)},postStat(e,t){e&&n.feedItemMenuActionCollector.logEvent({action:"post_stat"},{track_code:e,type:a.EventItemType.POST},t??void 0)},editPost(e,t){e&&n.feedItemMenuActionCollector.logEvent({action:"edit_post"},{track_code:e,type:a.EventItemType.POST},t??void 0)},copyERID(e,t){e&&n.feedItemMenuActionCollector.logEvent({action:"copy_erid"},{track_code:e,type:a.EventItemType.ADS},t??void 0)},openAdvertiserInfo(e,t){e&&n.feedItemMenuActionCollector.logEvent({action:"open_advertiser_info"},{track_code:e,type:a.EventItemType.ADS},t??void 0)},deletePost(e,t){e&&n.feedItemMenuActionCollector.logEvent({action:"delete_post"},{track_code:e,type:a.EventItemType.POST},t??void 0)},closeComments(e,t){e&&n.feedItemMenuActionCollector.logEvent({action:"close_comments"},{track_code:e,type:a.EventItemType.POST},t??void 0)},openComments(e,t){e&&n.feedItemMenuActionCollector.logEvent({action:"open_comments"},{track_code:e,type:a.EventItemType.POST},t??void 0)},archivePost(e,t){e&&n.feedItemMenuActionCollector.logEvent({action:"archive_post"},{track_code:e,type:a.EventItemType.POST},t??void 0)},clickToDots(e,t,r=a.EventItemType.POST){e&&n.feedItemMenuActionCollector.logEvent({action:"click_to_dots"},{track_code:e,type:r},t??void 0)},copyLink(e,t,r=a.EventItemType.POST){e&&n.feedItemMenuActionCollector.logEvent({action:"copy_link"},{track_code:e,type:r},t??void 0)},makeDonutPostPublic(e,t,r=a.EventItemType.POST){e&&n.feedItemMenuActionCollector.logEvent({action:"make_donut_post_public"},{track_code:e,type:r},t??void 0)},openOriginal(e,t,r=a.EventItemType.POST){e&&n.feedItemMenuActionCollector.logEvent({action:"open_original"},{track_code:e,type:r},t??void 0)}}},24744:(e,t,r)=>{"use strict";r.d(t,{useBodyPropertyNumberValue:()=>a});var n=r(296540);const a=e=>(0,n.useSyncExternalStore)((e=>(window.addEventListener("spaReady",e),()=>window.removeEventListener("spaReady",e))),(()=>function(e){return parseInt(getComputedStyle(document.body).getPropertyValue(e),10)||0}(e)))},990275:(e,t,r)=>{"use strict";r.d(t,{useHeaderHeight:()=>a});var n=r(24744);const a=()=>(0,n.useBodyPropertyNumberValue)("--header-height")},907678:(e,t,r)=>{"use strict";r.d(t,{usePageBlockOffset:()=>a});var n=r(24744);const a=()=>(0,n.useBodyPropertyNumberValue)("--page-block-offset")},650353:(e,t,r)=>{"use strict";r.d(t,{convertAttachesToPhpMedia:()=>m,convertKludgesToAttaches:()=>E,isEventForMarusia:()=>f,isOnboardingFindFriendsLink:()=>A,isPinnedSortId:()=>g});var n=r(898848),a=r(312641),s=r(105330),_=r(89473),c=r(182622);function l(e,t=[]){const[r,n]=e.split("_");return[r,n,t]}function u(e,t,r=0,n=0){if(n>50)return[[],e.length];const a=[];let s="";for(;r<e.length;){const _=e[r];if("id"===_)s=t[r];else if(","===_&&s)a.push(l(s)),s="";else if("("===_){const[_,c]=u(e,t,r+1,n+1);r=c,a.push(l(s,_)),s=""}else if(")"===_)return""!==s&&a.push(l(s)),[a,r];r++}return s&&a.push(l(s)),[a,r]}let d={};function p(e){if(d[e])return d[e];const t=e?e.length:0,r=[],n=[];let a="";for(let s=0;s<t;s++){const t=e[s],_=t.charCodeAt(0);_>=48&&_<=57||"_"===t||"-"===t?a+=t:"("!==t&&")"!==t&&":"!==t&&","!==t||(""!==a&&(n.push(a),r.push("id"),a=""),n.push(t),r.push(t))}a.length>0&&(n.push(a),r.push("id"));const[s]=u(r,n);return Object.keys(d).length>300&&(d={}),d[e]=s,s}function E(e,t){const r=[];e.fwd_count?r.push({type:"mail",id:-t,object:{fwd_count:e.fwd_count}}):e.fwd&&r.push({type:"mail",id:-t,object:{fwd_count:p(e.fwd).length}});for(let t=1;e[`attach${t}_type`];++t)switch(e[`attach${t}_type`]){case"call":r.push({type:e[`attach${t}_type`],id:e[`attach${t}`],initiatorId:(0,n.intval)(e[`attach${t}_call_initiator_id`]),state:e[`attach${t}_call_state`],duration:(0,n.intval)(e[`attach${t}_call_duration`]),receiverId:(0,n.intval)(e[`attach${t}_call_receiver_id`])});break;case"doc":if("audiomsg"===e[`attach${t}_kind`]){const n=e.attachments?JSON.parse(e.attachments)[0]:{};r.push({type:e[`attach${t}_type`],kind:"audio_message",id:e[`attach${t}`],audio_message:n.audio_message});break}default:r.push({type:e[`attach${t}_type`],id:e[`attach${t}`],kind:e[`attach${t}_kind`],productId:e[`attach${t}_product_id`]})}return e.geo&&r.push({type:"geo",id:e.geo}),r}function m(e){return e.map((e=>{const t="audiomsg"===e[2]?"audio_message":e[2];return`${e[0]}:${e[1]}:${t}`})).join(",")}function g(e){return e>0&&(e|a.PINNED_CONVERSATION_BIT_MASK)===a.PINNED_CONVERSATION_BIT_MASK}function A(e){return new RegExp(`(^(https?:\\/\\/)?([a-z0-9_\\-.]+\\.)?${s.VK_SITE_REGEX_SOURCE_UNSAFE})?\\/onboarding_find_friends`).test(decodeURIComponent(e))}function f(e){return e.type===_.ADD_MESSAGE&&(0,c.isMarusiaPeer)(e.peerId)}},979805:(e,t,r)=>{"use strict";r.d(t,{getMessageFromTuple:()=>_,hasUserMentions:()=>c});var n=r(12473),a=r(650353),s=r(810068);const _=([e,t,r,_,c,l,u,d,p,E])=>{const m=Object.assign({},l||{},u||{});return Array.isArray(m.marked_users)&&(m.marked_users=m.marked_users.filter((e=>Object.values(n.MARKED_TYPE).includes(e[0])))),{messageId:e,flags:t,peerId:r,date:_,attaches:(0,a.convertKludgesToAttaches)(m,e),subject:m.title||"",text:c,kludges:m,randomId:d,userId:s.Ranges.isChatOrChannelPeer(r)?Number(m.from)||0:r,update_time:E,chat_local_id:p}};function c(e,t){return!!e.kludges&&(e.kludges.marked_users||[]).some((e=>{if(e[0]!==n.MARKED_TYPE.MENTIONS)return!1;switch(e[1]){case"all":return!0;case"online":return e[2].includes(t);default:return e[1].includes(t)}}))}},89473:(e,t,r)=>{"use strict";r.d(t,{ADD_MESSAGE:()=>d,CHANGE_PEER:()=>x,CHANGE_TAB:()=>F,CONVERSATION_UPDATED:()=>I,CONVO_MAJOR_ID_CHANGED:()=>X,CONVO_MINOR_ID_CHANGED:()=>Q,DELETE_DIALOG:()=>W,EDIT_MESSAGE:()=>H,FAILED_MESSAGE:()=>V,FLAG_AUDIO_MESSAGE_LISTENED:()=>se,FLAG_DELETED:()=>re,FLAG_DELETE_BY_TTL:()=>_e,FLAG_HAS_REACTIONS:()=>ce,FLAG_HAS_REPLY:()=>ae,FLAG_IMPORTANT:()=>oe,FLAG_OUTBOUND:()=>te,FLAG_SPAM:()=>ie,FLAG_STEALTH:()=>ne,FOLDER_AD_TAG:()=>pe,FOLDER_HAS_BANNER:()=>de,FOLDER_IMPORTANT:()=>ue,INVALIDATE_MESSAGE:()=>j,KEYBOARD_CALLBACK_RECEIVED:()=>P,MAIL_CHAT_FLAG_DISABLE_STICKERS_POPUP_AUTOPLAY:()=>le,MAIL_CHAT_UPDATE_TYPE_ADMIN_GRANTED:()=>Ee,MAIL_CHAT_UPDATE_TYPE_ADMIN_KICKED:()=>fe,MAIL_CHAT_UPDATE_TYPE_BANNER_CHANGED:()=>Ie,MAIL_CHAT_UPDATE_TYPE_BUSINESS_NOTIFY_DATA_CHANGED:()=>Se,MAIL_CHAT_UPDATE_TYPE_CALL_IN_PROGRESS_CHANGED:()=>Te,MAIL_CHAT_UPDATE_TYPE_CONTACT_CONVERTED:()=>Oe,MAIL_CHAT_UPDATE_TYPE_FLAGS_CHANGED:()=>he,MAIL_CHAT_UPDATE_TYPE_IS_NEW_CHANGED:()=>Pe,MAIL_CHAT_UPDATE_TYPE_KEYBOARD_CHANGED:()=>ye,MAIL_CHAT_UPDATE_TYPE_MESSAGE_REQUEST_CHANGED:()=>Re,MAIL_CHAT_UPDATE_TYPE_PINNED:()=>me,MAIL_CHAT_UPDATE_TYPE_USER_JOINED:()=>ge,MAIL_CHAT_UPDATE_TYPE_USER_KICKED:()=>ve,MAIL_CHAT_UPDATE_TYPE_USER_LEFT:()=>Ae,MESSAGE_REQUEST_STATUS_ACCEPTED:()=>be,MESSAGE_REQUEST_STATUS_NEW:()=>Ce,MESSAGE_REQUEST_STATUS_REJECTED:()=>we,MUTEX:()=>B,NOTIFY_SETTINGS_CHANGED:()=>T,PEER_PROFILE_TAGS_CHANGED_EVENT:()=>Z,PEER_TAGS_CHANGED_EVENT:()=>J,REACTION_CREATE_OR_EDIT_EVENT:()=>ee,READ_INBOUND:()=>p,READ_INBOUND_BY_CMID:()=>m,READ_OUTBOUND:()=>E,READ_OUTBOUND_BY_CMID:()=>A,RECONNECTED:()=>q,RECONNECTING:()=>z,RECORDING_AUDIO:()=>R,REFRESH_LP_KEY:()=>N,REPLACE_DIRECTORIES:()=>D,REPLACE_FLAGS:()=>l,REPLACE_MESSAGE:()=>G,RESEND:()=>K,RESET_DIRECTORIES:()=>C,RESET_FLAGS:()=>u,RESET_PEER:()=>U,RESYNC:()=>L,SET_DIRECTORIES:()=>M,SET_FLAGS:()=>c,TRANSITION:()=>k,TYPING:()=>y,UNREAD_COUNT:()=>S,UNREAD_REACTIONS:()=>g,WAITING_FOR_RECONNECT:()=>Y,constructEvent:()=>s,mutexEvent:()=>Ue,readInboundByCmidEvent:()=>Ne,readInboundEvent:()=>De,resetDirectoriesEvent:()=>Me,resyncEvent:()=>ke,setDirectoriesEvent:()=>Le});var n=r(979805),a=r(898848);function s(e){switch(e[0]){case 0:return function([,e]){return{type:_,localId:e}}(e);case 1:return function([,e,t,r]){return{type:l,messageId:e,mask:t,peerId:r}}(e);case 2:return function([,e,t,r]){return{type:c,messageId:e,flags:t,peerId:r}}(e);case 3:return function([,e,t,r]){return{type:u,messageId:e,flags:t,peerId:r}}(e);case 4:return function([,e,t,r,a,s,_,c,l,u,p,E]){return{type:d,...(0,n.getMessageFromTuple)([Number(e),Number(t),Number(a),Number(s),_,c,l,u,p,E]),minorSortId:r}}(e);case 5:return function([,e,t,r,a,s,_,c,l,u,d]){return{type:H,...(0,n.getMessageFromTuple)([Number(e),Number(t),Number(r),Number(a),s,_,c,l,u,d])}}(e);case 6:return De(e);case 7:return function([,e,t,r]){return{type:E,peerId:e,upToId:t,unread:r}}(e);case 10:return Me(e);case 11:return function([,e,t]){return{type:D,peerId:e,mask:t}}(e);case 12:return Le(e);case 13:return function([,e,t,r]){return{type:W,peerId:e,localId:t,leaveChat:r}}(e);case 18:return function([,e,t,r,a,s,_,c,l,u,d]){return{type:G,...(0,n.getMessageFromTuple)([Number(e),Number(t),Number(r),Number(a),s,_,c,l,u,d])}}(e);case 19:return function([,e]){return{type:j,messageId:e}}(e);case 20:return function([,e,t]){return{type:X,peerId:e,majorId:t}}(e);case 21:return function([,e,t]){return{type:Q,peerId:e,minorId:t}}(e);case 23:return function([,e,t]){return{type:J,peerId:e,peerTagsMask:t}}(e);case 51:return function([,e,t]){return{type:f,chatId:e,self:t}}(e);case 52:return function([,e,t,r]){return{type:I,peerId:t,updateType:e,updateArg:r}}(e);case 63:return function([,e,t,r,n]){return{type:y,peerId:e,userIds:t,totalCount:r,ts:n}}(e);case 64:return function([,e,t,r,n]){return{type:R,peerId:e,userIds:t,totalCount:r,ts:n}}(e);case 70:return function([,e,t]){return{type:O,userId:e,callId:t}}(e);case 80:return function([,e,t,r,n,a,s,_,c,l]){return{type:S,count:e,countNotMuted:t,showOnlyNotMuted:r,businessNotifyUnread:n,headerTotalUnread:a,headerNotMutedUnread:s,archiveUnreadCount:_,archiveUnreadUnmutedCount:c,archiveMentionsCount:l}}(e);case 114:return function([,e]){const{peer_id:t,sound:r,disabled_until:n}=e||{};return{type:T,peerId:t,sound:r,disabledUntil:n}}(e);case 115:return function([,e]){return{type:$,payload:e}}(e);case 119:return function([,e]){const{event_id:t,owner_id:r,peer_id:n,action:a}=e;return{type:P,event_id:t,owner_id:r,peer_id:n,action:a}}(e);case 120:return function([]){return{type:Z}}(e);case 601:return function([,e,...t]){const r=[],n=1===e?t.splice(2,1).pop():void 0,[a,s,_,...c]=t;for(let e=0;e<_;e++){const e=c.shift(),[t,n,,...a]=c.splice(0,e);r.push({reaction_id:t,count:n,...a?{user_ids:a}:void 0})}return{type:ee,subtype:e,peerId:a,cmid:s,reactionsCount:_,reactionCounters:r,...n?{reactionId:n}:void 0}}(e);case 602:return function([,e,t,...r]){return{type:g,peerId:e,totalCount:t,cmids:r}}(e);case 10006:return Ne(e);case 10007:return function([,e,t,r]){return{type:A,peerId:e,upToCmid:t,unread:r}}(e);case-1:return ke();case-2:return function([,e,t]){return{type:N,key:e,url:t}}(e);case-3:return function([,e]){return{type:Y,timeout:e}}(e);case-4:return{type:z};case-5:return{type:q};default:return function(e){return{type:b,params:e}}(e)}}const _="event_delete",c="event_set_flags",l="event_replace_flags",u="event_reset_flags",d="event_add_message",p="event_read_inbound",E="event_read_outbound",m="event_read_inbound_by_cmid",g="event_unread_reactions",A="event_read_outbound_by_cmid",f="event_chat_changed",I="event_chat_updated",y="event_typing",R="event_recoding_audio",O="event_video_call",S="event_unread_count",T="event_notify_settings_changed",P="event_keyboard_callback_received",b="event_empty",C="event_reset_directories",D="event_replace_directories",M="event_set_directories",L="event_resync",N="event_refresh_lp_key",k="transition_event",U="reset_peer",B="mutex",x="change_peer",F="event_change_tab",V="event_failed_message",K="event_resend",W="event_delete_dialog",H="event_edit_message",G="event_replace_message",j="event_invalidate_event",Y="event_waiting_for_reconnect",z="event_reconnecting",q="event_reconnected",$="incoming_call",X="event_convo_major_id_changed",Q="event_convo_minor_id_changed",J="peer_tags_changed",Z="peer_profile_tags_changed",ee="reaction_create_or_edit",te=2,oe=8,ie=64,re=128,ne=65536,ae=1<<21,se=4096,_e=1<<22,ce=1<<24,le=549755813888,ue=1,de=8,pe=32768,Ee=3,he=4,me=5,ge=6,Ae=7,ve=8,fe=9,Ie=10,ye=11,Re=12,Oe=13,Se=14,Te=19,Pe=22,be=1,we=2,Ce=3;function De([,e,t,r]){return{type:p,peerId:e,upToId:t,unread:r}}function Me([,e,t,r=!1]){return{type:C,peerId:e,mask:t,local:r}}function Le([,e,t,r=!1]){return{type:M,peerId:e,mask:t,local:r}}function Ne([,e,t,r]){return{type:m,peerId:e,upToCmid:t,unread:r}}function ke(){return{type:L}}function Ue([,e,t,r,n,s]){return{type:B,free:!!(0,a.intval)(e)||(0,a.intval)(n)===window.vk.id,resource:t,peerId:(0,a.intval)(r),who:(0,a.intval)(n),name:s}}},182622:(e,t,r)=>{"use strict";function n(e){return 100===e}function a(e){return 333===e}function s(e){return-194070336===e}r.d(t,{isMarusiaPeer:()=>s,isSupportAgentPeer:()=>a,isVkAdminPeer:()=>n})},12473:(e,t,r)=>{"use strict";r.d(t,{AttachmentType:()=>a,MARKED_TYPE:()=>n});var n=function(e){return e[e.MENTIONS=1]="MENTIONS",e[e.CASPER=2]="CASPER",e}({}),a=function(e){return e.REPLY="reply",e.DOCUMENT="doc",e.MAIL="mail",e.CALL="call",e.STICKER="sticker",e.UGC_STICKER="ugc_sticker",e}({})},19589:(e,t,r)=>{"use strict";r.d(t,{ColorScheme:()=>c,ColorSchemeMode:()=>_.ColorSchemeMode,ColorSchemeName:()=>_.ColorSchemeName,colorScheme:()=>l});var n=r(396858),a=r(105330),s=r(636576),_=r(564048);class c{init(e){if(this.isExecuted)return;if(this.schemesMap=e.schemesMap,this.setMode(e.mode),this.initSubscribers.forEach((e=>{e()})),(0,s.statlogsValueEvent)("web_dark_theme",this.getMode(),this.getScheme(),Number(this.isDarkScheme())),!c.isSchemesAutoSwitchingSupported())return;window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(e=>{this.currentMode===_.ColorSchemeMode.Auto&&this.setScheme(e.matches)})),this.isExecuted=!0}setScheme(e){c.isSchemesSupported()&&(this.applyScheme(document.body,e?_.ColorSchemeName.Dark:_.ColorSchemeName.Light),this.currentIsDark=e,document.querySelector("meta[name=theme-color]")?.setAttribute("content",e?_.SchemeColors.Dark:_.SchemeColors.Light),document.querySelector("meta[name=color-scheme]")?.setAttribute("content",e?"dark":"light"),this.isSchemeSavingAllowed&&(0,n.setCookie)("remixdark_color_scheme",Number(e),365),this.subscribers.forEach((e=>{e()})))}static getAppearanceByScheme(){switch(document.body.getAttribute("scheme")){case _.ColorSchemeName.Dark:case _.ColorSchemeName.WebDark:return"dark"}return"light"}isDarkScheme(){return this.currentIsDark}getMode(){return this.currentMode}getColorModeFromValue(e){const t=Object.values(_.ColorSchemeMode).find((t=>t===e));return t||null}setMode(e){let t=!1;switch(e){case _.ColorSchemeMode.Light:t=!1;break;case _.ColorSchemeMode.Dark:t=!0;break;case _.ColorSchemeMode.Auto:if(c.isSchemesAutoSwitchingSupported()){t=window.matchMedia("(prefers-color-scheme: dark)").matches}else e=_.ColorSchemeMode.Light}this.currentMode=e,this.setScheme(t),this.isModeSavingAllowed&&(0,n.setCookie)("remixcolor_scheme_mode",e,365)}getScheme(){return(0,a.isMvk)()?this.getMVKScheme():this.getWebScheme()}getMVKScheme(){return this.isDarkScheme()?_.ColorSchemeName.Dark:_.ColorSchemeName.Light}getWebScheme(){return this.isDarkScheme()?_.ColorSchemeName.WebDark:_.ColorSchemeName.WebLight}applyScheme(e,t){const r=this.schemesMap?.[t]||t;e.setAttribute("scheme",r)}subscribe(e){return this.subscribers.push(e),()=>{this.subscribers=this.subscribers.filter((t=>e!==t))}}onInit(e){return this.initSubscribers.push(e),()=>{this.initSubscribers=this.initSubscribers.filter((t=>e!==t))}}static isSchemesSupported(){return window.CSS&&CSS.supports&&CSS.supports("color","var(--custom-property)")}static isSchemesAutoSwitchingSupported(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme)").matches}constructor(){this.subscribers=[],this.initSubscribers=[],this.isExecuted=!1,this.isModeSavingAllowed=!0,this.isSchemeSavingAllowed=!0}}let l;l=window.colorScheme?window.colorScheme:new c,r._dG("colorScheme",l),r._dG("isSchemesSupported",c.isSchemesSupported.bind(null))},253003:(e,t,r)=>{"use strict";r.d(t,{processWaf:()=>g});var n=r(540462),a=r(105330);const s=429,_="429.html",c="X-WAF-Redirect",l="waf_ajax_request_enabled",u="mvk_waf_ajax_request_enabled";function d(){return!(0,n.partConfigEnabled)("challenge_ajax_requests")&&(0,n.partConfigEnabled)((0,a.isMvk)()?u:l)}function p(e=""){return d()&&""!==e}let E=!1;function m(){E||(E=!0,location.reload())}function g(e){if(!d())return!1;let t=!1;if(e instanceof XMLHttpRequest){let r;try{r=e.getResponseHeader(c)}catch(e){}t=p(r||"")}else e&&(t=function(e){return d()&&e.status===s&&e.source===_}(e));return t&&m(),t}},725669:(e,t,r)=>{"use strict";r.d(t,{asyncComponent:()=>s});var n=r(296540),a=r(8520);function s(e,t){return(0,n.lazy)((()=>(0,a.asyncImportLoader)(e,3).then((e=>({default:t(e)})))))}},842212:(e,t,r)=>{"use strict";r.d(t,{getAbsoluteUrl:()=>u,isAtBookmakerHost:()=>S,prepareHref:()=>T,processBookmakersStaticRouter:()=>O});var n=r(794662),a=r(456961),s=r(298077),_=r(105330),c=r(540462),l=r(768035);function u(e,t){void 0===t&&(0,_.isMvk)()&&(t="m");const{protocol:r}=window.location;return`${r}//${[t,(0,_.getHostName)()].filter(Boolean).join(".")}/${e.replace(/^\//,"")}`}function d(){const e=window.location.host.split(".");if(!(e.length<3||"m"===e[1]&&e.length>4||"m"!==e[1]&&e.length>3))return e[0]}function p(e){return(0,_.isMvk)()?`${e}.m`:e}function E(e){return(0,c.getConfigValue)("special_subdomains_groups")?.find((t=>t[1]===e))}function m(e,t){return d()!==e&&(window.location.href=u(t,p(e)),!0)}function g(e){const t=d();return!(!t||!E(t))&&(window.location.href=u(e),!0)}function A(){return!!(0,c.partConfigEnabled)("video_mobile_search_bookmakers_redirect_fix")&&(0,_.isMvkVKVideo)()}function f(e){let t;return e.ownerId?Number(e.ownerId):e.groupId?-Number(e.groupId):(t=e.rawId||e.accessRawId,t?function(e){try{return(0,l.parseRawId)(e).ownerId}catch(e){return(0,s.logError)(e),null}}(t):null)}function I({z:e,w:t}){if(e){const[,t]=(0,n.matchPath)(["clip:ownerId(-?\\d+)_:videoId(\\d+)"],String(e));if(t&&t.ownerId)return parseInt(t.ownerId)}if(t){const[,e]=(0,n.matchPath)(["wall:ownerId(-?\\d+)_:postId(\\d+)"],String(t));if(e&&e.ownerId)return parseInt(e.ownerId)}return null}function y(e,t){if(e.oid&&t.oid)return Number(t.oid);if(e.owner_id&&t.owner_id)return Number(t.owner_id);if(e.group_id&&t.group_id)return-Number(t.group_id);if(e.gid&&t.gid)return-Number(t.gid);if(e.community&&t.community)return-Number(t.community);if(e.list&&t.list&&"string"==typeof t.list){const e=t.list.match(/group\-(\d+)/)?.[1];if(e)return-Number(e)}return null}function R(e,t){const[r,n=""]=t.split("?"),s=r.replace(/^\//,"");let _=null;(0,c.partConfigEnabled)("clips_bookmaker_redirect")&&(_=I(a.Router.parseSearch(n)));for(let e of(0,c.getConfigValue)("special_subdomains_groups")??[]){const[t,r,n]=e;if(_===t||s===n)return r}const{route:l,routeParams:u}=a.Router.syncMatchRoutesConfig({routesConfig:e,pathname:r,path:t,search:n,partConfigEnabled:()=>!0});if(!l||l.bookmakerRedirectDisabled&&!(0,c.partConfigEnabled)("clips_bookmaker_redirect"))return null;if(_=u&&f(u),!_&&l.query&&(_=y(l.query,a.Router.parseSearch(n))),!_&&!u?.screenName)return null;for(let e of(0,c.getConfigValue)("special_subdomains_groups")??[]){const[t,r,n]=e;if(_===t||u?.screenName===n)return r}return null}async function O(e,t,r){try{const n=await async function(e,t,r){const[n,s=""]=t.split("?"),_=n.replace(/^\//,"");let l=null;(0,c.partConfigEnabled)("clips_bookmaker_redirect")&&(l=I(a.Router.parseSearch(s)));for(let e of(0,c.getConfigValue)("special_subdomains_groups")??[]){const[t,r,n]=e;if(l===t||_===n)return r}const{route:u,routeParams:d}=await a.Router.matchRoutesConfig({routesConfig:e,pathname:n,search:s,path:t,partConfigEnabled:()=>!0,dynamicMatch:r});if(!u||u.bookmakerRedirectDisabled&&!(0,c.partConfigEnabled)("clips_bookmaker_redirect"))return null;if(l=d&&f(d),!l&&u.query&&(l=y(u.query,a.Router.parseSearch(s))),!l&&!d?.screenName)return null;for(let e of(0,c.getConfigValue)("special_subdomains_groups")??[]){const[t,r,n]=e;if(l===t||d?.screenName===n)return r}return null}(e,t,r);return!A()&&n?((0,c.partConfigEnabled)("clips_bookmaker_redirect_for_clip")&&(t=function(e,t){const r=t.match(/clip(-\d+)_(\d+)(\?.*)?$/);if(!r)return t;const n=r[1],a=r[2],s=r[3]??"",c=`clips/${e}`;let l="";l=(0,_.isMvk)()?`${e}/feed/clip${n}_${a}${s}`:`${c}?z=clip${n}_${a}${s?`&${s.slice(1)}`:""}`;return l}(n,t)),m(n,t)):g(t)}catch(e){(0,s.logError)(e,{breadcrumb:{data:{path:t}}})}}function S(){const e=d();return!(!e||!E(e))}function T(e){const t=e.replace(/^\//,""),r=R({group:{path:"/club:groupId(\\d+)",module:"",screen:""},public:{path:"/public:groupId(\\d+)",module:"",screen:""}},t);return r?u(t,p(r)):e}},279782:(e,t,r)=>{"use strict";r.d(t,{prepareHref:()=>n.prepareHref,processBookmakersStaticRouter:()=>n.processBookmakersStaticRouter});var n=r(842212)},416368:(e,t,r)=>{"use strict";r.d(t,{processChallenge:()=>u,processFetchChallenge:()=>d});var n=r(540462);const a="X-Challenge",s="X-Challenge-Url";let _=!1;function c(e){_||((0,n.partConfigEnabled)("is_not_defined_errors_redirect")&&window.dispatchEvent(new CustomEvent("redirect-challenge")),_=!0,r._dG("isRedirectChallenge",!0),window.location.href=e)}function l(e){return`${e}=${encodeURIComponent(window.location.pathname+window.location.search)}`}function u(e){if(!(0,n.partConfigEnabled)("challenge_ajax_requests"))return!1;if(e instanceof XMLHttpRequest)try{if("required"===e.getResponseHeader(a))return c(e.getResponseHeader(s)+"?"+l("back")),!0}catch(e){}return!1}function d(e){if(!(0,n.partConfigEnabled)("challenge_ajax_requests"))return!1;if(e)try{if("required"===e.headers.get(a))return c(e.headers.get(s)+"?"+l("back")),!0}catch{}return!1}},695847:(e,t,r)=>{"use strict";function n(e){return navigator.clipboard?function(e){return navigator.clipboard.writeText(e)}(e):(a(e),Promise.resolve())}function a(e){const t=document.createElement("input"),r=document.activeElement;t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),r.focus()}r.d(t,{_copyWithFakeElement:()=>a,copyToClipboard:()=>n})},353557:(e,t,r)=>{"use strict";function n(e,t){let r;e=Math.max(e,0);const n=Math.floor(e%60);r=n<10?"0"+n:n;const a=(e=Math.floor(e/60))%60;return r=a+":"+r,((e=Math.floor(e/60))>0||t)&&(a<10&&(r="0"+r),r=e+":"+r),r}r.d(t,{formatTime:()=>n})},203763:(e,t,r)=>{"use strict";r.d(t,{dedupeAsyncCallback:()=>a});var n=r(8520);function a(e,t=(...e)=>e){const r=new Map;return(...a)=>{const s=t(...a);for(const[e,t]of r.entries())if((0,n.isEqual)(s,e))return t;const _=e(...a);return r.set(s,_),_.finally((()=>{r.delete(s)})),_}}},581197:(e,t,r)=>{"use strict";r.d(t,{createElementFromHTML:()=>s,emptyNode:()=>_,findChildOrSelf:()=>g,getElementOffset:()=>c,getElementSize:()=>d,getH:()=>y,getJsonDataValue:()=>p,getSize:()=>a,getViewportSize:()=>l,getW:()=>I,getXY:()=>A,hide:()=>O,isVisibleInViewPort:()=>u,setGlobalCustomProperty:()=>E,show:()=>R,triggerAnimationClass:()=>m});var n=r(575753);function a(e){return[e&&e.offsetWidth||0,e&&e.offsetHeight||0]}function s(e){const t=document.createElement("div");return t.innerHTML=e,t.firstElementChild}function _(e){if(e)for(;e.firstChild;)e.removeChild(e.firstChild)}function c(e){const t=e.getBoundingClientRect();return{left:t.left,top:t.top}}function l(){const{clientWidth:e,clientHeight:t}=document.documentElement;return{width:e,height:t}}function u(e,t=0){const r=e.getBoundingClientRect(),n=r.height*t,a=Math.max(document.documentElement.clientHeight,window.innerHeight);return r.bottom-n>0&&r.top-a+n<=0}function d(e){const{width:t,height:r}=e.getBoundingClientRect();return t&&r?{width:t,height:r}:{width:e.offsetWidth,height:e.offsetHeight}}const p=(e,t)=>{const r=e.getAttribute(t);if(r)try{return JSON.parse(r)}catch(e){return}},E=(e,t)=>{document.documentElement.style.setProperty(e,t)},m=(e,t,r)=>{e.classList.add(t),setTimeout((()=>{e.classList.remove(t)}),r)};function g(e,t){return e.matches(t)?e:e.querySelector(t)}function A(e){if(!e)return[0,0];const t=e.getBoundingClientRect();return[t.left+window.scrollX,t.top+window.scrollY]}const f=(e,t,r)=>{let n,a=[0,0];if(t&&e&&"border-box"===e.style.boxSizing&&(t=!1),e){function s(){e&&void 0!==e.getBoundingClientRect&&(n=function(e,t){let r;if(t&&"inline"===e?.style.display){const t=e.getClientRects();r=t&&t[0]||e.getBoundingClientRect()}else r=e?.getBoundingClientRect();return r}(e,r))&&void 0!==n.width?a=[n.width,n.height]:e&&(a=[e.offsetWidth,e.offsetHeight]),t&&a.forEach((t=>{(t?["Top","Bottom"]:["Left","Right"]).forEach((r=>{a[t]-=Number(e?.style[`padding${r}`])||0,a[t]-=Number(e?.style[`border${r}Width`])||0}))}))}if("none"===e.style.display){const _={position:"absolute",visibility:"hidden",display:"block"},c={},l=e.style.cssText.includes("!important")?e.style.cssText:"";Object.keys(_).forEach((t=>{const r=t;c[r]=e.style[t],e.style[r]=_[t]})),s(),Object.keys(_).forEach((t=>{e.style[t]=c[t]})),l&&(e.style.cssText=l)}else s()}return a};function I(e){return f(e)[0]}function y(e){return f(e)[1]}function R(...e){const t=e.length;if(t>1){for(let r=0;r<t;r++)R(e[r]);return}const r=e[0],a=r.olddisplay;if(r.style.display=a||"",function(e){const t=e?.style?.display;return!(!e||"none"===t)&&"none"!==getComputedStyle(e,null).display}(r))return;const s=r.tagName.toLowerCase();let _="block";r.classList.contains("inline")||r.classList.contains("_inline")||r.classList.contains("_i")?_="inline":r.classList.contains("_inline_block")||r.classList.contains("_ib")?_="inline-block":r.classList.contains("_flex")?_="flex":"tr"!==s||n.browser.msie?"table"!==s||n.browser.msie||(_="table"):_="table-row",r.style.display=r.olddisplay=_}function O(...e){const t=e.length;if(t>1){for(let r=0;r<t;r++)O(e[r]);return}const r=e[0],n=r.style.display;r.olddisplay="none"!==n?n:"",r.style.display="none"}},658961:(e,t,r)=>{"use strict";r.d(t,{getBrowserFingerprint:()=>a});var n=r(396858);function a(){return(0,n.getCookie)("remixgp")}},298077:(e,t,r)=>{"use strict";r.d(t,{logError:()=>s,logEvalError:()=>c,logUnknownError:()=>_});var n=r(540462),a=r(501397);function s(e,t={}){window?.vk?.static?.init_entries?.includes("sentry.js")||window?.vk?.static?.init_entries?.includes("tracer.js");(0,a.logError)(e,t),(0,n.partConfigEnabled)("webinf_show_error_logs")&&window?.console.error(e)}function _(e){if(e instanceof Error)return void s(e);let t="unknown error";if("string"==typeof e&&(t=e),"object"==typeof e&&null!==e&&"message"in e){const{message:r}=e;"string"==typeof r&&(t=r)}s(new Error(t))}function c(e,t){(0,n.partConfigEnabled)("web_inline_grouping_fix")||(t&&t.length>2e3&&(t=`${t.slice(0,1e3)}...${t.slice(-1e3)}`),e.message+=`: ${t}`),s(e)}},517556:(e,t,r)=>{"use strict";r.d(t,{LangReplace:()=>s});var n=r(474848),a=r(296540);function s({string:e,tokens:t}){const r=Object.keys(t).reduce(((e,r)=>{const s=t[r];return e.forEach(((t,_)=>{const c=function(e,t,r){if("string"!=typeof e)return[e];const s=`{${t}}`,_=e.split(s);return function(e,t,r){const s=e.length-1;return e.reduce(((e,_,c)=>{if(e.push(_),c!==s){const s=`${t}-${c}`;e.push((0,n.jsx)(a.Fragment,{children:r},s))}return e}),[])}(_,t,r)}(t,r,s);e.splice(_,1,...c)})),e}),[e]);return(0,n.jsx)(n.Fragment,{children:r})}},982136:(e,t,r)=>{"use strict";r.d(t,{LangReplace:()=>n.LangReplace});var n=r(517556)},866467:(e,t,r)=>{"use strict";r.d(t,{LangReplace:()=>n.LangReplace,getLang:()=>a.getLang,getShortDate:()=>a.getShortDate,getSmDate:()=>a.getSmDate,langDate:()=>a.langDate,langLink:()=>a.langLink,langNumeric:()=>a.langNumeric,langReplace:()=>a.langReplace,langReplacePrep:()=>a.langReplacePrep,langSex:()=>a.langSex,langStr:()=>a.langStr,langTag:()=>a.langTag,parseLatin:()=>a.parseLatin});var n=r(982136),a=r(768602);r(110091)},110091:(e,t,r)=>{"use strict";r(296540),r(768602)},768602:(e,t,r)=>{"use strict";r.d(t,{getLang:()=>_,getShortDate:()=>I,getSmDate:()=>f,langDate:()=>A,langLink:()=>m,langNumeric:()=>c,langReplace:()=>p,langReplacePrep:()=>g,langSex:()=>l,langStr:()=>u,langTag:()=>E,parseLatin:()=>y});var n=r(8520),a=r(540462),s=r(298077);function _(e,t,r){if(!e)return"...";try{const _=function(e){const t=window.cur&&window.cur.lang&&window.cur.lang[e]||window.lang&&window.lang[e]||window.langpack&&window.langpack[e]||window[e];return!t&&(0,a.partConfigEnabled)("log_get_lang_errors")&&(0,s.logError)(new ReferenceError(`No value for lang key "${e}" is specified`)),t}(e);if(!_){const t=e.split("_");return t.shift(),t.join(" ")}let l;if((0,n.isFunction)(_))l=String(_.apply(null,[...arguments]));else if(void 0===t&&!Array.isArray(_)||"raw"===t){if("string"!=typeof _)return(0,n.decodeHTMLEntitiesDeep)(_);l=_}else l=c(t,_,r);return(0,n.decodeHTMLEntities)(l)}catch(e){const t="getLang error: "+e.message+"("+[...arguments].join(", ")+")";return(0,a.partConfigEnabled)("log_get_lang_errors")&&(0,s.logError)(new ReferenceError(t)),console.error(t),"..."}}function c(e,t,r){const a=window.langConfig;if(!t||!a){if(!(0,n.isNumeric)(e)){const t=new Error("Non-numeric value passed to langNumeric");throw console.log(e,t),t}return String(e)}let s;Array.isArray(t)?(s=t[1],e!=Math.floor(e)?s=t[a.numRules.float]:(a.numRules.int||[]).some((r=>{if("*"===r[0])return s=t[r[2]],!0;const n=r[0]?e%r[0]:e;return Array.isArray(r[1])&&r[1].includes(n)?(s=t[r[2]],!0):void 0}))):s=t;let _=String(e);if(r){const e=_.split("."),t=[];for(let r=e[0].length-3;r>-3;r-=3)t.unshift(e[0].slice(r>0?r:0,r+3));e[0]=t.join(a.numDel),_=e.join(a.numDec)}return s=(s||"%s").replace("%s",_),s}function l(e,t){if(!Array.isArray(t))return t||"...";let r=t[1];const n=window.langConfig;return n?(n.sexRules&&n.sexRules.some((n=>"*"===n[0]||Number(e)===Number(n[0])&&t[n[1]]?(r=t[n[1]],!0):void 0)),r):r}function u(e,...t){let r=String(e);for(let e=0;e<t.length;e+=2){if(null==t[e])continue;const n=String(t[e]).startsWith("%")?t[e]:"{"+t[e]+"}";r=r.replace(n,t[e+1])}return r}const d=e=>{const t=Object.entries(e).map((([e,t])=>[e,(0,n.escape)(t)]));return Object.fromEntries(t)};function p(e,t,r={}){const n=r.escapeTokens?d(t):t;for(const t in n){if(!n.hasOwnProperty(t))continue;const r=`{${t}}`;e=e.replace(r,n[t])}return e}function E(e,t,r,n="tag"){return r=(r=r.replace(`{${n}}`,e)).replace(`{/${n}}`,t)}function m(e,t,r="link",n=""){return E(`<a href="${e}" ${n}>`,"</a>",t,r)}function g(e,t){if(!t)return e;const r=window.langConfig.prep;if(r.length){const n=r.map((t=>{const[r,n,a]=t,[s,_]=r.split(","),[c,l]=a.split(","),u=new RegExp(s).test(e),d=new RegExp(_).test(e);return u?[s,n,c]:!!d&&[_,n,l]})).filter((e=>!!e));if(2===n.length){const[r,a]=n,[s,_,c]=a;if(!_.split(",").find((e=>{const r=e.replace("*","");return r&&new RegExp(`^${r}`).test(t)}))){const[n,a,s]=r;if(a.split(",").find((e=>{const r=e.replace("*","");return r&&new RegExp(`^${r}`).test(t)})))return e.replace(n,s)}return e.replace(s,c)}}return e}function A(e,t,r,a,s,_){const{langConfig:c}=window;if(!e||!t)return"";let l;if(_||(_=""),"string"==typeof t&&(t=["",t,t,t,t]),"number"==typeof e?(e>2147483646e3&&(e=0),e+=r,l=new Date(e)):l=e,s)t=t[1];else{let e="";e=(0,n.isDateToday)(l)?t[3]:(0,n.isDateYesterday)(l)?t[2]:(0,n.isDateTomorrow)(l)?t[4]:t[1],!e&&t[1]&&(e=t[1]),t=e}let u="",d={hours:l.getHours(),minutes:l.getMinutes(),seconds:l.getSeconds(),day:l.getDate(),month:l.getMonth()+1,year:l.getFullYear()};switch(3===c.id&&(u=l.getHours()>11?"pm":"am",d.hours=l.getHours()%12==0?12:l.getHours()%12),c.id){case 1:switch(l.getHours()){case 11:t=t.replace(" о "," об ");break;case 0:t=t.replace(" о "," в ")}break;case 3:!(0,n.isDateToday)(l)||(0,n.isDateYesterday)(l)||(0,n.isDateTomorrow)(l)||(t=_+t);break;case 12:case 73:1==l.getHours()&&(t=t.replace(" &#224;s "," &#224; "))}return 68===c.id&&(d.year=d.year+543),t.replace("{hour}",d.hours.toString()).replace("{num_hour}",(0,n.leadingZero)(d.hours)).replace("{minute}",(0,n.leadingZero)(d.minutes)).replace("{day}",d.day.toString()).replace("{num_day}",(0,n.leadingZero)(d.day)).replace("{month}",a[d.month]).replace("{year}",d.year.toString()).replace("{short_year}",(d.year%100).toString()).replace("{second}",(0,n.leadingZero)(d.seconds)).replace("{am_pm}",u)}function f(e,t=0,r=!0){const n=new Date,a=n.getFullYear(),s=n.getMonth(),c=new Date(1e3*e),l=c.getFullYear(),u=c.getMonth();return A(1e3*e,_(l<a&&(s>1||u<9||a-l>=2)?"global_date":"global_short_date_time","raw"),t,_("months_sm_of","raw"),!r)}function I(e,t,r=!0,n=_("months_of","raw"),a){e*=1e3,t*=1e3;const s=Date.now(),c=new Date(s),l=new Date(e+t);return!a&&e>s&&e-s<864e5&&c.getDate()===l.getDate()?A(e,"{hour}:{minute} {am_pm}",t,[],!r):l.getFullYear()!==c.getFullYear()||e<s-157248e5?A(e,_("global_date","raw"),t,n,!r):A(e,_("global_short_date","raw"),t,n,!r)}function y(e){const t=["yo","zh","kh","ts","ch","sch","shch","sh","eh","yu","ya","YO","ZH","KH","TS","CH","SCH","SHCH","SH","EH","YU","YA","'"],r=["ё","ж","х","ц","ч","щ","щ","ш","э","ю","я","Ё","Ж","Х","Ц","Ч","Щ","Щ","Ш","Э","Ю","Я","ь"];let n=e;for(let e=0,a=t.length;e<a;e++)n=n.split(t[e]).join(r[e]);const a="abvgdezijklmnoprstufhcyABVGDEZIJKLMNOPRSTUFHCYёЁ";for(let e=0,t=48;e<t;e++)n=n.split(a.charAt(e)).join("абвгдезийклмнопрстуфхцыАБВГДЕЗИЙКЛМНОПРСТУФХЦЫеЕ".charAt(e));return n===e?null:n}},469004:(e,t,r)=>{"use strict";r.d(t,{ls:()=>l,multiAccountLs:()=>p});var n=r(553608);function a(){try{return void 0!==window.localStorage&&null!==window.localStorage&&void 0!==window.JSON}catch(e){return!1}}function s(e,t){if(void 0===e)return!1;c(e);try{return n.vkLocalStorage.setItem(e,JSON.stringify(t))}catch(e){return!1}}function _(e){if(void 0===e)return!1;try{return JSON.parse(n.vkLocalStorage.getItem(e))}catch(e){return!1}}function c(e){try{n.vkLocalStorage.removeItem(e)}catch(e){}}const l={checkVersion:a,remove:c,get:_,set:s},u=e=>void 0!==e?`${e}_@id:${window.vk.id}`:void 0,d=e=>(...t)=>{const[r,...n]=t,a=[u(r),...n];return e(...a)},p={checkVersion:a,remove:d(c),get:e=>{const t=d(_)(e);if(null===t){const t=_(e);if(null!==t)return p.set(e,t),c(e),t}return t},set:d(s)}},194025:(e,t,r)=>{"use strict";r.d(t,{NarrativeAnalyticEventType:()=>s,NarrativeAnalyticNavScreen:()=>_,sendNarrativeAnalytic:()=>c});var n=r(636576),a=r(540462),s=function(e){return e.clickToAddToNarrative="click_to_add_to_narrative",e.addStoryToNarrative="add_story_to_narrative",e.openNarrativeList="open_narrative_list",e.close="close",e.changeSort="change_sort",e.publishNarrative="publish_narrative",e.createNarrative="create_narrative",e.deleteNarrative="delete_narrative",e.clickToEditNarrative="click_to_edit_narrative",e.editNarrative="edit_narrative",e.addToBookmarks="add_to_bookmarks",e.shareNarrative="share_narrative",e.seeMore="see_more",e.addToNarrativeFromActionSheet="add_to_narrative_from_action_sheet",e.showMoments="show_moments",e}({}),_=function(e){return e.storyArchive="story_archive",e.storyViewer="story_viewer",e.profile="profile",e.feedBlock="narratives_feed_block",e.club="club",e.communityStorySettings="community_story_settings",e.other="other",e}({});function c(e,t,r="other"){const s=t?.title||void 0,_=t?.customCover?0:t?.coverStoryId||0,c=t?.id||0,l=t?.ownerId||0;let u=t?.storyIds;u?.length||(u=t?.stories?.map((e=>e.id)));const d={event_type:e,nav_screen:r,narrative_owner_id:l,narrative_id:c,narrative_title:s,story_ids:u?.length?u:void 0,cover_story_id:_};(0,n.statlogsValueEvent)("narrative_product_analytic",d),(0,a.partConfigEnabled)("narratives_web_analytic_debug")&&console.log("-- narrative analytic",d)}},355474:(e,t,r)=>{"use strict";function n(){return location.hostname}r.d(t,{currentHostname:()=>n})},259139:(e,t,r)=>{"use strict";r.d(t,{isRelativeURL:()=>c,isSameSubdomainHostname:()=>l,isVKSiteURLAnySubdomainTarget:()=>p,isVKSiteURLForNav:()=>m,isVKSiteURLSameSubdomainTarget:()=>d});var n=r(105330),a=r(355474);const s=new RegExp(`^(([a-zA-Z0-9\\.\\_\\-]+)\\.)?(${n.VK_HOST_REGEX_UNSAFE.source})$`);function _(e){const t=e.match(s);if(!t)return;const[,,r,n]=t;return{baseDomain:n,subDomain:r}}function c(e){return!/^https?:\/\//i.test(e)}function l(e,t){return!(!n.VK_DOMAIN_REGEX.test(e)||!n.VK_DOMAIN_REGEX.test(t))&&function(e,t){const r=_(e)?.subDomain,n=_(t)?.subDomain;return r===n}(e,t)}function u(e,t){const r=g(e);return!!r&&(!(!t||!l(function(){const e=(0,a.currentHostname)(),t=_(e);if(!t)return e;return t.baseDomain}(),r.url.hostname))||l((0,a.currentHostname)(),r.url.hostname))}function d(e,t){return!!m(e)&&u(e,t)}function p(e){return m(e)}function E(e){const t=function(e){const t=g(e);if(t)return _(t.url.hostname)?.baseDomain}(e);return void 0!==t&&("vkvideo.ru"===t?(0,n.isVkVideo)():n.VK_POSSIBLE_SITE_HOSTS.includes(t))}function m(e){return E(e)}function g(e){if(n.VK_URL_REGEX_STRICT.test(e))try{return{url:new URL(e)}}catch(e){console.error(e)}}},342018:(e,t,r)=>{"use strict";function n(e){window.cur&&window.cur.destroy&&window.cur.destroy.push(e)}r.d(t,{pushNavDestroy:()=>n})},905366:(e,t,r)=>{"use strict";r.d(t,{isVKSiteURLForNav:()=>a.isVKSiteURLForNav,maybeStripVKSiteURLOriginAnySubdomain:()=>u,stripVKSiteURLOrigin:()=>l,toMaybeVKSiteURLRelativeName:()=>s,toMaybeVKSiteURLRelativePath:()=>_});var n=r(105330),a=(r(355474),r(259139));function s(e,t){return c(e,"",t)}function _(e,t){return c(e,"/",t)}function c(e,t,r={}){const{allowAnySubdomainAsCurrent:s=!1,allowWebBaseDomainAsCurrent:_=!1}=r,c=s?(0,a.isVKSiteURLAnySubdomainTarget)(e):(0,a.isVKSiteURLSameSubdomainTarget)(e,_);if(!((0,a.isRelativeURL)(e)||c))return e;const l=new RegExp(`(${n.VK_ORIGIN_PREFIX_REGEX.source})?/?`);return e.replace(new RegExp(l),t)}function l(e){return(0,a.isVKSiteURLForNav)(e)?_(e,{allowWebBaseDomainAsCurrent:!0}):e}function u(e){if((0,a.isVKSiteURLForNav)(e))return _(e,{allowAnySubdomainAsCurrent:!0})}},261910:(e,t,r)=>{"use strict";r.d(t,{parseJSON:()=>a});var n=r(298077);function a(e){try{return JSON.parse(e)}catch(t){const r={environment:"parseJsonError",breadcrumb:{message:"Uncaught json parse error",data:{json:e},category:"custom"}};return(0,n.logError)(t,r),{}}}},680960:(e,t,r)=>{"use strict";r.d(t,{logQuestionError:()=>n});const n=(0,r(339328).createSentryLogger)({debugPrefix:"[Questions Sentry Logger]"})},961209:(e,t,r)=>{"use strict";r.d(t,{QuestionsStatCollector:()=>l});var n=r(314309),a=r(317216),s=r(540462),_=r(148230),c=r(419222);class l{logClickEvent(e,t={}){const r={type:a.ClickProductionStatEventTypes.TYPE_QUESTION_ITEM,[a.ClickProductionStatEventTypes.TYPE_QUESTION_ITEM]:{type:e,screen:t.navScreen||window.cur.module||""}};t.questionReceiverId&&(r[a.ClickProductionStatEventTypes.TYPE_QUESTION_ITEM].question_receiver_id=t.questionReceiverId),t.questionAuthorId&&(r[a.ClickProductionStatEventTypes.TYPE_QUESTION_ITEM].question_author_id=t.questionAuthorId),t.questionText&&(r[a.ClickProductionStatEventTypes.TYPE_QUESTION_ITEM].question_text=t.questionText);const n={type:a.EventItemType.QUESTION,id:t.questionId||0};(0,s.partConfigEnabled)("profile_questions_analytic_debug")&&console.log(`--${e}`,r,n),this.clickStatCollector.logEvent(r,n)}logOpeningEvent(e,t,r){let n;switch(t){case c.QuestionsBoxRef.STORY:n=r===_.QuestionAnalyticBoxName.askQuestion?_.QuestionAnalyticEventType.openAskQuestionFromStory:_.QuestionAnalyticEventType.openMyQuestionsFromStory;break;case c.QuestionsBoxRef.SNIPPET:n=r===_.QuestionAnalyticBoxName.askQuestion?_.QuestionAnalyticEventType.openAskQuestionFromSnippet:_.QuestionAnalyticEventType.openMyQuestionsFromSnippet;break;default:n=r===_.QuestionAnalyticBoxName.askQuestion?_.QuestionAnalyticEventType.openAskQuestionFromUrl:_.QuestionAnalyticEventType.openMyQuestionsFromUrl}const a={questionReceiverId:e};r===_.QuestionAnalyticBoxName.askQuestion&&(a.questionAuthorId=window.vk.id),this.logClickEvent(n,a)}constructor(){this.productionStatCollector=new n.ProductionStatCollector,this.clickStatCollector=new n.ClickStatCollector(this.productionStatCollector)}}},508611:(e,t,r)=>{"use strict";r.d(t,{logQuestionsClickEvent:()=>a,logQuestionsOpeningEvent:()=>s});const n=new(r(961209).QuestionsStatCollector);function a(e,t={}){n.logClickEvent(e,t)}function s(e,t,r){n.logOpeningEvent(e,t,r)}},148230:(e,t,r)=>{"use strict";r.d(t,{QuestionAnalyticBoxName:()=>a,QuestionAnalyticEventType:()=>n});var n=function(e){return e.clickToQuestion="click_to_question",e.reply="reply",e.replyAgain="reply_again",e.sharing="sharing",e.shareToStory="share_to_story",e.shareToWall="share_to_wall",e.shareToGroup="share_to_group",e.shareToIm="share_to_im",e.copyLink="copy_link",e.openStory="open_story",e.callFriends="call_friends",e.openSettings="open_settings",e.openProfile="open_profile",e.block="block",e.unblock="unblock",e.deleteAllQuestions="delete_all_questions",e.delete="delete",e.cancelDelete="cancel_delete",e.cancelDeleteAllAuthorQuestions="cancel_delete_all_author_questions",e.cancelDeleteAllAnonymousQuestions="cancel_delete_all_anonymous_questions",e.next="next",e.close="close",e.clickToSend="click_to_send",e.sendQuestion="send_question",e.cancelSendQuestion="cancel_send_question",e.cancelWriteAnswer="cancel_write_answer",e.closeMyQuestions="close_my_questions",e.openMyQuestionsFromUrl="open_my_questions_from_url",e.openAskQuestionFromUrl="open_ask_question_from_url",e.openMyQuestionsFromSnippet="open_my_questions_from_snippet",e.openAskQuestionFromSnippet="open_ask_question_from_snippet",e.openMyQuestionsFromStory="open_my_questions_from_story",e.openAskQuestionFromStory="open_ask_question_from_story",e}({}),a=function(e){return e[e.askQuestion=0]="askQuestion",e[e.myQuestions=1]="myQuestions",e}({})},142278:(e,t,r)=>{"use strict";r.d(t,{createReactInitiator:()=>n.createReactInitiator,createReactLazyInitiator:()=>n.createReactLazyInitiator});var n=r(260152)},260152:(e,t,r)=>{"use strict";r.d(t,{createReactInitiator:()=>n.createReactInitiator,createReactLazyInitiator:()=>n.createReactLazyInitiator});var n=r(356656)},356656:(e,t,r)=>{"use strict";r.d(t,{createReactInitiator:()=>_,createReactLazyInitiator:()=>c});var n=r(474848),a=r(53266),s=r(540462);function _(e,t=null,r){const s=(0,a.createBasicReactInitiator)(t,r);return{...s,render:function(t){return r?.onBeforeRender?.(),s.render((0,n.jsx)(e,{...t}))}}}function c(e,t=null,r){const _=(0,a.createBasicReactInitiator)(t,r),c=!t;let l;return{..._,render:async function(a,u){const d=new Error("Async render error");if(!l){if(l=await e(),u?.abortSignal.aborted)return;const r=(0,s.partConfigEnabled)("react_lazy_initiator_abort_render"),n=Boolean("function"==typeof t?t():t);if(r&&!c&&!n)return void console.warn("Target container not found. Verify that it exists before render.")}return r?.onBeforeRender?.(),_.render((0,n.jsx)(l,{...a}),{asyncBaseError:d})}}}},53266:(e,t,r)=>{"use strict";r.d(t,{createBasicReactInitiator:()=>c});var n=r(440961),a=r(205338),s=r(342018),_=r(62208);function c(e=null,t={}){const{onRendered:r,onMounted:c,onUpdated:u,onUnmounted:d,destroyAfterNavigation:p=!0,useReact18Root:E}=t,m=!e;let g=!1,A=null;function f(){if(e)return e;const t=(0,_.createReactContainer)();return document.body.appendChild(t),t}let I=null;if(E){const e=f();if("function"==typeof e)throw new Error("Function container getter is not allowed while using useReact18Root option");const t=l(e);I=(0,a.createRoot)(t)}function y(){if(!A||g)return!1;g=!0;let e=!0;return I?I.unmount():e=n.unmountComponentAtNode(A),m&&A.remove(),A=null,d?.(e),g=!1,e}return{render:function(e,t={}){let a=!1;try{A||(a=!0,A=l(f())),E?I?.render(e):n.render(e,A)}catch(e){throw t.asyncBaseError?new Error(e.message,{cause:t.asyncBaseError}):e}if(r?.(y),a){const e=A;p&&(0,s.pushNavDestroy)((()=>{e===A&&y()})),c?.(y)}else u?.(y)},unmount:y,getContainer:function(){return A},isMounted:function(){return!!A}}}function l(e){if("function"!=typeof e)return e;const t=e();if(!t)throw new Error("Target container not found. Verify that it exists before render.");return t}},62208:(e,t,r)=>{"use strict";function n(){const e=document.createElement("div");return e.id=`${a}_${s++}`,e}r.d(t,{createReactContainer:()=>n});const a=`rc_${(0,r(898848).srand)()}`;let s=0},444024:(e,t,r)=>{"use strict";r.d(t,{parseReactWikiLinks:()=>p});var n=r(474848),a=r(296540),s=r(279734),_=r(34231);const c={target:"_self",withVKUILink:!1,withNewRegex:!1,wrapAwayIfExternal:!1},l=new RegExp(`\\[?(${/(?:http(s)?:\/\/)/.source}?${/[\w.-]+(?:\.[\w.-]+)+[\w\-._~:/?#[\]@!$&'()*+,;=.]+/.source})${/(?:\|([\wёЁА-я ]{1,}))/.source}?\\]?`),u=new RegExp(`(${l.source}|${/\[(id|public|club|event)-?[\d]{1,}\|[\wёЁА-я ]{1,}\]/.source})`,"gi"),d=/^(http(s)?:\/\/)?vk.(com|ru)/gi;function p(e,t=c){const{target:r=c.target,withVKUILink:l=c.withVKUILink}=t,p=e.match(t.withNewRegex?u:/\[(.*?)\]/g),E=p?p.map((e=>e.replace(/\[|(.*?)\]/g,"$1"))):[];if(!p||!E.length)return(0,n.jsx)(a.Fragment,{children:e});const m=l?s.Link:"a",g=E.map(((e,a)=>{const[s,c]=e.split("|");let l=t.hrefMap?.[s]||(d.test(s)?s.replace(d,""):s);const u=t.onClickMap?.[s];return t.wrapAwayIfExternal&&(l=(0,_.wrapAwayIfExternal)(l)),(0,n.jsx)(m,{href:l,target:r,onClick:u,children:c||s},a)})),A=[];return p.forEach(((t,r)=>{const n=e.indexOf(t);A.push(e.substr(0,n)),A.push(g[r]),e=e.slice(n+t.length)})),A.push(e),(0,n.jsx)(a.Fragment,{children:A})}},330478:(e,t,r)=>{"use strict";r.d(t,{JS_LOAD_ERROR_TEXT:()=>u,isCrossoriginEnabled:()=>c,loadScript:()=>d,loadStyle:()=>l});var n=r(298077),a=r(540462),s=r(105330);const _="Stylesheet load error for";function c(e){if(!(0,a.partConfigEnabled)("crossorigin_credentials"))return!1;const t=(0,s.isMvk)()?window.vk?.static.domain:window.vk?.stDomain;return!!t&&e.includes(t)}function l(e,{preload:t,target:r=document.head,fetchPriority:s}={}){if((0,a.partConfigEnabled)("log_static_duplicates_errors")&&r instanceof HTMLElement){Array.from(r.getElementsByTagName("link")).filter((e=>"text/css"===e.type)).filter((t=>t.href?.endsWith(e))).length>0&&(0,n.logError)(new Error("Loading duplicate style with src "+e))}return new Promise(((n,l)=>{const u=document.createElement("link");t?(u.rel="preload",u.as="style"):u.rel="stylesheet",(0,a.partConfigEnabled)("fetch_priority_experiment")&&s&&(u.fetchPriority=s),u.type="text/css",u.href=e,c(e)&&(u.crossOrigin="use-credentials"),u.onload=()=>{n([e,u])},u.onerror=(t,r,n,s,c)=>{u.remove(),l((0,a.partConfigEnabled)("extended_static_loading_errors")?{message:r?String(t):`${_} ${e}`,source:r??e,lineno:n,colno:s,error:c}:new Error(`${_} ${e}`))},r.appendChild(u)}))}const u="Script load error for";function d(e,t=document.head,r){if((0,a.partConfigEnabled)("log_static_duplicates_errors")){const r=t instanceof Element?t:document.head;Array.from(r.getElementsByTagName("script")).filter((t=>t.src?.endsWith(e))).length>0&&(0,n.logError)(new Error("Loading duplicate script with src "+e))}return new Promise(((n,s)=>{let _=document.createElement("script");if(_.src=e,c(e)&&(_.crossOrigin="use-credentials"),_.onload=()=>n([e,_]),_.onerror=(t,r,n,c,l)=>{_.remove(),s((0,a.partConfigEnabled)("extended_static_loading_errors")?{message:r?String(t):`${u} ${e}`,source:r??e,lineno:n,colno:c,error:l}:new Error(`${u} ${e}`))},r)for(const[e,t]of Object.entries(r))null==t||("boolean"==typeof t?_.toggleAttribute(e,t):_.setAttribute(e,t));t.appendChild(_)}))}},598129:(e,t,r)=>{"use strict";function n(e,t){let r,n=t.timeout,a=t.onLoad,s=t.onError,_=document.createElement("script");if(_.addEventListener("load",c),_.addEventListener("readystatechange",c),_.addEventListener("error",l),t.attributes)for(const[e,r]of Object.entries(t.attributes))null==r||("boolean"==typeof r?_.toggleAttribute(e,r):_.setAttribute(e,r));function c(){_.readyState&&"loaded"!==_.readyState&&"complete"!==_.readyState||(u(),a&&a())}function l(){u(),s&&s()}function u(){clearTimeout(r),_.removeEventListener("load",c),_.removeEventListener("readystatechange",c),_.removeEventListener("error",l)}return _.src=e,document.head.appendChild(_),n&&(r=setTimeout(l,n)),{destroy:function(){u()}}}r.d(t,{loadScript:()=>n})},105330:(e,t,r)=>{"use strict";r.d(t,{DOMAIN:()=>n,VK_DOMAIN_REGEX:()=>m,VK_DOMAIN_REGEX_UNSAFE:()=>E,VK_HOST_REGEX_GROUP_UNSAFE:()=>p,VK_HOST_REGEX_UNSAFE:()=>d,VK_ORIGIN_PREFIX_REGEX:()=>A,VK_ORIGIN_REGEX_STRICT:()=>g,VK_POSSIBLE_SITE_HOSTS:()=>s,VK_SITES_REGEX_SOURCE_UNSAFE:()=>u,VK_SITE_REGEX_SOURCE_UNSAFE:()=>l,VK_SITE_RELATIVE_URL:()=>c,VK_URL_REGEX:()=>f,VK_URL_REGEX_STRICT:()=>I,getAverageRGB:()=>L,getBlobType:()=>D,getGlobalObject:()=>b,getHostName:()=>P,getMediaBlob:()=>C,getPhotoFromVideo:()=>k,isMvk:()=>y,isMvkVKVideo:()=>S,isPWA:()=>T,isVkMe:()=>R,isVkVideo:()=>O,loadFontFace:()=>x,loadFontFacePromise:()=>F,loadImage:()=>U,loadImages:()=>B,loadVideo:()=>N,noop:()=>M});const n="vk.com",a=e=>e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1"),s=["vk.com","vk.ru","vkvideo.ru",P()].filter(((e,t,r)=>r.indexOf(e)===t)),_=s.concat(["vkontakte.ru","vk.me","userapi.com"]),c=["vk.ru",n].includes(P())?"":`https://${n}`,l=a(P()),u=s.map(a).join("|"),d=new RegExp("("+_.map(a).join("|")+")"),p=new RegExp(_.map(a).join("|")),E=(new RegExp("^"+d.source+"$"),new RegExp(`([a-zA-Z0-9\\.\\_\\-]+\\.)?${d.source}`)),m=new RegExp("^"+E.source+"$"),g=(new RegExp(`^(https?:\\/\\/)?${E.source}$`),new RegExp(`^(https?:\\/\\/)${E.source}$`)),A=new RegExp(`^(https?:\\/\\/)${E.source}`),f=new RegExp(`^(https?:\\/\\/)?${E.source}($|\\/(.*))`),I=new RegExp(`^(https?:\\/\\/)${E.source}($|\\/(.*))`);function y(){return!!window.isMVK}function R(){return!!window.vkmeConfig?.anonymBroadcastInitArgs}const O=()=>{const e=b();return Boolean(e.vk?.isVideoStandalone||e.cur?.isVideoStandalone)},S=()=>y()&&O();function T(){return window.vk?.platform?.startsWith?.("pwa")}function P(){return b().vk?.__domain||"vk.com"}function b(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}}function C(e){return new Promise(((t,r)=>{const n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onload=()=>{if(404===n.response.status)return r();t(n.response)},n.onerror=r,n.send()}))}function D(e){try{return e.type.split("/").splice(-1)[0]}catch(e){return null}}const M=()=>{};function L(e,t=0,r=0,n,a){const s={r:0,g:0,b:0};let _;n=n||e.canvas.width,a=a||e.canvas.height;try{_=e.getImageData(t,r,n,a)}catch(e){return s}let c=-4,l=0;for(;(c+=20)<_.data.length;)++l,s.r+=_.data[c],s.g+=_.data[c+1],s.b+=_.data[c+2];return s.r=~~(s.r/l),s.g=~~(s.g/l),s.b=~~(s.b/l),s}function N(e){return new Promise(((t,r)=>{const n=document.createElement("video");n.muted=!0,n.autoplay=!0,n.playsInline=!0,n.addEventListener("canplay",(()=>{n.pause(),t(n)}),{once:!0}),n.addEventListener("error",r,{once:!0}),n.crossOrigin="anonymous",n.src=e}))}function k(e,t=[0]){const r=[];return new Promise(((n,a)=>{const s=document.createElement("canvas"),_=s.getContext("2d"),{videoWidth:c,videoHeight:l}=e;s.width=c,s.height=l,function u(d){const p=e.currentTime;e.addEventListener("seeked",(()=>{_?.drawImage(e,0,0,c,l,0,0,c,l),e.currentTime=p,U(s.toDataURL("image/jpeg",1)).then((a=>{r.push(a),d>=t.length-1?(e.src="",n(r)):u(d+1)})).catch(a)}),{once:!0}),e.currentTime=-1===t[d]?e.duration:t[d]}(0)}))}function U(e){return new Promise(((t,r)=>{const n=new Image;n.crossOrigin=e.startsWith("data:")?null:"Anonymous",n.onerror=()=>r(new Error(`Failed to load image's URL: ${e}`)),n.onload=()=>t(n),n.src=e}))}const B=e=>new Promise((t=>{const r=e.map((e=>U(e)));Promise.all(r).then((e=>t(e))).catch((()=>{}))}));function x(e,t){const r={normal:"400",500:"500",600:"600",bold:"700"},n={tolerance:2,delay:100,glyphs:"",success:function(){},error:function(){},timeout:5e3,weight:"400",style:"normal"},a={display:"block","font-size":"48px","line-height":"normal","font-variant":"normal","white-space":"nowrap",position:"absolute",visibility:"hidden",top:"-9999px",left:"-9999px",width:"auto",height:"auto",margin:"0",padding:"0"};let s,_,c,l,u,d,p;function E(e){let t=[];return each(e,(function(e,r){t.push(e+":"+r)})),t.join(";")}function m(e,t,r){return Math.abs(e.width-t.offsetWidth)>r||Math.abs(e.height-t.offsetHeight)>r}function g(){l||(utilsNode.appendChild(u),l=!0,c={sansSerif:{width:p.offsetWidth,height:p.offsetHeight},serif:{width:d.offsetWidth,height:d.offsetHeight}},p.style.fontFamily=`"${e}", sans-serif`,d.style.fontFamily=`"${e}", serif`),l&&c&&(m(c.sansSerif,p,t.tolerance)||m(c.serif,d,t.tolerance))?(u&&u.remove(),t.success()):(new Date).getTime()-_.getTime()>t.timeout?(u&&u.remove(),t.error()):!l&&"requestAnimationFrame"in window?window.requestAnimationFrame(g):window.setTimeout(g,t.delay)}for(let e in n)t.hasOwnProperty(e)||(t[e]=n[e]);a["font-weight"]=t.weight,a["font-style"]=t.style,!t.glyphs&&"fonts"in document?(t.timeout&&(s=setTimeout((function(){t.error()}),t.timeout)),function(n){each(document?.fonts,(function(a){a.family.toLowerCase()===e.toLowerCase()&&(r[a.weight]||a.weight)===""+t.weight&&a.style===t.style&&a.load().then((function(){t.success(),clearTimeout(n)}))}))}(s)):function(){const e="AxmTYklsjo190QW"+t.glyphs;_=new Date,u=document.createElement("div"),p=document.createElement("div"),p.innerHTML=e,d=document.createElement("div"),d.innerHTML=e,p.setAttribute("style",E(extend({"font-family":"sans-serif"},a))),d.setAttribute("style",E(extend({"font-family":"serif"},a))),u.appendChild(p),u.appendChild(d),g()}()}function F(e,t){return new Promise(((r,n)=>{x(e,{...t,glyphs:"",success(){const e=()=>{r(),t?.success&&t.success()};browser.safari?setTimeout(e,150):e()},error(){n(),t?.error&&t.error()}})}))}},553608:(e,t,r)=>{"use strict";r.d(t,{bestAvailableStorage:()=>f,getSessionStorage:()=>E,isStorageAvailable:()=>c,vkLocalStorage:()=>d,vkSessionStorage:()=>m});class n{setItem(e,t){this.data[e]=String(t)}removeItem(e){delete this.data[e]}clear(){this.data={}}get length(){return Object.keys(this.data).length}key(e){return Object.keys(this.data)[e]}constructor(){this.data={},this.getItem=e=>this.data.hasOwnProperty(e)?this.data[e]:null,this.keys=()=>Object.keys(this.data)}}const a="vk-ls-dummy",s=Math.random().toString(),_={localStorage:null,sessionStorage:null};function c(e){if(null===_[e])try{const t=window[e];t.setItem(a,s),_[e]=s===t.getItem(a),t.removeItem(a)}catch(t){_[e]=!1}return _[e]}let l;function u(){return l||(l=c("localStorage")?window.localStorage:new n,l)}const d={setItem:(e,t)=>u().setItem(e,t),getItem:e=>u().getItem(e),removeItem:e=>u().removeItem(e),clear:()=>u().clear(),length:()=>u().length,key:e=>u().key(e),keys(){const e=u();return e instanceof n?e.keys():Object.keys(e)},getPrefixedKeys:e=>d.keys().filter((t=>t.startsWith(e)))};let p;function E(){return p||(p=c("sessionStorage")?window.sessionStorage:new n,p)}const m={setItem:(e,t)=>E().setItem(e,t),getItem:e=>E().getItem(e),removeItem:e=>E().removeItem(e),clear:()=>E().clear(),length:()=>E().length,key:e=>E().key(e),keys(){const e=E();return e instanceof n?e.keys():Object.keys(e)},getPrefixedKeys:e=>m.keys().filter((t=>t.startsWith(e)))};let g;function A(){return g||(g=c("localStorage")?window.localStorage:c("sessionStorage")?window.sessionStorage:new n,g)}const f={setItem:(e,t)=>A().setItem(e,t),getItem:e=>A().getItem(e),removeItem:e=>A().removeItem(e),clear:()=>A().clear(),length:()=>A().length,key:e=>A().key(e),keys(){const e=A();return e instanceof n?e.keys():Object.keys(e)},getPrefixedKeys:e=>f.keys().filter((t=>t.startsWith(e)))}},101272:(e,t,r)=>{"use strict";r.d(t,{saveBenchmarkMainStats:()=>M,saveCustomStats:()=>S,saveNetworkStats:()=>O,saveProductionStats:()=>T,saveStatlogEvents:()=>R,saveStoryViewBaseStats:()=>b,saveStoryViewStats:()=>C,saveVkResStats:()=>N,saveWebPerfStats:()=>D,sendWebStats:()=>L,writeAndSendWebStats:()=>P});var n=r(558137),a=r(241448),s=r(510794),_=r(586138),c=r(105330),l=r(540462),u=r(658961),d=r(636576);const p=()=>({get st(){return window.vk.statsMeta.st},get platform(){return window.vk?.statsMeta?.platform?window.vk?.statsMeta?.platform:(0,c.isMvk)()?"mvk":"web2"},get appId(){return(0,l.partConfigEnabled)("video_webstats_appid")?_.clientId:void 0},get time(){return window.vk.statsMeta.time},get hash(){return window.vk.statsMeta.hash},get wsTransport(){return window.vk.wsTransport},get userId(){return window.vk.id},get started(){return window.vk.started},get itemId(){return window.cur?.item_id},get itemOwnerId(){return window.cur?.item_owner_id},get itemType(){return window.cur?.item_type}}),E=()=>({get isDebuggerMode(){return(0,l.partConfigEnabled)("web_stats_transport_debugger")},get isNewQueue(){return(0,l.partConfigEnabled)("webinf_change_queue_analytics")}});function m(e,t){return`${e.wsTransport}/web-stats/${e.st?"s":"p"}${t&&`?${t}`}`}function g(){const e=(0,l.getConfigValue)("akashi_endpoint");return String(e)}const A=(0,n.makeSharedState)("webStats",(()=>new a.WebStats({hostName:(0,c.getHostName)(),options:E(),statlogsValueEvent:d.statlogsValueEvent,getBrowserFingerprint:u.getBrowserFingerprint,statsMeta:p(),smallerChunks:!1,createUrl:m})),{version:1}),f=(0,n.makeSharedState)("akashi",(()=>{const e={hostName:(0,c.getHostName)(),options:E(),localStorage:new s.CustomStorage,sessionStorage:new s.CustomStorage,getBrowserFingerprint:u.getBrowserFingerprint,statsMeta:p(),smallerChunks:!1,createUrl:g};return new a.WebStats(e)}),{version:1}),I=A(),y=f(),R=I.saveStatlogEvents.bind(I),O=I.saveNetworkStats.bind(I),S=I.saveCustomStats.bind(I),T=I.saveProductionStats.bind(I),P=I.writeAndSendWebStats.bind(I),b=I.saveStoryViewBaseStats.bind(I),C=I.saveStoryViewStats.bind(I),D=I.saveWebPerfStats.bind(I),M=I.saveBenchmarkMainStats.bind(I),L=I.sendWebStats.bind(I),N=y.saveVkResStats.bind(y)},417120:(e,t,r)=>{"use strict";r.d(t,{flushMarketEvents:()=>R,logMarketEvent:()=>y,logMarketEventNow:()=>I,onMarketItemCardOpen:()=>S,setStorageData:()=>O});var n=r(557139),a=r(949779),s=r(553608),_=r(436185),c=r(170722),l=r(314309),u=r(471180);const d="market_event_count",p="market_event_item_",E=20,m="al_market.php",g="market.php",A=22;function f(e,t,r,a){const _=window.MarketAnalyticsManager&&window.MarketAnalyticsManager.getHash();if(!_)return void(0,n.marketDebug)("warn","events","Hash error");const c=r.slice(0,10);let l=0;const u=s.vkLocalStorage.getItem(d);u&&(l=parseInt(u)),l>=E&&(R(e),l=0);const m=Date.now(),g=Math.floor(1e5*Math.random()),f=`${p}${g}_${m}_${t}`;c.unshift(m),c.unshift(t),c.push(_);let I=!1;const y=()=>{try{s.vkLocalStorage.setItem(f,JSON.stringify(c)),s.vkLocalStorage.setItem(d,String(++l))}catch(e){if(e.code!==A)throw e;I=!0,s.vkLocalStorage.removeItem(f),s.vkLocalStorage.removeItem(d)}};y();(a||I)&&R(e),I&&(y(),a&&R(e)),(0,n.marketDebug)("debug","event",t,...r)}function I(e,t,...r){f(e,t,r,!0)}function y(e,t,...r){f(e,t,r,!1)}function R(e){const t=[];for(let e=0;e<s.vkLocalStorage.length();++e){const r=s.vkLocalStorage.key(e);r&&0===r.lastIndexOf(p)&&t.push(r)}if(t.length<=0)return;s.vkLocalStorage.setItem(d,String(0));const r=[];let _="";t.forEach((e=>{const t=s.vkLocalStorage.getItem(e);if(s.vkLocalStorage.removeItem(e),t)try{const e=JSON.parse(t);_?e.pop():_=e.pop(),r.push(Object.values(e))}catch(e){(0,n.marketDebug)("error","event error","Unable to assemble events pack",e)}})),!_||r.length<1||(!window.MarketAnalyticsManager||window.MarketAnalyticsManager.isEnabled()?window.ajax.post(e===a.PLATFORM_MVK?g:m,{act:"log_events",hash:_,events:r},{onDone:()=>{(0,n.marketDebug)("warn","events sent",`${r.length} events sent`)}}):(0,n.marketDebug)("error","event error","analytics disabled"))}function O(e){(0,_.setStatData)({ref_source:e})}function S({refSource:e,itemIdx:t,screen:r,trackCode:n}){O(e),r&&(0,u.setCurrentScreen)(r);const a=new URLSearchParams(window.location.search).get("w")??"",[s,d]=a.slice(8).replace(/[^\d_]/g,"").split("_"),p=isNaN(Number(window.cur.query_id))?0:Number(window.cur.query_id);c.clickAnalytics.logTransitionToItemClick({screen:r||(0,_.getStatScreen)(),refSource:e,params:{owner_id:Number(s),item_id:Number(d),item_idx:t??0,previous_screen:(0,l.getScreen)()||void 0,search_query_id:p,track_code:n}})}},557139:(e,t,r)=>{"use strict";r.d(t,{isElementInViewport:()=>d,isElementVisible:()=>u,marketDebug:()=>l});var n=r(581197),a=r(540462),s=r(553608);const _="extended_client_logging",c="market_extended_client_logging";function l(e,t,...r){((0,a.partConfigEnabled)(_)||s.vkLocalStorage.getItem(c))&&("error"===e?console.error(`[market ${t}]: `,r):"warn"===e?console.warn(`[market ${t}]: `,r):"info"===e?console.info(`[market ${t}]: `,r):console.debug(`[market ${t}]: `,r))}function u(e){return"none"!==e.style?.display}function d(e,t=50,r=null,a){const s=r?r.left:0,_=r?r.top:0;let c=(0,n.getViewportSize)();const l=(0,n.getElementOffset)(e),u=(0,n.getElementSize)(e),d=u.width*t/100,p=u.height*t/100;if(a){if(a.width>c.width)return!1;if(a.height>c.height)return!1;c=a}return!(l.left+u.width<s+d)&&(!(l.left+d>c.width)&&(!(l.top+u.height<_+p)&&!(l.top+p>c.height)))}},436185:(e,t,r)=>{"use strict";r.d(t,{deleteStatDataKey:()=>c,deleteStatDataKeys:()=>l,getStatCity:()=>d,getStatData:()=>s,getStatRefScreen:()=>p,getStatScreen:()=>u,setStatData:()=>_});var n=r(553608);const a="market_stat_data";function s(){const e=n.vkSessionStorage.getItem(a);return e?JSON.parse(e):{}}function _(e){const t=s();n.vkSessionStorage.setItem(a,JSON.stringify({...t,...e}))}function c(e){const t=s();delete t[e],n.vkSessionStorage.setItem(a,JSON.stringify(t))}function l(e){const t=s();e.forEach((e=>{delete t[e]})),n.vkSessionStorage.setItem(a,JSON.stringify(t))}function u(){const{screen:e}=s();return e||window.cur.module}function d(){const{city:e}=s();return e}function p(){const{ref_screen:e}=s();return e}},346723:(e,t,r)=>{"use strict";r.d(t,{marusiaAudioStats:()=>l});var n=r(540462),a=r(482310),s=r(793722),_=r(121246);class c{startLoop(){this.stopLoop(),this.sendIsPlayingInterval=setInterval(this.sendTrackPlaying.bind(this),c.SEND_IS_PLAYING_INTERVAL),this.currentTrackStartPlayTimeMs=this.getCurrentTime()}getCurrentTime(){return(new Date).getTime()}stopLoop(){this.sendIsPlayingInterval&&(clearInterval(this.sendIsPlayingInterval),this.sendIsPlayingInterval=null),this.currentTrackStartPlayTimeMs=null}sendTrackPlaying(){if(!this.playerAdapter)return void this.stopLoop();if(!this.playerAdapter.isMarusiaTrack())return void this.stopLoop();const e=this.playerAdapter.getAudio();e?(this.sendDeviceStatEvent(_.PlayerDeviceStatEventType.TRACK_PLAYING,_.ActivationSource.playback,e),this.sendPlayerStatusEvent("PLAY",e)):this.stopLoop()}sendPlayerStatusEvent(e,t){if(!this.playerAdapter||!this.currentTrackStartPlayTimeMs)return;const r=(0,a.getAudioExtra)(t)?.voiceAssistant;if(!r)return;const n=r.source?.url??t.url,s=r.source?.skill_name??c.GLOBAL,_={meta:{source:r.source,title:t.title,url:n},url:n,volume:this.playerAdapter.getVolume(),repeat:this.playerAdapter.isRepeatCurrentAudio()?1:0,state:e,updated:(new Date).getTime()/1e3,position:this.playerAdapter.getTrackPosition(),elapsed:this.playerAdapter.getProgressInSeconds(),duration:t.duration,created:this.currentTrackStartPlayTimeMs,skill:s,random:this.playerAdapter.isShuffledPlaylist()};this.api.sendPlayerStatus(s,_)}sendDeviceStatEvent(e,t,r){if(!r||!this.playerAdapter)return;const n=(0,a.getAudioExtra)(r)?.voiceAssistant;if(!n)return;const s={type:e,phrase_id:n.source?.phrase_id??"",timestamp:Math.round((new Date).getTime()/1e3),data:{track_id:n.track_id??"",position:this.playerAdapter.getProgress(),duration:this.playerAdapter.getAudio()?.duration??0,activated_by:t,source_type:n.source?.type??"",flags:n.flags??"",playback_duration:this.playerAdapter.getListenedTime(),audio_type:n.source?.media_type??""}};this.api.sendDeviceStat([s])}getActivatedBy(e,t){switch(e){case _.PlayerDeviceStatEventType.TRACK_STOP:return _.ActivationSource.os_system;case _.PlayerDeviceStatEventType.TRACK_START:case _.PlayerDeviceStatEventType.TRACK_RESUME:if(t.isAutoPlayed())return _.ActivationSource.playback;return t.getSequence()?_.ActivationSource.playback:_.ActivationSource.app_ui;default:return _.ActivationSource.os_system}}onPlay(e){if(!(0,n.partConfigEnabled)("marusia_web_music_stats"))return;this.playerAdapter=e;const t=this.playerAdapter.getAudio();if(!t)return;const r=t.fullId,a=this.currentAudioId===r;this.currentAudioId=r,!a&&this.currentAudio&&this.onEnded(e,this.currentAudio),this.currentAudio=t;const s=a?_.PlayerDeviceStatEventType.TRACK_RESUME:_.PlayerDeviceStatEventType.TRACK_START,c=e.isAutoPlayed()?_.ActivationSource.playback:_.ActivationSource.app_ui;this.sendDeviceStatEvent(s,c,t),this.sendPlayerStatusEvent("PLAY",t),this.startLoop()}onPause(e){if(!(0,n.partConfigEnabled)("marusia_web_music_stats"))return;this.playerAdapter=e;const t=this.playerAdapter.getAudio();t&&(this.sendDeviceStatEvent(_.PlayerDeviceStatEventType.TRACK_PAUSE,_.ActivationSource.os_system,t),this.sendPlayerStatusEvent("PAUSE",t),this.stopLoop())}onEnded(e,t){(0,n.partConfigEnabled)("marusia_web_music_stats")&&(this.playerAdapter=e,t&&(this.sendDeviceStatEvent(_.PlayerDeviceStatEventType.TRACK_STOP,_.ActivationSource.os_system,t),this.sendPlayerStatusEvent("STOP",t),this.stopLoop()))}constructor(){this.api=new s.MarusiaSharedApi,this.sendIsPlayingInterval=null,this.playerAdapter=null,this.currentTrackStartPlayTimeMs=null,this.currentAudioId=null,this.currentAudio=null}}c.SEND_IS_PLAYING_INTERVAL=15e3,c.GLOBAL="__global__";const l=new c},793722:(e,t,r)=>{"use strict";r.d(t,{MarusiaSharedApi:()=>u});var n=r(957994),a=r(812527),s=r(40147),_=r(461742),c=r(474284);const l="https://vc.go.mail.ru";class u{generateDeviceId(){return(0,s.generateDeviceId)("vk_web",this.debug)}processBackendCommands(e,t){const r={phrase_id:e,command_ids:JSON.stringify(t)};return(0,n.api)("marusia.processCommands",r)}getSuggests(e){const t={has_unread_messages:Number(e)};return(0,n.api)("marusia.getSuggests",t)}getWebStatic(){return(0,n.api)("marusia.getWebStatic",{})}getWebSession(e){const t={device_id:e};return(0,n.api)("marusia.getWebSession",t)}revokeWebSession(e){const t={device_id:e};return(0,n.api)("marusia.revokeWebSession",t)}getLastMessageCommands(){return(0,n.api)("marusia.getLastMessageCommands",{})}sendStartSessionEvent(){return(0,n.api)("marusia.sendStartSessionEvent",{})}getOnboarding(){return(0,n.api)("marusia.getOnboarding",{})}async isBackendCommand(e){const t=(await this.getInitConfig()).marusiaBackendCommands?.commands;return!t||t.some((t=>"media"===e.type?"vk"===e.meta?.source?.type&&(e.type===t.type&&e.media_type===t.media_type):("playlist"!==e.type||"vk"===e.tracks[0]?.meta?.source?.type)&&e.type===t.type))}getInitConfig(){return null===this.initConfigCache&&(this.initConfigCache=(0,n.api)("marusia.getInitConfig",{device_id:this.generateDeviceId(),tts_type:"mp3"})),this.initConfigCache}sendMessage(e,t,r){return(0,n.api)("messages.send",{peer_id:e,random_id:Math.round(2147483647*Math.random()),payload:JSON.stringify(r),message:t})}reloadAudios(e){return Promise.resolve([])}getApiHost(){return this.getInitConfig().then((e=>e.marusiaServerType?e.marusiaServerType:{server_url:l,skill:""}))}async makeRequest(e,t={},r={}){const n=await(0,a.getSession)(this),s=await this.getApiHost(),c=s.server_url,u=this.generateDeviceId(),d=(await this.getInitConfig()).maskedChatId,p={...t,dialog_mode:"vk_bot",session_id:n.session_id,device_id:u,chat_id:":vk:chat:"+d};c!==l&&(p.skillserver_type=s.skill);const E=new URLSearchParams(p).toString();let m=!0,g=null;try{g=await fetch(`${c}/${e}?${E}`,{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.session_secret}`},...r}),400===g.status&&(m=!1,g=null)}catch{}if(!m)return await(0,a.revokeSession)(this),this.makeRequest(e,t,r);if(!g)throw new Error(_.MarusiaError.API_ERROR);return g.json()}async getPreparedCapabilities(){const e=(await this.getInitConfig()).capabilities.capabilities2;let t={};return e&&(t=e.reduce(((e,t)=>({...e,[t.capability]:t.enabled})),{})),t}async getDefaultOptions(e){const t=await this.getPreparedCapabilities();return{body:JSON.stringify({...e,capabilities2:{capabilities:t}})}}async addChunk(e,t,r=!1,n,a){const s={last:r?1:0,phrase_id:e,chunk_num:t},_={signal:a,body:n};return(await this.makeRequest("phrase/add",s,_)).result}async createAsrPhrase(e,t){const r={};e&&(r.player_data=e);const n=await this.getDefaultOptions(r);return t&&(n.signal=t),this.makeRequest("phrase/create",{no_kw:1},n)}async phraseCreateText(e,t,r){const n={text:e,refuse_tts:1},a=t??{};r&&(a.player_data=r);const s=await this.getDefaultOptions(a);return this.makeRequest("phrase/create/text",n,s)}async phraseCreateEvent(e,t,r){const n={event:e,refuse_tts:1},a=t??{};r&&(a.player_data=r);const s=await this.getDefaultOptions(a);return this.makeRequest("phrase/create/event",n,s)}async getPhraseResult(e){const t={phrase_id:e,capabilities2:JSON.stringify({capabilities:await this.getPreparedCapabilities()})};return this.makeRequest("phrase/result",t,{method:"GET"})}async upgradeToken(e){const t={app_id:c.MARUSIA_APP_ID},r={body:JSON.stringify({phrase_info:e.phrase_info})};return this.makeRequest("account/vk/upgrade_token",t,r)}sendDeviceStat(e){const t={body:JSON.stringify({events:e})};return this.makeRequest("device/stat",{},t)}sendPlayerStatus(e,t){const r={as_global:1,skill_id:e},n={body:JSON.stringify(t)};return this.makeRequest("player/status",r,n)}skillList(e){const t={category:e,size:10,page:0,use_all_platforms:0};return this.makeRequest("skill_list",t,{method:"GET"})}skillListCategories(){return this.makeRequest("skill_list/categories",{add_featured:1,use_all_platforms:0},{method:"GET"})}constructor(e){this.debug=!1,this.initConfigCache=null,this.debug=!!e}}},67118:(e,t,r)=>{"use strict";r.d(t,{marusiaStats:()=>s});var n=r(314309),a=r(596181);const s=new class{logChatOpen(e){const t={type:n.NavigationProductionStatEventTypes.TYPE_MARUSIA_NAVGO,subtype:n.NavigationProductionStatEventTypes.GO,screen:"im",screen_prev:e};this.navStatCollector.logEvent(t)}logModuleLoadError(e){this.devNullStatCollector.logEvent({key:"marusia_web_load_error",value_str:e,value:window.vk?.statsMeta?.st?1:0})}constructor(){this.productionStatCollector=new n.ProductionStatCollector,this.navStatCollector=new n.NavigationStatCollector(this.productionStatCollector),this.devNullStatCollector=new a.DevNullStatCollector(new a.CustomStatCollector)}}},474284:(e,t,r)=>{"use strict";r.d(t,{MARUSIA_APP_ID:()=>n});const n=6463690},40147:(e,t,r)=>{"use strict";r.d(t,{generateDeviceId:()=>_});var n=r(8520),a=r(75745);const s="marusia-device-id";function _(e,t){let r=n.localStorage.getItem(s);if(!r){r=`:${t?"d":"c"}:${"chat"}:${e}:${(0,a.uuid)(32)}`,n.localStorage.setItem(s,r)}return r}},812527:(e,t,r)=>{"use strict";let n;r.d(t,{getSession:()=>s,revokeSession:()=>c});let a=3;async function s(e){if(!n){const t=e.generateDeviceId();n=e.getWebSession(t)}try{return await n}catch(t){if(console.error("get session error",t),a<3)return a+=1,_(),s(e);throw new Error("get session error")}}function _(){n=void 0}function c(e){return _(),e.revokeWebSession(e.generateDeviceId())}},461742:(e,t,r)=>{"use strict";r.d(t,{CommunicationType:()=>n,MarusiaError:()=>a});var n=function(e){return e.kws="kws",e.listen_command="listen_command",e.button="button",e.text="text",e.suggest="suggest",e.skill="skill",e.widget="widget",e.other="other",e}({}),a=function(e){return e.HIDDEN="HIDDEN",e.BACKEND_COMMAND_TIMEOUT="BACKEND_COMMAND_TIMEOUT",e.USER_INTERRUPT="USER_INTERRUPT",e.ATTACH_LOAD_TIMEOUT="ATTACHES_LOAD_TIMEOUT",e.API_ERROR="API_ERROR",e}({})},794070:(e,t,r)=>{"use strict";r.d(t,{MarusiaMediaType:()=>n});var n=function(e){return e[e.music=1]="music",e[e.radio=2]="radio",e[e.noise=3]="noise",e[e.tale=4]="tale",e[e.podcast=5]="podcast",e[e.books=6]="books",e[e.video=8]="video",e}({})},121246:(e,t,r)=>{"use strict";r.d(t,{ActivationSource:()=>a,PlayerDeviceStatEventType:()=>n});var n=function(e){return e.TRACK_START="player.track_start",e.TRACK_STOP="player.track_stop",e.TRACK_RESUME="player.track_resume",e.TRACK_PAUSE="player.track_pause",e.TRACK_PLAYING="player.track_playing",e}({}),a=function(e){return e.playback="playback",e.backend_new_media="backend_new_media",e.backend_controls="backend_controls",e.os_ui="os_ui",e.os_system="os_system",e.app_ui="app_ui",e.playback_limit="playback_limit",e}({})},75745:(e,t,r)=>{"use strict";r.d(t,{MARUSIA_PEER_ID:()=>n,disableMarusiaTextInput:()=>c,enableMarusiaTextInput:()=>l,getSuggestContentForApi:()=>d,isPayloadForCommand:()=>s,isSuggestCommand:()=>_,parseBase64JSON:()=>u,replaceSpecialPhrases:()=>p,uuid:()=>a});r(794070),r(89473);const n=-194070336;function a(e=32){return[...Array(e).keys()].reduce((e=>`${e}${Math.floor(16*Math.random()).toString(16)}`),"")}function s(e,t){if(!e.voice_assistant)return!1;const r=e.voice_assistant;return!(r.phrase_id!==t.phraseId||(n=r.command_ids,a=t.commandIds,n.length!==a.length||!n.every((e=>a.includes(e)))));var n,a}function _(e){return["text_suggest","event_suggest","url_suggest"].includes(e.type)}function c(e){e.contentEditable="false",e.classList.add("im-chat-input--text_disabled")}function l(e){e.contentEditable="true",e.classList.remove("im-chat-input--text_disabled")}function u(e){let t=null;if(e)try{t=JSON.parse(atob(e))}catch(e){console.error("Failed to parse JSON")}return t}function d(e){let t="";return"event_suggest"===e.type&&(t=e.text),"text_suggest"===e.type&&(t=e.payload),p(t)}function p(e){return e.replace("#DISLIKE#","👎🏻").replace("#LIKE#","👍🏻")}},683852:(e,t,r)=>{"use strict";r.d(t,{areResourcesBlocked:()=>a});var n=r(952492);async function a(){const e=new AbortController;try{await Promise.all(n.URLS.map((t=>fetch(t,{method:"HEAD",mode:"no-cors",signal:e.signal}))))}catch{return e.abort(),!0}return!1}},952492:(e,t,r)=>{"use strict";r.d(t,{ADBLOCK_CONFIG_KEY:()=>a,DEFAULT_ADBLOCK_STATS_COOLDOWN_MS:()=>n,URLS:()=>s});const n=864e5,a="unique_adblock_users",s=["https://tns-counter.ru","https://top-fwz1.mail.ru","https://ads.vk.com"]},210909:(e,t,r)=>{"use strict";r.d(t,{isAdblockDetected:()=>p});var n=r(540462),a=r(636576),s=r(170022),_=r(433367),c=r(952492),l=r(683852),u=r(636111);const d={RESOURCE:"resource",ADVERT:"advert",BOTH:"both"};async function p(){const[e,t]=await Promise.all([(0,l.areResourcesBlocked)(),(0,u.isAdvertBlocked)()]);return e&&t?d.BOTH:e?d.RESOURCE:!!t&&d.ADVERT}(0,n.partConfigEnabled)("unique_adblock_users")&&requestIdleCallback((async()=>{const e=new _.CooldownManager(window.vk?.id,s.METRICS_SCOPE.ADBLOCK_STATS,c.DEFAULT_ADBLOCK_STATS_COOLDOWN_MS);if(!e.isMetricOnCoolDown()){const t=await p();(0,a.statlogsValueEvent)(c.ADBLOCK_CONFIG_KEY,window.vk.id,window.vk.statsMeta.platform,Boolean(t).toString(),t||void 0,window.cur.module||void 0),e.updateMetricTimestamp()}}),{timeout:5e3})},170022:(e,t,r)=>{"use strict";r.d(t,{METRICS_SCOPE:()=>n});var n=function(e){return e.USER_INFO_STATS="USER_INFO_STATS",e.PERFORMANCE_STATS="PERFORMANCE_STATS",e.PERFORMANCE_STATS_CORE="PERFORMANCE_STATS_CORE",e.ADBLOCK_STATS="ADBLOCK_STATS",e.MODULE_NAVIGATION_STATS="MODULE_NAVIGATION_STATS",e.BROWSER_CERTIFICATE_SUPPORT="CERT_STATS",e.WASM_SUPPORT="WASM_STATS",e}({})},433367:(e,t,r)=>{"use strict";r.d(t,{CooldownManager:()=>a});var n=r(553608);class a{getMetricsState(){const e=n.vkLocalStorage.getItem(this.storageName);return e?JSON.parse(e):{timestamps:{}}}getMetricName(e){if("number"==typeof this.cooldown)return e??"default";if(!e)throw new Error("The metric name is required for a complex cooldown configuration.");return e}getMetricTTL(e){return"number"==typeof this.cooldown?this.cooldown:this.cooldown[e]}checkMetricCooldown(e,t){return(!this.options.invalidationReasons?.dateChange||new Date(t).toDateString()===(new Date).toDateString())&&t+this.getMetricTTL(e)>Date.now()}isMetricOnCoolDown(e){const t=this.getMetricName(e),r=this.getMetricsState().timestamps[t]??0;return this.scheduleCleanOutdatedMetrics(),this.checkMetricCooldown(t,r)}updateMetricTimestamp(e){const t=this.getMetricName(e),r=this.getMetricsState();r.timestamps[t]=Date.now(),n.vkLocalStorage.setItem(this.storageName,JSON.stringify(r)),this.scheduleCleanOutdatedMetrics()}cleanOutdatedMetrics(){const e=this.getMetricsState(),t={...e};Object.entries(e.timestamps).forEach((([e,r])=>{this.checkMetricCooldown(e,r)||delete t.timestamps[e]})),n.vkLocalStorage.setItem(this.storageName,JSON.stringify(t))}scheduleCleanOutdatedMetrics(){this.options.cleanOutdatedMetrics&&!this.isOutdatedMetricsCleanScheduled&&(this.isOutdatedMetricsCleanScheduled=!0,requestIdleCallback((()=>{this.isOutdatedMetricsCleanScheduled=!1,this.cleanOutdatedMetrics()}),{timeout:5e3}))}constructor(e,t,r,n={}){this.id=e,this.scope=t,this.cooldown=r,this.options=n,this.isOutdatedMetricsCleanScheduled=!1,this.storageName=`@METRICS_${e||"GUEST"}_${t}`}}},482513:(e,t,r)=>{"use strict";r.d(t,{getModuleNavigationStatsService:()=>a});var n=r(302589);const a=e=>{const t=e.resolve(n.ModuleNavigationStatsService);return{handlePageCacheRestored(){t.clearObsoleteMarks()},handlePageLoadingStart:()=>t.sendLoadingStartEvent(),handlePageLoaderShown:()=>t.sendLoaderShownEvent(),handlePageLoadingFinish:()=>t.sendLoadingFinishEvent()}}},412877:(e,t,r)=>{"use strict";r.d(t,{getModuleForNavigationStat:()=>u,initNavigationStats:()=>d});var n=r(558137),a=r(830195),s=r(79612),_=r(800361),c=r(540462);const l=(0,n.makeSharedState)("navigation-stat-state",(()=>({isInitialised:!1,unloadTab:!1})),{version:1}),u=()=>{const e=s.navigationStat.getModule();return(0,_.isVideoStandalone)()?s.navigationStat.getScreen(e):e},d=()=>{if(l().isInitialised)return;l().isInitialised=!0;const e=(0,c.partConfigEnabled)("video_screen_in_web_navigation_logs")?u():void 0;s.navigationStat.sendTabOpen(e),(0,a.handleModuleChanged)(window.cur?.module||""),document.hidden||s.navigationStat.sendShow(e),window.addEventListener("visibilitychange",(()=>{if(l().unloadTab)return;const e=(0,c.partConfigEnabled)("video_screen_in_web_navigation_logs")?u():void 0;document.hidden?s.navigationStat.sendHide(e):s.navigationStat.sendShow(e)})),window.addEventListener("beforeunload",(()=>{l().unloadTab=!0;const e=(0,c.partConfigEnabled)("video_screen_in_web_navigation_logs")?u():void 0;document.hidden||s.navigationStat.sendHide(e),s.navigationStat.sendTabClose(e)}))}},750937:(e,t,r)=>{"use strict";r.d(t,{sendPerformanceStats:()=>p});var n=r(150353),a=r(166583),s=r(540462),_=r(101272),c=r(105330),l=r(551178);const u=new n.PerformanceStatsCollector;let d;const p=e=>{const t=`${e.entity}.${e.event}`;t!==l.PerformanceStatsCoreEventType.NAVIGATION_DONE?(u.logEvent({...e,value:e.value.toString(),network_effective_type:e.networkEffectiveType??a.default.getConnectionEffectiveType()}),e.trace_id&&(0,s.partConfigEnabled)("performance_stats_core_plugin_statlogs")&&((0,_.saveStatlogEvents)({name:"web_perf_core",value:e.value,keys:[(0,c.isMvk)()?"mvk":"web",window.location.host,e.module,e.page,a.default.getConnectionEffectiveType(),`${l.PerformanceStatsCoreEventType.NAVIGATION_DONE}_to_${t}`,Boolean(window.vk.id)?"true":"false"]}),d&&(0,_.saveStatlogEvents)({name:"web_perf_core",value:e.value-d.value,keys:[(0,c.isMvk)()?"mvk":"web",window.location.host,e.module,e.page,a.default.getConnectionEffectiveType(),`${d.entity}.${d.event}_to_${t}`,Boolean(window.vk.id)?"true":"false"]}),d=e)):d=void 0}},530888:(e,t,r)=>{"use strict";r.d(t,{STORY_TECH_STATS_STORAGE_NAME:()=>n,StoryErrorType:()=>_,StoryEventType:()=>c,StoryEventTypeDebugTypes:()=>l,StoryTypeNext:()=>s,StoryTypeOpen:()=>a});const n="story_tech_stats_storage";var a=function(e){return e.OPEN_STORY_BY_CLICK="OPEN_STORY_BY_CLICK",e.NEXT_OPEN_STORY="NEXT_OPEN_STORY",e.UNKNOWN="UNKNOWN",e}({}),s=function(e){return e.NEXT_STORY="NEXT_STORY",e.PREV_STORY="PREV_STORY",e.RESET_STORY="RESET_STORY",e.NEXT_CONTAINER_STORY="NEXT_CONTAINER_STORY",e.PREV_CONTAINER_STORY="PREV_CONTAINER_STORY",e}({}),_=function(e){return e.DOWNLOAD="download",e.UPLOAD="upload",e}({}),c=function(e){return e.STORY_FEED_BLOCK_START_LOADING="story_feed_block_start_loading",e.STORY_FEED_BLOCK_CHUNK_LOADED="story_feed_block_chunk_loaded",e.STORY_FEED_BLOCK_DATA_LOADED="story_feed_block_data_loaded",e.STORY_FEED_BLOCK_DATA_LOADED_BEFORE_FEED_RENDERED="story_feed_block_data_loaded_before_feed_rendered",e.STORY_FEED_BLOCK_DATA_LOADED_AFTER_FEED_RENDERED="story_feed_block_data_loaded_after_feed_rendered",e.STORY_FEED_BLOCK_LOADING="story_feed_block_loading",e.FEED_RENDERED="feed_rendered",e.STORY_FEED_BLOCK_RENDERED="story_feed_block_rendered",e.STORY_FEED_BLOCK_RENDERED_WITHOUT_FEED="story_feed_block_rendered_without_feed",e.STORY_OPENING_START="story_opening_start",e.STORY_OPENED="story_opened",e.STORY_VIEWER_CLOSED="story_viewer_closed",e.STORY_CLOSED="story_closed",e.SHOW_VIEWER_LOADER="show_viewer_loader",e.HIDE_VIEWER_LOADER="hide_viewer_loader",e.DOWNLOAD="download",e.DOWNLOAD_START="download_start",e.UPLOAD_START="upload_start",e.UPLOAD="upload",e.VIDEO_STALL="video_stall",e.PLAYING_VIDEO_ERROR="playing_video_error",e}({});const l=new Set(["story_feed_block_start_loading","story_opening_start","show_viewer_loader","download_start","upload_start","story_viewer_closed","story_closed"])},633550:(e,t,r)=>{"use strict";r.d(t,{DEFAULT_WASM_SUPPORT_COOLDOWN_MS:()=>n,WASM_SUPPORT_CONFIG_KEY:()=>a});const n=864e5,a="users_wasm_support"},79612:(e,t,r)=>{"use strict";r.d(t,{UNKNOWN:()=>a.UNKNOWN,navigationStat:()=>_});var n=r(558137),a=r(57075),s=r(942746);const _=(0,n.makeSharedState)("navigation-stat-collector",(()=>{const e=new s.ProductionStatCollector;return new a.NavigationStatCollector(e)}),{version:1})()},364038:(e,t,r)=>{"use strict";r.d(t,{AudioNetworkStatCollector:()=>a});var n=r(595649);class a{logEvent(e,t,r){const a={network_type:t,network_effective_type:r,type:n.NetworkStatEventTypes.TYPE_NETWORK_AUDIO_ITEM,[n.NetworkStatEventTypes.TYPE_NETWORK_AUDIO_ITEM]:e};this.networkStatCollector.logEvent(a)}constructor(e){this.networkStatCollector=e}}},39816:(e,t,r)=>{"use strict";r.d(t,{AudioNetworkStatCollector:()=>a.AudioNetworkStatCollector,AudioNetworkType:()=>s.AudioNetworkType,NetworkStatCollector:()=>n.NetworkStatCollector});var n=r(613946),a=r(364038),s=r(595649)},613946:(e,t,r)=>{"use strict";r.d(t,{NetworkStatCollector:()=>s});var n=r(298077),a=r(101272);class s{logEvent(e){e.type&&e[e.type]?(0,a.saveNetworkStats)(e):(0,n.logError)(new Error("NetworkStatCollector: invalid event."))}}new s},595649:(e,t,r)=>{"use strict";r.d(t,{AudioNetworkType:()=>a,NetworkStatEventTypes:()=>n});var n=function(e){return e.TYPE_NETWORK_AUDIO_ITEM="type_network_audio_item",e.TYPE_MODULE_NAVIGATION_STATS_ITEM="type_module_navigation_stats_item",e}({}),a=function(e){return e.FRAGMENT_LOADED="fragment_loaded",e.FRAGMENT_STALLED="fragment_stalled",e}({})},746971:(e,t,r)=>{"use strict";r.d(t,{ActionStatCollector:()=>a});var n=r(317216);class a{logEvent(e,t={}){const r={...this.productionStatCollector.getBaseEvent(t.screen),type:n.ProductionStatEventTypes.TYPE_ACTION,[n.ProductionStatEventTypes.TYPE_ACTION]:e};this.productionStatCollector.logEvent(r,t)}constructor(e){this.productionStatCollector=e}}},8843:(e,t,r)=>{"use strict";r.d(t,{AdMiniAppsEventStatsCollector:()=>s});var n=r(317216),a=r(314309);class s{logEvent(e,t){const r={mini_app_id:e,event:t},a={type:n.ActionProductionStatEventTypes.TYPE_AD_MINI_APPS_EVENT_ITEM,[n.ActionProductionStatEventTypes.TYPE_AD_MINI_APPS_EVENT_ITEM]:r};this.actionStatCollector.logEvent(a)}constructor(){this.productStatCollector=new a.ProductionStatCollector,this.actionStatCollector=new a.ActionStatCollector(this.productStatCollector)}}},962496:(e,t,r)=>{"use strict";r.d(t,{BridgeEventStatsCollector:()=>l});var n=r(317216),a=r(314309),s=r(540462),_=r(609620),c=r(898848);class l{logEvent(e,t,r,a,l,u){const d={webview_url:e,mini_app_id:t,event:r,error:a};(0,s.partConfigEnabled)("mini_apps_send_session_uuid_bridge_events")&&(d.session_uuid=l),(0,s.partConfigEnabled)("mini_apps_bridge_stats_bridge_log_field")&&(0,c.isString)(u)&&(d.bridge_log=(0,_.default)(u,{length:this.BRIDGE_LOG_MAX_LENGTH}));const p={type:n.ActionProductionStatEventTypes.TYPE_BRIDGE_EVENT_ITEM,[n.ActionProductionStatEventTypes.TYPE_BRIDGE_EVENT_ITEM]:d};this.actionStatCollector.logEvent(p)}constructor(){this.BRIDGE_LOG_MAX_LENGTH=256,this.productStatCollector=new a.ProductionStatCollector,this.actionStatCollector=new a.ActionStatCollector(this.productStatCollector)}}},699916:(e,t,r)=>{"use strict";r.d(t,{CommunityAppsCatalogActionEventCollector:()=>s});var n=r(317216),a=r(314309);class s{logEvent(e,t,r){const a={event:e};t&&(a.source=t),r&&(a.target=r);const s={type:n.ActionProductionStatEventTypes.TYPE_COMMUNITY_APPS_CATALOG_EVENT_ITEM,[n.ActionProductionStatEventTypes.TYPE_COMMUNITY_APPS_CATALOG_EVENT_ITEM]:a};this.actionStatCollector.logEvent(s)}constructor(){this.productStatCollector=new a.ProductionStatCollector,this.actionStatCollector=new a.ActionStatCollector(this.productStatCollector)}}},274229:(e,t,r)=>{"use strict";r.d(t,{EasterEggsItemStatCollector:()=>s});var n=r(317216),a=r(314309);class s{logEvent(e,t,r,a){const s={egg_id:e,egg_event_id:t,position_id:r,event_type:a},_={type:n.ActionProductionStatEventTypes.TYPE_EASTER_EGGS_ITEM,[n.ActionProductionStatEventTypes.TYPE_EASTER_EGGS_ITEM]:s};this.actionStatCollector.logEvent(_)}constructor(){this.productStatCollector=new a.ProductionStatCollector,this.actionStatCollector=new a.ActionStatCollector(this.productStatCollector)}}},90273:(e,t,r)=>{"use strict";r.d(t,{GamesJsSDKEventStatsCollector:()=>s});var n=r(317216),a=r(314309);class s{logEvent(e,t){const r={app_id:e,event_name:t},a={type:n.ActionProductionStatEventTypes.TYPE_GAMES_JS_SDK_ITEM,[n.ActionProductionStatEventTypes.TYPE_GAMES_JS_SDK_ITEM]:r};this.actionStatCollector.logEvent(a)}constructor(){this.productStatCollector=new a.ProductionStatCollector,this.actionStatCollector=new a.ActionStatCollector(this.productStatCollector)}}},679497:(e,t,r)=>{"use strict";r.d(t,{VideoKidsAgeFilterActionCollector:()=>s});var n=r(314309),a=r(317216);class s{logEvent(e){this._actionStatCollector.logEvent(e)}constructor(){this.logAgeFilterSelect=e=>{this.logEvent({type:a.EventItemType.VIDEO_AGE_FILTER_SELECT,[a.EventItemType.VIDEO_AGE_FILTER_SELECT]:{object_value:e}})},this._productionStatCollector=new n.ProductionStatCollector,this._actionStatCollector=new n.ActionStatCollector(this._productionStatCollector)}}},90348:(e,t,r)=>{"use strict";r.d(t,{MarketingTransitionItemStatCollector:()=>_});var n=r(317216),a=r(314309),s=r(396858);class _{logEvent(e,t,r,a=""){const _={campaign:e,source:r,event:t,unauth_id:(0,s.getCookie)("remixstid")};a&&(_.url=a);const c={type:n.ActionProductionStatEventTypes.TYPE_MARKETING_TRANSITION_ITEM,[n.ActionProductionStatEventTypes.TYPE_MARKETING_TRANSITION_ITEM]:_};this.actionStatCollector.logEvent(c)}constructor(){this.productStatCollector=new a.ProductionStatCollector,this.actionStatCollector=new a.ActionStatCollector(this.productStatCollector)}}},529133:(e,t,r)=>{"use strict";r.d(t,{MiniAppsActionEventCollector:()=>s});var n=r(317216),a=r(314309);class s{logEvent(e,{appId:t,navScreen:r,ref:a}){const s={type:n.ActionProductionStatEventTypes.TYPE_MINI_APPS_ACTION_ITEM,[n.ActionProductionStatEventTypes.TYPE_MINI_APPS_ACTION_ITEM]:{event_type:{event_type:e},mini_app_id:t,nav_screen:r,vk_ref:a}};this.actionStatCollector.logEvent(s,{force:!0})}constructor(){this.productStatCollector=new a.ProductionStatCollector,this.actionStatCollector=new a.ActionStatCollector(this.productStatCollector)}}},325898:(e,t,r)=>{"use strict";r.d(t,{PersonalDiscountEventStatsCollector:()=>s});var n=r(317216),a=r(314309);class s{logEvent(e){const t={type:n.ActionProductionStatEventTypes.TYPE_MINI_APPS_PERSONAL_DISCOUNT_EVENT_ITEM,[n.ActionProductionStatEventTypes.TYPE_MINI_APPS_PERSONAL_DISCOUNT_EVENT_ITEM]:e};this.actionStatCollector.logEvent(t)}constructor(){this.productStatCollector=new a.ProductionStatCollector,this.actionStatCollector=new a.ActionStatCollector(this.productStatCollector)}}},37343:(e,t,r)=>{"use strict";r.d(t,{MTTimespentStatCollector:()=>s});var n=r(317216),a=r(314309);class s{logEvent(e){const t={type:n.ActionProductionStatEventTypes.TYPE_MT_TIMESPENT_ITEM,[n.ActionProductionStatEventTypes.TYPE_MT_TIMESPENT_ITEM]:e};this.actionStatCollector.logEvent(t)}constructor(){this.productionStatCollector=new a.ProductionStatCollector,this.actionStatCollector=new a.ActionStatCollector(this.productionStatCollector)}}},150353:(e,t,r)=>{"use strict";r.d(t,{PerformanceStatsCollector:()=>s});var n=r(317216),a=r(314309);class s{logEvent(e){const t={type:n.ActionProductionStatEventTypes.TYPE_PERFORMANCE_STATS_ITEM,[n.ActionProductionStatEventTypes.TYPE_PERFORMANCE_STATS_ITEM]:e};this.actionStatCollector.logEvent(t)}constructor(){this.productionStatCollector=new a.ProductionStatCollector,this.actionStatCollector=new a.ActionStatCollector(this.productionStatCollector)}}},890879:(e,t,r)=>{"use strict";r.d(t,{SnowballsEventsActionStatsCollector:()=>s});var n=r(314309),a=r(317216);class s{logEvent(e){const t={type:a.ActionProductionStatEventTypes.TYPE_SNOWBALLS_EVENTS_ITEM,[a.ActionProductionStatEventTypes.TYPE_SNOWBALLS_EVENTS_ITEM]:e};this.actionStatCollector.logEvent(t)}constructor(){this.productionStatCollector=new n.ProductionStatCollector,this.actionStatCollector=new n.ActionStatCollector(this.productionStatCollector)}}},839128:(e,t,r)=>{"use strict";r.d(t,{SurveyMiniAppsEventStatsCollector:()=>s});var n=r(317216),a=r(314309);class s{logEvent(e,t){const r={mini_app_id:e,event:t},a={type:n.ActionProductionStatEventTypes.TYPE_SURVEY_MINI_APPS_EVENT_ITEM,[n.ActionProductionStatEventTypes.TYPE_SURVEY_MINI_APPS_EVENT_ITEM]:r};this.actionStatCollector.logEvent(a)}constructor(){this.productStatCollector=new a.ProductionStatCollector,this.actionStatCollector=new a.ActionStatCollector(this.productStatCollector)}}},851727:(e,t,r)=>{"use strict";r.d(t,{TooltipStatCollector:()=>_});var n=r(317216),a=r(314309);const s="unknown";class _{logEvent(e,t,r){const a={action:e,hint_id:t,duration:r||0},s={...this.productionStatCollector.getBaseEvent(this.getScreen(this.getModule())),type:n.ActionProductionStatEventTypes.TYPE_UI_HINT_ITEM,[n.ActionProductionStatEventTypes.TYPE_UI_HINT_ITEM]:a};this.actionStatCollector.logEvent(s,{force:!0})}getModule(){return window.cur?.module??s}getScreen(e=s){return window.cur?.screen?window.cur.screen===s?e:window.cur.screen:e}constructor(){this.productionStatCollector=new a.ProductionStatCollector,this.actionStatCollector=new a.ActionStatCollector(this.productionStatCollector)}}},495300:(e,t,r)=>{"use strict";r.d(t,{UnverifiedScreenEventCollector:()=>s});var n=r(317216),a=r(314309);class s{logEvent(e,t){const r={type:n.ActionProductionStatEventTypes.TYPE_UNVERIFIED_SCREEN_ITEM,[n.ActionProductionStatEventTypes.TYPE_UNVERIFIED_SCREEN_ITEM]:{event_type:{event_type:e},mini_app_id:t}};this.actionStatCollector.logEvent(r,{force:!0})}constructor(){this.productStatCollector=new a.ProductionStatCollector,this.actionStatCollector=new a.ActionStatCollector(this.productStatCollector)}}},561825:(e,t,r)=>{"use strict";r.d(t,{VideoAnnouncementSuggestedShowCollector:()=>s});var n=r(314309),a=r(317216);class s{logEvent(e,t){const r={type:a.ClickProductionStatEventTypes.TYPE_VIDEO_ANNOUNCEMENT_SUGGESTED_SHOW,[a.ClickProductionStatEventTypes.TYPE_VIDEO_ANNOUNCEMENT_SUGGESTED_SHOW]:{count:t,item:e}};this.actionStatCollector.logEvent(r)}constructor(){this.productStatCollector=new n.ProductionStatCollector,this.actionStatCollector=new n.ActionStatCollector(this.productStatCollector)}}},510634:(e,t,r)=>{"use strict";r.d(t,{VideoChannelCreateStatsCollector:()=>s});var n=r(317216),a=r(314309);class s{logActionEvent(e){const t={type:n.ActionProductionStatEventTypes.TYPE_VIDEO_CREATE_CHANNEL_ACTION,[n.ActionProductionStatEventTypes.TYPE_VIDEO_CREATE_CHANNEL_ACTION]:e};this.actionStatCollector.logEvent(t)}logClickEvent(e){const t={type:n.ClickProductionStatEventTypes.TYPE_VIDEO_CREATE_CHANNEL_CLICK,[n.ClickProductionStatEventTypes.TYPE_VIDEO_CREATE_CHANNEL_CLICK]:e};this.clickStatCollector.logEvent(t,{type:n.EventItemType.VIDEO})}constructor(){this.productionStatCollector=new a.ProductionStatCollector,this.clickStatCollector=new a.ClickStatCollector(this.productionStatCollector),this.actionStatCollector=new a.ActionStatCollector(this.productionStatCollector)}}},271607:(e,t,r)=>{"use strict";r.d(t,{VideoCreateClipStatsCollector:()=>s});var n=r(317216),a=r(314309);class s{logEvent(e){const t={type:n.ClickProductionStatEventTypes.TYPE_VIDEO_CREATE_CLIP,[n.ClickProductionStatEventTypes.TYPE_VIDEO_CREATE_CLIP]:e};this.clickStatCollector.logEvent(t,{type:n.EventItemType.VIDEO})}constructor(){this.productionStatCollector=new a.ProductionStatCollector,this.clickStatCollector=new a.ClickStatCollector(this.productionStatCollector)}}},48544:(e,t,r)=>{"use strict";r.d(t,{VideoDashboardStatsCollector:()=>s});var n=r(636576),a=r(468073);class s{logClickEvent({screen:e,ownerId:t}){this.log({screen:e,community_id:this.toGroupId(t),event_type:"click_to_office"})}logInnerClickEvent({screen:e,ownerId:t,chartName:r}){this.log({screen:e,chart_name:r,community_id:this.toGroupId(t),event_type:"click"})}logChartEvent(e,t){this.log({...t,event_type:e})}toGroupId(e){return e&&a.Ranges.isGroupId(e)?a.Ranges.convertOwnerIdToGroupId(e):void 0}log(e){(0,n.statlogsValueEvent)(this.eventKey,{client_time:(new Date).getTime(),user_id:window.vk.id,...e})}constructor(){this.eventKey="video_dashboard_event"}}},310864:(e,t,r)=>{"use strict";r.d(t,{VideoPublishStatsCollector:()=>s});var n=r(317216),a=r(314309);class s{logEvent(e){const t={type:n.ActionProductionStatEventTypes.TYPE_VIDEO_PUBLISH_ITEM,[n.ActionProductionStatEventTypes.TYPE_VIDEO_PUBLISH_ITEM]:e};this.actionStatCollector.logEvent(t)}constructor(){this.productionStatCollector=new a.ProductionStatCollector,this.actionStatCollector=new a.ActionStatCollector(this.productionStatCollector)}}},851556:(e,t,r)=>{"use strict";r.d(t,{VideoUploadStatsCollector:()=>s});var n=r(317216),a=r(314309);class s{logEvent(e){const t={type:n.ActionProductionStatEventTypes.TYPE_VIDEO_UPLOAD_ITEM,[n.ActionProductionStatEventTypes.TYPE_VIDEO_UPLOAD_ITEM]:e};this.actionStatCollector.logEvent(t)}constructor(){this.productionStatCollector=new a.ProductionStatCollector,this.actionStatCollector=new a.ActionStatCollector(this.productionStatCollector)}}},452861:(e,t,r)=>{"use strict";r.d(t,{VideoWatchItemStatsCollector:()=>s});var n=r(317216),a=r(314309);class s{logEvent(e){const t={type:n.ActionProductionStatEventTypes.TYPE_VIDEO_WATCH_ITEM,[n.ActionProductionStatEventTypes.TYPE_VIDEO_WATCH_ITEM]:e};this.actionStatCollector.logEvent(t)}constructor(){this.productionStatCollector=new a.ProductionStatCollector,this.actionStatCollector=new a.ActionStatCollector(this.productionStatCollector)}}},338761:(e,t,r)=>{"use strict";r.d(t,{VkConnectNavigationCollector:()=>s});var n=r(317216),a=r(314309);class s{logEvent(e,t){const r=this.productionStatCollector.getBaseEvent(),a={...r,screen:"main",prev_nav_id:this.lastNavEventId,prev_event_id:r.prev_id||0,type:n.ProductionStatEventTypes.TYPE_ACTION,[n.ProductionStatEventTypes.TYPE_ACTION]:{type:n.ActionProductionStatEventTypes.TYPE_VK_CONNECT_NAVIGATION_ITEM,[n.ActionProductionStatEventTypes.TYPE_VK_CONNECT_NAVIGATION_ITEM]:e}};this.lastNavEventId=a.id,this.productionStatCollector.logEvent(a,t)}logServiceNavigationOpen(e){this.logEvent({event_type:n.IVkConnectNavigationItemEventType.SERVICE_NAVIGATION_OPEN,fields:e})}logServiceNavigationClose(e){this.logEvent({event_type:n.IVkConnectNavigationItemEventType.SERVICE_NAVIGATION_CLOSE,fields:e})}logServiceNavigationClick(e,t,r){this.logEvent({event_type:n.IVkConnectNavigationItemEventType.SERVICE_NAVIGATION_CLICK,fields:[{name:e,str_value:t,int_value:r}]})}logAccountActionsOpen(e){const t={event_type:n.IVkConnectNavigationItemEventType.POPUP_OPEN};s.addFlowTypeIfFeatureExists(t,e),this.logEvent(t)}logAccountActionsClose(e){const t={event_type:n.IVkConnectNavigationItemEventType.POPUP_CLOSE};s.addFlowTypeIfFeatureExists(t,e),this.logEvent(t)}logAccountActionsEnterLk(e="account_actions",t){const r={event_type:n.IVkConnectNavigationItemEventType.CLICK_ENTER_LK,flow_service:e};s.addFlowTypeIfFeatureExists(r,t),this.logEvent(r)}logAccountActionsVkPay(e="account_actions"){this.logEvent({event_type:n.IVkConnectNavigationItemEventType.CLICK_VK_PAY,flow_service:e})}logAccountActionsVkCombo(e="account_actions"){this.logEvent({event_type:n.IVkConnectNavigationItemEventType.CLICK_VK_COMBO,flow_service:e})}logMultiAccountShown(){this.registrationItemStat.logEvent(n.RegistrationItemEventTypes.POPUP_OPEN,n.EventScreens.MAIN,n.EventScreens.MULTI_ACC_SWITCHER,{force:!0})}logTopNavElements(e){e.includes("settings")?this.logEvent({event_type:n.IVkConnectNavigationItemEventType.CLICK_SETTINGS}):e.includes("support")?this.logEvent({event_type:n.IVkConnectNavigationItemEventType.CLICK_SUPPORT}):e.includes("theme")&&this.logEvent({event_type:n.IVkConnectNavigationItemEventType.CLICK_THEME})}logOnepassOnboardingShown(){this.registrationItemStat.logEvent(n.RegistrationItemEventTypes.SCREEN_PROCEED,n.EventScreens.NOWHERE,n.EventScreens.MEET_PASSKEY,{force:!0})}logOnepassOnboardingSkip(e){this.registrationItemStat.logEvent(n.RegistrationItemEventTypes.REFUSE_ONBOARDING_PASSKEY,e,void 0,{force:!0})}logOnepassOnboardingPlug(){this.registrationItemStat.logEvent(n.RegistrationItemEventTypes.SCREEN_PROCEED,n.EventScreens.CONNECT_PASSKEY,n.EventScreens.CONNECTED_KEYS,{force:!0})}logOnboardingChangePage(e,t){this.registrationItemStat.logEvent(n.RegistrationItemEventTypes.SCREEN_PROCEED,e,t,{force:!0})}logCancelOnExit(){this.logEvent({event_type:n.IVkConnectNavigationItemEventType.CANCEL_ON_EXIT})}logSaveLoginModalShow(){this.logEvent({event_type:n.IVkConnectNavigationItemEventType.SAVE_LOGIN_MODAL_SHOW})}logStartPhoneCUA(){this.logEvent({event_type:n.IVkConnectNavigationItemEventType.START_PHONE_CUA})}static addFlowTypeIfFeatureExists(e,t){t&&Object.assign(e,{flow_type:t})}logUnbanRecommendationModalShow(){this.logEvent({event_type:n.IVkConnectNavigationItemEventType.UNBLOCK_PROTECT_ACCOUNT_SHOW,flow_service:n.UnblockAccountField.flow_service,screen:n.UnblockAccountField.screen})}logUnbanRecommendationConnect(){this.logEvent({event_type:n.IVkConnectNavigationItemEventType.UNBLOCK_PROTECT_ACCOUNT_CONNECT,flow_service:n.UnblockAccountField.flow_service,screen:n.UnblockAccountField.screen})}logUnbanRecommendationCancellation(){this.logEvent({event_type:n.IVkConnectNavigationItemEventType.UNBLOCK_PROTECT_ACCOUNT_CANCELLATION,flow_service:n.UnblockAccountField.flow_service,screen:n.UnblockAccountField.screen})}constructor(){this.lastNavEventId=0,this.productionStatCollector=new a.ProductionStatCollector,this.actionStatCollector=new a.ActionStatCollector(this.productionStatCollector),this.registrationItemStat=new a.RegistrationItemStatCollector(this.actionStatCollector)}}},311504:(e,t,r)=>{"use strict";r.d(t,{VkidEcosystemNavigationCollector:()=>s});var n=r(317216),a=r(314309);class s{logEvent(e,t){const r=this.productionStatCollector.getBaseEvent(),a={...r,prev_nav_id:this.lastNavEventId,prev_event_id:r.prev_id||0,screen:"main",type:n.ProductionStatEventTypes.TYPE_ACTION,[n.ProductionStatEventTypes.TYPE_ACTION]:{type:n.ActionProductionStatEventTypes.TYPE_VKID_ECOSYSTEM_NAVIGATION_ITEM,[n.ActionProductionStatEventTypes.TYPE_VKID_ECOSYSTEM_NAVIGATION_ITEM]:{...e,screen:"ecosystem_navigation"}}};this.lastNavEventId=a.id,this.productionStatCollector.logEvent(a,t)}constructor(){this.lastNavEventId=0,this.productionStatCollector=new a.ProductionStatCollector}}},345649:(e,t,r)=>{"use strict";r.d(t,{CaptchaClientItemStatCollector:()=>_});var n=r(317216),a=r(540462),s=r(396858);class _{logEvent(e,t,r,_,c,l,u,d){if(!(0,a.partConfigEnabled)("captcha_client_item_stat"))return;const p={event_type:e,screen:t,unauth_id:(0,s.getCookie)("remixstlid")??(0,s.getCookie)("remixstid"),sid:(0,s.getCookie)("remixnreg_sid")};r&&(p.screen_to=r),c&&(p.fields=[...p.fields||[],...c]),l&&(p.app_id=l),d&&(p.multiacc_id=d);const E={type:n.ActionProductionStatEventTypes.TYPE_CAPTCHA_CLIENT_ITEM,[n.ActionProductionStatEventTypes.TYPE_CAPTCHA_CLIENT_ITEM]:p};this.actionStatCollector.logEvent(E,_)}constructor(e){this.actionStatCollector=e,this.fields={}}}},25537:(e,t,r)=>{"use strict";r.d(t,{ClickStatCollector:()=>a});var n=r(317216);class a{logEvent(e,t,r,a){const s={...this.productionStatCollector.getBaseEvent(),type:n.ProductionStatEventTypes.TYPE_CLICK,screen:r,[n.ProductionStatEventTypes.TYPE_CLICK]:{item:t,...e}};this.productionStatCollector.logEvent(s,a)}constructor(e){this.productionStatCollector=e}}},279127:(e,t,r)=>{"use strict";r.d(t,{ClipDescriptionStatsCollector:()=>s});var n=r(317216),a=r(314309);class s{logEvent(e){const t={type:n.ClickProductionStatEventTypes.TYPE_CLIPS_DESCRIPTION_CLICK_ITEM,[n.ClickProductionStatEventTypes.TYPE_CLIPS_DESCRIPTION_CLICK_ITEM]:e};this.clickStatCollector.logEvent(t,{type:n.EventItemType.CLIP})}constructor(){this.productStatCollector=new a.ProductionStatCollector,this.clickStatCollector=new a.ClickStatCollector(this.productStatCollector)}}},230205:(e,t,r)=>{"use strict";r.d(t,{ClipDownloadStatsCollector:()=>s});var n=r(317216),a=r(314309);class s{logEvent(e){const t={type:n.ClickProductionStatEventTypes.TYPE_CLIP_VIEWER_ITEM,[n.ClickProductionStatEventTypes.TYPE_CLIP_VIEWER_ITEM]:e};this.clickStatCollector.logEvent(t,{type:n.EventItemType.CLIP})}constructor(){this.productStatCollector=new a.ProductionStatCollector,this.clickStatCollector=new a.ClickStatCollector(this.productStatCollector)}}},232645:(e,t,r)=>{"use strict";r.d(t,{ClipSubscribeStatsCollector:()=>s});var n=r(317216),a=r(314309);class s{logEvent(e){const t={type:n.ClickProductionStatEventTypes.TYPE_CLIP_VIEWER_ITEM,[n.ClickProductionStatEventTypes.TYPE_CLIP_VIEWER_ITEM]:e};this.clickStatCollector.logEvent(t,{type:n.EventItemType.CLIP,id:e.video_id,owner_id:e.video_owner_id})}constructor(){this.productStatCollector=new a.ProductionStatCollector,this.clickStatCollector=new a.ClickStatCollector(this.productStatCollector)}}},705150:(e,t,r)=>{"use strict";r.d(t,{CommunityAppsClickEventStatsCollector:()=>s});var n=r(317216),a=r(314309);class s{logEvent({miniAppId:e,groupId:t,eventType:r,source:a,vkRef:s,options:_}){const c={event:r,group_id:t};a&&(c.source=a);const l={type:n.ClickProductionStatEventTypes.TYPE_COMMUNITY_APPS_CATALOG_ITEM,[n.ClickProductionStatEventTypes.TYPE_COMMUNITY_APPS_CATALOG_ITEM]:c},u={type:n.EventItemType.MINI_APP,id:e,vk_ref:s};_&&(u.track_code=JSON.stringify(_)),this.clickStatCollector.logEvent(l,u)}constructor(){this.productStatCollector=new a.ProductionStatCollector,this.clickStatCollector=new a.ClickStatCollector(this.productStatCollector)}}},660521:(e,t,r)=>{"use strict";r.d(t,{feedItemMenuActionCollector:()=>s});var n=r(317216),a=r(314309);const s=new class{logEvent(e,t,r){const a={...this.productionStatCollector.getBaseEvent(r),type:n.ClickProductionStatEventTypes.TYPE_FEED_ITEM_MENU_ACTION,[n.ActionProductionStatEventTypes.TYPE_FEED_ITEM_MENU_ACTION]:e};this.clickStatCollector.logEvent(a,t)}constructor(){this.productionStatCollector=new a.ProductionStatCollector,this.clickStatCollector=new a.ClickStatCollector(this.productionStatCollector)}}},12973:(e,t,r)=>{"use strict";r.d(t,{feedOpenItemCollector:()=>s});var n=r(317216),a=r(314309);const s=new class{logEvent(e,t,r){const a={...this.productionStatCollector.getBaseEvent(r),type:n.ClickProductionStatEventTypes.TYPE_FEED_OPEN_ITEM,[n.ClickProductionStatEventTypes.TYPE_FEED_OPEN_ITEM]:e};this.clickStatCollector.logEvent(a,t)}constructor(){this.productionStatCollector=new a.ProductionStatCollector,this.clickStatCollector=new a.ClickStatCollector(this.productionStatCollector)}}},38711:(e,t,r)=>{"use strict";r.d(t,{FeedPostDonutPaymentStatsCollector:()=>s});var n=r(317216),a=r(314309);class s{logEvent(e,t,r){const a={...this.productStatCollector.getBaseEvent(r),type:n.ClickProductionStatEventTypes.TYPE_FEED_POST_DONUT_PAYMENT_CLICK,[n.ClickProductionStatEventTypes.TYPE_FEED_POST_DONUT_PAYMENT_CLICK]:e};this.clickStatCollector.logEvent(a,t,r)}constructor(){this.productStatCollector=new a.ProductionStatCollector,this.clickStatCollector=new a.ClickStatCollector(this.productStatCollector)}}},315001:(e,t,r)=>{"use strict";r.d(t,{VideoKidsAgeFilterClickCollector:()=>s});var n=r(314309),a=r(317216);class s{constructor(){this.logEvent=e=>{const t={type:e.type,[e.type]:{}},r={type:e?.type,event_subtype:e?.item?.event_subtype};this._clickStatCollector.logEvent(t,r)},this.logSelectOpen=()=>{this.logEvent({type:a.EventItemType.VIDEO_KIDS_AGE_FILTER_BUTTON_TAP,item:{type:a.EventItemType.VIDEO_KIDS_AGE_FILTER_BUTTON_TAP}})},this.logSelectReset=e=>{this.logEvent({type:a.EventItemType.VIDEO_KIDS_AGE_FILTER_BUTTON_RESET,item:{type:a.EventItemType.VIDEO_KIDS_AGE_FILTER_BUTTON_RESET,event_subtype:e}})},this._productStatCollector=new n.ProductionStatCollector,this._clickStatCollector=new n.ClickStatCollector(this._productStatCollector)}}},785004:(e,t,r)=>{"use strict";r.d(t,{notificationSettingsEventItemStatCollector:()=>s});var n=r(317216),a=r(314309);const s=new class{logEvent(e){const t={type:n.EventItemType.IM_PUSH_NOTIFICATIONS_SETTINGS},r={type:n.ClickProductionStatEventTypes.TYPE_IM_PUSH_NOTIFICATIONS_SETTINGS_CLICK,[n.ClickProductionStatEventTypes.TYPE_IM_PUSH_NOTIFICATIONS_SETTINGS_CLICK]:e};this.clickStatCollector.logEvent(r,t)}constructor(){this.productStatCollector=new a.ProductionStatCollector,this.clickStatCollector=new a.ClickStatCollector(this.productStatCollector)}}},141235:(e,t,r)=>{"use strict";r.d(t,{ProfileActionButtonCollector:()=>s});var n=r(317216),a=r(314309);class s{logEvent(e,t){const r={type:e},a={type:n.ClickProductionStatEventTypes.TYPE_PROFILE_ACTION_BUTTON_ITEM,[n.ClickProductionStatEventTypes.TYPE_PROFILE_ACTION_BUTTON_ITEM]:r};this.clickStatCollector.logEvent(a,{id:t,type:n.EventItemType.MINI_APP})}constructor(){this.productStatCollector=new a.ProductionStatCollector,this.clickStatCollector=new a.ClickStatCollector(this.productStatCollector)}}},384280:(e,t,r)=>{"use strict";r.d(t,{SearchStatsCollector:()=>_});var n=r(317216),a=r(314309),s=r(231450);class _{constructor(){this.logEvent=e=>{if(!e.track_code)return;const t={type:n.ClickProductionStatEventTypes.TYPE_SEARCH_CLICK_ITEM,[n.ClickProductionStatEventTypes.TYPE_SEARCH_CLICK_ITEM]:{action:e.action}},r={type:e.type,track_code:e.track_code};this.clickStatCollector.logEvent(t,r)},this.logOutOfSerpEvent=e=>{const t=(0,s.getTrackCode)();t&&this.logEvent({...e,track_code:t})},this.productStatCollector=new a.ProductionStatCollector,this.clickStatCollector=new a.ClickStatCollector(this.productStatCollector)}}},854540:(e,t,r)=>{"use strict";r.d(t,{ShortVideoStatsCollector:()=>s});var n=r(317216),a=r(314309);class s{logEvent(e){const t={type:n.ClickProductionStatEventTypes.TYPE_SHORT_VIDEO_CLICK_ITEM,[n.ClickProductionStatEventTypes.TYPE_SHORT_VIDEO_CLICK_ITEM]:{action:e.action}},r={type:e.type,track_code:e.track_code};this.clickStatCollector.logEvent(t,r)}constructor(){this.productStatCollector=new a.ProductionStatCollector,this.clickStatCollector=new a.ClickStatCollector(this.productStatCollector)}}},86373:(e,t,r)=>{"use strict";r.d(t,{SnowballsEventsClickStatsCollector:()=>s});var n=r(317216),a=r(314309);class s{logEvent(e){const t={type:n.ClickProductionStatEventTypes.TYPE_SNOWBALL_EVENTS_ITEM,[n.ClickProductionStatEventTypes.TYPE_SNOWBALL_EVENTS_ITEM]:e},r={type:n.EventItemType.PROFILE};this.clickStatCollector.logEvent(t,r)}constructor(){this.productStatCollector=new a.ProductionStatCollector,this.clickStatCollector=new a.ClickStatCollector(this.productStatCollector)}}},699108:(e,t,r)=>{"use strict";r.d(t,{SuperappShowcaseStatsCollector:()=>s});var n=r(317216),a=r(314309);class s{logEvent(e,t){const r={type:n.EventItemType.SUPER_APP},a={type:n.EventItemType.TYPE_SUPERAPP_CLICK,[n.EventItemType.TYPE_SUPERAPP_CLICK]:e};this.clickStatCollector.logEvent(a,r,void 0,t)}constructor(){this.productStatCollector=new a.ProductionStatCollector,this.clickStatCollector=new a.ClickStatCollector(this.productStatCollector)}}},108465:(e,t,r)=>{"use strict";r.d(t,{VideoActionButtonStatsCollector:()=>s});var n=r(317216),a=r(314309);class s{logEvent(e){const t={type:n.ClickProductionStatEventTypes.TYPE_CLIP_VIEWER_ITEM,[n.ClickProductionStatEventTypes.TYPE_CLIP_VIEWER_ITEM]:e};this.clickStatCollector.logEvent(t,{type:n.EventItemType.VIDEO})}constructor(){this.productStatCollector=new a.ProductionStatCollector,this.clickStatCollector=new a.ClickStatCollector(this.productStatCollector)}}},302927:(e,t,r)=>{"use strict";r.d(t,{VideoAnnouncementClickCollector:()=>s});var n=r(314309),a=r(317216);class s{logEvent(e,t,r){const n={type:a.ClickProductionStatEventTypes.TYPE_VIDEO_ANNOUNCEMENT_CLICK,[a.ClickProductionStatEventTypes.TYPE_VIDEO_ANNOUNCEMENT_CLICK]:{event_subtype:r,destination_item:t}},s={...e,type:a.EventItemType.VIDEO};this.clickStatCollector.logEvent(n,s)}constructor(){this.productStatCollector=new n.ProductionStatCollector,this.clickStatCollector=new n.ClickStatCollector(this.productStatCollector)}}},430271:(e,t,r)=>{"use strict";r.d(t,{VideoAnnouncementSuggestedClickCollector:()=>s});var n=r(314309),a=r(317216);class s{logEvent(e,t){const r={type:a.ClickProductionStatEventTypes.TYPE_VIDEO_ANNOUNCEMENT_SUGGESTED_CLICK,[a.ClickProductionStatEventTypes.TYPE_VIDEO_ANNOUNCEMENT_SUGGESTED_CLICK]:{destination_item:t}},n={...e,type:a.EventItemType.VIDEO};this.clickStatCollector.logEvent(r,n)}constructor(){this.productStatCollector=new n.ProductionStatCollector,this.clickStatCollector=new n.ClickStatCollector(this.productStatCollector)}}},466464:(e,t,r)=>{"use strict";r.d(t,{VideoAuthorFilterClickStatsCollector:()=>s});var n=r(314309),a=r(317216);class s{logEvent(e){const t={type:a.ClickProductionStatEventTypes.TYPE_VIDEO_AUTHOR_FILTER_CLICK,[a.ClickProductionStatEventTypes.TYPE_VIDEO_AUTHOR_FILTER_CLICK]:{selected:!0}},r={type:a.EventItemType.CATALOG_ITEM,track_code:e};this.clickStatCollector.logEvent(t,r,"video_subscriptions")}constructor(){this.productStatCollector=new n.ProductionStatCollector,this.clickStatCollector=new n.ClickStatCollector(this.productStatCollector)}}},319532:(e,t,r)=>{"use strict";r.d(t,{VideoAutoplayButtonStatsCollector:()=>s});var n=r(314309),a=r(317216);class s{logEvent(e){const t={type:a.ClickProductionStatEventTypes.TYPE_VIDEO_AUTOPLAY_ITEM,[a.ClickProductionStatEventTypes.TYPE_VIDEO_AUTOPLAY_ITEM]:e},r={type:a.EventItemType.CLICK_ITEM};this.clickStatCollector.logEvent(t,r)}constructor(){this.productStatCollector=new n.ProductionStatCollector,this.clickStatCollector=new n.ClickStatCollector(this.productStatCollector)}}},908887:(e,t,r)=>{"use strict";r.d(t,{VideoBarCommunityTapClickStatsCollector:()=>s});var n=r(314309),a=r(317216);class s{logEvent(e){const t={type:a.ClickProductionStatEventTypes.TYPE_VIDEO_BAR_COMMUNITY_TAP,[a.ClickProductionStatEventTypes.TYPE_VIDEO_BAR_COMMUNITY_TAP]:e};this.clickStatCollector.logEvent(t,{type:a.EventItemType.CLICK_ITEM})}constructor(){this.productStatCollector=new n.ProductionStatCollector,this.clickStatCollector=new n.ClickStatCollector(this.productStatCollector)}}},634842:(e,t,r)=>{"use strict";r.d(t,{VideoClipAddClickStatsCollector:()=>s});var n=r(314309),a=r(317216);class s{logEvent(e){const t={type:a.ClickProductionStatEventTypes.TYPE_VIDEO_ADD_ITEM,[a.ClickProductionStatEventTypes.TYPE_VIDEO_ADD_ITEM]:e};this.clickStatCollector.logEvent(t,{type:a.EventItemType.VIDEO})}constructor(){this.productStatCollector=new n.ProductionStatCollector,this.clickStatCollector=new n.ClickStatCollector(this.productStatCollector)}}},338208:(e,t,r)=>{"use strict";r.d(t,{VideoCopyLinkClickCollector:()=>s});var n=r(314309),a=r(317216);class s{logEvent(e){const t=this.constructEvent(e);this.productStatCollector.logEvent(t),this.lastNavEventId=t.id}constructEvent({track_code:e,id:t,owner_id:r,vsid:n,screen:s}){const _=this.productStatCollector.getBaseEvent(),c={type:a.ClickProductionStatEventTypes.TYPE_VIDEO_CLICK_WITH_ACTIVE_PLAYER,[a.ClickProductionStatEventTypes.TYPE_VIDEO_CLICK_WITH_ACTIVE_PLAYER]:{vsid:n,event_type:"copy_link",video_id:t,video_owner_id:r,video_type:a.EventItemType.VIDEO}};return{id:_.id,prev_nav_id:this.lastNavEventId,prev_event_id:_.prev_id??0,screen:s,timestamp:_.timestamp,type:a.ProductionStatEventTypes.TYPE_CLICK,[a.ProductionStatEventTypes.TYPE_CLICK]:{item:{type:a.EventItemType.CLICK_ITEM,track_code:e},...c},url:_.url}}constructor(){this.lastNavEventId=0,this.productStatCollector=new n.ProductionStatCollector}}},68571:(e,t,r)=>{"use strict";r.d(t,{VideoSubscribesHideAuthorStatsCollector:()=>s});var n=r(317216),a=r(314309);class s{logEvent(e,t,r){const a={type:n.ClickProductionStatEventTypes.TYPE_CREATOR_VISIBLE_CLICK,[n.ClickProductionStatEventTypes.TYPE_CREATOR_VISIBLE_CLICK]:e};this.clickStatCollector.logEvent(a,{type:n.EventItemType.VIDEO,id:e.video_id,owner_id:e.video_owner_id,track_code:r},t)}constructor(){this.productStatCollector=new a.ProductionStatCollector,this.clickStatCollector=new a.ClickStatCollector(this.productStatCollector)}}},900709:(e,t,r)=>{"use strict";r.d(t,{VideoNextPrevClickCollector:()=>s});var n=r(314309),a=r(317216);class s{logEvent(e,t,r){const n={type:a.ClickProductionStatEventTypes.TYPE_VIDEO_NEXT_PREV_CLICK,[a.ClickProductionStatEventTypes.TYPE_VIDEO_NEXT_PREV_CLICK]:{event_subtype:r,destination_item:t}},s={type:a.EventItemType.VIDEO,event:e};this.clickStatCollector.logEvent(n,s)}constructor(){this.productStatCollector=new n.ProductionStatCollector,this.clickStatCollector=new n.ClickStatCollector(this.productStatCollector)}}},646550:(e,t,r)=>{"use strict";r.d(t,{VideoPlaylistClickStatsCollector:()=>s});var n=r(314309),a=r(317216);class s{logEvent(e,t){const r={type:a.ClickProductionStatEventTypes.TYPE_VIDEO_PLAYLIST_ITEM,[a.ClickProductionStatEventTypes.TYPE_VIDEO_PLAYLIST_ITEM]:e};this.clickStatCollector.logEvent(r,{type:a.EventItemType.CLICK_ITEM},t)}constructor(){this.productStatCollector=new n.ProductionStatCollector,this.clickStatCollector=new n.ClickStatCollector(this.productStatCollector)}}},336524:(e,t,r)=>{"use strict";r.d(t,{VideoRecommendOwnerCollector:()=>s});var n=r(317216),a=r(314309);class s{logEvent(e,t){const r={type:e};this.clickStatCollector.logEvent(r,{type:n.EventItemType.VIDEO,owner_id:t.ownerId,id:t.id,track_code:t.trackCode})}constructor(){this.productStatCollector=new a.ProductionStatCollector,this.clickStatCollector=new a.ClickStatCollector(this.productStatCollector)}}},696933:(e,t,r)=>{"use strict";r.d(t,{VideoShowAllStatsCollector:()=>s});var n=r(317216),a=r(314309);class s{logEvent(e){const t={type:n.ClickProductionStatEventTypes.TYPE_VIDEO_SHOW_ALL_CLICK,[n.ClickProductionStatEventTypes.TYPE_VIDEO_SHOW_ALL_CLICK]:e};this.clickStatCollector.logEvent(t,{type:n.EventItemType.VIDEO})}constructor(){this.productStatCollector=new a.ProductionStatCollector,this.clickStatCollector=new a.ClickStatCollector(this.productStatCollector)}}},138144:(e,t,r)=>{"use strict";r.d(t,{VideoSubscriptionsClickStatsCollector:()=>s});var n=r(317216),a=r(314309);class s{logEvent(e,t="",r=""){const a={type:n.EventItemType.CLICK_ITEM};t&&(a.track_code=t),this.clickStatCollector.logEvent(e,a,r)}constructor(){this.productStatCollector=new a.ProductionStatCollector,this.clickStatCollector=new a.ClickStatCollector(this.productStatCollector)}}},176849:(e,t,r)=>{"use strict";r.d(t,{VkAppsActionMenuStatsCollector:()=>s});var n=r(317216),a=r(314309);class s{logEvent(e,t,r){const a={type:r},s={type:n.ClickProductionStatEventTypes.TYPE_MINI_APP_ITEM,[n.ClickProductionStatEventTypes.TYPE_MINI_APP_ITEM]:a},_={type:t,id:e};this.clickStatCollector.logEvent(s,_)}constructor(){this.productStatCollector=new a.ProductionStatCollector,this.clickStatCollector=new a.ClickStatCollector(this.productStatCollector)}}},273510:(e,t,r)=>{"use strict";r.d(t,{VkAppsCatalogCollector:()=>a});var n=r(314309);class a{logEvent(){}constructor(){this.productStatCollector=new n.ProductionStatCollector,this.navigationStatCollector=new n.NavigationStatCollector(this.productStatCollector)}}},301374:(e,t,r)=>{"use strict";r.d(t,{DonutActionEventType:()=>n});var n=function(e){return e.PAYMENT_FORM="payment_form",e.PAYMENT_FORM_CLICK_OFFER="payment_form_click_offer",e.PAYMENT_FORM_CLICK_PAY="payment_form_click_pay",e.PAYMENT_FORM_CLICK_CLOSE="payment_form_click_close",e}({})},314309:(e,t,r)=>{"use strict";r.d(t,{ActionStatCollector:()=>ue.ActionStatCollector,CaptchaClientItemEventTypes:()=>ge.CaptchaClientItemEventTypes,CaptchaClientItemStatCollector:()=>he.CaptchaClientItemStatCollector,CaptchaEventScreens:()=>ge.CaptchaEventScreens,ClickStatCollector:()=>de.ClickStatCollector,EventFieldValues:()=>ge.EventFieldValues,EventScreens:()=>ge.EventScreens,MTTimespentStatCollector:()=>me.MTTimespentStatCollector,NavigationProductionStatEventTypes:()=>ge.NavigationProductionStatEventTypes,NavigationStatCollector:()=>ce.NavigationStatCollector,ProductionStatCollector:()=>le.ProductionStatCollector,RegistrationFieldItemNames:()=>ge.RegistrationFieldItemNames,RegistrationFieldItemValues:()=>ge.RegistrationFieldItemValues,RegistrationItemEventTypes:()=>ge.RegistrationItemEventTypes,RegistrationItemFlowSource:()=>ge.RegistrationItemFlowSource,RegistrationItemStatCollector:()=>Ee.RegistrationItemStatCollector,VideoSubscriptionsClickEventTypes:()=>ge.VideoSubscriptionsClickEventTypes,ViewStatCollector:()=>pe.ViewStatCollector,bridgeEventItemStat:()=>ye,clipDescriptionStatsCollector:()=>at,clipSubscribeStatsCollector:()=>_t,communityAppsCatalogActionEventCollector:()=>Ke,communityAppsClickEventStatsCollector:()=>Ve,easterEggsItemStat:()=>Ie,feedPostDonutPaymentStatsCollector:()=>ut,gamesJsSDKEventStatsCollector:()=>be,getScreen:()=>Ae.getScreen,marketingTransitionItemStat:()=>fe,miniAppsActionEventController:()=>ot,miniAppsItemStats:()=>Se,notificationSettingsEventItemStatCollector:()=>ve.notificationSettingsEventItemStatCollector,personalDiscountEventItemStat:()=>Re,profileActionButtonCollector:()=>we,searchStatsCollector:()=>Ce,searchViewStatCollector:()=>Fe,setScreen:()=>Ae.setScreen,setScreenPrev:()=>Ae.setScreenPrev,shortVideoStatsCollector:()=>De,snowballsActionEventController:()=>rt,snowballsClickEventController:()=>nt,unverifiedScreenEventCollector:()=>We,videoActionButtonStatsCollector:()=>st,videoAllSubscriptionsNavCollector:()=>ke,videoAuthorFilterClickCollector:()=>Ne,videoAutoplayButtonStatsCollector:()=>Ze,videoBarCommunityTapClickStatsCollector:()=>et,videoChannelCreateStatsCollector:()=>ze,videoClipAddClickStatsCollector:()=>Je,videoCopyLinkClickCollector:()=>it,videoCreateClipStatsCollector:()=>$e,videoDashboardStatsCollector:()=>Xe,videoKidsAgeFilterActionCollector:()=>ct,videoKidsAgeFilterClickCollector:()=>lt,videoNextPrevClickCollector:()=>qe,videoPlaylistClickStatsCollector:()=>Qe,videoPublishStatsCollector:()=>Ye,videoRecommendOwnerCollector:()=>xe,videoShowAllCollector:()=>Be,videoSubscribesHideAuthorStatsCollector:()=>Ge,videoSubscriptionNavCollector:()=>Le,videoSubscriptionsClickStatsCollector:()=>tt,videoSubscriptionsSelectCreatorsNavCollector:()=>Ue,videoUploadStatsCollector:()=>He,videoViewStatsCollector:()=>Me,videoWatchItemStatsCollector:()=>je,vkAppsActionMenuItemStat:()=>Oe,vkConnectNavigationCollector:()=>Te,vkIdEcosystemNavigationCollector:()=>Pe});var n=r(90348),a=r(962496),s=r(274229),_=r(176849),c=r(890355),l=r(338761),u=r(311504),d=r(8843),p=r(839128),E=r(90273),m=r(31727),g=r(141235),A=r(384280),f=r(699108),I=r(273510),y=r(609459),R=r(705150),O=r(699916),S=r(495300),T=r(325898),P=r(851556),b=r(900709),C=r(271607),D=r(319532),M=r(310864),L=r(452861),N=r(646550),k=r(338208),U=r(634842),B=r(302927),x=r(430271),F=r(561825),V=r(529133),K=r(86373),W=r(890879),H=r(853168),G=r(854540),j=r(590432),Y=r(466464),z=r(908887),q=r(138144),$=r(857715),X=r(357788),Q=r(279127),J=r(230205),Z=r(108465),ee=r(232645),te=r(679497),oe=r(315001),ie=r(68571),re=r(696933),ne=r(336524),ae=r(510634),se=r(48544),_e=r(38711),ce=r(57075),le=r(942746),ue=r(746971),de=r(25537),pe=r(287424),Ee=r(94592),he=r(345649),me=r(37343),ge=r(317216),Ae=r(471180),ve=r(785004);const fe=new n.MarketingTransitionItemStatCollector,Ie=new s.EasterEggsItemStatCollector,ye=new a.BridgeEventStatsCollector,Re=(new d.AdMiniAppsEventStatsCollector,new p.SurveyMiniAppsEventStatsCollector,new T.PersonalDiscountEventStatsCollector),Oe=new _.VkAppsActionMenuStatsCollector,Se=new c.MiniAppsEventStatsCollector,Te=new l.VkConnectNavigationCollector,Pe=new u.VkidEcosystemNavigationCollector,be=new E.GamesJsSDKEventStatsCollector,we=new g.ProfileActionButtonCollector,Ce=new A.SearchStatsCollector,De=new G.ShortVideoStatsCollector,Me=(new f.SuperappShowcaseStatsCollector,new H.VideoViewStatCollector),Le=new j.VideoSubscriptionNavCollector,Ne=new Y.VideoAuthorFilterClickStatsCollector,ke=new $.VideoAllSubscriptionsNavCollector,Ue=new X.VideoSubscriptionsSelectCreatorsNavCollector,Be=new re.VideoShowAllStatsCollector,xe=new ne.VideoRecommendOwnerCollector,Fe=(new I.VkAppsCatalogCollector,new y.SearchViewStatCollector),Ve=(new m.GamesFeedBlockStatsCollector,new R.CommunityAppsClickEventStatsCollector),Ke=new O.CommunityAppsCatalogActionEventCollector,We=new S.UnverifiedScreenEventCollector,He=new P.VideoUploadStatsCollector,Ge=new ie.VideoSubscribesHideAuthorStatsCollector,je=new L.VideoWatchItemStatsCollector,Ye=new M.VideoPublishStatsCollector,ze=new ae.VideoChannelCreateStatsCollector,qe=new b.VideoNextPrevClickCollector,$e=new C.VideoCreateClipStatsCollector,Xe=new se.VideoDashboardStatsCollector,Qe=new N.VideoPlaylistClickStatsCollector,Je=new U.VideoClipAddClickStatsCollector,Ze=new D.VideoAutoplayButtonStatsCollector,et=new z.VideoBarCommunityTapClickStatsCollector,tt=new q.VideoSubscriptionsClickStatsCollector,ot=new V.MiniAppsActionEventCollector,it=new k.VideoCopyLinkClickCollector,rt=new W.SnowballsEventsActionStatsCollector,nt=new K.SnowballsEventsClickStatsCollector,at=new Q.ClipDescriptionStatsCollector,st=(new J.ClipDownloadStatsCollector,new Z.VideoActionButtonStatsCollector),_t=(new B.VideoAnnouncementClickCollector,new x.VideoAnnouncementSuggestedClickCollector,new F.VideoAnnouncementSuggestedShowCollector,new ee.ClipSubscribeStatsCollector),ct=new te.VideoKidsAgeFilterActionCollector,lt=new oe.VideoKidsAgeFilterClickCollector,ut=new _e.FeedPostDonutPaymentStatsCollector},31727:(e,t,r)=>{"use strict";r.d(t,{GamesFeedBlockStatsCollector:()=>s});var n=r(317216),a=r(314309);class s{logEvent(e){const t={subtype:n.NavigationProductionStatEventTypes.GO,screen:"feed"},r={type:n.NavigationProductionStatEventTypes.TYPE_GAMES_FEED_BLOCK_NAVGO,[n.GAMES_FEED_BLOCK_ITEM]:{track_code:e}};this.navgoStatCollector.logEvent({...t,...r})}constructor(){this.productStatCollector=new a.ProductionStatCollector,this.navgoStatCollector=new a.NavigationStatCollector(this.productStatCollector)}}},857715:(e,t,r)=>{"use strict";r.d(t,{VideoAllSubscriptionsNavCollector:()=>s});var n=r(317216),a=r(314309);class s{logOpenEvent(e,t){const r={subtype:n.NavigationProductionStatEventTypes.GO,screen:"video_catalog",screen_to:t,item:{type:n.EventItemType.CATALOG_ITEM,track_code:e}};this.navStatCollector.logEvent(r)}logCloseEvent(e){const t={subtype:n.NavigationProductionStatEventTypes.BACK,screen:"video_subscriptions_all_creators",destination_item:{type:n.EventItemType.VIDEO_ALL_SUBSCRIPTIONS_BUTTON,track_code:e}};this.navStatCollector.logEvent(t)}constructor(){this.productStatCollector=new a.ProductionStatCollector,this.navStatCollector=new a.NavigationStatCollector(this.productStatCollector)}}},590432:(e,t,r)=>{"use strict";r.d(t,{VideoSubscriptionNavCollector:()=>s});var n=r(317216),a=r(314309);class s{logEvent(e,t){const r={subtype:t?n.NavigationProductionStatEventTypes.TAB_OPEN:n.NavigationProductionStatEventTypes.GO,screen:t?"video_subscriptions":"video_catalog",screen_to:"video_subscriptions"};t&&(r.item={type:n.EventItemType.CATALOG_ITEM,track_code:t}),e&&(r.destination_item={type:n.EventItemType.CATALOG_ITEM,track_code:e}),this.navStatCollector.logEvent(r)}constructor(){this.productStatCollector=new a.ProductionStatCollector,this.navStatCollector=new a.NavigationStatCollector(this.productStatCollector)}}},357788:(e,t,r)=>{"use strict";r.d(t,{VideoSubscriptionsSelectCreatorsNavCollector:()=>s});var n=r(317216),a=r(314309);class s{logOpenEvent(e,t="video_catalog"){const r={subtype:n.NavigationProductionStatEventTypes.GO,screen:t,screen_to:"video_subscriptions_select_creators"};e&&(r.item={type:n.EventItemType.CATALOG_ITEM,track_code:e}),this.navStatCollector.logEvent(r)}logCloseEvent(e,t="video_catalog",r=!1){const a={subtype:r?n.NavigationProductionStatEventTypes.GO:n.NavigationProductionStatEventTypes.BACK,screen:"video_subscriptions_select_creators",screen_to:t};e&&(a[r?"item":"destination_item"]={type:n.EventItemType.CATALOG_ITEM,track_code:e}),this.navStatCollector.logEvent(a)}constructor(){this.productStatCollector=new a.ProductionStatCollector,this.navStatCollector=new a.NavigationStatCollector(this.productStatCollector)}}},57075:(e,t,r)=>{"use strict";r.d(t,{NavigationStatCollector:()=>d,UNKNOWN:()=>l});var n=r(558137),a=r(317216),s=r(471180),_=r(540462),c=r(553608);const l="unknown",u=()=>(0,n.makeSharedState)("navigation-stat-collector-event-config",(()=>({data:{screen:l,tab_id:(()=>{const e="NAVIGATION_TAB_ID";if(!(0,c.isStorageAvailable)("localStorage"))return Math.floor(127*Math.random());let t=(Number(c.vkLocalStorage.getItem(e))||0)+1;return t=t>=127?0:t,c.vkLocalStorage.setItem(e,t),t})()}})),{version:0})();class d{logEvent(e){const t={...this.ProductionStatCollector.getBaseEvent(),type:a.ProductionStatEventTypes.TYPE_NAVGO,[a.ProductionStatEventTypes.TYPE_NAVGO]:e};return this.ProductionStatCollector.logEvent(t),{statEvent:t}}_logEvent(e){if(!(0,_.partConfigEnabled)("navigation_timespent"))return;const{statEvent:t}=this.logEvent(e);this.updateEventData(t)}updateEventData(e){const t=e[a.ProductionStatEventTypes.TYPE_NAVGO];this.setEventData({...this.getEventData(),prev_navgo_id:e.id,prev_navgo_timestamp:e.timestamp,screen:t.screen_to||t.screen,screen_prev:t.screen_to?t.screen:t.screen_prev})}getEventData(){return u().data}setEventData(e){return u().data=e}getDestinationItem(){const e=window.cur.navgoFields?.destination_item;return delete window.cur.navgoFields,e}getEvent(e,t){const r={...this.getEventData(),subtype:e};return t&&(r.screen=t),r}sendMoveEvent(e,t,{destinationItem:r}={}){const n={...this.getEvent(t),screen_to:e,destination_item:r??this.getDestinationItem()};if(n.screen===l)return console.warn("NavigationStatCollector: previous event not found."),null;(0,s.setLeftMenuScreen)(e),(0,s.setScreen)(n.screen),this._logEvent(n)}sendShow(e){this._logEvent(this.getEvent(a.NavigationProductionStatEventTypes.SHOW,e))}sendHide(e){this._logEvent(this.getEvent(a.NavigationProductionStatEventTypes.HIDE,e))}sendTabOpen(e){this._logEvent({...this.getEvent(a.NavigationProductionStatEventTypes.TAB_OPEN),screen:e??this.getModule(),destination_item:this.getDestinationItem()})}sendTabClose(e){this._logEvent(this.getEvent(a.NavigationProductionStatEventTypes.TAB_CLOSE,e))}sendGo(e,{destinationItem:t}={}){this.sendMoveEvent(e,a.NavigationProductionStatEventTypes.GO,{destinationItem:t})}sendBack(e){this.sendMoveEvent(e,a.NavigationProductionStatEventTypes.BACK)}getModule(){return window.cur?.module??l}getScreen(e=l){return window.cur?.screen?window.cur.screen===l?e:window.cur.screen:e}constructor(e){this.ProductionStatCollector=e}}},942746:(e,t,r)=>{"use strict";r.d(t,{ProductionStatCollector:()=>l});var n=r(298077),a=r(506856),s=r(101272),_=r(157007),c=r(540462);class l{getCurrentTime(e=!0){const t=Date.now().toString(10);return e?t+"000":t}getIntId(){return Math.floor(Math.random()*l.MAX_INT32)}logEvent(e,t){this.DEBUG&&(0,a.log)(e),e.type&&e[e.type]?(((0,c.partConfigEnabled)("production_stats_logs_immediately")||_.DebugConfig.get("productionStatsLogsImmediately"))&&(t={...t,force:!0}),(0,s.saveProductionStats)(e,t),this.lastEvent=e):(0,n.logError)(new Error("ProductionStatCollector: invalid event."))}getLastEvent(){return this.lastEvent}getBaseEvent(e){return{id:this.getIntId(),prev_id:this.lastEvent?.id,timestamp:this.getCurrentTime(),url:window.location.href,screen:e}}constructor(){this.DEBUG=!1}}l.MAX_INT32=2147483647},94592:(e,t,r)=>{"use strict";r.d(t,{RegistrationItemStatCollector:()=>_});var n=r(317216),a=r(540462),s=r(396858);class _{logFieldInteraction(e,t,r=!1){[n.RegistrationFieldItemNames.PASSWORD,n.RegistrationFieldItemNames.SMS_CODE,n.RegistrationFieldItemNames.RULES_ACCEPT].includes(e)&&(t=t?"1":"0");const a=r?"0":this.actionStatCollector.productionStatCollector.getCurrentTime(!1),s=this.fields[e];s?(s.value=t,s.end_interaction_time=a):this.fields[e]={name:e,value:t,start_interaction_time:a,end_interaction_time:a}}getFieldInteractions(){return Object.values(this.fields)}resetFieldInteractions(){for(const e of Object.getOwnPropertyNames(this.fields))delete this.fields[e]}logEvent(e,t,r,_,c,l,u,d,p){if(!(0,a.partConfigEnabled)("registration_item_stat"))return;const E={event_type:e,screen:t,unauth_id:(0,s.getCookie)("remixstlid")??(0,s.getCookie)("remixstid"),sid:(0,s.getCookie)("remixnreg_sid")};[n.RegistrationItemEventTypes.SCREEN_PROCEED,n.RegistrationItemEventTypes.SCREEN_SKIP,n.RegistrationItemEventTypes.SCREEN_RETURN,n.RegistrationItemEventTypes.INCORRECT_SMS_CODE,n.RegistrationItemEventTypes.POPUP_OPEN].includes(e)&&(E.screen_to=r,E.fields=this.getFieldInteractions(),this.resetFieldInteractions()),e!==n.RegistrationItemEventTypes.SELECT_COUNTRY_DONE&&e!==n.RegistrationItemEventTypes.PROCEED_OTHER_COUNTRY_CODE||!this.fields[n.RegistrationFieldItemNames.SELECT_COUNTRY_NAME]||(E.fields=this.getFieldInteractions().filter((e=>e.name===n.RegistrationFieldItemNames.SELECT_COUNTRY_NAME)),delete this.fields[n.RegistrationFieldItemNames.SELECT_COUNTRY_NAME]),e!==n.RegistrationItemEventTypes.SWITCH_FROM_ACCOUNT&&e!==n.RegistrationItemEventTypes.SWITCH_TO_ACCOUNT||!u||(E.user_id=u),c&&(E.fields=[...E.fields||[],...c]),l&&(E.app_id=l),d&&(E.multiacc_id=d),p&&(E.flow_source=p);const m={type:n.ActionProductionStatEventTypes.TYPE_REGISTRATION_ITEM,[n.ActionProductionStatEventTypes.TYPE_REGISTRATION_ITEM]:E};this.actionStatCollector.logEvent(m,_)}constructor(e){this.actionStatCollector=e,this.fields={}}}},317216:(e,t,r)=>{"use strict";r.d(t,{AUDIO_NAVIGATION_SCREEN_PREV:()=>d,ActionProductionStatEventTypes:()=>p,AlertInAppType:()=>$,AppSessionActionEventTypes:()=>H,CaptchaClientItemEventTypes:()=>b,CaptchaEventScreens:()=>a,ClickProductionStatEventTypes:()=>E,ClipDescriptionEventTypes:()=>me,ClipDescriptionLinkTypes:()=>Ae,ClipSubscribeEventTypes:()=>Ie,ClipSubscribeLinkTypes:()=>fe,CommunityAppsAddClickSourceTypes:()=>j,CommunityAppsCatalogClickItemTypes:()=>G,CommuntyAppsCatalogActionEventTypes:()=>V,CommuntyAppsCatalogActionSourceTypes:()=>K,DownloadedGamesItemType:()=>q,ETooltipEventTypes:()=>ye,EventClipSubscribeItemSubType:()=>ve,EventFieldValues:()=>s,EventItemSubType:()=>R,EventItemType:()=>y,EventScreens:()=>n,FeedInteractionItemType:()=>ae,FeedPostDonutPaymentEventSubtypeTypes:()=>Te,GAMES_FEED_BLOCK_ITEM:()=>l,GamesJsSDKEventNames:()=>F,IEasterEggsItemEventType:()=>Q,IMiniAppsEventTypesStatEvent:()=>I,IVkConnectNavigationItemEventType:()=>J,LongtapEventCategory:()=>B,MarketEventTypes:()=>f,MarketingTransitionItemCampaignType:()=>N,MarketingTransitionItemEventType:()=>k,MarketingTransitionItemSourceType:()=>U,MiniAppsUserActionItemType:()=>X,MusicPlaylistEventCategory:()=>x,MyGamesCloudItemType:()=>z,NavigationProductionStatEventTypes:()=>c,PersonalDiscountEventType:()=>ne,ProductionStatEventTypes:()=>_,ProfileActionButtonEventType:()=>ie,RADIO_STATION_EVENT_ITEM:()=>u,RegistrationFieldItemNames:()=>T,RegistrationFieldItemValues:()=>P,RegistrationItemEventTypes:()=>O,RegistrationItemFlowSource:()=>S,SearchClickActionMap:()=>re,UnblockAccountField:()=>Z,UnverifiedScreenActionEventTypes:()=>W,UserInfoStatsFeature:()=>C,UserInfoStatsOrientation:()=>L,UserInfoStatsPreferensContrast:()=>D,UserInfoStatsPrefersColorScheme:()=>M,VideoActionButtonEventTypes:()=>Re,VideoAutoplayButtonEventSubtypes:()=>he,VideoAutoplayButtonEventTypes:()=>Ee,VideoBarCommunityTapEventTypes:()=>Oe,VideoClipAddClickSubType:()=>g,VideoClipAddClickTypes:()=>m,VideoCreateChannelActionEventTypes:()=>le,VideoCreateChannelClickEventTypes:()=>ue,VideoCreateClipActionEventTypes:()=>de,VideoPlaylistEventTypes:()=>pe,VideoPublishActionEventSubtype:()=>_e,VideoPublishActionEventTypes:()=>ce,VideoSubscribesHideAuthorEventTypes:()=>ge,VideoSubscriptionsClickEventTypes:()=>Se,VideoUploadActionEventTypes:()=>se,ViewProductionStatEventTypes:()=>A,VkAppActionMenuActionType:()=>Y,VkidEcosystemNavigationItem:()=>te,VkidEcosystemNavigationItemEventType:()=>ee,VkidEcosystemNavigationItemPlace:()=>oe});var n=function(e){return e.NOWHERE="nowhere",e.OTHER="other",e.START="start",e.START_BOX="start_box",e.START_PROCEED_AS="start_proceed_as",e.REGISTRATION_DOWNLOAD_APP="registration_download_app",e.REGISTRATION_COUNTRY="registration_country",e.REGISTRATION_PHONE="registration_phone",e.REGISTRATION_PHONE_VERIFY="registration_phone_verify",e.REGISTRATION_PASSWORD="registration_password",e.REGISTRATION_EDUCATION="registration_education",e.REGISTRATION_EMAIL="registration_email",e.REGISTRATION_PHOTO="registration_photo",e.REGISTRATION_RECOM_THEMES="registration_recom_themes",e.REGISTRATION_EMAIL_EXPLANATION="registration_email_explanation",e.REGISTRATION_NAME="registration_name",e.REGISTRATION_INVITE_CONFIRM="registration_invite_confirm",e.REGISTRATION_LIST_FRIENDS_FACEBOOK="registration_list_friends_facebook",e.PHONE_2FA_VERIFY="phone_2fa_verify",e.OAUTH_FB="oauth_fb",e.FACEBOOK_REGISTRATION_FAILED="facebook_registration_failed",e.MAIN="main",e.MULTI_ACC_SWITCHER="multi_acc_switcher",e.ONBOARDING_MULTIACCOUNT="onboarding_multiaccount",e.CAPTCHA="captcha",e.MEET_PASSKEY="meet_passkey",e.CONNECT_PASSKEY="connect_passkey",e.CONNECTED_KEYS="connected_keys",e.ECOSYSTEM_NAVIGATION="ecosystem_navigation",e.AUTH_MOBILE_QR_CODE="auth_mobile_qr_code",e.QR_CODE_ASK_CONFIRM="qr_code_ask_confirm",e}({}),a=function(e){return e.CAPTCHA="captcha",e.OTHER="other",e}({}),s=function(e){return e.REGISTERED_VIA_FB="1",e}({}),_=function(e){return e.TYPE_NAVGO="type_navgo",e.TYPE_ACTION="type_action",e.TYPE_CLICK="type_click",e.TYPE_VIEW="type_view",e}({}),c=function(e){return e.GO="go",e.BACK="back",e.TAB_OPEN="tab_open",e.TAB_CLOSE="tab_close",e.HIDE="hide",e.SHOW="show",e}({});!function(e){e.TYPE_DONUT_DESCRIPTION_NAV_ITEM="type_donut_description_nav_item",e.TYPE_MARKET_NAVGO="type_market_navgo",e.TYPE_YOULA_SNIPPET_NAVGO="type_youla_snippet_navgo",e.TYPE_STUDIO_NAVGO="type_studio_navgo",e.TYPE_SERVICES_MAP_NAVGO="type_services_map_navgo",e.TYPE_MARUSIA_NAVGO="type_marusia_navgo",e.TYPE_MINI_APP_CATALOG_ITEM="type_mini_app_catalog_item",e.TYPE_GAMES_FEED_BLOCK_NAVGO="type_games_feed_block_navgo",e.TYPE_AUDIO_DOMAIN_EVENT_ITEM="type_audio_domain_event_item"}(c);const l="type_games_feed_block_item",u="type_radio_station_item",d="AUDIO_NAVIGATION_SCREEN_PREV";var p=function(e){return e.TYPE_REGISTRATION_ITEM="type_registration_item",e.TYPE_MARKETING_TRANSITION_ITEM="type_marketing_transition_item",e.TYPE_DONUT_PAYMENT_ITEM="type_donut_payment_item",e.TYPE_STUDIO_ITEM="type_studio_item",e.TYPE_CALL_ITEM="type_voip_call_item",e.TYPE_BRIDGE_EVENT_ITEM="type_bridge_event_item",e.TYPE_AD_MINI_APPS_EVENT_ITEM="type_ad_mini_apps_event_item",e.TYPE_EASTER_EGGS_ITEM="type_easter_eggs_item",e.TYPE_USER_INFO_STATS_ITEM="type_user_info_stats_item",e.TYPE_IDLE_TAB_STATS_ITEM="type_idle_tab_stats_item",e.TYPE_VK_CONNECT_NAVIGATION_ITEM="type_vk_connect_navigation_item",e.TYPE_GAMES_JS_SDK_ITEM="type_games_js_sdk_item",e.TYPE_SERVICES_MAP_ITEM="type_services_map_item",e.TYPE_SURVEY_MINI_APPS_EVENT_ITEM="type_survey_mini_apps_event_item",e.TYPE_PERFORMANCE_STATS_ITEM="type_performance_stats_item",e.TYPE_COMMUNITY_APPS_CATALOG_EVENT_ITEM="type_community_apps_catalog_transition_item",e.TYPE_MINI_APPS_ACTION_ITEM="type_mini_apps_action_item",e.TYPE_UNVERIFIED_SCREEN_ITEM="type_unverified_screen_item",e.TYPE_MINI_APPS_PERSONAL_DISCOUNT_EVENT_ITEM="type_mini_apps_personal_discount",e.TYPE_CATALOG_AUDIO_LONGTAP_ITEM="type_audio_longtap_item",e.TYPE_CATALOG_AUDIO_SNIPPET_ITEM="type_audio_snippet_item",e.TYPE_AUDIO_DISLIKES_ITEM="type_audio_dislike_item",e.TYPE_FEED_INTERACTION_ITEM="type_feed_interaction_item",e.TYPE_CAPTCHA_CLIENT_ITEM="type_captcha_client_item",e.TYPE_VIDEO_UPLOAD_ITEM="type_video_upload_item",e.TYPE_VIDEO_PUBLISH_ITEM="type_video_publish_item",e.TYPE_VIDEO_WATCH_ITEM="type_video_watch_item",e.TYPE_BROWSER_CERTIFICATE_SUPPORT_STATS_ITEM="type_browser_certificate_support_stats_item",e.TYPE_RECOM_THEMES_ITEM="type_recom_themes_item",e.TYPE_SNOWBALLS_EVENTS_ITEM="type_snowball_events_item",e.TYPE_MT_TIMESPENT_ITEM="type_mt_timespent_item",e.TYPE_VKID_ECOSYSTEM_NAVIGATION_ITEM="type_vkid_ecosystem_navigation_item",e.TYPE_FEED_OPEN_ITEM="type_feed_open_item",e.TYPE_FEED_COMMENTS_SORT_TAB_CLICK="type_feed_comments_sort_tab_click",e.TYPE_FEED_ITEM_MENU_ACTION="type_feed_item_menu_action",e.TYPE_UI_HINT_ITEM="type_ui_hint_item",e.TYPE_POSTING_TIMELINE="type_posting_timeline",e.TYPE_AUDIO_TAP_EVENT_ITEM="type_audio_tap_event_item",e.TYPE_AUDIO_TAP_PLAY_EVENT_ITEM="type_audio_tap_play_event_item",e.TYPE_MUSIC_PLAYLIST_TAP_PLAY="type_audio_redesign_playlist_tap_play_event_item",e.TYPE_VIDEO_AGE_FILTER_ACTION="type_action",e.TYPE_FEED_OPEN_COMMENTS_MODAL="type_feed_open_comments_modal",e.TYPE_LOCAL_SEARCH_ITEM="type_local_search_item",e.TYPE_VIDEO_CREATE_CHANNEL_ACTION="type_video_create_channel_action",e}({}),E=function(e){return e.TYPE_MARKET_CLICK="type_market_click",e.TYPE_WORKI_CLICK="type_worki_click",e.TYPE_CATALOG_BANNER_ITEM="type_catalog_banner_item",e.TYPE_MINI_APP_ITEM="type_mini_app_item",e.TYPE_MESSAGING_CONTACT_RECOMMENDATIONS_ITEM="type_messaging_contact_recommendations_item",e.TYPE_STUDIO_PERIOD_SELECT="type_studio_period_select",e.TYPE_QUESTION_ITEM="type_question_item",e.TYPE_PROFILE_ACTION_BUTTON_ITEM="type_profile_action_button_item",e.TYPE_PROFILE_ITEM="type_profile_item",e.TYPE_SEARCH_CLICK_ITEM="type_search_click_item",e.TYPE_SHORT_VIDEO_CLICK_ITEM="type_short_video_click_item",e.TYPE_CATALOG_ITEM="type_catalog_item",e.TYPE_POSTING_ITEM="type_posting_item",e.TYPE_PHOTOS_ITEM="type_photos_item",e.FOLLOWERS_MODE_ONBOARDING_CLICK="type_followers_mode_onboarding_click",e.FOLLOWERS_MODE_SWITCH_STATE="type_followers_mode_switch_state",e.TYPE_COMMUNITY_APPS_CATALOG_ITEM="type_community_apps_catalog_click_item",e.TYPE_COMMUNITY_ITEM="type_groups_event_item",e.TYPE_MINI_APPS_SESSION="type_mini_apps_session",e.TYPE_MARUSIA_CONVERSATION_ITEM="type_marusia_conversation_item",e.TYPE_CATALOG_AUDIO_LONGTAP_ITEM="type_audio_longtap_item",e.TYPE_CATALOG_AUDIO_SNIPPET_ITEM="type_audio_snippet_item",e.TYPE_FEED_INTERACTION_ITEM="type_feed_interaction_item",e.TYPE_SNOWBALL_EVENTS_ITEM="type_snowball_events_item",e.TYPE_VIDEO_SHOW_ALL_CLICK="type_video_show_all_click",e.TYPE_VIDEO_PLAYLIST_ITEM="type_video_playlist_item",e.TYPE_VIDEO_NEXT_PREV_CLICK="type_next_prev_video_button_tap",e.TYPE_VIDEO_ADD_ITEM="type_video_add_item",e.TYPE_VIDEO_AUTOPLAY_ITEM="type_video_autoplay_item",e.TYPE_VIDEO_AUTHOR_FILTER_CLICK="type_video_author_filter_click",e.TYPE_FEED_OPEN_ITEM="type_feed_open_item",e.TYPE_CLIPS_DESCRIPTION_CLICK_ITEM="type_clips_description_click_item",e.TYPE_VIDEO_STOP_RECOMMENDING_CREATOR="type_video_stop_recommending_creator",e.TYPE_VIDEO_UNDO_STOP_RECOMMENDING_CREATOR="type_video_undo_stop_recommending_creator",e.TYPE_VIDEO_ANNOUNCEMENT_CLICK="type_next_video_announcement_click",e.TYPE_VIDEO_ANNOUNCEMENT_SUGGESTED_CLICK="type_next_video_announcement_suggested_click",e.TYPE_VIDEO_ANNOUNCEMENT_SUGGESTED_SHOW="type_next_video_announcement_suggested_show",e.TYPE_FEED_COMMENTS_SORT_TAB_CLICK="type_feed_comments_sort_tab_click",e.TYPE_FEED_ITEM_MENU_ACTION="type_feed_item_menu_action",e.TYPE_CLIP_VIEWER_ITEM="type_clip_viewer_item",e.TYPE_VIDEO_CREATE_CLIP="type_video_create_clip",e.TYPE_VIDEO_CLICK_WITH_ACTIVE_PLAYER="type_video_click_with_active_player",e.TYPE_VIDEO_BAR_COMMUNITY_TAP="type_video_bar_community_tap",e.TYPE_VIDEO_SUBSCRIPTIONS_SELECT_CREATORS_CLICK="type_video_subscriptions_select_creators_click_item",e.TYPE_VIDEO_SELECT_CREATORS_BANNER_CLICK="type_video_select_creators_banner_click",e.TYPE_VIDEO_TRANSFER_FROM_YOUTUBE_CLICK="type_video_transfer_from_youtube_click",e.TYPE_VIDEO_CREATE_CHANNEL_CLICK="type_video_create_channel_click",e.TYPE_AUDIO_TAP_GOTO_EVENT_ITEM="type_audio_tap_goto_event_item",e.TYPE_ONBOARDING_EVENT="type_onboarding_event",e.TYPE_CREATOR_VISIBLE_CLICK="type_creator_visible_click",e.TYPE_IM_PUSH_NOTIFICATIONS_SETTINGS_CLICK="type_im_push_notifications_settings_click",e.TYPE_FEED_POST_DONUT_PAYMENT_CLICK="type_feed_post_donut_payment_click",e.TYPE_MUSIC_PLAYLIST_TAP_GOTO="type_audio_redesign_playlist_tap_goto_event_item",e.TYPE_FEED_OPEN_COMMENTS_MODAL="type_feed_open_comments_modal",e}({}),m=function(e){return e.TRY_UPLOAD_CLIP="try_upload_clip",e.TRY_UPLOAD_VIDEO="try_upload_video",e.CHOOSE_CLIP_FILE="choose_clip_file",e.CHOOSE_VIDEO_FILE="choose_video_file",e}({}),g=function(e){return e.FROM_MAIN="from_main",e.FROM_VIDEO="from_video",e.FROM_ALL_COMMUNITIES="from_all_communities",e.FROM_COMMUNITY="from_community",e.FROM_COMMUNITY_VK="from_community_vk",e.FROM_PROFILE_VK="from_profile_vk",e.FROM_ADD_VIDEO="from_add_video",e.FROM_UPLOAD_VIDEO="from_upload_video",e.FROM_PLAYLIST="from_playlist",e.FROM_ALL_PLAYLIST_IN="from_all_playlists_in",e.FROM_ALL_PLAYLIST_ADD="from_all_playlists_add",e}({}),A=function(e){return e.TYPE_CATALOG_BANNER_ITEM="type_catalog_banner_item",e.TYPE_MARKET_VIEW="type_market_view",e.TYPE_MINI_APPS_VIEW_ITEM="type_mini_app_view_item",e.TYPE_CATALOG_SPECIAL_PROJECT_ITEM="type_catalog_special_project_item",e.TYPE_MARUSIA_CONVERSATION_ITEM="type_marusia_conversation_item",e.TYPE_CATALOG_AUDIO_LONGTAP_ITEM="type_audio_longtap_item",e.TYPE_FEED_ITEM="type_feed_item",e.TYPE_ONBOARDING_EVENT="type_onboarding_event",e}({}),f=function(e){return e.TYPE_MARKET_ORDERS_ITEM="type_market_orders_item",e.TYPE_MARKET_CARTS_ITEM="type_market_carts_item",e.TYPE_MARKET_GOODS_ITEM="type_market_item",e.TYPE_MARKET_MARKETPLACE_ITEM="type_market_marketplace_item",e.TYPE_MARKET_ADD_ITEM_TO_BOOKMARKS="type_market_add_item_to_bookmarks",e}({}),I=function(e){return e.CATALOG_PROMO_BANNER_VIEWED="catalog_promo_banner_viewed",e.CATALOG_CAROUSEL_BANNER_VIEWED="catalog_carousel_banner_viewed",e.CATALOG_SECTION_PROMO_BANNER_VIEWED="catalog_section_promo_banner_viewed",e}({}),y=function(e){return e.CURATOR="curator",e.ARTICLE="article",e.ADS="ads",e.GROUP="group",e.PHOTO="photo",e.POST="post",e.STORY="story",e.USER="user",e.BROWSER="browser",e.NARRATIVE="narrative",e.MINI_APP="mini_app",e.GAME="game",e.MARKET_ITEM="market_item",e.MARKET_ITEM_ALBUM="market_item_album",e.MARKET_ORDER="market_order",e.MARKETPLACE_GEO_CHANGE="marketplace_geo_change",e.CATALOG_BANNER="catalog_banner",e.GROUP_CATEGORY_ITEM="group_category_item",e.AUDIO_FULLSCREEN_BANNER="audio_fullscreen_banner",e.AUDIO_SPECIAL_PROGECT_MODAL="audio_special_project_modal",e.WORKI_SNIPPET="worki_snippet",e.MINI_APPS_CATALOG_BANNER_VIEWED="catalog_promo_banner_viewed",e.MINI_APPS_CATALOG_BANNER="catalog_promo_banner",e.CATALOG_SECTION_PROMO_BANNER_VIEWED="catalog_section_promo_banner_viewed",e.TYPE_MESSAGING_CONTACT_RECOMMENDATIONS_ITEM="type_messaging_contact_recommendations_item",e.STUDIO="studio",e.OPEN_CATALOG_ECO_MENU="open_catalog_eco_menu",e.QUESTION="question",e.PROFILE="profile",e.TYPE_SUPERAPP_CLICK="type_superapp_click",e.SUPER_APP="super_app",e.SEARCH_SUGGESTION="search_suggestion",e.LINK="link",e.CATALOG_ITEM="catalog_item",e.CLICK_ITEM="click_item",e.SEARCH_AUTHOR="search_author",e.MINI_APPS_LAUNCH_EXTENDED="launch_extended",e.MINI_APPS_MODAL_OPEN_GAMES_PWA_VIEW="games_view_open_pwa",e.MINI_APPS_MODAL_OPEN_GAMES_PWA_CLICK="games_click_open_pwa",e.MINI_APPS_MODAL_OPEN_GAMES_PWA_DECLINE="games_click_decline_open_pwa",e.MINI_APPS_MODAL_INSTALL_GAMES_PWA_VIEW="games_view_install_pwa",e.MINI_APPS_MODAL_INSTALL_GAMES_PWA_CLICK="games_click_install_pwa",e.MINI_APPS_MODAL_INSTALL_GAMES_PWA_DECLINE="games_click_decline_install_pwa",e.MINI_APPS_MODAL_SUBSCRIBE_PUSH_GAMES_PWA_SHOW="games_pwa_show_modal_subscribe_push",e.MINI_APPS_MODAL_SUBSCRIBE_PUSH_GAMES_PWA_DECLINE="games_click_decline_subscribe_push_pwa",e.FOLLOWERS_MODE_ONBOARDING_BUTTON_ENTRYPOINT_VIEW="type_followers_mode_onboarding_entrypoint_view",e.MUSIC_PLAYLIST="playlist",e.MUSIC_ALBUM="album",e.MUSIC_AUDIO="audio",e.EVENT="event",e.START="start",e.OPEN="open",e.STOP="stop",e.ADDED="added",e.HINT="hint",e.CLIP="clip",e.STICKERS="stickers",e.IM_GROUP_CHAT="group_chat",e.IM_CONTACT="contact",e.IM_BUSINESS_NOTIFY="business_notify",e.IM_GROUP_MESSAGE_REQUEST="group_message_request",e.IM_USER_MESSAGE_REQUEST="user_message_request",e.IM_CONVO_INVITE="convo_invite",e.IM_SHARED_CONVOS="shared_convos",e.IM_CREATE_CONVERSATION="create_conversation",e.IM_CONTACTS_LIST="contacts_list",e.IM_CONTACTS_IMPORT="contacts_import",e.IM_LIST_ALL="list_all",e.IM_LIST_UNREAD="list_unread",e.IM_LIST_ARCHIVE="list_archive",e.IM_LIST_BUSINESS_NOTIFY="list_business_notify",e.IM_LIST_MR="list_mr",e.IM_FAV_BOX="fav_box",e.IM_SEARCH_MESSAGES_TAB="search_messages_tab",e.IM_SEARCH_CONVOS_TAB="search_convos_tab",e.IM_NOTIFICATIONS="notifications",e.IM_FASTCHATS_LIST_ALL="fastchats_list_all",e.IM_FASTCHATS_LIST_UNREAD="fastchats_list_unread",e.IM_FASTCHATS_THUMBS="fastchats_thumbs",e.IM_TOP_MESSENGER_LIST_ALL="top_messenger_list_all",e.IM_TOP_MESSENGER_LIST_UNREAD="top_messenger_list_unread",e.IM_TOP_MESSENGER_LIST_CHATS="top_messenger_list_chats",e.IM_GLOBAL_SEARCH="global_search",e.IM_PEER_INFO_POPUP="peer_info_popup",e.IM_SAK_MODULE="sak_module",e.IM_FASTCHATS_LIST_FRIENDS_ONLINE="fastchats_list_friends_online",e.IM_LIST_FOLDER="list_folder",e.IM_CALLS="calls",e.IM_FORWARD_MESSAGES_TARGET="forward_messages_target",e.IM_PROFILE_PAGE="profile_page",e.IM_VOICE_PLAYER="voice_player",e.IM_AUDIO_PLAYER="audio_player",e.IM_PUSH_NOTIFICATIONS_SETTINGS="notifications_settings",e.ONBOARDING="onboarding",e.OPEN_GROUP="open_group",e.OPEN_PARENT_GROUP="open_parent_group",e.OPEN_USER="open_user",e.OPEN_PARENT_USER="open_parent_user",e.OPEN_PHOTO="open_photo",e.OPEN_AUDIO="open_audio",e.LONGTAP_DRILLDOWN="longtap_drilldown",e.EXPAND="expand",e.CLICK_NEXT="click_next",e.CLICK_PREVIOUS="click_previous",e.CLICK_PRETTY_CARD="click_pretty_card",e.REPORT="report",e.RADIO="radio",e.SEARCH_PEOPLE_FRIENDS="search_people_friends",e.SEARCH_PEOPLE_EXCEPT_FRIENDS="search_people_except_friends",e.CLICK_ONLINE_BOOKING="click_online_booking",e.AUDIO_SNIPPETS_SNIPPET_FEED_OPEN="snippet_feed_open",e.AUDIO_SNIPPETS_SNIPPET_FEED_EXIT="snippet_feed_exit",e.AUDIO_SNIPPETS_SNIPPET_FEED_DRILLDOWN="snippet_feed_drilldown",e.AUDIO_SNIPPETS_PAUSE="pause",e.AUDIO_SNIPPETS_STOP="stop",e.AUDIO_SNIPPETS_START="start",e.AUDIO_SNIPPETS_ADDED="added",e.AUDIO_SNIPPETS_REMOVED="removed",e.AUDIO_SNIPPETS_NEXT_SNIPPET="next_snippet",e.AUDIO_SNIPPETS_PREV_SNIPPET="prev_snippet",e.AUDIO_SNIPPETS_SNIPPET_FEED_PLAYLIST_UP="snippet_feed_playlist_up",e.AUDIO_SNIPPETS_SNIPPET_FEED_PLAYLIST_DOWN="snippet_feed_playlist_down",e.AUDIO_SNIPPETS_SNIPPET_PLAYLIST_END="snippet_playlist_end",e.AUDIO_SNIPPETS_SNIPPET_FEED_END="snippet_feed_end",e.AUDIO_DISLIKES_ADD_DISLIKE="add_dislike",e.AUDIO_DISLIKES_REMOVE_DISLIKE="remove_dislike",e.MUSIC_PLAYLIST_GOTO="goto",e.MUSIC_PLAYLIST_PLAY="play",e.INT_LINK_CLICK="int_link_click",e.INT_LINK_CLICK_SNIPPET="int_link_click_snippet",e.EXT_LINK_CLICK="ext_link_click",e.EXT_LINK_CLICK_SNIPPET="ext_link_click_snippet",e.CAPTION_LINK_CLICK="caption_link_click",e.AUDIO_RADIOSTATION_FOLLOW="follow",e.AUDIO_RADIOSTATION_UNFOLLOW="unfollow",e.AUDIO_GO_TO="goto",e.VIDEO="video",e.VIDEO_PLAYLIST="video_playlist",e.VIDEO_ALL_SUBSCRIPTIONS_BUTTON="video_all_subscriptions_button",e.VIDEO_AGE_FILTER_SELECT="type_video_kids_age_filter_select",e.VIDEO_KIDS_AGE_FILTER_BUTTON_TAP="type_video_kids_age_filter_button_tap",e.VIDEO_KIDS_AGE_FILTER_BUTTON_RESET="type_video_kids_age_filter_button_reset",e.TYPE_ONBOARDING_EVENT="type_onboarding_event",e}({}),R=function(e){return e.SWITCH_ITEM_VARIANT_1="switch_item_variant_1",e.SWITCH_ITEM_VARIANT_2="switch_item_variant_2",e.OPEN_WIKI="open_wiki",e.AUDIO_LONGTAP_CLICK_OUTSIDE="click_outside",e.AUDIO_LONGTAP_CLICK_EXIT="click_exit",e.AUDIO_LONGTAP_AUTO_FINISH="auto_finish",e.AUDIO_LONGTAP="longtap",e.AUDIO_ADD_AFTER_LONGTAP="add_longtap",e.AUDIO_LONGTAP_HINT="hint_longtap",e.AUDIO_LONGTAP_OPEN="open_longtap",e.AUDIO_LONGTAP_GO_TO_TRACK="goto_track",e.AUDIO_LONGTAP_GO_TO_ARTIST="goto_artist",e.AUDIO_SNIPPETS_SWIPE="swipe",e.AUDIO_SNIPPETS_OVERLAY="overlay",e.AUDIO_SNIPPETS_GOTO_TRACK="goto_track",e.AUDIO_SNIPPETS_GOTO_PLAYLIST="goto_playlist",e.AUDIO_SNIPPETS_GOTO_ARTIST="goto_artist",e.AUDIO_SNIPPETS_PLAY_BTN="play_btn",e.AUDIO_SNIPPETS_SESSION_TERMINATED="session_terminated",e.AUDIO_SNIPPETS_CLOSE="close",e.AUDIO_SNIPPETS_ERROR="error",e.AUDIO_SNIPPETS_NEXT="next",e.AUDIO_SNIPPETS_PREV="prev",e.AUDIO_SNIPPETS_AUTOPLAY="autoplay",e.AUDIO_SNIPPETS_CHANGE_SOURCE="change_source",e.AUDIO_SNIPPETS_ADD_TRACK="add_track",e.AUDIO_SNIPPETS_NEXT_BTN="next_btn",e.AUDIO_SNIPPETS_PREV_BTN="prev_btn",e.AUDIO_SNIPPETS_ADD_SNIPPET="add_snippet",e.AUDIO_SNIPPETS_REMOVE_SNIPPET="remove_snippet",e.AUDIO_SNIPPETS_TAP="tap",e.AUDIO_DISLIKES_ADDED_TO_MM="added_to_mm",e.AUDIO_RADIO_ADD="add",e.AUDIO_RADIO_FIND="find",e.MUSIC_PLAYLIST_START="start",e.VIDEO_FILTER_RESET_BUTTON="button",e}({}),O=function(e){return e.SCREEN_PROCEED="screen_proceed",e.SCREEN_SKIP="screen_skip",e.SCREEN_RETURN="screen_return",e.COMMON_SERVER_ERROR="common_server_error",e.RESEND_SMS_CODE="resend_sms_code",e.RESEND_SMS_CODE_FAILED="resend_sms_code_failed",e.INCORRECT_SMS_CODE="incorrect_sms_code",e.INCORRECT_PASSWORD="incorrect_password",e.INCORRECT_NAME="incorrect_name",e.INCORRECT_CAPTCHA="incorrect_captcha",e.INCORRECT_PHONE_NUMBER="incorrect_phone_number",e.INCORRECT_BDAY="incorrect_bday",e.INCORRECT_SEX="incorrect_sex",e.INCORRECT_EMAIL="incorrect_email",e.EXISTING_EMAIL="existing_email",e.INCORRECT_EDUCATION="incorrect_education",e.SUCCESS_2FA="success_2fa",e.LOGIN_TAP="login_tap",e.PASSWORD_TAP="passw_tap",e.START_REG_TAP="start_reg_tap",e.FIRST_COUNTRY="first_country",e.FIRST_EDUCATION="first_education",e.FIRST_EMAIL="first_email",e.FIRST_FRIEND_ASK="first_friend_ask",e.SELECT_COUNTRY="select_country",e.SELECT_COUNTRY_DONE="select_country_done",e.INPUT_NUMBER_INTERACTION="input_number_interaction",e.INPUT_CODE_INTERACTION="input_code_interaction",e.PROCEED_OTHER_COUNTRY_CODE="proceed_other_country_code",e.INPUT_PHONE="input_phone",e.INPUT_EMAIL="input_email",e.AUTH_SAVED_START="auth_saved_start",e.ADD_ACCOUNT_TO_SAVED_START="add_account_to_saved_start",e.DROP_ACCOUNT_FROM_SAVED="drop_account_from_saved",e.POPUP_OPEN="popup_open",e.MULTIACC_ADD_ANOTHER_ACCOUNT_TAP="multiacc_add_another_account_tap",e.MULTIACC_DROP_ACCOUNT_TAP="multiacc_drop_account_tap",e.MULTIACC_DROP_ACCOUNT="multiacc_drop_account",e.CONTINUE_TAP="continue_tap",e.SWITCH_ACCOUNT_TAP="switch_account_tap",e.SWITCH_FROM_ACCOUNT="switch_from_account",e.SWITCH_TO_ACCOUNT="switch_to_account",e.REFUSE_ONBOARDING_PASSKEY="refuse_onboarding_passkey",e.CREATE_BUSINESS_START="create_business_start",e.AUTH_QR_CODE_START="auth_qr_code_start",e.QR_CODE_SHOW="qr_code_show",e.MORE_INFO_TAP="more_info_tap",e.QR_CODE_EXPIRED="qr_code_expired",e.QR_CODE_REFRESH_TAP="qr_code_refresh_tap",e.QR_CODE_SCANNED="qr_code_scanned",e}({}),S=function(e){return e.MOBILE_QR_AUTH="mobile_qr_auth",e}({}),T=function(e){return e.ACCOUNTS_COUNT="accounts_cnt",e.PHONE_COUNTRY="phone_country",e.PHONE_NUMBER="phone_number",e.COUNTRY="country",e.CITY="city",e.EMAIL="email",e.UNIVERSITY="university",e.FACULTY="faculty",e.SCHOOL="school",e.CHAIR="chair",e.YEAR_FROM="year_from",e.YEAR_TO="year_to",e.CLASS="class",e.EDU_FORM="edu_form",e.EDU_STATUS="edu_status",e.GRADUATION="graduation",e.SPECIALIZATION="specialization",e.RULES_ACCEPT="rules_accept",e.SMS_CODE="sms_code",e.FIRST_NAME="first_name",e.LAST_NAME="last_name",e.SEX="sex",e.BDAY="bday",e.PASSWORD="password",e.FACEBOOK_REGISTRATION="facebook_registration",e.FRIEND_ASK="friend_ask",e.VERIFICATION_TYPE="verification_type",e.SELECT_COUNTRY_NAME="select_country_name",e.SAVED_SOURCE="saved_source",e.AVAILABLE_AUTH_WITH_QR="available_auth_with_qr",e.NAME_MULTIACC_ADD_ACCOUNT_TYPE="multiacc_add_account_type",e.TO_SWITCHER_FROM="to_switcher_from",e.SAVED_AUTHORIZATION_ON="save_authorization_on",e.ONBOARDING_TYPE="onboarding_type",e.DEEPLINK="deeplink",e.QR_CODE_ID="qr_code_id",e}({}),P=function(e){return e.SAVED_SOURCE_CAROUSEL="carousel",e.LONG="long",e.ONBOARDING="onboarding",e.ADD_ACCOUNT_CREATE_MULTIACC="add_account_create_multiacc",e}({}),b=function(e){return e.SCREEN_PROCEED="screen_proceed",e.SCREEN_SKIP="screen_skip",e.SCREEN_RETURN="screen_return",e.SCREEN_BLUR="screen_blur",e.CAPTCHA="captcha",e.INCORRECT_CAPTCHA="incorrect_captcha",e.CAPTCHA_SUCCESS="captcha_success",e.CAPTCHA_REFRESH="captcha_refresh",e}({}),C=function(e){return e[e.NOT_SUPPORTED=0]="NOT_SUPPORTED",e[e.NONE=1]="NONE",e[e.ACTIVE=2]="ACTIVE",e}({}),D=function(e){return e[e.NOT_SUPPORTED=0]="NOT_SUPPORTED",e[e.NONE=1]="NONE",e[e.MORE=2]="MORE",e[e.LESS=3]="LESS",e[e.CUSTOM=4]="CUSTOM",e}({}),M=function(e){return e[e.NOT_SUPPORTED=0]="NOT_SUPPORTED",e[e.DARK=1]="DARK",e[e.LIGHT=2]="LIGHT",e}({}),L=function(e){return e[e.NOT_SUPPORTED=0]="NOT_SUPPORTED",e[e.PORTRAIT=1]="PORTRAIT",e[e.LANDSCAPE=2]="LANDSCAPE",e}({}),N=function(e){return e.UNAUTH_BOTTOM_BANNER="unauth_bottom_banner",e.UNAUTH_ACTION_BOX="unauth_action_box",e}({}),k=function(e){return e.OPEN="open",e.CLOSE="close",e.CLICK_SIGN_UP="click_sign_up",e.CLICK_SIGN_IN="click_sign_in",e.CLICK_OPEN_IN_APP="click_open_in_app",e}({}),U=function(e){return e.LIKE="like",e.SHARE="share",e.MORE="more",e.FAVE="fave",e.COMMENT="comment",e}({}),B=function(e){return e.play="play",e.view="view",e.action="action",e.nav="nav",e}({}),x=function(e){return e.Tap="tap",e}({}),F=function(e){return e.INIT="games_js_sdk_init",e}({}),V=function(e){return e.OPEN_COMMUNITY_APPS_CATALOG="open_community_apps_catalog",e.EXPAND_COMMUNITY_APPS_TAB="expand_community_apps_tab",e.COMMUNITY_APPS_ALL="community_apps_all",e.COMMUNITY_APPS_BUSINESS="community_apps_business",e.COMMUNITY_APPS_EVENT="community_apps_event",e.COMMUNITY_APPS_ENTERTAINMENT="community_apps_entertainment",e.OPEN_COMMUNITY_APPS_TAB="open_community_apps_tab",e}({}),K=function(e){return e.COMMUNITY_APPS_SETTINGS_LIST="community_apps_settings_list",e.MINI_APPS_CATALOG_COMMUNITY_APPS_SECTION="mini_apps_catalog_community_apps_section",e}({}),W=function(e){return e.UNVERIFIED_SCREEN="unverified_screen",e.UNVERIFIED_SCREEN_LAUNCH="unverified_screen_launch",e.UNVERIFIED_SCREEN_QUIT="unverified_screen_quit",e}({}),H=function(e){return e.START="session_start",e.SESSION_END="session",e.SESSION_PART="session_part",e}({}),G=function(e){return e.COMMUNITY_APPS_LIST_CLICK_ADD="community_apps_list_click_add",e.APPS_SETTINGS_LIST_CLICK_ADD="apps_settings_list_click_add",e.OPEN_INSTALLED_APP_POPUP="open_installed_app_popup",e.OPEN_INSTALLED_APP_SETTINGS="open_installed_app_settings",e.OPEN_INSTALLED_APP_FIRST_SETTINGS="open_installed_app_first_settings",e.CLICK_ADD_APP="CLICK_ADD_APP",e.SAVE_APP_SETTING_CHANGES="SAVE_APP_SETTING_CHANGES",e.INSTALL_APP_WIDGET="INSTALL_APP_WIDGET",e}({}),j=function(e){return e.COMMUNITY_APPS_SETTINGS_LIST="community_apps_settings_list",e.COMMUNITY_APPS_SETTINGS_CARD="community_apps_settings_card ",e.COMMUNITY_APPS_CATALOG_LIST="community_apps_catalog_list",e.COMMUNITY_APPS_CATALOG_CARD="community_apps_catalog_card",e.MINI_APPS_CATALOG_COMMUNITY_APPS_SECTION="mini_apps_catalog_community_apps_section",e}({}),Y=function(e){return e.ACTION_MENU_SHARE="action_menu_share",e.ACTION_MENU_ADD_TO_FAVOURITES="action_menu_add_to_favourites",e.ACTION_MENU_REMOVE_FROM_FAVOURITES="action_menu_remove_from_favourites",e.ACTION_MENU_ENABLE_NOTIFICATIONS="action_menu_enable_notifications",e.ACTION_MENU_DISABLE_NOTIFICATIONS="action_menu_disable_notifications",e.ACTION_MENU_ALL_APPS="action_menu_all_apps",e.ACTION_MENU_ALL_GAMES="action_menu_all_games",e.ACTION_MENU_COPY="action_menu_copy",e.ACTION_MENU_DELETE="action_menu_delete",e.ACTION_MENU_RECOMMEND="action_menu_recommend",e.ACTION_MENU_UNRECOMMEND="action_menu_unrecommend",e.ACTION_MENU_ENABLE_BADGES="action_menu_enable_badges",e.ACTION_MENU_DISABLE_BADGES="action_menu_disable_badges",e.ACTION_MENU_ADD_TO_BOOKMARKS="action_menu_add_to_bookmarks",e.ACTION_MENU_REMOVE_FROM_BOOKMARKS="action_menu_remove_from_bookmarks",e}({}),z=function(e){return e.CLICK_GAME_CARD="cloud_games_game_click",e.CLICK_DOWNLOAD_GAME="cloud_games_client_download",e.OPEN_SECTION="cloud_games_section_open",e}({}),q=function(e){return e.SECTION_OPEN="downloaded_games_section_open",e.SECTION_LOADED="downloaded_games_section_loaded",e.SECTION_ERROR="downloaded_games_section_error",e.DOWNLOAD_GAME="downloaded_games_download",e.LAUNCH_GAME="downloaded_games_launch",e.SHOW_GAME="downloaded_games_show_game",e.NEED_MORE="downloaded_games_need_more",e}({}),$=function(e){return e.SHOW="notifications_request_sent",e.CLOSE="notifications_request_close",e.SWIPE="notifications_request_swipe",e.TIMEOUT_CLOSE="notifications_request_timeout",e.SETTING_OPEN="notifications_request_settings_open",e}({}),X=function(e){return e.RECOMMENDATION_MODAL_RECOMMEND="recommendation_modal_recommend",e.RECOMMENDATION_MODAL_CANCEL="recommendation_modal_cancel",e}({}),Q=function(e){return e.EGG_SHOW="egg_show",e.POPUP_SHOW="popup_show",e.POPUP_ACTION="popup_action",e}({}),J=function(e){return e.CLICK_ENTER_LK="click_enter_lk",e.CLICK_VK_PAY="click_vk_pay",e.CLICK_VK_COMBO="click_vk_combo",e.POPUP_OPEN="popup_open",e.POPUP_CLOSE="popup_close",e.SERVICE_NAVIGATION_CLICK="service_navigation_click",e.SERVICE_NAVIGATION_OPEN="service_navigation_open",e.SERVICE_NAVIGATION_CLOSE="service_navigation_close",e.CANCEL_ON_EXIT="cancel_on_exit",e.SAVE_LOGIN_MODAL_SHOW="save_login_modal_show",e.START_PHONE_CUA="start_phone_cua",e.CLICK_SETTINGS="click_settings",e.CLICK_THEME="click_theme",e.CLICK_SUPPORT="click_support",e.UNBLOCK_PROTECT_ACCOUNT_SHOW="unblock_protect_account_show",e.UNBLOCK_PROTECT_ACCOUNT_CONNECT="unblock_protect_account_connect",e.UNBLOCK_PROTECT_ACCOUNT_CANCELLATION="unblock_protect_account_cancellation",e}({}),Z=function(e){return e.flow_service="unblock_protect_account_modal",e.screen="unblock_protect_account",e}({}),ee=function(e){return e.OPEN="open",e.CLOSE="close",e.TAP="tap",e.LOGOUT="logout",e.ADD_ANOTHER_ACCOUNT_TAP="multiacc_add_another_account_tap",e.SWITCH_ACCOUNT_TAP="switch_account_tap",e.DROP_ACCOUNT_TAP="multiacc_drop_account_tap",e.SECURITY_RECCOMENDATION_SHOW="security_recommendation_show",e.ERROR_API="error_api",e.ERROR_SWITCHER="error_switcher",e.THEME_CHANGED="theme_changed",e.HIDE="hide",e}({}),te=function(e){return e.EMAIL="email",e.CLOUD="cloud",e.AVATAR="avatar",e.VKID_LK="vkid_lk",e.SUBSCRIPTIONS="subscriptions",e.BALANCE="balance",e.QR_SIGN_IN="qr_sign_in",e.SETTINGS="settings",e.THEME="theme",e.HELP="help",e.SWITCHER="switcher",e.LOGOUT="logout",e.AD_BANNER="ad_banner",e}({}),oe=function(e){return e.ECOSYSTEM="ecosystem",e.VK="vk",e.MULTIACCOUNT="multiaccount",e}({}),ie=function(e){return e.LAUNCH_THIRD_PARTY_APP="launch_third_party_app",e}({}),re=function(e){return e.START="start",e.PLAY="play",e.PAUSE="pause",e.WRITE_MSG="write_msg",e.WRITE_MSG_OUT="write_msg_out",e.ADD_FRIENDS="add_friends",e.OPEN_APP="open_app",e.TAP="tap",e.REMOVE_FRIEND="remove_friend",e.REMOVE_FRIEND_OUT="remove_friend_out",e.ADD_FRIEND="add_friend",e.ADD_FRIEND_OUT="add_friend_out",e.JOIN_GROUP="join_group",e.JOIN_GROUP_OUT="join_group_out",e.LEAVE_GROUP="leave_group",e.LEAVE_GROUP_OUT="leave_group_out",e.SEND_MESSAGE="send_message",e.SEND_MESSAGE_OUT="send_message_out",e.FAVE="fave",e.FAVE_OUT="fave_out",e.UNFAVE="unfave",e.UNFAVE_OUT="unfave_out",e.MONEY="money",e.MONEY_OUT="money_out",e.CALL="call",e.CALL_OUT="call_out",e.SEND_GIFT="send_gift",e.SEND_GIFT_OUT="send_gift_out",e.SHOW_STORIES="show_stories",e.SHOW_STORIES_OUT="show_stories_out",e.SUBSCRIBE="subscribe",e.SUBSCRIBE_OUT="subscribe_out",e.UNSUBSCRIBE="unsubscribe",e.UNSUBSCRIBE_OUT="unsubscribe_out",e.PLAY_ALL="play_all",e.PLAY_ALL_OUT="play_all_out",e.OPEN_OWNER="open_owner",e.OPEN_OWNER_OUT="open_owner_out",e.COPY_LINK="copy_link",e.COPY_LINK_OUT="copy_link_out",e.SHARE="share",e.SHARE_OUT="share_out",e.LIKE="like",e.LIKE_OUT="like_out",e.UNLIKE="unlike",e.UNLIKE_OUT="unlike_out",e.DOWNLOAD="download",e.DOWNLOAD_OUT="download_out",e.ADD_TO_ME="add_to_me",e.ADD_TO_ME_OUT="add_to_me_out",e.REMOVE_FROM_ME="remove_from_me",e.REMOVE_FROM_ME_OUT="remove_from_me_out",e.REMOVE_RECENT="remove_recent",e.OPEN_FILTERS="open_filters",e.OPEN_FILTER="open_filter",e.NOTIFY="notify",e.UNNOTIFY="unnotify",e.NOTIFY_OUT="notify_out",e.UNNOTIFY_OUT="unnotify_out",e.DISLIKE="dislike",e.REMOVE_DISLIKE="remove_dislike",e.DISLIKE_OUT="dislike_out",e.MAKE_DUET_OUT="make_duet_out",e.MAKE_CLIP_OUT="make_clip_out",e.TAP_SHOW_ALL="tap_show_all",e.NOTIFY_ABOUT_POST_OUT="notify_about_post_out",e.UNNOTIFY_ABOUT_POST_OUT="unnotify_about_post_out",e.UNNOTIFY_ABOUT_LIVE_OUT="unnotify_about_live_out",e.NOTIFY_ABOUT_LIVE_OUT="notify_about_live_out",e.ASK_QUESTION_OUT="ask_question_out",e.VIEW_WISH_LIST_OUT="view_wish_list_out",e.ADD_TO_CLOSE_FRIENDS_OUT="add_to_close_friends_out",e.REMOVE_FROM_CLOSE_FRIENDS_OUT="remove_from_close_friends_out",e.COMPLAIN_OUT="complain_out",e.ADD_TO_BLACK_LIST_OUT="add_to_black_list_out",e.REMOVE_FROM_BLACK_LIST_OUT="remove_from_black_list_out",e.OPEN_FRIENDS_LIST="open_friends_list",e.OPEN_FRIENDS_LIST_OUT="open_friends_list_out",e.POST_ON_WALL_OUT="post_on_wall_out",e.POST_PHOTO_ON_WALL_OUT="post_photo_on_wall_out",e.OPEN_FRIEND_POSSIBLE_OUT="open_friend_possible_out",e.ADD_FRIEND_POSSIBLE_OUT="add_friend_possible_out",e.HIDE_FRIENDS_POSSIBLE_OUT="hide_friends_possible_out",e.OPEN_MARKET="open_market",e.ADD_TO_CART="add_to_cart",e.OPEN_CART="open_cart",e.ADD_TO_CART_OUT="add_to_cart_out",e.ADD_ONE_MORE_OUT="add_one_more_out",e.OPEN_CART_OUT="open_cart_out",e.OPEN_MARKET_OUT="open_market_out",e.OPEN_LINK_OUT="open_link_out",e.BUY_OUT="buy_out",e.OPEN_ATTACHED_MUSIC_OUT="open_attached_music_out",e.OPEN_COMMENTS_OUT="open_comments_out",e.OPEN_HASHTAG_OUT="open_hashtag_out",e.OPEN_THEMATIC_OUT="open_thematic_out",e.SHOW_SAME="show_same",e.LISTEN_NEXT="listen_next",e.SHOW_SNIPPET="show_snippet",e.OPEN_ALBUM="open_album",e.ADD_TO_PLAYLIST="add_to_playlist",e.GO_TO_TAB="go_to_tab",e.OPEN_LINK="open_link",e.OPEN_FAVE_OUT="open_fave_out",e.MIX_ALL_OUT="mix_all_out",e.LISTEN_NEXT_OUT="listen_next_out",e.EXTEND_EPISODES="extend_episodes",e.OPEN_EPISODES="open_episodes",e.CLOSE_FILTER="close_filter",e.SELECT_CATALOG_TAB="select_catalog_tab",e.RESET_FILTERS="reset_filters",e}({}),ne=function(e){return e.OPEN_SNACK_BAR_PROMO="open_snack_bar_promo",e.VIEW_PROMO_MODAL="view_promo_modal",e.HIDE_PROMO_MODAL="hide_promo_modal",e.OPEN_TAB_MODAL_PURCHASE="open_tab_modal_purchase",e.OPEN_TAB_APP_SETTINGS_PURCHASE="open_app_settings_purchase",e.OPEN_TAB_MENU_PURCHASE="open_tab_menu_purchase",e.OPEN_TAB_PROFILE_PURCHASE="open_tab_profile_purchase",e.SHOW_TOOLTIP_PROMO="show_tooltip_promo",e.SHOW_INSTRUCTION_PROMO="show_instruction_promo",e}({}),ae=function(e){return e.WALL_ITEM="wall_item",e.POST_MODAL="post_modal",e.ONLINE_BOOKING_CLICK="online_booking_click",e}({}),se=function(e){return e.DECODE_VIDEO_METAINFO="decode_video_metainfo",e}({}),_e=function(e){return e.UPLOAD="upload",e.NEXT="next",e.BACK="back",e.TAB="tab",e.NEW_VIDEO="new_video",e.EDIT_VIDEO="edit_video",e.URL="url",e.DELETE_FRAGMENT="delete_fragment",e.EDIT_FRAGMENT="edit_fragment",e.SELECT_FRAGMENT="select_fragment",e.CANCEL_ACTION="cancel_action",e.REPEAT_ACTION="repeat_action",e.CANCEL_EDIT="cancel_edit",e}({}),ce=function(e){return e.EVENT_TYPE_UPLOAD_NEW_VIDEO="upload_new_video",e.EVENT_TYPE_EDIT_VIDEO="edit_video",e.EVENT_TYPE_OPEN_VIDEO_EDITOR="open_video_editor",e.EVENT_TYPE_CUT_VIDEO="cut_video",e.EVENT_TYPE_SAVE_EDITED_VIDEO="save_edited_video",e.EVENT_TYPE_SAVE_EDITED_VIDEO_AS_NEW="save_edited_video_as_new",e.EVENT_TYPE_GO_TO_INFORMATION="go_to_information",e.EVENT_TYPE_GO_TO_ADDITIONAL="go_to_additional",e.EVENT_TYPE_GO_TO_PUBLICATION="go_to_publication",e}({}),le=function(e){return e.EVENT_TYPE_CREATE_NEW_CHANNEL="create_new_channel",e.EVENT_TYPE_ERROR_CREATE_CHANNEL="error_create_channel",e}({}),ue=function(e){return e.EVENT_TYPE_CLICK_CREATE_CHANNEL="click_create_channel",e.EVENT_TYPE_ADD_COVER="add_cover",e.EVENT_TYPE_FIND_COVER="find_cover",e.EVENT_TYPE_ADD_FIRST_CHANNEL="add_first_channel",e.EVENT_TYPE_CREATE_FIRST_CHANNEL="create_first_channel",e}({}),de=function(e){return e.EVENT_TYPE_CREATE_CLIP="create_clip",e.EVENT_TYPE_CREATE_CLIP_CUT="create_clip_cut",e.EVENT_TYPE_CREATE_CLIP_CUT_CROP="create_clip_cut_crop",e.EVENT_TYPE_CREATE_CLIP_CANCEL="create_clip_cancel",e.EVENT_TYPE_CREATE_CLIP_CANCEL_YES="create_clip_cancel_yes",e.EVENT_TYPE_CREATE_CLIP_CANCEL_NO="create_clip_cancel_no",e}({}),pe=function(e){return e.PLAY_ALL_PLAYLIST_BUTTON="play_all_playlist_button",e.PLAY_ALL_PLAYLIST_COVER="play_all_playlist_cover",e}({}),Ee=function(e){return e.AUTOPLAY_TURN_ON="autoplay_turn_on",e.AUTOPLAY_TURN_OFF="autoplay_turn_off",e}({}),he=function(e){return e.PLAYLIST_BLOCK="playlist_block",e.PLAYER_CONTROLS="player_controls",e}({}),me=function(e){return e.CLICK_TO_EXPAND_DESCRIPTION="click_to_expand_description",e.CLICK_TO_DESCRIPTION="click_to_description",e}({}),ge=function(e){return e.HIDE_CREATOR_FROM_SUBSCRIPTIONS="hide_creator_from_subscriptions",e.UNDO_HIDE_CREATOR_FROM_SUBSCRIPTIONS="undo_hide_creator_from_subscriptions",e}({}),Ae=function(e){return e.HASHTAG="hashtag",e.MENTION="mention",e.LINK="link",e}({}),ve=function(e){return e.SUBSCRIBE="subscribe",e.UNSUBSCRIBE="unsubscribe",e}({}),fe=function(e){return e.VIEWER="viewer",e.AUTHOR_GRID="author_grid",e.VIEWER_AUTHORS_BLOCK="viewer_authors_block",e.GRID_AUTHORS_BLOCK="grid_authors_block",e.FEED="feed",e.CLIPS_SEARCH="clips_search",e}({}),Ie=function(e){return e.CLICK_TO_SUBSCRIPTION_BUTTON="click_to_subscription_button",e}({}),ye=function(e){return e.TOOLTIP_SHOW="tooltip_show",e.TOOLTIP_COULD_BE_SHOWN="tooltip_could_be_shown",e.TOOLTIP_HIDE_BY_INTERFACE_INTERACTION="tooltip_hide_by_interface_interaction",e.TOOLTIP_HIDE_BY_CROSS="tooltip_hide_by_cross",e.TOOLTIP_HIDE_BY_CLICK="tooltip_hide_by_click",e}({}),Re=function(e){return e.CLICK_TO_ACTION_BUTTON="click_to_action_button",e}({}),Oe=function(e){return e.EVENT_TYPE_VIDEO_BAR_COMMUNITY_TAP="video_bar_community_tap",e}({}),Se=function(e){return e.EVENT_TYPE_CLICK_TO_SELECT_CREATORS="click_to_select_creators",e.EVENT_TYPE_MOVE_YOUTUBE_SUBS_START="move_youtube_subs_start",e.EVENT_TYPE_MOVE_YOUTUBE_SUBS_SUBSCRIPTIONS_START="move_youtube_subs_subscriptions_start",e.EVENT_TYPE_CLICK_TO_SELECT_CREATORS_CONFIRM="click_to_select_creators_confirm",e}({}),Te=function(e){return e.LIKES_ACTIVITY="likes_activity",e.FOOTER="footer",e}({})},471180:(e,t,r)=>{"use strict";r.d(t,{getCurrentScreen:()=>p,getLeftMenuScreen:()=>u,getScreen:()=>m,getScreenPrev:()=>A,setCurrentScreen:()=>d,setLeftMenuScreen:()=>l,setScreen:()=>E,setScreenPrev:()=>g});var n=r(553608);const a="STATS_NAVIGATION_SCREEN_CURRENT",s="STATS_NAVIGATION_SCREEN",_="STATS_NAVIGATION_SCREEN_PREV",c="STATS_NAVIGATION_SCREEN_LEFT_MENU",l=e=>n.vkSessionStorage.setItem(c,e),u=()=>n.vkSessionStorage.getItem(c),d=e=>n.vkSessionStorage.setItem(a,e),p=()=>n.vkSessionStorage.getItem(a),E=e=>n.vkSessionStorage.setItem(s,e),m=()=>n.vkSessionStorage.getItem(s),g=e=>n.vkSessionStorage.setItem(_,e),A=()=>n.vkSessionStorage.getItem(_)},287424:(e,t,r)=>{"use strict";r.d(t,{ViewStatCollector:()=>a});var n=r(317216);class a{logEvent(e,t,r){const a={...this.productionStatCollector.getBaseEvent(r),type:n.ProductionStatEventTypes.TYPE_VIEW,[n.ProductionStatEventTypes.TYPE_VIEW]:{item:t,...e}};this.productionStatCollector.logEvent(a)}constructor(e){this.productionStatCollector=e}}},890355:(e,t,r)=>{"use strict";r.d(t,{MiniAppsEventStatsCollector:()=>s});var n=r(317216),a=r(314309);class s{logEvent(e,t,r="",a=""){const s={...e,...t},_={type:n.ViewProductionStatEventTypes.TYPE_MINI_APPS_VIEW_ITEM,[n.ViewProductionStatEventTypes.TYPE_MINI_APPS_VIEW_ITEM]:s,start_view:r,end_view:a};this.viewStatCollector.logEvent(_,e)}logLaunchExtendedEvent(e,t){const r={};r[n.EventItemType.MINI_APPS_LAUNCH_EXTENDED]={webview_url:t,mini_app_id:e},a.miniAppsItemStats.logEvent({type:n.EventItemType.MINI_APPS_LAUNCH_EXTENDED},r)}constructor(){this.productStatCollector=new a.ProductionStatCollector,this.viewStatCollector=new a.ViewStatCollector(this.productStatCollector)}}},609459:(e,t,r)=>{"use strict";r.d(t,{SearchViewStatCollector:()=>a});var n=r(314309);class a{constructor(){this.logEvent=e=>{this.viewStatCollector.logEvent({},e)},this.productStatCollector=new n.ProductionStatCollector,this.viewStatCollector=new n.ViewStatCollector(this.productStatCollector)}}},853168:(e,t,r)=>{"use strict";r.d(t,{VideoViewStatCollector:()=>a});var n=r(314309);class a{constructor(){this.logEvent=(e,t)=>{this.viewStatCollector.logEvent({position:t},e)},this.productStatCollector=new n.ProductionStatCollector,this.viewStatCollector=new n.ViewStatCollector(this.productStatCollector)}}},854950:(e,t,r)=>{"use strict";r.d(t,{getImageMinWidth:()=>n});const n=e=>Math.ceil(e*Math.max(window.devicePixelRatio,1))},417566:(e,t,r)=>{"use strict";r.d(t,{ASK_QUESTION_BOX_URL_PREFIX:()=>s,MY_QUESTIONS_BOX_URL_PARAMETER:()=>a,QUESTION_MAX_LENGTH:()=>n});const n=80,a="question",s="ask_question"},131393:(e,t,r)=>{"use strict";r.d(t,{banUser:()=>p,deleteFromAuthor:()=>l,deleteQuestion:()=>_,getQuestion:()=>a,getQuestions:()=>s,getUsers:()=>d,reportQuestion:()=>m,restoreAuthorQuestions:()=>u,restoreQuestion:()=>c,unbanUser:()=>E});var n=r(957994);function a(e){return(0,n.api)("questions.getById",{owner_id:window.vk.id,question_id:e,extended:1,fields:"photo_50,photo_100,first_name_gen,last_name_gen,domain"})}function s(e="",t=15){return(0,n.api)("questions.get",{owner_id:window.vk.id,start_from:e,limit:t,extended:1,fields:"photo_50,photo_100,first_name_gen,last_name_gen,domain"})}function _(e){return(0,n.api)("questions.delete",{owner_id:window.vk.id,question_id:e})}function c(e){return(0,n.api)("questions.restore",{owner_id:window.vk.id,question_id:e})}function l(e){return(0,n.api)("questions.deleteFromAuthor",{owner_id:window.vk.id,question_id:e})}function u(e){return(0,n.api)("questions.restoreFromAuthor",{owner_id:window.vk.id,question_id:e})}function d(e){return(0,n.api)("users.get",{user_ids:e.join(","),fields:"photo_50,photo_100,can_ask_anonymous,can_ask_question,first_name_nom,first_name_dat,first_name_gen,last_name_gen,sex"})}function p(e){return(0,n.api)("questions.authorBan",{owner_id:window.vk.id,question_id:e})}function E(e){return(0,n.api)("questions.authorUnBan",{owner_id:window.vk.id,question_id:e})}function m(e){return(0,n.api)("reports.add",{type:"profile_story_question",owner_id:window.vk.id,item_id:e})}},419222:(e,t,r)=>{"use strict";r.d(t,{QuestionsBoxRef:()=>n});var n=function(e){return e.SNIPPET="snippet",e.URL="url",e.STORY="story",e}({})},810068:(e,t,r)=>{"use strict";r.d(t,{Ranges:()=>s.Ranges,rangesIsGroupIdPositive:()=>_});var n=r(298077),a=r(540462),s=r(468073);function _(e){e<0&&(0,a.partConfigEnabled)("ranges_group_id_negative_log")&&(0,n.logError)(new Error("Ranges: expecting positive groupId but negative given."));let t=-Math.abs(e)||0;return s.Ranges.isGroupId(t)}},353679:(e,t,r)=>{"use strict";r.d(t,{DEFAULT_CACHE:()=>l,ORDER_ERRORS:()=>d,ORDER_ITEM_ERRORS:()=>p,SAMPLE_RECIPIENT_ID:()=>u,STICKER_ANIMATION:()=>c,STICKER_IMAGE:()=>_,STICKER_PACK_ICON:()=>a,STICKER_PACK_THUMB:()=>s});var n=r(612831);const a={square_png:{id:"square.png",width:104,height:104},square_15x_png:{id:"square_1.5x.png",width:156,height:156},square_2x_png:{id:"square_2x.png",width:208,height:208},square_3x_png:{id:"square_3x.png",width:312,height:312},square_4x_png:{id:"square_4x.png",width:416,height:416}},s={"102_png":{id:"102.png",width:102,height:102,theme:n.Theme.LIGHT},"51_png":{id:"51.png",width:51,height:51,theme:n.Theme.LIGHT},"68_png":{id:"68.png",width:68,height:68,theme:n.Theme.LIGHT},"34_png":{id:"34.png",width:34,height:34,theme:n.Theme.LIGHT},"60_png":{id:"60.png",width:60,height:60,theme:n.Theme.LIGHT},"30_png":{id:"30.png",width:30,height:30,theme:n.Theme.LIGHT},"102b_png":{id:"102b.png",width:102,height:102,theme:n.Theme.DARK},"51b_png":{id:"51b.png",width:51,height:51,theme:n.Theme.DARK},"68b_png":{id:"68b.png",width:68,height:68,theme:n.Theme.DARK},"34b_png":{id:"34b.png",width:34,height:34,theme:n.Theme.DARK},"60b_png":{id:"60b.png",width:60,height:60,theme:n.Theme.DARK},"30b_png":{id:"30b.png",width:30,height:30,theme:n.Theme.DARK},"44_png":{id:"44.png",width:44,height:44},"22_png":{id:"22.png",width:22,height:22}},_={"64_png":{id:"64.png",width:64,height:64,theme:n.Theme.LIGHT},"128_png":{id:"128.png",width:128,height:128,theme:n.Theme.LIGHT},"256_png":{id:"256.png",width:256,height:256,theme:n.Theme.LIGHT},"352_png":{id:"352.png",width:352,height:352,theme:n.Theme.LIGHT},"512_png":{id:"512.png",width:512,height:512,theme:n.Theme.LIGHT},"64b_png":{id:"64b.png",width:64,height:64,theme:n.Theme.DARK},"128b_png":{id:"128b.png",width:128,height:128,theme:n.Theme.DARK},"256b_png":{id:"256b.png",width:256,height:256,theme:n.Theme.DARK},"352b_png":{id:"352b.png",width:352,height:352,theme:n.Theme.DARK},"512b_png":{id:"512b.png",width:512,height:512,theme:n.Theme.DARK}},c={[n.Theme.LIGHT]:"animation.json",[n.Theme.DARK]:"animation.b.json"},l={products:(0,n.createProductsMap)([]),productIdsQueue:new Set,productsPromise:void 0,productPromises:new Map,stickers:new Map},u=-1;var d=function(e){return e.NOT_SIGNED_IN="not_signed_in",e.NO_VALID_ITEMS="no_valid_items",e}({}),p=function(e){return e.DUPLICATE_PRODUCT="duplicate_product",e}({})},612831:(e,t,r)=>{"use strict";r.d(t,{ProductsByType:()=>p,Theme:()=>n,UserProductStateKey:()=>c,createProductsMap:()=>_,imageSizeCache:()=>s,imageSizesIndex:()=>a,isBasePack:()=>l,isPackProduct:()=>d,isStyleProduct:()=>u});var n=function(e){return e.LIGHT="light",e.DARK="dark",e.DEFAULT="light",e}({});const a=Symbol(),s=Symbol(),_=e=>new Map(e);var c=function(e){return e.IsNew="is_new",e}({});const l=e=>void 0!==e.sticker_ids,u=e=>void 0!==e.base_id,d=e=>l(e)&&!u(e);class p{add(e){e&&(d(e)?this.pack.add(e):u(e)&&this.style.add(e))}getPack(){return this.pack.values().next().value}getStyles(){return Array.from(this.style.values())}getCount(){return this.pack.size+this.style.size}constructor(e=[]){this.pack=new Set,this.style=new Set,e.forEach((e=>this.add(e)))}}},847771:(e,t,r)=>{"use strict";r.d(t,{getStickerAnimationUrl:()=>d,getStickerImageUrl:()=>u,getStickerPackIconUrl:()=>p,isSampleOrderItem:()=>E,logStickersError:()=>m});var n=r(612831),a=r(353679),s=r(298077);const _=(e,t,r,a=n.Theme.DEFAULT)=>{const s=window.devicePixelRatio,_=[t*=s,r*=s,a].toString();let c=e[n.imageSizeCache];if(c&&c.has(_)){const e=c.get(_);if(e)return e}c||(c=new Map,e[n.imageSizeCache]=c);const l=(e=>{let t=e[n.imageSizesIndex];return t||(t=Object.values(e).sort(((e,t)=>e.width-t.width||e.height-t.height)),e[n.imageSizesIndex]=t),t})(e).filter((e=>!e.theme||e.theme===a)),u=l.find((e=>e.width>=t&&e.height>=r))||l[l.length-1];return c.set(_,u),u},c=(e,t,r=n.Theme.DEFAULT)=>_(a.STICKER_IMAGE,e,t,r),l=(e,t)=>e.image.base_url+"/"+t.id+(e.image.version?`?${e.image.version}`:"");function u(e,t,r,a=n.Theme.DEFAULT){if(e.render?.images){const{images:n}=e.render;let s;n.sort(((e,t)=>e.width-t.width||e.height-t.height));for(const e of n)if(e.width>=t&&e.height>=r){if(e.theme===a)return e.url;s=e}if(s)return s.url}return l(e,c(t,r,a))}const d=(e,t=n.Theme.DEFAULT)=>e.animation?e.animation.base_url+"/"+a.STICKER_ANIMATION[t]+(e.animation.version?`?${e.animation.version}`:""):"",p=(e,t,r,s=n.Theme.DEFAULT)=>((e,t)=>e.icon.base_url+"/"+t.id+(e.thumb.version?`?${e.thumb.version}`:""))(e,((e,t,r=n.Theme.DEFAULT)=>_(a.STICKER_PACK_ICON,e,t,r))(t,r,s)),E=e=>e.recipient_id===a.SAMPLE_RECIPIENT_ID,m=e=>{(0,s.logError)(new Error(`Stickers: ${e}`),{environment:"stickers"})}},224194:(e,t,r)=>{"use strict";r.d(t,{isPopUpStickersEnabled:()=>c,isPopUpStickersEnabledInVkCom:()=>_});var n=r(105330),a=r(540462),s=r(41719);const _=()=>!!(0,s.isSupportedByBrowser)()&&(0,a.partConfigEnabled)("stickers.popup.vkcom"),c=()=>!!(0,s.isSupportedByBrowser)()&&((0,n.isMvk)()?!!(0,s.isSupportedByBrowser)()&&(0,a.partConfigEnabled)("stickers.popup.mvk"):_())},807978:(e,t,r)=>{"use strict";r.d(t,{DAY:()=>c,HOUR:()=>_,SECOND:()=>a,getShortPrintableTimeSpan:()=>p});var n=r(866467);const a=1e3,s=60*a,_=60*s,c=24*_,l=7*c,u=30*c,d=12*u;function p(e){return e>=d?(0,n.langNumeric)(Math.floor(e/d),(0,n.getLang)("global_short_years_fixed")):e>=u?(0,n.langNumeric)(Math.floor(e/u),(0,n.getLang)("global_short_months")):e>=l?(0,n.langNumeric)(Math.floor(e/l),(0,n.getLang)("global_short_weeks")):e>=c?(0,n.langNumeric)(Math.floor(e/c),(0,n.getLang)("global_short_days")):e>=_?(0,n.langNumeric)(Math.floor(e/_),(0,n.getLang)("global_short_hours")):e>=s?(0,n.langNumeric)(Math.floor(e/s),(0,n.getLang)("global_short_minutes")):e>=a?(0,n.langNumeric)(Math.floor(e/a),(0,n.getLang)("global_short_seconds")):""}},153659:(e,t,r)=>{"use strict";r.d(t,{TooltipsStat:()=>s});var n=r(317216);const a=new(r(851727).TooltipStatCollector);class s{handleShow(){this.showTime=new Date,this.skipShow?a.logEvent(n.ETooltipEventTypes.TOOLTIP_COULD_BE_SHOWN,this.tooltipId,0):a.logEvent(n.ETooltipEventTypes.TOOLTIP_SHOW,this.tooltipId,0)}handleHide(e=n.ETooltipEventTypes.TOOLTIP_HIDE_BY_INTERFACE_INTERACTION){let t=0;this.showTime&&(t=(new Date).getTime()-this.showTime.getTime()),a.logEvent(e,this.tooltipId,t)}static registryShow(e,t=!1){s.tootips[e]=new s(e,t),s.tootips[e].handleShow()}static registryHide(e,t=n.ETooltipEventTypes.TOOLTIP_HIDE_BY_INTERFACE_INTERACTION){(s.tootips[e]||new s(e,!1)).handleHide(t)}constructor(e,t){this.tooltipId=e,this.skipShow=t}}s.tootips={}},558e3:(e,t,r)=>{"use strict";r.d(t,{UnauthorizedSourceType:()=>n});const n={COMMON:"common",PHOTO:"photo",VIDEO:"video",AUDIO:"audio",COMMENTS:"comments",MESSAGE:"message",ADD_TO_FRIENDS:"add_to_friends",UPLOAD_VIDEO:"upload_video",SUBSCRIBE_VIDEO_AUTHOR:"subscribe_video_author",SUBSCRIBE_VIDEO_PLAYLIST:"subscribe_video_playlist",ADD_PRODUCT_TO_BOOKMARKS:"add_product_to_bookmarks",ADD_PRODUCT_TO_WISHLIST:"add_product_to_wishlist"}},87252:(e,t,r)=>{"use strict";r.d(t,{articleURLPattern:()=>n,isArticleURL:()=>a});const n=/^(?:%40|@)-?[.a-z0-9_]+-[a-z0-9-]+(?:[\?&]\w+\=[a-z0-9-_]+)*$/,a=e=>{const t=e.startsWith("/")?e.substring(1):e;return n.test(t)}},222062:(e,t,r)=>{"use strict";r.d(t,{checkOwnerIsNFT:()=>n});const n=e=>{if(e){if("is_nft"in e)return Boolean(e.is_nft);if("is_nft_photo"in e)return Boolean(e.is_nft_photo)}return!1}},332303:(e,t,r)=>{"use strict";r.d(t,{createDebugConsole:()=>a,createDebugConsoleInfoWithTimestamp:()=>s});const n=(0,r(558137).makeSharedState)("debug-console-flags",(()=>({})),{version:0}),a=e=>new Proxy(console,{get(t,r,a){switch(r){case"debug":case"dir":case"error":case"info":case"log":case"table":case"trace":case"warn":{const a=t[r],s=window.nav?.objLoc?.[e]??n()[e];return s!==n()[e]&&(n()[e]=s),(...e)=>{s&&a.call(t,...e)}}default:return Reflect.get(t,r,a)}}});function s(e,t=""){const r=a(e);return(e,...n)=>{const a=t?`[${t}]`:"",s=new Intl.DateTimeFormat("ru-RU",{hour:"numeric",minute:"numeric",second:"numeric",fractionalSecondDigits:3,hour12:!1,timeZone:"Europe/Moscow"}).format(new Date);r.info(`%c[${s}]${a}%c | %c${e}`,"color: hsl(0, 0%, 0%); background-color: hsla(201, 64%, 95%, 0.9); padding: 2px","color: inherit; background-color: inherit; padding: 2px","color: hsl(120, 18%, 12%); background-color: hsl(119, 51%, 95%, 0.9); padding: 2px",...n)}}},339328:(e,t,r)=>{"use strict";r.d(t,{createSentryLogger:()=>_,isApiNetworkError:()=>s});var n=r(626287),a=r(298077);function s(e){return!(!e||"object"!=typeof e)&&e.type===n.APIErrorType.NETWORK_ERROR}const _=({debugPrefix:e="[Sentry Logger]",isConsoleEnabled:t=!1,environment:r,catchNetworkError:n})=>{function _(t,r){return`${e} `+(r?`${r}: ${t}`:t)}return function(c){const{error:l,additionalText:u,extra:d,environment:p}=c,E=p||r;if(t&&console.error(e,{error:l,additionalText:u||"Some error happened",extra:d,environment:E}),n&&s(l)&&n(c))return;const m=d?{environment:p,breadcrumb:{data:{extra:d}}}:{environment:E};if(l instanceof Error){const e=new Error(_(l.message,u));return e.name=l.name,e.stack=l.stack,void(0,a.logError)(e,m)}if("string"!=typeof l)return l instanceof Object?(m.breadcrumb?.data?m.breadcrumb.data.object=l:m.breadcrumb={...m.breadcrumb,data:{object:l}},void(0,a.logError)(new Error(_("Error as object",u)),m)):void(l||!u?(0,a.logError)(new Error(_("Unknown error")),m):(0,a.logError)(new Error(_(u)),m));(0,a.logError)(new Error(_(l,u)),m)}}},641495:(e,t,r)=>{"use strict";r.d(t,{getOwnerName:()=>n});const n=(e,t=!0,r)=>{let n="";return e&&("name"in e?n=e.name||"":!t&&"first_name"in e?n=r?e[`first_name_${r}`]||"":e.first_name||"":("first_name"in e||"last_name"in e)&&(n=r?`${e[`first_name_${r}`]} ${e[`last_name_${r}`]}`:`${e.first_name} ${e.last_name}`)),n}},172479:(e,t,r)=>{"use strict";r.d(t,{getOwnerUrl:()=>n});const n=(e,t="/",r="")=>e?"domain"in e&&"id"in e?`/artist/${e.domain||e.id||""}${r}`:"screen_name"in e&&e.screen_name?`${t}${e.screen_name}${r}`:"first_name"in e?`${t}id${e.id}${r}`:`${t}club${e.id}${r}`:""},841315:(e,t,r)=>{"use strict";r.d(t,{getVideoCopyLink:()=>u,getVideoUrl:()=>l});var n=r(538522),a=r(105330),s=r(826981),_=r(540462),c=r(671112);const l=(e,t)=>{const{owner_id:r,id:a}=e;if((0,_.partConfigEnabled)("vkvideo_sport_domain")&&"direct_url"in e)return e.direct_url??"";if(void 0===r)return(0,c.getVideoPrefix)("slash");if(void 0===a)return`${(0,c.getVideoPrefix)("doubleSlash")}@id${r}`;const l=(0,n.joinRawId)({ownerId:r,itemId:a}),u="short_video"===e.type?"clip":"video",d=t?.isAbsolute?"":"/",p=new URLSearchParams;let E=t?.playlistId;if((0,_.partConfigEnabled)("video_linked_playlists_feature")&&!E&&e.linked_to_playlist_marks?.at(0)&&(((0,_.partConfigEnabled)("video_playlist_collapsed_one_video")||(0,_.partConfigEnabled)("video_playlist_collapsed_two_videos")||(0,_.partConfigEnabled)("video_playlist_lazy_playlist_queue"))&&p.set("isLinkedPlaylist","1"),E=e.linked_to_playlist_marks?.at(0)?.playlist_id),t?.isLinkedPlaylist&&E&&(0,c.isLinkedPlaylist)(E)&&p.set("isLinkedPlaylist","1"),(0,_.partConfigEnabled)("video_add_progress_link")&&"viewed_duration"in e&&e.viewed_duration&&p.set("t",(0,s.toString)(e.viewed_duration)),E&&"short_video"!==e.type){const e=p.toString();return`${d}playlist/${E}/${u}${l}${e&&(0,_.partConfigEnabled)("video_add_progress_link")?`?${e}`:""}`}if((0,_.partConfigEnabled)("video_short_redirect_to_player")&&"short_video"===e.type&&t?.screenName)return`${d}@${t.screenName}/${u}${l}`;e.access_key&&p.set("list",e.access_key),E&&p.set("pl",E);const m=p.toString();return`${d}${u}${l}${m?`?${m}`:""}`},u=(e,t,r,n,c)=>{const u=new URL(l(e),"https://"+(c??(0,a.getHostName)()));return t&&u.searchParams.set("t",(0,s.toString)(t)),e.access_key?.startsWith("ln-")?u.searchParams.set("list",e.access_key):u.searchParams.delete("list"),r&&(0,_.partConfigEnabled)("video_player_ref_domain_embed")&&u.searchParams.set("ref_domain",n||window.cur?.mvOpts?.ref_domain||""),u.toString()}},964025:(e,t,r)=>{"use strict";function n(e){return Object.keys(e).some((e=>e.startsWith("_react")||e.startsWith("__react")))}r.d(t,{isReactHTMLElement:()=>n})},120517:(e,t,r)=>{"use strict";r.d(t,{onDomReady:()=>n,onDomReadyPromise:()=>a});const n=e=>{"loading"!==window.document.readyState?e():window.document.addEventListener("DOMContentLoaded",(()=>e()),{once:!0})},a=new Promise((e=>{n(e)}))},945270:(e,t,r)=>{"use strict";r.d(t,{emailLinksReplacerReact:()=>s,replaceEmailLinks:()=>a});var n=r(470403);function a(e,t){return e.replace(n.EMAIL,t||function(e){return`<a href="mailto:${e}">${e}</a>`})}function s(e){return(t,r)=>e({key:t,url:r})}},148636:(e,t,r)=>{"use strict";r.d(t,{linksReplacer:()=>g,linksReplacerReact:()=>m,replaceHyperLinks:()=>p});var n=r(898848),a=r(105330),s=r(828758),_=r(175819),c=r(34231);function l(e){if(!e[0]||!e[6])return e;const t=e[0].length-1,r=e[6].length-1;return"."===e[0][t]&&"."===e[6][r]&&(e[0]=e[0].slice(0,t),e[6]=e[6].slice(0,r)),e}function u(e){return{full:e[0],protocol:e[1]||"http://",url:e[2],domain:e[4],query:e[6]||""}}function d(e){return e.replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function p(e,t){const r=new RegExp(s.RE_URL_PATTERN,"ig"),n=_.TOP_DOMAINS.reduce(((e,t)=>Math.max(e,t.length)),0);let a,c=0,d=e;for(;null!==(a=r.exec(e));){a=l(a);const r=a[0].length,s=a.index+r,p=e[a.index-1],E=e[s-1];if("@"===e[s]&&(!a[0]||a[0]&&!a[0].toLowerCase().includes("http")))continue;const m=void 0!==p&&/([\w\$А-Яа-яёЁєЄҐґЇїІіЈј—\-\_@;.])/i.test(p),g=void 0!==E&&/([:;$])/i.test(E);if(!m&&!g){const e=u(a),l=e.domain.toLowerCase();if(l.length<=n&&_.TOP_DOMAINS.includes(l)){const n=t(e);d=d.slice(0,a.index+c)+n+d.slice(s+c),c+=n.length-r}}}return d}function E(e,t){try{e=decodeURIComponent(e)}catch(e){}return e.length>t&&(e=e.substr(0,t-2)+".."),e=d(e).replace(/\n/g," ")}function m(e){return(t,r,s=55)=>{const{url:l,protocol:u,query:p,full:m}=r,g=E(m,s),A=(0,n.replaceEntities)(l+p);if(_.OUR_DOMAINS.test(l)){const r=d(u+l+p),n=m.match(_.VK_DOMAIN);return e({key:t,href:r,mentionId:n?n[1]:"",text:g})}{const r=window.nav?.strLoc?.startsWith("video"),s=((0,a.isPWA)()||r?`https://${(0,a.getHostName)()}`:"")+(0,c.wrapAway)(u+A,!0),_=(0,n.clean)(u+l+p);return e({key:t,href:s,goAwayUrl:_,text:g})}}}function g(e,t=55){let{full:r}=e;const{url:s,protocol:c,query:l}=e;r=E(r,t);const u=(0,n.replaceEntities)(s+l);if(_.OUR_DOMAINS.test(s)){let e="";const t=r.match(_.VK_DOMAIN);if(t){const r=t[1];e=(0,a.isMvk)()?"":` mention_id="${r}" onclick="return mentionClick(this, event)" onmouseover="mentionOver(this)"`}return`<a href="${d(c+s+l)}" target="_blank" rel="noopener"${e}>${r}</a>`}const p=window.nav?.strLoc?.startsWith("video"),m=`${(0,a.isPWA)()||p?`https://${(0,a.getHostName)()}/`:"/"}away.php?utf=1&to=${encodeURIComponent(c+u)}`,g=(0,n.clean)((c+s+l).replace(/'/g,"\\'"));return`<a href="${m}" target="_blank" rel="noopener" ${(0,a.isMvk)()?"":`onclick="return goAway('${g}', {}, event);"`}>${r}</a>`}},839348:(e,t,r)=>{"use strict";r.d(t,{mentionReplaceReact:()=>u,replaceMentions:()=>l});var n=r(846145),a=r(898848),s=r(105330),_=r(856289),c=r(540462);function l(e,t){return e.replace(n.MENTION,t||function(e,t,r,n,l){const u=(0,_.isVideoStandalone)()&&(0,c.partConfigEnabled)("video_page_reply_tooltip")?null:"mentionOver(this)",d=!(0,_.isVideoStandalone)()||"id"!==t&&"club"!==t?t:`@${t}`,p=(0,s.isMvk)()?"":` mention_id="${(0,a.clean)(t+r)}" onclick="return mentionClick(this, event)" onmouseover="${u}"`;return`<a href="/${d+r}" class="mem_link" mention="${(0,a.clean)(n||"")}"${p}>${l}</a>`})}function u(e){return(t,r,n,a,s,_)=>e({key:t,mentionId:n+a,mention:s,href:`/${n+a}`,text:_})}},231450:(e,t,r)=>{"use strict";r.d(t,{TRACK_CODE_TYPES:()=>a,VIDEO_TRACK_CODE:()=>n,getFromType:()=>_,getTrackCode:()=>s,setTrackCode:()=>c});const n="video_track_code",a=["search_track_code",n,"track_code","trackcode"],s=e=>{const t=e=>history.state?.[e]||new URLSearchParams(window.location.search).get(e);return e?t(e):a.map(t).find(Boolean)},_=e=>(history.state?.from||new URLSearchParams(window.location.search).get("from"))===e,c=(e,t)=>{t&&history.replaceState({...history.state,[e]:t},"")}},638112:(e,t,r)=>{"use strict";r.d(t,{onVKVideoLogout:()=>a});var n=r(105330);const a=async(e,t,r,a,s={})=>{try{if(!(0,n.isMvk)())return void window.ajax.post(r,{act:"get_hashes",app_id:t,...s},{onDone:({logout_hash:e})=>{if(!e)throw new Error("[VK AUTH]: get_hashes failed");l(e)},onFail:()=>{throw new Error("[VK AUTH]: get_hashes failed")}});const _=window.ajax.post(r,{act:"get_hashes",app_id:t,...s}),c=await _.promise;if(!c?.json?.logout_hash)throw new Error("[VK AUTH]: get_hashes failed");async function l(t){if(!(0,n.isMvk)())return void window.ajax.post(r,{act:"delete_session",hash:t,...s},{onDone:({success:t})=>{if(!t)throw new Error("[VK AUTH]: delete_session failed");a(e)},onFail:()=>{throw new Error("[VK AUTH]: delete_session failed")}});const _=window.ajax.post(r,{act:"delete_session",hash:t,...s}),c=await _.promise;if(!c?.json?.success)throw new Error("[VK AUTH]: delete_session failed");a(e)}l(c?.json.logout_hash)}catch(u){throw new Error("[VK AUTH]: logout failed")}}},745005:(e,t,r)=>{"use strict";r.d(t,{MenuHelpHintTextTooltip:()=>_});var n=r(474848),a=r(296540),s=r(578392);const _=e=>{const[t,r]=(0,a.useState)(!1);return(0,a.useLayoutEffect)((()=>{const e=setTimeout((()=>r(!0)));return()=>{clearTimeout(e)}}),[]),(0,n.jsx)(s.TextTooltip,{shown:t,...e})}},926326:(e,t,r)=>{"use strict";r.d(t,{MenuHelpHintTooltip:()=>c});var n=r(474848),a=r(296540),s=r(888896),_=r(984745);const c=e=>{const{helpHint:t,onClose:r,...c}=e,[l,u]=(0,a.useState)(!1),d=(0,a.useCallback)((()=>{(0,_.ensureAccountHelpHintsService)().hideHelpHint({hintId:t.id,isOptimistic:!0}),r?.()}),[r]);return(0,a.useLayoutEffect)((()=>{const e=setTimeout((()=>u(!0)));return()=>{clearTimeout(e)}}),[]),(0,n.jsx)(s.OnboardingTooltip,{shown:l,header:t.title,text:t.description,onClose:d,...c})}},664634:(e,t,r)=>{"use strict";r.d(t,{MenuHelpHintTextTooltip:()=>a.MenuHelpHintTextTooltip,MenuHelpHintTooltip:()=>n.MenuHelpHintTooltip});var n=r(926326),a=r(745005)},666384:(e,t,r)=>{"use strict";r.d(t,{BASE_LOCATION:()=>d,BASE_PATHNAME:()=>u,IS_ALL_QUERY_IN_URL_BY_SEARCH:()=>N,IS_CLUB_IN_URL_BY_SEARCH:()=>L,MY_VIDEO_ALBUM_ID:()=>n,PLAYLIST_PAGE_BASE_PATH:()=>m,PLAYLIST_PAGE_REGEXP:()=>g,PLAYLIST_POPOVER_VERTICAL_OFFSET:()=>E,PLAYLIST_POPOVER_WIDTH:()=>p,SECTION_MY_BOOKMARKS:()=>s,SECTION_MY_CLIPS:()=>c,SECTION_MY_LIKED:()=>_,SNACKBAR_TIMEOUT:()=>l,UPLOADED_ALBUM_ID:()=>a,VIDEO_AUTHOR_DASHBOARD_PATH:()=>f,VIDEO_AUTHOR_STANDALONE_DASHBOARD_PATH:()=>I,VIDEO_CLIP_IDENTITY_RAW_ID_REGEXP:()=>S,VIDEO_CLIP_IDENTITY_RAW_PROFILE_ID_REGEXP:()=>U,VIDEO_CLIP_PATH:()=>P,VIDEO_CLIP_STANDALONE_IDENTITY_RAW_ID_REGEXP:()=>T,VIDEO_CLIP_STANDALONE_IDENTITY_RAW_PROFILE_ID_REGEXP:()=>k,VIDEO_CLIP_STANDALONE_PATH:()=>b,VIDEO_CLIP_STANDALONE_PATH_REGEXP:()=>C,VIDEO_COMMUNITY_COMMENTS_PATH:()=>A,VIDEO_EDITOR_PAGE_RAW_ID_REGEXP:()=>O,VIDEO_IDENTITY_RAW_ID_REGEXP:()=>R,VIDEO_ITEM_EPISODE_MVK_THUMB_WIDTH:()=>M,VIDEO_MIN_DURATION_IN_SECONDS_FOR_VIDEO_TO_CLIP:()=>D,VIDEO_PAGE_STARTS_WITH_PATH_REGEXP:()=>y});const n=-2,a=-1,s="my_bookmarks",_="my_liked",c="clips",l=4e3,u="video",d="/video",p=252,E=16,m="video/playlist/",g=/video\/playlist\/(-?\d+_-?\d+)/,A="comments",f="video/dashboard/",I="dashboard",y=/^\/?video(-?\d+_\d+)/,R=/video(-?\d+_\d+)/,O=/video(-?\d+_\d+)\/editor/,S=/video\/clip(-?\d+_\d+)/,T=/clip(-?\d+_\d+)/,P="video/clip",b="clip",C=/clip(-?\d+_\d+)/,D=180,M=136,L="@club",N="all?q=",k=/^@\w+\/clip(-?\d+_\d+)/,U=/video^\/@\w+\/clip(-?\d+_\d+)/},506596:(e,t,r)=>{"use strict";r.d(t,{getAdditionalInfo:()=>u});var n=r(8520),a=r(540462),s=r(856289),_=r(584683),c=r(866467),l=r(807978);const u=e=>{const{partner_text:t,date:r,type:u,release_date:d,genres:p,views:E=1}=e;if(!(0,a.partConfigEnabled)("cut_release_date_from_music_clips")&&"music_video"===u&&p?.length&&d)return`${new Date(d*l.SECOND).getFullYear()} · ${p[0].name}`;if(t)return(0,n.decodeHTMLEntities)(t);const m=e=>(0,n.decodeHTMLEntities)((0,_.getFormattedViews)(e));return r?(0,a.partConfigEnabled)("cut_release_date_from_music_clips")&&"music_video"===u&&p?.length?`${(0,s.getFormattedUpdatedTime)(r,!0)} · ${p[0].name}`:r>Date.now()/l.SECOND?(0,c.getLang)("video_postponed_publication"):(0,s.isLiveVideo)(e)?m(E):`${m(E)} · ${(0,n.decodeHTMLEntities)((0,s.getFormattedUpdatedTime)(r,!0))}`:m(E)}},98354:(e,t,r)=>{"use strict";r.d(t,{getEpisodeThumb:()=>n});const n=(e,t,r,n)=>{let a;a=e.isUV?Math.floor(r*t/e.frequency):Math.min(e.countTotal,Math.max(0,Math.floor(e.countTotal*t-.5)));const s=Math.floor(a/e.countPerImage),_=Math.floor(a%e.countPerImage/e.countPerRow),c=a%e.countPerRow;let l=Math.floor(e.countPerImage/e.countPerRow);Boolean(e.isUV)||s!==Math.floor(e.countTotal/e.countPerImage)||(l=Math.floor(e.countTotal%e.countPerImage/e.countPerRow),e.countTotal%e.countPerImage%e.countPerRow>0&&l++);let u=e.countPerRow;!Boolean(e.isUV)&&s===Math.floor(e.countTotal/e.countPerImage)&&e.countTotal%e.countPerImage>0&&(u=Math.min(e.countPerRow,e.countTotal%e.countPerImage));let d=e.frameWidth,p=e.frameHeight;n&&(d>n?(p=p/d*n,d=n):p>n&&(d=d/p*n,p=n));const E=d*u,m=p*l,g=-c*d,A=-_*p;return{imgSrc:e.links[s],imgWidth:E,imgHeight:m,imgOffsetX:g,imgOffsetY:A,frameWidth:d,frameHeight:p}}},817339:(e,t,r)=>{"use strict";r.d(t,{getFormattedPostponePublishDateTime:()=>l,getFormattedUpdatedTime:()=>_,getFormattedUpdatedTimeWithPrefix:()=>c});var n=r(898848),a=r(866467);const s=(e,[t,r],s)=>{return s?(0,a.langNumeric)((0,n.intval)(e),r):(_=(0,n.intval)(e),c=t,l=r,(0,n.isArray)(c)&&_<c.length?c[_]:(0,a.langNumeric)(_,l));var _,c,l},_=(e,t)=>{const r=Date.now()/1e3-e;if(r<5)return((e,t)=>t?(0,a.langNumeric)((0,n.intval)(e),(0,a.getLang)("video_added_less_than_a_minute_ago")):(0,a.getLang)("video_added_now","raw")[0])(r,t);if(r<60)return((e,t)=>t?(0,a.langNumeric)((0,n.intval)(e),(0,a.getLang)("video_added_less_than_a_minute_ago","raw")):(0,a.getLang)("video_added_less_than_a_minute_ago"))(r,t);if(r<3600){const e=[(0,a.getLang)("video_word_mins_ago","raw"),(0,a.getLang)("video_mins_ago","raw")];return s(r/60,e,t)}if(r<86400){const e=[(0,a.getLang)("video_word_hours_ago","raw"),(0,a.getLang)("video_hours_ago","raw")];return s(r/3600,e,t)}if(r<2592e3){const e=[(0,a.getLang)("video_word_days_ago","raw"),(0,a.getLang)("video_days_ago","raw")];return s(r/86400,e,t)}if(r<31536e3){const e=[(0,a.getLang)("video_word_months_ago","raw"),(0,a.getLang)("video_months_ago","raw")];return s(r/2592e3,e,t)}const _=[(0,a.getLang)("video_word_years_ago","raw"),(0,a.getLang)("video_years_ago","raw")];return s(r/31363200,_,t)},c=e=>(0,a.langStr)((0,a.getLang)("video_album_updated_time"),"updated_time_ago",_(e,!0)),l=e=>{const t=1e3*e,r=new Date,n=new Date(t);return(0,a.langDate)(t,r.getFullYear()===n.getFullYear()?(0,a.getLang)("video_postponed_publication_date","raw"):(0,a.getLang)("video_postponed_publication_full_date","raw"),0,(0,a.getLang)("months_sm_of"))}},584683:(e,t,r)=>{"use strict";r.d(t,{getFormattedViews:()=>s});var n=r(866467),a=r(856289);function s(e){return e>999?(0,a.getFormattedBigViewsToShortCase)(e):(0,n.getLang)("video_N_views_list",e||1,!0)}},839962:(e,t,r)=>{"use strict";r.d(t,{useOwner:()=>n.useOwner,useVideoInPlaylist:()=>a.useVideoInPlaylist});var n=r(796050),a=r(231867)},796050:(e,t,r)=>{"use strict";r.d(t,{useOwner:()=>s});var n=r(335797),a=r(468073);const s=(e,t,r)=>{const s=(0,n.useEntitiesStore)(t.$entitiesGroups,a.Ranges.convertOwnerIdToGroupId(e.owner_id)),_=(0,n.useEntitiesStore)(r.$entitiesUsers,e.owner_id);return a.Ranges.isGroupId(e.owner_id)&&s?s:a.Ranges.isUserId(e.owner_id)&&_?_:void 0}},231867:(e,t,r)=>{"use strict";r.d(t,{useVideoInPlaylist:()=>a});var n=r(293721);const a=(e,t,r)=>(0,n.useStoreMap)(e,(e=>!(!e||!e[t])&&Boolean(e[t][r])))},856289:(e,t,r)=>{"use strict";r.d(t,{BASE_LOCATION:()=>a.BASE_LOCATION,BOOKMARKS_URL:()=>T.BOOKMARKS_URL,MY_VIDEO_ALBUM_ID:()=>a.MY_VIDEO_ALBUM_ID,MenuHelpHintTextTooltip:()=>n.MenuHelpHintTextTooltip,MenuHelpHintTooltip:()=>n.MenuHelpHintTooltip,PLAYLIST_PAGE_BASE_PATH:()=>a.PLAYLIST_PAGE_BASE_PATH,PLAYLIST_PAGE_REGEXP:()=>a.PLAYLIST_PAGE_REGEXP,PLAYLIST_POPOVER_VERTICAL_OFFSET:()=>a.PLAYLIST_POPOVER_VERTICAL_OFFSET,PLAYLIST_POPOVER_WIDTH:()=>a.PLAYLIST_POPOVER_WIDTH,SECTION_MY_BOOKMARKS:()=>a.SECTION_MY_BOOKMARKS,SECTION_MY_CLIPS:()=>a.SECTION_MY_CLIPS,SECTION_MY_LIKED:()=>a.SECTION_MY_LIKED,SNACKBAR_TIMEOUT:()=>a.SNACKBAR_TIMEOUT,UPLOADED_ALBUM_ID:()=>a.UPLOADED_ALBUM_ID,VIDEO_AUTHOR_STANDALONE_DASHBOARD_PATH:()=>a.VIDEO_AUTHOR_STANDALONE_DASHBOARD_PATH,VIDEO_CLIP_IDENTITY_RAW_ID_REGEXP:()=>a.VIDEO_CLIP_IDENTITY_RAW_ID_REGEXP,VIDEO_CLIP_IDENTITY_RAW_PROFILE_ID_REGEXP:()=>a.VIDEO_CLIP_IDENTITY_RAW_PROFILE_ID_REGEXP,VIDEO_CLIP_PATH:()=>a.VIDEO_CLIP_PATH,VIDEO_CLIP_STANDALONE_IDENTITY_RAW_ID_REGEXP:()=>a.VIDEO_CLIP_STANDALONE_IDENTITY_RAW_ID_REGEXP,VIDEO_CLIP_STANDALONE_IDENTITY_RAW_PROFILE_ID_REGEXP:()=>a.VIDEO_CLIP_STANDALONE_IDENTITY_RAW_PROFILE_ID_REGEXP,VIDEO_CLIP_STANDALONE_PATH:()=>a.VIDEO_CLIP_STANDALONE_PATH,VIDEO_COMMUNITY_COMMENTS_PATH:()=>a.VIDEO_COMMUNITY_COMMENTS_PATH,canAddVideoToCommunityPlaylist:()=>T.canAddVideoToCommunityPlaylist,canCreateClipFromVideo:()=>T.canCreateClipFromVideo,createVideoBindingsService:()=>O.createVideoBindingsService,formatNavigatePath:()=>y.formatNavigatePath,formatTextWithLinks:()=>T.formatTextWithLinks,get:()=>R.get,getAdditionalInfo:()=>s.getAdditionalInfo,getAllPlaylistURL:()=>T.getAllPlaylistURL,getFormattedBigLikesToShortCase:()=>P.getFormattedBigLikesToShortCase,getFormattedBigSubscribersToShortCase:()=>P.getFormattedBigSubscribersToShortCase,getFormattedBigViewsToShortCase:()=>P.getFormattedBigViewsToShortCase,getFormattedFullVideoViews:()=>P.getFormattedFullVideoViews,getFormattedPostponePublishDateTime:()=>_.getFormattedPostponePublishDateTime,getFormattedUpdatedTime:()=>_.getFormattedUpdatedTime,getFormattedUpdatedTimeWithPrefix:()=>_.getFormattedUpdatedTimeWithPrefix,getFormattedVideoCount:()=>P.getFormattedVideoCount,getFormattedVideoDate:()=>P.getFormattedVideoDate,getFormattedViews:()=>c.getFormattedViews,getLiveStartURL:()=>T.getLiveStartURL,getMyVideosPage:()=>T.getMyVideosPage,getOwnerIdAndVideoIdFromVideoEditorPageUrl:()=>T.getOwnerIdAndVideoIdFromVideoEditorPageUrl,getOwnerVideosPageBasePath:()=>T.getOwnerVideosPageBasePath,getOwnerVideosPageURL:()=>T.getOwnerVideosPageURL,getPlaylistCreateURL:()=>T.getPlaylistCreateURL,getPlaylistURL:()=>T.getPlaylistURL,getThumbFromUrl:()=>T.getThumbFromUrl,getThumbSrc:()=>T.getThumbSrc,getThumbSrcFromImages:()=>T.getThumbSrcFromImages,getVideoEditorPage:()=>T.getVideoEditorPage,getVideoPrefix:()=>T.getVideoPrefix,getWatchLaterPath:()=>T.getWatchLaterPath,isFakeVideoStandalone:()=>u.isFakeVideoStandalone,isLiveVideo:()=>T.isLiveVideo,isPrivacyLocked:()=>I.isPrivacyLocked,isStandaloneOrVideoPage:()=>p.isStandaloneOrVideoPage,isVideoEditorPage:()=>T.isVideoEditorPage,isVideoPageOpen:()=>p.isVideoPageOpen,isVideoSection:()=>E.isVideoSection,isVideoStandalone:()=>d.isVideoStandalone,isVideoStandaloneOrSection:()=>E.isVideoStandaloneOrSection,mapArtistToVideoCardOwner:()=>m.mapArtistToVideoCardOwner,mapPlaylistToPlaylistCardItem:()=>g.mapPlaylistToPlaylistCardItem,mapRestrictions:()=>I.mapRestrictions,mapThumbsDataEpisodes:()=>I.mapThumbsDataEpisodes,mapUserOrGroupToPlaylistCardOwner:()=>A.mapUserOrGroupToPlaylistCardOwner,mapUserOrGroupToVideoCardOwner:()=>f.mapUserOrGroupToVideoCardOwner,mapVideoToSimpleVideoCardItem:()=>I.mapVideoToSimpleVideoCardItem,mapVideoToVideoCardItem:()=>I.mapVideoToVideoCardItem,navigateToVideo:()=>y.navigateToVideo,parseDuration:()=>T.parseDuration,trackOneStatError:()=>S.trackOneStatError,useOwner:()=>l.useOwner,useVideoInPlaylist:()=>l.useVideoInPlaylist});var n=r(664634),a=r(666384),s=r(506596),_=r(817339),c=r(584683),l=r(839962),u=r(680261),d=r(800361),p=r(11387),E=r(536669),m=r(483673),g=r(707447),A=r(741444),f=r(361877),I=r(857551),y=r(681352),R=r(191977),O=r(497206),S=r(859738),T=r(671112),P=r(891297)},680261:(e,t,r)=>{"use strict";r.d(t,{isFakeVideoStandalone:()=>_});var n=r(540462),a=r(800361),s=r(666384);const _=(e=!1,t=!1)=>{if((0,a.isVideoStandalone)())return!0;if(!(0,n.partConfigEnabled)("video_standalone"))return!1;const r=(t?window.nav.cur:window.nav.strLoc)||"";return s.VIDEO_PAGE_STARTS_WITH_PATH_REGEXP.test(r)||!e&&r.startsWith(s.VIDEO_AUTHOR_DASHBOARD_PATH)}},922939:(e,t,r)=>{"use strict";r.d(t,{isPrivacyLocked:()=>n});const n=e=>!!e&&Boolean((e=>e.category&&!["all","any"].includes(e.category))(e)||e.excluded_category?.length||e.lists?.allowed?.length||e.lists?.excluded?.length||e.owners?.allowed?.length||e.owners?.excluded?.length)},11387:(e,t,r)=>{"use strict";r.d(t,{isStandaloneOrVideoPage:()=>l,isVideoPageOpen:()=>c});var n=r(666384),a=r(540462),s=r(800361),_=r(437266);const c=()=>n.VIDEO_PAGE_STARTS_WITH_PATH_REGEXP.test(window.nav.strLoc)||function(e){const t=(0,a.partConfigEnabled)("video_web_playlist_page_regex_fix");return(t?n.PLAYLIST_PAGE_REGEXP:_.PLAYLIST_URL_REGEXP).test(e)}(window.nav.strLoc),l=()=>(0,s.isVideoStandalone)()||c()&&(0,a.partConfigEnabled)("vkvideo_redirect_to_standalone")},557454:(e,t,r)=>{"use strict";r.d(t,{isUpcomingLiveVideo:()=>n});const n=({liveStatus:e,type:t})=>"live"===t&&"upcoming"===e},971517:(e,t,r)=>{"use strict";r.d(t,{isVideoExternal:()=>n});const n=e=>Boolean(e&&e.player&&(e.files?.external||"YouTube"===e.platform))},800361:(e,t,r)=>{"use strict";r.d(t,{isVideoStandalone:()=>n.isVkVideo});var n=r(105330)},536669:(e,t,r)=>{"use strict";r.d(t,{isVideoSection:()=>s,isVideoStandaloneOrSection:()=>_});var n=r(800361),a=r(666384);const s=()=>window.nav.strLoc.startsWith(a.BASE_PATHNAME),_=()=>(0,n.isVideoStandalone)()||s()},483673:(e,t,r)=>{"use strict";r.d(t,{mapArtistToVideoCardOwner:()=>u,mapVideoToFeaturedArtists:()=>d});var n=r(641495),a=r(172479),s=r(8520);const _=[50,100,200],c=({photo:e})=>e?_.reduce(((t,r)=>(t[`photo_${r}`]=(0,s.getPhotoSize)(e,r)?.url,t)),{}):{},l=e=>({name:(0,n.getOwnerName)(e),href:(0,a.getOwnerUrl)(e)}),u=e=>{if("music_video"!==e.type||!e.main_artists)return null;const[t]=e.main_artists;return!t||t.video_owner_id?null:{name:(0,n.getOwnerName)(t),href:(0,a.getOwnerUrl)(t),...c(t)}},d=e=>e?.featured_artists?e.featured_artists.map(l):void 0},707447:(e,t,r)=>{"use strict";r.d(t,{mapPlaylistToPlaylistCardItem:()=>_});var n=r(671112),a=r(922939),s=r(817339);const _=e=>({id:e.id,href:(0,n.getPlaylistURL)(e.owner_id,e.id),title:e.title,count:e.count,thumbSrc:(0,n.getThumbSrc)(e),isPrivacyLocked:(0,a.isPrivacyLocked)(e.privacy),isThumbBlurred:Boolean(e.image_blur),additionalInfo:(0,s.getFormattedUpdatedTimeWithPrefix)(e.updated_time)})},741444:(e,t,r)=>{"use strict";r.d(t,{mapUserOrGroupToPlaylistCardOwner:()=>_});var n=r(33305),a=r(641495),s=r(172479);const _=(e,t)=>({name:(0,a.getOwnerName)(e),href:(0,s.getOwnerUrl)(e,t),is_nft:(0,n.isOwnerUser)(e)?e.is_nft:e.is_nft_photo,verified:Boolean(e.verified),has_unseen_stories:e.has_unseen_stories,photo_50:e.photo_50,photo_100:e.photo_100,photo_200:e.photo_200})},361877:(e,t,r)=>{"use strict";r.d(t,{mapUserOrGroupToVideoCardOwner:()=>_});var n=r(222062),a=r(641495),s=r(172479);const _=(e,t)=>e?{...e,name:(0,a.getOwnerName)(e),href:(0,s.getOwnerUrl)(e,t),verified:1===e.verified,is_nft:(0,n.checkOwnerIsNFT)(e)}:{name:"",href:""}},857551:(e,t,r)=>{"use strict";r.d(t,{isPrivacyLocked:()=>f,mapRestrictions:()=>y,mapThumbsDataEpisodes:()=>T,mapVideoToSimpleVideoCardItem:()=>C,mapVideoToVideoCardItem:()=>b});var n=r(8520),a=r(866467),s=r(807978),_=r(841315),c=r(557454),l=r(483673),u=r(671112),d=r(506596),p=r(584683),E=r(817339),m=r(98354),g=r(540462),A=r(666384);const f=e=>!!e&&((e=>"members"===e.category?"to_subscribers":"by_link"===e.category?"by_link":Boolean(e.category&&!["all","any"].includes(e.category)))(e)||Boolean(e.excluded_category?.length||e.lists?.allowed?.length||e.lists?.excluded?.length||e.owners?.allowed?.length||e.owners?.excluded?.length)),I=e=>{if(!e)return;return{delete_outline:"delete",hide_outline:"hide",recent_outline:"recent",info_outline:"info",lock_outline:"lock",donate_outline:"donate",users_outline:"users",picture_outline:"picture",live_clock_badge_outline:"liveClockBadge",do_not_disturb_outline:"doNotDisturb",users3_outline:"users3",cancel_circle_outline:"cancelCircle",block_outline:"block",report_outline:"report"}[e]},y=e=>{const t=e&&(e=>e&&(e.icon_name?.length||e.mute_info_link?.length)?1===e.blur?"blurred":e.mute_info_link&&e.mute_info_link.length>0?"muted":"hidden":null)(e);return t?{title:e.title,action:e.button?.action,buttonTitle:"donat"!==e.button?.action?e.button?.title:void 0,mode:t,iconType:I(e.icon_name)}:null},R=e=>{const t=e.title||"",r=e.subtitle||"";return"music_video"===e.type?`${t} ${r}`:t},O=e=>{const t=e.published_at;if(!t)return;const r=t*s.SECOND;return Date.now()>r?void 0:(0,a.langDate)(r,(0,a.getLang)("global_short_date_time","raw"),0,(0,a.getLang)("months_sm_of","raw"))};function S(e){const t={isUpcoming:(0,c.isUpcomingLiveVideo)({type:e.type,liveStatus:e.live_status}),isInteractive:Boolean(e.interactive_info),badgeText:e.platform};return t.isUpcoming?t.badgeText=(0,a.getLang)("global_video_soon"):t.isInteractive&&(t.badgeText=(0,a.getLang)("video_interactive_label")),t}function T(e){const t=e?.timeline_thumbs;if(t)return{frameWidth:t.frame_width??0,frameHeight:t.frame_height??0,countPerRow:t.count_per_row??0,countPerImage:t.count_per_image??0,countTotal:t.count_total??0,isUV:!!t.is_uv,frequency:t.frequency??0,links:t.links??[]}}function P(e){if(!e.episodes?.length)return;const t=T(e);if(!t)return;const r=e.duration??0;return e.episodes.map((({time:e=0,text:n=""})=>({time:e,text:n,thumbData:{...(0,m.getEpisodeThumb)(t,e/r,r,A.VIDEO_ITEM_EPISODE_MVK_THUMB_WIDTH),frameWidth:t.frameWidth,frameHeight:t.frameHeight}})))}const b=e=>{const{isUpcoming:t,isInteractive:r,badgeText:n}=S(e),s=(0,g.partConfigEnabled)("search_add_video_episodes_web")||(0,g.partConfigEnabled)("search_episodes_modal_mvk");return{additionalInfo:(0,d.getAdditionalInfo)(e),description:e.description,duration:e.duration,href:(0,_.getVideoUrl)(e),isLive:(0,u.isLiveVideo)(e),isPrivacyLocked:f(e.privacy_view),isProcessing:Boolean(e.processing),ownersRelationText:e.featured_artists?(0,a.getLang)("video_feature_relation_text"):void 0,badgeText:n,publishDate:O(e),restriction:y(e.restriction),secondaryOwners:(0,l.mapVideoToFeaturedArtists)(e),thumbSrc:(0,u.getThumbSrc)(e),title:R(e),trailerSrc:e.trailer?.mp4_360,isUpcoming:t,viewedDuration:e.viewed_duration,isInteractive:r,episodes:s?P(e):void 0,badgeMarks:e.snippet_marks}},C=(e,t)=>{const{isUpcoming:r,isInteractive:a,badgeText:s}=S(e);return{title:R(e),isPrivacyLocked:f(e.privacy_view),isLive:(0,u.isLiveVideo)(e),duration:e.duration,viewedDuration:e.viewed_duration,badgeText:s,isUpcoming:r,isInteractive:a,thumbSrc:(0,u.getThumbSrc)(e),restriction:y(e.restriction),href:(0,_.getVideoUrl)(e),views:void 0!==e.views?(0,p.getFormattedViews)(e.views):void 0,date:t||void 0===e.date?void 0:(0,n.decodeHTMLEntities)((0,E.getFormattedUpdatedTime)(e.date,!0))}}},681352:(e,t,r)=>{"use strict";r.d(t,{formatNavigatePath:()=>n,navigateToVideo:()=>a});const n=e=>e.startsWith("/")?e.substring(1):e,a=(e,{updateLocation:t}={})=>{const r=new URL(e,window.location.origin);if(window.location.hostname!==r.hostname)return void(window.location.href=r.href);const a=r.pathname+r.search;t?window.nav.setLoc(n(a)):window.nav.go(a)}},191977:(e,t,r)=>{"use strict";r.d(t,{get:()=>l});var n=r(957994),a=r(805658),s=r(553608);const _="videoplayer_auth_token",c=async({refresh:e=!1,prefetch:t=!1}={})=>{const r=t?a.apiWithPrefetch:n.api,{token:c}=await r("video.getStatsToken",{env:"production",force_refresh:e?1:0});var l;return l=c,s.bestAvailableStorage.setItem(_,l),c},l=async(e={})=>e.refresh?await c(e):s.bestAvailableStorage.getItem(_)??await c(e)},940540:(e,t,r)=>{"use strict";r.d(t,{createVideoBindingsService:()=>s});var n=r(32489),a=r(679005);const s=e=>{const t=e.createEvent(),r=e.createEvent(),s=e.createEvent(),_=e.createStore({});return(0,n.sample)({clock:t,source:_,fn:(e,{album_ids:t,video_id:r})=>(0,a.produce)(e,(e=>{t.forEach((t=>{e[r]||(e[r]={}),e[r][t]=!0}))})),target:_}),(0,n.sample)({clock:r,source:_,fn:(e,{album_id:t,video_id:r})=>{const n=!e[r]||!e[r][t];return(0,a.produce)(e,(e=>{e[r]||(e[r]={}),e[r][t]=n}))},target:_}),(0,n.sample)({clock:s,fn:()=>({}),target:_}),{$entitiesVideoBinding:_,addBindingsEvent:t,toggleBindingEvent:r,resetBindingsEvent:s}}},497206:(e,t,r)=>{"use strict";r.d(t,{createVideoBindingsService:()=>n.createVideoBindingsService});var n=r(940540)},859738:(e,t,r)=>{"use strict";r.d(t,{trackOneStatError:()=>s});var n=r(540462),a=r(636576);const s=(0,n.partConfigEnabled)("video_player_track_onestat_errors")?e=>{const t=e instanceof Error?e.name:String(e);(0,a.statlogsValueEvent)("video_player_insignificant_network_error","onestat",t)}:()=>{}},671112:(e,t,r)=>{"use strict";r.d(t,{BOOKMARKS_URL:()=>M,canAddVideoToCommunityPlaylist:()=>B,canCreateClipFromVideo:()=>G,formatTextWithLinks:()=>U,getAllPlaylistURL:()=>R,getArtistPhotos:()=>L,getLiveStartURL:()=>T,getMyVideosPage:()=>D,getOwnerIdAndVideoIdFromVideoEditorPageUrl:()=>C,getOwnerVideosPageBasePath:()=>I,getOwnerVideosPageURL:()=>H,getPlaylistCreateURL:()=>S,getPlaylistURL:()=>O,getThumbFromUrl:()=>K,getThumbSrc:()=>F,getThumbSrcFromImages:()=>x,getVideoEditorPage:()=>b,getVideoPrefix:()=>f,getWatchLaterPath:()=>y,isLinkedPlaylist:()=>j,isLiveVideo:()=>N,isVideoEditorPage:()=>P,parseDuration:()=>W});var n=r(898848),a=r(148636),s=r(839348),_=r(945270),c=r(971517),l=r(8520),u=r(854950),d=r(595059),p=r(666384),E=r(873900),m=r(768035),g=r(33305),A=r(800361);const f=e=>{switch(e){case"at":return(0,A.isVideoStandalone)()?"@":"video/@";case"slash":return(0,A.isVideoStandalone)()?"/":"/video";case"doubleSlash":return(0,A.isVideoStandalone)()?"/":"/video/";case"backSlash":return(0,A.isVideoStandalone)()?"":"video/";case"prevSlash":return(0,A.isVideoStandalone)()?"":"/video";case"withoutSlash":return(0,A.isVideoStandalone)()?"":"video";case"author":return(0,A.isVideoStandalone)()?"/@":"/video/@";default:return""}},I=(e=!1)=>e?`${f("withoutSlash")}@`:`${f("doubleSlash")}@`,y=()=>`${f("doubleSlash")}bookmarks`,R=e=>`${I()}${e}/playlists`,O=(e,t)=>{const r=(0,E.getIdentityRawId)({ownerId:e||0,id:t||0});return`${f("prevSlash")}/playlist/${r}`},S=()=>`${f("backSlash")}playlist/create`,T=()=>`${f("backSlash")}live/start`,P=(e="")=>p.VIDEO_EDITOR_PAGE_RAW_ID_REGEXP.test(e),b=({backUrl:e,id:t,ownerId:r})=>{const n=e?`?backUrl=/${e}`:"";return`/video${(0,E.getIdentityRawId)({ownerId:r,id:t})}/editor${n}`},C=()=>{const e=window.nav.objLoc[0].match(p.VIDEO_EDITOR_PAGE_RAW_ID_REGEXP)?.[1];if(e){const{id:t,ownerId:r}=(0,m.parseRawId)(e);return{videoId:t,ownerId:r}}},D=()=>window.vk.id&&window.cur?.my_added_videos_path?.slice(1,-6)||f("backSlash"),M=`${f("doubleSlash")}bookmarks`,L=e=>{const t=[50,100,200],r={};return e.photo?e.photo.reduce(((e,r)=>(t.includes(r.width)&&(e[`photo_${r.width}`]=r.url),e)),r):r},N=({live_status:e})=>Boolean(e&&!["postlive","finished"].includes(e)),k=(e,t,r,n,a)=>a,U=(e,t=!1)=>{let r=(0,n.clean)(e);return r=(0,a.replaceHyperLinks)(r,a.linksReplacer),r=(0,s.replaceMentions)(r,t?k:void 0),r=(0,_.replaceEmailLinks)(r),r},B=e=>"short_video"!==e.type&&(!e.restriction||((0,c.isVideoExternal)(e)?1===e.restriction.can_play:1===e.restriction.can_preview)),x=(e,t=240)=>{if(!e.length)return;const r=(0,l.getPhotoSize)(e,(0,u.getImageMinWidth)(t));if(r?.url)return r.url;const n=e.filter((e=>!e.with_padding));return(n.length?n:e)[0].url},F=e=>{const t=e instanceof d.Video?e.data:e;return x(t.image||[])},V={s:{width:130,height:96},m:{width:160,height:120},l:{width:320,height:240},x:{width:800,height:450}},K=e=>{if(!e)return null;try{const t=new URL(e),r=new URLSearchParams(t.search),n=r.get("size");if(!n)return(e=>{if(!e.includes("video/thumbs"))return null;const t=e.match(/[_\/]([a-z])\.\w+$/)?.[1];if(!t||!V[t])return null;const{width:r,height:n}=V[t];return{url:e,width:r,height:n,with_padding:1}})(e)??(e=>({url:e,...V.m,with_padding:1}))(e);const a=n.split("x");if(2!==a.length)return null;const s=r.get("keep_aspect_ratio"),_=parseInt(a[0]),c=parseInt(a[1]);return{url:e,width:_,height:c,with_padding:"1"===s?1:void 0}}catch(e){return null}},W=e=>{let t=0;if(!e||"string"!=typeof e)return t;const r=e.split(":").map(Number);if(r.some(isNaN))return t;for(let e=0;e<r.length;e++){const n=60**(r.length-1-e);t+=r[e]*n}return t},H=(e,t=!1)=>{const r=I(t);if(!e)return r;if((0,g.isOwnerGroup)(e))return`${r}${e.screen_name}`;return`${r}${e.screen_name||e.domain||`id${e.id}`}`},G=(e,t)=>{const{duration:r,type:n,platform:a}=e,s=void 0===t?!!a:t;return r&&r>=p.VIDEO_MIN_DURATION_IN_SECONDS_FOR_VIDEO_TO_CLIP&&!s&&n&&!["live","interactive","short_video"].includes(n)},j=e=>{try{const{id:t}=(0,m.parseRawId)(e);if(-1001===t)return!1}catch(e){return!1}const t=new URLSearchParams(window.location.search);return Boolean(t.get("isLinkedPlaylist"))}},891297:(e,t,r)=>{"use strict";r.d(t,{getFormattedBigLikesToShortCase:()=>p,getFormattedBigSubscribersToShortCase:()=>d,getFormattedBigViewsToShortCase:()=>u,getFormattedFullVideoViews:()=>m,getFormattedVideoCount:()=>g,getFormattedVideoDate:()=>E});var n=r(866467),a=r(898848),s=r(807978);const _=({count:e,localeOptions:t})=>{const{getMinNumbersLocale:r,getThousandLocale:n,getMillionLocale:s}=t,_=window.langConfig?.locale||"ru";if(e<1e3)return r?r(e):e.toString();let c=1e3,l=n();e>999999&&(c=1e6,l=s());const[u="",d=""]=(e/c).toString().split("."),p=e>=1e5&&e<1e6||0===d.length?0:(0,a.intval)(d.substring(0,1)),E=(0,a.intval)(p)>0?`${u}.${p}`:u;return`${Number(E).toLocaleString(_)}${l}`},c={getMinNumbersLocale:e=>(0,n.getLang)("video_N_views_list",e),getThousandLocale:()=>(0,n.getLang)("video_N_views_thousand"),getMillionLocale:()=>(0,n.getLang)("video_N_views_million")},l={getMinNumbersLocale:e=>(0,n.getLang)("video_N_group_members_count",e),getThousandLocale:()=>(0,n.getLang)("video_N_subscribers_thousand"),getMillionLocale:()=>(0,n.getLang)("video_N_subscribers_million")},u=e=>_({count:e,localeOptions:c}),d=e=>_({count:e,localeOptions:l}),p=e=>_({count:e,localeOptions:{getThousandLocale:()=>(0,n.getLang)("video_N_thousand"),getMillionLocale:()=>(0,n.getLang)("video_N_million")}}),E=e=>(0,n.langDate)(e*s.SECOND,(0,n.getLang)("global_date","raw").slice(0,2),0,(0,n.getLang)("months_of","raw")),m=e=>`${e.toLocaleString("ru-RU")} ${(0,n.getLang)("video_showcase_N_viewers",e).split(" ")[1]}`,g=e=>(0,n.getLang)("video_video_videos_counter",e,!0)},590151:(e,t,r)=>{"use strict";r.d(t,{logSavedUsersAuthStart:()=>c,logSavedUsersDropAccount:()=>l,logSwitcherAccounts:()=>u});var n=r(314309);const a=new n.ProductionStatCollector,s=new n.ActionStatCollector(a),_=new n.RegistrationItemStatCollector(s);function c(e){_.logEvent(n.RegistrationItemEventTypes.AUTH_SAVED_START,n.EventScreens.START_PROCEED_AS,void 0,{force:!0},[{name:n.RegistrationFieldItemNames.SAVED_SOURCE,value:n.RegistrationFieldItemValues.SAVED_SOURCE_CAROUSEL,start_interaction_time:"",end_interaction_time:""}],e)}function l(e){_.logEvent(n.RegistrationItemEventTypes.DROP_ACCOUNT_FROM_SAVED,n.EventScreens.START_PROCEED_AS,void 0,{force:!0},[{name:n.RegistrationFieldItemNames.SAVED_SOURCE,value:n.RegistrationFieldItemValues.SAVED_SOURCE_CAROUSEL,start_interaction_time:"",end_interaction_time:""}],e)}function u(){_.logEvent(n.RegistrationItemEventTypes.POPUP_OPEN,n.EventScreens.MAIN,n.EventScreens.MULTI_ACC_SWITCHER,{force:!0})}},427712:(e,t,r)=>{"use strict";r.d(t,{getStoryPublisherAuthorId:()=>d,loadStoryPublisherV2:()=>p,storyPublisherEmitter:()=>u,storyPublisherInitAsync:()=>E,storyPublisherStoryBoxInitAsync:()=>m});var n=r(8520),a=r(246429),s=r(636576),_=r(540462),c=r(558137),l=r(584053);const u=(0,c.makeSharedState)("StoryPublisherV2",(()=>new l.Emitter),{version:1}),d=()=>{if((0,_.partConfigEnabled)("stories_publisher_in_groups"))return window.cur.data?.ownerId||(window.cur.options?.group_id?-window.cur.options.group_id:void 0)||(window.cur.options?.public_id?-window.cur.options.public_id:void 0)},p=async()=>{let e=null;try{const t=()=>Promise.all([r.e(91498),r.e(89631),r.e(50560),r.e(85172),r.e(762),r.e(21529),r.e(1060),r.e(55012),r.e(73375),r.e(52899),r.e(86427),r.e(59886),r.e("langs/web/StoryPublisherV2")]).then(r.bind(r,543792));e=(await(0,n.asyncImportLoader)(t,3)).StoryPublisherV2||null}catch(e){console.error(e)}return e},E=async e=>{(0,s.statlogsValueEvent)("story_create_product_analytics",{event_type:"add_story",creation_entry_point:"new_story_avatar",nav_screen:"feed"});const t=await p();if(t){const r=e[0]||{},n=new t,a=d(),s=u();n.init({authorId:a,...r,emitter:s})}},m=async e=>{(function(e){return e===g})(await function(e){const t=!0,r=(0,a.showBoxLoader)();return e.then((e=>t&&(0,a.isBoxLoadingCancelled)(r)?g:((0,a.isBoxLoadingCancelled)(r)||(0,a.hideBoxLoader)(),e)),(e=>((0,a.hideBoxLoader)(),Promise.reject(e))))}(window.stManager.add([window.jsc("web/story_publisher.js")])))||window.StoryPublisher.init(...e)},g="showBoxLoaderForPromise cancelled"},416362:(e,t,r)=>{"use strict";function n(e,t,r=null){e&&!window.vk?.isBanned&&window.stManager.add([window.jsc("web/article_layer.js"),"article.css"]).then((()=>{window.ArticleLayer.prepare(e,r,t)}))}r.d(t,{articlePrepare:()=>n})},358916:(e,t,r)=>{"use strict";r.d(t,{AudioPageProxy:()=>p});var n=r(434518),a=r(763812),s=r(584053),_=r(558137),c=r(523149),l=(0,a._)("_emitter"),u=(0,a._)("_globalStorage"),d=(0,a._)("_audioPage");class p{get emitter(){return(0,n._)(this,l)[l]}get events(){return(0,n._)(this,l)[l].listenable}get isInitialized(){return Boolean((0,n._)(this,d)[d])}get data(){return(0,n._)(this,d)[d]?._data||null}get readyAudio(){return(0,n._)(this,d)[d]?._readyAudio??null}get currentPlaylist(){return(0,n._)(this,d)[d]?.getPageCurrentPlaylist()}get currentSection(){return(0,n._)(this,d)[d]?._currentSection??null}get audioStartReadyAudio(){return(0,n._)(this,u)[u]?.audioStartReadyAudio??!1}set audioStartReadyAudio(e){(0,n._)(this,u)[u]={audioStartReadyAudio:e}}get ownerId(){return(0,n._)(this,d)[d]?.getOwnerId()??null}get canAddToGroup(){return Boolean((0,n._)(this,d)[d]?.canAddToGroup())}get canEditGroup(){return Boolean((0,n._)(this,d)[d]?.canEditGroup())}get contentBlock(){return(0,n._)(this,d)[d]?._els?.contentBlock??null}destroyReadyAudio(){(0,n._)(this,d)[d]?._destroyReadyAudio()}initAudioRowsAutoList(e){(0,n._)(this,d)[d]?._initAudioRowsAutoList(e)}reloadGeneralSectionData(e){(0,n._)(this,d)[d]?.reloadGeneralSectionData(e)}onUserAction(e,t){(0,n._)(this,d)[d]?.onUserAction(e,t)}constructor(){Object.defineProperty(this,u,{get:E,set:m}),Object.defineProperty(this,d,{get:g,set:void 0}),Object.defineProperty(this,l,{writable:!0,value:void 0}),(0,n._)(this,l)[l]=new s.Emitter}}function E(){return window.cur??null}function m(e){(0,c.default)(window.cur)&&r._dG("cur",{...window.cur,...e})}function g(){return(0,n._)(this,u)[u]?.audioPage??null}p.ensure=(0,_.makeSharedState)("AudioPageProxy",(()=>new p),{version:5})},149510:(e,t,r)=>{"use strict";r.d(t,{AudioRecomsOnboardingShowRequestedEventReason:()=>n});var n=function(e){return e.VibeRecommendationsPlaylistPlayButton="VIBE_RECOMMENDATIONS_PLAYLIST_PLAY_BUTTON",e.RecommendationsPlaylistOpenButton="RECOMMENDATIONS_PLAYLIST_OPEN_BUTTON",e.RecommendationsPlaylistPlayButton="RECOMMENDATIONS_PLAYLIST_PLAY_BUTTON",e.SnippetsBannerOpenSnippetsPageLink="SNIPPETS_BANNER_SNIPPETS_PAGE_LINK",e.Navigation="NAVIGATION",e.AudioPageInit="AUDIO_PAGE_INIT",e.Unknown="UNKNOWN",e}({})},275810:(e,t,r)=>{"use strict";r.d(t,{AudioPageEventType:()=>n});var n=function(e){return e.Updated="updated",e.RadioStationFollowed="radioStationFollowed",e.PodcastAddedToFavorites="podcastAddedToFavorites",e.AudioLinkCopied="audioLinkCopied",e.AudioRecomsOnboardingShowRequested="audioRecomsOboardingShowRequested",e}({})},459899:(e,t,r)=>{"use strict";r.d(t,{AudioPageEventType:()=>a.AudioPageEventType,AudioPageProxy:()=>n.AudioPageProxy,AudioRecomsOnboardingShowRequestedEventReason:()=>s.AudioRecomsOnboardingShowRequestedEventReason});var n=r(358916),a=r(275810),s=r(149510)},997784:(e,t,r)=>{"use strict";r.d(t,{FetchService:()=>l});var n=r(346675),a=r(319756),s=r(761520),_=r(540462),c=r(139612);class l{async getAudioIdsBySource(e,t={}){const r=(0,_.partConfigEnabled)("audio_recom_playlists_starts_with_last_played_audio_web"),{audioListId:n,audioListSource:a,ref:l}=t,u={audioIds:[],lastPlayedAudioRawId:null};try{if(r&&"playlist"===a&&n){const{audios:e,last_listened_audio_id:t=null}=await this.audioApi.getAudioIdsBySource({entity_id:n,source:a,ref:l});return u.audioIds=e.map((e=>({audio_raw_id:e.audio_id,access_key:(0,c.mapAPIRawIdToAudioIdentity)(e.audio_id)?.accessKey??"",track_code:e.track_code}))),t&&(u.lastPlayedAudioRawId=t),u}const t=await s.ajax.promisifiedPost("al_audio.php?act=get_audio_ids_by_source",{...e}),_=t?.[0];Array.isArray(_)&&(u.audioIds=_)}finally{return u}}constructor(){this.audioApi=(0,a.ensureDIRootWebContainer)().resolve(n.AudioApi),this.reloadAudios=e=>new Promise(((t,r)=>{s.ajax.post("al_audio.php?act=reload_audios",{audio_ids:e},{onDone:e=>{t(e)},onFail:e=>(r(e),!1)})})),this.getAutoplayAudioIdsBySource=e=>new Promise(((t,r)=>{s.ajax.post("al_audio.php?act=get_next_audios",{...e},{onDone:e=>{t(e)},onFail:e=>(r(e),!1)})})),this.followRadiostation=(e,t)=>new Promise(((r,n)=>{s.ajax.post("al_audio.php?act=follow_radiostation",{id:e,hash:t},{onDone:e=>{r(e)},onFail:e=>(n(e),!0)})})),this.unfollowRadiostation=(e,t)=>new Promise(((r,n)=>{s.ajax.post("al_audio.php?act=unfollow_radiostation",{id:e,hash:t},{onDone:e=>{r(e)},onFail:e=>(n(e),!0)})}))}}},322100:(e,t,r)=>{"use strict";r.d(t,{ensureGroupsMusicService:()=>n.ensureGroupsMusicService,ensureMyAudioDislikesService:()=>n.ensureMyAudioDislikesService,ensureMyMusicService:()=>n.ensureMyMusicService});var n=r(83113)},882118:(e,t,r)=>{"use strict";r.d(t,{createGroupServiceAdapter:()=>d});var n=r(746573),a=r(182464),s=r(468073),_=r(824501),c=r(319756),l=r(395654),u=r(37051);function d(e){const t=(0,n.getEffectorServiceDomain)(e),r=(0,c.ensureDIRootWebContainer)().resolve(_.MusicService).groupMusicServices,{$identitiesMap:d}=(0,a.createIdentitiesMaps)({domain:t}),p=t.createEffect((async({trackedIdentity:e,groupId:t})=>{const n=(0,l.toMusicAudioIdentity)(e),a=s.Ranges.convertOwnerIdToGroupId(t);await r.get(a).add(n,{trackCode:e.trackCode});const _=r.get(a).getTarget(n);if(!_)throw new Error("Failed to add audio to group");return(0,u.toAudioIdentity)(_)})),E=t.createEffect((async({trackedIdentity:e,groupId:t})=>{const n=(0,l.toMusicAudioIdentity)(e),a=s.Ranges.convertOwnerIdToGroupId(t);await r.get(a).restore(n,{trackCode:e.trackCode});const _=r.get(a).getTarget(n);if(!_)throw new Error("Failed to restore audio to group");return(0,u.toAudioIdentity)(_)}));return{addFx:p,deleteFx:t.createEffect((async({groupId:e,audioId:t})=>{const n=s.Ranges.convertOwnerIdToGroupId(e);await r.get(n).delete((0,l.toMusicAudioIdentity)({ownerId:e,id:t}))})),restoreFx:E,$identitiesMap:d}}},871479:(e,t,r)=>{"use strict";r.d(t,{ensureGroupsMusicService:()=>_});var n=r(558137),a=r(32489),s=r(882118);const _=(0,n.makeSharedState)("global/audio/groupsMusic/adapter",(()=>(0,s.createGroupServiceAdapter)({domain:(0,a.createDomain)("global/audio/groupsMusic/adapter"),name:"global/audio/groupsMusic/adapter"})),{version:1})},589322:(e,t,r)=>{"use strict";r.d(t,{createMyAudioDislikesServiceAdapter:()=>d});var n=r(824501),a=r(246855),s=r(746573),_=r(586049),c=r(873900),l=r(319756),u=r(395654);function d(e){const t=(0,s.getEffectorServiceDomain)(e),r=(0,l.ensureDIRootWebContainer)().resolve(n.MusicService).dislikes,{$fullIdsMap:d,fullIdsMapApi:p}=(0,_.createFullIdsMap)(t),E=t.createEffect((async({identity:e})=>{await r.activate((0,u.toMusicAudioIdentity)(e))})),m=t.createEffect((async({identity:e})=>{await r.deactivate((0,u.toMusicAudioIdentity)(e),{reason:a.MusicDislikeDeactivateReason.MyMusic})}));return r.events.on("activated",(({identity:e})=>{p.add((0,c.getIdentityRawId)(e))})),r.events.on("deactivated",(({identity:e})=>{p.remove((0,c.getIdentityRawId)(e))})),{addFx:E,removeFx:m,$identitiesMap:d}}},802640:(e,t,r)=>{"use strict";r.d(t,{ensureMyAudioDislikesService:()=>_});var n=r(558137),a=r(32489),s=r(589322);const _=(0,n.makeSharedState)("global/audio/myDislikes/adapter",(()=>(0,s.createMyAudioDislikesServiceAdapter)({domain:(0,a.createDomain)("global/audio/myDislikes/adapter"),name:"global/audio/myDislikes/adapter"})),{version:1})},391570:(e,t,r)=>{"use strict";r.d(t,{createMyMusicServiceAdapter:()=>m});var n=r(746573),a=r(182464),s=r(46201),_=r(786979),c=r(824501),l=r(873900),u=r(32489),d=r(319756),p=r(395654),E=r(37051);function m(e){const t=(0,n.getEffectorServiceDomain)(e),r=(0,d.ensureDIRootWebContainer)().resolve(c.MusicService).myMusic,{$identitiesMap:m,addedIdentitiesMapApi:g,removedIdentitiesMapApi:A,addToStore:f,removeFromStore:I}=(0,a.createIdentitiesMaps)({domain:t}),y=t.createStore({}),R=(0,u.createApi)(y,{add:(e,t)=>(0,s.addPairToMap)(e,{key:t.audioFullId,value:t.value}),remove:(e,t)=>(0,_.removePairFromMap)(e,t)}),O=t.createEffect((async({trackedIdentity:e})=>{const t=(0,p.toMusicAudioIdentity)(e);await r.add(t,{trackCode:e.trackCode});const n=r.getTarget(t);if(!n)throw new Error("Failed to add audio to my music");return(0,E.toAudioIdentity)(n)})),S=t.createEffect((async({identity:e})=>{await r.delete((0,p.toMusicAudioIdentity)(e))})),T=t.createEffect((async({identity:e})=>{await r.restore((0,p.toMusicAudioIdentity)(e))}));return r.events.on("added",(({source:e})=>{const t=r.getTarget(e)??e;g.add({fullId:(0,l.getIdentityRawId)((0,E.toAudioIdentity)(e)),identity:(0,E.toAudioIdentity)(t)}),R.add({audioFullId:(0,l.getIdentityRawId)((0,E.toAudioIdentity)(t)),value:(0,E.toAudioIdentity)(e)})})),r.events.on("deleted",(({target:e})=>{const t=r.getTarget(e)??e;A.add((0,l.getIdentityRawId)((0,E.toAudioIdentity)(t)))})),r.events.on("restored",(({target:e})=>{const t=r.getTarget(e)??e;A.remove((0,l.getIdentityRawId)((0,E.toAudioIdentity)(t))),g.add({fullId:(0,l.getIdentityRawId)((0,E.toAudioIdentity)(e)),identity:(0,E.toAudioIdentity)(e)})})),{addFx:O,deleteFx:S,restoreFx:T,addToStore:f,removeFromStore:I,$identitiesMap:m,$sourcesMap:y,isOwned:e=>r.isOwned(e)}}},876409:(e,t,r)=>{"use strict";r.d(t,{ensureMyMusicService:()=>_});var n=r(558137),a=r(32489),s=r(391570);const _=(0,n.makeSharedState)("global/audio/myMusic/adapter",(()=>(0,s.createMyMusicServiceAdapter)({domain:(0,a.createDomain)("global/audio/myMusic/adapter"),name:"global/audio/myMusic/adapter"})),{version:1})},83113:(e,t,r)=>{"use strict";r.d(t,{ensureGroupsMusicService:()=>s.ensureGroupsMusicService,ensureMyAudioDislikesService:()=>n.ensureMyAudioDislikesService,ensureMyMusicService:()=>a.ensureMyMusicService});var n=r(802640),a=r(876409),s=r(871479)},37051:(e,t,r)=>{"use strict";function n(e){return{id:e.id,ownerId:e.ownerId,accessKey:e.accessKey}}r.d(t,{toAudioIdentity:()=>n})},395654:(e,t,r)=>{"use strict";r.d(t,{toMusicAudioIdentity:()=>a});var n=r(70148);function a(e){return new n.OwnedIdentity({id:e.id,ownerId:e.ownerId,accessKey:e.accessKey})}},56885:(e,t,r)=>{"use strict";r.d(t,{hideCatalogBlock:()=>_});var n=r(983567),a=r(392358),s=r(761520);function _(e,t){s.ajax.post("/al_audio.php?act=hide_catalog_block",{block_id:e});const r=t.closest(".CatalogBlock__content");r&&(0,n.getAudioPlayer)().notify(a.events.PLACEHOLDER_REMOVE,r.dataset.id)}},933583:(e,t,r)=>{"use strict";r.d(t,{showAudioLongtapModalEffector:()=>d});var n=r(474848),a=r(725669),s=r(211413),_=r(58808),c=r(840079),l=r(345997);const u=(0,a.asyncComponent)((()=>Promise.all([r.e(91498),r.e(89631),r.e(1715),r.e("langs/web/AudioLongtapModal")]).then(r.bind(r,803410))),(({AudioLongtapModal:e})=>e)),d=(e,t)=>{const r=c.AudioLongtapModalService.ensure(),a=(0,l.ensureMyMusicService)();r.setAudioElement(t),(0,s.showMessageBoxModalSuspense)((t=>(0,n.jsx)(u,{...t,audioLongtapService:r,previewsService:_.audioPreviewsService,myMusicService:a,audio:e})),{width:380,onDestroy:()=>{r.onCloseModal("click_outside")}})}},423979:(e,t,r)=>{"use strict";r.d(t,{SpecialProjectModal:()=>g});var n=r(474848),a=r(296540),s=r(694244),_=r(220208),c=r(63614),l=r(506782),u=r(308950),d=r(454154),p=r(514871),E=r(444024);const m="SpecialProjectModal__subheader",g=({title:e,text:t,button:r,style:g,image:A,backgroundImage:f,sendCloseReason:I,onClose:y})=>{const R=e=>{"A"===e.target.tagName&&I("link")};return(0,a.useEffect)((()=>{const[e]=document.getElementsByClassName(m);return e.addEventListener("click",R),()=>{e.removeEventListener("click",R)}}),[]),(0,n.jsxs)(s.ModalBox,{children:[(0,n.jsx)(_.ModalDismissButton,{onClick:y}),(0,n.jsx)(p.SpecialProjectHeader,{backgroundImage:f,image:A,style:g}),(0,n.jsxs)(c.ModalBody,{insetLevel:1,children:[(0,n.jsx)(l.ModalTextLayout,{subheader:(0,n.jsx)("span",{className:m,children:(0,E.parseReactWikiLinks)(t)}),subheaderMode:"primary",children:e}),(0,n.jsx)(u.ButtonLayout,{children:(0,n.jsx)(d.Button,{onClick:()=>{I("button"),r.action?.url&&window.nav.go(r.action.url)},size:"l",mode:"primary",children:r.title},"special-project-submit-button")})]})]})}},492065:(e,t,r)=>{"use strict";r.d(t,{showWebSpecialProjectModal:()=>_});var n=r(474848),a=r(211413),s=r(423979);const _=(e,t)=>{(0,a.showMessageBoxModal)((r=>(0,n.jsx)(s.SpecialProjectModal,{...r,...e,sendCloseReason:t})),{width:420,onDestroy:()=>{t("close")}})}},493229:(e,t,r)=>{"use strict";r.d(t,{AUDIO_STORAGE_KEYS_ENUM:()=>n});const n={AUDIO_PREVIEW_TOOLTIP_SHOW_DATE_TIME:"audio_preview_tooltip_show_date_time"}},513467:(e,t,r)=>{"use strict";r.d(t,{createAudioDislikesInMyMusicWebService:()=>O});var n=r(746573),a=r(586049),s=r(478455),_=r(584053),c=r(32489),l=r(278758),u=r(803111),d=r(270935),p=r(392358),E=r(679688),m=r(297420),g=r(630082),A=r(367181),f=r(909436),I=r(518051),y=r(169818),R=r(322100);function O(e){const t=(0,n.getEffectorServiceDomain)(e),r=new _.Emitter,I=(0,u.ensureAudioPlayerService)(),y=(0,R.ensureMyAudioDislikesService)(),O=(0,d.ensureMyAudioMusicWebService)(),P=(0,c.createEvent)(),{$fullIdsMap:b,fullIdsMapApi:C}=(0,a.createFullIdsMap)(t),{$fullIdsMap:D,fullIdsMapApi:M}=(0,a.createFullIdsMap)(t),{$fullIdsMap:L,fullIdsMapApi:N}=(0,a.createFullIdsMap)(t),k=(0,c.restore)(P,null),U=(0,c.attach)({source:k,async effect(e){if(!e)throw new Error("Audio not exists");const t=(0,s.getAudioFullId)(e);await Promise.all([O.addFx({audio:e,isNotificationDisabled:!0}),y.removeFx({identity:e})]),N.remove(t),I.updateAudioDislikeStatusFx({audioFullId:t,hasDislike:!1}),I.notifyFx({eventType:p.AudioPlayerEventType.AUDIO_RESTORE_BY_DISLIKE_ACTION,params:[t]}),r.emit(A.AudioDislikesInMyMusicWebServiceEventType.LastDislikedAudioInMyMusicRestored,{audio:e})}}),B=(0,c.attach)({source:(0,c.combine)({dislikesIdentitiesMap:y.$identitiesMap,myMusicIdentitiesMap:O.$identitiesMap,dislikeActionInitializedIdentitiesMap:b,myMusicActionInitializedIdentitiesMap:O.$initializedIdentitiesMap,isFinitePlaylist:(0,m.not)((0,g.equals)(I.$currentPlaylist.map((e=>Boolean(e?.isLive()||e?.isLoadable()))),!0)),playerCurrentAudio:I.$currentAudio,playerProgress:I.$progress}),async effect({dislikeActionInitializedIdentitiesMap:e,myMusicActionInitializedIdentitiesMap:t,dislikesIdentitiesMap:n,myMusicIdentitiesMap:a,isFinitePlaylist:_,playerCurrentAudio:c,playerProgress:l},{audio:u,audioEl:m=null,skipDeletionAudioFromMyMusic:g,needReloadTrackCode:f}){if(!u)throw new Error("Audio not exists");const R=(0,s.getAudioFullId)(u),b=c&&R===(0,s.getAudioFullId)(c)?l:0,C=Boolean(e[R]);if((0,E.hasDislike)({audio:u,dislikesIdentitiesMap:n,isDislikeActionInitialized:C}))throw new Error("Audio already disliked");const D=await S({playerService:I,audio:u,audioEl:m});try{let e=u;if(f){const t=await T(u,m);t&&(e={...u,trackCode:t})}await y.addFx({identity:u});if(!g&&(0,d.isMy)({identity:u,myMusicIdentitiesMap:a,isMyMusicActionInitialized:Boolean(t[R]),userId:window.vk.id}))try{const t=O?.isOwned?.(u)?u:a[R];await O.deleteFx({audio:t}),P(u),r.emit(A.AudioDislikesInMyMusicWebServiceEventType.AudioDislikedInMyMusic,{audio:e,playlistIdentity:D,playerProgress:b}),N.add(R),I.updateAudioDislikeStatusFx({audioFullId:R,hasDislike:!0}),I.notifyFx({eventType:p.AudioPlayerEventType.AUDIO_DELETE_BY_DISLIKE_ACTION,params:[R]})}catch(e){throw new Error("Failed to delete audio from MyMusic",{cause:e})}else r.emit(A.AudioDislikesInMyMusicWebServiceEventType.AudioDisliked,{audio:e,playlistIdentity:D,playerProgress:b});const n=I.getPlaylistQueue();if(_&&n&&n?.indexOfAudio?.(u)===n?.length-1)return;I.getCurrentAudio()?.id===u.id&&I.playNextFx()}catch(e){throw new Error("Failed to add dislike to audio",{cause:e})}}}),x=(0,c.attach)({source:(0,c.combine)({dislikesIdentitiesMap:y.$identitiesMap,initializedIdentitiesMap:b,lastDislikedAudioInMyMusic:k,isCancelDeletionLastDislikedAudioInMyMusicFxPending:U.pending,dislikedAudiosInMyMusicMap:L,playerCurrentAudio:I.$currentAudio,playerProgress:I.$progress}),async effect({initializedIdentitiesMap:e,dislikesIdentitiesMap:t,lastDislikedAudioInMyMusic:n,isCancelDeletionLastDislikedAudioInMyMusicFxPending:a,dislikedAudiosInMyMusicMap:_,playerCurrentAudio:c,playerProgress:l},{audio:u,audioEl:d=null,needReloadTrackCode:m}){if(!u)throw new Error("Audio not exists");const g=(0,s.getAudioFullId)(u),f=Boolean(e[g]);if(!(0,E.hasDislike)({audio:u,dislikesIdentitiesMap:t,isDislikeActionInitialized:f}))throw new Error("Audio not disliked");const R=await S({playerService:I,audio:u,audioEl:d}),b=Boolean(n)&&n?.id===u.id;let C=u;if(m){const e=await T(u,d);e&&(C={...u,trackCode:e})}try{!f||!(g in _)||a&&b?await y.removeFx({identity:u}):(b&&(r.emit(A.AudioDislikesInMyMusicWebServiceEventType.LastDislikedAudioInMyMusicRestoreRequestedByCancelDislikeButton,{audio:u}),P(null)),O.restoreFx?await Promise.all([O.restoreFx({identity:u}),y.removeFx({identity:u})]):await Promise.all([O.addFx({audio:u,isNotificationDisabled:!0}),y.removeFx({identity:u})]),N.remove(g),I.notifyFx({eventType:p.AudioPlayerEventType.AUDIO_RESTORE_BY_DISLIKE_ACTION,params:[g]})),r.emit(A.AudioDislikesInMyMusicWebServiceEventType.AudioDislikeRemoved,{audio:C,playlistIdentity:R,playerProgress:c&&g===(0,s.getAudioFullId)(c)?l:0}),I.updateAudioDislikeStatusFx({audioFullId:g,hasDislike:!1})}catch(e){throw new Error("Failed to remove dislike from audio",{cause:e})}}}),F=(0,c.attach)({source:(0,c.combine)({dislikesIdentitiesMap:y.$identitiesMap,dislikeActionInitializedIdentitiesMap:b,playerCurrentAudio:I.$currentAudio,playerProgress:I.$progress}),async effect({dislikesIdentitiesMap:e,dislikeActionInitializedIdentitiesMap:t,playerCurrentAudio:n,playerProgress:a},{audio:_,audioEl:c,needReloadTrackCode:l,...u}){if(!_)throw new Error("Audio not exists");const d=await S({playerService:I,audio:_,audioEl:c}),p=(0,s.getAudioFullId)(_);let m=document.querySelector(`._audio_row_${p}`);m=m==c?null:m;const g=(0,E.hasDislike)({audio:_,dislikesIdentitiesMap:e,isDislikeActionInitialized:p in t});let R=_;if(l){const e=await T(_,c);e&&(R={..._,trackCode:e})}if(g){if(O.restoreFx&&O.isOwned&&O?.isOwned(_))try{await Promise.all([y.removeFx({identity:_}),O.restoreFx({identity:_})]),c&&(c.classList.remove("audio_row__deleted"),f.AudioUtils.onRowOver(c,!1,!0)),m&&(m.classList.remove("audio_row__deleted"),f.AudioUtils.onRowOver(m,!1,!0))}catch(e){throw c&&(c.classList.add("audio_row__deleted"),f.AudioUtils.onRowOver(c,!1,!0)),m&&(m.classList.add("audio_row__deleted"),f.AudioUtils.onRowOver(c,!1,!0)),new Error('Failed to delete audio from "My Music"',{cause:e})}else await Promise.all([y.removeFx({identity:_}),O.addFx({audio:R,needReloadTrackCode:!1,...u})]);I.updateAudioDislikeStatusFx({audioFullId:p,hasDislike:!1}),r.emit(A.AudioDislikesInMyMusicWebServiceEventType.AudioDislikeRemovedByAddToMyMusicButton,{audio:R,playlistIdentity:d,playerProgress:n&&p===(0,s.getAudioFullId)(n)?a:0})}else await O.addFx({audio:R,audioEl:c,...u})}});return(0,c.sample)({clock:[B.done,x.done],filter:({params:{audio:e}})=>Boolean(e),fn:({params:{audio:e}})=>(0,s.getAudioFullId)(e),target:C.add}),(0,c.sample)({clock:[B,x],filter:({audio:e})=>Boolean(e),fn:({audio:e})=>(0,s.getAudioFullId)(e),target:M.add}),(0,c.sample)({clock:[B.finally,x.finally],filter:({params:{audio:e}})=>Boolean(e),fn:({params:{audio:e}})=>(0,s.getAudioFullId)(e),target:M.remove}),(0,l.reset)({clock:U.done,target:k}),{$dislikesIdentitiesMap:y.$identitiesMap,$dislikesInitializedIdentitiesMap:b,$dislikesLoadingIdentitiesMap:D,addDislikeFx:B,removeDislikeFx:x,$myMusicIdentitiesMap:O.$identitiesMap,$myMusicInitializedIdentitiesMap:O.$initializedIdentitiesMap,$myMusicLoadingIdentitiesMap:O.$loadingIdentitiesMap,addToMyMusicFx:F,deleteFromMyMusicFx:O.deleteFx,cancelDeletionLastDislikedAudioInMyMusicFx:U,events:r.listenable}}async function S({playerService:e,audio:t,audioEl:r}){const n=e.getCurrentAudio();if(n&&(0,s.getAudioFullId)(n)===(0,s.getAudioFullId)(t)){const t=await e.getCurrentPlaylistFx();if(t){const e=t?.getPlaylistId(),r=t?.getOwnerId?.();if(e&&r)return{id:+e,ownerId:+r}}}if(r){let e=f.AudioUtils.getContextPlaylist(r);if(e?.playlist){const t=e.playlist?.getPlaylistId(),r=e.playlist?.getOwnerId?.();if(t&&r)return{id:+t,ownerId:+r}}}return null}async function T(e,t){const r=(0,I.getContextPlaylist)(t);if(!r)return null;return await(0,y.getAudioTrackCodeFromPlaylist)(r?.playlist,e)??null}},367181:(e,t,r)=>{"use strict";r.d(t,{AudioDislikesInMyMusicWebServiceEventType:()=>n});var n=function(e){return e.AudioDisliked="audioDisliked",e.AudioDislikedInMyMusic="audioDislikedInMyMusic",e.LastDislikedAudioInMyMusicRestored="lastDislikedAudioInMyMusicRestored",e.LastDislikedAudioInMyMusicRestoreRequestedByCancelDislikeButton="lastDislikedAudioInMyMusicRestoreRequestedByCancelDislikeButton",e.AudioDislikeRemoved="audioDislikeRemoved",e.AudioDislikeRemovedByAddToMyMusicButton="audioDislikeRemovedByAddToMyMusicButton",e}({})},761178:(e,t,r)=>{"use strict";r.d(t,{ensureAudioDislikesInMyMusicWebService:()=>c,hasDislike:()=>_.hasDislike});var n=r(558137),a=r(32489),s=r(513467),_=r(679688);r(367181);const c=(0,n.makeSharedState)("global/web/audio/dislikesInMyMusic",(()=>(0,s.createAudioDislikesInMyMusicWebService)({domain:(0,a.createDomain)("global/web/audio/dislikesInMyMusic"),name:"global/web/audio/dislikesInMyMusic"})),{version:3})},550929:(e,t,r)=>{"use strict";r.d(t,{hasDislike:()=>s});var n=r(478455),a=r(482310);function s({audio:e,dislikesIdentitiesMap:t,isDislikeActionInitialized:r}){return!!e&&(!!t[(0,n.getAudioFullId)(e)]||!r&&((0,a.getAudioExtra)(e)?.dislike??!1))}},679688:(e,t,r)=>{"use strict";r.d(t,{hasDislike:()=>n.hasDislike});var n=r(550929)},964076:(e,t,r)=>{"use strict";r.d(t,{createAudioLongtapFetchService:()=>s});var n=r(32489),a=r(345997);function s(e){const t=(0,n.createDomain)("AudioLongtapModal"),r=(0,a.ensureMyMusicService)(),s=t.createStore(!1),_=t.createStore(!1),c=(0,n.attach)({effect:e.fetchAudioPreviewFx}),l=(0,n.attach)({effect:r.addFx}),u=t.createEvent();return _.reset(u),(0,n.sample)({clock:c.failData,fn:()=>!0,target:s}),(0,n.sample)({clock:c,fn:()=>!1,target:s}),(0,n.sample)({clock:l.doneData,fn:()=>!0,target:_}),(0,n.sample)({clock:l,fn:()=>!1,target:_}),{$failFetch:s,$successAddAudio:_,resetAddSuccessResult:u,fetchAudioPreviewFx:c,addAudioFx:l}}},840079:(e,t,r)=>{"use strict";r.d(t,{AudioLongtapModalService:()=>y});var n=r(392358),a=r(317216),s=r(983567),_=r(654671),c=r(927848),l=r(909436),u=r(358926),d=r(58808),p=r(957580),E=r(139612),m=r(345997),g=r(478455),A=r(964076),f=r(540462);let I=null;class y{static ensure(){return I||(I=new y,I)}async fetchPreview(e){await this.fetcher.fetchAudioPreviewFx({identity:(0,E.mapAPIRawIdToAudioIdentity)(e.fullId)}),this.previewPlayer.timelinePosition=0,this.previewPlayer.setCurrentAudio(e)}async play(e){const t={...this.getStatData(),audio:this.previewPlayer.currentAudio};this.statCollector.openModal(t),this.commonAudioWasPlaying=this.commonAudioPlayer.isPlaying(),await this.previewPlayer.play(e,this.commonAudioPlayer.getVolume()),this.commonAudioWasPlaying&&this.commonAudioPlayer.pauseByChangeChannel();const r=c.AudioLongtapTooltip.ensure();this.statCollector.start(this.getStatData()),r.canShow()&&r.disable()}setAudioElement(e){this.audioElement=e}stop(){const e=this.commonAudioPlayer.getCurrentAudio();if(this.previewPlayer.stop(),this.commonAudioWasPlaying&&e){const t=this.commonAudioPlayer.getCurrentPlaylist();this.commonAudioPlayer.resumeChannel({audio:e,playlist:t,context:void 0}),this.commonAudioWasPlaying=!1}}subscribeStop(e){this.previewPlayer.subscribe.call(this.previewPlayer,n.events.STOP_PREVIEW,e),this.previewPlayer.subscribe.call(this.previewPlayer,n.events.END_PREVIEW,e)}unsubscribeStop(e){this.previewPlayer.unsubscribe.call(this.previewPlayer,n.events.STOP_PREVIEW,e),this.previewPlayer.unsubscribe.call(this.previewPlayer,n.events.END_PREVIEW,e)}subscribeProgress(e){this.previewPlayer.subscribe.call(this.previewPlayer,n.events.PROGRESS_PREVIEW,e)}unsubscribeProgress(e){this.previewPlayer.unsubscribe.call(this.previewPlayer,n.events.PROGRESS_PREVIEW,e)}onCloseModal(e){if(this.audioElement)switch(e){case"click_exit":this.statCollector.closeBy(a.EventItemSubType.AUDIO_LONGTAP_CLICK_EXIT,this.getStatData());break;case"click_outside":this.statCollector.closeBy(a.EventItemSubType.AUDIO_LONGTAP_CLICK_OUTSIDE,this.getStatData());break;case"auto_finish":this.statCollector.closeBy(a.EventItemSubType.AUDIO_LONGTAP_AUTO_FINISH,this.getStatData())}this.audioElement=null,this.stop(),this.commonAudioWasPlaying=!1,this.previewPlayer.unsubscribe(n.events.STOP_PREVIEW,this.stop),this.previewPlayer.unsubscribe(n.events.END_PREVIEW,this.stop)}get currentAudio(){return this.previewPlayer.currentAudio}get timelinePosition(){return this.previewPlayer.timelinePosition}get playbackDuration(){return this.previewPlayer.playbackDuration}async addAudio(e){const t=(0,f.partConfigEnabled)("add_audio_to_effector_web");await this.fetcher.addAudioFx({trackedIdentity:{id:e.id,ownerId:e.owner_id,accessKey:e.accessKey,trackCode:e.trackCode},userId:window.vk.id});const r=(0,m.ensureMyMusicService)().$identitiesMap.getState()[(0,g.getAudioFullId)({id:e.id,ownerId:e.ownerId})];(0,s.getAudioPlayer)().notify(n.events.ADDED,e,r.id);const a={...this.getStatData(),audioAddedId:r.id||void 0};if(this.audioElement&&this.audioElement.classList.add("audio_row__added"),!t){l.AudioUtils.getAddRestoreInfo()[e.fullId]={state:"added",addedFullId:(0,g.getAudioFullId)({id:r.id,ownerId:r.ownerId}),audio:e}}this.statCollector.addTrack(a)}getStatData(){const e=this.commonAudioPlayer.getCurrentPlaylist(),t=e?.getPlaylistId()??void 0;return{audio:this.currentAudio,timelinePosition:this.timelinePosition,playlistId:t,playbackDuration:this.playbackDuration,volume:(0,p.unLogF)(this.commonAudioPlayer.getVolume()),snippetLength:this.previewPlayer.previewLength}}goToTrack(e){e&&(this.statCollector.goToTrack(this.getStatData()),window.nav.go(`audio${e}`))}goToArtist(e){e&&(this.statCollector.goToArtist(this.getStatData()),window.nav.go(`artist/${e}`))}constructor(){this.previewPlayer=_.PreviewAudioPlayerEffector.ensure(),this.commonAudioPlayer=(0,s.getAudioPlayer)(),this.statCollector=u.AudioLongtapStatCollectorEffector.ensure(),this.previewPlayer.subscribe(n.events.STOP_PREVIEW,this.stop),this.previewPlayer.subscribe(n.events.END_PREVIEW,this.stop),this.fetcher=(0,A.createAudioLongtapFetchService)(d.audioPreviewsService)}}},358926:(e,t,r)=>{"use strict";r.d(t,{AudioLongtapStatCollectorEffector:()=>c});var n=r(317216),a=r(314309);const s=e=>{if(!e.audio)return{event_category:e.eventCategory};const{trackCode:t,id:r,ownerId:n,albumId:a}=e.audio;return{track_code:t,audio_id:r,audio_owner_id:n,playlist_id:a,playlist_owner_id:void 0,audio_id_new:e.audioAddedId||void 0,timeline_position:e.timelinePosition,playback_duration:e.playbackDuration,volume:Math.round(100*e.volume),audio_length:e.snippetLength,event_category:e.eventCategory}};let _=null;class c{static ensure(){return _||(_=new c,_)}start(e){const t=s({...e,eventCategory:n.LongtapEventCategory.play});this.actionStatCollector.logEvent({type:n.ActionProductionStatEventTypes.TYPE_CATALOG_AUDIO_LONGTAP_ITEM,[n.ActionProductionStatEventTypes.TYPE_CATALOG_AUDIO_LONGTAP_ITEM]:{event_type:n.EventItemType.START,event_subtype:n.EventItemSubType.AUDIO_LONGTAP,...t}})}openModal(e){this.audio=e.audio;const t=s(e);this.sendView(n.EventItemType.OPEN,n.EventItemSubType.AUDIO_LONGTAP_OPEN,n.LongtapEventCategory.view,t)}addTrack(e){const t=s({...e,eventCategory:n.LongtapEventCategory.action});this.actionStatCollector.logEvent({type:n.ActionProductionStatEventTypes.TYPE_CATALOG_AUDIO_LONGTAP_ITEM,[n.ActionProductionStatEventTypes.TYPE_CATALOG_AUDIO_LONGTAP_ITEM]:{event_type:n.EventItemType.ADDED,event_subtype:n.EventItemSubType.AUDIO_ADD_AFTER_LONGTAP,...t}})}tipHasShown(){this.sendView(n.EventItemType.HINT,n.EventItemSubType.AUDIO_LONGTAP_HINT,n.LongtapEventCategory.view)}closeBy(e,t){if(!this.audio)return;const r=s({...t,audio:this.audio,eventCategory:n.LongtapEventCategory.play});this.actionStatCollector.logEvent({type:n.ActionProductionStatEventTypes.TYPE_CATALOG_AUDIO_LONGTAP_ITEM,[n.ActionProductionStatEventTypes.TYPE_CATALOG_AUDIO_LONGTAP_ITEM]:{event_type:n.EventItemType.STOP,event_subtype:e,...r}}),this.audio=null}goToTrack(e){this.audio=e.audio;const t=s(e);this.sendView(n.EventItemType.LONGTAP_DRILLDOWN,n.EventItemSubType.AUDIO_LONGTAP_GO_TO_TRACK,n.LongtapEventCategory.nav,t)}goToArtist(e){this.audio=e.audio;const t=s(e);this.sendView(n.EventItemType.LONGTAP_DRILLDOWN,n.EventItemSubType.AUDIO_LONGTAP_GO_TO_ARTIST,n.LongtapEventCategory.nav,t)}sendView(e,t,r,a){const s={type:n.ViewProductionStatEventTypes.TYPE_CATALOG_AUDIO_LONGTAP_ITEM,[n.ViewProductionStatEventTypes.TYPE_CATALOG_AUDIO_LONGTAP_ITEM]:{...a,event_type:e,event_subtype:t,event_category:r}},_={type:e,track_code:a?.track_code};this.viewCollector.logEvent(s,_)}constructor(){this.audio=null,this.productCollector=new a.ProductionStatCollector,this.viewCollector=new a.ViewStatCollector(this.productCollector),this.actionStatCollector=new a.ActionStatCollector(this.productCollector)}}},927848:(e,t,r)=>{"use strict";r.d(t,{AudioLongtapTooltip:()=>O});var n=r(434518),a=r(763812),s=r(250598),_=r(553608),c=r(493229),l=r(358926),u=r(984745),d=r(632731),p=r(558137),E=r(459899);var m=(0,a._)("_audioPage"),g=(0,a._)("_hint"),A=(0,a._)("_tooltip"),f=(0,a._)("_isOpen"),I=(0,a._)("_disabled"),y=(0,a._)("_isUserAuthorized"),R=(0,a._)("_getTooltip");class O{getHints(){(0,n._)(this,y)[y]&&(0,n._)(this,m)[m].isInitialized&&(0,u.ensureAccountHelpHintsService)().getHelpHintsFx()}getHint(){const e=(0,u.ensureAccountHelpHintsService)().$helpHints.getState()[d.AvailableHelpHints.ACCOUNT_HINT_AUDIO_LONG_TAP_PREVIEW_WEB];return(0,n._)(this,g)[g]=e||null,(0,n._)(this,g)[g]}canShow(){if((0,n._)(this,I)[I])return!1;let e=!1;if(this.getHint()){const t=_.vkLocalStorage.getItem(c.AUDIO_STORAGE_KEYS_ENUM.AUDIO_PREVIEW_TOOLTIP_SHOW_DATE_TIME),r=t?JSON.parse(t):null,n=r?r.firstShow:null;if(n){const t=new Date(+n).getTime(),a=(new Date).getTime(),s=Math.abs(a-t),l=Math.ceil(s/864e5);if(l<=3&&r?.disabledDay!==l){e=!0;const t={firstShow:n,disabledDay:l};_.vkLocalStorage.setItem(c.AUDIO_STORAGE_KEYS_ENUM.AUDIO_PREVIEW_TOOLTIP_SHOW_DATE_TIME,JSON.stringify(t))}r?.disabledDay===l&&(e=!1)}else{e=!0;const t={firstShow:(new Date).getTime(),disabledDay:1};_.vkLocalStorage.setItem(c.AUDIO_STORAGE_KEYS_ENUM.AUDIO_PREVIEW_TOOLTIP_SHOW_DATE_TIME,JSON.stringify(t))}}return e}async show(e){e&&((0,n._)(this,A)[A]=(0,n._)(this,R)[R](e),(0,n._)(this,A)[A]&&((0,n._)(this,A)[A].show(),(0,n._)(this,f)[f]=!0,l.AudioLongtapStatCollectorEffector.ensure().tipHasShown()))}disable(){this.getHint()&&(0,u.ensureAccountHelpHintsService)().hideHelpHint({hintId:d.AvailableHelpHints.ACCOUNT_HINT_AUDIO_LONG_TAP_PREVIEW_WEB}),(0,n._)(this,I)[I]=!0}get isOpen(){return(0,n._)(this,f)[f]}constructor({audioPage:e}){Object.defineProperty(this,y,{get:S,set:void 0}),Object.defineProperty(this,R,{value:T}),Object.defineProperty(this,m,{writable:!0,value:void 0}),Object.defineProperty(this,g,{writable:!0,value:void 0}),Object.defineProperty(this,A,{writable:!0,value:void 0}),Object.defineProperty(this,f,{writable:!0,value:void 0}),Object.defineProperty(this,I,{writable:!0,value:void 0}),(0,n._)(this,f)[f]=!1,(0,n._)(this,I)[I]=!1,(0,n._)(this,m)[m]=e}}function S(){return Boolean(window?.vk?.id)}function T(e){const t={autoShow:!1,cls:"feature_intro_tt feature_intro_blue_tt feature_info_tooltip audio_snippet_tooltip",content:(0,n._)(this,g)[g]?.title,align:"right",centerShift:8,appendTo:document.body,autoAdjustToViewport:!0,noAutoHideOnWindowClick:!0,autoHide:!0,onHide:()=>{(0,n._)(this,f)[f]=!1,(0,n._)(this,A)[A]?.destroy()},width:286},r=new s.ElementTooltip(e,t);return window.cur?.destroy?.push((()=>{r?.destroy()})),r}O.ensure=(0,p.makeSharedState)("AudioLongtapTooltip",(()=>new O({audioPage:E.AudioPageProxy.ensure()})),{version:1})},267009:(e,t,r)=>{"use strict";r.d(t,{ensureAudioPageMyAudioPlaylistsService:()=>l});var n=r(32489),a=r(746573),s=r(46201),_=r(786979),c=r(30899);const l=(0,r(558137).makeSharedState)("global/audio/audioPage/myPlaylists",(()=>function({config:e,myAudioPlaylistsService:t}){const r=(0,a.getEffectorServiceDomain)(e),n=r.createStore({}),c=r.createEffect((async e=>await t.createFx({...e}))),l=r.createEffect((async e=>{await t.deleteFx({...e})}));return n.on(c.done,((e,{params:t,result:r})=>(0,s.addPairToMap)(e,{key:t.blockId,value:r}))),n.on(l.done,((e,{params:t})=>(0,_.removePairFromMap)(e,t.blockId))),{createFx:c,deleteFx:l,setUserId:t.setUserId,$myAudioPlaylistsIdentitiesMap:n}}({config:{domain:(0,n.createDomain)("global/audio/audioPage/myPlaylists"),name:"global/audio/audioPage/myPlaylists"},myAudioPlaylistsService:(0,c.ensureMyAudioPlaylistsService)()})),{version:1})},785410:(e,t,r)=>{"use strict";r.d(t,{ensureAudioPageMyAudioPlaylistsService:()=>n.ensureAudioPageMyAudioPlaylistsService});var n=r(267009)},427187:(e,t,r)=>{"use strict";r.d(t,{createAudioPageService:()=>M});var n=r(746573),a=r(586049),s=r(478455),_=r(97295),c=r(35215),l=r(468073),u=r(205337),d=r(815733),p=r(761178),E=r(32489),m=r(270935),g=r(459899),A=r(898848),f=r(909436),I=r(138586),y=r(270959),R=r(866467),O=r(593159),S=r(683234),T=r(983567),P=r(761520),b=r(261472),C=r(322100),D=r(873900);function M(e){const t=(0,n.getEffectorServiceDomain)(e),r=g.AudioPageProxy.ensure(),l=(0,C.ensureMyMusicService)(),u=(0,p.ensureAudioDislikesInMyMusicWebService)(),M=(0,d.ensureGroupsAudioMusicWebService)(),B=t.createEvent(),x=(0,E.restore)(B,null),{$fullIdsMap:F,fullIdsMapApi:V}=(0,a.createFullIdsMap)(t),{$fullIdsMap:K,fullIdsMapApi:W}=(0,a.createFullIdsMap)(t),{$deleteAudiosFromMyMusicForLastWeekDataIdentitiesMap:H,deleteAudiosFromMyMusicForLastWeekDataIdentitiesMapApi:G}=(0,b.createDeleteAudiosFromMyMusicForLastWeekDataIdentities)(t),j=t.createEffect((({audioEl:e,inProgress:t})=>{e&&(e.dataset["in-progress"]=(0,A.intval)(t).toString())})),Y=t.createEffect((({elements:e,inProgress:t,state:r})=>{e.forEach((e=>{if(!e)return;j({audioEl:e,inProgress:t});const n=Boolean(e.closest(".CatalogBlock__group_audios")),a=Boolean(e.closest(".CatalogBlock__my_audios_block")||e.closest(".CatalogBlock__my_audios")||n);switch(r){case"added":return void(a?n?(e.classList.add("audio_row__added"),f.AudioUtils.onRowOver(e,!1,!1)):(e.classList.remove("audio_row__deleted"),f.AudioUtils.onRowOver(e,!1,!0)):(e.classList.add("audio_row__added"),f.AudioUtils.onRowOver(e,!1,!1)));case"deleted":return void(a&&!n?(e.classList.add("audio_row__deleted"),f.AudioUtils.onRowOver(e,!1,!0)):(e.classList.remove("audio_row__added"),f.AudioUtils.onRowOver(e,!1,!1)));default:return}}))})),z=(0,E.attach)({source:(0,E.combine)({myMusicIdentitiesMap:u.$myMusicIdentitiesMap,myMusicInitializedIdentitiesMap:u.$myMusicInitializedIdentitiesMap,deletedFromMyMusicAudiosIdentitiesMap:F,deleteAudiosFromMyMusicForLastWeekDataIdentitiesMap:H}),async effect({myMusicIdentitiesMap:e,myMusicInitializedIdentitiesMap:t,deletedFromMyMusicAudiosIdentitiesMap:n,deleteAudiosFromMyMusicForLastWeekDataIdentitiesMap:a},{audio:_,audioEl:c,playlist:l,audioRef:d}){if(!_)throw new Error("Audio not exists");const p=(0,s.getAudioFullId)(_),E=(0,m.isMy)({identity:_,myMusicIdentitiesMap:e,isMyMusicActionInitialized:p in t,userId:window.vk.id});try{E?await u.deleteFromMyMusicFx({audioEl:c,audio:_,audioRef:d,needReloadTrackCode:!0}):(l&&r.onUserAction(_,l),await u.addToMyMusicFx({audioEl:c,audio:_,audioRef:d,isNotificationDisabled:!0,needReloadTrackCode:!0}),E?V.add(p):(p in n&&V.remove(p),p in a&&G.remove(p)),!E&&p in n?V.remove(p):E&&V.add(p))}catch(e){throw new Error(`${E?'Failed to delete audio from "My Music"':'Failed to add audio to "My music"'}`,{cause:e})}}}),q=(0,E.attach)({source:M.$identitiesMap,async effect(e,{audioEl:t,audio:n,groupId:a,playlist:s}){if(!n)throw new Error("Audio not exists");const c=(0,d.isAddedToGroup)({identity:n,groupsMusicIdentitiesMap:e,groupId:a});try{c?await M.deleteFx({audioEl:t,groupId:a,audio:n}):(s&&r.onUserAction(n,s),await M.addFx({audioEl:t,groupId:a,audio:n}),W.remove((0,_.getGroupAudioFullId)(n,a)))}catch(e){throw new Error(`${c?"Failed to delete audio from group with id":"Failed to add audio to group with id"} ${a}`,{cause:e})}}}),$=(0,E.attach)({source:x,async effect(e,{audioEl:t,audio:n,audioRef:a=""}){if(!N(e))return window.vk&&window.vk.widget&&window.Widgets?void window.Widgets.oauth():void console.error("The user is not authorized, it is impossible to add or delete audio");if(window.cur.viewAsBox)return void window.cur.viewAsBox();if(k(t))return;const s=n||f.AudioUtils.getAudioFromEl(t,!0);if(!s)throw new Error("Audio not exists");const _=r.currentPlaylist,l=L(r),u=(0,c.isNumber)(l),d=u&&t&&!t.classList.contains("audio_row__deleted")&&Boolean(t.closest(".CatalogBlock__group_audios"));!u||d?await z({audioEl:t,audio:s,playlist:_,audioRef:a}):await q({audioEl:t,audio:s,groupId:l,playlist:_})}}),X=(0,E.attach)({source:H,async effect(e,{audioEl:t,audio:r}){if(!r)throw new Error("Audio not exists");const n=(0,s.getAudioFullId)(r),a=e[n];if(!a)throw new Error("Audio is not ready to delete all audio from the last week in My Music");(0,y.showFastBox)({title:(0,R.getLang)("audio_delete_all_title"),onHide:()=>{j({audioEl:t,inProgress:!1})}},a.message||"",(0,R.getLang)("global_delete"),(function(e){let t=(0,O.extend)({act:"delete_all"},a.data);P.ajax.post("al_audio.php",t,{showProgress:()=>(0,S.lockButton)(e),onDone:function(){let e=(0,T.getAudioPlayer)().getPlaylist(I.AudioPlaylist.TYPE_PLAYLIST,a.data.from_id,I.AudioPlaylist.DEFAULT_PLAYLIST_ID);(0,T.getAudioPlayer)().deletePlaylist(e),V.remove(n),window.nav.reload()},onFail:()=>!0})}),(0,R.getLang)("global_cancel"))}}),Q=(0,E.attach)({source:(0,E.combine)({userId:x,myMusicInitializedIdentitiesMap:u.$myMusicInitializedIdentitiesMap,myMusicIdentitiesMap:u.$myMusicIdentitiesMap,deleteAudiosFromMyMusicForLastWeekDataIdentitiesMap:H}),async effect({userId:e,myMusicIdentitiesMap:t,myMusicInitializedIdentitiesMap:n,deleteAudiosFromMyMusicForLastWeekDataIdentitiesMap:a},{audio:l,audioEl:d}){if(!N(e))return void console.error("The user is not authorized, it is impossible to add or delete audio");if(!l)throw new Error("Audio not exists");if(k(d))return;window.tooltips&&window.tooltips.hideAll();const p=(0,s.getAudioFullId)(l);if(p in a)return void await X({audioEl:d,audio:l});const E=L(r),g=(0,c.isNumber)(E)&&l.ownerId===E;if(!(0,m.isMy)({identity:l,myMusicIdentitiesMap:t,isMyMusicActionInitialized:p in n,userId:e})&&!g)throw new Error("Audio not added");if(l.isClaimed&&d?.remove(),g)return await M.deleteFx({audioEl:d,groupId:E,audio:l,needShowDeletedAudioRowState:!0}),l.isClaimed&&f.AudioUtils.deleteDeletedAudios(),void W.add((0,_.getGroupAudioFullId)(l,E));const[A,I]=await P.ajax.promisifiedPost("al_audio.php",{act:"delete_audio",oid:l.ownerId,aid:l.id,hash:l.deleteHash,restore:1,track_code:l.trackCode});A&&G.add({audioFullId:p,value:{data:A,message:I||""}}),await u.deleteFromMyMusicFx({audio:l,audioEl:d,forceRemoveFromStoreParams:{oldIdentity:l,newIdentity:l}}),V.add(p),l.isClaimed&&f.AudioUtils.deleteDeletedAudios()}});return l.restoreFx&&l.$sourcesMap?((0,E.sample)({clock:l.addFx,fn:({trackedIdentity:e})=>({elements:U(e),inProgress:!0,state:"added"}),target:Y}),(0,E.sample)({clock:l.addFx.done,fn:({params:{trackedIdentity:e}})=>({elements:U(e),inProgress:!1}),target:Y}),(0,E.sample)({clock:l.addFx.fail,source:l.$sourcesMap,fn:(e,{params:{trackedIdentity:t}})=>{const r=(0,D.getIdentityRawId)(t);return{elements:U(t).length?U(t):U(e[r]),inProgress:!0,state:"deleted"}},target:Y}),(0,E.sample)({clock:l.deleteFx,source:l.$sourcesMap,fn:(e,{identity:t})=>{const r=(0,D.getIdentityRawId)(t);return{elements:U(t).length?U(t):U(e[r]),inProgress:!0,state:"deleted"}},target:Y}),(0,E.sample)({clock:l.deleteFx.done,source:l.$sourcesMap,fn:(e,{params:{identity:t}})=>{const r=(0,D.getIdentityRawId)(t);return{elements:U(t).length?U(t):U(e[r]),inProgress:!1,state:"deleted"}},target:Y}),(0,E.sample)({clock:l.deleteFx.fail,fn:({params:{identity:e}})=>({elements:U(e),inProgress:!1,state:"added"}),target:Y}),(0,E.sample)({clock:l.restoreFx.done,fn:({params:{identity:e}})=>({elements:U(e),inProgress:!1,state:"added"}),target:Y}),(0,E.sample)({clock:l.restoreFx.fail,fn:({params:{identity:e}})=>({elements:U(e),inProgress:!1,state:"deleted"}),target:Y}),(0,E.sample)({clock:Q,fn:({audioEl:e})=>({elements:[e],inProgress:!0,state:"deleted"}),target:Y}),(0,E.sample)({clock:Q.done,fn:({params:{audioEl:e}})=>({elements:[e],inProgress:!1}),target:Y}),(0,E.sample)({clock:Q.fail,fn:({params:{audioEl:e}})=>({elements:[e],inProgress:!1,state:"added"}),target:Y})):((0,E.sample)({clock:[$,Q],fn:({audioEl:e})=>({audioEl:e,inProgress:!0}),target:j}),(0,E.sample)({clock:$.finally,fn:({params:{audioEl:e}})=>({audioEl:e,inProgress:!1}),target:j})),{$myMusicIdentitiesMap:u.$myMusicIdentitiesMap,$deletedFromMyMusicAudiosIdentitiesMap:F,$deletedFromGroupAudiosIdentitiesMap:K,$deleteAudiosFromMyMusicForLastWeekDataIdentitiesMap:H,toggleAddAudioFx:$,deleteAudioLegacyFx:Q,setUserId:B}}function L(e){if(!(0,c.isNumber)(e.ownerId))return null;return Boolean(e.ownerId&&(0,c.isNumber)(e.ownerId)&&l.Ranges.isGroupId(e.ownerId)&&e.canAddToGroup)?(0,u.convertToGroupMusicId)(e.ownerId):null}function N(e){return(0,c.isNumber)(e)&&l.Ranges.isUserId(e)}function k(e){return Boolean(e?.dataset?.["in-progress"])}function U(e){return Array.from(document.querySelectorAll(`._audio_row_${(0,s.getAudioFullId)(e)}`))}},145855:(e,t,r)=>{"use strict";r.d(t,{ensureAudioPageService:()=>_});var n=r(558137),a=r(32489),s=r(427187);const _=(0,n.makeSharedState)("global/audio/audioPage/service",(()=>(0,s.createAudioPageService)({domain:(0,a.createDomain)("global/audio/audioPage/service"),name:"global/audio/audioPage/service"})),{version:2})},261472:(e,t,r)=>{"use strict";r.d(t,{createDeleteAudiosFromMyMusicForLastWeekDataIdentities:()=>_});var n=r(32489),a=r(46201),s=r(786979);function _(e){const t=e.createStore({});return{$deleteAudiosFromMyMusicForLastWeekDataIdentitiesMap:t,deleteAudiosFromMyMusicForLastWeekDataIdentitiesMapApi:(0,n.createApi)(t,{add:(e,t)=>(0,a.addPairToMap)(e,{key:t.audioFullId,value:t.value}),remove:(e,t)=>(0,s.removePairFromMap)(e,t)})}}},655146:(e,t,r)=>{"use strict";r.d(t,{ensureAudioPageMyAudioPlaylistsService:()=>n.ensureAudioPageMyAudioPlaylistsService,ensureAudioPageService:()=>a.ensureAudioPageService});var n=r(785410),a=r(145855)},43769:(e,t,r)=>{"use strict";r.d(t,{createAudioPlayerService:()=>E});var n=r(32489),a=r(983567),s=r(392358),_=r(596901),c=r(423015),l=r(746573),u=r(264874),d=r(749438),p=r(8520);function E(e){const t=(0,l.getEffectorServiceDomain)(e),r=t.createEvent(),E=()=>{const e=(0,a.getAudioPlayer)();if(!e)throw new Error("Audio player does not initialize");return e.getPlaylistQueue()??null},m=t.createEvent(),g=t.createEvent(),A=t.createEvent(),f=t.createEvent(),I=t.createEvent(),y=t.createEvent(),R=t.createEvent(),O=t.createEvent(),S=t.createEvent(),T=t.createEvent(),P=t.createEvent(),b=t.createEvent(),C=t.createEvent(),D=t.createEvent(),M=t.createEvent(),L=t.createEvent(),N=t.createEvent(),k=t.createEvent(),U=t.createEvent(),B=t.createEvent(),x=(0,n.restore)(m,null),F=t.createStore(null,{updateFilter:(e,t)=>!(0,p.isEqual)(e,t)}),V=F.map((e=>e&&(0,c.audioTupleToAudioObject)(e)||null)),K=(0,n.restore)(g,!1),W=(0,n.restore)(T,!1),H=(0,n.restore)(P,null),G=(0,n.restore)(A,null),j=(0,n.restore)(I,0),Y=(0,n.restore)(y,0),z=(0,n.restore)(R,0),q=(0,n.restore)(O,0),$=(0,n.restore)(S,1),X=(0,n.restore)(b,!1),Q=(0,n.restore)(C,!1),J=(0,n.restore)(D,!1),Z=(0,n.restore)(M,!1),ee=(0,n.restore)(L,!1),te=(0,n.restore)(N,!1),oe=t.createEffect((()=>{const e=(0,a.getAudioPlayer)();if(!e)throw new Error("Audio player does not initialize");g(e.isPlaying()),T(e.ads.isActive||!1),P(e.ads.getCurrentAd()||null),A(e.getCurrentPlaylist()||null),f(e.getCurrentAudio()||null),I(e.getCurrentProgress()??0),y(0),R(e.getCurrentBuffered()??0),O(e.getVolume()||0),S(_.AudioPlayer.podcastGetPlaybackRate()||1),b(Boolean(_.AudioPlayer.getDurationType())),C(Boolean(E()?.shuffled)),D(Boolean(e.isRepeatCurrentAudio())),M(Boolean(e.isRepeatAll())),L(e.isStateInitialized),e.subscribe(s.AudioPlayerEventType.PLAYER_IS_PLAYING_CHANGED,(e=>{g(e)})),e.subscribe(s.AudioPlayerEventType.PLAYLIST_CHANGED,(()=>{A(e.getCurrentPlaylist()||null)})),e.on(this,s.AudioPlayerEventType.PLAYLIST_CLEAR_REQUESTED,(()=>{U()})),e.on(this,s.AudioPlayerEventType.PLAYLIST_CLEARED,(()=>{A(e.getCurrentPlaylist()||null),b(Boolean(_.AudioPlayer.getDurationType())),S(_.AudioPlayer.podcastGetPlaybackRate()||1),D(Boolean(e.isRepeatCurrentAudio())),M(Boolean(e.isRepeatAll()))})),e.subscribe(s.AudioPlayerEventType.PLAYBACK_QUEUE_SHUFFLED_UPDATED,(e=>{C(e)})),e.subscribe(this,s.AudioPlayerEventType.PLAYER_IS_AD_CHANGED,(t=>{T(t||!1),P(e.ads.getCurrentAd()||null)})),e.on(this,[s.AudioPlayerEventType.AD_STARTED,s.AudioPlayerEventType.AD_READY,s.AudioPlayerEventType.AD_DEINITED,s.AudioPlayerEventType.AD_COMPLETED],(()=>{T(e.ads.isActive||!1),P(e.ads.getCurrentAd()||null)})),e.on(this,[s.AudioPlayerEventType.PLAY,s.AudioPlayerEventType.PLAY_REQUESTED],(()=>{k()})),e.on(this,[s.AudioPlayerEventType.PLAY,s.AudioPlayerEventType.PLAY_REQUESTED,s.AudioPlayerEventType.CURRENT_RADIOSTATION_FOLLOW_STATUS_UPDATE,s.AudioPlayerEventType.CURRENT_AUDIO_DISLIKE_STATUS_UPDATE,s.AudioPlayerEventType.PLAYLIST_CLEARED,s.AudioPlayerEventType.CURRENT_CHANGED,s.AudioPlayerEventType.UPDATE],(e=>{f(e||null)})),e.subscribe(s.AudioPlayerEventType.CURRENT_RADIOSTATION_FOLLOW_STATUS_UPDATE,(e=>{B(e)})),e.subscribe(s.AudioPlayerEventType.CURRENT_CHANGED,(()=>{I(0)})),e.subscribe(s.AudioPlayerEventType.PROGRESS,((t,r)=>{N(!1),I(e.ads?.isActive?e.ads.getCurrentProgress():t),y(r)})),e.subscribe(s.AudioPlayerEventType.BUFFERED,(t=>{R(e.ads?.isActive?0:t)})),e.subscribe(s.AudioPlayerEventType.VOLUME,(e=>{O(e)})),e.on(this,s.AudioPlayerEventType.UPDATE,(()=>{b(Boolean(_.AudioPlayer.getDurationType()))})),e.on(this,s.AudioPlayerEventType.START_LOADING,(()=>{N(!0)})),e.on(this,s.AudioPlayerEventType.CAN_PLAY,(()=>{N(!1)})),e.on(this,s.AudioPlayerEventType.ENDED,(()=>{N(!1)})),e.on(this,s.AudioPlayerEventType.FAILED,(()=>{N(!1)})),e.subscribe(s.AudioPlayerEventType.STATE_INITIALIZED,(()=>{L(e.isStateInitialized)})),m(e)})),ie=(0,d.attachPlayer)(x,(async(e,t)=>{if(!t)return void e.playAudioItem();const{audio:r,playlist:n,context:a,byPlayerButton:s=!1}=t;e[s?"playByButton":"playAudioItem"].bind(e)({audio:r,playlist:n,context:a})})),re=(0,d.attachPlayer)(x,((e,t)=>{if(!t)return void e.pauseByButton();const{byChangeChannel:r=!1}=t;e[r?"pauseByChangeChannel":"pauseByButton"].bind(e)()})),ne=(0,d.attachPlayer)(x,(e=>{e.resume()})),ae=(0,d.attachPlayer)(x,(e=>{e.playNext()})),se=(0,d.attachPlayer)(x,(e=>{e.playPrev()})),_e=(0,d.attachPlayer)(x,(e=>{e.playNextByButton()})),ce=(0,d.attachPlayer)(x,(e=>{e.playPrevByButton()})),le=(0,d.attachPlayer)(x,((e,{audioEl:t,audio:r})=>{e.setNext(t,r)})),ue=(0,d.attachPlayer)(x,((e,t)=>{e.seek(t)})),de=(0,d.attachPlayer)(x,((e,t)=>{e.seekBySlider(t)})),pe=(0,d.attachPlayer)(x,((e,t)=>{e.setVolume(t)})),Ee=(0,d.attachPlayer)(x,(e=>{e.toggleDurationType()})),he=(0,d.attachPlayer)(x,(e=>{e.toggleRepeatCurrentAudio(),D(Boolean(e.isRepeatCurrentAudio())),M(Boolean(e.isRepeatAll()))})),me=(0,d.attachPlayer)(x,(e=>{e.toggleRepeatAll(),D(Boolean(e.isRepeatCurrentAudio())),M(Boolean(e.isRepeatAll()))})),ge=(0,n.attach)({source:(0,n.combine)({ap:x,prevSpeed:$}),effect({ap:e,prevSpeed:t},r){if(!e)throw new Error("Audio player does not initialize");t!==r&&(e.podcastChangePlaybackRate(1!==r&&r<t),S(_.AudioPlayer.podcastGetPlaybackRate()??1))}}),Ae=(0,d.attachPlayer)(x,(e=>e.getCurrentPlaylist()??null)),ve=(0,d.attachPlayer)(x,((e,{audio:t,actionType:r,ref:n="",refEl:a=null})=>{e.podcastSetActionRef(t,r,n,a)})),fe=(0,d.attachPlayer)(x,((e,{audioFullId:t,hasDislike:r})=>{e.updateAudioDislikeStatus(t,r)})),Ie=(0,d.attachPlayer)(x,(e=>{e.toggleShuffle()})),ye=(0,d.attachPlayer)(x,((e,t)=>e?.emitter?.emit(t.eventName,t.data))),Re=(0,d.attachPlayer)(x,((e,{eventType:t,params:r})=>e.notify(t,...r)));return(0,n.sample)({clock:(0,u.once)(r),target:oe}),(0,n.sample)({clock:f,target:F}),{$isPlaying:K,$isAd:W,$currentAd:H,$currentPlaylist:G,$currentAudio:V,$currentAudioTuple:F,$progress:j,$duration:Y,$loadingProgress:z,$volume:q,$negativeDurationTypeEnabled:X,$isShuffled:Q,$isRepeatCurrentAudio:J,$isRepeatAll:Z,$playbackSpeed:$,$isStateInitialized:ee,$isPending:te,playFx:ie,pauseFx:re,resumeFx:ne,playNextFx:ae,playPrevFx:se,playNextByButtonFx:_e,playPrevByButtonFx:ce,setNextFx:le,seekFx:ue,seekBySliderFx:de,updateVolumeFx:pe,toggleNegativeDurationTypeFx:Ee,toggleRepeatCurrentAudioFx:he,toggleRepeatAllFx:me,updatePlaybackSpeedFx:ge,getCurrentPlaylistFx:Ae,podcastSetActionRefFx:ve,updateAudioDislikeStatusFx:fe,toggleShuffleFx:Ie,emitFx:ye,notifyFx:Re,notifyAudioStartedPlaying:k,notifyPlaylistClearRequested:U,notifyCurrentRadioStationFollowStatusUpdate:B,init:r,getCurrentAudio:()=>{const e=(0,a.getAudioPlayer)();if(!e)throw new Error("Audio player does not initialize");const t=e.getCurrentAudio();return t?(0,c.audioTupleToAudioObject)(t):null},getPlaylistQueue:E,getPlaylist:({type:e,ownerId:t,albumId:r,accessHash:n,blockId:s})=>{const _=(0,a.getAudioPlayer)();if(!_)throw new Error("Audio player does not initialize");return _.getPlaylist(e,t,r,n,s)||null}}}},803111:(e,t,r)=>{"use strict";r.d(t,{AudioPlayerPodcastActionType:()=>_.AudioPlayerPodcastActionType,ensureAudioPlayerService:()=>c});var n=r(558137),a=r(32489),s=r(43769),_=r(807346);const c=(0,n.makeSharedState)("global/web/audio/player",(()=>(0,s.createAudioPlayerService)({domain:(0,a.createDomain)("global/web/audio/player"),name:"audio/web/audio/player"})),{version:3})},749438:(e,t,r)=>{"use strict";r.d(t,{attachPlayer:()=>a});var n=r(32489);function a(e,t){return(0,n.attach)({source:e,effect(e,r){if(!e)throw new Error("Audio player does not initialize");return t(e,r)}})}},807346:(e,t,r)=>{"use strict";r.d(t,{AudioPlayerPodcastActionType:()=>a});var n=r(390578),a=function(e){return e[e.Play=n.ACTION_PLAY]="Play",e[e.Pause=n.ACTION_PAUSE]="Pause",e[e.Seek=n.ACTION_SEEK]="Seek",e[e.TimeMaker=n.ACTION_TIME_MARKER]="TimeMaker",e[e.Heartbeat=n.ACTION_HEARTBEAT]="Heartbeat",e}({})},829071:(e,t,r)=>{"use strict";r.d(t,{createAudioPodcastsFaveAdapter:()=>_});var n=r(20085),a=r(746573),s=r(586049);function _(e,t){const r=(0,a.getEffectorServiceDomain)(e),_=r.createEffect((async e=>{await t.activate(d(e.identity))})),c=r.createEffect((async e=>{await t.deactivate(d(e.identity))})),{fullIdsMapApi:l,$fullIdsMap:u}=(0,s.createFullIdsMap)(r);function d(e){return new n.PodcastAudioIdentity(e)}return t.events.on("activated",(({identity:e})=>{const{fullId:t}=d(e);l.add(t)})),t.events.on("deactivate",(({identity:e})=>{const{fullId:t}=d(e);l.remove(t)})),{$identitiesMap:u,deleteFx:c,addFx:_}}},767072:(e,t,r)=>{"use strict";r.d(t,{ensureAudioPodcastsFavoritesService:()=>d});var n=r(32489),a=r(558137),s=r(425354),_=r(540462),c=r(319756),l=r(560756),u=r(829071);const d=(0,a.makeSharedState)("global/audio/podcasts/favoritesService",(()=>(0,_.partConfigEnabled)("podcast_episode_favorites_service_mobx_web")?(0,u.createAudioPodcastsFaveAdapter)({domain:(0,n.createDomain)("global/audio/podcasts/favoritesService"),name:"global/audio/podcasts/favoritesService"},(0,c.ensureDIRootWebContainer)().resolve(s.PodcastEpisodeFavoritesService)):(0,l.ensureAudioPodcastsFaveService)()),{version:1})},706226:(e,t,r)=>{"use strict";r.d(t,{ensureAudioPodcastsFavoritesService:()=>n.ensureAudioPodcastsFavoritesService});var n=r(767072)},58808:(e,t,r)=>{"use strict";r.d(t,{audioPreviewsService:()=>n});const n=(0,r(983327).ensureAudioPreviewsService)()},943503:(e,t,r)=>{"use strict";r.d(t,{createGroupsMusicWebService:()=>A});var n=r(746573),a=r(586049),s=r(478455),_=r(97295),c=r(32489),l=r(641633),u=r(71696),d=r(803111),p=r(392358),E=r(138586),m=r(909436),g=r(322100);function A(e){const t=(0,n.getEffectorServiceDomain)(e),r=(0,g.ensureGroupsMusicService)(),A=(0,d.ensureAudioPlayerService)(),{$fullIdsMap:f,fullIdsMapApi:I}=(0,a.createFullIdsMap)(t),y=(0,c.attach)({source:(0,c.combine)({groupsMusicIdentitiesMap:r.$identitiesMap}),async effect({groupsMusicIdentitiesMap:e},{audio:t,groupId:n,audioEl:a=null}){if(!t)throw new Error("Audio not exists");if((0,l.isAddedToGroup)({identity:t,groupsMusicIdentitiesMap:e,groupId:n}))throw new Error(`Audio already in group with id ${n}`);const _=(0,s.getAudioFullId)(t);let c=document.querySelector(`._audio_row_${_}`);c=c==a?null:c;try{n!==t.ownerId&&a&&a.classList.add("audio_row__added"),n!==t.ownerId&&c&&c.classList.add("audio_row__added"),A.notifyFx({eventType:p.AudioPlayerEventType.ADDED,params:[_]}),n===t.ownerId&&r.restoreFx?await r.restoreFx({groupId:n,trackedIdentity:t}):await r.addFx({groupId:n,trackedIdentity:t}),a&&(a.classList.remove("audio_row__deleted"),m.AudioUtils.onRowOver(a,!1,!0)),c&&(c.classList.remove("audio_row__deleted"),m.AudioUtils.onRowOver(c,!1,!0)),A.notifyFx({eventType:p.AudioPlayerEventType.MUSIC_AUDIOS_ADD,params:[t,Boolean(a)&&{audioElement:a}]})}catch(e){throw n!==t.ownerId&&a&&a.classList.remove("audio_row__added"),n!==t.ownerId&&c&&c.classList.remove("audio_row__added"),new Error(`Failed to add audio to group with id ${n}`,{cause:e})}}}),R=(0,c.attach)({source:(0,c.combine)({groupsMusicIdentitiesMap:r.$identitiesMap}),async effect({groupsMusicIdentitiesMap:e},{audio:t,groupId:n,audioEl:a=null,needShowDeletedAudioRowState:c}){if(!t)throw new Error("Audio not exists");const l=(0,_.getGroupAudioFullId)(t,n),d=(0,u.isGroupAudio)({identity:t,groupsMusicIdentitiesMap:e,groupId:n}),g=e[l];if(!d&&!g)throw new Error(`Audio not found in group with id ${n}`);const f=(0,s.getAudioFullId)(t),I=(0,s.getAudioFullId)(g??t);let y=document.querySelector(`._audio_row_${f}`);y=y==a?null:y;try{a&&!c&&a.classList.remove("audio_row__added"),y&&!c&&y.classList.remove("audio_row__added"),A.notifyFx({eventType:p.AudioPlayerEventType.REMOVED,params:[f,I]}),await r.deleteFx({groupId:n,audioId:g?g.id:t.id}),a&&c&&(a.classList.add("audio_row__deleted"),m.AudioUtils.onRowOver(a,!1,!0),a.classList.remove("audio_row__added")),y&&c&&(y.classList.add("audio_row__deleted"),m.AudioUtils.onRowOver(y,!1,!0),y.classList.remove("audio_row__added"));const e=A.getPlaylist({type:E.AudioPlaylist.TYPE_PLAYLIST,ownerId:n,albumId:E.AudioPlaylist.DEFAULT_PLAYLIST_ID});e&&e.removeAudio(I),A.notifyFx({eventType:p.AudioPlayerEventType.MUSIC_AUDIOS_DELETE,params:[t,Boolean(a)&&{audioElement:a}]})}catch(e){throw a&&a.classList.add("audio_row__added"),a&&c&&(a.classList.add("audio_row__deleted"),m.AudioUtils.onRowOver(a,!1,!0)),y&&y.classList.add("audio_row__added"),y&&c&&(y.classList.add("audio_row__deleted"),m.AudioUtils.onRowOver(y,!1,!0)),new Error(`Failed to delete audio from group with id ${n}`,{cause:e})}}});return(0,c.sample)({clock:[y,R],filter:({audio:e})=>Boolean(e),fn:({audio:e,groupId:t})=>(0,_.getGroupAudioFullId)(e,t),target:I.add}),(0,c.sample)({clock:[y.finally,R.finally],filter:({params:{audio:e}})=>Boolean(e),fn:({params:{audio:e,groupId:t}})=>(0,_.getGroupAudioFullId)(e,t),target:I.remove}),{$loadingIdentitiesMap:f,$identitiesMap:r.$identitiesMap,addFx:y,deleteFx:R}}},815733:(e,t,r)=>{"use strict";r.d(t,{ensureGroupsAudioMusicWebService:()=>c,isAddedToGroup:()=>_.isAddedToGroup});var n=r(558137),a=r(32489),s=r(943503),_=r(641633);const c=(0,n.makeSharedState)("global/web/audio/groupsMusic",(()=>(0,s.createGroupsMusicWebService)({domain:(0,a.createDomain)("global/web/audio/groupsMusic"),name:"global/web/audio/groupsMusic"})),{version:3})},641633:(e,t,r)=>{"use strict";r.d(t,{isAddedToGroup:()=>s});var n=r(35215),a=r(97295);function s({identity:e,groupsMusicIdentitiesMap:t,groupId:r}){if(!e||!(0,n.isNumber)(r))return!1;return(0,a.getGroupAudioFullId)(e,r)in t}},71696:(e,t,r)=>{"use strict";r.d(t,{isGroupAudio:()=>_});var n=r(35215),a=r(205337),s=r(641633);function _({identity:e,groupsMusicIdentitiesMap:t,groupId:r}){return!(!e||!(0,n.isNumber)(r))&&(e.ownerId===(0,a.convertToGroupMusicId)(r)||(0,s.isAddedToGroup)({identity:e,groupsMusicIdentitiesMap:t,groupId:r}))}},995022:(e,t,r)=>{"use strict";r.d(t,{createMusicAudioMyDislikesService:()=>_});var n=r(478455),a=r(32489),s=r(761178);function _({domain:e,$audio:t,$audioEl:r}){const _=(0,s.ensureAudioDislikesInMyMusicWebService)(),c=r??e.createStore(null),l=t.map((e=>e&&e.id&&e.ownerId?{id:e.id,ownerId:e.ownerId,trackCode:e.trackCode}:null)),u=(0,a.combine)({identity:l,fullIdsMap:_.$dislikesInitializedIdentitiesMap}).map((({identity:e,fullIdsMap:t})=>Boolean(e&&t[(0,n.getAudioFullId)(e)])));return{$isAudioDisliked:(0,a.combine)({audio:t,myAudioDislikesIdentitiesMap:_.$dislikesIdentitiesMap,isDislikeActionInitialized:u}).map((({audio:e,myAudioDislikesIdentitiesMap:t,isDislikeActionInitialized:r})=>(0,s.hasDislike)({audio:e,dislikesIdentitiesMap:t,isDislikeActionInitialized:r}))),$isDislikeActionLoading:(0,a.combine)({identity:l,fullIdsMap:_.$dislikesLoadingIdentitiesMap}).map((({identity:e,fullIdsMap:t})=>Boolean(e&&t[(0,n.getAudioFullId)(e)]))),addFx:(0,a.attach)({source:(0,a.combine)({audio:t,audioEl:c}),async effect({audio:e,audioEl:t},r){await _.addDislikeFx({audio:e,audioEl:t,skipDeletionAudioFromMyMusic:r?.skipDeletionAudioFromMyMusic,needReloadTrackCode:r?.needReloadTrackCode})}}),removeFx:(0,a.attach)({source:(0,a.combine)({audio:t,audioEl:c}),async effect({audio:e,audioEl:t},r){await _.removeDislikeFx({audio:e,audioEl:t,needReloadTrackCode:r?.needReloadTrackCode})}})}}},674522:(e,t,r)=>{"use strict";r.d(t,{createMusicAudioMyDislikesService:()=>n.createMusicAudioMyDislikesService});var n=r(995022)},477227:(e,t,r)=>{"use strict";r.d(t,{createMyMusicWebService:()=>R});var n=r(746573),a=r(586049),s=r(478455),_=r(584053),c=r(32489),l=r(803111),u=r(392358),d=r(678531),p=r(432582),E=r(138586),m=r(752740),g=r(972623),A=r(169818),f=r(518051),I=r(322100),y=r(395654);function R(e){const t=(0,n.getEffectorServiceDomain)(e),r=(0,I.ensureMyMusicService)(),A=(0,l.ensureAudioPlayerService)(),f=new _.Emitter,{$fullIdsMap:R,fullIdsMapApi:S}=(0,a.createFullIdsMap)(t),{$fullIdsMap:T,fullIdsMapApi:P}=(0,a.createFullIdsMap)(t),b=(0,c.attach)({source:(0,c.combine)({myMusicIdentitiesMap:r.$identitiesMap,initializedIdentitiesMap:R}),async effect({myMusicIdentitiesMap:e,initializedIdentitiesMap:t},{audio:n,audioEl:a=null,isNotificationDisabled:_,forceAddToStoreParams:c,needReloadTrackCode:l,audioRef:E}){if(!n)throw new Error("Audio not exist");const m=Boolean(t[(0,s.getAudioFullId)(n)]);if((0,d.isMy)({identity:n,myMusicIdentitiesMap:e,isMyMusicActionInitialized:m,userId:window.vk.id}))throw new Error('Audio already in "My Music"');const g=(0,s.getAudioFullId)(n);try{A.notifyFx({eventType:u.AudioPlayerEventType.ADDED,params:[g]});let e=n.trackCode;const t=n.context;if(l){const t=await O(n,a,E);t&&(e=t)}const s=async()=>{c?r.addToStore(c):await r.addFx({userId:window.vk.id,trackedIdentity:{...n,ref:t,trackCode:e}})};r.isOwned?r.isOwned((0,y.toMusicAudioIdentity)(n))&&r.restoreFx?await r.restoreFx({identity:n}):await s():c?r.addToStore(c):await s(),_||f.emit(p.MyMusicWebServiceEventType.AudioAddedToMyMusic),A.notifyFx({eventType:u.AudioPlayerEventType.MUSIC_AUDIOS_ADD,params:[n,Boolean(a)&&{audioElement:a}]})}catch(e){throw new Error('Failed to add audio to "My Music"',{cause:e})}}}),C=(0,c.attach)({source:(0,c.combine)({myMusicIdentitiesMap:r.$identitiesMap,initializedIdentitiesMap:R}),async effect({myMusicIdentitiesMap:e,initializedIdentitiesMap:t},{audio:n,audioEl:a=null,forceRemoveFromStoreParams:_,audioRef:c,needReloadTrackCode:l}){if(!n)throw new Error("Audio not exist");const p=(0,s.getAudioFullId)(n),f=Boolean(t[p]),I=(0,d.isMy)({identity:n,myMusicIdentitiesMap:e,isMyMusicActionInitialized:f,userId:window.vk.id}),y=e[p];if(!I&&!y)throw new Error('Audio not found in "My Music"');const R=(0,s.getAudioFullId)(y??n);try{A.notifyFx({eventType:u.AudioPlayerEventType.REMOVED,params:[p,R]}),_?r.removeFromStore(_):await r.deleteFx({identity:y??n}),l?O(n,a,c).then((e=>{(0,m.onAdditionalEvent)(a,n,{type:g.TYPE_REMOVED,trackCode:e||n.trackCode})})):(0,m.onAdditionalEvent)(a,n,{type:g.TYPE_REMOVED,trackCode:n.trackCode});const e=A.getPlaylist({type:E.AudioPlaylist.TYPE_PLAYLIST,ownerId:window.vk.id,albumId:E.AudioPlaylist.DEFAULT_PLAYLIST_ID});e&&e.removeAudio(R),A.notifyFx({eventType:u.AudioPlayerEventType.MUSIC_AUDIOS_DELETE,params:[n,Boolean(a)&&{audioElement:a}]})}catch(e){throw new Error('Failed to delete audio from "My Music"',{cause:e})}}});return(0,c.sample)({clock:[b.done,C.done],filter:({params:{audio:e}})=>Boolean(e),fn:({params:{audio:e}})=>(0,s.getAudioFullId)(e),target:S.add}),(0,c.sample)({clock:[b,C],filter:({audio:e})=>Boolean(e),fn:({audio:e})=>(0,s.getAudioFullId)(e),target:P.add}),(0,c.sample)({clock:[b.finally,C.finally],filter:({params:{audio:e}})=>Boolean(e),fn:({params:{audio:e}})=>(0,s.getAudioFullId)(e),target:P.remove}),{$initializedIdentitiesMap:R,$loadingIdentitiesMap:T,$identitiesMap:r.$identitiesMap,addFx:b,deleteFx:C,events:f.listenable,restoreFx:r.restoreFx,isOwned:r.isOwned}}async function O(e,t,r){const n=(0,f.getContextPlaylist)(t)??{context:r,playlist:null};return await(0,A.getAudioTrackCodeFromPlaylist)(n?.playlist,e)??null}},432582:(e,t,r)=>{"use strict";r.d(t,{MyMusicWebServiceEventType:()=>n});var n=function(e){return e.AudioAddedToMyMusic="audioAddedToMyMusic",e}({})},270935:(e,t,r)=>{"use strict";r.d(t,{ensureMyAudioMusicWebService:()=>c,isMy:()=>_.isMy});var n=r(558137),a=r(32489),s=r(477227),_=r(678531);const c=(0,n.makeSharedState)("global/web/audio/myMusic",(()=>(0,s.createMyMusicWebService)({domain:(0,a.createDomain)("global/web/audio/myMusic"),name:"global/web/audio/myMusic"})),{version:3})},678531:(e,t,r)=>{"use strict";r.d(t,{isMy:()=>a});var n=r(478455);function a({identity:e,myMusicIdentitiesMap:t,isMyMusicActionInitialized:r,userId:a}){if(!e)return!1;return(0,n.getAudioFullId)(e)in t||!r&&e.ownerId===a}},41523:(e,t,r)=>{"use strict";r.d(t,{RadiostationStatCollector:()=>c});var n=r(558137),a=r(317216),s=r(314309),_=r(847154);class c{constructor(){this.logAddAudioToMyMusic=e=>{this.actionCollector.logEvent({type:a.ActionProductionStatEventTypes.TYPE_AUDIO_TAP_EVENT_ITEM,[a.ActionProductionStatEventTypes.TYPE_AUDIO_TAP_EVENT_ITEM]:{tap_event:{action:a.EventItemType.AUDIO_RADIOSTATION_FOLLOW,from_player:!1},event:{nav_info:{track_code:e?.navInfo},source_info:{track_code:e?.sourceInfo},...l(e)}}})},this.logDeleteAudioFromMyMusic=e=>{this.actionCollector.logEvent({type:a.ActionProductionStatEventTypes.TYPE_AUDIO_TAP_EVENT_ITEM,[a.ActionProductionStatEventTypes.TYPE_AUDIO_TAP_EVENT_ITEM]:{tap_event:{action:a.EventItemType.AUDIO_RADIOSTATION_UNFOLLOW,from_player:!1},event:{nav_info:{track_code:e?.navInfo},source_info:{track_code:e?.sourceInfo},...l(e)}}})},this.logAddAudioToMyMusicInFullList=e=>{this.actionCollector.logEvent({type:a.ActionProductionStatEventTypes.TYPE_AUDIO_TAP_EVENT_ITEM,[a.ActionProductionStatEventTypes.TYPE_AUDIO_TAP_EVENT_ITEM]:{tap_event:{action:a.EventItemType.AUDIO_RADIOSTATION_FOLLOW,from_player:!1},event:{nav_info:{track_code:e?.sourceInfo},...l(e)}}})},this.logDeleteAudioFromMyMusicInFullList=e=>{this.actionCollector.logEvent({type:a.ActionProductionStatEventTypes.TYPE_AUDIO_TAP_EVENT_ITEM,[a.ActionProductionStatEventTypes.TYPE_AUDIO_TAP_EVENT_ITEM]:{tap_event:{action:a.EventItemType.AUDIO_RADIOSTATION_UNFOLLOW,from_player:!1},event:{nav_info:{track_code:e?.sourceInfo},...l(e)}}})},this.logAddAudioToMyMusicInFollowed=e=>{this.actionCollector.logEvent({type:a.ActionProductionStatEventTypes.TYPE_AUDIO_TAP_EVENT_ITEM,[a.ActionProductionStatEventTypes.TYPE_AUDIO_TAP_EVENT_ITEM]:{tap_event:{action:a.EventItemType.AUDIO_RADIOSTATION_FOLLOW,from_player:!1},event:{nav_info:{track_code:e?.sourceInfo},source_info:{track_code:e?.sourceInfo},...l(e)}}})},this.logDeleteAudioFromMyMusicInFollowed=e=>{this.actionCollector.logEvent({type:a.ActionProductionStatEventTypes.TYPE_AUDIO_TAP_EVENT_ITEM,[a.ActionProductionStatEventTypes.TYPE_AUDIO_TAP_EVENT_ITEM]:{tap_event:{action:a.EventItemType.AUDIO_RADIOSTATION_UNFOLLOW,from_player:!1},event:{nav_info:{track_code:e?.sourceInfo},source_info:{track_code:e?.sourceInfo},...l(e)}}})},this.logClickGoto=e=>{const t={type:a.ClickProductionStatEventTypes.TYPE_AUDIO_TAP_GOTO_EVENT_ITEM,[a.ClickProductionStatEventTypes.TYPE_AUDIO_TAP_GOTO_EVENT_ITEM]:{...u(e)}};this.clickCollector.logEvent(t,{type:a.EventItemType.MUSIC_AUDIO})},this.logClickGotoRadioTab=e=>{const t={type:a.ClickProductionStatEventTypes.TYPE_AUDIO_TAP_GOTO_EVENT_ITEM,[a.ClickProductionStatEventTypes.TYPE_AUDIO_TAP_GOTO_EVENT_ITEM]:{...d(e)}};this.clickCollector.logEvent(t,{type:a.EventItemType.MUSIC_AUDIO})},this.logNavigationEventsRadiostations=e=>{const t={screen:"audio_catalog",screen_to:"audio_catalog",subtype:a.NavigationProductionStatEventTypes.GO,item:{type:a.EventItemType.CATALOG_ITEM,track_code:e.item},destination_item:{type:a.EventItemType.CATALOG_ITEM,track_code:e.destinationItem},type:a.NavigationProductionStatEventTypes.TYPE_AUDIO_DOMAIN_EVENT_ITEM,[a.NavigationProductionStatEventTypes.TYPE_AUDIO_DOMAIN_EVENT_ITEM]:{client_server_time:(0,_.getClientServerTime)((0,_.getClientTime)())}};this.navigationCollector.logEvent(t)},this.logPlay=e=>{this.actionCollector.logEvent({type:a.ActionProductionStatEventTypes.TYPE_AUDIO_TAP_PLAY_EVENT_ITEM,[a.ActionProductionStatEventTypes.TYPE_AUDIO_TAP_PLAY_EVENT_ITEM]:{type:a.EventItemType.START,event:{nav_info:{track_code:e?.navInfo},source_info:{track_code:e?.sourceInfo},...l(e)}}})},this.logPlayFromList=e=>{this.actionCollector.logEvent({type:a.ActionProductionStatEventTypes.TYPE_AUDIO_TAP_PLAY_EVENT_ITEM,[a.ActionProductionStatEventTypes.TYPE_AUDIO_TAP_PLAY_EVENT_ITEM]:{type:a.EventItemType.START,event:{nav_info:{track_code:e?.sourceInfo},...l(e)}}})},this.productCollector=new s.ProductionStatCollector,this.actionCollector=new s.ActionStatCollector(this.productCollector),this.clickCollector=new s.ClickStatCollector(this.productCollector),this.navigationCollector=new s.NavigationStatCollector(this.productCollector)}}function l(e){return{client_server_time:(0,_.getClientServerTime)((0,_.getClientTime)()),entities:[{type:"radio",id:e.radioStationId}],pos_ids:[e.radioPositionIndex]}}function u(e){return{event:{client_server_time:(0,_.getClientServerTime)((0,_.getClientTime)()),nav_info:{track_code:e?.navInfo},source_info:{track_code:e?.sourceInfo}},target_nav_info:{url:e?.targetInfo}}}function d(e){return{event:{client_server_time:(0,_.getClientServerTime)((0,_.getClientTime)()),nav_info:{track_code:e?.navInfo}},target_nav_info:{track_code:e?.targetInfo}}}c.ensure=(0,n.makeSharedState)("RadioStatCollector",(()=>new c),{version:1})},555870:(e,t,r)=>{"use strict";r.d(t,{MusicPlaylistLayerListener:()=>P});var n=r(434518),a=r(763812),s=r(70148),_=r(391751),c=r(384810),l=r(983567),u=r(280494),d=r(519290),p=(0,a._)("_emitter"),E=(0,a._)("_player"),m=(0,a._)("_playlistIdentity"),g=(0,a._)("_trackTuples"),A=(0,a._)("_trackRows"),f=(0,a._)("_playButton"),I=(0,a._)("_isCurrentPlayerPlaylist"),y=(0,a._)("_getCurrentPlayerTrackIdentity"),R=(0,a._)("_queryPlayButton"),O=(0,a._)("_connectEvents"),S=(0,a._)("_handlePlayButtonClick"),T=(0,a._)("_handleTrackRowClick");class P{get events(){return(0,n._)(this,p)[p].listenable}constructor({emitterFactory:e,playlistIdentity:t,trackTuples:r,trackRows:a,container:_,playButtonClassName:P}){Object.defineProperty(this,I,{get:b,set:void 0}),Object.defineProperty(this,y,{value:C}),Object.defineProperty(this,R,{value:D}),Object.defineProperty(this,O,{value:M}),Object.defineProperty(this,p,{writable:!0,value:void 0}),Object.defineProperty(this,E,{writable:!0,value:void 0}),Object.defineProperty(this,m,{writable:!0,value:void 0}),Object.defineProperty(this,g,{writable:!0,value:void 0}),Object.defineProperty(this,A,{writable:!0,value:void 0}),Object.defineProperty(this,f,{writable:!0,value:void 0}),Object.defineProperty(this,S,{writable:!0,value:void 0}),Object.defineProperty(this,T,{writable:!0,value:void 0}),(0,n._)(this,S)[S]=()=>{if(!(0,n._)(this,E)[E].isPaused())try{let e;const t=(0,n._)(this,y)[y]();if(t)e=t;else{const t=(0,n._)(this,g)[g].at(0);t&&(e=s.OwnedIdentity.fromRawId((0,d.getAudioFullId)(t)))}if(!e)return;(0,n._)(this,p)[p].emit("play",{playlistIdentity:(0,n._)(this,m)[m],trackIdentity:e})}catch(e){console.error(e)}},(0,n._)(this,T)[T]=(e,t)=>{if(!(0,n._)(this,E)[E].isPaused())try{const r=(0,c.getAudioFromEl)(e,!1);if(!r)return;const a=(0,u.mapAudioTupleToMusicAudioIdentity)(r);(0,n._)(this,p)[p].emit("playTrack",{playlistIdentity:(0,n._)(this,m)[m],trackIdentity:a,trackPosition:t})}catch(e){console.error(e)}},(0,n._)(this,m)[m]=t,(0,n._)(this,g)[g]=r,(0,n._)(this,A)[A]=a,(0,n._)(this,f)[f]=(0,n._)(this,R)[R](_,P),(0,n._)(this,E)[E]=(0,l.getAudioPlayer)(),(0,n._)(this,p)[p]=e.create(),(0,n._)(this,O)[O]()}}function b(){const e=(0,n._)(this,E)[E].getCurrentPlaylist();if(e)try{const t=(0,u.mapPlaylistToMusicPlaylistIdentity)(e);(0,_.compareIdentities)((0,n._)(this,m)[m],t)}catch{return!1}}function C(){if(!(0,n._)(this,I)[I])return null;try{const e=(0,n._)(this,E)[E].getCurrentAudio();return e?(0,u.mapAudioTupleToMusicAudioIdentity)(e):null}catch(e){return console.error(e),null}}function D(e,t){return e.querySelector(`.${t}`)}function M(){(0,n._)(this,f)[f]&&(0,n._)(this,f)[f].addEventListener("click",(0,n._)(this,S)[S]),(0,n._)(this,A)[A].forEach(((e,t)=>{const r=t+1;e.addEventListener("click",(()=>{(0,n._)(this,T)[T](e,r)}))}))}},984578:(e,t,r)=>{"use strict";r.d(t,{MusicPlaylistLayerListener:()=>n.MusicPlaylistLayerListener});var n=r(555870)},233696:(e,t,r)=>{"use strict";r.d(t,{MusicPlaylistStatsCollector:()=>R});var n=r(434518),a=r(763812),s=r(331635),_=r(132028),c=r(694132),l=r(550490),u=r(317216),d=r(726483),p=r(298005),E=r(251234),m=r(559289),g=r(314309),A=(0,a._)("_actionCollector"),f=(0,a._)("_clickCollector"),I=(0,a._)("_logCommonPlay"),y=(0,a._)("_getSource");class R{logOpen({playlistIdentity:e}){const t={event:(0,d.collectOpenData)({playlistIdentity:e,source:(0,n._)(this,y)[y](e),navScreenProvider:this.navScreenProvider}),target_nav_info:[]},r={type:u.ClickProductionStatEventTypes.TYPE_MUSIC_PLAYLIST_TAP_GOTO,[u.ClickProductionStatEventTypes.TYPE_MUSIC_PLAYLIST_TAP_GOTO]:t};(0,n._)(this,f)[f].logEvent(r,{type:u.EventItemType.MUSIC_PLAYLIST_GOTO})}logPlay({playlistIdentity:e,trackIdentity:t}){const r=(0,p.collectPlayData)({playlistIdentity:e,source:(0,n._)(this,y)[y](e),navScreenProvider:this.navScreenProvider,trackIdentity:t});(0,n._)(this,I)[I](r)}logPlayTrack({playlistIdentity:e,trackIdentity:t,trackPosition:r}){const a=(0,E.collectPlayTrackData)({playlistIdentity:e,trackIdentity:t,trackPosition:r,source:(0,n._)(this,y)[y](e),navScreenProvider:this.navScreenProvider});(0,n._)(this,I)[I](a)}constructor(e,t){Object.defineProperty(this,I,{value:O}),Object.defineProperty(this,y,{value:S}),Object.defineProperty(this,A,{writable:!0,value:void 0}),Object.defineProperty(this,f,{writable:!0,value:void 0}),this.cookie=e,this.navScreenProvider=t;const r=new g.ProductionStatCollector;(0,n._)(this,A)[A]=new g.ActionStatCollector(r),(0,n._)(this,f)[f]=new g.ClickStatCollector(r)}}function O(e){const t={event:e,type:u.EventItemSubType.MUSIC_PLAYLIST_START,target_nav_info:[]},r={type:u.ActionProductionStatEventTypes.TYPE_MUSIC_PLAYLIST_TAP_PLAY,[u.ActionProductionStatEventTypes.TYPE_MUSIC_PLAYLIST_TAP_PLAY]:t};(0,n._)(this,A)[A].logEvent(r)}function S({accessRawId:e}){return(0,m.getOwnedAudioListSource)(e,{cookie:this.cookie})}R=(0,s.__decorate)([_.scope.container(),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[void 0===l.Cookie?Object:l.Cookie,void 0===c.AudioNavScreenProvider?Object:c.AudioNavScreenProvider])],R)},735754:(e,t,r)=>{"use strict";r.d(t,{collectCommonData:()=>a});var n=r(847154);function a({navScreenProvider:e,playlistIdentity:t,source:r}){return{client_server_time:(0,n.getClientServerTime)(),source_info:{track_code:r?.ref||void 0},nav_info:{track_code:e.catalogSectionId??void 0},entities:s(t)}}function s(e){return[{type:"playlist",id:e.accessRawId}]}},726483:(e,t,r)=>{"use strict";r.d(t,{collectOpenData:()=>s});var n=r(8520),a=r(735754);function s(e){return{...(0,a.collectCommonData)(e),pos_ids:function(e){const t=e?.index;return(0,n.isNumber)(t)?[t+1]:void 0}(e.source)}}},298005:(e,t,r)=>{"use strict";r.d(t,{collectPlayData:()=>a});var n=r(735754);function a(e){const t=(0,n.collectCommonData)(e);return{...t,entities:[...t.entities??[],(r=e.trackIdentity,{type:"audio",id:r.accessRawId})]};var r}},251234:(e,t,r)=>{"use strict";r.d(t,{collectPlayTrackData:()=>a});var n=r(298005);function a(e){return{...(0,n.collectPlayData)(e),pos_ids:[e.trackPosition]}}},348191:(e,t,r)=>{"use strict";r.d(t,{MusicPlaylistStatsCollector:()=>n.MusicPlaylistStatsCollector});var n=r(233696)},197689:(e,t,r)=>{"use strict";r.d(t,{AudioRowMoreTooltipApplication:()=>_});var n=r(474848),a=r(865708),s=r(530928);function _({target:e,portalRoot:t,onShownChange:r}){return(0,n.jsx)(a.AppRootProvider,{children:(0,n.jsx)(s.AudioRowMoreTooltipContainer,{onShownChange:r,target:e,portalRoot:t})})}},377360:(e,t,r)=>{"use strict";r.d(t,{AudioRowMoreTooltipController:()=>g});var n=r(434518),a=r(763812),s=r(142278),_=r(197689),c=r(584053),l=r(558137),u=r(270559),d=(0,a._)("_initiator"),p=(0,a._)("_emitter"),E=(0,a._)("_target"),m=(0,a._)("_handleShownChange");class g{get isMounted(){return this.checkIsMounted()}get events(){return(0,n._)(this,p)[p].listenable}mount(e,t){this.checkIsMounted(e)||((0,n._)(this,E)[E]=e),this.isShown=!0,(0,n._)(this,d)[d].render({target:e,portalRoot:t,onShownChange:(0,n._)(this,m)[m]})}unmount(){this.checkIsMounted()&&(0,n._)(this,d)[d].unmount(),(0,n._)(this,E)[E]=null,this.isShown=!1,(0,n._)(this,p)[p].emit(u.AudioRowMoreTooltipControllerEventType.Closed)}checkIsMounted(e){return(!e||e===(0,n._)(this,E)[E])&&(0,n._)(this,d)[d].isMounted()}constructor(){Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:void 0}),Object.defineProperty(this,E,{writable:!0,value:void 0}),Object.defineProperty(this,m,{writable:!0,value:void 0}),this.isShown=!1,(0,n._)(this,d)[d]=(0,s.createReactInitiator)(_.AudioRowMoreTooltipApplication),(0,n._)(this,p)[p]=new c.Emitter,(0,n._)(this,E)[E]=null,(0,n._)(this,m)[m]=e=>{this.isShown=e,e||(this.unmount(),(0,n._)(this,p)[p].emit(u.AudioRowMoreTooltipControllerEventType.Closed))}}}g.ensure=(0,l.makeSharedState)("audio/audioPage/audioRow/moreTooltip/controller",(()=>new g),{version:2})},189942:(e,t,r)=>{"use strict";r.d(t,{AudioRowMoreTooltipController:()=>n.AudioRowMoreTooltipController,AudioRowMoreTooltipControllerEventType:()=>a.AudioRowMoreTooltipControllerEventType});var n=r(377360),a=r(270559)},270559:(e,t,r)=>{"use strict";r.d(t,{AudioRowMoreTooltipControllerEventType:()=>n});var n=function(e){return e.Closed="closed",e}({})},269229:(e,t,r)=>{"use strict";r.d(t,{AudioRowMoreTooltipContainer:()=>N});var n=r(474848),a=r(507852),s=r(723723),_=r(161134),c=r(308951),l=r(726519),u=r(421654),d=r(848659),p=r(664179),E=r(933052),m=r(871186),g=r(875717),A=r(298096),f=r(240557),I=r(293721),y=r(235447),R=r(296540),O=r(866467),S=r(540462),T=r(836141),P=r(545549),b=r(35215),C=r(90345);const D=(0,S.partConfigEnabled)("audio_tooltip_copy_link_web"),M=(0,y.ensureAudioRowMoreTooltipService)(),{dislikesService:L}=M;function N({target:e,portalRoot:t=null,onShownChange:r}){const y=(0,I.useUnit)(M.setIsShowTooltip),S=(0,I.useUnit)(M.$audio),N=(0,I.useUnit)(M.$isAudioClaimed),k=(0,I.useUnit)(M.$isEpisode),U=(0,I.useUnit)(M.$isAlbum),B=(0,I.useUnit)(M.$isCurrentAlbumSnippet),x=(0,I.useUnit)(M.$isAudioHasSnippet),F=(0,I.useUnit)(M.$audioPlaylists),V=(0,I.useUnit)(M.$isShowAllPlaylists),K=(0,I.useUnit)(M.$isAudioPlaylistsFetching),W=(0,I.useUnit)(M.$loadingAddToPlaylistFullIdsMap),H=(0,I.useUnit)(M.$addedPlaylistsFullIdsMap),G=(0,I.useUnit)(M.$initializedPlaylistsFullIdsMap),j=(0,I.useUnit)(M.$currentGroupId),Y=(0,I.useUnit)(L.$isAudioDisliked),z=(0,I.useUnit)(L.$isDislikeActionLoading),q=x,$=D&&!N&&!k,X=!N&&!k,Q=!N&&U&&!B,J=!N&&!k,Z=(0,I.useUnit)(M.copyAudioLinkFx),ee=(0,I.useUnit)(M.shareAudioFx),te=(0,I.useUnit)(M.openEpisodeFx),oe=(0,I.useUnit)(M.openAlbumFx),ie=(0,I.useUnit)(M.setNextInPlayerQueueFx),re=(0,I.useUnit)(L.addFx),ne=(0,I.useUnit)(L.removeFx),ae=(0,I.useUnit)(M.addAudioToNewPlaylistFx),se=(0,I.useUnit)(M.toggleAddAudioToPlaylistFx),_e=(0,I.useUnit)(M.showAllPlaylistsFx),ce=(0,R.useMemo)((()=>Y?"audio-show-more-tooltip-remove-dislike-button":"audio-show-more-tooltip-add-dislike-button"),[Y]);return(0,R.useEffect)((()=>(y(!0),()=>{y(!1)})),[]),(0,n.jsx)(a.DropdownActionSheet,{usePortal:t??!1,width:235,trigger:"hover",restoreFocus:!1,placement:"auto-end",content:(0,n.jsxs)(n.Fragment,{children:[q&&(0,n.jsx)(a.DropdownActionSheet.Item,{before:(0,n.jsx)(c.Icon20ListPlayOutline,{className:(0,s.getColorClass)("color_icon_secondary")}),onClick:()=>((0,C.logSearchAudioClick)(C.SearchClickActionMap.LISTEN_NEXT,S?.trackCode),ie()),"data-testid":"audio-row-more-tooltip-set-next-audio",children:(0,O.getLang)("audio_set_next_audio")}),$&&(0,n.jsx)(a.DropdownActionSheet.Item,{before:(0,n.jsx)(l.Icon20CopyOutline,{className:(0,s.getColorClass)("color_icon_secondary")}),onClick:()=>((0,C.logSearchAudioClick)(C.SearchClickActionMap.COPY_LINK,S?.trackCode),Z()),"data-testid":"audio-row-more-tooltip-copy-audio-link",keepOpen:!0,children:(0,O.getLang)("audio_copy_audio_link")}),k&&(0,n.jsx)(a.DropdownActionSheet.Item,{before:(0,n.jsx)(u.Icon20PodcastOutline,{className:(0,s.getColorClass)("color_icon_secondary")}),onClick:te,"data-testid":"audio-row-more-tooltip-podcast-open-episode",children:(0,O.getLang)("audio_podcast_open_episode")}),!N&&(0,n.jsx)(a.DropdownActionSheet.Item,{before:(0,n.jsx)(d.Icon20ShareOutline,{className:(0,s.getColorClass)("color_icon_secondary")}),onClick:()=>((0,C.logSearchAudioClick)(C.SearchClickActionMap.SHARE,S?.trackCode),ee()),"data-testid":"audio-row-more-tooltip-share-audio",children:(0,O.getLang)("audio_share_audio")}),X&&(0,n.jsx)(a.DropdownActionSheet.Item,{before:Y?(0,n.jsx)(p.Icon20ThumbsDown,{className:(0,s.getColorClass)("color_icon_secondary")}):(0,n.jsx)(E.Icon20ThumbsDownOutline,{className:(0,s.getColorClass)("color_icon_secondary")}),keepOpen:Y,onClick:()=>{if(Y)return(0,C.logSearchAudioClick)(C.SearchClickActionMap.REMOVE_DISLIKE,S?.trackCode),void ne({needReloadTrackCode:!0});(0,C.logSearchAudioClick)(C.SearchClickActionMap.DISLIKE,S?.trackCode),re({skipDeletionAudioFromMyMusic:(0,b.isNumber)(j),needReloadTrackCode:!0})},disabled:z,"data-testid":ce,children:(0,O.getLang)("audio_action_dislike")}),Q&&(0,n.jsx)(a.DropdownActionSheet.Item,{before:(0,n.jsx)(m.Icon20VinylOutline,{className:(0,s.getColorClass)("color_icon_secondary")}),onClick:()=>((0,C.logSearchAudioClick)(C.SearchClickActionMap.OPEN_ALBUM,S?.trackCode),oe()),"data-testid":"audio-row-more-tooltip-open-album",children:(0,O.getLang)("audio_open_album")}),J&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.DropdownActionSheet.Separator,{}),(0,n.jsx)(_.DropdownActionSubSheet,{before:(0,n.jsx)(g.Icon20ListPlusOutline,{className:(0,s.getColorClass)("color_icon_secondary")}),disabled:K,shown:!0,sheet:(0,n.jsx)(n.Fragment,{children:K?(0,n.jsx)(_.DropdownActionSubSheet.Item,{loading:!0,disabled:!0,keepOpen:!0,children:(0,O.getLang)("audio_action_sub_sheet_additional_loading")}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(_.DropdownActionSubSheet.Item,{before:(0,n.jsx)(A.Icon24Add,{className:(0,s.getColorClass)("color_icon_secondary")}),onClick:()=>((0,C.logSearchAudioClick)(C.SearchClickActionMap.ADD_TO_PLAYLIST,S?.trackCode),ae()),"data-testid":"audio-row-more-tooltip-add-to-new-playlist",children:(0,O.getLang)("audio_add_to_new_pl")}),F?.map(((e,t)=>{if(!S||!e)return null;const r=(0,T.getAudioPlaylistId)(S.id,e.id),a=r in G?r in H:e.hasTargetAudio;return(0,n.jsx)(R.Fragment,{children:(0,n.jsx)(_.DropdownActionSubSheet.Item,{keepOpen:!0,loading:!!S&&r in W,before:a?(0,n.jsx)(f.Icon20Check,{className:(0,s.getColorClass)("color_icon_secondary")}):null,onClick:()=>((0,C.logSearchAudioClick)(C.SearchClickActionMap.ADD_TO_PLAYLIST,S?.trackCode),se(e)),"data-testid":"audio-row-more-tooltip-add-to-playlist",children:e.title??""})},null===e.id?t:e.id)})),V&&(0,n.jsx)(_.DropdownActionSubSheet.Item,{onClick:_e,"data-testid":"audio-row-more-tooltip-show-all-playlists",children:(0,O.getLang)("audio_row_show_all_playlists")})]})}),children:(0,O.getLang)("audio_add_to_playlist")})]})]}),shown:!0,onShownChange:r,children:(0,n.jsx)(P.ForwardElementRef,{element:e})})}},541840:(e,t,r)=>{"use strict";r.d(t,{AudioRowMoreTooltipContainer:()=>n.AudioRowMoreTooltipContainer});var n=r(269229)},530928:(e,t,r)=>{"use strict";r.d(t,{AudioRowMoreTooltipContainer:()=>n.AudioRowMoreTooltipContainer});var n=r(541840)},357319:(e,t,r)=>{"use strict";r.d(t,{AudioRowMoreTooltipController:()=>n.AudioRowMoreTooltipController,AudioRowMoreTooltipControllerEventType:()=>n.AudioRowMoreTooltipControllerEventType,ensureAudioRowMoreTooltipService:()=>a.ensureAudioRowMoreTooltipService});var n=r(189942),a=r(235447)},2884:(e,t,r)=>{"use strict";r.d(t,{createAudioPlaylistsDataService:()=>T});var n=r(761520),a=r(459899),s=r(8520),_=r(32489),c=r(810068),l=r(921832),u=r(30899),d=r(478455),p=r(586049),E=r(163374),m=r(625523),g=r(602337),A=r(909436),f=r(752740),I=r(972623),y=r(270959),R=r(30052),O=r(836141),S=r(278758);function T({domain:e,$audio:t,$audioTuple:r,$audioEl:g,$isShowTooltip:T}){const C=a.AudioPageProxy.ensure(),D=(0,u.ensureMyAudioPlaylistsService)(),M=e.createEvent(),L=t.map((e=>e&&e.id&&e.ownerId?(0,d.getAudioFullId)({id:e.id,ownerId:e.ownerId}):null)),{$audioPlaylistsDataMap:N,audioPlaylistsDataMapApi:k}=(0,l.createAudioPlaylistsDataMap)(e),{$fullIdsMap:U,fullIdsMapApi:B}=(0,p.createFullIdsMap)(e),{$fullIdsMap:x,fullIdsMapApi:F}=(0,p.createFullIdsMap)(e),{$fullIdsMap:V,fullIdsMapApi:K}=(0,p.createFullIdsMap)(e),{$fullIdsMap:W,fullIdsMapApi:H}=(0,p.createFullIdsMap)(e),G=(0,_.combine)({audioFullId:L,audioPlaylistsDataMap:N}).map((({audioFullId:e,audioPlaylistsDataMap:t})=>Boolean(e)&&(0,s.isString)(e)?t[e]??null:null)),{$audioPlaylists:j,$isShowAllPlaylists:Y,$newPlaylistHash:z}=(0,m.reshape)({source:G,shape:{$audioPlaylists:e=>e?.playlists||[],$isShowAllPlaylists:e=>e?.isShowAllPlaylists||!1,$newPlaylistHash:e=>e?.newPlaylistHash||null}}),q=(0,_.combine)({audioFullId:L,loadingFetchingFullIdsMap:U}).map((({audioFullId:e,loadingFetchingFullIdsMap:t})=>!!e&&Boolean(t[e]))),$=e.createEffect((async e=>{if(!e)throw new Error("Audio not exists");const t=b(C);try{const r=await n.ajax.promisifiedPost("al_audio.php",{act:"playlists_by_audio",owner_id:t,audio_owner_id:e.ownerId,audio_id:e.id});if(!r)throw new Error("Unknown error when fetching playlists by audio");const[a,s,_]=r;return{playlists:(a||[]).map(P),isShowAllPlaylists:s||!1,newPlaylistHash:_||null}}catch(e){throw new Error("Error when fetching playlists by audio",{cause:e})}})),X=(0,_.attach)({source:t,effect:async e=>$(e)}),Q=(0,_.attach)({source:(0,_.combine)({audioTuple:r,newPlaylistHash:z}),effect({audioTuple:e,newPlaylistHash:t}){if(!e)throw new Error("Audio not exists");if(!t)throw new Error("Playlist hash not exists");const r=b(C);A.AudioUtils.editPlaylist(r,!1,"edit",{addAudio:e,newPlaylistHash:t,onSavePlaylistDone(){M()}})}}),J=(0,_.attach)({source:(0,_.combine)({audioEl:g,addedPlaylistsFullIdsMap:V,initializedPlaylistsFullIdsMap:W,addedAudiosMap:D.$addedAudiosMap}),async effect({audioEl:e,addedPlaylistsFullIdsMap:t,initializedPlaylistsFullIdsMap:r,addedAudiosMap:n},{audio:a,playlist:s}){if(!a||!e)throw new Error("Audio not exists");const _=(0,O.getAudioPlaylistId)(a.id,s.id),c=_ in r?_ in t:s.hasTargetAudio;if(D.setUserId(window.vk.id),c){const e=n[(0,E.getPlaylistAudioFullId)({playlist:{id:s.id,ownerId:s.ownerId},originalAudio:a})]??{id:a.id,ownerId:window.vk.id};await D.deleteAudioFx({originalAudioIdentity:a,audioIdentity:e,playlistId:s.id})}else await D.addAudioFx({audioIdentity:a,playlistId:s.id});(0,f.onAdditionalEvent)(e,a,{type:c?I.TYPE_REMOVED:I.TYPE_ADDED,subtype:I.SUBTYPE_PLAYLIST})}}),Z=(0,_.attach)({source:t,async effect(e,t){await J({audio:e,playlist:t})}}),ee=(0,_.attach)({source:j,async effect(e,t){if(e&&t){for(const r of e){const e=(0,O.getAudioPlaylistId)(t.id,r.id);F.remove(e),K.remove(e),H.remove(e)}k.remove((0,d.getAudioFullId)(t))}}}),te=(0,_.attach)({source:t,effect(e){if(!e)throw new Error("Audio not exists");const t=b(C);(0,y.showBox)("al_audio.php?act=more_playlists_add",{owner_id:t,audio_owner_id:e.ownerId,audio_id:e.id},{params:{bodyStyle:"padding: 0px",width:560},onDone(){ee(e)}})}});return(0,_.sample)({source:G,clock:(0,_.combine)({audio:t,isShowTooltip:T}),filter:(e,{isShowTooltip:t,audio:r})=>t&&!e&&Boolean(r)&&c.Ranges.isUserId(window.vk.id),target:X}),(0,_.sample)({source:L,clock:X.doneData,filter:e=>Boolean(e),fn:(e,t)=>({audioFullId:e,playlistsData:t}),target:k.add}),(0,_.sample)({clock:$,filter:e=>Boolean(e),fn:e=>(0,d.getAudioFullId)({id:e.id,ownerId:e.ownerId}),target:B.add}),(0,_.sample)({clock:$.finally,filter:({params:e})=>Boolean(e),fn:({params:e})=>{const t=e;return(0,d.getAudioFullId)({id:t.id,ownerId:t.ownerId})},target:B.remove}),(0,_.sample)({clock:J,filter:({audio:e,playlist:t})=>Boolean(e)&&Boolean(t),fn:({audio:e,playlist:t})=>(0,O.getAudioPlaylistId)(e.id,t.id),target:F.add}),(0,_.sample)({clock:J.finally,filter:({params:{audio:e,playlist:t}})=>Boolean(e)&&Boolean(t),fn:({params:e})=>{const{audio:t,playlist:r}=e;return(0,O.getAudioPlaylistId)(t.id,r.id)},target:F.remove}),(0,_.sample)({source:(0,_.combine)({addedPlaylistsFullIdsMap:V,initializedPlaylistsFullIdsMap:W}),clock:J.done,filter:(e,{params:{audio:t,playlist:r}})=>Boolean(t)&&Boolean(r),fn:({addedPlaylistsFullIdsMap:e,initializedPlaylistsFullIdsMap:t},{params:r})=>{const{audio:n,playlist:a}=r,s=(0,O.getAudioPlaylistId)(n.id,a.id);return{added:s in t?s in e:a.hasTargetAudio,audioPlaylistId:s}},target:[H.add.prepend((({audioPlaylistId:e})=>e)),(0,R.condition)({if:({added:e})=>e,then:K.remove.prepend((({audioPlaylistId:e})=>e)),else:K.add.prepend((({audioPlaylistId:e})=>e))})]}),(0,S.reset)({clock:M,target:[N,U,x,W,V]}),{$audioPlaylists:j,$isShowAllPlaylists:Y,$isAudioPlaylistsFetching:q,$loadingAddToPlaylistFullIdsMap:x,$addedPlaylistsFullIdsMap:V,$initializedPlaylistsFullIdsMap:W,addAudioToNewPlaylistFx:Q,toggleAddAudioToPlaylistFx:Z,showAllPlaylistsFx:te}}function P(e){return{ownerId:+e[g.AudioPlaylistTupleKeys.OwnerId],id:+e[g.AudioPlaylistTupleKeys.Id],title:e[g.AudioPlaylistTupleKeys.Title]||null,hasTargetAudio:e[g.AudioPlaylistTupleKeys.HasTargetAudio]||!1,actionHash:e[g.AudioPlaylistTupleKeys.ActionHash]||null}}function b(e){let t;return t=(0,s.isNumber)(e.ownerId)&&e.ownerId<0&&e.canEditGroup?e.ownerId:window.vk.id,t}},836141:(e,t,r)=>{"use strict";function n(e,t){return`${e}_${t}`}r.d(t,{getAudioPlaylistId:()=>n})},775784:(e,t,r)=>{"use strict";r.d(t,{createAudioPlaylistsDataService:()=>n.createAudioPlaylistsDataService});var n=r(2884)},921832:(e,t,r)=>{"use strict";r.d(t,{createAudioPlaylistsDataMap:()=>_});var n=r(32489),a=r(46201),s=r(786979);function _(e){const t=e.createStore({});return{$audioPlaylistsDataMap:t,audioPlaylistsDataMapApi:(0,n.createApi)(t,{add:(e,{audioFullId:t,playlistsData:r})=>(0,a.addPairToMap)(e,{key:t,value:r}),remove:(e,t)=>(0,s.removePairFromMap)(e,t)})}}},602337:(e,t,r)=>{"use strict";r.d(t,{AudioPlaylistTupleKeys:()=>n});var n=function(e){return e[e.OwnerId=0]="OwnerId",e[e.Id=1]="Id",e[e.Title=2]="Title",e[e.HasTargetAudio=3]="HasTargetAudio",e[e.ActionHash=4]="ActionHash",e}({})},832486:(e,t,r)=>{"use strict";r.d(t,{createAudioRowMoreTooltipService:()=>g});var n=r(746573),a=r(35215),s=r(584053),_=r(32489),c=r(810780),l=r(909436),u=r(459899),d=r(674522),p=r(775784),E=r(803111),m=r(991590);function g(e){const t=(0,n.getEffectorServiceDomain)(e),r=u.AudioPageProxy.ensure(),g=(0,E.ensureAudioPlayerService)(),f=new s.Emitter,I=(0,_.createEvent)(),y=t.createEvent(),R=t.createEvent(),O=(0,_.restore)(y,!1),S=t.createStore(null),T=t.createStore(null),P=t.createStore(null),b=t.createStore(null),C=t.createStore(null),D=(0,_.restore)(R,null),{$audioPlaylists:M,$isShowAllPlaylists:L,$isAudioPlaylistsFetching:N,$loadingAddToPlaylistFullIdsMap:k,$addedPlaylistsFullIdsMap:U,$initializedPlaylistsFullIdsMap:B,addAudioToNewPlaylistFx:x,toggleAddAudioToPlaylistFx:F,showAllPlaylistsFx:V}=(0,p.createAudioPlaylistsDataService)({domain:t,$audio:T,$audioEl:S,$audioTuple:P,$isShowTooltip:O}),K=T.map((e=>!!e&&Boolean(e?.isClaimed))),W=T.map((e=>!!e&&Boolean(l.AudioUtils.isPodcast(e)))),H=T.map((e=>!!e&&Boolean(e?.album))),G=T.map((e=>!!e&&Boolean(e?.isCurrentAlbumSnippet))),j=(0,_.combine)({audioEl:S,audio:T}).map((({audioEl:e,audio:t})=>{if(!e||!t)return!1;const r=l.AudioUtils.getContextPlaylist(e,!0),[n,a]=l.AudioUtils.contextSplit(r);if(!n||"my_audios_block"===a)return Boolean(t?.isInSnippet);switch(n){case"search_results":case"catalog":case"album_page":case"my":case"module":case"user_list":case"group_list":case"edit_playlist":return!0}return Boolean(t?.isInSnippet)})),Y=(0,d.createMusicAudioMyDislikesService)({domain:t,$audio:T,$audioEl:S}),z=(0,_.attach)({source:(0,_.combine)({audio:T,audioLinkPathname:b,audioAccessKey:C}),async effect({audio:e,audioLinkPathname:t,audioAccessKey:r}){if(!e)throw new Error("Audio not exist");t?await l.AudioUtils.copyAudioLink(t):await l.AudioUtils.copyAudioLinkByIdentity(e,r??""),f.emit(m.AudioRowMoreTooltipServiceEventType.AudioLinkCopied,e)}}),q=(0,_.attach)({source:(0,_.combine)({audioEl:S,currentAudio:T}),effect:({audioEl:e,currentAudio:t})=>{const n=t||r.readyAudio;if(!e||!n)throw new Error("Audio not exist");n&&l.AudioUtils.shareAudio(e??!1,n)}}),$=(0,_.attach)({source:(0,_.combine)({audioEl:S,currentAudio:T}),effect:({audioEl:e,currentAudio:t})=>{const n=t||r.readyAudio;if(!e||!n)throw new Error("Audio not exist");n&&l.AudioUtils.openEpisode(e??!1,n)}}),X=(0,_.attach)({source:(0,_.combine)({audioEl:S,currentAudio:T}),effect:({audioEl:e,currentAudio:t})=>{const n=t||r.readyAudio;if(!e||!n)throw new Error("Audio not exist");n&&l.AudioUtils.showAudioAlbum(e??!1,n)}}),Q=(0,_.attach)({source:(0,_.combine)({audioEl:S,audio:T}),effect:({audioEl:e,audio:t})=>{if(!e||!t)throw new Error("Audio not exist");t&&g.setNextFx({audioEl:e,audio:t})}}),J=(0,_.attach)({source:T,async effect(e){if(!e)throw new Error("Audio not exists");const t=r.ownerId&&(0,a.isNumber)(r.ownerId)&&r.ownerId<0&&r.canAddToGroup&&r.ownerId!==e.ownerId;R(t?-r.ownerId:null)}});return(0,c.spread)({source:I.map(A),targets:{audioEl:S,audioTuple:P,audio:T,audioLinkPathname:b,audioAccessKey:C}}),r.events.on(u.AudioPageEventType.Updated,(()=>{J()})),{init:I,$audio:T,$audioEl:S,$isAudioClaimed:K,$isEpisode:W,$isAlbum:H,$isCurrentAlbumSnippet:G,$isAudioHasSnippet:j,$audioPlaylists:M,$isShowAllPlaylists:L,$isAudioPlaylistsFetching:N,$loadingAddToPlaylistFullIdsMap:k,$addedPlaylistsFullIdsMap:U,$initializedPlaylistsFullIdsMap:B,$currentGroupId:D,setIsShowTooltip:y,copyAudioLinkFx:z,shareAudioFx:q,openEpisodeFx:$,openAlbumFx:X,setNextInPlayerQueueFx:Q,addAudioToNewPlaylistFx:x,toggleAddAudioToPlaylistFx:F,showAllPlaylistsFx:V,dislikesService:Y,events:f.listenable}}function A(e){return{audioEl:e.audioEl??null,audio:e.audio??null,audioTuple:e.audioTuple,audioLinkPathname:e?.audioLinkPathname||e.audio?.trackPageId||null,audioAccessKey:e?.audioAccessKey||null}}},991590:(e,t,r)=>{"use strict";r.d(t,{AudioRowMoreTooltipServiceEventType:()=>n});var n=function(e){return e.AudioLinkCopied="audioLinkCopied",e}({})},235447:(e,t,r)=>{"use strict";r.d(t,{ensureAudioRowMoreTooltipService:()=>_});var n=r(558137),a=r(32489),s=r(832486);const _=(0,n.makeSharedState)("audio/audioPage/audioRow/moreTooltip",(()=>(0,s.createAudioRowMoreTooltipService)({domain:(0,a.createDomain)("audio/audioPage/audioRow/moreTooltip"),name:"audio/audioPage/audioRow/moreTooltip"})),{version:3})},545549:(e,t,r)=>{"use strict";r.d(t,{ForwardElementRef:()=>n});const n=(0,r(296540).forwardRef)((function({element:e,getRootRef:t},r){return t&&a(t,e),a(r,e),null}));function a(e,t){e&&("function"==typeof e?e(t):e.current=t)}},863024:(e,t,r)=>{"use strict";r.d(t,{SaveUserForQuickLoginBox:()=>g});var n=r(474848),a=r(296540),s=r(866467),_=r(314309),c=r(211413),l=r(694244),u=r(782174),d=r(63614),p=r(303800),E=r(908242),m=r(454154);const g=({logoutUrl:e,onLogout:t,onClose:r})=>{const[g,A]=(0,a.useState)(!0),f=()=>{_.vkConnectNavigationCollector.logCancelOnExit(),r()};return(0,a.useEffect)((()=>{_.vkConnectNavigationCollector.logSaveLoginModalShow()}),[]),(0,n.jsxs)(l.ModalBox,{children:[(0,n.jsx)(u.ModalHeader,{onClose:f,closeAriaLabel:(0,s.getLang)("global_close"),children:(0,s.getLang)("vkconnect_logout_save_user_dialog_title")}),(0,n.jsx)(d.ModalBody,{insetLevel:1,children:(0,n.jsx)(p.Div,{children:(0,n.jsx)(c.SettingsCellSwitch,{description:(0,s.getLang)("vkconnect_logout_save_user_dialog_description_text"),checked:g,onChange:e=>A(e.target.checked),children:(0,s.getLang)("vkconnect_logout_save_user_dialog_description_title")})})}),(0,n.jsx)(E.ModalFooter,{actions:[(0,n.jsx)(m.Button,{size:"s",mode:"secondary",onClick:f,children:(0,s.getLang)("global_cancel")},"close"),(0,n.jsx)(m.Button,{size:"s",mode:"primary",onClick:()=>{let r="&save_user=0";g&&(r="&save_user=1"),t(`${e}${r}`)},children:(0,s.getLang)("global_head_logout")},"logout")]})]})}},996473:(e,t,r)=>{"use strict";r.d(t,{logout:()=>E,logoutForVKVideoStandalone:()=>A,logoutWithDialog:()=>g});var n=r(474848),a=r(957994),s=r(863024),_=r(211413),c=r(638112),l=r(586138),u=r(18992),d=r(319756),p=r(540462);const E=(e,t)=>{(0,p.partConfigEnabled)("clear_data_cache")&&(0,d.ensureDIRootWebContainer)().resolve(u.DataCache).clearDB(),(0,a.removeLoginCache)(e,t)},m=e=>{E(),window.location.href=e},g=(e,t=m)=>{(0,a.login)("check_user_saved").then((r=>{const{feature_enabled:a,is_user_saved:c}=r;a&&!c?(0,_.showMessageBoxModal)((r=>(0,n.jsx)(s.SaveUserForQuickLoginBox,{...r,logoutUrl:e,onLogout:t})),{width:420}):t(e)})).catch((()=>{t(e)}))},A=()=>{g("/",(()=>{(0,c.onVKVideoLogout)("/",l.VK_WEB_VKVIDEO_APP_ID,"al_video.php",m)}))}},556351:(e,t,r)=>{"use strict";r.d(t,{writeLogout:()=>c});var n=r(636576),a=r(146175),s=r(64323),_=r(239895);const c=(e="unknown",t="",r="")=>{if(!t)return;let c=0;try{const e=(0,a.imDbGet)(window.vk.id);Object.entries(e).forEach((function(e){const t=e[0],r=e[1];t.startsWith("draft_")&&(r.txt||r.attaches&&r.attaches.length)&&c++}))}catch(e){}r&&((0,s.logSwitcherDropAccount)(r),localStorage.setItem(_.NOTIFY_SWITCH_KEY,"0")),(0,s.prepareLogSwitchAccountEvent)(),(0,n.statlogsValueEvent)("logout_stat",e,t,c)}},265668:(e,t,r)=>{"use strict";r.d(t,{showCaptchaSDK:()=>_});var n=r(784022),a=r(657472),s=r(319756);const _=e=>new Promise((async(t,r)=>{try{const r=(0,s.ensureDIRootWebContainer)().resolve(n.CaptchaSDK);t(await r.handle(e))}catch(e){e!==a.CaptchaSDKEvents.NOT_INITIALIZE&&r(e)}}))},15614:(e,t,r)=>{"use strict";r.d(t,{UI_GALLERY_CLASSNAME:()=>n,UI_GALLERY_CONTENT_CLASSNAME:()=>s,UI_GALLERY_INNER_CLASSNAME:()=>a});const n="ui_gallery",a="ui_gallery__inner",s="ui_gallery__inner_cont"},541839:(e,t,r)=>{"use strict";r.d(t,{TOOLTIP_CLASSES_DEFAULT:()=>s,helpHintTooltip:()=>_});var n=r(761520),a=r(250598);const s="feature_intro_tt feature_intro_blue_tt feature_info_tooltip",_=(e,t,r={})=>{let _;const c={...{autoShow:!1,cls:s,content:t.content,withCloseButton:!0,noAutoHideOnWindowClick:!0,onHide:()=>{_?.destroy()},width:230},...r,onDestroy:()=>{var e;"isServerSideHideDisabled"in(e=t)&&e.isServerSideHideDisabled||n.ajax.post("al_index.php",{act:"help_hints_hide",hash:t.helpHintHash,hint_id:t.helpHintId}),t.onHideRequestSent?.(),r.onDestroy&&r.onDestroy()}};return"helpHintId"in t&&(c.helpHintId=t.helpHintId,c.skipShow=Boolean(t.skipShow)),_=new a.ElementTooltip(e,c),window.cur?.destroy?.push((()=>{_?.destroy()})),{tooltip:_}}},973365:(e,t,r)=>{"use strict";r.d(t,{DIRootWebProvider:()=>g,ensureDIRootWebContainer:()=>m});var n=r(474848),a=r(132028),s=r(407869),_=r(388337),c=r(847629),l=r(327570),u=r(376562),d=r(207011),p=r(685007),E=r(611780);function m(){return(0,s.ensureDIRootContainer)({SnackbarImpl:u.SnackbarImpl,PushNotifierImpl:d.PushNotifierImpl,PhotoViewerImpl:p.PhotoViewerImpl,GlobalAudioPlayerProviderImpl:l.WebGlobalAudioPlayerProvider,AudioPlatformConfigImpl:_.WebAudioPlatformConfig,ModelEventsHandlersImpl:E.ModelEventsHandlersImpl,MiniAppLaunchServiceImpl:c.WebMiniAppLaunchService})}function g({children:e}){return(0,n.jsx)(a.DIProvider,{instance:m(),children:e})}},611780:(e,t,r)=>{"use strict";r.d(t,{ModelEventsHandlersImpl:()=>_});var n=r(331635),a=r(132028),s=r(551178);class _{onStartInit({isPage:e}){e&&this.performanceStatsCore.send(s.PerformanceStatsCoreEventType.APP_INIT_STARTED)}onFinishInit({isPage:e}){e&&this.performanceStatsCore.send(s.PerformanceStatsCoreEventType.APP_INIT_DONE)}constructor(e){this.performanceStatsCore=e}}_=(0,n.__decorate)([a.scope.transient(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[void 0===s.PerformanceStatsCore?Object:s.PerformanceStatsCore])],_)},685007:(e,t,r)=>{"use strict";r.d(t,{PhotoViewerImpl:()=>s});var n=r(331635),a=r(132028);class s{async open(){console.log("Обозреватель фото не имплементирован")}}s=(0,n.__decorate)([a.scope.global()],s)},207011:(e,t,r)=>{"use strict";r.d(t,{PushNotifierImpl:()=>s});var n=r(331635),a=r(132028);class s{async canBeEnabled(){return!!window.pushNotifier&&await window.pushNotifier.canBeEnabled()}}s=(0,n.__decorate)([a.scope.global()],s)},376562:(e,t,r)=>{"use strict";r.d(t,{SnackbarImpl:()=>l});var n=r(331635),a=r(474848),s=r(132028),_=r(432465),c=r(344356);class l{show({text:e,duration:t,type:r,subtitle:n,action:s,before:l,interpolate:u,onClose:d}){const p={text:u?(0,a.jsx)(c.Interpolate,{children:e}):e};if(t&&(p.timeout=t),r&&(p.type=r),n&&(p.subtitle=u?(0,a.jsx)(c.Interpolate,{children:n}):n),s){const{onClick:e,...t}=s;p.action=t,e&&(p.action.onClick=(t,r)=>{e(t,r)})}l&&(p.before={avatar:l.avatar?{url:l.avatar}:void 0,content:l.content}),d&&(p.onClose=d),(0,_.showSnackbar)(p)}hide(e){(0,_.hideSnackbar)(e)}}l=(0,n.__decorate)([s.scope.global()],l)},327570:(e,t,r)=>{"use strict";r.d(t,{WebGlobalAudioPlayerProvider:()=>_});var n=r(331635),a=r(132028),s=r(103466);class _ extends s.GlobalAudioPlayerProvider{async lazyCreateImpl(){const{WebGlobalAudioPlayerImpl:e}=await Promise.all([r.e(91498),r.e(89631),r.e(762),r.e(79210),r.e(66060),r.e(25977),r.e(34854),r.e(65400),r.e(96736),r.e(73375),r.e(98271),r.e("langs/web/audio_web_globalPlayerImpl")]).then(r.bind(r,452309));return a.rootContainer.resolve(e)}}_=(0,n.__decorate)([a.scope.global()],_)},319756:(e,t,r)=>{"use strict";r.d(t,{DIRootWebProvider:()=>n.DIRootWebProvider,ensureDIRootWebContainer:()=>n.ensureDIRootWebContainer});var n=r(973365)},965494:(e,t,r)=>{"use strict";r.d(t,{EcoPlateAnalytics:()=>l,EcoPlateAnalyticsContext:()=>u});var n=r(317216),a=r(314309),s=r(19589),_=r(296540),c=r(831505);class l{updateThemeField(){this.theme=s.colorScheme.getMode()===s.ColorSchemeMode.Auto?"system":s.colorScheme.getMode()}init(e,t,r,n,a=!1){this.securityStatus=e===c.AccountSecurityLevelEnumNames.HAVE_ISSUES?"critical_vulnerabilities":e===c.AccountSecurityLevelEnumNames.HAVE_RECOMMENDATIONS?"protection_recommendations":"securely_protected",this.nftAvatar=t,this.isVerified=r,this.multiaccId=n,this.hasBanner=a,this.unsubscribeThemeListener=s.colorScheme.subscribe((()=>{this.updateThemeField()}))}getCommonFields(){const e=[{names:n.VkidEcosystemNavigationItem.AVATAR,values:n.VkidEcosystemNavigationItemPlace.ECOSYSTEM},{names:n.VkidEcosystemNavigationItem.VKID_LK,values:n.VkidEcosystemNavigationItemPlace.ECOSYSTEM},{names:n.VkidEcosystemNavigationItem.BALANCE,values:n.VkidEcosystemNavigationItemPlace.VK},{names:n.VkidEcosystemNavigationItem.QR_SIGN_IN,values:n.VkidEcosystemNavigationItemPlace.VK},{names:n.VkidEcosystemNavigationItem.SETTINGS,values:n.VkidEcosystemNavigationItemPlace.VK},{names:n.VkidEcosystemNavigationItem.THEME,values:n.VkidEcosystemNavigationItemPlace.VK},{names:n.VkidEcosystemNavigationItem.HELP,values:n.VkidEcosystemNavigationItemPlace.VK},{names:n.VkidEcosystemNavigationItem.LOGOUT,values:n.VkidEcosystemNavigationItemPlace.VK},{names:n.VkidEcosystemNavigationItem.SWITCHER,values:n.VkidEcosystemNavigationItemPlace.MULTIACCOUNT}];return this.hasBanner&&e.push({names:n.VkidEcosystemNavigationItem.AD_BANNER,values:n.VkidEcosystemNavigationItemPlace.VK}),{multiacc_id:this.multiaccId,metadata:JSON.stringify({security_status:this.securityStatus,theme:this.theme,nft_avatar:this.nftAvatar,is_verified:this.isVerified}),options:e}}logTopNavItemClick(e){e!==n.VkidEcosystemNavigationItemEventType.LOGOUT?a.vkIdEcosystemNavigationCollector.logEvent({event:n.VkidEcosystemNavigationItemEventType.TAP,item:e,...this.getCommonFields()}):a.vkIdEcosystemNavigationCollector.logEvent({event:n.VkidEcosystemNavigationItemEventType.LOGOUT,...this.getCommonFields()},{force:!0})}logThemeChange(){a.vkIdEcosystemNavigationCollector.logEvent({event:n.VkidEcosystemNavigationItemEventType.THEME_CHANGED,item:n.VkidEcosystemNavigationItem.THEME,...this.getCommonFields()})}logTopNavToggle(e){a.vkIdEcosystemNavigationCollector.logEvent({event:e?n.VkidEcosystemNavigationItemEventType.OPEN:n.VkidEcosystemNavigationItemEventType.CLOSE,...this.getCommonFields()})}logApiError(){a.vkIdEcosystemNavigationCollector.logEvent({event:n.VkidEcosystemNavigationItemEventType.ERROR_API,...this.getCommonFields()})}logSwitcherError(){a.vkIdEcosystemNavigationCollector.logEvent({event:n.VkidEcosystemNavigationItemEventType.ERROR_SWITCHER,...this.getCommonFields()})}logMultiaccAddAnotherTap(){a.vkIdEcosystemNavigationCollector.logEvent({event:n.VkidEcosystemNavigationItemEventType.ADD_ANOTHER_ACCOUNT_TAP,...this.getCommonFields()})}logMultaccSwitchAccountTap(){a.vkIdEcosystemNavigationCollector.logEvent({event:n.VkidEcosystemNavigationItemEventType.SWITCH_ACCOUNT_TAP,...this.getCommonFields()})}logMultaccDropAccountTap(){a.vkIdEcosystemNavigationCollector.logEvent({event:n.VkidEcosystemNavigationItemEventType.DROP_ACCOUNT_TAP,...this.getCommonFields()})}logSecurityRecommShow(){a.vkIdEcosystemNavigationCollector.logEvent({event:n.VkidEcosystemNavigationItemEventType.SECURITY_RECCOMENDATION_SHOW,...this.getCommonFields()})}logBannerDismiss(){a.vkIdEcosystemNavigationCollector.logEvent({event:n.VkidEcosystemNavigationItemEventType.HIDE,item:n.VkidEcosystemNavigationItem.AD_BANNER,...this.getCommonFields()})}unsubscribe(){this.unsubscribeThemeListener()}constructor(){this.securityStatus=null,this.nftAvatar=null,this.isVerified=null,this.unsubscribeThemeListener=()=>{},this.multiaccId="",this.hasBanner=null,this.updateThemeField()}}const u=(0,_.createContext)(void 0)},64323:(e,t,r)=>{"use strict";r.d(t,{logSwitchAccountEvent:()=>g,logSwitchAccountTapEvent:()=>E,logSwitcherAddAnotherTapEvent:()=>d,logSwitcherDropAccount:()=>p,logTopNavElements:()=>A,prepareLogSwitchAccountEvent:()=>m});var n=r(314309),a=r(338761);const s=new n.ProductionStatCollector,_=new n.ActionStatCollector(s),c=new n.RegistrationItemStatCollector(_),l=new a.VkConnectNavigationCollector;function u(e,t){const r=[],a=_.productionStatCollector.getCurrentTime(!1);return r.push({name:n.RegistrationFieldItemNames.TO_SWITCHER_FROM,value:e,start_interaction_time:a,end_interaction_time:a}),0===t&&r.push({name:n.RegistrationFieldItemNames.NAME_MULTIACC_ADD_ACCOUNT_TYPE,value:n.RegistrationFieldItemValues.ADD_ACCOUNT_CREATE_MULTIACC,start_interaction_time:a,end_interaction_time:a}),r}function d(e,t,r){c.logEvent(n.RegistrationItemEventTypes.MULTIACC_ADD_ANOTHER_ACCOUNT_TAP,n.EventScreens.MULTI_ACC_SWITCHER,n.EventScreens.NOWHERE,{force:!0},u(t,r),void 0,void 0,e)}function p(e,t="profile"){e&&(c.logEvent(n.RegistrationItemEventTypes.MULTIACC_DROP_ACCOUNT_TAP,n.EventScreens.MULTI_ACC_SWITCHER,n.EventScreens.NOWHERE,{force:!0},u(t),void 0,void 0,e),c.logEvent(n.RegistrationItemEventTypes.MULTIACC_DROP_ACCOUNT,n.EventScreens.MULTI_ACC_SWITCHER,n.EventScreens.NOWHERE,{force:!0},u(t),void 0,void 0,e))}function E(e,t){e&&c.logEvent(n.RegistrationItemEventTypes.SWITCH_ACCOUNT_TAP,n.EventScreens.MULTI_ACC_SWITCHER,n.EventScreens.NOWHERE,{force:!0},u(t),void 0,void 0,e)}function m(){window.vk.id&&sessionStorage.setItem("LOG_ACC_SWITCH",String(window.vk.id))}function g(e,t,r,a){e&&t&&r&&(c.logEvent(n.RegistrationItemEventTypes.SWITCH_FROM_ACCOUNT,n.EventScreens.MULTI_ACC_SWITCHER,n.EventScreens.NOWHERE,{force:!0},u(a),void 0,t,e),c.logEvent(n.RegistrationItemEventTypes.SWITCH_TO_ACCOUNT,n.EventScreens.MULTI_ACC_SWITCHER,n.EventScreens.NOWHERE,{force:!0},u(a),void 0,r,e))}function A(e){l.logTopNavElements(e)}},239895:(e,t,r)=>{"use strict";r.d(t,{APP_NAME:()=>n,LAST_ACC_ID_KEY:()=>_,LOG_ACC_SWITCH_KEY:()=>s,NOTIFY_SWITCH_KEY:()=>a});const n="EcosystemMultiAccountsEntry",a="multiacc_should_show_notifier",s="multacc_should_send_analytics",_="multiacc_last_id"},596706:(e,t,r)=>{"use strict";r.d(t,{init:()=>d,registerEvbusCommonEvents:()=>u});var n=r(338329),a=r(530107),s=r(246429),_=r(862566),c=r(984745),l=r(298077);const u=()=>{(0,a.tqi)().setHandler("Common/nav_go",(e=>{e.payload.event?.target&&window.nav.go(e.payload.event.target,e.payload.event,JSON.parse(e.payload.dataAttrs?.options||"{}"))}),!1),(0,a.tqi)().setHandler("Common/cur_box_hide",(()=>{(0,s.curBox)()?.hide()}),!1),(0,a.tqi)().setHandler("Common/show_menu_settings",(e=>{const t=e.payload.dataAttrs?.type?Number(e.payload.dataAttrs.type):void 0;(0,_.loadMenuSettingsBox)(t)}),!1),(0,a.tqs)().setHandler("HelpHints/init",(({payload:{target:e}})=>{e?.remove(),(0,c.ensureAccountHelpHintsService)().initialize({viewerId:window.vk?.id,logErrorFn:l.logError})}),!0)},d=()=>{(0,n.init)()}},766135:(e,t,r)=>{"use strict";r.d(t,{getFeedPageLoadingState:()=>c});var n=r(558137),a=r(433409),s=r(54121);const _=()=>{const e={requestState:"initial",cancellationToken:null,setRequestStarted:()=>(e.cancellationToken&&(s.debugConsole.error(`FeedPageLoader: cancellationToken is not null, cancel previous request with state '${e.requestState}'`),e.cancellationToken.cancel()),e.cancellationToken=new a.AjaxCancellationToken,e.requestState="loading",e.cancellationToken),setRequestState:t=>{e.cancellationToken=null,e.requestState=t}};return e},c=(0,n.makeSharedState)("feed_page_skeleton",(()=>({content:_(),rightBlock:_(),skeleton:{html:void 0,hasSkeleton:!1}})),{version:1})},41310:(e,t,r)=>{"use strict";r.d(t,{FeedPath:()=>n,checkIsInFeed:()=>a});var n=function(e){return e.feed="feed",e.al_feed="al_feed.php",e}({});const a=(e=window.nav?.objLoc[0])=>new Array("feed","al_feed.php").includes(e)},170001:(e,t,r)=>{"use strict";r.d(t,{FEED_OFFLINE_MODE_FIELD:()=>n,PageCacheState:()=>a});const n="feed_offline_mode_state";var a=function(e){return e.Active="active",e.Inactive="inactive",e[e.Unset="%%pageCacheState%%"]="Unset",e}({})},892369:(e,t,r)=>{"use strict";r.d(t,{handleSWResponse:()=>c,handleSWTimingsMessage:()=>_});var n=r(596181),a=r(558137);const s=(0,a.makeSharedState)("feed_with_offline_mode_sw_timings_data",(()=>({})),{version:1}),_=e=>{s().timings=e},c=()=>{const e=Date.now(),{timings:t}=s();if(!t?.lastTimestamp)return;const{lastTimestamp:r,...a}=t;(e=>{const{gettingFromCache:t,fetching:r,gettingFromCacheOnError:a,puttingIntoCache:s,postingFeedStateMessage:_,responding:c}=e;new n.DevNullStatCollector(new n.CustomStatCollector).logEvent({key:"feed_with_offline_mode_sw_content_timings",value:t,value2:r,value3:a,value4:s,value5:_,value6:c})})({...a,responding:e-r})}},954961:(e,t,r)=>{"use strict";r.d(t,{isPageCacheStateActive:()=>a,setPageCacheState:()=>s});var n=r(170001);const a=()=>window.vk.pageCacheState===n.PageCacheState.Active,s=e=>{window.vk.pageCacheState=e}},54121:(e,t,r)=>{"use strict";r.d(t,{debugConsole:()=>n});const n=(0,r(332303).createDebugConsole)("__feed_page_load_debug_logs")},91871:(e,t,r)=>{"use strict";r.d(t,{feedLoadingNavigationHandler:()=>s});var n=r(540462),a=r(41310);function s(e){if((0,n.partConfigEnabled)("web_spa_feed"))return;const{dest:t,where:s,debugLog:_,opts:c}=e;return"string"==typeof t&&(0,a.checkIsInFeed)(t)&&!c.back?(0,n.partConfigEnabled)("feed_web_skeleton_on_navigation_enabled")&&!s.params?.section?(_("feed_page_skeleton"),Promise.all([r.e(91498),r.e(89631),r.e(50524),r.e(37897),r.e(4752),r.e(29311),r.e("langs/web/feed-client-nav-skeleton")]).then(r.bind(r,138129)).then((({handleNavigationWithClientSkeleton:t})=>{t(e)})),!1):(0,n.partConfigEnabled)("feed_web_async_right_block")?(_("feed_page_async_right_block"),Promise.all([r.e(91498),r.e(89631),r.e(50524),r.e(37897),r.e(4752),r.e(56091),r.e("langs/web/feed-client-nav-async-right-block")]).then(r.bind(r,499162)).then((({handleNavigationWithAsyncRightBlock:t})=>{t(e)})),!1):void 0:void 0}},153663:(e,t,r)=>{"use strict";r.d(t,{getBaseDataFromPost:()=>l,getNearestPost:()=>_,getQuery:()=>g,getSection:()=>m,getTrackCodeFromPost:()=>c,isFeedInitiated:()=>E,resolveRef:()=>u,resolveRefFromCur:()=>d,setFeedInitiated:()=>p});var n=r(15874),a=r(130097),s=r(540462);const _=e=>e?.closest(n.WEB_WALL_POST_WITH_TRACK_CODE_SELECTOR)??null,c=e=>{const t=_(e),r=t?.getAttribute("data-post-track-code");return r??null},l=e=>{const t=_(e);if(!t)return null;const r=t?.getAttribute("data-post-track-code"),n=t?.getAttribute("data-post-id");return{trackCode:r??null,postId:n??null}},u=(e,t,r)=>"feed"==e?"search"==t?"feed_search":"news"==t?r?"feed_news_"+r:"feed_news":"recommended"==t?r?"feed_recommended_"+r:"feed_recommended":"friends"==t?r?"feed_friends_"+r:"feed_friends":"groups"==t?r?"feed_groups_"+r:"feed_groups":"videos"==t?r?"feed_videos_"+r:"feed_videos":"photos"==t?r?"feed_photos_"+r:"feed_photos":"podcasts"==t?r?"feed_podcasts_"+r:"feed_podcasts":"list"==t?r?"feed_list_"+r:"feed_list":"comments"==t&&(0,s.partConfigEnabled)("feed_analytics_for_comments")?r?"feed_comments_"+r:"feed_comments":"feed_other":e,d=()=>u(window.cur.module,window.cur.section,window.cur.subsection);function p(){window.cur.isFeedInitiated=!0,(0,a.dispatchFeedInitiatedEvent)()}function E(){return Boolean(window.cur.isFeedInitiated)}function m(){return window.cur.section?window.cur.section:void 0}function g(){return window.cur.q||""}},130097:(e,t,r)=>{"use strict";r.d(t,{FeedCustomEventName:()=>a,dispatchFeedInitiatedEvent:()=>_,dispatchQueryChangedEvent:()=>l,dispatchSectionChangedEvent:()=>c});var n=r(540462),a=function(e){return e.FEED_INITIATED="feed_initiated",e.SECTION_CHANGED="section_changed",e.QUERY_CHANGED="query_changed",e}({});function s(){return(0,n.partConfigEnabled)("stories_web_dispatch_events_from_microtasks")?queueMicrotask:setTimeout}function _(){s()((()=>{window.dispatchEvent(new CustomEvent("feed_initiated"))}))}function c(e){s()((()=>{window.dispatchEvent(new CustomEvent("section_changed",{detail:e}))}))}function l(e){s()((()=>{window.dispatchEvent(new CustomEvent("query_changed",{detail:e}))}))}},457498:(e,t,r)=>{"use strict";r.d(t,{GiftRef:()=>n,getAllGiftsRefInTooltip:()=>s,getGiftRefInTooltip:()=>a});var n=function(e){return e.PROFILE_BUTTON="profile_button",e.PROFILE_MODULE="profile_module",e.PROFILE_TOOLTIP="profile_tooltip",e.PROFILE_TOOLTIP_ALL="profile_tooltip_all",e}({});function a(e){return e.type?`profile_tooltip__${e.type}`:"profile_tooltip"}function s(e){return e.type?`profile_tooltip_all__${e.type}`:"profile_tooltip"}},878163:(e,t,r)=>{"use strict";r.d(t,{boxQueue:()=>s});var n=r(972332),a=r(802991);const s={skip:void 0,_boxes:[],curBox:0,_emitter:new(r(584053).Emitter),get events(){return s._emitter.listenable},getAll(){const e=[];return s._boxes.forEach((t=>{const r=window._message_boxes[t];r&&e.push(r)})),e},hideAll:function(e,t){if(e)for(;s.count();)s.hideLast();else{if(s.count()){const e=s._boxes.pop();(0,a.assertNotNull)(e);const r=window._message_boxes[e];r&&(r._in_queue=!1,r._hide(!1,!1,t))}for(;s.count();){const e=s._boxes.pop();(0,a.assertNotNull)(e);window._message_boxes[e]._in_queue=!1}}},hideAllNoCheck(){for(;s.count();)s.hideLast(!1)},hideLast:function(e,t){if(s.count()){const r=window._message_boxes[s._boxes[s.count()-1]],n=t&&t.target&&t.target instanceof Element&&t.target.tagName&&"input"!==t.target.tagName.toLowerCase()&&window.cur.__mdEvent&&t.target!==window.cur.__mdEvent.target;if(!0===e&&(r.changed||r.preventHideLastWithCheck||s.skip||n))return void(s.skip=!1);r.hide()}if(t&&"click"===t.type)return(0,n.cancelEvent)(t)},hideLastCheck:function(e){return s.hideLast(!0,e)},isBackdropClick:function(e){return!(e.target instanceof Element&&e.target.closest(".box_layout"))},handleBackdropClick:function(e){s.isBackdropClick(e)&&s.hideLastCheck(e)},hideBGClick:function(e){e&&e.target instanceof Element&&e.target.id.startsWith("box_layer")&&s.hideLast()},count:function(){return s._boxes.length},_show:function(e){const t=window._message_boxes[e];if(!t||t._in_queue)return;s.count()?window._message_boxes[s._boxes[s.count()-1]]._hide(!0,!0):window.tooltips&&window.tooltips.hideAll(),t._in_queue=!0;let r=!!s.count();r&&(r=s._boxes.every((e=>!!window._message_boxes[e]&&!window._message_boxes[e].forceHide))),s.curBox=e,t._show(!0,r),s._boxes.push(e),s._emitter.emit("show",{box:t})},_hide:function(e){const t=window._message_boxes[e];if(t&&t._in_queue&&s._boxes[s.count()-1]===e&&t.isVisible()&&(t._in_queue=!1,s._boxes.pop(),t._hide(!!s.count()),s._emitter.emit("hide",{box:t}),s.count())){const e=s._boxes[s.count()-1];s.curBox=e,window._message_boxes[e]._show(!0,!0,!0)}}}},624199:(e,t,r)=>{"use strict";r.d(t,{_handleResponseExtraPayloads:()=>l,replaceExtraHandler:()=>c});var n=r(558137),a=r(825127),s=r(298077);const _=(0,n.makeSharedState)("ajax-extra-handlers",(()=>new a.default),{version:0}),c=(e,t)=>(_().removeAllListeners(e),((e,t)=>(_().addListener(e,t),()=>{_().removeListener(e,t)}))(e,t)),l=e=>{var t;null!==(t=e)&&"object"==typeof t&&Object.keys(e).forEach((t=>{try{r=t,n=e[t],_().emit(r,n)}catch(e){const r={message:"Extra response error",data:{extraKey:t}};(0,s.logError)(e,{environment:"ajax_request",breadcrumb:r}),console.error(e)}var r,n}))}},287227:(e,t,r)=>{"use strict";r.d(t,{subscribeOnModuleEvaluated:()=>_,triggerSubscribersOnModuleEvaluated:()=>u,unsubscribeOnModuleEvaluated:()=>l,waitModuleEvaluate:()=>c});const n=(0,r(558137).makeSharedState)("module-evaluation",(()=>({subscribes:[],subscribesOnce:[]})),{version:1})(),a=n.subscribes,s=n.subscribesOnce;function _(e,t=!1){"function"==typeof e&&(t?s.push(e):a.push(e))}function c(e=100){return new Promise((t=>{const r=window.setTimeout((()=>t()),e);_((()=>{clearTimeout(r),t()}),!0)}))}function l(e){const t=a.indexOf(e),r=s.indexOf(e);t>=0&&a.splice(t,1),r>=0&&s.splice(r,1)}function u(){a.forEach((e=>e())),s.forEach((e=>e())),s.splice(0,s.length)}},383641:(e,t,r)=>{"use strict";r.d(t,{authFailed:()=>u});var n=r(6898),a=r(957994),s=r(754866),_=r(618123),c=r(891787),l=r(386477);const u=(()=>{let e,t=[];return(u,d,p)=>{t.push((()=>{u.resend(p,(0,l.resetOptionsCache)(u))})),e||(e=(e=>new Promise(((t,a)=>{let c;const l=(0,s.ce)("iframe",{src:`${(0,_.getLoginDomain)()}?${(0,n.toQueryString)({role:"al_frame",_origin:window.location.origin,ip_h:e[0]||window.vk.ip_h,to:e[1]||"",lrt:e[2]||""})}`}),u=(e,r,n)=>{clearTimeout(c),l.remove(),t({toUrl:e,userInfo:r,actionType:n})},d=(e,t)=>{clearTimeout(c),l.remove(),a({toRoot:e,toUrl:t})};c=window.setTimeout((()=>{window.onReLoginDone===u&&r._dG("onReLoginDone",void 0),window.onReLoginFailed===d&&r._dG("onReLoginFailed",void 0),a()}),16e3),r._dG("onReLoginDone",u),r._dG("onReLoginFailed",d),window.utilsNode.appendChild(l)})))(d).then((e=>{e.toUrl&&"need_redirect"===e.actionType?c.Nav.go(e.toUrl,null,{hard:!0}):t.forEach((e=>e()))}),(e=>{if(!e)return;const{toUrl:t,toRoot:r}=e;(0,a.removeLoginCache)(),t?c.Nav.go(t,null,{hard:!0}):-1!==r?r&&c.Nav.go("/"):window.location.href=location.href.replace(/^http:/,"https:")})).finally((()=>{t=[],e=void 0})))}})()},386477:(e,t,r)=>{"use strict";r.d(t,{resetOptionsCache:()=>n});const n=e=>e.cache?{...e,cache:-1}:e},694196:(e,t,r)=>{"use strict";r.d(t,{logRefreshCaptcha:()=>c});var n=r(314309);const a=new n.ProductionStatCollector,s=new n.ActionStatCollector(a),_=new n.CaptchaClientItemStatCollector(s);function c(){_.logEvent(n.CaptchaClientItemEventTypes.CAPTCHA_REFRESH,n.CaptchaEventScreens.CAPTCHA)}},502500:(e,t,r)=>{"use strict";r.d(t,{staticManagerModuleName:()=>n});const n="static_manager"},677508:(e,t,r)=>{"use strict";r.d(t,{curReady:()=>d,isCurReady:()=>c,onCurReady:()=>l});var n=r(540462),a=r(636576),s=r(298077);const _=(0,r(558137).makeSharedState)("cur-loading-state",(()=>({isReady:!1,onReadyCallbacks:[]})),{version:1}),c=()=>_().isReady,l=e=>{_().onReadyCallbacks.push(e),_().isReady&&e()};class u extends Error{constructor(e,t){super(`The cur.module values differ. In bootstrap value - "${e}", after cur ready - "${t}"`),this.curModuleBootstrap=e,this.curModuleOnReady=t,this.name="CurModuleDiffError"}}const d=()=>{_().isReady=!0;for(let e of _().onReadyCallbacks)e();if((0,n.partConfigEnabled)("log_web_cur_module_desync")){const e=window[Symbol.for("curModuleBootstrap")]||"undefined",t=window.cur?.module||"undefined";e!==t&&((0,a.statlogsValueEvent)("web_cur_module_desync",1,"cur_module",e,t,window.location.toString()),(0,s.logError)(new u(e,t)))}}},99968:(e,t,r)=>{"use strict";r.d(t,{getWindowCurDefaults:()=>n,resetWindowCur:()=>a});const n=()=>({beforeNavigateRequestHandlers:[],destroy:[],nav:[]}),a=(e=!1)=>{const t=window.cur;return r._dG("cur",n()),e&&t&&(window.cur.lang=t.lang),void 0!==t&&"function"==typeof t.onAfterReset&&t.onAfterReset(t,window.cur),window.cur}},618123:(e,t,r)=>{"use strict";function n(){return window.vk.loginDomain}r.d(t,{getLoginDomain:()=>n})},270959:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{MessageBox:()=>MessageBox,showBox:()=>showBox,showCaptchaBox:()=>showCaptchaBox,showFastBox:()=>showFastBox,showReCaptchaBox:()=>showReCaptchaBox,showTabbedBox:()=>showTabbedBox});var _ui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(683234),_debug_tools__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(237625),_dom_events__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(972332),_ui_util__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(560377),_dom__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(754866),_utils_common__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(593159),_lang__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(102088),_shared_lib_convert__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6898),_box_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(246429),_accessibility__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(576854),_icons_desktop__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(680208),_icons_desktop__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(963251),_icons_desktop__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(53495),_web_ui_FlatButton__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(952661),_shared_lib_dom__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(581197),_vkontakte_vkjs__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(8520),_shared_lib_js_logger__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(298077),_shared_asserts_assertNotNull__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(802991),_shared_user_user_env__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(540462),_web_lib_captcha_stats__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(694196),_shared_accessibility_accessibility__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(570366),_shared_lib_ee__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(825127);const FULLSCREEN_BOX_CLASSNAME="box_layer_fullscreen",MessageBox=function(_options){this instanceof MessageBox||(0,_shared_lib_js_logger__WEBPACK_IMPORTED_MODULE_13__.logError)(new Error('Missed "new" before "MessageBox"'));const defaults={title:!1,titleControls:"",containerClass:"",width:450,height:"auto",bodyStyle:{},grey:!1,white:!1,selfDestruct:!0,progress:!1,hideOnBGClick:!1,hideButtons:!1,onShow:!1,onBeforeHide:!1,onHide:!1,onClose:!1,onClean:!1,onDestroy:!1,preventHideLastWithCheck:!1,refreshCoordsOnTimeout:!1};let options=(0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.extend)(defaults,_options);const guid=window._message_box_guid++;let visible=!1;const btns={ok:[],cancel:[]};let boxTitleBck,retBox,progressId=options.progress||"";progressId||(progressId="box_progress"+guid);const controlsStyle=options.hideButtons?' style="display: none"':"",boxContainer=(0,_dom__WEBPACK_IMPORTED_MODULE_4__.ce)("div",{className:(0,_vkontakte_vkjs__WEBPACK_IMPORTED_MODULE_12__.classNames)("popup_box_container",options.containerClass,!1===options.needShadow&&"popup_box_container--no-shadow"),innerHTML:`\n<div class="box_layout" data-testid="box_layout">\n  <div class="box_title_wrap">\n    <div class="box_x_button" aria-label="${(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("global_close")}" tabindex="0" role="button" data-testid="box_x_button">${(0,_icons_desktop__WEBPACK_IMPORTED_MODULE_17__.getIcon20Cancel)().icon}</div>\n    <div class="box_title_controls"></div>\n    <div role="heading" aria-level="2" data-testid="box_title_text" class="box_title"></div>\n  </div>\n\n  <div class="box_body"></div>\n  ${options.noControls?"":`\n  <div class="box_controls_wrap" ${controlsStyle}>\n    <div class="box_controls">\n      <div class="box_controls_buttons fl_r"></div>\n\n      <div class="progress" id="${progressId}"></div>\n\n      <div class="box_controls_text">${options.textControls||""}</div>\n    </div>\n  <div>`}\n</div>`}),boxTitleWrap=boxContainer.querySelector(".box_title_wrap");(0,_shared_asserts_assertNotNull__WEBPACK_IMPORTED_MODULE_18__.assertNotNull)(boxTitleWrap);const boxCloseButton=boxTitleWrap.querySelector(".box_x_button");(0,_shared_asserts_assertNotNull__WEBPACK_IMPORTED_MODULE_18__.assertNotNull)(boxCloseButton);const boxTitle=boxTitleWrap.querySelector(".box_title");(0,_shared_asserts_assertNotNull__WEBPACK_IMPORTED_MODULE_18__.assertNotNull)(boxTitle);const boxTitleControls=boxTitleWrap.querySelector(".box_title_controls");function onClose(){(0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.isFunction)(options.onClose)&&options.onClose()}(0,_shared_asserts_assertNotNull__WEBPACK_IMPORTED_MODULE_18__.assertNotNull)(boxTitleControls),options.noCloseButton&&(0,_dom__WEBPACK_IMPORTED_MODULE_4__.hide)(boxCloseButton);const boxLayoutNode=boxContainer.querySelector(".box_layout");(0,_shared_asserts_assertNotNull__WEBPACK_IMPORTED_MODULE_18__.assertNotNull)(boxLayoutNode);const boxBody=boxContainer.querySelector(".box_body");(0,_shared_asserts_assertNotNull__WEBPACK_IMPORTED_MODULE_18__.assertNotNull)(boxBody);const boxControlsWrap=boxContainer.querySelector(".box_controls_wrap");let boxButtons=null,boxProgress=null,boxControlsText=null;boxControlsWrap&&(boxButtons=boxControlsWrap.querySelector(".box_controls_buttons"),boxProgress=boxControlsWrap.querySelector(".progress"),boxControlsText=boxControlsWrap.querySelector(".box_controls_text")),options.fullscreen&&window.boxLayer.classList.add(FULLSCREEN_BOX_CLASSNAME),options.isReactModal||(boxContainer.setAttribute("role","dialog"),boxContainer.setAttribute("aria-modal","true"),options["aria-label"]&&boxContainer.setAttribute("aria-label",options["aria-label"])),boxContainer.setAttribute("tabindex","-1"),window.boxLayer.appendChild(boxContainer),options.bodyStyle&&applyBodyStyle(options.bodyStyle),refreshBox(),(0,_box_utils__WEBPACK_IMPORTED_MODULE_8__.boxRefreshCoords)(boxContainer);const emitter=new _shared_lib_ee__WEBPACK_IMPORTED_MODULE_16__.default;function applyBodyStyle(e){if((0,_shared_asserts_assertNotNull__WEBPACK_IMPORTED_MODULE_18__.assertNotNull)(boxBody),"string"==typeof e){const t=e.split(";");for(let e=0,r=t.length;e<r;e++){const r=t[e].split(":");r.length>1&&r[0].length&&(boxBody.style[(0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.trim)(r[0])]=(0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.trim)(r[1]),boxBody.style.setProperty&&boxBody.style.setProperty((0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.trim)(r[0]),(0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.trim)(r[1]),""))}}else(0,_vkontakte_vkjs__WEBPACK_IMPORTED_MODULE_12__.isObject)(e)&&Object.assign(boxBody.style,e)}function setInitialFocus(){const e=boxCloseButton?[boxCloseButton]:[];(0,_shared_accessibility_accessibility__WEBPACK_IMPORTED_MODULE_19__.setFocusIsNeed)(boxContainer,e),boxContainer&&!boxContainer.contains(document.activeElement)&&boxContainer.focus()}function refreshBox(){(0,_shared_asserts_assertNotNull__WEBPACK_IMPORTED_MODULE_18__.assertNotNull)(boxTitle),(0,_shared_asserts_assertNotNull__WEBPACK_IMPORTED_MODULE_18__.assertNotNull)(boxTitleWrap),(0,_shared_asserts_assertNotNull__WEBPACK_IMPORTED_MODULE_18__.assertNotNull)(boxTitleControls),boxTitleBck||((0,_shared_asserts_assertNotNull__WEBPACK_IMPORTED_MODULE_18__.assertNotNull)(boxBody),options.title?(boxTitle.innerHTML=options.title,boxBody.classList.remove("box_no_title"),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.show)(boxTitleWrap)):(boxBody.classList.add("box_no_title"),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.hide)(boxTitleWrap))),options.titleTransparent&&(boxTitleWrap.classList.add("box_title_wrap--transparent"),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.show)(boxTitleWrap)),options.titleControls&&(boxTitleControls.innerHTML=options.titleControls),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.toggleClass)(boxBody,"box_no_buttons",options.hideButtons),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.toggleClass)(boxTitleWrap,"box_grey",options.grey),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.toggleClass)(boxTitleWrap,"box_white",options.white),boxContainer.classList.toggle("popup_box_container--no-shadow",!1===options.needShadow),boxContainer.style.width="string"==typeof options.width?options.width:options.width+"px",boxContainer.style.height="string"==typeof options.height?options.height:options.height+"px"}function addButtonInternal(e,t,r,n,a){let s,_;"no"===r||"gray"===r||"neutral"===r?(s="neutral"===r?_web_ui_FlatButton__WEBPACK_IMPORTED_MODULE_10__.FlatButtonAppearance.SECONDARY:_web_ui_FlatButton__WEBPACK_IMPORTED_MODULE_10__.FlatButtonAppearance.TERTIARY,_="cancel"):(s=_web_ui_FlatButton__WEBPACK_IMPORTED_MODULE_10__.FlatButtonAppearance.PRIMARY,_="ok");const c=_web_ui_FlatButton__WEBPACK_IMPORTED_MODULE_10__.FlatButton.render({appearance:s,size:_web_ui_FlatButton__WEBPACK_IMPORTED_MODULE_10__.FlatButtonSize.M,children:e,restAttrs:{id:n||"",...a||{}}});return c.addEventListener("click",(e=>{emitter.emit(_,retBox),t.apply(null,[c,e])})),boxButtons&&boxButtons.prepend(c),btns[_].push(c),c}function setControlsText(e){boxControlsText&&(boxControlsText.innerHTML=e)}function removeButtons(){(0,_shared_asserts_assertNotNull__WEBPACK_IMPORTED_MODULE_18__.assertNotNull)(boxButtons),(0,_shared_lib_dom__WEBPACK_IMPORTED_MODULE_11__.emptyNode)(boxButtons),btns.ok.length=btns.cancel.length=0}const destroyMe=()=>{(0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.isFunction)(options.onClean)&&options.onClean(),(0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.isFunction)(options.onDestroy)&&options.onDestroy(),options.noControls||removeButtons(),options.fullscreen&&window.boxLayer.classList.remove(FULLSCREEN_BOX_CLASSNAME),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.cleanElems)(boxContainer,boxCloseButton,boxTitleWrap,options.noControls?void 0:boxControlsWrap),window.boxLayer.removeChild(boxContainer),delete window._message_boxes[guid]},hideMe=(e,t,r)=>{visible&&(visible=!1,options.hideOnBGClick&&(0,_dom_events__WEBPACK_IMPORTED_MODULE_2__.removeEvent)(document,"click",window.boxQueue.hideBGClick),(0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.isFunction)(options.onBeforeHide)&&options.onBeforeHide(),window._message_boxes[guid].shOther||e||window.layers.boxhide(),!t&&options.selfDestruct?destroyMe():(0,_dom__WEBPACK_IMPORTED_MODULE_4__.hide)(boxContainer),(0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.isFunction)(options.onHide)&&options.onHide(r),retBox.emit("afterHide",retBox))},hideMeInternal=({showingOther:e,tempHiding:t,noLoc:r})=>{hideMe(e,t,r)};function showMe(e,t,r){visible||!window._message_boxes[guid]||window._message_boxes[guid].forceHide||(visible=!0,options.hideOnBGClick&&(0,_dom_events__WEBPACK_IMPORTED_MODULE_2__.addEvent)(document,"click",window.boxQueue.hideBGClick),t||window.layers.boxshow(),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.show)(boxContainer),(0,_box_utils__WEBPACK_IMPORTED_MODULE_8__.boxRefreshCoords)(boxContainer),options.onShow&&options.onShow(r))}return(0,_dom_events__WEBPACK_IMPORTED_MODULE_2__.addEvent)(boxCloseButton,"click",(()=>{onClose(),window.boxQueue.hideLast()})),(0,_dom_events__WEBPACK_IMPORTED_MODULE_2__.addEvent)(boxCloseButton,"keydown",(e=>{"Enter"===e.key&&(onClose(),window.boxQueue.hideAll())})),retBox=window._message_boxes[guid]={guid,_show:showMe,_hide:hideMe,boxLayoutNode,bodyNode:boxBody,controlsTextNode:boxControlsText,titleWrap:boxTitleWrap,btns,show:function(){return window.boxQueue._show(guid),setInitialFocus(),this},progress:boxProgress||void 0,showCloseProgress:()=>boxTitleWrap.classList.add("box_loading"),hideCloseProgress:()=>boxTitleWrap.classList.remove("box_loading"),showProgress:function(){(0,_dom__WEBPACK_IMPORTED_MODULE_4__.hide)(boxControlsText),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.show)(boxProgress)},hideProgress:function(){(0,_dom__WEBPACK_IMPORTED_MODULE_4__.hide)(boxProgress),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.show)(boxControlsText)},hide:function(e){return!((0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.isFunction)(options.onHideAttempt)&&!options.onHideAttempt(e))&&(window.boxQueue._hide(guid),!0)},_hideForce:function(){window.boxQueue._hide(guid)},_hideInternal:hideMeInternal,isVisible:function(){return visible},bodyHeight:function(){return(0,_dom__WEBPACK_IMPORTED_MODULE_4__.getStyle)(boxBody,"height")},content:function(e){return(0,_shared_asserts_assertNotNull__WEBPACK_IMPORTED_MODULE_18__.assertNotNull)(boxBody),options.onClean&&options.onClean(),"string"==typeof e?boxBody.innerHTML=e:e instanceof HTMLElement&&(boxBody.innerHTML="",boxBody.appendChild(e)),options.refreshCoordsOnTimeout?setTimeout((()=>{(0,_box_utils__WEBPACK_IMPORTED_MODULE_8__.boxRefreshCoords)(boxContainer)})):(0,_box_utils__WEBPACK_IMPORTED_MODULE_8__.boxRefreshCoords)(boxContainer),refreshBox(),(0,_accessibility__WEBPACK_IMPORTED_MODULE_9__.updateAriaElements)(),setInitialFocus(),this},emit:function(e,t){emitter.emit(e,t)},addButton:function(e,t,r,n,a,s){const _=addButtonInternal(e,t||this.hide,r,a,s);return n?_:this},setButtons:function(e,t,r,n){return removeButtons(),e?(this.addButton(e,t),r&&this.addButton(r,n,"no"),this):this.addButton((0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("box_close"))},setControlsText,removeButtons:function(){return removeButtons(),this},setBackTitle:function(e){boxTitle&&(e?(boxTitle.innerHTML='<div class="back"><span class="back__icon">'+(0,_icons_desktop__WEBPACK_IMPORTED_MODULE_20__.getIcon24BrowserBack)().icon+"</span>"+(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("global_box_title_back")+"</div>",boxTitleBck=options.title,options.title=boxTitle.innerHTML,setTimeout((function(){const t=boxTitle.querySelector(".back");t&&(t.onclick=e)}),100)):boxTitleBck&&(boxTitle.innerHTML=options.title=boxTitleBck,boxTitleBck=void 0))},destroy:destroyMe,getOptions:function(){return options},on:function(e,t){emitter.on(e,t)},once:function(e,t){emitter.once(e,t)},updateBoxCoords(){(0,_box_utils__WEBPACK_IMPORTED_MODULE_8__.boxRefreshCoords)(boxContainer)},setOptions:function(e){return options.hideOnBGClick&&(0,_dom_events__WEBPACK_IMPORTED_MODULE_2__.removeEvent)(document,"click",window.boxQueue.hideBGClick),options=(0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.extend)(options,e),options.bodyStyle&&applyBodyStyle(options.bodyStyle),options.hideOnBGClick&&(0,_dom_events__WEBPACK_IMPORTED_MODULE_2__.addEvent)(document,"click",window.boxQueue.hideBGClick),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.toggle)(boxControlsWrap,!options.hideButtons),refreshBox(),options.noRefreshCoords||(0,_box_utils__WEBPACK_IMPORTED_MODULE_8__.boxRefreshCoords)(boxContainer),this},evalBox:function(js,url,params){const scr="((function() { return function() { var box = this; "+(js||"")+";}; })())";if(window.__debugMode){const fn=eval(scr);fn.apply(this,[url,params])}else try{const fn=eval(scr);fn.apply(this,[url,params])}catch(e){(0,_ui_util__WEBPACK_IMPORTED_MODULE_3__.topError)(e,{dt:15,type:7,url,query:params?(0,_shared_lib_convert__WEBPACK_IMPORTED_MODULE_7__.toQueryString)(params):void 0,js}),(0,_debug_tools__WEBPACK_IMPORTED_MODULE_1__.logEvalError)(e,scr)}},preventHideLastWithCheck:options.preventHideLastWithCheck,needHideLastCheck:options.needHideLastCheck,execInline:function(e){window.vk.inline[e](this),delete window.vk.inline[e]}},retBox};function showBox(e,t,r={},n){if((0,_dom_events__WEBPACK_IMPORTED_MODULE_2__.checkEvent)(n))return!1;const a=r.params||{};r.containerClass&&(a.containerClass=r.containerClass);let s=Date.now().toString(36);t&&(t.boxhash=s);const _=new MessageBox(a);_.boxhash=s;const c={onDone:function(n,c,l,u){if(r.preOnDone&&r.onDone&&r.onDone(_),t&&(0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.isFunction)(t.onMessageSend)&&window.WriteBox&&window.WriteBox.once("message_sended",t.onMessageSend),_.isVisible())if(window.__debugMode)d();else try{d()}catch(r){(0,_ui_util__WEBPACK_IMPORTED_MODULE_3__.topError)(r,{dt:15,type:103,url:e,query:(0,_shared_lib_convert__WEBPACK_IMPORTED_MODULE_7__.toQueryString)(t),answer:Array.prototype.slice.call(arguments).join("<!>")}),_.isVisible()&&_.hide()}else r.onDone&&r.onDone(_,u);function d(){(0,_dom__WEBPACK_IMPORTED_MODULE_4__.show)(window.boxLayerBG),document.body.classList.add("layers_shown"),_.setOptions({title:n,hideButtons:a.hideButtons||!1,noCloseButton:a.noCloseButton||!1,titleTransparent:a.titleTransparent||!1,bodyStyle:a.bodyStyle}),r.showProgress?_.show():(0,_dom__WEBPACK_IMPORTED_MODULE_4__.show)(_.bodyNode),_.content(c),r.noEval?_.execInline(s):_.evalBox(l,e,t),r.onDone&&r.onDone(_,u)}},onFail:function(e){return _.failed=!0,setTimeout(_.hide,0),!!(0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.isFunction)(r.onFail)&&r.onFail(e)},cache:r.cache,stat:r.stat,fromBox:!0,showProgress:()=>{},hideProgress:()=>{}};return r.prgEl&&(r.showProgress=()=>(0,_ui_util__WEBPACK_IMPORTED_MODULE_3__.showGlobalPrg)(r.prgEl,{cls:r.prgClass,w:r.prgW,h:r.prgH,hide:!0}),r.hideProgress=()=>(0,_dom__WEBPACK_IMPORTED_MODULE_4__.hide)("global_prg")),r.showProgress?(0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.extend)(c,{showProgress:r.showProgress,hideProgress:r.hideProgress}):(_.setOptions({hideButtons:!0}).show(),(0,_box_utils__WEBPACK_IMPORTED_MODULE_8__.getBoxQueue)().count()<2&&((0,_dom__WEBPACK_IMPORTED_MODULE_4__.hide)(window.boxLayerBG),document.body.classList.remove("layers_shown")),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.hide)(_.bodyNode),c.showProgress=()=>{(0,_dom__WEBPACK_IMPORTED_MODULE_4__.show)(window.boxLoader),(0,_box_utils__WEBPACK_IMPORTED_MODULE_8__.boxRefreshCoords)(window.boxLoader)},c.hideProgress=()=>{(0,_dom__WEBPACK_IMPORTED_MODULE_4__.hide)(window.boxLoader)}),_.removeButtons().addButton((0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("global_close")),window.ajax.post(e,t,c),_}function showTabbedBox(e,t,r,n){return(r=r||{}).stat=r.stat||[],r.stat.push(window.jsc("web/box.js"),"boxes.css"),showBox(e,t,r,n)}function showFastBox(e,t,r,n,a,s){return new MessageBox("string"==typeof e?{title:e}:e).content(t).setButtons(r,n,a,s).show()}function getCaptchaImageSrc({sid:e,difficulty:t,v:r,withRefresh:n=!1,withResized:a=!1}){return`/captcha.php?sid=${e}${t}${r?`&v=${r}`:""}${n?"&refresh=1":""}${a?"&resized=1&width=400":""}`}function showCaptchaBox(e,t,r,n,a){const s=!!r,_=(0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.intval)(t)?"":"&s=1",c=5e3,l=(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_14__.partConfigEnabled)("vkcom_captcha_refresh"),u=(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_14__.partConfigEnabled)("vkcom_captcha_resized"),d=n.imgSrc||getCaptchaImageSrc({sid:e,difficulty:_,withResized:u});let p;if(s)p=r;else{const e=`\n<div class="captcha ${u?"resized":""}  ${l?"refresh":""}">\n  <div class="captcha__image-wrapper"><img src="${d}"/></div>\n  ${l&&a?`<button id="captcha-refresh-button" class="captcha__refresh" type="button">\n      <i class="captcha__refresh-icon">${(0,_icons_desktop__WEBPACK_IMPORTED_MODULE_21__.getIcon24Refresh)().icon}</i>\n      <span>${(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("vkconnect_refresh_captcha")}</span>\n    </button>`:""}\n  <div>\n    <input type="text" class="big_text" maxlength="7" placeholder="${(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("global_captcha_input_here")}" />\n    <div class="progress" /></div>\n  </div>\n</div>`+(n.addText||"");p=showFastBox({title:(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("captcha_enter_code"),width:305,onHide:n.onHide,onDestroy:n.onDestroy},e,(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("captcha_send"),(function(){p.submit&&p.submit()}),(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("captcha_cancel"),(function(){const e=p.bodyNode.querySelector("input"),t=p.bodyNode.querySelector("img");(0,_dom_events__WEBPACK_IMPORTED_MODULE_2__.removeEvent)(e),(0,_dom_events__WEBPACK_IMPORTED_MODULE_2__.removeEvent)(t),p.hide()}))}const E=function(t){if(!p)return;const r=p.bodyNode.querySelector("input");if(!r||t&&"boolean"!=typeof t&&void 0!==t.keyCode&&10!==t.keyCode&&13!==t.keyCode)return;if(!(0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.trim)(r.value)&&!0!==t)return void(0,_dom__WEBPACK_IMPORTED_MODULE_4__.elfocus)(r);const a=p.bodyNode.querySelector("img");(0,_dom_events__WEBPACK_IMPORTED_MODULE_2__.removeEvent)(r),(0,_dom_events__WEBPACK_IMPORTED_MODULE_2__.removeEvent)(a),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.show)(p.bodyNode.querySelector(".progress")),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.hide)(r),n.onSubmit(e,r.value)};p.submit=()=>E(!0),p.changed=!0;const m=p.bodyNode.querySelector("input"),g=p.bodyNode.querySelector("img"),A=p.bodyNode.querySelector("#captcha-refresh-button"),f=A?.querySelector("span");if(s&&(m&&(m.value=""),g&&(g.src=getCaptchaImageSrc({sid:e,difficulty:_,withResized:u})),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.hide)(p.bodyNode.querySelector(".progress"))),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.show)(m),(0,_dom_events__WEBPACK_IMPORTED_MODULE_2__.addEvent)(m,"keypress",E),l&&A&&f){let t=5;(0,_dom_events__WEBPACK_IMPORTED_MODULE_2__.addEvent)(A,"click",(function(){g&&(g.src=getCaptchaImageSrc({sid:e,difficulty:_,v:(0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.irand)(1e6,2e6),withRefresh:!0,withResized:u})),A.disabled=!0,f.textContent=(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("vkconnect_refresh_captcha_via").replace("{time}",String(t)),t-=1;const r=setInterval((()=>{f.textContent=(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("vkconnect_refresh_captcha_via").replace("{time}",String(t)),t-=1}),1e3);setTimeout((()=>{clearInterval(r),t=5,A.disabled=!1,f.textContent=(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("vkconnect_refresh_captcha")}),c),(0,_web_lib_captcha_stats__WEBPACK_IMPORTED_MODULE_15__.logRefreshCaptcha)()}))}else(0,_dom_events__WEBPACK_IMPORTED_MODULE_2__.addEvent)(g,"click",(function(){this.src=getCaptchaImageSrc({sid:e,difficulty:_,v:(0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.irand)(1e6,2e6),withResized:u})}));return(0,_dom__WEBPACK_IMPORTED_MODULE_4__.elfocus)(m),p}function showReCaptchaBox(e,t,r,n){__webpack_require__._dG("recaptchaResponse",(function(e){n.onSubmit(e)}));const a=!!r,s=!!window.grecaptcha;if(!a){s||(__webpack_require__._dG("recaptchaCallback",(function(){const t=(0,_box_utils__WEBPACK_IMPORTED_MODULE_8__.curBox)();if(!t)return;const r=t.bodyNode.querySelector(".recaptcha");r&&((0,_dom__WEBPACK_IMPORTED_MODULE_4__.val)(r,""),window.grecaptcha.render(r,{sitekey:e,callback:window.recaptchaResponse}))})),document.head.appendChild((0,_dom__WEBPACK_IMPORTED_MODULE_4__.ce)("script",{type:"text/javascript",src:"https://www.google.com/recaptcha/api.js?onload=recaptchaCallback&render=explicit&hl="+t})));const a='<div class="recaptcha"></div>'+(n.addText||""),_=(r=showFastBox({title:(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("global_recaptcha_title"),width:354,onHide:n.onHide,onDestroy:n.onDestroy},a,(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("captcha_cancel"))).bodyNode.querySelector(".recaptcha");_&&(_.id="recaptcha"+(r.guid?r.guid:"0")),(0,_ui__WEBPACK_IMPORTED_MODULE_0__.showProgress)(_)}return a&&s?window.grecaptcha.reset():s&&window.recaptchaCallback(),r.changed=!0,r}},871873:(e,t,r)=>{"use strict";r.d(t,{moduleReady:()=>_,onModuleReady:()=>s});var n=r(558137);const a=e=>(0,n.makeSharedState)(`${e}-ready-state`,(()=>({isReady:!1,onReadyCallbacks:[]})),{version:1})(),s=(e,t)=>{a(e).isReady?t():a(e).onReadyCallbacks.push(t)},_=e=>{a(e).isReady=!0;for(const t of a(e).onReadyCallbacks)t();a(e).onReadyCallbacks=[]}},127609:(e,t,r)=>{"use strict";function n(e,t,r){return window.nav.go(e,t,r)}function a(e,t=!1){return window.nav.subscribeOnModuleEvaluated(e,t),function(){window.nav.unsubscribeOnModuleEvaluated(e)}}function s(e){return window.nav.onLocationChange(e)}function _(e){window.nav.setLoc({...window.nav.objLoc,...e})}r.d(t,{navGo:()=>n,subscribeModuleEvaluated:()=>a,subscribeNavLocationChange:()=>s,updateNavLoc:()=>_})},664441:(e,t,r)=>{"use strict";r.d(t,{ID_MESSAGE_GROUP_PREFIX:()=>j,ID_NOTIFICATION:()=>Y,PAGE_ID_APPS:()=>N,PAGE_ID_CALLS:()=>P,PAGE_ID_CLIPS:()=>L,PAGE_ID_FRIENDS:()=>b,PAGE_ID_MARKET:()=>U,PAGE_ID_MARKET_ORDERS:()=>B,PAGE_ID_MESSENGER:()=>T,PAGE_ID_STICKERS:()=>k,PAGE_ID_SUPPORT:()=>H,globalHistoryDestroy:()=>ee,handlePageCount:()=>Q,handlePageParams:()=>J,handlePageView:()=>ie,initNavCounters:()=>z,processDestroy:()=>oe,reloadCheckFlood:()=>Z,showBackLink:()=>te,updateHeaderStyles:()=>q,updateLeftMenu:()=>$});var n=r(251703),a=r(754866),s=r(102088),_=r(939646),c=r(636576),l=r(956460),u=r(560377),d=r(683234),p=r(581197),E=r(469004),m=r(593159),g=r(21871),A=r(540462),f=r(773096),I=r(707491),y=r(744968);const R=async e=>{const{updateItemCount:t}=await Promise.all([r.e(50560),r.e(762),r.e(19072),r.e("langs/web/left_menu_store")]).then(r.bind(r,547603));t(e)},O=17,S=9,T="msg",P="ca",b="fr",C="gr",D="ph",M="vid",L="svd",N="ap",k="stickers",U="mk",B="market_orders",x="vkp",F="fav",V="doc",K="ads",W="apm",H="spr",G="app",j="mgid",Y="ntf";function z(){r._dG("vkLastNav",Date.now()),r._dG("vkTabLoaded",Date.now())}function q(e){document.querySelectorAll("#dev_top_nav_wrap, #page_header_wrap").forEach((t=>{(0,a.setStyle)(t,e)}))}function $(e){window.__leftMenu&&window.__leftMenu.handleUpdateRequest(e)}function X(e,t,r,n,c){if(R({id:e,count:t,href:n,isHighlighted:c}),!r)return;let l="",u="",d='<span class="inl_bl"></span>';const p="reqs"===e||e&&e.substr&&"spr"===e.substr(0,3)?5:3,E=(0,a.geByClass1)("left_count_wrap",r);E.classList.toggle("left_count_wrap--highlighted",c);const g=(0,a.geByClass1)("left_count",r,"span"),A=(0,a.val)(g);t&&(l=t.toString(),l.length>p&&(u=' title="'+(0,m.stripHTML)((0,s.langNumeric)(t,"%s",!0))+'"',l=".."+l.substr(l.length-p)),d=`<span class="inl_bl left_count" ${u}>${l}</span>`);const f=function(){(0,a.val)(E,d),E.classList.toggle("left_void",!t),(0,a.setStyle)(E,{opacity:""})};A?l?(0,_.animateCount)(g,l,{str:"auto",onDone:f}):(0,_.animate)(E,{opacity:0},100,f):(f(),(0,a.setStyle)(E,{opacity:0}),(0,_.animate)(E,{opacity:1},100))}function Q(e,t,r,n,s=!1){const _=(0,m.intval)(t),c=Math.max(0,_);if(e===Y)return window.TopNotifier.setCount(c),void window.TopNotifier.createNewEventsBox(c);if(e===f.MARKET_EVENT_COUNTER_SECTION_ID)return void(0,f.updateMarketMenuEventCounter)(`#${e}`,c);let l="";if(n&&r){const e=_>0&&n?`?${n}`:"";l=(0,I.prepareHref)(r+e)}const u=(0,I.getLegacyLeftMenuItemEl)(e);if(X(e,_,u,l,s&&e===T&&(0,A.partConfigEnabled)("mail_unread_counter_highlight")),u){l&&(u.firstChild.href=l);const t=_>=0;(0,a.toggle)(u,t),e===B&&(u.style.display="")}}function J(e){window.vk.id=e.id,(0,n.tmrUpdateUserId)(),e.body_class!==document.body.className&&(document.body.className=e.body_class||""),(0,y.updateSTL)(),$(!0),window.cur._level=e.level,window.vk.id&&window.vk.id%1e3==1&&setTimeout((function(){(0,c.statlogsValueEvent)("page_scroll",0,window.cur.module,"0")}),300),ie(e);const t=document.querySelector("#mvk_footer_lnk");t&&e.mvklnk&&(t.firstChild.href=e.mvklnk),window.vk.nophone=(0,m.intval)(e.nophone),window.vk.staticheader=(0,m.intval)(e.staticheader),"leftads"in e&&0!==e.leftads&&window.__adsSet(e.leftads,e.ads_section||"",e.ads_can_show,e.ads_showed);let r=window.location.protocol+"//"+location.host+"/";e.loc&&(e.loc.startsWith("?")?r+=window.nav.strLoc:r+=e.loc);const a=document.URL===r?"":document.URL;setTimeout((()=>(0,g.updateCounters)(r,a)),10);const s=e.counters;if(!s.length)return;let _="",u="";(0,m.intval)(s[S])>0?(_="adsmarket",u="act=overview&status=-1"):(0,m.intval)(s[S])<-1?(s[S]=1,_="ads",u="act=a_comeback_office_redirect"):_="ads?act=office&last=1";const d=[b,D,M,T,"nts",C,x,"wsh",N,K,Y,F,V,W,U],p=["friends","albums"+window.vk.id,"video","","notes","groups","vkpay","gifts.php?act=wishlist","apps",_,"","pages","docs","apps_manage","market"],E=["","act=added","section=tagged","","act=comments","","tab=invitations","","",u,"","","","",""];for(let e=0;e<d.length;e++){const t=s[e];(0,m.isObject)(t)||Q(d[e],t,p[e],E[e])}const A=s[O];(0,m.isObject)(A)&&function(e){Object.entries(e).forEach((([e,t])=>{const r=G+(0,m.intval)(e),n=(0,I.getLegacyLeftMenuItemEl)(r);X(r,(0,m.intval)(t),n)}))}(A),setTimeout(l.updSeenAdsInfo,0)}function Z(e){e=e||{};const t=E.ls.get("last_reloaded")||[];t.unshift(Date.now());let r=t.length;r>5&&(t.splice(5,r-5),r=5),E.ls.set("last_reloaded",t);return!!(5===r&&t[0]-t[4]<2e4)&&((0,u.topError)('\n            <b>Reloading error</b>, please check internet connection, <b><a href="/page-777107_43991681">clear your cache</a></b> and restart your browser.\n            <br>If problem remains, please <a href="/support?act=new&from=nav_utils">report it here</a>.\n        ',{dt:15,type:6,msg:"Reload error, from "+(e.from||0)+", forced "+(e.force||0)+", url "+(e.url||"")+", query "+(e.query||"")}),!0)}function ee(e){for(let t=0,r=window.globalHistory.length;t<r;t++)if(window.globalHistory[t].loc===e){const e=window.globalHistory.splice(t,1)[0];oe(e.cur),e.content.innerHTML="",--t,--r}}function te(e,t,n){if(!window._tbLink)return;const a=e;if(e=(e||"").replace(/^\//,""),window._tbLink.loc=e,void 0===n&&(n=0,e))for(let t=0;t<window.globalHistory.length;t++)if(window.globalHistory[t].loc===e){n=1;break}a&&((0,m.extend)(window._tbLink,{href:"/"+e,fast:n}),r._dG("_stlWas",0)),(0,d.updSideTopLink)(1)}function oe(e){if(e._back&&e._back.hide&&e===window.cur)for(const t in e._back.hide)if(e._back.hide.hasOwnProperty(t))try{e._back.hide[t]()}catch(e){try{console.log(e.stack)}catch(e){}}if(e.destroy&&e.destroy.length)for(let t=0;t<e.destroy.length;t++)try{e.destroy[t](e)}catch(e){try{console.log(e.stack)}catch(e){}}}function ie(e){const t=document.querySelector("#footer_wrap"),r=document.querySelector("#page_layout"),n=document.querySelector(".TopHomeLink"),s=void 0===e.width?window.vk.width:e.width,_=void 0===e.width_dec?window.vk.width_dec:e.width_dec,c=void 0===e.width_dec_footer?window.vk.width_dec_footer:e.width_dec_footer;if(window.vk.noleftmenu===e.noleftmenu&&window.vk.nobottommenu===e.nobottommenu&&window.vk.width===e.width&&window.vk.width_dec_footer===e.width_dec_footer||(window.vk.noleftmenu!==e.noleftmenu&&e.noleftmenu&&(0,a.hide)("side_bar"),window.vk.nobottommenu!==e.nobottommenu&&(e.nobottommenu?(0,a.hide)("bottom_nav"):(0,a.show)("bottom_nav")),e.noleftmenu&&e.nobottommenu?t&&(t.classList.add("simple"),t.style.width="auto"):t&&(t.classList.remove("simple"),t.style.width=Number(s)-Number(c)+"px")),window.vk.notopmenu!==e.notopmenu&&(e.notopmenu?(0,a.hide)("quick_search","qsearch_border","top_search","top_invite_link","top_menu_wrap"):(0,a.show)("quick_search","qsearch_border","top_search","top_invite_link","top_menu_wrap")),n&&e.top_home_link_class&&window.vk.top_home_link_class!==e.top_home_link_class&&(n.className=e.top_home_link_class),r&&(s!==window.vk.width||_!==window.vk.width_dec)){const e=Number(s);(0,p.setGlobalCustomProperty)("--layout-width",s+"px"),document.querySelector("#page_body").style.width=e-Number(_)+"px";const t=document.querySelector("#ts_wrap");t&&t.classList.contains("vk")&&(t.style.width=e-191+"px"),setTimeout((()=>(0,d.updSideTopLink)(!0)),0),setTimeout(y.updateSTL,0)}window.vk.noleftmenu===e.noleftmenu||e.noleftmenu||(0,a.show)("side_bar"),e.to&&document.querySelector("#quick_login_to")&&(0,a.val)("quick_login_to",e.to),window.vk.noleftmenu=e.noleftmenu,window.vk.nobottommenu=e.nobottommenu,window.vk.top_home_link_class=e.top_home_link_class,window.vk.notopmenu=e.notopmenu,window.vk.width=s,window.vk.width_dec=_,window.vk.width_dec_footer=c,window.vk.body_class=e.body_class,window.vk.staticheader=(0,m.intval)(e.staticheader),window.vk.no_ads=e.no_ads,window.vk.ad_preview=e.ad_preview}},192366:(e,t,r)=>{"use strict";r.d(t,{getModuleNavigationStatsServiceWeb:()=>s});var n=r(482513),a=r(319756);const s=()=>(0,n.getModuleNavigationStatsService)((0,a.ensureDIRootWebContainer)())},432465:(e,t,r)=>{"use strict";r.d(t,{hideSnackbar:()=>R,showSnackbar:()=>y});var n=r(474848),a=r(296540),s=r(205338),_=r(440961),c=r(248812),l=r(627872),u=r(799306),d=r(38050),p=r(480888),E=r(127760),m=r(246429),g=r(802991);const A={top:"notifier_snackbar_align_top",center:"notifier_snackbar_align_center",bottom:"notifier_snackbar_align_bottom"},f={ok:(0,c.getIcon24CheckCircleOutline)().icon,warning:(0,l.getIcon24WarningTriangleOutline)().icon,error:(0,u.getIcon24ErrorCircleOutline)().icon,clock:(0,d.getIcon24ClockOutline)().icon,ok28:(0,p.getIcon28CheckCircleOutline)().icon,loudspeaker28:(0,E.getIcon28LoudspeakerSlashOutline)().icon},I={ok:"notifier_snackbar_type_ok",warning:"notifier_snackbar_type_warning",error:"notifier_snackbar_type_error",ok28:"notifier_snackbar_type_ok",loudspeaker28:"notifier_snackbar_type_loudspeaker",clock:"notifier_snackbar_type_clock"};async function y({id:e,type:t,text:r,subtitle:a,action:s,before:_,after:c,link:l,timeout:u,align:d,onClick:p,onClose:E}){let y;await Promise.resolve();const R={id:e,link:S(l),timeout:u,onClick:p?()=>((0,g.assertNotNull)(y),p(y)):void 0,onHide:E},P={author_link:S(_?.avatar?.link),add_photo:S(c?.url),tooltipHandler:e=>{e.classList.add("notifier_snackbar"),t&&f[t]?(e.classList.add("notifier_snackbar_with_custom_before"),e.classList.add(I[t])):_?.avatar?.url||_?.avatar?.content?_.avatar.fill&&e.classList.add("notifier_snackbar_with_filled_avatar"):!_?.avatar?.content&&_?.content&&e.classList.add("notifier_snackbar_with_custom_before"),(c?.rounded??1)&&e.classList.add("notifier_snackbar_with_rounded_after");const r=d?A[d]:void 0;if(r&&e.classList.add(r),s?.onClick){const t=e.querySelector(".notifier_snackbar_action");t?.addEventListener("click",(e=>{(0,g.assertNotNull)(y),s.onClick?.(e,y)}))}}};t&&f[t]?P.avatar_custom_content=f[t]:_&&(_.avatar?.url?P.author_photo=S(_.avatar.url):_.avatar?.content?P.avatar_custom_content=O(_.avatar.content):_.content&&(P.avatar_custom_content=O(_.content)),_.icon?.type?P.icon_type=_.icon.type:_.icon?.url&&(P.icon_custom={image_url:T(_.icon.url)}));const b=O((0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"notifier_snackbar_text",children:r}),a&&(0,n.jsx)("div",{className:"notifier_snackbar_subtitle",children:a}),s&&(0,n.jsx)("div",{children:(0,n.jsx)("a",{className:"notifier_snackbar_action",href:s.href,children:s.label})})]}));return y=await(0,m.showDoneBoxAsync)(b,R,P),y}function R(e){window.Notifier?.hideEvent(e)}function O(e){const t=document.createElement("div"),r=(0,s.createRoot)(t);return(0,_.flushSync)((()=>{r.render((0,a.createElement)(a.Fragment,null,e))})),t.innerHTML}function S(e){return e&&T(e)}function T(e){return encodeURI(e).replace(/'/g,"%27")}},891040:(e,t,r)=>{"use strict";r.d(t,{DOT_HASH_DOT_JS:()=>E,StaticLoadingError:()=>c,StaticLoadingExecuteError:()=>u,StaticLoadingTimeout:()=>l,sendStaticLoadingIssueError:()=>d,sendStaticLoadingIssueEvent:()=>p});var n=r(298077),a=r(101272),s=r(502500),_=r(814104);class c extends Error{constructor({message:e,source:t,stack:r,lineno:n,colno:a,error:s}){super(e),this.name="StaticLoadingError",this.source=t,this.stack=r,this.lineno=n,this.colno=a,this.cause=s}}class l extends Error{constructor({source:e,stack:t}){super(`Timeout for "${e}" loading is over.`),this.name="StaticLoadingTimeout",this.source=e,this.stack=t}}class u extends Error{constructor({source:e,error:t}){super(t.message),this.name="StaticLoadingExecuteError",this.source=e,this.stack=t.stack,this.cause=t}}function d(e){(0,n.logError)(e,{environment:s.staticManagerModuleName,breadcrumb:e instanceof c?{message:String(e.cause)??"Something went wrong.",data:{source:e.source,lineno:e.lineno,colno:e.colno}}:void 0})}function p(e){const[t,r]=(0,_.separateSourceAndHash)(e.source);(0,a.saveStatlogEvents)({name:"static_loading_issues",value:1,keys:[e.name,t,r]})}const E="\\.[0-9a-f]{8,20}\\.js$"},687903:(e,t,r)=>{"use strict";r.d(t,{default:()=>l,unpackStore:()=>u});var n=r(740342),a=r(469004),s=r(593159),_=r(755119);function c(e,t){if(!t)return a.ls.get(e);a.ls.set(e,t)}function l(e={},t={}){const r=(0,n.debounce)(c,300);let l=(0,s.extend)({},e),u=[],d=[];return t.store&&(l=a.ls.get(t.key)||l),{get:()=>l,set(e){return e(l).then((e=>(l=e,t.store&&r(t.key,e),this.emit(),this))).catch(_.dummyCatch)},setState(e){return this.set((t=>(t=(0,s.extend)(t,e),this.emit(),Promise.resolve(t))))},stash(){u.push(l),l=(0,s.extend)({},e),this.emit()},reset(){l=(0,s.extend)({},e),this.emit()},unmount(){l={},e=!1,d=[]},pop(){u.length>0&&(l=u.pop(),this.emit())},emit(){d.length>0&&d.forEach((e=>e(this)))},subscribe(e){d.includes(e)||d.push(e)},unsubscribe(e){d=d.filter((t=>t!==e))},mutate(e){e(l),t.store&&r(t.key,l),this.emit()}}}function u(e){return function(e){return!!e.get}(e)?e.get():e}},790031:(e,t,r)=>{"use strict";r.d(t,{VERSION_SKEW_ENABLED_PE:()=>l,VersionSkewManager:()=>I});var n=r(558137),a=r(540462),s=r(298077),_=r(560377),c=r(891040);const l="webinf_static_version_skew_manager",u="webinf_static_evergreens",d="webinf_static_poll_loader_nav",p="webinf_static_version_skew_extended_logging",E=parseInt(localStorage?.getItem("version_skew_manager_poll_timeout_ms")||"",10)||6e4,m="web/common_web.js",g=new RegExp(c.DOT_HASH_DOT_JS),A=e=>e.replace(g,".js");class f{get isReloadPlanned(){const e=this._isReloadPlanned;return this._isReloadPlanned=!1,e}planReload(){this.log("Plan reload"),this._isReloadPlanned=!0}collectEvergreens(e){return Object.entries(e).filter((e=>e[0]?.includes("evergreen"))).map((([e,t])=>[A(e),String(t)]))}reportLoaderNavNotLoaded(e,t,r){(0,s.logError)(t,{environment:"ajax_request",breadcrumb:{message:String(r),category:"custom",data:{file:e}}}),(0,a.partConfigEnabled)("global_show_resource_fetch_error")&&(0,_.topMsg)(`Some problems with loading <b>${e}</b>...`,5,void 0)}async checkNavVersion(e){try{const t=await fetch("/al_loader_nav.php?act=check",{credentials:"same-origin"}),r=await t.json(),n=r?.loaderVersion;return[String(e)===String(n),n]}catch(t){return[!1,e]}}async pollLoaderNav(e=!1){if((0,a.partConfigEnabled)(d)){if(this.updateNavPromise)this.log("Skip loader_nav polling due to update promise already exists");else{this.log("Poll loader_nav");const e=window.stVersions.nav,[t,r]=await this.checkNavVersion(e);if(!t)try{await this.updateNavVersion(r,!1)}catch(e){}}e||setTimeout((()=>{this.pollLoaderNav()}),E)}}async updateNavVersion(e,t=!0){const r=window.vk.navPostfix||"",n=window.navMapSection,a=n?`&section=${n}`:"",s=`/al_loader_nav.php?act=nav${r}&l=${window.vk.lang}&v=${e}&f=json${a}`;return this.log("Update loader_nav",s),new Promise(((e,r)=>{fetch(s,{credentials:"same-origin"}).then((e=>e.json())).then((e=>{for(const t in e)e.hasOwnProperty(t)&&(window[t]=e[t])})).then(this.checkVersions).then(e).catch((n=>{console.error(n);const a=new Error("Can't load loader_nav");this.reportLoaderNavNotLoaded(s,a,a.stack),t?e():r()}))}))}init(){return new Promise((e=>{if(!(0,a.partConfigEnabled)(u))return Promise.resolve();window.stVersions&&Array.isArray(Object.entries(window.stVersions))?(this.collectEvergreens(window.stVersions).forEach((([e,t])=>{this.evergreens.set(e,t)})),this.isInited=!0,e(this.isInited)):setTimeout((()=>{this.init().then(e)}),100)}))}log(...e){(0,a.partConfigEnabled)(p)&&console.log.apply(console,["[VersionSkewManager]",...e])}isReloadRequired(){const e=this.isReloadPlanned||window.stVersions[window.jsc(m)]>window.StaticFiles[window.jsc(m)].v;return this.log("Reload is required",e),e}maybeUpdateNav(e){return this.updateNavPromise||(this.updateNavPromise=new Promise((t=>{const r=()=>{this.updateNavPromise=null,t()};String(e)!==String(window.stVersions.nav)?this.checkNavVersion(e).then((([t])=>{t?this.updateNavVersion(e).then(r):r()})):queueMicrotask(r)}))),this.updateNavPromise}constructor(){this.updateNavPromise=null,this.evergreens=new Map,this.isInited=!1,this._isReloadPlanned=!1,this.checkVersions=()=>{if((0,a.partConfigEnabled)(u)){this.log("Check evergreen versions"),(0,a.partConfigEnabled)(p)&&console.table(Array.from(this.evergreens.entries()));const e=this.collectEvergreens(window.stVersions);(0,a.partConfigEnabled)(p)&&console.table(e);for(const[t,r]of e){const e=this.evergreens.get(t);e?e!==r&&(this.log(`Evergreen "${t}:${this.evergreens.get(t)}" has new version`,r),this.planReload()):(this.log("New evergeen",t),this.planReload())}}},this.init().then((()=>{(0,a.partConfigEnabled)(d)&&setTimeout((()=>{this.pollLoaderNav()}),E)}))}}const I=(0,n.makeSharedState)("version-skew-manager-singleton",(()=>new f),{version:0})()},516742:(e,t,r)=>{"use strict";r.d(t,{zNav:()=>U});var n=r(468073),a=r(898848),s=r(672277),_=r(741791),c=r(862471),l=r(414623),u=r(100538),d=r(254551),p=r(990787),E=r(593159),m=r(540462),g=r(378564),A=r(30259),f=r(417120),I=r(270959),y=r(628202),R=r(417566),O=r(246429),S=r(768602),T=r(800361),P=r(581034),b=r(427712),C=r(25261),D=r(190929),M=r(60512),L=r(608814);const N=async()=>Promise.all([r.e(76954),r.e(56965),r.e("langs/web/stories_web_lib")]).then(r.bind(r,856771));const k=async()=>Promise.all([r.e(53927),r.e("langs/web/questions_boxes_web")]).then(r.bind(r,646367));function U(e,t,U){const B=e.z,x=e.f,F=e.w,V=e.storyBox,K=(B||"").match(/^([a-z_]+)(-?\d+(?:_(?:-)?\d+)?)\/?(.*)/i);if(delete e.z,delete e.f,delete e.w,delete e.storyBox,t||(t={}),!(0,a.isEmpty)(e))return;if(x&&((0,s.handleScroll)(x),void 0===B))return!1;if(t.hist)if(B||F){if(window.layerQueue.back("wiki",F,(K||[])[1],(K||[])[2]))return!1}else if(!1===B&&U?.w&&window.layerQueue.back("wiki",U.w))return!1;const W=!(0,m.partConfigEnabled)("storybox_prevent_init_on_reload")||!V;if(F&&W){if((0,m.partConfigEnabled)("web_stories_viewer_redesign")&&(0,M.matchLayer)({layerName:"w",layerPath:F,layersConfig:L.webLayersConfig,partConfigEnabled:m.partConfigEnabled}))return!1;let e="",n="";const a=F.match(/^narrative([0-9\-]+)_(\d+)(?:_(\d+))?/);if(!1===B&&window.layers.fullhide)window.layers.fullhide(!!t.hist&&2);else{if(F.match(/^story([0-9\-]+)_(\d+)/))return async function(e,t={}){const{showStory:r}=await N();r(e,t)}(F,{fromUrl:!0}),!1;if(a){let[,e,t,r]=a;const n=F;return async function(e,t,r,n,a){const{showNarrative:s}=await N();s(e,t,r,n,a)}(e,t,Number(r),n,{source:"narrative_link"}),!1}if("stories"===F){if(window.cur.storyLayer)return window.cur.storyLayer.doHide(),!1}else if((0,p.isValidVmojiAvatarUrlPath)(F)){const e=(0,p.parseVmojiAvatarUrlPath)(F);if(e){const{ownerId:t,characterId:r,packId:n}=e;return(0,p.showVmojiAvatar)(t,r,n)}}else{if("wiki-modal-example-param"===F)return async function(e){const{wikiModalExampleInitiator:t}=await Promise.all([r.e(91498),r.e(42255),r.e("langs/web/wikiModalExampleInitiator")]).then(r.bind(r,62925));t.showModal(e)}({userId:window.vk.id}),!1;if("story_publisher"===F)return(0,b.storyPublisherInitAsync)([{entrypoint:"link"}]),!0;if((0,D.isSendGiftUrl)(F)){const e=(0,D.parseSendGiftUrl)(F);return!!e&&((0,D.showGiftModal)(e,!0),!0)}if((0,C.isSendStickersGiftUrl)(F)){const e=(0,C.parseSendStickersGiftUrl)(F);return!!e&&((0,C.showStickersGiftModal)(e),!0)}U||(U=(0,E.clone)(window.nav.objLoc)),F&&(U.w=F),x&&(U.f=x),delete U.z,window.nav.setLoc(U,t),window.nav.objLoc.ref&&(e=window.nav.objLoc.ref,delete window.nav.objLoc.ref),window.nav.objLoc.ref_source&&(n=window.nav.objLoc.ref_source,delete window.nav.objLoc.ref_source)}}const s={w:F};if(e&&"third_party_profile_buttons"===e&&(0,m.partConfigEnabled)("apps_launch_query_params")){const e=window.nav.objLoc.vk_profile_id;if(!e)return;s.vk_user_id=e}return(0,m.partConfigEnabled)("mini_apps_use_custom_handler_for_open_app_in_layer")&&F.match(/^app([0-9]+)/)?(0,P.openAppInLayer)(F):((0,l.showWiki)(s,"note_new"===F,!1,{onLoaded:()=>{switch(Object.values(A.RefSource).includes(n)&&(0,f.onMarketItemCardOpen)({refSource:n,screen:window.nav.objLoc.ref_screen}),e){case A.RefSource.CLIPS:(0,f.onMarketItemCardOpen)({refSource:A.RefSource.CLIPS,screen:window.nav.objLoc.ref_screen});break;case A.RefSource.STORIES:(0,f.onMarketItemCardOpen)({refSource:A.RefSource.STORIES,screen:window.nav.objLoc.ref_screen})}},isZnav:1,customRef:e}),!1)}if("giftbox"===B)return!(0,I.showBox)("/al_gifts.php",{act:"get_gift_box",mid:t.id||0,fr:t.is&&t.id!==window.vk.id?0:1,link:window.nav.objLoc[0]},{stat:["gifts.css","ui_controls.js","ui_controls.css"],cache:1},window.event);if("validatebox"===B)return!(0,y.validateMobileBox)({closeLink:1,onDone:()=>document.querySelector("#change_phone_wrap")?.remove()});if("upload_video"===B)return window.VideoUpload.showBox();if(B===R.MY_QUESTIONS_BOX_URL_PARAMETER){let e=window.nav.objLoc.ref;return e?(delete window.nav.objLoc.ref,window.nav.setLoc(window.nav.objLoc,t)):e="url",async function(e){const{showMyQuestionsBox:t}=await k();t(e)}({ref:e}),!1}if(!1===B||!1===F){const e=!window.wkcur||!window.wkcur.shown||window.layers.fullhide!==window.WkView.hide;if(window.layers.fullhide&&(e||!1===F)&&!t.asBox){const e=U||{};!t.hist||e.z||e.w||e[0]?.includes("/")||e[0]?.match(/^(photo|video)(-?\d+_\d+)$/)||window.layerQueue.clear(),window.layers.fullhide({opts:t,noLoc:!!t.hist&&2})}const r=(0,O.curBox)();return r&&r.wkRaw&&r.hide(),!1}if(B&&K){const e=function(){return delete window.nav.objLoc.z,window.nav.setLoc(window.nav.objLoc,t),!0};switch(K[1]){case"photo":return(0,d.showPhoto)(K[2],K[3],(0,E.extend)(t,{onFail:e,noHistory:!0})),!1;case"albums":return(0,c.showAlbums)(K[2],(0,E.extend)(t,{onFail:e,noHistory:!0})),!1;case"album":return(0,c.showAlbum)(K[2],(0,E.extend)(t,{onFail:e,noHistory:!0})),!1;case"tag":case"photo_tag":return(0,u.showPhotoTags)(K[2],(0,E.extend)(t,{onFail:e,noHistory:!0})),!1;case"video":case"clip":if((0,m.partConfigEnabled)("clips_web_use_spa_modal")&&!(0,T.isVideoStandalone)()&&"clip"===K[1])return window.layerQueue?.clear(),window.layers?.fullhide?.({opts:t,noLoc:!!t.hist&&2}),!1;let s=K[3]||window.nav.objLoc.list,l=(0,E.extend)(t,{onFail:e,noLocChange:1,focusPlay:1});if(s){const e=[];let t="",r="";if(s.split("/").forEach((n=>{n.startsWith("pl_")?t=n:n.startsWith("ph_")?r=n.substr(3):e.push(n)})),s=e.join("/"),t){t=t.substr(3);const e=window.cur.currentModule?window.cur.currentModule():window.cur.module;l=(0,E.extend)(l,{playlistId:t,module:e,addParams:{force_no_repeat:1,show_next:1,playlist_id:t,show_all_videos:(0,a.intval)(window.cur.isCatalog&&(!window.VideoPlaylist||!window.VideoPlaylist.getList(t)))}}),r&&(l.addParams.promo_post_hash=r)}}return"clip"===K[1]&&(l.shortVideo=1),async function(e,t,n){const{showVideo:a}=await Promise.all([r.e(91498),r.e(762),r.e(17488),r.e(76954),r.e(42943),r.e("langs/web/video_web_lib")]).then(r.bind(r,432081));a(e,t,n)}(K[2],s,l),!1;case"single":return void 0===F&&window.stManager.add(["single_pv.css",window.jsc("web/single_pv.js")]).then((()=>{const e=document.querySelector(`#${B}`);e?.onclick?.(new MouseEvent("click"))})),!1;case"accept_money":return async function(e,t){const{moneyTransferBox:n}=await Promise.all([r.e(91498),r.e(89631),r.e(762),r.e(79210),r.e(66060),r.e(25977),r.e(21925),r.e(71105),r.e(55188),r.e(65400),r.e(17895),r.e("langs/web/money_transfer_box")]).then(r.bind(r,205597));n(e,t)}(K[2],K[3]),!1;case"moneysend":return async function(e,t,n){const{MoneyTransfer:a}=await Promise.all([r.e(91498),r.e(89631),r.e(762),r.e(79210),r.e(66060),r.e(25977),r.e(21925),r.e(71105),r.e(55188),r.e(65400),r.e(50905),r.e("langs/web/money_transfer")]).then(r.bind(r,641608)),s=a.showMoneyTransferBox(e,t,(e=>{s.hide(),n(e)}))}({to_id:K[2],from:"public_link"},{},(e=>(setTimeout((0,I.showFastBox)((0,S.getLang)("global_error"),e).hide,2e3),delete window.nav.objLoc.z,window.nav.setLoc(window.nav.objLoc,t),!0))),!1;case"audio_playlist":const[p,A]=K[2].split("_"),f=t.context||"";return async function(e,t,n,a,s,_){const{showAudioPlaylist:c}=await Promise.all([r.e(91498),r.e(89631),r.e(762),r.e(79210),r.e(66060),r.e(25977),r.e(65400),r.e(74336),r.e("langs/web/show_audio_playlist")]).then(r.bind(r,936011));c(e,t,n,a,s,_)}(p,A,function(e){let t=window.nav.objLoc.access_key;return t||(t=function(e){const t=e?.at(3);if(!t)return;const r=/^_+/g;return t.replaceAll(r,"")||void 0}(e)),t}(K),f,void 0,t.onDone),!1;case"attachment_audio_list":if((0,m.partConfigEnabled)("feed_attachment_onmedia_audios_list")){!async function(e){const{showAttachmentAudioListModal:t}=await Promise.all([r.e(91498),r.e(89631),r.e(66060),r.e(64887),r.e(16479),r.e(30400),r.e(10774),r.e("langs/web/show_attachment_audio_list")]).then(r.bind(r,596240));t({postId:e})}(K[2])}return!1;case"article_edit":const[y,P]=K[2].split("_");return(0,_.openArticleEditor)(Number(y),Number(P),null,{},{}),!1;case"podcast":return Promise.all([r.e(91498),r.e(89631),r.e(762),r.e(79210),r.e(66060),r.e(25977),r.e(65400),r.e(6827),r.e("langs/web/podcasts_web")]).then(r.bind(r,525166)).then((e=>{e.default.show(null,K[2],null,"url",null)})),!1;case"apps_achievements":return window.stManager.add([window.jsc("web/apps_achievements.js")]).then((()=>{window.AppsAchievementsPage?.showFriendAchievements(Number(K[2]))})),!1;case R.ASK_QUESTION_BOX_URL_PREFIX:const b=Number(K[2]);let C=window.nav.objLoc.ref;return C?(delete window.nav.objLoc.ref,window.nav.setLoc(window.nav.objLoc,t)):C="url",async function(e,t){const{showAskQuestionBox:r}=await k();r(e,t)}(b,{ref:C}),!1;case"call":const D=()=>{window.stManager.add([window.jsc("web/notifier.js")]).then((()=>{const[e,r]=K[2].split("_"),a=Number(r),s=r&&n.Ranges.isGroupId(a)?a:void 0,_=()=>window.Calls?.call({vkId:Number(e),entryPoint:g.CallStatSource.LINK,groupId:s});window.Calls?.initialized?_():setTimeout((()=>{_()}),1500),delete window.nav.objLoc.z,window.nav.setLoc(window.nav.objLoc,t)}))};return(0,m.partConfigEnabled)("calls_open_warning_box_on_call_by_link")?(0,I.showFastBox)({title:(0,S.getLang)("global_warning")},(0,S.getLang)("calls_are_you_sure_to_call_this_user"),(0,S.getLang)("global_share_button_call"),(()=>{(0,O.curBox)()?.hide(),D()}),(0,S.getLang)("global_close")):D(),!1}}}},773096:(e,t,r)=>{"use strict";r.d(t,{MARKET_EVENT_COUNTER_SECTION_ID:()=>a,updateMarketMenuEventCounter:()=>s});var n=r(933983);const a="page_menu_group_market";function s(e,t){const r=document.querySelector(e);r&&n.PageActionCell.setCounter(r,t)}},755119:(e,t,r)=>{"use strict";function n(e=!1){console.trace(),e||window.alert("Вы поймали баг исчезнувшего lastMsg. Пожалуйста откройте консоль (Cmd + Option + I), остановите выполнение JS на странице (F8+cmd+\\) и свяжитесь с командой сообщений на вебе.")}function a(e){return console.error(e),Promise.reject(e)}r.d(t,{dummyCatch:()=>a,showDebugAlert:()=>n})},902403:(e,t,r)=>{"use strict";r.d(t,{getErrorText:()=>s,logImError:()=>a});var n=r(298077);function a(e,t=""){console.error(e);const r=e=>{(0,n.logError)(e,{environment:"im"})};if(e instanceof Error){const n=new Error(s(e,t));return n.name=e.name,n.stack=e.stack,r(n)}return r(new Error(s(e,t)))}function s(e,t=""){if(e instanceof Error)return t?`${t}: ${e.message}`:e.message;if("string"==typeof e||"number"==typeof e)return t?`${t}: ${e}`:`${e}`;if(e&&"api_error"===e.type){const r=JSON.stringify(e.error);return t?`${t}: ${r}`:r}if(e instanceof Object){let r="";try{r=JSON.stringify(e)}catch(e){r=`Error data ${e}`}return t?`${t}: ${r}`:r}return t}},495239:(e,t,r)=>{"use strict";r.d(t,{addPhotoUnblurred:()=>_,isPhotoUnblurred:()=>a});var n=r(825127);function a(e){const{unblurredPhotos:t}=window.cur;return!!t&&t.photoIds.has(e)}function s(){let e=window.cur.unblurredPhotos;return e||(e={events:new n.default,photoIds:new Set},window.cur.unblurredPhotos=e),e}function _(e){const t=s();t.photoIds.add(e),t.events.emit("addPhotoUnblurred",e)}},120101:(e,t,r)=>{"use strict";r.d(t,{callIfCurReady:()=>P,callOnCurReady:()=>T,isVKCOMProfileRedesignedEnabled:()=>m,markLiveInStoriesFinished:()=>f,markSeenStoriesInProfile:()=>A,showFansBox:()=>g,showOwnerGiftsBox:()=>R,showSendGiftBox:()=>I,showSendSelectedGiftInBirthdayBox:()=>y,showSilentModeBox:()=>O});var n=r(270959),a=r(246429),s=r(457498),_=r(636576),c=r(540462),l=r(792242),u=r(67631),d=r(25261),p=r(190929),E=r(677508);function m(){return(0,c.partConfigEnabled)("redesign_web_profile_feature")}function g(e,t,r,a={},s=""){return window.cur.viewAsBox?window.cur.viewAsBox():!(0,n.showBox)("al_fans.php",{act:"box",tab:t||"fans",oid:e,from:s},{cache:1,stat:["page_help.css",window.jsc("web/fansbox.js")],params:{...a}},r)}function A(e){"profile"===window.cur.module&&window.Profile?.markSeenStories&&window.Profile.markSeenStories(e)}function f(e){"profile"===window.cur.module&&window.Profile?.markLiveInStoriesFinished&&window.Profile.markLiveInStoriesFinished(e)}function I(e,t,r,_,c){const l=(0,a.getBoxLayerWrap)();if(l&&(window.cur.gftbxWasScroll=l.scrollTop,l.scrollTop=0),c&&c<0&&(0,d.isNewStickersGiftModalEnabled)())return void(0,d.showStickersGiftModal)({giftIds:[c],recipientIds:[e],referrer:_??s.GiftRef.PROFILE_BUTTON,stickerReferrer:_??s.GiftRef.PROFILE_BUTTON});if(c&&c>0&&(0,p.isNewGiftModalEnabled)())return void(0,p.showGiftModal)({giftId:c,recipientIds:[e],referrer:_??s.GiftRef.PROFILE_BUTTON});c&&c<0?(0,u.giftStickerProducts)([-c],[e],{ref:_??s.GiftRef.PROFILE_BUTTON,gift_ref:_??s.GiftRef.PROFILE_BUTTON}):(0,n.showBox)("al_gifts.php",{act:"get_gift_box",mid:e,fr:e===t?1:0,ref:_??s.GiftRef.PROFILE_BUTTON,gift:c??null},{stat:["gifts.css",window.jsc("web/wide_dd.js"),"wide_dd.css"],cache:1},r)}function y(e,t,r=s.GiftRef.PROFILE_BUTTON){(0,_.statlogsValueEvent)("gifts_tooltip_action",0,"gift_click",t),t<0&&(0,d.isNewStickersGiftModalEnabled)()?(0,d.showStickersGiftModal)({giftIds:[t],recipientIds:[e],referrer:r}):t>0&&(0,p.isNewGiftModalEnabled)()?(0,p.showGiftModal)({giftId:t,recipientIds:[e],referrer:r}):(0,n.showBox)("al_gifts.php",{act:"get_gift_box",mid:e,gift:t,ref:r})}function R(e,t,r){return!(0,n.showBox)("al_gifts.php",{act:"box",tab:r||"received",mid:e},{cache:1,stat:["gifts.css",window.jsc("web/gifts.js")]},t)}function O(e,t,r,n){(0,l.showSilentModeEnabledFormBox)({csrf:r,endDate:e,callsMailSend:t,redirectOnClose:!1,redirectOnSubmit:!1,onSubmit:n})}let S=null;function T(e){!(0,c.partConfigEnabled)("profile_web_spa_enabled")||(0,E.isCurReady)()?e():(S||(0,E.onCurReady)((()=>{S?.()})),S=e)}function P(e){(0,E.isCurReady)()&&e()}},646367:(e,t,r)=>{"use strict";r.r(t),r.d(t,{showAskQuestionBox:()=>p,showMyQuestionsBox:()=>d});var n=r(754866),a=r(246429),s=r(131393),_=r(680960),c=r(540462),l=r(148230),u=r(508611);function d(e){if(!(0,c.partConfigEnabled)("profile_questions_enabled"))return;if(window.cur.viewAsBox)return void window.cur.viewAsBox();e?.ref&&(0,u.logQuestionsOpeningEvent)(window.vk.id,e.ref,l.QuestionAnalyticBoxName.myQuestions);const t=document.querySelector("#box_layer_wrap"),r=document.querySelector("#box_loader");(0,n.show)(t),(0,n.show)(r),(0,a.refreshBoxLoaderCoords)(),Promise.all([(0,s.getQuestions)(),window.stManager.add([window.jsc("web/my_questions.js")]),new Promise(((e,t)=>{window.ajax.post("al_questions.php",{act:"load_ask_my_questions_box_lang_keys"},{onDone:()=>{e()},onFail:()=>(t(),!0)})}))]).then((([a])=>{window.boxQueue.count()||(0,n.hide)(t),(0,n.hide)(r),window.MyQuestionsBox.init(a.count,a.items,a.profiles,a.next_from,{onClose:e?.onClose,fromElement:e?.fromElement})})).catch((e=>{(0,n.hide)(t),(0,n.hide)(r),(0,_.logQuestionError)({error:e,additionalText:"An error occurred while loading data for my_questions.js"})}))}function p(e,t){if(!(0,c.partConfigEnabled)("profile_questions_enabled"))return;if(e===window.vk.id)return void d({ref:t?.ref,fromElement:t?.fromElement});if(window.cur.viewAsBox)return void window.cur.viewAsBox();if(!e)return void(0,_.logQuestionError)({error:"Empty toUserId has been passed to showAskQuestionBox"});t?.ref&&(0,u.logQuestionsOpeningEvent)(e,t.ref,l.QuestionAnalyticBoxName.askQuestion);const r=document.querySelector("#box_layer_wrap"),p=document.querySelector("#box_loader");(0,n.show)(r),(0,n.show)(p),(0,a.refreshBoxLoaderCoords)(),Promise.all([(0,s.getUsers)([e]),window.stManager.add([window.jsc("web/ask_question.js")]),new Promise(((e,t)=>{window.ajax.post("al_questions.php",{act:"load_ask_question_box_lang_keys"},{onDone:()=>{e()},onFail:()=>(t(),!0)})}))]).then((([e])=>{(0,n.hide)(r),(0,n.hide)(p);const a=e[0];a&&window.AskQuestionBox.init(a,t?.fromElement)})).catch((e=>{(0,n.hide)(r),(0,n.hide)(p),(0,_.logQuestionError)({error:e,additionalText:"An error occurred while loading data for ask_question.js"})}))}},792242:(e,t,r)=>{"use strict";r.d(t,{showSilentModeEnabledFormBox:()=>c,showSilentModeEndFormBox:()=>l,showSilentModeFormBox:()=>_});var n=r(474848),a=r(725669),s=r(281356);function _(e){const t=(0,a.asyncComponent)((()=>Promise.all([r.e(91498),r.e(89631),r.e(73214),r.e("langs/web/SilentModeForms")]).then(r.bind(r,544993))),(({SilentModeForm:e})=>e));(0,s.showMessageBoxModalSuspense)((r=>(0,n.jsx)(t,{...r,...e})),{width:400})}function c(e){const t=(0,a.asyncComponent)((()=>Promise.all([r.e(91498),r.e(89631),r.e(73214),r.e("langs/web/SilentModeForms")]).then(r.bind(r,828186))),(({SilentModeEnabledForm:e})=>e));(0,s.showMessageBoxModalSuspense)((r=>(0,n.jsx)(t,{...r,...e})),{width:400})}function l(e,t){const _=(0,a.asyncComponent)((()=>Promise.all([r.e(91498),r.e(89631),r.e(73214),r.e("langs/web/SilentModeForms")]).then(r.bind(r,734350))),(({SilentModeEndForm:e})=>e));(0,s.showMessageBoxModalSuspense)((t=>(0,n.jsx)(_,{...t,...e})),{width:400,onDestroy:t})}},90345:(e,t,r)=>{"use strict";r.d(t,{EventItemType:()=>a.EventItemType,SearchClickActionMap:()=>a.SearchClickActionMap,getTrackCodeFromElement:()=>_,logEvent:()=>c,logSearchAudioClick:()=>u,logSearchClipClick:()=>l,logSearchPlaylistClickOut:()=>d});var n=r(314309),a=r(317216),s=r(843570);const _=(e,t)=>e?t&&e.dataset?.[t]?e.dataset?.[t]||"":e.dataset?.trackCode?e.dataset?.trackCode||"":_(e.parentElement,t):"",c=e=>{e.track_code&&n.searchStatsCollector.logEvent(e)},l=e=>{/^search$|^clips\/search$|^search\/clips$|^search\/video$/g.test(window?.mvcur?.mvPrevLoc?.[0]??"")&&window?.mvcur?.mvShown&&n.searchStatsCollector.logEvent({action:e,type:a.EventItemType.CLIP,track_code:(0,s.getVideoTrackCode)()})},u=(e,t="")=>{c({action:e,track_code:t,type:a.EventItemType.MUSIC_AUDIO})},d=e=>{n.searchStatsCollector.logOutOfSerpEvent({type:a.EventItemType.MUSIC_PLAYLIST,action:e})}},843570:(e,t,r)=>{"use strict";r.d(t,{getVideoTrackCode:()=>s,pickTrackCodeFromURL:()=>a});var n=r(231450);const a=()=>{setTimeout((()=>n.TRACK_CODE_TYPES.some((e=>(e=>{const t=window.nav.objLoc[e];if(!t)return!1;const r={...window.nav.objLoc};return delete r[e],window.nav.setLoc(r,{replace:!0}),history.replaceState({...history.state,[e]:t},""),!0})(e)))))},s=()=>window?.Videoview?.getMvData()?.track_code??window.mvcur?.options?.addParams?.track_code??""},862566:(e,t,r)=>{"use strict";async function n(e){const{showMenuSettingsBox:t}=await Promise.all([r.e(91498),r.e(89631),r.e(6694),r.e("langs/web/menu_settings")]).then(r.bind(r,641921));t(e)}r.d(t,{loadMenuSettingsBox:()=>n})},187403:(e,t,r)=>{"use strict";r.d(t,{initColorSchemeDropdowns:()=>_});var n=r(19589),a=r(64323),s=r(428374);function _(){document.querySelectorAll(".SettingsColorSchemeDropdown").forEach((e=>{!function(e){if(e.dataset.inited)return;e.dataset.inited="1";let t=e.dataset.value,r=JSON.parse(e.dataset.items||"[]");n.ColorScheme.isSchemesAutoSwitchingSupported()||(t===n.ColorSchemeMode.Auto&&(t=n.ColorSchemeMode.Light),r=r.filter((([e])=>e!==n.ColorSchemeMode.Auto)));const _=new s.InlineDropdown(e,{selected:t,items:r,onSelect(t){n.colorScheme.setMode(t),(0,a.logTopNavElements)("theme");const r=e.dataset.hash;window.ajax.post("al_settings.php?act=a_save_color_scheme_mode",{mode:t,hash:r})}}),c=n.colorScheme.subscribe((()=>{e&&_?_.val(n.colorScheme.getMode(),!0):c()}))}(e)}))}},707491:(e,t,r)=>{"use strict";r.d(t,{getLeftMenuHeight:()=>l,getLegacyLeftMenuItemEl:()=>c,prefixId:()=>a,prepareHref:()=>_,turnOffTooltip:()=>u,unPrefixId:()=>s});var n=r(384483);function a(e){return`l_${e}`}function s(e){return e.replace(/^l_/,"")}function _(e){return e.startsWith("/")?e:`/${e}`}function c(e){const t=(0,n.getReactRootElId)("LeftMenuRoot"),r=document.querySelector(`#${a(e)}`);return r?.closest(`#${t}`)?null:r}function l(){return document.querySelector(".side_bar_nav_wrap")?.getBoundingClientRect()?.height||0}function u(e,t){return new Promise(((r,n)=>{window.ajax.post("al_index.php",{act:"help_hints_hide",hash:t,hint_id:e},{onDone:r,onFail:e=>(n(e),!0)})}))}},944041:(e,t,r)=>{"use strict";r.d(t,{getCache:()=>l,getPackByStickerId:()=>m,getSticker:()=>d,getStickers:()=>p,updateCache:()=>u});var n=r(761520),a=r(353679),s=r(612831),_=r(440487),c=r(469004);const l=()=>{if(!window.stickersCache){const e=c.ls.get("stickers_cache");r._dG("stickersCache",{...a.DEFAULT_CACHE,...e})}return window.stickersCache},u=e=>{r._dG("stickersCache",{...l(),...e})},d=e=>l().stickers.get(e),p=e=>{const{stickers:t}=l();return e.map((e=>t.get(e)))},E=e=>{const t=d(e);if(!t||!t.pack_id)return null;const r=(0,_.getProductFromCache)(t.pack_id);return r&&(0,s.isBasePack)(r)?r:null},m=e=>{const t=E(e);return t?Promise.resolve(t):new Promise((t=>{n.ajax.post("stickers.php",{act:"get_products",sticker_ids:[e]},{onDone(r){(0,_.cacheProductsData)(r),t(E(e))},onFail:e=>(console.error(e),t(null),!0)})}))}},416577:(e,t,r)=>{"use strict";r.d(t,{Cart:()=>l});var n=r(761520),a=r(433409),s=r(353679),_=r(440487),c=r(246429);class l{static create(e,t=[]){const r=e.map((e=>({product_id:e,amount:1})));return new l(r,t)}copy(){const e=new l(this.getItems(),this.getRecipientIds());return e.setOrder(this.getOrder()),e}getItems(){return Array.from(this.items.values())}setItems(e){this.items=new Map(e.map((e=>[e.product_id,e])))}loadItems(){const e=Array.from(this.items.keys());return(0,_.getProducts)(e).then((()=>{for(const e of Array.from(this.items.values()))e.product=(0,_.getProductFromCache)(e.product_id)}))}getProducts(){return(0,_.getProductsFromCache)(Array.from(this.items.keys()))}hasProduct(e){return this.items.has(e)}addProduct(e,t=!1){if(!this.hasProduct(e)){const r={product_id:e,amount:1};t?this.setItems([...this.getItems(),r]):this.setItems([r,...this.getItems()]),this.onChange&&this.onChange()}}removeProduct(e){this.hasProduct(e)&&(this.items.delete(e),this.onChange&&this.onChange())}getRecipientIds(e=!1){return this.recipientIds.size?Array.from(this.recipientIds.values()):this.isGift&&e?[s.SAMPLE_RECIPIENT_ID]:[]}setRecipientIds(e){this.recipientIds=new Set(e)}hasRecipientId(e){return this.recipientIds.has(e)}addRecipientId(e){this.hasRecipientId(e)||(this.recipientIds.add(e),this.onChange&&this.onChange())}removeRecipientId(e){this.hasRecipientId(e)&&(this.recipientIds.delete(e),this.onChange&&this.onChange())}setOrder(e){if(this._order=e,e){this.recipientIds.clear();for(const t of e.items)t.recipient_id!==s.SAMPLE_RECIPIENT_ID&&this.recipientIds.add(t.recipient_id)}}loadOrder(e){const t=e.items.map((e=>e.product_id));return(0,_.getProducts)(t).then((t=>({...e,items:e.items.map(((e,r)=>({...e,product:t[r]})))})),(()=>e))}getOrder(){return this._order}getRecipientsMap(){return this.recipients}getRecipients(){return Array.from(this.recipients.values())}getRecipientById(e){return this.recipients.get(e)}addRecipients(e){this.recipients=new Map([...this.getRecipients(),...e].map((e=>[e[0],e])))}getJSON(){return JSON.stringify({items:this.getItems().map((e=>({...e,product:void 0}))),recipient_ids:this.getRecipientIds(!0)})}isLoaded(){return null!==this.getOrder()}cancelLoad(){this.loadTimeout&&(window.clearTimeout(this.loadTimeout),this.loadTimeout=null),this.loadCancellationToken&&(this.loadCancellationToken.cancel(),this.loadCancellationToken=null)}load(e=!1){return this.cancelLoad(),new Promise((t=>{this.loadTimeout=window.setTimeout((()=>{this.loadCancellationToken=new a.AjaxCancellationToken,n.ajax.post("stickers.php",{act:"preview_products_order",cart:this.getJSON(),with_suggested_recipients:e?1:0},{cancellationToken:this.loadCancellationToken,onDone:e=>{(0,_.cacheProductsData)(e),Promise.all([this.loadItems(),this.loadOrder(e.order)]).then((([,r])=>{this.setOrder(r),e.recipients&&this.addRecipients(e.recipients),t(this)}),(()=>{}))},onFail:e=>(e&&window.__dev&&console.error(e),t(this),!0)})}),300)}))}order({ignoreEmptyError:e,emptyErrorLoader:t,...r}={}){return new Promise((a=>{n.ajax.post("stickers.php",{act:"order_products",cart:this.getJSON(),hash:r.hash||this.getOrder()?.hash,message:r.message,is_private:r.is_private?1:0,ref:r.ref,gift_ref:r.gift_ref,v:r.v,random_sticker_pack_attempt_id:r.randomStickerPackAttemptId},{onDone:e=>{requestAnimationFrame((()=>{(0,c.hideBoxLoader)()})),(0,_.cacheProductsData)(e),e.result.random_selector_result=e.random_selector_result,Promise.all([this.loadOrder(e.order),this.loadOrder(e.result)]).then((([e,t])=>{this.setOrder(e),a(t)}),(()=>{}))},onFail:r=>!r&&e?(t&&requestAnimationFrame((()=>{(0,c.showBoxLoader)()})),!0):(r&&console.error(r),a(null),!0)})}))}constructor(e,t=[]){this.loadTimeout=null,this.loadCancellationToken=null,this.isGift=!1,this.onChange=null,this._order=null,this.setItems(e),this.recipientIds=new Set(t),this.recipients=new Map}}},25221:(e,t,r)=>{"use strict";r.d(t,{StickerProductsGift:()=>b});var n=r(474848),a=r(296540),s=r(694244),_=r(782174),c=r(63614),l=r(303800),u=r(700272),d=r(945206),p=r(944048),E=r(908242),m=r(817590),g=r(246429),A=r(102088),f=r(866467),I=r(612831),y=r(847771),R=r(212125),O=r(890221),S=r(150445),T=r(764557),P=r(8520);const b=({cart:e,options:{ref:t,gift_ref:r},closeBox:b,updateBox:C})=>{const[D,M]=(0,R.useCart)(e),L=!D.isLoaded()&&M;(0,a.useEffect)((()=>{C()}),[L]);const N=D.getRecipientIds(),k=D.getOrder(),U=k&&!k.error&&k.items.find((e=>!e.error&&!(0,y.isSampleOrderItem)(e))),[B,x]=function(e){if(!e)return[null,null];let t;for(const r of e.items){const{product:e}=r;if(e&&(0,I.isPackProduct)(e)){t=e;break}}let r=e.items.filter((({product:e})=>e?.can_gift));const n=r.filter((e=>!e.error&&!(0,y.isSampleOrderItem)(e)));n.length&&(r=n);const a=new I.ProductsByType(r.map((e=>e.product))),s=a.pack.values().next().value,_=Array.from(a.style);let c="",l="";if(1===_.length)c=(0,A.langStr)((0,f.getLang)("purchases_stickers_gift_title_1_style"),"title",_[0].title),s?l=(0,A.langStr)((0,f.getLang)("purchases_stickers_gift_description_with_pack"),"title",s.title):t&&(l=(0,A.langStr)((0,f.getLang)("purchases_stickers_gift_description_for_pack"),"title",t.title));else if(s){if(c=(0,A.langStr)((0,f.getLang)("purchases_stickers_gift_title_pack"),"title",s.title),_.length)switch(_.length){case 2:l=(0,A.langStr)((0,f.getLang)("purchases_stickers_gift_description_with_2_styles"),"title1",_[0].title,"title2",_[1].title);break;case 3:l=(0,A.langStr)((0,f.getLang)("purchases_stickers_gift_description_with_3_styles"),"title1",_[0].title,"title2",_[1].title,"title3",_[2].title);break;case 4:l=(0,A.langStr)((0,f.getLang)("purchases_stickers_gift_description_with_3_styles_and_1_more"),"title1",_[0].title,"title2",_[1].title,"title3",_[2].title);break;default:const e=_.length-3;l=(0,A.langStr)((0,f.getLang)("purchases_stickers_gift_description_with_3_styles_and_n_more",e),"title1",_[0].title,"title2",_[1].title,"title3",_[2].title,"n",e)}}else if(_.length){switch(_.length){case 2:c=(0,A.langStr)((0,f.getLang)("purchases_stickers_gift_title_2_styles"),"title1",_[0].title,"title2",_[1].title);break;case 3:c=(0,A.langStr)((0,f.getLang)("purchases_stickers_gift_title_3_styles"),"title1",_[0].title,"title2",_[1].title,"title3",_[2].title);break;case 4:c=(0,A.langStr)((0,f.getLang)("purchases_stickers_gift_title_3_styles_and_1_more"),"title1",_[0].title,"title2",_[1].title,"title3",_[2].title);break;default:const e=_.length-3;c=(0,A.langStr)((0,f.getLang)("purchases_stickers_gift_title_3_styles_and_n_more",e),"title1",_[0].title,"title2",_[1].title,"title3",_[2].title,"n",e)}t&&(l=(0,A.langStr)((0,f.getLang)("purchases_stickers_gift_description_for_pack"),"title",t.title))}_.length?l+=" "+(0,f.getLang)("purchases_stickers_gift_description_styles"):l+=" "+(0,f.getLang)("purchases_stickers_gift_description");return[c,l]}(k),[,F]=(0,a.useState)(null);(0,a.useLayoutEffect)((()=>{const e=D.getRecipients();if(F(window.WideDropdown.init("StickerProductsGiftRecipientsDropdown",{defaultItems:e,items:e,noResult:(0,f.getLang)("gifts_nobody_found"),introText:(0,f.getLang)("gifts_start_typing_recipient"),maxItems:20,onChange:(e,t)=>{1===e?D.addRecipientId(+t):D.removeRecipientId(+t)}})),N.length)for(const e of N){const t=D.getRecipientById(e);t&&window.WideDropdown.select("StickerProductsGiftRecipientsDropdown",!1,t)}else window.WideDropdown.focus("StickerProductsGiftRecipientsDropdown");return()=>{window.WideDropdown.deinit("StickerProductsGiftRecipientsDropdown")}}),[L]);const[V,K]=(0,a.useState)(""),[W,H]=(0,a.useState)(!1),[G,j]=(0,a.useState)(!1),Y=()=>{G||(j(!0),D.order({message:V,is_private:W,ref:t,gift_ref:r}).then((e=>{j(!1),e&&!e.error&&((0,g.showDoneBox)(function(e,t){const r=new I.ProductsByType(e.items.filter((e=>!e.error)).map((e=>e.product))),n=function(e){const t=e.getPack(),r=e.getStyles();if(t)return r.length?(0,A.langStr)((0,f.getLang)("purchases_stickers_gift_result_products_pack_and_styles",r.length),"title",t.title,"styles_num",r.length):(0,A.langStr)((0,f.getLang)("purchases_stickers_gift_result_products_pack"),"title",t.title);if(r.length)switch(r.length){case 1:return(0,A.langStr)((0,f.getLang)("purchases_stickers_gift_result_products_1_style"),"title",r[0].title);case 2:return(0,A.langStr)((0,f.getLang)("purchases_stickers_gift_result_products_2_styles"),"title1",r[0].title,"title2",r[1].title);case 3:return(0,A.langStr)((0,f.getLang)("purchases_stickers_gift_result_products_3_styles"),"title1",r[0].title,"title2",r[1].title,"title3",r[2].title);case 4:return(0,A.langStr)((0,f.getLang)("purchases_stickers_gift_result_products_3_styles_and_1_more"),"title1",r[0].title,"title2",r[1].title,"title3",r[2].title);default:{const e=r.length-3;return(0,A.langStr)((0,f.getLang)("purchases_stickers_gift_result_products_3_styles_and_n_more",e),"title1",r[0].title,"title2",r[1].title,"title3",r[2].title,"n",e)}}return null}(r);if(!n)return null;const a=new Set;for(const r of e.items){const{error:e,recipient_id:n}=r;if(e)continue;const s=t(n);s&&a.add(s)}const s=function(e,t){const r=Array.from(e.values());switch(r.length){case 0:return null;case 1:{const e=1===t?(0,f.getLang)("purchases_stickers_gift_result_1_recipient_single","raw"):(0,f.getLang)("purchases_stickers_gift_result_1_recipient_multiple","raw");return(0,A.langStr)((0,f.langSex)(r[0][8],e),"name",r[0][8])}case 2:return(0,A.langStr)((0,f.getLang)("purchases_stickers_gift_result_2_recipients",t),"name1",r[0][8],"name2",r[1][8]);case 3:return(0,A.langStr)((0,f.getLang)("purchases_stickers_gift_result_3_recipients",t),"name1",r[0][8],"name2",r[1][8],"name3",r[2][8]);case 4:return(0,A.langStr)((0,f.getLang)("purchases_stickers_gift_result_4_recipients",t),"name1",r[0][8],"name2",r[1][8],"name3",r[2][8],"name4",r[3][8]);case 5:return(0,A.langStr)((0,f.getLang)("purchases_stickers_gift_result_5_recipients",t),"name1",r[0][8],"name2",r[1][8],"name3",r[2][8],"name4",r[3][8],"name5",r[4][8]);default:{const e=r.length-4,n=1===t?(0,f.getLang)("purchases_stickers_gift_result_4_recipients_and_n_more_single"):(0,f.getLang)("purchases_stickers_gift_result_4_recipients_and_n_more_multiple");return(0,A.langStr)(n,"name1",r[0][8],"name2",r[1][8],"name3",r[2][8],"name4",r[3][8],"n",e)}}return null}(a,r.getCount());if(!s)return null;return(0,A.langStr)(s,"products",n)}(e,(e=>D.getRecipientById(e)))),b())}),(()=>{})))};return(0,a.useEffect)((()=>{window.WideDropdown.disable("StickerProductsGiftRecipientsDropdown",G)}),[G]),(0,n.jsxs)(s.ModalBox,{"data-testid":"sticker-gift-modal",children:[(0,n.jsx)(_.ModalHeader,{onClose:b,closeAriaLabel:(0,f.getLang)("global_close"),children:(0,f.getLang)("purchases_stickers_gift_box_title")}),(0,n.jsx)(c.ModalBody,{insetLevel:2,children:L?(0,n.jsx)(l.Div,{children:(0,n.jsx)(u.Spinner,{stretched:!0})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(O.default,{order:k,forceValid:!U}),(0,n.jsx)("h1",{className:"StickerProductsGift__productsTitle",children:(0,P.decodeHTMLEntities)(B||"")}),(0,n.jsx)("p",{className:"StickerProductsGift__productsDescription",children:(0,P.decodeHTMLEntities)(x||"")}),k&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("dl",{className:"StickerProductsGift__price",children:[(0,n.jsx)("dt",{className:"StickerProductsGift__priceLabel",children:(0,f.getLang)("purchases_gift_price_label")})," ",(0,n.jsx)("dd",{className:"StickerProductsGift__priceValue",children:(0,f.getLang)("global_n_votes",k.price.current)})]}),(0,n.jsx)("div",{className:"StickerProductsGift__balance",children:(0,A.langStr)((0,f.getLang)("gifts_you_have_X_votes"),"votes",(0,f.getLang)("global_n_votes",k.balance))})]}),(0,n.jsxs)("div",{className:"StickerProductsGift__recipients",children:[(0,n.jsx)("label",{className:"StickerProductsGift__recipientsLabel",htmlFor:"StickerProductsGiftRecipientsInput",children:(0,f.getLang)("gifts_receiver")}),(0,n.jsxs)("div",{className:"wdd StickerProductsGift__recipientsDropdown",id:"StickerProductsGiftRecipientsDropdown",children:[(0,n.jsx)("div",{className:"fl_r wdd_arr"}),(0,n.jsx)("input",{className:"wdd_text fl_l",id:"StickerProductsGiftRecipientsInput",placeholder:(0,f.getLang)("gifts_choose_recipients")})]})]}),(0,n.jsxs)("div",{className:"StickerProductsGift__message",children:[(0,n.jsx)("label",{className:"StickerProductsGift__messageLabel",htmlFor:"StickerProductsGiftMessageInput",children:(0,f.getLang)("purchases_gift_your_message")}),(0,n.jsx)(d.Textarea,{id:"StickerProductsGiftMessageInput",rows:3,value:V,onChange:e=>K(e.currentTarget.value),onResize:()=>C(),disabled:G})]}),(0,n.jsx)(p.Checkbox,{noPadding:!0,stretched:!1,checked:W,disabled:G,onChange:()=>H(!W),children:(0,f.getLang)("gifts_receiver_only")})]})}),(0,n.jsx)(E.ModalFooter,{before:(0,n.jsx)("div",{className:"StickerProductsGift__footerNote",children:!M&&k&&(0,n.jsxs)("div",{className:"StickerProductsGift__details",children:[(0,f.getLang)("purchases_stickers_gift_details_label"),(0,n.jsx)(m.HintIcon,{gap:"l",tooltip:{placement:"top",...(0,S.stickerProductsGiftDetails)({order:k,recipients:D.getRecipientsMap()})}})]})}),actions:(0,n.jsx)(T.default,{className:"StickerProductsGift__gift",mode:U?"primary":"secondary",size:"m",loading:M||G,disabled:!U,price:k?.price,text:U?(0,A.langStr)((0,f.getLang)("purchases_stickers_gift_send_for"),"price",(0,f.getLang)("global_n_votes",k?.price.current)):(0,f.getLang)("purchases_stickers_gift_send"),onClick:()=>Y()})})]})}},150445:(e,t,r)=>{"use strict";r.d(t,{stickerProductsGiftDetails:()=>p});var n=r(474848),a=r(296540),s=r(8520),_=r(373080),c=r(102088),l=r(866467),u=r(847771),d=r(612831);const p=({order:e,recipients:t})=>{const r=function(e){if(!e)return null;let t=e.items.filter((({product:e})=>e?.can_gift));const r=t.filter((e=>!e.error&&!(0,u.isSampleOrderItem)(e)));r.length&&(t=r);const n=[],a=[];for(const e of t){const{product:t}=e;t&&((0,d.isPackProduct)(t)?n.push(e):(0,d.isStyleProduct)(t)&&a.push(e))}const s=a.reduce(((e,t)=>e+(t.price?.current||0)),0);if(n.length){const e=n.reduce(((e,t)=>e+(t.price?.current||0)),0);return a.length?(0,c.langStr)((0,l.getLang)("purchases_stickers_gift_details_summary_pack_with_styles",a.length),"pack_price_sum",(0,l.getLang)("global_n_votes",e),"styles_num",a.length,"styles_price_sum",(0,l.getLang)("global_n_votes",s)):(0,c.langStr)((0,l.getLang)("purchases_stickers_gift_details_summary_pack"),"pack_price_sum",(0,l.getLang)("global_n_votes",e))}if(a.length)return(0,c.langStr)((0,l.getLang)("purchases_stickers_gift_details_summary_styles",a.length),"styles_num",a.length,"styles_price_sum",(0,l.getLang)("global_n_votes",s));return null}(e)||"",p=new Map;for(const r of e.items){const{error:e,product:n,recipient_id:a}=r;if(e)continue;const s=t.get(a);if(!s)continue;let _=p.get(s);_||(_=new d.ProductsByType,p.set(s,_)),_.add(n)}const m=Array.from(p.entries()),g=m.length,A={maxWidth:291,text:m.map((([e,t])=>(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)(_.InnerHTML,{Component:"span",children:e[1]}),": ",(0,s.decodeHTMLEntities)(E(t)||"")," "]},e[0])))};return A[r&&g?"header":"text"]=(0,n.jsx)(_.InnerHTML,{children:r}),A};function E(e){const t=e.getPack(),r=e.getStyles();let n="";return r.length&&(n=r.map((e=>(0,c.langStr)((0,l.getLang)("purchases_stickers_gift_details_recipient_style_title"),"title",e.title))).join(", ")),t?n?(0,c.langStr)((0,l.getLang)("purchases_stickers_gift_details_recipient_pack_and_styles"),"pack_title",t.title,"style_titles",n):(0,c.langStr)((0,l.getLang)("purchases_stickers_gift_details_recipient_pack"),"title",t.title):n?(0,c.langStr)((0,l.getLang)("purchases_stickers_gift_details_recipient_styles"),"style_titles",n):null}},890221:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var n=r(474848),a=r(8520),s=r(612831),_=r(847771);const c={s:56,m:96,l:168},l="sticker-products-gifts-icon",u=({order:e,forceValid:t=!1})=>{const r=new Map,u=new Map;if(e)for(const t of e.items){const{product:e}=t;e&&((0,s.isPackProduct)(e)?r.has(e)?r.get(e)?.push(t):r.set(e,[t]):(0,s.isStyleProduct)(e)&&(u.has(e)?u.get(e)?.push(t):u.set(e,[t])))}const d=r.keys().next().value,p=(d?1:0)+u.size,E=p>1?p>2?"s":"m":"l",m=c[E],g=Array.from(u.entries());t||g.sort((([,e],[,t])=>t.filter((e=>!e.error)).length-e.filter((e=>!e.error)).length));const A=g.slice(0,3);let f=g.slice(3),I=!0;if(!t){const e=f.filter((([,e])=>e.find((e=>!e.error))));e.length?f=e:I=!1}return(0,n.jsxs)("ul",{className:"StickerProductsGiftIcons",children:[d&&(0,n.jsx)("li",{"data-testid":l,className:(0,a.classNames)("StickerProductsGiftIcons__icon",`StickerProductsGiftIcons__icon--${E}`,"StickerProductsGiftIcons__icon--pack",{"StickerProductsGiftIcons__icon--invalid":!t&&!r.get(d)?.find((e=>!e.error))}),style:{backgroundImage:`url(${(0,_.getStickerPackIconUrl)(d,m,m)})`}},d.id),A.map((([e,r])=>(0,n.jsx)("li",{"data-testid":l,className:(0,a.classNames)("StickerProductsGiftIcons__icon",`StickerProductsGiftIcons__icon--${E}`,"StickerProductsGiftIcons__icon--style",{"StickerProductsGiftIcons__icon--invalid":!t&&!r.find((e=>!e.error))}),style:{backgroundImage:`url(${(0,_.getStickerPackIconUrl)(e,m,m)})`}},e.id))),f.length?(0,n.jsxs)("li",{"data-testid":l,className:(0,a.classNames)("StickerProductsGiftIcons__icon",`StickerProductsGiftIcons__icon--${E}`,"StickerProductsGiftIcons__icon--more",{"StickerProductsGiftIcons__icon--invalid":!I}),children:["+",f.length]},"more"):null]})}},764557:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var n=r(474848),a=r(296540),s=r(454154),_=r(8520),c=r(866467);const l=({className:e,price:t,text:r,placeholder:l,...u})=>{let d=(0,a.useMemo)((()=>{if(t){let e;t.current!==t.regular&&t.regular&&(e=(0,n.jsx)("span",{className:"StickersPriceButton__regular",children:t.current?t.regular:(0,c.langStr)((0,c.getLang)("purchases_stickers_n_for_m"),"%n","","%m",(0,c.getLang)("global_n_votes",t.regular))},"regular"));const a=(0,n.jsx)("span",{className:"StickersPriceButton__current",children:t.current?(0,c.getLang)("global_n_votes",t.current):(0,c.getLang)("purchases_for_free_btn").toLowerCase()},"current");return r?r.split(/(\{regular_price\}|\{price\})/).map(((t,r)=>"{regular_price}"===t?e:"{price}"===t?a:t?(0,n.jsx)("span",{className:"StickersPriceButton__label",children:t},`label${r}`):void 0)):[e,a]}return[l]}),[r,l,t?.regular,t?.current]);return(0,n.jsx)(s.Button,{className:(0,_.classNames)("StickersPriceButton",e),...u,children:d})}},614098:(e,t,r)=>{"use strict";r.d(t,{REGULAR_SIZES:()=>s,SIZE_512:()=>a,STICKER_ICON_CLASS:()=>c,STICKER_ROW_CLASS:()=>_,StickerSize:()=>n});var n=function(e){return e[e.SMALL=128]="SMALL",e[e.MIDDLE=168]="MIDDLE",e[e.BIG=208]="BIG",e}({});const a=512,s=[64,128,256,352,a],_="stickerRow",c="stickerIcon"},212125:(e,t,r)=>{"use strict";r.d(t,{useCart:()=>a});var n=r(296540);const a=e=>{const[t,r]=(0,n.useState)(e),[a,s]=(0,n.useState)(null),_=(0,n.useCallback)((()=>{const e=t.load();s(e),e.then((t=>{r(t),s((t=>t===e?null:t))}),(()=>{}))}),[t]);return(0,n.useEffect)((()=>(t.onChange=_,t.isLoaded()||_(),()=>{t.onChange=null,t.cancelLoad()})),[t]),[t,null!==a]}},440487:(e,t,r)=>{"use strict";r.d(t,{activateProduct:()=>E,cacheProductsData:()=>s,getProduct:()=>p,getProductFromCache:()=>_,getProducts:()=>d,getProductsFromCache:()=>c,updateUserProductState:()=>m});var n=r(761520),a=r(944041);const s=(e,t=[])=>{const r=(0,a.getCache)();if(e.stickers){const{stickers:t}=r;for(const r of e.stickers)t.has(r.id)?t.set(r.id,{...t.get(r.id),...r}):t.set(r.id,r)}if(e.products)for(const t of e.products)r.products.set(t.id,t),r.productPromises.delete(t.id);for(const e of t)r.products.has(e)||r.products.set(e,null),r.productPromises.delete(e);e.emoji&&window.Emoji&&window.Emoji.updateTabs(e.emoji.stickers,e.emoji.keywords,!0),(0,a.updateCache)(r)},_=e=>(0,a.getCache)().products.get(e),c=e=>{const t=(0,a.getCache)().products;return e.map((e=>t.get(e)))};function l(){let{productsPromise:e}=(0,a.getCache)();return e||(e=new Promise((e=>setTimeout((()=>{const t=(0,a.getCache)().productIdsQueue,r=Array.from(t);t.clear(),(0,a.updateCache)({productIdsQueue:t,productsPromise:void 0}),n.ajax.post("stickers.php",{act:"get_products",product_ids:r},{onDone(t){s(t,r),e([])},onFail:t=>(console.error(t),s({},r),e([]),!0)})}),300))),(0,a.updateCache)({productsPromise:e})),e}const u=e=>{if(!e.length)return Promise.resolve([]);const{productPromises:t,productIdsQueue:r}=(0,a.getCache)(),n=new Set;for(const a of e)if(t.has(a)){const e=t.get(a);e&&n.add(e)}else{r.add(a);const e=l();t.set(a,e),n.add(e)}return(0,a.updateCache)({productIdsQueue:r,productPromises:t}),Promise.all(n).then((()=>c(e)))},d=(e,t=!0)=>{const r=t?e.filter((e=>void 0===_(e))):e;return r.length?u(r).then((()=>c(e))):Promise.resolve(c(e))},p=(e,t=!0)=>{if(t){const t=_(e);if(void 0!==t)return Promise.resolve(t)}return u([e]).then((()=>_(e)))},E=e=>new Promise((t=>{n.ajax.post("stickers.php",{act:"activate_product",product_id:e.id,hash:e.csrf_hash},{onDone(e){s(e),t()},onFail:e=>(console.error(e),t(),!0)})})),m=(e,t,r,a=!0)=>new Promise((_=>{n.ajax.post("stickers.php",{act:"update_user_product_state",product_ids:[e],key:t,value:r},{onDone(e){a&&s(e),_()},onFail:e=>(console.error(e),_(),!0)})}))},67631:(e,t,r)=>{"use strict";r.d(t,{giftStickerProducts:()=>g,giftStickersCart:()=>m});var n=r(474848),a=r(440961),s=r(865708),_=r(270959),c=r(205338),l=r(540462),u=r(416577),d=r(177838),p=r(944041),E=r(25221);function m(e,t){const{productsGiftLock:r}=(0,p.getCache)();if(r)return null;let u,m;(0,p.updateCache)({productsGiftLock:!0});const g={...t};function A(){return u?.bodyNode.querySelector(".StickersProductsGift")}function f(){u?.hide()}function I(){u?.updateBoxCoords()}return(0,d.showLoader)(),e.isGift=!0,Promise.all([e.load(!0),window.stManager.add(["stickers.css",window.jsc("web/wide_dd.js"),"wide_dd.css"])]).then((([e])=>{(0,d.hideLoader)(),u=new _.MessageBox({hideButtons:!0,bodyStyle:"padding: 0; background: none;",width:450,onShow(){!function(e){const t=A();t&&((0,l.partConfigEnabled)("enable_create_root")?(m||(m=(0,c.createRoot)(t)),m.render((0,n.jsx)(s.AppRootProvider,{children:(0,n.jsx)(E.StickerProductsGift,{cart:e,options:g,closeBox:f,updateBox:I})}))):a.render((0,n.jsx)(s.AppRootProvider,{children:(0,n.jsx)(E.StickerProductsGift,{cart:e,options:g,closeBox:f,updateBox:I})}),t))}(e),requestAnimationFrame((()=>{I()}))},onHideAttempt:()=>(function(){const e=A();(0,l.partConfigEnabled)("enable_create_root")?m?.unmount():e&&a.unmountComponentAtNode(e)}(),!0),onHide(){(0,p.updateCache)({productsGiftLock:!1})}}),u.content('<div class="StickersProductsGift"></div>'),u.show()}),(()=>{})),{hide:f}}function g(e,t=[],r){return m(u.Cart.create(e,t),r)}},177838:(e,t,r)=>{"use strict";r.d(t,{findClosestStickerSize:()=>y,getBoxLayerWrap:()=>E,getLangCode:()=>I,getPurchaseResult:()=>A,hideLoader:()=>g,showLoader:()=>m,updateStickersFromQueue:()=>f});var n=r(102088),a=r(866467),s=r(19589),_=r(754866),c=r(246429),l=r(612831),u=r(614098),d=r(847771);function p(){return document.querySelector("#box_loader")}function E(){return document.querySelector("#box_layer_wrap")}function m(){const e=p();(0,c.refreshBoxLoaderCoords)(),(0,_.show)(e),(0,_.show)(E())}function g(){(0,_.hide)(p())}function A(e){const t=new l.ProductsByType(e.items.filter((e=>!e.error)).map((e=>e.product))),r=t.getPack(),s=t.getStyles();if(r)return s.length?(0,n.langStr)((0,a.getLang)("purchases_stickers_purchase_result_pack_and_styles",s.length),"pack_title",r.title,"n",s.length):(0,n.langStr)((0,a.getLang)("purchases_stickers_purchase_result_pack"),"title",r.title);if(s.length)switch(s.length){case 1:return(0,n.langStr)((0,a.getLang)("purchases_stickers_purchase_result_1_style"),"title",s[0].title);case 2:return(0,n.langStr)((0,a.getLang)("purchases_stickers_purchase_result_2_styles"),"title1",s[0].title,"title2",s[1].title);case 3:return(0,n.langStr)((0,a.getLang)("purchases_stickers_purchase_result_3_styles"),"title1",s[0].title,"title2",s[1].title,"title3",s[2].title);case 4:return(0,n.langStr)((0,a.getLang)("purchases_stickers_purchase_result_3_styles_and_1_more"),"title1",s[0].title,"title2",s[1].title,"title3",s[2].title);default:const e=s.length-3;return(0,n.langStr)((0,a.getLang)("purchases_stickers_purchase_result_3_styles_and_n_more",e),"title1",s[0].title,"title2",s[1].title,"title3",s[2].title,"n",e)}return null}function f(e){!function(e){const t=s.colorScheme.isDarkScheme()?"data-src-dark":"data-src-light";e.querySelectorAll(`.sticker_img[${t}]`).forEach((e=>{const r=e.getAttribute(t);r&&(e.src=r)}))}(e)}const I=()=>window.vk.lang||"ru",y=e=>e>u.SIZE_512?((0,d.logStickersError)("Нет размера стикера больше 512px"),u.SIZE_512):u.REGULAR_SIZES.find((t=>t>=e))},602204:(e,t,r)=>{"use strict";function n(){const e=[window.jsc("web/stories.js"),"stories.css",window.jsc("web/emoji.js")];return window.stManager.add(e)}r.d(t,{loadStoryViewerStatic:()=>n})},288478:(e,t,r)=>{"use strict";r.d(t,{injectTimestampIntoParamsObj:()=>c,makeWrappedImporter:()=>_});var n=r(8520),a=r(996361),s=r(703280);function _(e){let t=null;return r=>{if(!(0,s.isStoryPerfStatsEnabledOnDesktopWeb)())return;const _=performance.now();t||(t=(0,a.sleep)(50).then((()=>(0,n.asyncImportLoader)(e,3))),t.then((()=>{}))),t.then((e=>r(e,_)),(()=>{}))}}function c(e,t=performance.now()){return{...e,time:e.time??t}}},703280:(e,t,r)=>{"use strict";r.d(t,{isStoryPerfStatsEnabledOnDesktopWeb:()=>_});var n=r(540462);const a=()=>(0,n.partConfigEnabled)("tech_stories_metrics_web"),s=()=>(0,n.partConfigEnabled)("tech_stories_metrics_web_mvk");function _(){return a()&&s()}},194065:(e,t,r)=>{"use strict";r.d(t,{trackHideViewerLoader:()=>E,trackShowViewerLoader:()=>p,trackStoryClosed:()=>u,trackStoryDownloadEnd:()=>l,trackStoryDownloadFailure:()=>d,trackStoryOpened:()=>_,trackStoryOpeningStart:()=>s,trackStoryViewerClosed:()=>c});var n=r(288478);const a=(0,n.makeWrappedImporter)((()=>Promise.all([r.e(12334),r.e("langs/web/stories-perf-metrics")]).then(r.bind(r,166756)))),s=e=>{a(((t,r)=>{t.trackStoryOpeningStart((0,n.injectTimestampIntoParamsObj)(e,r))}))},_=e=>{a(((t,r)=>{t.trackStoryOpened((0,n.injectTimestampIntoParamsObj)(e,r))}))},c=e=>{a(((t,r)=>{t.trackStoryViewerClosed((0,n.injectTimestampIntoParamsObj)(e,r))}))},l=e=>{a(((t,r)=>{t.trackStoryDownloadEnd((0,n.injectTimestampIntoParamsObj)(e,r))}))},u=e=>{a(((t,r)=>{t.trackStoryClosed((0,n.injectTimestampIntoParamsObj)(e,r))}))},d=e=>{a(((t,r)=>{t.trackStoryDownloadFailure((0,n.injectTimestampIntoParamsObj)(e,r))}))},p=e=>{a(((t,r)=>{t.trackShowViewerLoader((0,n.injectTimestampIntoParamsObj)(e,r))}))},E=e=>{a(((t,r)=>{t.trackHideViewerLoader((0,n.injectTimestampIntoParamsObj)(e,r))}))}},298544:(e,t,r)=>{"use strict";r.d(t,{getSearchQuery:()=>n});const n=()=>"feed"===window.cur?.module&&"search"===window.cur?.section?window.cur.q??"":""},762673:(e,t,r)=>{"use strict";r.d(t,{parseList:()=>a});var n=r(540462);const a=e=>{e.match(/story/)&&(e=decodeURIComponent(e));const t=(0,n.partConfigEnabled)("stories.access_hash_jwt_enable")?e.match(/^(?:story)?(?:(-?\d+)(?:_(\d+))?(?:&([a-z0-9]+))?|([a-z0-9]+))?(?:\/([a-z0-9_\-]+))?(?:\/([a-z0-9_:;\-\.]+))?$/i):e.match(/^(?:story)?(?:(-?\d+)(?:_(\d+))?(?:&([a-z0-9]+))?|([a-z0-9]+))?(?:\/([a-z0-9_\-]+))?(?:\/([a-z0-9_:;\-]+))?$/i);if(!t)return[];const[,r,a,s,_,c,l]=t;return[r,a,s,_,c,l]}},852392:(e,t,r)=>{"use strict";r.d(t,{createAppearanceModifier:()=>a,createElement:()=>_,createSizeModifier:()=>s,setContent:()=>c});var n=r(581197);function a(e){return`FlatButton--${e}`}function s(e){return`FlatButton--size-${e}`}function _(e,t){const r=document.createElement(e);return t&&(r.className=t),r}function c(e,t){null!=t&&((0,n.emptyNode)(e),"string"==typeof t?e.innerHTML=t:e.appendChild(t))}},952661:(e,t,r)=>{"use strict";r.d(t,{FlatButton:()=>d,FlatButtonAppearance:()=>c.FlatButtonAppearance,FlatButtonSize:()=>c.FlatButtonSize});var n=r(8520),a=r(950189),s=r(801746),_=r(852392),c=r(499088),l=r(249257);function u(e){return!!e&&e.classList.contains("FlatButton--locked")}const d={isFlatButton:function(e){return Boolean(e&&e.classList&&e.classList.contains("FlatButton"))},lock:function(e){if(!e||u(e))return;const t=e.classList.contains((0,_.createSizeModifier)(c.FlatButtonSize.L)),r=t?(0,a.getIcon24Spinner)().icon:(0,s.getIcon16Spinner)().icon,l=(0,_.createElement)("span",(0,n.classNames)("FlatButton__spinner",{"FlatButton__spinner--l":t}));l.innerHTML=r,e.appendChild(l),e.classList.add("FlatButton--locked")},unlock:function(e){e&&(e.querySelector(".FlatButton__spinner")?.remove(),e.classList.remove("FlatButton--locked"))},isLocked:u,isDisabled:function(e){return!!e&&e.classList.contains("FlatButton--disabled")},render:l.render,setDisabled:function(e,t=!0){e&&("button"===e.tagName.toLowerCase()&&(e.disabled=t),e.classList.toggle("FlatButton--disabled",t))},getAppearance:function(e){if(e)return Object.values(c.FlatButtonAppearance).find((t=>e.classList.contains((0,_.createAppearanceModifier)(t))))},setAppearance:function(e,t){e&&Object.values(c.FlatButtonAppearance).forEach((r=>{e.classList.toggle((0,_.createAppearanceModifier)(r),r===t)}))},setSize:function(e,t){e&&Object.values(c.FlatButtonSize).forEach((r=>{e.classList.toggle((0,_.createSizeModifier)(r),r===t)}))},setLabel:function(e,t){const r=e.querySelector(".FlatButton__in");if(!r)return;const n=r.querySelector(".FlatButton__content");n?(0,_.setContent)(n,t):r.prepend((0,l.renderContent)(t))},setBefore:function(e,t){const r=e?.querySelector(".FlatButton__in");if(!r)return;const n=e.querySelector(".FlatButton__before");null!=t?n?(0,_.setContent)(n,t):r.prepend((0,l.renderBefore)(t)):n?.remove()},setAfter:function(e,t){const r=e?.querySelector(".FlatButton__in");if(!r)return;const n=e.querySelector(".FlatButton__after");null!=t?n?(0,_.setContent)(n,t):r.prepend((0,l.renderAfter)(t)):n?.remove()}}},249257:(e,t,r)=>{"use strict";r.d(t,{render:()=>s,renderAfter:()=>c,renderBefore:()=>_,renderContent:()=>l});var n=r(8520),a=r(852392);function s(e){const{children:t,before:r,after:s,className:u,appearance:d,size:p,round:E,wide:m,flexWide:g,href:A,disabled:f,noPointerEventsForContent:I,restAttrs:y={},dangerousAttrbutesCode:R}=e,O={...y};let S;A?(S=document.createElement("a"),O.href=A):(S=document.createElement("button"),O.type||(O.type="button"));const T=S.tagName.toLowerCase(),P=!t&&Boolean(s)!==Boolean(r);S.className=(0,n.classNames)("FlatButton",(0,a.createAppearanceModifier)(d),(0,a.createSizeModifier)(p),{"FlatButton--round":E,"FlatButton--wide":m,"FlatButton--flexWide":g,"FlatButton--disabled":f,"FlatButton--singleIcon":P},u),Object.entries(O).forEach((([e,t])=>{null!=t&&S.setAttribute(e,String(t))})),f&&"button"===T&&(S.disabled=!0);const b=(0,a.createElement)("span",(0,n.classNames)("FlatButton__in",{"FlatButton__in--noPointerEvents":I}));if(S.appendChild(b),r&&b.appendChild(_(r)),t){const e=l(t);b.appendChild(e)}if(s&&b.appendChild(c(s)),R){const e=document.createElement("div");e.innerHTML=`<div ${R}></div>`;const t=e.firstElementChild;if(!t)return S;const r=t.attributes;Object.keys(r).forEach((e=>{const t=r[Number(e)],n=t.value;null!=n&&S.setAttribute(t.name,n)}))}return S}function _(e){const t=(0,a.createElement)("span","FlatButton__before");return(0,a.setContent)(t,e),t}function c(e){const t=(0,a.createElement)("span","FlatButton__after");return(0,a.setContent)(t,e),t}function l(e){const t=(0,a.createElement)("span","FlatButton__content");return(0,a.setContent)(t,e),t}},499088:(e,t,r)=>{"use strict";r.d(t,{FlatButtonAppearance:()=>n,FlatButtonSize:()=>a});const n={PRIMARY:"primary",SECONDARY:"secondary",TERTIARY:"tertiary",POSITIVE:"positive",NEGATIVE:"negative",OVERLAY_PRIMARY:"overlay-primary",ACCENT_OUTLINE:"accent-outline"},a={S:"s",M:"m",L:"l"}},933983:(e,t,r)=>{"use strict";r.d(t,{PageActionCell:()=>c});var n=r(754866),a=r(801746);function s(e){return null!=e&&e.classList.contains("PageActionCell")}const _="PageActionCell--locked";const c={isPageActionCell:s,isLocked:function(e){return s(e)&&e.classList.contains(_)},lock:function(e){e&&(e.classList.contains(_)||(e.lockTimeout&&clearTimeout(e.lockTimeout),e.resetLockTimeout=!1,e.lockTimeout=window.setTimeout((()=>{if(!e.resetLockTimeout){const t=(0,n.ce)("div",{className:"PageActionCell__spinner"});t.innerHTML=(0,a.getIcon16Spinner)().icon,e.prepend(t),e.classList.add(_)}}),500)))},unlock:function(e){if(e&&(e.resetLockTimeout=!0,e.classList.contains(_))){e.classList.remove(_);const t=e.querySelector(".PageActionCell__spinner");t&&t.remove()}},update:function(e,t){const{icon:r,label:n,counter:a}=t,s=e.querySelector(".PageActionCell__label");if(s&&(s.innerHTML=n),void 0!==r){const t=e.querySelector(".PageActionCell__icon");t&&(t.innerHTML=r)}if(void 0!==a){const t=e.querySelector(".PageActionCell__counter");t&&(t.innerHTML=a)}},setDescription:function(e,t){let r=e.querySelector(".PageActionCell__description");(r||t)&&(r||(r=document.createElement("span"),r.className="PageActionCell__description",e.querySelector(".PageActionCell__in")?.append(r)),t?r.innerHTML=t:r.remove(),e.classList.toggle("PageActionCell--with-desc",Boolean(t)))},getLabelElement:function(e){return e.querySelector(".PageActionCell__label")},getCounter:function(e){let t=e.querySelector(".PageActionCell__counter");return t&&Number(t.innerHTML)||0},setCounter:function(e,t){let r=e.querySelector(".PageActionCell__counter");!r&&t<=0||(r||(r=document.createElement("div"),r.classList.add("PageActionCell__counter"),e.appendChild(r)),t<=0?r.remove():r.innerHTML=String(t))}}},481104:(e,t,r)=>{"use strict";async function n(e,t={}){const{UnauthActionBox:n}=await Promise.all([r.e(91498),r.e(89631),r.e(50560),r.e(85172),r.e(21529),r.e(15176),r.e(43015),r.e(34854),r.e(96736),r.e(55012),r.e(77395),r.e(73375),r.e(52899),r.e(86427),r.e(9948),r.e(81661),r.e(84835),r.e("langs/web/unauth_action_box")]).then(r.bind(r,711615));return n.show(e,t)}r.d(t,{loadUnauthorizedActionBox:()=>n})},672263:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Unauthorized:()=>d,UnauthorizedSourceType:()=>a.UnauthorizedSourceType,isUnauthorizedMediaLayerBoxAvailable:()=>c});var n=r(540462),a=r(558e3),s=r(810068),_=r(481104);function c(){return!s.Ranges.isUserId(window.vk.id)&&!window.layers.visible&&(0,n.partConfigEnabled)("unauthorized_media_layer_box")&&!!document.querySelector(".PageBottomBanner--unauth")}let l,u=!1;const d={initScrollMoreBox:function(e){const t=()=>{u=!1,window.removeEventListener("scroll",l)};t(),l=()=>{if(u)return;if(window.layers?.visible)return;if(window.cur.unauthScrollMoreBox)return;window.pageYOffset>=2*window.innerHeight&&(u=!0,(0,_.loadUnauthorizedActionBox)(e))},e.showOnLoad&&(u=!0,(0,_.loadUnauthorizedActionBox)(e)),window.addEventListener("scroll",l),window.cur.beforeNavigateRequestHandlers?.push((()=>t()))},showMoreBox:function(e,t,r,n){e&&e.preventDefault(),window.ajax.post("/al_index.php?act=a_unauthorized_box",{action:"more",owner_id:t,source:r},{loader:!0,onDone:e=>{e.unauth_action_box?(0,_.loadUnauthorizedActionBox)(e.unauth_action_box,{onHide:n}):n&&n()}})}}},55090:(e,t,r)=>{"use strict";r.d(t,{isWidget:()=>n});const n=()=>window.vk.widget},450927:(e,t,r)=>{"use strict";function n(){return window.stManager.add([window.jsc("web/video.js")])}function a(){return window.VideoUpload?Promise.resolve({VideoUpload:window.VideoUpload,VideoUploadSubtitles:window.VideoUploadSubtitles,VideoInlineUpload:window.VideoInlineUpload}):Promise.all([r.e(91498),r.e(89631),r.e(50560),r.e(85172),r.e(762),r.e(21529),r.e(17488),r.e(76954),r.e(1060),r.e(15176),r.e(34854),r.e(96736),r.e(55012),r.e(77395),r.e(91567),r.e(73375),r.e(52899),r.e(86427),r.e(9948),r.e(16433),r.e(87548),r.e(81661),r.e(51943),r.e("langs/web/VideoUpload")]).then(r.bind(r,193773)).then((({initVideoUpload:e,VideoUpload:t,VideoUploadSubtitles:n,VideoInlineUpload:a})=>(!window.VideoUpload&&t&&r._dG("VideoUpload",t),!window.VideoUploadSubtitles&&n&&r._dG("VideoUploadSubtitles",n),!window.VideoInlineUpload&&a&&r._dG("VideoInlineUpload",a),e(),{VideoUpload:t,VideoUploadSubtitles:n,VideoInlineUpload:a})))}function s(){return window.stManager.add([window.jsc("web/video_showcase.js")])}function _(){return window.stManager.add([window.jsc("web/indexer.js")])}function c(){return window.stManager.add([window.jsc("web/grid_sorter.js")])}r.d(t,{getGridSorterModule:()=>c,getIndexerModule:()=>_,getVideoModule:()=>n,getVideoShowcaseModule:()=>s,getVideoUploadModule:()=>a})},826619:(e,t,r)=>{"use strict";r.d(t,{CreatePlaylistRequestOrigin:()=>C,PlaylistFormEvents:()=>P,VideoAddToPlaylistActionSheetEvents:()=>S,VideoCardAddButtonEvents:()=>T,VideoCardEvents:()=>b,VideoOrderEvents:()=>O,checkVideoIsPreloaded:()=>y,createPlaylistPopup:()=>g,createPlaylistPopupExtended:()=>A,determineEventSubtype:()=>k,getAdditionalInfo:()=>d.getAdditionalInfo,getFormattedBigViewsToShortCase:()=>d.getFormattedBigViewsToShortCase,getFormattedPostponePublishDateTime:()=>d.getFormattedPostponePublishDateTime,getFormattedUpdatedTime:()=>d.getFormattedUpdatedTime,getOwnerForShortVideo:()=>D,getTimeParam:()=>B,getVideoTrackCode:()=>E,idlizeCall:()=>p,isMediaHlsSupported:()=>R,isValidContextKey:()=>U,logClipClick:()=>m,redirectToRedesignedForm:()=>L,saveShortVideoData:()=>M,startLiveVideoPopup:()=>I,uploadVideoPopup:()=>f});var n=r(450927),a=r(317216),s=r(314309),_=r(468073),c=r(957994),l=r(573825),u=r(89972),d=r(856289);const p=(e,t=1e3)=>{const r=()=>{setTimeout((()=>e()),t)};return"function"==typeof window.requestIdleCallback?window.requestIdleCallback(r,{timeout:5e3}):r()},E=()=>window?.Videoview?.getMvData()?.track_code||window.mvcur?.options?.addParams?.track_code,m=(e,t)=>{s.shortVideoStatsCollector.logEvent({type:a.EventItemType.CLIP,action:e,track_code:t})},g=async({event:e,ownerId:t,videoId:r,videoOwnerId:a,requestOrigin:s,onClose:_,noPublicAdd:c})=>{window.Video||await(0,n.getVideoModule)(),window.Video.createAlbum(e,t,r,a,s,_,c)},A=({event:e,ownerId:t,callback:r,...n})=>{const a=window.nav.strLoc,s=window.location.search;window.nav.setLoc(`${(0,d.getPlaylistCreateURL)()}${s}`);const _=()=>window.nav.setLoc(a);r?r({ownerId:t,onCreate:window.nav.reload,onClose:_}):g({...n,event:e,ownerId:t,onClose:_}).catch()},f=(e,t,r,n=!1,a="")=>{window.VideoUpload.showBox({aid:t,from:"video",oid:e,disabled:r,isClipsUploading:n,sourceId:a})},I=(e,t)=>{const r=window.nav.strLoc,n=()=>window.nav.setLoc(t??r),a=window.location.search;window.nav.setLoc(`${(0,d.getLiveStartURL)()}${a}`),window.cur.webcast_settings?window.VideoUpload.showLiveVideoLeaveWarning(e,{onDestroy:n}):window.VideoUpload.showLiveTypeModal(e,{onDestroy:n})},y=e=>Object.keys(window.ajaxCache).some((t=>t.startsWith("/al_video.php?act=video_box")&&t.includes(`&video=${e}`))),R=()=>window.MediaSource&&MediaSource.isTypeSupported&&MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),O={START_LOADING:"VideoOrderEvents/START_LOADING",END_LOADING:"VideoOrderEvents/END_LOADING"},S={INIT:"VideoAddToPlaylistActionSheetEvents/INIT",SHOW:"VideoAddToPlaylistActionSheetEvents/SHOW",HIDE:"VideoAddToPlaylistActionSheetEvents/HIDE"},T={SET_ADD:"VideoCardAddButtonEvents/SET_ADD",SET_ADDED:"VideoCardAddButtonEvents/SET_ADDED",SHOW:"VideoCardAddButtonEvents/SHOW",HIDE:"VideoCardAddButtonEvents/HIDE"},P={CREATE:"PlaylistFormEvents/CREATE",UPDATE:"PlaylistFormEvents/UPDATE",DELETE:"PlaylistFormEvents/DELETE"},b={MOUSE_OVER:"VideoCardEvents/MOUSE_OVER",MOUSE_OUT:"VideoCardEvents/MOUSE_OUT"},C={VIDEO_PLAYLISTS_MODAL:"CreatePlaylistRequestOrigin/VIDEO_PLAYLISTS_MODAL",NEW_PLAYLIST_PAGE:"CreatePlaylistRequestOrigin/NEW_PLAYLIST_PAGE",VIDEO_CATALOG:"CreatePlaylistRequestOrigin/VIDEO_CATALOG"},D=async e=>{if(_.Ranges.isUserId(e)){const[t]=await(0,c.api)("users.get",{user_ids:`${e}`,fields:"is_closed,photo_50,photo_100,first_name,last_name,screen_name,domain"});return t}{const{groups:t}=await(0,c.api)("groups.getById",{group_ids:String(Math.abs(e)),fields:"is_closed,photo_50,photo_100,name,screen_name"});return t?.[0]??null}},M=(e,t)=>{const r=new l.ShortVideoUploadService;r.setOwner(t),r.setFiles(e)},L=e=>{if(!location.pathname.includes(u.CLIPS_SECTIONS.UPLOAD)){const t=_.Ranges.isGroupId(e)?_.Ranges.convertGroupIdToOwnerId(e):e;window.nav.go(`${u.BASE_ROUTE}/upload${t}`)}},N=["video_my_communities","video_group_main","groups","profile","video_my_added","video_my_uploaded","video_playlists","video_playlist","video_user_all"],k=e=>{switch(e){case"video_my_communities":return a.VideoClipAddClickSubType.FROM_ALL_COMMUNITIES;case"video_group_main":return a.VideoClipAddClickSubType.FROM_COMMUNITY;case"groups":return a.VideoClipAddClickSubType.FROM_COMMUNITY_VK;case"profile":return a.VideoClipAddClickSubType.FROM_PROFILE_VK;case"video_my_added":return a.VideoClipAddClickSubType.FROM_ADD_VIDEO;case"video_my_uploaded":return a.VideoClipAddClickSubType.FROM_UPLOAD_VIDEO;case"video_playlist":return a.VideoClipAddClickSubType.FROM_PLAYLIST;default:return a.VideoClipAddClickSubType.FROM_MAIN}};function U(e){return N.includes(e)}const B=e=>{const t=Math.floor(e/3600),r=Math.floor(e%3600/60);return`${t?t+"h":""}${r?r+"m":""}${Math.floor(e%3600%60)}s`}},990787:(e,t,r)=>{"use strict";r.d(t,{createVmojiAvatar:()=>l,isValidVmojiAvatarUrlPath:()=>_,parseVmojiAvatarUrlPath:()=>s,showVmojiAvatar:()=>u});var n=r(246429);const a=RegExp("^vmoji(?<ownerId>[0-9]+)_(?<characterId>[A-Za-z0-9_-]+?)(_(?<packId>[0-9]+))?$");function s(e){const t=e.replace(/^\//,"").match(a);return t?.groups?{ownerId:Number(t.groups.ownerId),characterId:String(t.groups.characterId),packId:void 0===t.groups.packId?void 0:Number(t.groups.packId)}:null}function _(e){return null!==s(e)}function c(){const e=(0,n.showBoxLoader)();return window.stManager.add([window.jsc("web/vmoji.js")]).then((()=>{if((0,n.isBoxLoadingCancelled)(e))throw new Error("loading cancelled");(0,n.hideBoxLoader)()}))}function l(e,t,r){c().then((()=>{window.Vmoji.createAvatar(e,r,t)})).catch((()=>{}))}function u(e,t,r){c().then((()=>{window.Vmoji.showAvatar(e,t,r)})).catch((()=>{}))}},15874:(e,t,r)=>{"use strict";r.d(t,{WEB_WALL_POST_WITH_TRACK_CODE_SELECTOR:()=>c,getLayerPostElemByFullId:()=>u,getOriginalId:()=>g,getPostElem:()=>d,getPostElemByChildEl:()=>p,getWallPostElemByFullId:()=>l,replyUserImageImg:()=>m,replyUserImageLinkClosest:()=>E});var n=r(361121);const a=".post",s=".wl_post",_=".post, .wl_post",c="._post[data-post-track-code], .wl_post[data-post-track-code]",l=e=>{if("string"==typeof e)return document.querySelector(`${a}[data-post-id="${e}"], ${a}[data-slave-post-id="${e}"]`)??void 0},u=e=>{if("string"==typeof e)return document.querySelector(`${s}[data-post-id="${e}"], ${s}[data-slave-post-id="${e}"]`)??void 0},d=(e,t)=>(e=>{if("string"==typeof e)return l(e)??u(e)??void 0})(e)??t?.closest(_)??void 0,p=e=>e?.closest(_)??void 0,E=e=>e.closest(".reply_image, ._reply_image")??void 0,m=e=>e.querySelector("img.reply_img")??void 0,g=(e,t)=>{const r=d(e,t);return(0,n.splitRawId)(r?.dataset.slavePostId||r?.dataset.postId||"")}},349835:(e,t,r)=>{"use strict";r.d(t,{getWkViewNodes:()=>s,handleWkViewCloseEvent:()=>d,isPostLayerArrowsHide:()=>p,isWkLayerWallPostOpen:()=>_,preparePostElToDetaching:()=>c,sendWkViewCloseEvent:()=>u,updatePostElAfterAttaching:()=>l});var n=r(15614),a=r(540462);function s(){const e=window.wkcur.wkBox,t=window.wkcur.wkContent;return{wkBox:e,wkContent:t,wkContentText:t.firstElementChild,wkRight:window.wkcur.wkRight}}const _=()=>!!window.cur.wallLayer,c=e=>{const t=e.querySelector(`.${n.UI_GALLERY_CLASSNAME}`);if(t){const e=t.querySelector(`.${n.UI_GALLERY_CONTENT_CLASSNAME}`)?.scrollLeft;e&&(t.dataset.contentScrollLeft=e.toString())}},l=e=>{const t=e.querySelector(`.${n.UI_GALLERY_CLASSNAME}`);if(t){const e=t.querySelector(`.${n.UI_GALLERY_CONTENT_CLASSNAME}`),{contentScrollLeft:r}=t.dataset;e&&r&&(e.scrollLeft=parseInt(r,10))}},u=()=>{const e=new CustomEvent("wkview_close");window.dispatchEvent(e)},d=e=>{const t=()=>{e()};return window.addEventListener("wkview_close",t),()=>{window.removeEventListener("wkview_close",t)}},p=()=>{const e=window.cur.module;return(0,a.partConfigEnabled)("feed_hide_post_layer_arrows_for_feed")&&"feed"===e||(0,a.partConfigEnabled)("feed_hide_post_layer_arrows_for_wall")&&["groups","profile","public"].includes(e)}},545537:(e,t,r)=>{"use strict";function n(){return window.wkcur&&Array.isArray(window.wkcur._hide)?window.wkcur._hide:[]}function a(e){"function"==typeof e&&n().push(e)}function s(e){var t;t=n().filter((t=>t!==e)),window.wkcur&&(window.wkcur._hide=t)}function _(){n().forEach((e=>{e()}))}r.d(t,{addWkViewHideQueue:()=>a,executeWkViewHideQueue:()=>_,removeWkViewHideQueue:()=>s})},671731:(e,t,r)=>{"use strict";r.d(t,{apiAudioToAudioTuple:()=>n.apiAudioToAudioTuple});var n=r(356812)},92146:(e,t,r)=>{"use strict";r.d(t,{audioTupleToAudioObject:()=>n.audioTupleToAudioObject});var n=r(423015)},751743:(e,t,r)=>{"use strict";r.d(t,{GlobalAudioPlayerLazyProxy:()=>n.GlobalAudioPlayerLazyProxy});r(738445);var n=r(734768);r(718540)},8048:(e,t,r)=>{"use strict";r.d(t,{AudioPlayerStatsListener:()=>n.AudioPlayerStatsListener});var n=r(771979)},823508:(e,t,r)=>{"use strict";r.d(t,{AudioStats:()=>n.AudioStats});var n=r(972623)},427984:(e,t,r)=>{"use strict";r.d(t,{asyncComponent:()=>n.asyncComponent});var n=r(725669)},446327:(e,t,r)=>{"use strict";r.d(t,{clean:()=>n.clean,escapeRE:()=>n.escapeRE,isElement:()=>n.isElement,isRetina:()=>n.isRetina,replaceEntities:()=>n.replaceEntities});var n=r(898848)},893808:(e,t,r)=>{"use strict";r.d(t,{Ranges:()=>n.Ranges});var n=r(810068)},289475:(e,t,r)=>{"use strict";r.d(t,{getConfigValue:()=>n.getConfigValue,partConfigEnabled:()=>n.partConfigEnabled});var n=r(540462)},604743:(e,t,r)=>{"use strict";r.d(t,{MessageBoxDismissButton:()=>n.MessageBoxDismissButton,MessageBoxModal:()=>n.MessageBoxModal,MessageBoxModalLoader:()=>n.MessageBoxModalLoader,PageBlockOffsetSpacing:()=>n.PageBlockOffsetSpacing,WikiModal:()=>n.WikiModal,showMessageBoxModal:()=>n.showMessageBoxModal,showMessageBoxModalSuspense:()=>n.showMessageBoxModalSuspense,useMessageBoxHideAttempt:()=>n.useMessageBoxHideAttempt,useNarrowColumnOffset:()=>n.useNarrowColumnOffset});var n=r(211413)},576950:(e,t,r)=>{"use strict";r.d(t,{DIRootWebProvider:()=>n.DIRootWebProvider});var n=r(319756)},334249:(e,t,r)=>{"use strict";r.d(t,{ajax:()=>n.ajax});var n=r(761520)},761602:(e,t,r)=>{"use strict";r.d(t,{apiAudioToAudioTuple:()=>l});var n=r(8520),a=r(446327),s=r(133326),_=r(854950);const c=new WeakMap,l=(e,{useCache:t=!1}={})=>{if(!e)return null;if(t){const t=c.get(e);if(t)return t}const r=[e.id,e.owner_id,e.url||"",(0,a.clean)(e.title),(0,a.clean)(e.artist||e.performer||""),e.duration,e.album_id||0,0,"",e.lyrics_id||0,0,"",u(e),(0,s.getAudioHashesString)({addHash:e.access_key,editHash:e.access_key,actionHash:e.access_key,deleteHash:e.access_key,replaceHash:e.access_key,urlHash:e.access_key,restoreHash:e.access_key}),d(e),e.ads||{},(0,a.clean)(e.subtitle||""),p(e),e.featured_artists||"",!!e.album&&[e.album?.owner_id,e.album?.id,e.album?.access_key],e.track_code||"",e.content_restricted||0,e.album_part_number||0,!0,e.access_key||"",e.audio_chart_info||!1,e.release_audio_id||"",void 0,void 0,void 0,e.legal_notices_type||0];return t&&c.set(e,r),r};function u(e){const{podcast_info:t}=e,r=Boolean(t);return{podcast:r,dislike:e.dislike,fave:r&&Boolean(t?.is_favorite)}}function d(e){const{podcast_info:t,album:r}=e;if(t){const e=t.cover;return e?.sizes&&(0,n.getPhotoSize)(e.sizes||[],(0,_.getImageMinWidth)(40))?.url||""}const a=r?.thumb;return a?a.sizes?(0,n.getPhotoSize)(a.sizes||[],(0,_.getImageMinWidth)(200))?.url||"":`${a.photo_300},${a.photo_135}`||"":""}function p(e){const{main_artists:t,rightholder_marks:r}=e;if(!t||t.length<1)return"";const n=r?.map((e=>`[${e}]`)).join("");if(!n)return t;return[{id:"",name:n},...t]}},907814:(e,t,r)=>{"use strict";function n(e,t){const{legal:r}=t;return r?s(e,r):null}r.d(t,{getAudioAudioLegalNoticeLines:()=>n,getAudioLegalNoticeLines:()=>s});const a="18+";function s(e,t){const r=[],{isExplicit:n,isForeignAgent:s}=t;return s?r.push(`${e.getLang("audio_legal_notice_line_foreign_agent")} ${a}`):n&&r.push(a),r.length?r:null}},439803:(e,t,r)=>{"use strict";r.d(t,{MusicPlaylistActionType:()=>n});var n=function(e){return e.Open="Open",e.ToggleFollowing="ToggleFollowing",e.TogglePlaying="TogglePlaying",e}({})},607845:(e,t,r)=>{"use strict";r.d(t,{AudioPlatformConfig:()=>s});var n=r(331635),a=r(132028);class s{}s=(0,n.__decorate)([a.scope.global({abstract:!0})],s)},51438:(e,t,r)=>{"use strict";r.d(t,{AudioPlatformConfigLegacyLazyProxy:()=>d});var n=r(434518),a=r(763812),s=r(331635),_=r(327813),c=(0,a._)("_importImpl"),l=(0,a._)("_mock"),u=(0,a._)("_ensureImpl");class d{get mediaNotifier(){return this.instance.mediaNotifier}async ensureMediaNotifier(){const e=await(0,n._)(this,u)[u]();if(!e?.mediaNotifier)throw new Error("Media notifier not initialized");return e.mediaNotifier}sendListenedData(e){return this.instance.sendListenedData(e)}get instance(){return this.impl??(0,n._)(this,l)[l]}constructor(e){Object.defineProperty(this,u,{value:p}),Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:void 0}),this.impl=null,(0,n._)(this,c)[c]=e,(0,n._)(this,l)[l]={sendListenedData:()=>{},mediaNotifier:null},(0,_.makeObservable)(this),(0,n._)(this,u)[u]()}}async function p(){if(this.impl)return this.impl;const e=await(0,n._)(this,c)[c]();return(0,_.runInAction)((()=>{this.impl=e})),e}(0,s.__decorate)([_.observable.ref,(0,s.__metadata)("design:type",Object)],d.prototype,"impl",void 0)},705400:(e,t,r)=>{"use strict";r.d(t,{MusicPlaylistActionOverridesLazyProxy:()=>m});var n=r(434518),a=r(763812),s=r(331635),_=r(327813),c=r(439803),l=(0,a._)("_mock"),u=(0,a._)("_importImpl"),d=(0,a._)("_ensureImpl"),p=(0,a._)("_getProperty");let E=c.MusicPlaylistActionType.Open;class m{get[E](){return(0,n._)(this,p)[p](c.MusicPlaylistActionType.Open)}constructor(e){Object.defineProperty(this,d,{value:g}),Object.defineProperty(this,p,{value:A}),Object.defineProperty(this,l,{writable:!0,value:void 0}),Object.defineProperty(this,u,{writable:!0,value:void 0}),(0,n._)(this,l)[l]={},this.impl=null,(0,n._)(this,u)[u]=e,(0,_.makeObservable)(this),(0,n._)(this,d)[d]()}}async function g(){if(this.impl)return;const e=await(0,n._)(this,u)[u]();(0,_.runInAction)((()=>{this.impl=e}))}function A(e){return(this.impl??(0,n._)(this,l)[l])[e]}(0,s.__decorate)([_.observable.ref,(0,s.__metadata)("design:type",Object)],m.prototype,"impl",void 0)},367734:(e,t,r)=>{"use strict";r.d(t,{AudioPlatformConfig:()=>n.AudioPlatformConfig,AudioPlatformConfigLegacyLazyProxy:()=>a.AudioPlatformConfigLegacyLazyProxy,MusicPlaylistActionOverridesLazyProxy:()=>s.MusicPlaylistActionOverridesLazyProxy});var n=r(607845),a=r(51438),s=r(705400)},268886:(e,t,r)=>{"use strict";r.d(t,{AudioPlayer:()=>p});var n=r(434518),a=r(763812),s=r(331635),_=r(132028),c=r(327813),l=r(4704),u=(0,a._)("_globalChannel"),d=(0,a._)("_onMediaAttachmentChannel");class p{get globalChannel(){return(0,n._)(this,u)[u]}get onMediaAttachmentChannel(){return(0,n._)(this,d)[d]}get onMediaAttachmentListChannel(){return(0,n._)(this,u)[u]}get playingChannel(){for(const e of this.channels)if(e.playing)return e;return null}get channels(){return[this.globalChannel,this.onMediaAttachmentChannel,this.onMediaAttachmentListChannel]}constructor(e,t){Object.defineProperty(this,u,{writable:!0,value:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),(0,n._)(this,u)[u]=e,(0,n._)(this,d)[d]=t}}(0,s.__decorate)([c.computed,(0,s.__metadata)("design:type",Object),(0,s.__metadata)("design:paramtypes",[])],p.prototype,"playingChannel",null),(0,s.__decorate)([c.computed,(0,s.__metadata)("design:type",void 0),(0,s.__metadata)("design:paramtypes",[])],p.prototype,"channels",null),p=(0,s.__decorate)([_.scope.global(),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[void 0===l.GlobalAudioPlayerChannel?Object:l.GlobalAudioPlayerChannel,void 0===l.OnMediaAttachmentAudioPlayerChannel?Object:l.OnMediaAttachmentAudioPlayerChannel])],p)},790775:(e,t,r)=>{"use strict";r.d(t,{AudioPlayerChannelType:()=>n});var n=function(e){return e.Global="global",e.OnMediaAttachment="on_media_attachment",e}({})},449502:(e,t,r)=>{"use strict";r.d(t,{AudioPlayerChannelType:()=>n.AudioPlayerChannelType});var n=r(790775)},744521:(e,t,r)=>{"use strict";r.d(t,{AudioPlayer:()=>a.AudioPlayer,AudioPlayerChannelType:()=>n.AudioPlayerChannelType});var n=r(449502),a=r(268886)},555277:(e,t,r)=>{"use strict";r.d(t,{GlobalAudioPlayerChannel:()=>l});var n=r(331635),a=r(327813),s=r(132028),_=r(751743),c=r(449502);class l{get id(){return c.AudioPlayerChannelType.Global}get events(){return null}get currentListIdentity(){return this.player.currentListIdentity}get currentAudioIdentity(){return this.player.currentAudioIdentity}get currentAudio(){return this.player.currentAudio}get prevAudio(){return this.player.prevAudio}get playing(){return this.player.isPlaying}get paused(){return this.player.isPaused}get progress(){const e=this;return{get amount(){return e.progressData.amount},get playedTime(){return e.progressData.playedTime},snapshot:()=>({...e.progressData})}}get progressData(){return{amount:this.player.progress,playedTime:this.player.listenedTime}}get volume(){return this.player?.volume??0}get repeat(){return this.player.repeat}setRepeat(e){this.player.setRepeat(e)}async playAudioList(e){this.player.playAudioList(e)}async playAudio(e,t){this.player.playAudio(e,t)}pause(){this.player.pause()}resume(){this.player.resume()}stop(){this.player.stop()}seek(e){this.player.seek(e)}constructor(e){this.player=e,(0,a.makeObservable)(this)}}(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],l.prototype,"currentListIdentity",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],l.prototype,"currentAudioIdentity",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],l.prototype,"currentAudio",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],l.prototype,"prevAudio",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],l.prototype,"playing",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],l.prototype,"paused",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type","undefined"==typeof IAudioPlayerProgress?Object:IAudioPlayerProgress),(0,n.__metadata)("design:paramtypes",[])],l.prototype,"progress",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type","undefined"==typeof IAudioPlayerProgressData?Object:IAudioPlayerProgressData),(0,n.__metadata)("design:paramtypes",[])],l.prototype,"progressData",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",Number),(0,n.__metadata)("design:paramtypes",[])],l.prototype,"volume",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type","undefined"==typeof TPlaybackQueueRepeat?Object:TPlaybackQueueRepeat),(0,n.__metadata)("design:paramtypes",[])],l.prototype,"repeat",null),l=(0,n.__decorate)([s.scope.global(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[void 0===_.GlobalAudioPlayerLazyProxy?Object:_.GlobalAudioPlayerLazyProxy])],l)},573282:(e,t,r)=>{"use strict";r.d(t,{GlobalAudioPlayerChannel:()=>n.GlobalAudioPlayerChannel});var n=r(555277)},727469:(e,t,r)=>{"use strict";r.d(t,{OnMediaAttachmentAudioPlayerChannel:()=>f});var n=r(434518),a=r(763812),s=r(331635),_=r(327813),c=r(132028),l=r(631027),u=r(26530),d=r(809424),p=r(449502),E=r(461500),m=r(367734),g=r(480331),A=(0,a._)("_ensurePlayer");class f{get id(){return p.AudioPlayerChannelType.OnMediaAttachment}get events(){return this.player?.events??null}get currentListIdentity(){return this.player?.currentListIdentity??null}get currentAudio(){return this.player?.currentAudio??null}get prevAudio(){return this.player?.prevAudio??null}get playing(){return this.player?.playing??!1}get paused(){return this.player?.paused??!1}get volume(){return this.player?.volume??0}get progress(){return this.player?.progress??{amount:0,playedTime:0,snapshot:()=>({amount:0,playedTime:0})}}get repeat(){return this.player?.repeat??"none"}setRepeat(e){this.player?.setRepeat(e)}async playAudioList(e,t){(0,l.isSpecificMusicPlaylist)(e)&&await e.ensureItems(),await(this.player?.playAudioList(e,t))}playAudio(e,t,r){return this.player?.playAudio(e,t,r)??Promise.resolve()}pause(e){this.player?.pause(e)}resume(e){this.player?.resume(e)}stop(e){this.player?.stop(e)}seek(e,t){this.player?.seek(e,t)}constructor(e,t,r,a,s){Object.defineProperty(this,A,{value:I}),this.emitterFactory=e,this.platformConfig=t,this.statsListenerFactory=r,this.envData=a,this.metaData=s,this.player=null,(0,_.makeObservable)(this),(0,n._)(this,A)[A]()}}async function I(){const{OnMediaAttachmentPlayer:e}=await Promise.all([r.e(47135),r.e("langs/web/audio_onMediaAttachmentPlayer")]).then(r.bind(r,355639)),{emitterFactory:t,platformConfig:n,statsListenerFactory:a,envData:s,metaData:c}=this;(0,_.runInAction)((()=>{this.player=new e({emitterFactory:t,platformConfig:n,statsListenerFactory:a,envData:s,metaData:c})}))}(0,s.__decorate)([_.observable.ref,(0,s.__metadata)("design:type",Object)],f.prototype,"player",void 0),(0,s.__decorate)([_.computed,(0,s.__metadata)("design:type",void 0),(0,s.__metadata)("design:paramtypes",[])],f.prototype,"events",null),(0,s.__decorate)([_.computed,(0,s.__metadata)("design:type",void 0),(0,s.__metadata)("design:paramtypes",[])],f.prototype,"currentListIdentity",null),(0,s.__decorate)([_.computed,(0,s.__metadata)("design:type",void 0),(0,s.__metadata)("design:paramtypes",[])],f.prototype,"currentAudio",null),(0,s.__decorate)([_.computed,(0,s.__metadata)("design:type",void 0),(0,s.__metadata)("design:paramtypes",[])],f.prototype,"prevAudio",null),(0,s.__decorate)([_.computed,(0,s.__metadata)("design:type",Boolean),(0,s.__metadata)("design:paramtypes",[])],f.prototype,"playing",null),(0,s.__decorate)([_.computed,(0,s.__metadata)("design:type",Boolean),(0,s.__metadata)("design:paramtypes",[])],f.prototype,"paused",null),(0,s.__decorate)([_.computed,(0,s.__metadata)("design:type",Number),(0,s.__metadata)("design:paramtypes",[])],f.prototype,"volume",null),(0,s.__decorate)([_.computed,(0,s.__metadata)("design:type","undefined"==typeof IAudioPlayerProgress?Object:IAudioPlayerProgress),(0,s.__metadata)("design:paramtypes",[])],f.prototype,"progress",null),(0,s.__decorate)([_.computed,(0,s.__metadata)("design:type","undefined"==typeof TPlaybackQueueRepeat?Object:TPlaybackQueueRepeat),(0,s.__metadata)("design:paramtypes",[])],f.prototype,"repeat",null),f=(0,s.__decorate)([c.scope.global(),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[void 0===u.EmitterFactory?Object:u.EmitterFactory,void 0===m.AudioPlatformConfig?Object:m.AudioPlatformConfig,void 0===g.AudioPlayerStatsListenerFactory?Object:g.AudioPlayerStatsListenerFactory,void 0===E.AudioPlayerEnvData?Object:E.AudioPlayerEnvData,void 0===d.MetaData?Object:d.MetaData])],f)},439497:(e,t,r)=>{"use strict";r.d(t,{OnMediaAttachmentAudioPlayerChannel:()=>n.OnMediaAttachmentAudioPlayerChannel});var n=r(727469)},4704:(e,t,r)=>{"use strict";r.d(t,{GlobalAudioPlayerChannel:()=>n.GlobalAudioPlayerChannel,OnMediaAttachmentAudioPlayerChannel:()=>a.OnMediaAttachmentAudioPlayerChannel});var n=r(573282),a=r(439497)},461500:(e,t,r)=>{"use strict";r.d(t,{AudioPlayerEnvData:()=>p});var n=r(331635),a=r(327813),s=r(418562),_=r(132028),c=r(510454),l=r(595980),u=r(951652);const d="audio_unique_unauth_id";class p{snapshot(){return{userId:this.authService.userId??0,anonymousUserId:this.anonymousUserId,isPageVisible:this.pageVisibility.isVisible}}get anonymousUserId(){const{localStorage:e}=this;let t=e.getItem(d);return t||(t=(0,s.default)(),e.setItem(d,t)),t}constructor(e,t,r){this.localStorage=e,this.pageVisibility=t,this.authService=r,(0,a.makeObservable)(this)}}(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",String),(0,n.__metadata)("design:paramtypes",[])],p.prototype,"anonymousUserId",null),p=(0,n.__decorate)([_.scope.global(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[void 0===c.LocalStorage?Object:c.LocalStorage,void 0===l.PageVisibility?Object:l.PageVisibility,void 0===u.AuthService?Object:u.AuthService])],p)},247959:(e,t,r)=>{"use strict";r.d(t,{AudioPlayerStatsListenerChannelAdapter:()=>g});var n=r(434518),a=r(763812),s=r(671731),_=r(92146),c=r(631027),l=r(588357),u=r(448131),d=(0,a._)("_userEnv"),p=(0,a._)("_channel"),E=(0,a._)("_emitter"),m=(0,a._)("_connectChannelEvents");class g{get events(){return(0,n._)(this,E)[E].listenable}getPlayingAudio(){const e=(0,n._)(this,p)[p].currentAudio;return e?(0,u.toAnyTrackedAudioData)(e):null}getListenedTime(){return(0,n._)(this,p)[p].progress.playedTime}getVolume(){return(0,n._)(this,p)[p].volume}isDebug(){return(0,n._)(this,d)[d].partConfigEnabled("audio_player_stats_debug")}isPlaying(){return(0,n._)(this,p)[p].playing}isLastTrack(){return!1}isRadio(){return!1}isPodcast(){return!1}isExternalStream(){return!1}isAdPlaying(){return!1}isRealPlaylist(){const e=(0,n._)(this,p)[p].currentAudio?.context?.list;return!!e&&(0,c.isSpecificMusicPlaylist)(e)}hasPlaylist(){return this.isRealPlaylist()}isRealPrevPlaylist(){return!1}hasSearchParams(){return!1}getSearchParams(){return null}getAudio(){return I((0,n._)(this,p)[p].currentAudio)}getAudioId(){const{currentAudio:e}=(0,n._)(this,p)[p];if(e&&e.type!==l.AudioType.Radio)return e.identity.rawId}getPrevAudio(){return I((0,n._)(this,p)[p].prevAudio)}hasPrevAudio(){return!!this.getPrevAudio()}getPrevAudioId(){const{prevAudio:e}=(0,n._)(this,p)[p];if(e&&e.type!==l.AudioType.Radio)return e.identity.rawId}getPlaylistId(){const e=(0,n._)(this,p)[p].currentListIdentity;return e&&"rawId"in e?e.rawId:null}hasPrevPlaylist(){return!1}getPrevPlaylistId(){return null}getAudioTrackCode(){return(0,n._)(this,p)[p].currentAudio?.context.trackCode}getProgress(){return(0,n._)(this,p)[p].progress.amount??0}getProgressInSeconds(){const{currentAudio:e}=(0,n._)(this,p)[p];return e?Math.round(this.getProgress()*(e.duration??0)):0}getState(){return 0}getContext(){return""}isAutoPlayed(){return!1}getSequence(){return 1}getPausedBy(){return null}getTrackPosition(){const{currentAudio:e}=(0,n._)(this,p)[p],t=e?.context.list;return e&&t?0:null}isRepeatAll(){return"queue"===(0,n._)(this,p)[p].repeat}isRepeatCurrentAudio(){return"audio"===(0,n._)(this,p)[p].repeat}sendListenedData(e){console.log("adapter sendListenedData",e)}constructor({channel:e,emitterFactory:t,userEnv:r}){Object.defineProperty(this,m,{value:A}),Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:void 0}),Object.defineProperty(this,E,{writable:!0,value:void 0}),this.isShuffledPlaylist=()=>!1,this.isMarusiaTrack=()=>!1,(0,n._)(this,p)[p]=e,(0,n._)(this,d)[d]=r,(0,n._)(this,E)[E]=t.create(),(0,n._)(this,m)[m]()}}function A(){if(!(0,n._)(this,p)[p].events)throw new Error("Audio player channel events not initialized");(0,n._)(this,p)[p].events.on("play",(e=>{var t;(0,n._)(this,E)[E].emit("playAudio",{...f(t=e),reason:t.reason}),(0,n._)(this,E)[E].emit("play")})).on("pause",(e=>{var t;(0,n._)(this,E)[E].emit("pauseAudio",{...f(t=e),reason:t.reason}),(0,n._)(this,E)[E].emit("pause")})).on("stop",(e=>{var t;(0,n._)(this,E)[E].emit("stopAudio",{...f(t=e),reason:t.reason}),(0,n._)(this,E)[E].emit("stop")})).on("seek",(e=>{var t;(0,n._)(this,E)[E].emit("seek",{...f(t=e),reason:t.reason,fromTime:t.fromTime}),(0,n._)(this,E)[E].emit("seekLegacy")}))}function f({audio:e,progress:t}){return{audio:(0,u.toAnyTrackedAudioData)(e),progressTime:t.amount}}function I(e){return e&&e.apiAudio?e.type===l.AudioType.Radio?null:(0,_.audioTupleToAudioObject)((0,s.apiAudioToAudioTuple)(e.apiAudio)):null}},843969:(e,t,r)=>{"use strict";r.d(t,{AudioPlayerStatsListenerFactory:()=>m});var n=r(434518),a=r(763812),s=r(331635),_=r(132028),c=r(26530),l=r(24516),u=r(8048),d=r(823508),p=r(247959),E=(0,a._)("_createAdapter");class m{create(e){return new u.AudioPlayerStatsListener((0,n._)(this,E)[E](e))}createLegacyStats(e,t){return new d.AudioStats((0,n._)(this,E)[E](e),t)}constructor(e,t){Object.defineProperty(this,E,{value:g}),this.emitterFactory=e,this.userEnv=t}}function g(e){const{emitterFactory:t,userEnv:r}=this;return new p.AudioPlayerStatsListenerChannelAdapter({channel:e,emitterFactory:t,userEnv:r})}m=(0,s.__decorate)([_.scope.transient(),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[void 0===c.EmitterFactory?Object:c.EmitterFactory,void 0===l.UserEnv?Object:l.UserEnv])],m)},480331:(e,t,r)=>{"use strict";r.d(t,{AudioPlayerStatsListenerFactory:()=>n.AudioPlayerStatsListenerFactory});var n=r(843969)},448131:(e,t,r)=>{"use strict";r.d(t,{toAnyTrackedAudioData:()=>c});var n=r(588357),a=r(164600),s=r(941277),_=r(274664);function c(e){switch(e.type){case n.AudioType.MusicTrack:case n.AudioType.MusicSnippet:return(0,a.toTrackedMusicAudioData)(e);case n.AudioType.PodcastEpisode:case n.AudioType.PodcastTrailer:return(0,s.toTrackedPodcastAudioData)(e);case n.AudioType.Radio:return(0,_.toTrackedRadioAudioData)(e)}}},778777:(e,t,r)=>{"use strict";function n(e){return{url:e.url,title:e.title,artwork:a(e),duration:e.duration,isExplicit:e.isExplicit,trackCode:e.context.trackCode}}function a(e){return e.cover?e.cover.sizes.map((e=>({src:e.src,size:e.width}))):[]}r.d(t,{toTrackedAudioData:()=>n})},164600:(e,t,r)=>{"use strict";r.d(t,{toTrackedMusicAudioData:()=>_});var n=r(588357),a=r(488150),s=r(778777);function _(e){const t=function(e){const{identity:t}=e;return{id:t.id,ownerId:t.ownerId,accessKey:t.accessKey,releaseAudioId:e.releaseAudioIdentity?.fullId,ref:e.context?.list?.context?.ref??void 0}}(e);return{...(0,s.toTrackedAudioData)(e),identity:t,...t,type:c(e),author:l(e),disliked:e.dislike.state,hasLyrics:e.hasLyrics,trackCode:e.context.trackCode}}function c(e){switch(e.type){case n.AudioType.MusicTrack:return a.AudioType.MusicTrack;case n.AudioType.MusicSnippet:return a.AudioType.MusicSnippet}}function l(e){const{authors:t}=e;return{raw:t.raw,main:t.main.map(u),feat:t.feat.map(u)}}function u(e){return{id:e.id,name:e.name}}},941277:(e,t,r)=>{"use strict";r.d(t,{toTrackedPodcastAudioData:()=>_});var n=r(588357),a=r(488150),s=r(778777);function _(e){const t=function(e){const{identity:t}=e;return{id:t.id,ownerId:t.ownerId,accessKey:t.accessKey,podcastId:t.podcastId}}(e);return{...(0,s.toTrackedAudioData)(e),identity:t,...t,type:c(e)}}function c(e){switch(e.type){case n.AudioType.PodcastEpisode:return a.AudioType.PodcastEpisode;case n.AudioType.PodcastTrailer:return a.AudioType.PodcastTrailer}}},274664:(e,t,r)=>{"use strict";r.d(t,{toTrackedRadioAudioData:()=>s});var n=r(488150),a=r(778777);function s(e){const t={id:e.identity.id,ownerId:100};return{...(0,a.toTrackedAudioData)(e),identity:t,...t,type:n.AudioType.Radio}}},987872:(e,t,r)=>{"use strict";r.d(t,{LayerRoute:()=>s});var n=r(474848),a=r(691883);const s=e=>{const t=(0,a.useLayerRouterContext)();return t&&e.configs.includes(t.config)?e.component?(0,n.jsx)(e.component,{layerParams:t.layerParams}):"function"==typeof e.children?e.children({layerParams:t.layerParams}):e.children:null}},691883:(e,t,r)=>{"use strict";r.d(t,{LayerRouterContext:()=>a,useLayerRouterContext:()=>s});var n=r(296540);const a=(0,n.createContext)(null);function s(){return(0,n.useContext)(a)}},69213:(e,t,r)=>{"use strict";r.d(t,{defaultLayerName:()=>n});const n="z"},60512:(e,t,r)=>{"use strict";r.d(t,{LayerRoute:()=>n.LayerRoute,LayerRouterContext:()=>a.LayerRouterContext,defaultLayerName:()=>_.defaultLayerName,matchLayer:()=>s.matchLayer});var n=r(987872),a=r(691883),s=r(523862),_=r(69213)},523862:(e,t,r)=>{"use strict";r.d(t,{matchLayer:()=>a});var n=r(794662);const a=({layerName:e,layerPath:t,layersConfig:r,partConfigEnabled:a})=>{for(const s of Object.values(r)){if(s.layerName!==e)continue;if(s.enabledKey&&!a(s.enabledKey))continue;const[r,_]=(0,n.matchPath)(s.path,t,{exact:!0});if(r)return{layerParams:_,config:s}}return null}},651395:(e,t,r)=>{"use strict";r.d(t,{Layers:()=>_});var n=r(456961),a=r(916480),s=r(60512);class _{open(e,{layerParams:t,replace:r,query:_}){const{path:c,layerName:l=s.defaultLayerName}=this.layersConfig[e];_||(_=n.Router.parseSearch(window.location.search));const{z:u,w:d,...p}=_;p[l]=(0,a.patternToPath)(c,t);const E=n.Router.stringifyQuery(p),m=`${window.location.pathname.substring(1)}?${E}`,g={replace:r,state:{}};window.nav.setLoc?window.nav.setLoc(m,g):window.nav.go(m,null,g)}close(){const e=n.Router.parseSearch(window.location.search),{z:t,w:r,...a}=e,s=n.Router.stringifyQuery(a),_=`${window.location.pathname.substring(1)}?${s}`,c={replace:!1,state:{}};window.nav.setLoc?window.nav.setLoc(_,c):window.nav.go(_,null,c)}constructor(e){this.layersConfig=e}}},494675:(e,t,r)=>{"use strict";r.d(t,{LayerRoute:()=>a.LayerRoute,LayerRouterWrapper:()=>s.LayerRouterWrapper,Layers:()=>n.Layers});var n=r(651395),a=r(60512),s=r(65137)},795918:(e,t,r)=>{"use strict";r.d(t,{LayerRouterWrapper:()=>d});var n=r(474848),a=r(456921),s=r(296540),_=r(263290),c=r(132028),l=r(60512),u=r(278631);const d=(0,c.createWidget)(u.LayersModelProvider,(0,a.observer)((function({children:e}){const{partConfigEnabled:t,props:r}=(0,u.useLayersModel)(),{layersConfig:a}=r.current,c=(0,_.useQuery)(),d=(0,s.useMemo)((()=>{const e=(e=>e.z?{layerPath:e.z}:e.w?{layerName:"w",layerPath:e.w}:null)(c);return e?(0,l.matchLayer)({...e,layersConfig:a,partConfigEnabled:t}):null}),[c.z,c.w]);return(0,n.jsx)(l.LayerRouterContext.Provider,{value:d,children:e})})))},65137:(e,t,r)=>{"use strict";r.d(t,{LayerRouterWrapper:()=>n.LayerRouterWrapper});var n=r(795918)},789592:(e,t,r)=>{"use strict";r.d(t,{LayersModelProvider:()=>c,useLayersModel:()=>l});var n=r(331635),a=r(132028),s=r(24516);class _{constructor(e,t){this.props=e,this.userEnv=t,this.partConfigEnabled=this.userEnv.partConfigEnabled.bind(this.userEnv)}}_=(0,n.__decorate)([a.scope.transient(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[void 0===a.Props?Object:a.Props,void 0===s.UserEnv?Object:s.UserEnv])],_);const{Provider:c,useModel:l}=(0,a.createProvider)(_)},278631:(e,t,r)=>{"use strict";r.d(t,{LayersModelProvider:()=>n.LayersModelProvider,useLayersModel:()=>n.useLayersModel});var n=r(789592)},253468:(e,t,r)=>{"use strict";r.d(t,{ModuleNavigationStatsCollector:()=>p});var n=r(331635),a=r(132028),s=r(397111),_=r(955060),c=r(809424),l=r(802148),u=r(229820),d=r(353440);class p{logEvent(e){const{module:t,screen:r}=this.metaData.get(),n=(0,d.getConnectionEffectiveType)(),a={module:t,screen:"unknown"===r?t:r,...e};this.isEventValid(a)&&this.networkStats.send({network_type:"UNKNOWN",network_effective_type:n,type:u.NetworkStatEventTypes.TYPE_MODULE_NAVIGATION_STATS_ITEM,[u.NetworkStatEventTypes.TYPE_MODULE_NAVIGATION_STATS_ITEM]:a})}isEventValid(e){return!!(0,l.isModuleShouldBeMeasured)(e.module)&&(!!e.value||(this.errorLogger.log(new Error(`ModuleNavigationStats: invalid event for module: ${e.module}`)),!1))}constructor(e,t,r){this.networkStats=e,this.errorLogger=t,this.metaData=r}}p=(0,n.__decorate)([a.scope.container(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[void 0===s.NetworkStats?Object:s.NetworkStats,void 0===_.ErrorLogger?Object:_.ErrorLogger,void 0===c.MetaData?Object:c.MetaData])],p)},878788:(e,t,r)=>{"use strict";r.d(t,{ModuleNavigationStatsService:()=>g});var n=r(331635),a=r(327813),s=r(132028),_=r(590780),c=r(24516),l=r(627876),u=r(809424),d=r(98744),p=r(781979),E=r(253468),m=r(558137);class g{sendLoadingStartEvent(){return this.send("START")}sendLoaderShownEvent(){return this.send("LOADER_SHOWN")}sendLoadingFinishEvent(){return this.send("FINISH")}sendLoadingFinishAfterFrameEvent(){return this.send("FINISH_AFTER_FRAME")}get state(){return g.ensureData().state}set state(e){g.ensureData().state=e}send(e){let t=null;if(!(0,d.isAllowedStateTransition)(this.state,e))return this.sendStatLog(e,"invalid"),void this.debugLog("[ModuleNavigationStatsService]: Недопустимый переход %s -> %s",this.state,e);switch(this.sendStatLog(e,"valid"),this.debugLog("Переход %s -> %s",this.state,e),e){case"START":this.clearObsoleteMarks(),this.performance.mark(p.ModuleNavigationStatMarks.PERF_MARK_PAGE_START);break;case"LOADER_SHOWN":{const e=this.measureSafe(p.ModuleNavigationStatMarks.PERF_MEASURE_PAGE,p.ModuleNavigationStatMarks.PERF_MARK_PAGE_START);e&&this.isSendingEnabled()&&this.collector.logEvent({step:"loader_shown",value:Math.round(e.duration).toString()}),e&&(t=Math.round(e.duration));break}case"FINISH":case"FINISH_AFTER_FRAME":{const r=this.measureSafe(p.ModuleNavigationStatMarks.PERF_MEASURE_PAGE,p.ModuleNavigationStatMarks.PERF_MARK_PAGE_START);r&&this.isSendingEnabled()&&this.collector.logEvent({step:"FINISH"===e?"page":"page_after_frame",value:Math.round(r.duration).toString()}),r&&(t=Math.round(r.duration));break}}return this.state=e,{duration:t}}isSendingEnabled(){return this.userEnv.partConfigEnabled("measure_module_navigation_stats")}sendStatLog(e,t){if(this.userEnv.partConfigEnabled("module_navigation_stats_log_ratio")){const{module:r,screen:n}=this.metaData.get();this.statLog.send({name:"module_navigation_stats_log",value:1,keys:[r,n,e,t]})}}debugLog(...e){this.userEnv.partConfigEnabled("measure_module_navigation_stats_debug")&&console.debug(...e)}measureSafe(e,t,r){try{return this.performance.measure(e,t,r)}catch{}}clearObsoleteMarks(){this.performance.clearMarks(p.ModuleNavigationStatMarks.PERF_MARK_PAGE_START),this.performance.clearMeasures(p.ModuleNavigationStatMarks.PERF_MEASURE_PAGE)}constructor(e,t,r,n,s){this.performance=e,this.userEnv=t,this.collector=r,this.statLog=n,this.metaData=s,(0,a.makeAutoObservable)(this)}}g.ensureData=(0,m.makeSharedState)("spa/shared/infrastructure/services/ModuleNavigationStatsService",(()=>({state:"FINISH"})),{version:1}),g=(0,n.__decorate)([s.scope.global(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[void 0===_.Performance?Object:_.Performance,void 0===c.UserEnv?Object:c.UserEnv,void 0===E.ModuleNavigationStatsCollector?Object:E.ModuleNavigationStatsCollector,void 0===l.Statlog?Object:l.Statlog,void 0===u.MetaData?Object:u.MetaData])],g)},781979:(e,t,r)=>{"use strict";r.d(t,{ALLOWED_TRANSITIONS:()=>a,IGNORED_MODULES:()=>s,ModuleNavigationStatMarks:()=>n});const n={PERF_MARK_PAGE_START:"__navpagemark",PERF_MEASURE_PAGE:"__navpagemeasure",PERF_MEASURE_LOADER_SHOWN:"__navloadershownmeasure"},a={START:["START","LOADER_SHOWN","FINISH"],LOADER_SHOWN:["START","FINISH"],FINISH:["START","FINISH_AFTER_FRAME"],FINISH_AFTER_FRAME:["START"]},s=["app","wall_donut","unknown","invite","wall_archive","support","helpdesk","abuse","noSpam","sf"]},978034:(e,t,r)=>{"use strict";r.d(t,{ModuleNavigationStatMarks:()=>a.ModuleNavigationStatMarks,ModuleNavigationStatsService:()=>n.ModuleNavigationStatsService});var n=r(878788),a=r(781979)},98744:(e,t,r)=>{"use strict";r.d(t,{isAllowedStateTransition:()=>a});var n=r(781979);const a=(e,t)=>n.ALLOWED_TRANSITIONS[e].includes(t)},802148:(e,t,r)=>{"use strict";r.d(t,{isModuleShouldBeMeasured:()=>a});var n=r(781979);const a=e=>!n.IGNORED_MODULES.includes(e)},302589:(e,t,r)=>{"use strict";r.d(t,{ModuleNavigationStatMarks:()=>n.ModuleNavigationStatMarks,ModuleNavigationStatsService:()=>n.ModuleNavigationStatsService});var n=r(978034)},847629:(e,t,r)=>{"use strict";r.d(t,{WebMiniAppLaunchService:()=>u});var n=r(331635),a=r(608814),s=r(132028),_=r(951652),c=r(759339),l=r(920518);class u extends c.MiniAppLaunchService{constructor(e,t,r){super(e,t),this.layers=r,this.closeLayer=()=>{this.layers.close()},this.makeLayerConnection=async({appId:e,actorId:t})=>{this.layers.open("appInLayer",{layerParams:{appId:`${e}`,actorId:`${t||this.authService.userId}`}})}}}u=(0,n.__decorate)([s.scope.global(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[void 0===_.AuthService?Object:_.AuthService,void 0===l.LaunchRecordService?Object:l.LaunchRecordService,void 0===a.WebLayers?Object:a.WebLayers])],u)},135374:(e,t,r)=>{"use strict";r.d(t,{prepareHref:()=>l,processNavigation:()=>c});var n=r(87848),a=r(279782),s=r(115744),_=r(540462);function c(e){const t=URL.parse(e);let r="";(0,_.partConfigEnabled)("mini_apps_fix_bookmakers_redirects")&&t&&(r=t.pathname+t.search);const c=r||(e.startsWith("/")?e:`/${e}`);return(0,a.processBookmakersStaticRouter)(n.groupedRoutesConfig,c,(0,s.ensureDynamicMatch)())}function l(e){return(0,a.prepareHref)(e)}},796804:(e,t,r)=>{"use strict";r.d(t,{prepareHref:()=>n.prepareHref,processNavigation:()=>n.processNavigation});var n=r(135374)},998086:(e,t,r)=>{"use strict";r.d(t,{WebLayers:()=>c});var n=r(331635),a=r(132028),s=r(494675),_=r(543732);class c extends s.Layers{constructor(){super(_.webLayersConfig)}}c=(0,n.__decorate)([a.scope.global(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[])],c)},608814:(e,t,r)=>{"use strict";r.d(t,{WebLayers:()=>n.WebLayers,webLayersConfig:()=>a.webLayersConfig});var n=r(998086),a=r(543732)},543732:(e,t,r)=>{"use strict";r.d(t,{webLayersConfig:()=>n});const n={appInLayer:{enabledKey:"web_spa_mini_apps_s",layerName:"w",path:"app:appId(\\d+)_:actorId(-?\\d+)"},appInLayerShort:{enabledKey:"web_spa_mini_apps_s",layerName:"w",path:"app:appId(\\d+)"},clipsModal:{enabledKey:"clips_web_use_spa_modal",path:"clip:ownerId(-?\\d+)_:clipId(\\d+)"},donutPaymentModal:{layerName:"w",path:"donut_payment:ownerId(-?\\d+)"},storiesViewerModal:{enabledKey:"web_stories_viewer_redesign",layerName:"w",path:"story:ownerId(-?\\d+)_:storyId(\\d+)/:listName([a-z0-9_-]+)?"},storiesArchiveModal:{enabledKey:"web_stories_archive_redesign",layerName:"w",path:"stories"},narrativesViewerModal:{enabledKey:"web_stories_viewer_redesign",layerName:"w",path:"narrative:ownerId(-?\\d+)_:narrativeId(\\d+)_:storyId(\\d+)/:listName([a-z0-9_-]+)"},narrativesListModal:{enabledKey:"web_stories_narratives_redesign",layerName:"w",path:"narratives"},communityReviewForm:{enabledKey:"market_community_review_form_z_w_spa_web",layerName:"w",path:"community-review-:communityGroupId(\\d+){-:reviewId(\\d+)}?"},communityReviewModal:{layerName:"w",path:"community-review-show-:reviewId(\\d+)"}}},487461:(e,t,r)=>{"use strict";r.d(t,{DefaultLoadingErrorPage:()=>d});var n=r(474848),a=r(211413),s=r(172656),_=r(720836),c=r(454154),l=r(312511),u=r(149333);const d=()=>{const e=(0,u.useLangs)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.PageBlockOffsetSpacing,{}),(0,n.jsx)(s.Group,{children:(0,n.jsx)(_.Placeholder,{icon:(0,n.jsx)(l.Icon144IllustrationSpottySick,{}),header:e.getLang("global_spa_error_page_header"),action:(0,n.jsx)(c.Button,{size:"m",onClick:()=>window.location.reload(),children:e.getLang("global_spa_error_page_reload_button")}),children:e.getLang("global_spa_error_page_placeholder")})})]})}},435442:(e,t,r)=>{"use strict";r.d(t,{DefaultLoadingErrorPage:()=>n.DefaultLoadingErrorPage,lazyModule:()=>s.lazyModuleWithErrorAnalytics,lazyModulePage:()=>a.lazyModulePage});var n=r(487461),a=r(602090),s=r(810911)},602090:(e,t,r)=>{"use strict";r.d(t,{lazyModulePage:()=>n.lazyModulePage});var n=r(660243)},660243:(e,t,r)=>{"use strict";r.d(t,{lazyModulePage:()=>u});var n=r(540462),a=r(487461),s=r(810911),_=r(518434),c=r(319756),l=r(551178);function u({loader:e,...t}){const u=(0,c.ensureDIRootWebContainer)().resolve(l.PerformanceStatsCore);return(0,s.lazyModuleWithErrorAnalytics)({...t,loader:(0,n.partConfigEnabled)("await_spa_module")?()=>{const t=e();return r._dG("vk",Object.assign(window.vk??{},{moduleLoading:t})),t}:e,DefaultLoadingError:(0,n.partConfigEnabled)("web_spa_redesign_default_loading_error")?a.DefaultLoadingErrorPage:void 0,options:{hasError:(0,n.partConfigEnabled)("web_spa_error_page"),logError:_.logError},onLazyModuleLoadStarted:()=>{u.send(l.PerformanceStatsCoreEventType.APP_BUNDLE_LOAD_STARTED)},onLazyModuleLoaded:()=>{u.send(l.PerformanceStatsCoreEventType.APP_BUNDLE_LOAD_DONE)}})}},810911:(e,t,r)=>{"use strict";r.d(t,{lazyModuleWithErrorAnalytics:()=>n.lazyModuleWithErrorAnalytics});var n=r(687989)},687989:(e,t,r)=>{"use strict";r.d(t,{lazyModuleWithErrorAnalytics:()=>s});var n=r(474848),a=r(777062);function s(e){function t(t){return(0,n.jsx)(a.ErrorBoundaryAnalitycsProvider,{lazyModuleParams:e,children:(0,n.jsx)(a.ErrorBoundaryAnalitycsView,{children:e=>(0,n.jsx)(e,{...t})})})}return t.displayName=`lazyModuleWithErrorAnalytics(${e.name})`,t.preload=e.loader,t}},126548:(e,t,r)=>{"use strict";r.d(t,{ErrorBoundaryAnalitycsView:()=>_});var n=r(296540),a=r(837293),s=r(934368);function _({children:e}){const t=(0,s.useModelErrorBoundaryAnalitycs)();return e((0,n.useMemo)((()=>{const e=t.props.current.lazyModuleParams;return t.isEnabled?(0,a.lazyModule)({...e,options:{...e.options??{},hasError:e.options?.hasError??!1,logError:r=>t.logLoadModuleError(r,e.name),onDidCatch:r=>t.logBoundaryError(r,e.name)}}):(0,a.lazyModule)(e)}),[t]))}},777062:(e,t,r)=>{"use strict";r.d(t,{ErrorBoundaryAnalitycsProvider:()=>a.ErrorBoundaryAnalitycsProvider,ErrorBoundaryAnalitycsView:()=>n.ErrorBoundaryAnalitycsView});var n=r(126548),a=r(934368)},934368:(e,t,r)=>{"use strict";r.d(t,{ErrorBoundaryAnalitycsProvider:()=>d,useModelErrorBoundaryAnalitycs:()=>p});var n=r(331635),a=r(327813),s=r(24516),_=r(627876),c=r(132028),l=r(518434);class u{get isEnabled(){return this.userEnv.partConfigEnabled("statshouse_logging_spa_show_error_boundary")}log(e,t,r){(0,l.logError)(e),this.isEnabled&&this.statLog.send({name:"web_spa_page_error",value:1,keys:[t,r]})}logLoadModuleError(e,t){this.log(e,t,"load_module_error")}logBoundaryError(e,t){this.log(e,t,"boundary_error")}constructor(e,t,r){this.userEnv=e,this.statLog=t,this.props=r,(0,a.makeAutoObservable)(this)}}u=(0,n.__decorate)([c.scope.transient(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[void 0===s.UserEnv?Object:s.UserEnv,void 0===_.Statlog?Object:_.Statlog,void 0===c.Props?Object:c.Props])],u);const{Provider:d,useModel:p}=(0,c.createProvider)(u,{isolatedContext:!1,onlyTransient:!0})},518434:(e,t,r)=>{"use strict";r.d(t,{logError:()=>s});var n=r(298077),a=r(540462);const s=e=>{(0,a.partConfigEnabled)("web_spa_loading_error")?(0,n.logError)(e):console.error(e)}},115744:(e,t,r)=>{"use strict";r.d(t,{ensureDynamicMatch:()=>s});var n=r(464527),a=r(319756);const s=(()=>{let e;return()=>{if(e)return e;const t=(0,a.ensureDIRootWebContainer)().resolve(n.ScreenNameResolver);return e=t.ensureMatch.bind(t),e}})()},235930:(e,t,r)=>{"use strict";r.d(t,{matchWebSpaRoute:()=>d});var n=r(456961),a=r(540462),s=r(800361),_=r(87848),c=r(463321),l=r(115744);const u=(0,s.isVideoStandalone)()?c.routesConfigsWebVideo:_.groupedRoutesConfig;async function d(e){const t=e.startsWith("/")?e:`/${e}`,[r,s=""]=t.split("?");return n.Router.matchRoutesConfig({routesConfig:u,pathname:r,search:s,path:t,partConfigEnabled:a.partConfigEnabled,dynamicMatch:(0,l.ensureDynamicMatch)()})}},87848:(e,t,r)=>{"use strict";r.d(t,{Routes:()=>u,groupedRoutesConfig:()=>l,routesConfig:()=>_});const n="^-?\\d+$",a=".*[^ ].*",s="\\d{1,3}(?:-\\d{1,3})*",_={adsmarket:{path:"/adsmarket",module:"",screen:"",mockBookmakerRedirect:!0,disabledClientNavigation:!0,enabledKey:"ads_legacy_routes"},adsweb:{path:"/adsweb",exact:!0,module:"",screen:"",mockBookmakerRedirect:!0,disabledClientNavigation:!0,enabledKey:"ads_legacy_routes"},ads:{path:"/ads",exact:!0,module:"",screen:"",mockBookmakerRedirect:!0,disabledClientNavigation:!0,enabledKey:"ads_legacy_routes"},musicPlaylist:{path:"/music/playlist/:accessRawId(-?\\d+_-?\\d+)",module:"audio",screen:"",adsSection:"audio",enabledKey:"web_spa_router_music_playlist"},musicPlaylistProtected:{path:"/music/playlist/:accessRawId(-?\\d+_-?\\d+_[a-z0-9]+)",module:"audio",screen:"",adsSection:"audio",enabledKey:"web_spa_router_music_playlist"},musicAlbum:{path:"/music/album/:accessRawId(-?\\d+_-?\\d+)",module:"audio",screen:"",adsSection:"audio",enabledKey:"web_spa_router_music_playlist"},musicAlbumProtected:{path:"/music/album/:accessRawId(-?\\d+_-?\\d+_[a-z0-9]+)",module:"audio",screen:"",adsSection:"audio",enabledKey:"web_spa_router_music_playlist"},musicPlaylistAliased:{path:"/music/:alias(for_you|weekly|new|discovery)",module:"audio",screen:"",adsSection:"audio",exact:!0,enabledKey:"web_spa_router_music_playlist_aliased"},audioBooks:{path:"/audiobook:id(\\d+)",module:"audio",screen:"",adsSection:"audio",exact:!0,spaEnableAnonymous:!0,spaBackend:!0},podcasts:{path:"/podcasts:ownerId(-?\\d+)",module:"podcast",screen:"",enabledKey:"web_podcast_card_spa",spaBackend:!0},articlesAuthorPage:{path:"/@:ownerId(-?\\d+)",module:"author_page",screen:"",mockBookmakerRedirect:!0,secondLayer:!0},article:{path:"/@:ownerId(-?\\d+)-:articleKey",module:"article",screen:"",mockBookmakerRedirect:!0,secondLayer:!0},articleScreenName:{path:"/@:screenName-:articleKey",module:"article",screen:"",mockBookmakerRedirect:!0,secondLayer:!0},articlesAuthorPageScreenName:{path:"/@:screenName",module:"author_page",screen:"",mockBookmakerRedirect:!0,secondLayer:!0},communityReviews:{path:"/reviews:ownerId(-\\d+)",module:"community_reviews",screen:"review_list",adsSection:"other",disabledClientNavigation:!1},bugsProducts:{path:"/bugs",enabledKey:"web_spa_router_bugs",module:"bugs",exact:!0,screen:"",query:{act:"products"},disabledClientNavigation:!0},bugsChecklists:{path:"/bugs",enabledKey:"web_spa_router_bugs",module:"bugs",screen:"",exact:!0,query:{act:"checklists"},disabledClientNavigation:!0},bugsChecklistRun:{path:"/bugs",enabledKey:"web_spa_router_bugs",module:"bugs",screen:"",exact:!0,query:{act:"checklist_run",id:{test:n}},disabledClientNavigation:!0},bugsSettings:{path:"/bugs",enabledKey:"web_spa_router_bugs",module:"bugs",screen:"",exact:!0,query:{act:"settings"},disabledClientNavigation:!0},bugs:{path:"/bugs",enabledKey:"web_spa_router_bugs",module:"bugs",screen:"",exact:!0,disabledClientNavigation:!0},bugsSingleRoute:{path:"/bug:bugreportId(\\d+)",enabledKey:"web_spa_router_bugs",module:"bugs",screen:"",disabledClientNavigation:!0},bugsMng:{path:"/bugs_mng",enabledKey:"web_spa_router_bugs",module:"bugs_mng",screen:"",disabledClientNavigation:!0},cartGroup:{path:"/cart/:ownerId(\\d+)",exact:!0,module:"cart",screen:"",adsSection:"other"},cartGroupLegacy:{path:"/cart:ownerId(\\d+)",exact:!0,module:"cart",screen:"",adsSection:"other"},cart:{path:"/cart",module:"cart",screen:"",adsSection:"other"},callsJoinVkMe:{path:"/reforged.php",query:{act:"call_join",hash:{test:a}},module:"calls",screen:"calls_join_screen",disabledClientNavigation:!0},callsJoin:{path:"/call/join/:callId([\\w\\/=-]+)",module:"calls",screen:"calls_join_screen",disabledClientNavigation:!0},callsJoinShortLinkVkMe:{path:"/reforged.php",query:{act:"call_join_short_link",short_id:{test:`^${s}$`}},module:"calls",screen:"calls_join_screen",disabledClientNavigation:!0},callJoinShortLink:{path:`/call/(${s})`,module:"calls",screen:"calls_join_screen",disabledClientNavigation:!0},callsHistory:{path:"/calls",module:"calls",screen:"calls_history",adsSection:"other",enabledKey:"web_spa_calls",exact:!0},checkout:{path:"/checkout/:groupId(\\d+)",enabledKey:"web_spa_router_checkout_v2_mobx",exact:!0,module:"checkout",screen:"",adsSection:"other"},clipsSingle:{path:"/clip:ownerId(-?\\d+)_:videoId(\\d+)",exact:!0,bookmakerRedirectDisabled:!0,module:"clips",screen:"",adsSection:"other",indexed:!1,spaEnableAnonymous:!1},clipsOwnerCompact:{path:"/clips:ownerId(-?\\d+)",exact:!0,module:"clips",screen:"clips_grid_common_clips",adsSection:"other",indexed:!1,spaEnableAnonymous:!1},clipsUploadFromCamera:{path:"/camera",query:{section:"clips"},exact:!0,module:"clips",screen:"clips_publish",adsSection:"other",indexed:!1,spaEnableAnonymous:!1},clips:{path:"/clips",routes:{clipsOwner:{path:"/clips/:ownerId(-?\\d+)",exact:!0,module:"clips",screen:"clips_grid_common_clips",adsSection:"other",indexed:!1,spaEnableAnonymous:!1},clipsPostponedOwner:{path:"/clips/postponed/:ownerId(-?\\d+)",exact:!0,module:"clips",screen:"clips_grid_delayed_publication_clips",adsSection:"other",indexed:!1,spaEnableAnonymous:!1},clipsPostponedUser:{path:"/clips/postponed/id:userId(\\d+)",exact:!0,module:"clips",screen:"clips_grid_delayed_publication_clips",adsSection:"other",indexed:!1,spaEnableAnonymous:!1},clipsPostponedGroup:{path:"/clips/postponed/club:groupId(\\d+)",exact:!0,module:"clips",screen:"clips_grid_delayed_publication_clips",adsSection:"other",indexed:!1,spaEnableAnonymous:!1},clipsSubscriptionsSingle:{path:"/clips/subscriptions",query:{clip:{test:a}},exact:!0,module:"clips",screen:"",adsSection:"other",indexed:!1,spaEnableAnonymous:!1},clipsSubscriptions:{path:"/clips/subscriptions",exact:!0,module:"clips",screen:"",adsSection:"other",indexed:!1,spaEnableAnonymous:!1},clipsOwnerUser:{path:"/clips/id:userId(\\d+)",exact:!0,module:"clips",screen:"clips_grid_common_clips",adsSection:"other",indexed:!1,spaEnableAnonymous:!1},clipsOwnerGroup:{path:"/clips/club:groupId(\\d+)",exact:!0,module:"clips",screen:"clips_grid_common_clips",adsSection:"other",indexed:!1,spaEnableAnonymous:!1},clipsOwnerPublic:{path:"/clips/public:groupId(\\d+)",exact:!0,module:"clips",screen:"clips_grid_common_clips",adsSection:"other",indexed:!1,spaEnableAnonymous:!1},clipsOwnerEvent:{path:"/clips/event:groupId(\\d+)",exact:!0,module:"clips",screen:"clips_grid_common_clips",adsSection:"other",indexed:!1,spaEnableAnonymous:!1},clipsCompilation:{path:"/clips/compilation/:compilationId(\\d+)",exact:!0,module:"clips",screen:"clips_grid_common_clips",adsSection:"other",indexed:!1,spaEnableAnonymous:!1},clipsCompilationInvalid:{path:"/clips/compilation/:invalidCompilationId",exact:!0,module:"clips",screen:"",adsSection:"other",indexed:!1,spaEnableAnonymous:!1},clipsEffect:{path:"/clips/effect/:ownerId(-?\\d+)_:effectId(-?\\d+)",exact:!0,module:"clips",screen:"clips_grid_common_clips",adsSection:"other",indexed:!1,spaEnableAnonymous:!1},clipsEffectInvalid:{path:"/clips/effect/:invalidEffectId",exact:!0,module:"clips",screen:"",adsSection:"other",indexed:!1,spaEnableAnonymous:!1},clipsHashtag:{path:"/clips/hashtag/:hashtagId",exact:!0,module:"clips",screen:"clips_grid_common_clips",adsSection:"other",indexed:!1,spaEnableAnonymous:!1},clipsMusic:{path:"/clips/music/:ownerId(-?\\d+)_:musicId(\\d+)",exact:!0,module:"clips",screen:"clips_grid_common_clips",adsSection:"other",indexed:!1,spaEnableAnonymous:!1},clipsMusicInvalid:{path:"/clips/music/:musicInvalidId",exact:!0,module:"clips",screen:"",adsSection:"other",indexed:!1,spaEnableAnonymous:!1},clipsPlace:{path:"/clips/place/:placeId(\\d+)",exact:!0,module:"clips",screen:"clips_grid_common_clips",adsSection:"other",indexed:!1,spaEnableAnonymous:!1},clipsPlaceInvalid:{path:"/clips/place/:placeInvalidId",exact:!0,module:"clips",screen:"",adsSection:"other",indexed:!1,spaEnableAnonymous:!1},clipsPlaylist:{path:"/clips/playlist/:ownerId(-?\\d+)_:playlistId(\\d+)",exact:!0,module:"clips",screen:"clips_grid_common_clips",adsSection:"other",indexed:!1,spaEnableAnonymous:!1},clipsPlaylistInvalid:{path:"/clips/playlist/:playlistInvalidId",exact:!0,module:"clips",screen:"",adsSection:"other",indexed:!1,spaEnableAnonymous:!1},clipsSearchSection:{path:"/clips/search",query:{section_id:{test:a}},module:"clips",screen:"",adsSection:"other",indexed:!1,spaEnableAnonymous:!1},clipsSearch:{path:"/clips/search",exact:!0,module:"clips",screen:"search_clips_service",adsSection:"other",indexed:!1,spaEnableAnonymous:!1},clipsUpload:{path:"/clips/upload:ownerId(-?\\d+)",exact:!0,module:"clips",screen:"clips_publish",adsSection:"other",indexed:!1,spaEnableAnonymous:!1},clipsOwnerScreenName:{path:"/clips/:screenName",exact:!0,module:"clips",screen:"clips_grid_common_clips",adsSection:"other",indexed:!1,spaEnableAnonymous:!1},clipsRecommendations:{path:"/clips",exact:!0,module:"clips",screen:"",indexed:!1,spaEnableAnonymous:!1}}},docs:{path:"/docs",exact:!0,enabledKey:"web_spa_router_docs",module:"docs",screen:"docs_all",adsSection:"other",spaBackend:!0},docsOwner:{path:"/docs:ownerId(-?\\d+)",enabledKey:"web_spa_router_docs",module:"docs",screen:"docs_all",adsSection:"other",spaBackend:!0},doc:{path:"/doc:ownerId(-?\\d+)_:id(\\d+)",module:"docs",screen:"",adsSection:"other",mockBookmakerRedirect:!0},donut:{path:"/donut_settings/:ownerId(-\\d+)",module:"donut_settings",exact:!0,screen:"donut_settings_main",adsSection:"other"},donutGoals:{path:"/donut_settings/:ownerId(-\\d+)/goals",module:"donut_settings",exact:!0,screen:"donut_settings_goals",adsSection:"other"},donutGoalsReorder:{path:"/donut_settings/:ownerId(-\\d+)/goals/reorder",module:"donut_settings",screen:"donut_settings_goals_sort",adsSection:"other"},donutGoalsEdit:{path:"/donut_settings/:ownerId(-\\d+)/goals/edit_:goalId(\\d+)",module:"donut_settings",screen:"donut_settings_goals_edit"},donutGoalsAdd:{path:"/donut_settings/:ownerId(-\\d+)/goals/add",module:"donut_settings",screen:"donut_settings_goals_add",adsSection:"other"},donutLevels:{path:"/donut_settings/:ownerId(-\\d+)/levels",module:"donut_settings",exact:!0,screen:"donut_settings_levels",adsSection:"other"},donutLevelsAdd:{path:"/donut_settings/:ownerId(-\\d+)/levels/add",module:"donut_settings",screen:"donut_settings_levels_add",adsSection:"other"},donutLevelsEdit:{path:"/donut_settings/:ownerId(-\\d+)/levels/edit_:levelId(\\d+)",module:"donut_settings",screen:"donut_settings_levels_edit",adsSection:"other"},donutTrials:{path:"/donut_settings/:ownerId(-\\d+)/trials",module:"donut_settings",exact:!0,screen:"donut_settings_trials",adsSection:"other"},donutTrialsAdd:{path:"/donut_settings/:ownerId(-\\d+)/trials/add",module:"donut_settings",screen:"donut_settings_trials_add",adsSection:"other"},donutTrialsEdit:{path:"/donut_settings/:ownerId(-\\d+)/trials/edit_:trialId(\\d+)",module:"donut_settings",screen:"donut_settings_trials_edit",adsSection:"other"},donutRegularPrivacy:{path:"/donut_settings/:ownerId(-\\d+)/levels/privacy",module:"donut_settings",screen:"donut_settings_regular",adsSection:"other"},donutRegularMessages:{path:"/donut_settings/:ownerId(-\\d+)/levels/messages",module:"donut_settings",screen:"donut_settings_regular",adsSection:"other"},donutOneTime:{path:"/donut_settings/:ownerId(-\\d+)/one_time",module:"donut_settings",exact:!0,screen:"donut_settings_one_time",adsSection:"other"},donutOtherPages:{path:"/donut_settings/:ownerId(-\\d+)",module:"donut_settings",screen:"donut_settings_other",adsSection:"other"},gamesCatalog:{path:"/(games|apps)",query:{act:"catalog"},enabledKey:"games_catalog_spa_web",module:"apps",screen:"",adsSection:"apps"},gamesApps:{path:"/(games|apps)",query:{act:"apps",gid:"",mid:""},enabledKey:"games_catalog_spa_web",module:"apps",screen:"",adsSection:"apps"},gamesSearchPage:{path:"/(games|apps)",query:{act:"search_page"},enabledKey:"games_catalog_spa_web",module:"apps",screen:"",disabledClientNavigation:!0,adsSection:"apps"},gamesDownloadedGames:{path:"/(games|apps)",query:{act:"downloaded_games"},enabledKey:"games_catalog_spa_web",module:"apps",screen:"",adsSection:"apps"},gamesVkPlayCloud:{path:"/(games|apps)",query:{act:"vk_play_cloud"},enabledKey:"games_catalog_spa_web",module:"apps",screen:"",disabledClientNavigation:!0,adsSection:"apps"},gamesProfile:{path:"/(games|apps)",query:{act:"profile"},enabledKey:"games_catalog_spa_web",module:"apps",screen:"",adsSection:"apps"},gamesAchievements:{path:"/(games|apps)",query:{act:"achievements"},enabledKey:"games_catalog_spa_web",module:"apps",screen:"",adsSection:"apps"},gamesCategory:{path:"/(games|apps)",query:{act:["installed","testing","new","growing","social_recommend","popular","friends","grossing","bestsellers","mini_apps","flash_games"],edit:""},enabledKey:"games_catalog_spa_web",module:"apps",screen:"",adsSection:"apps"},gamesGenre:{path:"/(games|apps)",query:{act:{test:"genre\\d+"},edit:""},enabledKey:"games_catalog_spa_web",module:"apps",screen:"",adsSection:"apps"},gamesCollection:{path:"/(games|apps)",query:{act:{test:"collection\\d+"},edit:""},enabledKey:"games_catalog_spa_web",module:"apps",screen:"",adsSection:"apps"},games:{path:"/(games|apps)",exact:!0,query:{act:""},enabledKey:"games_catalog_spa_web",module:"apps",screen:"",disabledClientNavigation:!0,adsSection:"apps"},communitySettings:{path:"/:screenName/settings",screenTypes:["group","page","event"],routes:{main:{path:"/:screenName/settings",screenTypes:["group","page","event"],exact:!0,module:"community_settings",screen:"community_settings",adsSection:"groups"},sections:{path:"/:screenName/settings/sections",screenTypes:["group","page","event"],module:"community_settings",exact:!0,screen:"community_settings_sections",adsSection:"groups"},channel:{path:"/:screenName/settings/channel",screenTypes:["group","page","event"],module:"community_settings",exact:!0,screen:"community_settings_sections",adsSection:"groups"},extras:{path:"/:screenName/settings/extras",screenTypes:["group","page","event"],exact:!0,enabledKey:"group_settings_second_stage",module:"community_settings",screen:"community_settings_sections",adsSection:"groups"},cta:{path:"/:screenName/settings/cta",screenTypes:["group","page","event"],module:"community_settings",exact:!0,enabledKey:"group_settings_second_stage",screen:"community_settings_sections",adsSection:"groups"},matchAll:{path:"/:screenName/settings",screenTypes:["group","page","event"],exact:!1,module:"community_settings",screen:"community_settings_fallback",adsSection:"groups"}}},communityBusinessStats:{path:"/community_business_stats:groupId(\\d+)",exact:!0,module:"community_business_stats",screen:"",adsSection:"other"},marketItem:{path:"/market/product/:seoSlug([-a-z\\d]*):ownerId(-\\d+)-:itemId(\\d+)",module:"market_item",screen:"",adsSection:"other"},marketCategory:{path:"/market/:section(category)/:slug([\\w-]+)-:categoryId([\\d-]+)",module:"market_catalog",screen:"marketplace_category",adsSection:"other"},marketSection:{path:"/market/:section(section)/:slug(-?[\\w-]+)",module:"market_catalog",screen:"marketplace_section",adsSection:"other"},marketCompilation:{path:"/market/:section(compilation)/:slug(-?[\\w-]+)",module:"market_catalog",screen:"marketplace_compilation"},market:{path:"/market",module:"market_catalog",screen:"marketplace_main",adsSection:"other",exact:!0,query:{act:""},disabledClientNavigation:!0},marketStorefront:{enabledKey:"web_spa_router_market_storefront",path:"/market:ownerId(-?\\d+)",module:"market_storefront",disabledClientNavigation:!0,screen:""},marketSettingsWelcomeRawLegacy:{path:"/(public|club|event):groupId(\\d+)",query:{act:"market_admin_welcome"},module:"market_group_settings",screen:"",adsSection:"other",exact:!0},marketSettingsWelcomeNamedLegacy:{path:"/:screenName",query:{act:"market_admin_welcome"},module:"market_group_settings",screen:"",adsSection:"other",screenTypes:["group","page"],exact:!0},marketSettingsGeneralRawLegacy:{path:"/(public|club|event):groupId(\\d+)",query:{act:"market_group_settings"},module:"market_group_settings",screen:"",adsSection:"other",exact:!0},marketSettingsGeneralNamedLegacy:{path:"/:screenName",query:{act:"market_group_settings"},module:"market_group_settings",screen:"",adsSection:"other",screenTypes:["group","page"],exact:!0},marketSettingsOrdersRawLegacy:{path:"/(public|club|event):groupId(\\d+)",query:{act:"market_group_orders"},module:"market_group_settings",enabledKey:"web_spa_router_market_settings_orders",screen:"",adsSection:"other",exact:!0},marketSettingsOrdersNamedLegacy:{path:"/:screenName",query:{act:"market_group_orders"},module:"market_group_settings",enabledKey:"web_spa_router_market_settings_orders",screen:"",adsSection:"other",screenTypes:["group","page"],exact:!0},marketSettingsItemsRawLegacy:{path:"/(public|club|event):groupId(\\d+)",query:{act:"market_group_items"},module:"market_group_settings",enabledKey:"web_spa_router_market_settings_items",screen:"",adsSection:"other",exact:!0},marketSettingsItemsNamedLegacy:{path:"/:screenName",query:{act:"market_group_items"},module:"market_group_settings",enabledKey:"web_spa_router_market_settings_items",screen:"",adsSection:"other",screenTypes:["group","page"],exact:!0},marketSettingsPaymentRawLegacy:{path:"/(public|club|event):groupId(\\d+)",query:{act:"market_group_payment"},module:"market_group_settings",enabledKey:"web_spa_router_market_settings_payment",screen:"",adsSection:"other",exact:!0},marketSettingsPaymentNamedLegacy:{path:"/:screenName",query:{act:"market_group_payment"},module:"market_group_settings",enabledKey:"web_spa_router_market_settings_payment",screen:"",screenTypes:["group","page"],adsSection:"other",exact:!0},marketSettingsDeliveryRawLegacy:{path:"/(public|club|event):groupId(\\d+)",query:{act:"market_group_delivery"},module:"market_group_settings",enabledKey:"web_spa_router_market_settings_delivery",screen:"",adsSection:"other",exact:!0},marketSettingsDeliveryNamedLegacy:{path:"/:screenName",query:{act:"market_group_delivery"},module:"market_group_settings",enabledKey:"web_spa_router_market_settings_delivery",screen:"",adsSection:"other",screenTypes:["group","page"],exact:!0},marketSettingsPromocodesRawLegacy:{path:"/(public|club|event):groupId(\\d+)",query:{act:"market_group_promocodes"},module:"market_group_settings",enabledKey:"web_spa_router_market_settings_promocodes",screen:"",adsSection:"other",exact:!0},marketSettingsPromocodesNamedLegacy:{path:"/:screenName",query:{act:"market_group_promocodes"},module:"market_group_settings",enabledKey:"web_spa_router_market_settings_promocodes",screen:"",adsSection:"other",screenTypes:["group","page"],exact:!0},marketSettingsServicesRawLegacy:{path:"/(public|club|event):groupId(\\d+)",query:{act:"market_group_services"},module:"market_group_settings",screen:"",adsSection:"other",exact:!0},marketSettingsServicesNamedLegacy:{path:"/:screenName",query:{act:"market_group_services"},module:"market_group_settings",screen:"",adsSection:"other",screenTypes:["group","page"],exact:!0},miniAppsGameWithActorId:{path:"/games/app:appId(\\d+)_:actorId(-?\\d+)",enabledKey:"web_spa_mini_apps_s",module:"game",screen:"game_page",adsSection:"apps"},miniAppsWithActorId:{path:"/app:appId(\\d+)_:actorId(-?\\d+)",enabledKey:"web_spa_mini_apps_s",module:"mini_app",screen:"mini_app_page",adsSection:"apps"},miniAppsGameWithGroupId:{path:"/games/app:appId(\\d+)",query:{mid:{test:n}},enabledKey:"web_spa_mini_apps_s",module:"game",screen:"game_page",adsSection:"apps"},miniAppsWithGroupId:{path:"/app:appId(\\d+)",query:{mid:{test:n}},enabledKey:"web_spa_mini_apps_s",module:"mini_app",screen:"mini_app_page",adsSection:"apps"},miniAppsGameDynamicWithGroupId:{path:"/games/:screenName",screenTypes:["application","vk_app"],query:{mid:{test:n}},enabledKey:"web_spa_mini_apps_s",module:"game",screen:"game_page",adsSection:"apps"},miniAppsDynamicWithGroupId:{path:"/:screenName",screenTypes:["application","vk_app","community_application"],query:{mid:{test:n}},enabledKey:"web_spa_mini_apps_s",module:"mini_app",screen:"mini_app_page",adsSection:"apps"},miniAppsGame:{path:"/games/app:appId(\\d+)",enabledKey:"web_spa_mini_apps_s",module:"game",screen:"game_page",adsSection:"apps"},miniApps:{path:"/app:appId(\\d+)",enabledKey:"web_spa_mini_apps_s",module:"mini_app",screen:"mini_app_page",adsSection:"apps"},miniAppsGameDynamic:{path:"/games/:screenName",screenTypes:["application","vk_app"],enabledKey:"web_spa_mini_apps_s",module:"game",screen:"game_page",adsSection:"apps"},miniAppsDynamic:{path:"/:screenName",screenTypes:["application","vk_app","community_application"],enabledKey:"web_spa_mini_apps_s",module:"mini_app",screen:"mini_app_page",adsSection:"apps"},monetizationAuthorsFundConfirm:{path:"/:screenName/monetization/authors_fund/confirm",screenTypes:["group","page"],enabledKey:"groups_monetization_spa",module:"monetization",exact:!0,screen:"",adsSection:"other"},monetizationAuthorsFund:{path:"/:screenName/monetization/authors_fund",screenTypes:["group","page"],enabledKey:"groups_monetization_spa",module:"monetization",exact:!0,screen:"",adsSection:"other"},monetizationADBlogger:{path:"/:screenName/monetization/adblogger",screenTypes:["group","page","event"],module:"monetization",exact:!0,screen:"",adsSection:"other"},monetizationSettings:{path:"/:screenName/monetization",screenTypes:["group","page","event"],module:"monetization",screen:"",adsSection:"other"},communityMenuSettings:{path:"/:screenName",query:{act:"menu"},screenTypes:["group","page","event"],enabledKey:"web_spa_router_community_page",module:"community_settings",exact:!0,screen:"",adsSection:"groups",disabledClientNavigation:!0},communityBaseSettings:{path:"/:screenName",query:{act:"edit"},screenTypes:["group","page","event"],enabledKey:"web_spa_router_community_page",module:"community_settings",exact:!0,screen:"",adsSection:"groups",disabledClientNavigation:!0},communityCommentsSettings:{path:"/:screenName",query:{act:"activity"},screenTypes:["group","page","event"],enabledKey:"web_spa_router_community_page",module:"community_settings",exact:!0,screen:"",adsSection:"groups",disabledClientNavigation:!0},communityMembersSettings:{path:"/:screenName",query:{act:"users"},screenTypes:["group","page","event"],enabledKey:"web_spa_router_community_page",module:"community_settings",exact:!0,screen:"",adsSection:"groups",disabledClientNavigation:!0},communityStoriesSettings:{path:"/:screenName",query:{act:"stories"},screenTypes:["group","page","event"],enabledKey:"web_spa_router_community_page",module:"community_settings",exact:!0,screen:"",adsSection:"groups",disabledClientNavigation:!0},communitySiteSettings:{path:"/:screenName",query:{act:"site"},screenTypes:["group","page","event"],enabledKey:"web_spa_router_community_page",module:"community_settings",exact:!0,screen:"",adsSection:"groups",disabledClientNavigation:!0},communityAdsPostSettings:{path:"/:screenName",query:{act:"adspost"},screenTypes:["group","page","event"],enabledKey:"web_spa_router_community_page",module:"community_settings",exact:!0,screen:"",adsSection:"groups",disabledClientNavigation:!0},groupMomentCreation:{path:"/:screenName",query:{act:"narrative_create"},screenTypes:["group","page","event"],enabledKey:"web_spa_router_community_page",module:"group",exact:!0,screen:"",adsSection:"groups",disabledClientNavigation:!0},group:{path:"/:screenName",screenTypes:["group","page","event"],enabledKey:"web_spa_router_community_page",module:"group",exact:!0,screen:"",adsSection:"groups"},orderDetails:{path:"/orders:userId(-?\\d+)_:orderId(-?\\d+)",enabledKey:"market_orders_web_mobx_enabled",module:"market_orders",screen:"",adsSection:"other"},orders:{path:"/orders",enabledKey:"market_orders_web_mobx_enabled",module:"market_orders",screen:"",adsSection:"other"},settingsPayments:{path:"/settings",query:{act:"payments"},module:"settings_payment",screen:"settings_payment",adsSection:"settings",disabledClientNavigation:!0},settingsSecurity:{path:"/settings",query:{act:"security"},module:"settings",screen:"settings",adsSection:"settings",disabledClientNavigation:!0},settingsBlacklist:{path:"/settings",query:{act:"blacklist"},module:"settings",screen:"settings_blacklist",adsSection:"settings",enabledKey:"web_spa_router_settings_blacklist"},settingsGroupNotifications:{path:"/settings",query:{act:"group_notify",gid:{test:n}},module:"settings",screen:"settings_group_notifications",adsSection:"settings",enabledKey:"web_spa_router_settings_notifications"},settingsNotifications:{path:"/settings",query:{act:"notify"},module:"settings",screen:"settings_notifications",adsSection:"settings",enabledKey:"web_spa_router_settings_notifications"},settingsPrivacy:{path:"/settings",query:{act:"privacy"},module:"settings",screen:"settings_privacy",adsSection:"settings",enabledKey:"web_spa_router_settings_privacy"},settings:{path:"/settings",query:{act:""},module:"settings",screen:"settings_general",adsSection:"settings",enabledKey:"web_spa_router_settings_general"},strikes:{path:"/strikes/:ownerId(-\\d+)",enabledKey:"strike_system_web_interface_access",module:"strikes",screen:"",adsSection:"other",disabledClientNavigation:!0},legacySearchGroupMembers:{path:"/search/people",query:{"c[group]":{test:n}},module:"search",screen:"search_group_members",adsSection:"other",enabledKey:"people_global_search_mobx",disabledClientNavigation:!1},searchGroupMembers:{path:"/search/people",query:{group_id:{test:n}},module:"search",screen:"search_group_members",adsSection:"other",enabledKey:"people_global_search_mobx"},searchAll:{exact:!0,path:"/search",module:"search",screen:"search_all",adsSection:"other"},searchPeople:{path:"/search/:pageName(people)",query:{"c[invite]":""},module:"search",screen:"search_people",adsSection:"other"},searchStatuses:{path:"/search/:pageName(statuses)",module:"search",screen:"search_news",adsSection:"other"},searchCommunity:{path:"/search/:pageName(community)",module:"search",screen:"",adsSection:"other"},searchCommunities:{path:"/search/:pageName(communities)",module:"search",screen:"search_groups",adsSection:"other"},searchApps:{path:"/search/:pageName(mini_apps)",module:"search",screen:"search_mini_apps",adsSection:"other"},searchGames:{path:"/search/:pageName(games)",module:"search",screen:"search_games",adsSection:"other"},searchAudio:{path:"/search/:pageName(audio)",module:"search",screen:"search_music",adsSection:"other"},searchVideo:{path:"/search/:pageName(video)",module:"search",screen:"search_video",adsSection:"other"},searchMarket:{path:"/search/:pageName(market)",module:"search",screen:"search_market",adsSection:"other"},searchClips:{path:"/search/:pageName(clips)",module:"search",screen:"search_clips",adsSection:"other"},bookmarksMarket:{path:"/bookmarks",query:{type:"product"},module:"bookmarks",screen:"bookmarks_market",adsSection:"other",enabledKey:"web_spa_router_bookmarks_product",exact:!0},profileId:{path:"/id:ownerId(\\d+)",enabledKey:"profile_web_spa_enabled",module:"profile",screen:"profile_user",exact:!0,disabledClientNavigation:!1},profileScreenName:{path:"/:screenName",enabledKey:"profile_web_spa_enabled",module:"profile",screenTypes:["user"],screen:"profile_user",exact:!0,disabledClientNavigation:!1},feedSectionPhotos:{path:"/feed",module:"feed",enabledKey:"web_spa_feed",exact:!0,screen:"feed_photos",query:{section:"photos"},adsSection:"feed_other",spaEnableAnonymous:!1,disableSpaForSeoBot:!0},feedSectionFriends:{path:"/feed",module:"feed",enabledKey:"web_spa_feed",exact:!0,screen:"feed_friends",adsSection:"feed_other",query:{section:"friends"},spaEnableAnonymous:!1,disableSpaForSeoBot:!0},feedSectionLikes:{path:"/feed",module:"feed",enabledKey:"web_spa_feed",exact:!0,screen:"feed_likes",adsSection:"feed_other",query:{section:"likes",filter:["","wall","wall_reply","clips","video","market"]},spaEnableAnonymous:!1,disableSpaForSeoBot:!0},feedGroupSections:{path:"/feed",module:"feed",enabledKey:"web_spa_feed",exact:!0,screen:"feed_groups",adsSection:"feed_other",query:{list:{test:a}},mockBookmakerRedirect:!0},feedLegacy:{path:"/al_feed.php",module:"feed",enabledKey:"web_spa_feed",exact:!0,screen:"feed",adsSection:"feed_main",spaEnableAnonymous:!1,disableSpaForSeoBot:!0},feed:{path:"/feed",module:"feed",enabledKey:"web_spa_feed",exact:!0,screen:"feed",adsSection:"feed_main",spaEnableAnonymous:!1,disableSpaForSeoBot:!0},wallPost:{path:"/wall:ownerId(-?\\d+)_:postId(\\d+)",exact:!0,enabledKey:"web_spa_feed",module:"wall",screen:"wall_post",adsSection:"wall",spaEnableAnonymous:!0,disableSpaForSeoBot:!1},wall:{path:"/wall:ownerId(-?\\d+)",exact:!0,enabledKey:"web_spa_feed",module:"wall",screen:"wall",adsSection:"wall",spaEnableAnonymous:!0,disableSpaForSeoBot:!1}},c={Audios:{path:"/audios:ownerId(-?\\d+)",module:"audio",screen:"",adsSection:"audio",mockBookmakerRedirect:!0},Audio:{path:"/audio:ownerId(-?\\d+)_:id(\\d+)",module:"audio",screen:"",adsSection:"audio",mockBookmakerRedirect:!0},Board:{path:"/board:groupId(\\d+)",module:"board",screen:"",adsSection:"board",mockBookmakerRedirect:!0},Topic:{path:"/topic:ownerId(-?\\d+)_:id(\\d+)",module:"board",screen:"",adsSection:"board",mockBookmakerRedirect:!0},CommunityDashboard:{path:"/communities/dashboard/@:domain",module:"communities_dashboard",screen:"",adsSection:"groups"},GroupDashboard:{path:"/groups/dashboard/@:domain",module:"communities_dashboard",screen:"",adsSection:"groups"},CommunityAppsCategory:{path:"/community_apps(.*)act=:section(.*)",module:"community_apps",screen:"",adsSection:"apps",mockBookmakerRedirect:!0},CommunityApps:{path:"/community_apps",module:"community_apps",screen:"",adsSection:"apps"},FriendsAll:{path:"/friends\\?section=all",module:"friends",screen:"",adsSection:"friends"},FriendsRequests:{path:"/friends\\?section=requests",module:"friends",screen:"",adsSection:"friends"},FriendsAllRequests:{path:"/friends\\?section=all_requests",module:"friends",screen:"",adsSection:"friends"},FriendsOutRequests:{path:"/friends\\?section=out_requests",module:"friends",screen:"",adsSection:"friends"},FriendsFollowers:{path:"/friends\\?section=followers(&sort=\\w+)?",module:"friends",screen:""},FriendsOnline:{path:"/friends\\?section=online",module:"friends",screen:"",adsSection:"friends"},FriendsCleanup:{path:"/friends\\?section=cleanup",module:"friends",screen:"",adsSection:"friends"},FriendsRecent:{path:"/friends\\?section=recent",module:"friends",screen:"",adsSection:"friends"},FriendsList:{path:"/friends\\?section=list:id(\\d+)",module:"friends",screen:"",adsSection:"friends"},FriendsInviteToGroup:{path:"/friends\\?act=invite&group_id=:group_id(\\d+)(&section=\\w+)?",module:"friends",screen:""},FriendsInviteToGroupReverse:{path:"/friends\\?group_id=:group_id(\\d+)&act=invite(&section=\\w+)?",module:"friends",screen:"",adsSection:"friends"},FriendsOfFriend:{path:"/friends\\?id=:id(\\d+)(&section=\\w+)?",module:"friends",screen:"",adsSection:"friends"},FriendsFind:{path:"/friends\\?act=find(.*)?",module:"friends",screen:"",adsSection:"friends"},Friends:{path:"/friends",module:"friends",screen:"",adsSection:"friends"},GroupsCollection:{path:"/groups/collection/:collection",module:"groups_list",screen:"",adsSection:"groups"},GroupsByOwnerIdSearch:{path:"/groups\\?id=:ownerId(\\d+)(.*)q=(.*)",module:"groups_list",screen:"",adsSection:"groups"},GroupsByOwnerId:{path:"/groups\\?id=:ownerId(\\d+)(.*)",module:"groups_list",screen:"",adsSection:"groups"},GroupsSearch:{path:"/groups\\?(.+)?q=(.+)",module:"groups_list",screen:"",adsSection:"groups"},GroupsSearchMyGroups:{path:"/groups/(my_all_groups|my_admin)\\?(.+)?q=(.+)",module:"groups_list",screen:"",adsSection:"groups"},Groups:{path:"/groups",module:"groups_list",screen:"",adsSection:"groups"},ImAct:{path:"/al_im.php",module:"im",screen:"",adsSection:"im"},ImGroup:{path:"/gim:groupId(\\d+)",module:"im",screen:"",adsSection:"im"},ImWrite:{path:"/write:id(-?\\d+)",module:"im",screen:"",adsSection:"im"},ImSettings:{path:"/im/settings",module:"im",screen:"",adsSection:"im"},Im:{path:"/im",module:"im",screen:"",adsSection:"im"},MarketServices:{path:"/uslugi:ownerId(-?\\d+)",module:"market_services",screen:"",adsSection:"other",mockBookmakerRedirect:!0},Photos:{path:"/photos:ownerId(\\d+)?",module:"photos",screen:"",adsSection:"photos"},GroupPhotos:{path:"/photos:ownerId(-\\d+)?",module:"photos",screen:"",adsSection:"photos",mockBookmakerRedirect:!0},Albums:{path:"/albums:ownerId(\\d+)?",module:"photos",screen:"",adsSection:"photos"},GroupAlbums:{path:"/albums:ownerId(-\\d+)?",module:"photos",screen:"",adsSection:"photos",mockBookmakerRedirect:!0},AlbumTag:{path:"/tag:ownerId(\\d+)",module:"photos",screen:"",adsSection:"photos"},GroupPhotoSimple:{path:"/photo:ownerId(-\\d+)_:id(\\d+)",module:"photos",screen:"",adsSection:"photos",mockBookmakerRedirect:!0},AlbumSimple:{path:"/album:ownerId(\\d+)_:id(\\d+)",module:"photos",screen:"",adsSection:"photos"},GroupAlbumSimple:{path:"/album:ownerId(-\\d+)_:id(\\d+)",module:"photos",screen:"",adsSection:"photos",mockBookmakerRedirect:!0},PhotosArchive:{path:"/photos_archive",module:"photos",screen:"",adsSection:"photos"},Podcast:{path:"/podcast:ownerId(-?\\d+)_:id(\\d+)",module:"podcast",screen:"",adsSection:"other",mockBookmakerRedirect:!0},Stats:{path:"/stats\\?(.*)gid=:groupId(\\d+)(.*)",module:"",screen:"",mockBookmakerRedirect:!0},VideosScreenName:{path:"/video/@:screenName",module:"author_page",screen:"",mockBookmakerRedirect:!0},Videos:{path:"/videos:ownerId(-?\\d+)",module:"video",screen:"",mockBookmakerRedirect:!0},Video:{path:"/video:ownerId(-?\\d+)_:id(\\d+)",module:"video",screen:"",mockBookmakerRedirect:!0},VideoPlaylist:{path:"/video/playlist/:ownerId(-?\\d+)_:id(\\d+)",module:"video",screen:"",mockBookmakerRedirect:!0}};Object.entries(c).forEach((([,e])=>{e.isLegacyConfig=!0}));const l={...c,..._},u=Object.fromEntries(Object.entries(c).map((([e,{path:t}])=>[e,t])))},463321:(e,t,r)=>{"use strict";r.d(t,{routesConfigsWebVideo:()=>n});const n={subscriptions:{path:"/subscriptions",module:"video",enabledKey:"video_web_spa_subscriptions",screen:""},playlistVideo:{path:"/playlist/:playlistId(-?\\d+_-?\\d+)/video:ownerId(-?\\d+)_:videoId(\\d+)",module:"video",enabledKey:"video_web_spa_video_page",screen:""},video:{path:"/video:ownerId(-?\\d+)_:videoId(\\d+)",module:"video",enabledKey:"video_web_spa_video_page",screen:""}}},89972:(e,t,r)=>{"use strict";r.d(t,{BASE_ROUTE:()=>n.BASE_ROUTE,CLIPS_SECTIONS:()=>n.CLIPS_SECTIONS,PUBLISH_STAT_LOG_SECTIONS:()=>n.PUBLISH_STAT_LOG_SECTIONS,getArtistUrl:()=>a.getArtistUrl,getClipsGridSoundUrl:()=>a.getClipsGridSoundUrl,getCompilationUrl:()=>a.getCompilationUrl,getEffectUrl:()=>a.getEffectUrl,getFeedTopUrl:()=>a.getFeedTopUrl,getFeedUrl:()=>a.getFeedUrl,getHashtagUrl:()=>a.getHashtagUrl,getMusicUrl:()=>a.getMusicUrl,getOwnerClipsUrl:()=>a.getOwnerClipsUrl,getOwnerUrl:()=>a.getOwnerUrl,getPlaceUrl:()=>a.getPlaceUrl,getPopupClipUrl:()=>a.getPopupClipUrl,getPostponedClipsUrl:()=>a.getPostponedClipsUrl,getPublishedClipsUrl:()=>a.getPublishedClipsUrl,getStatisticsUrl:()=>a.getStatisticsUrl,usePath:()=>_.usePath,useRoute:()=>s.useRoute});var n=r(652999),a=r(870451),s=r(41829),_=r(570121)},652999:(e,t,r)=>{"use strict";r.d(t,{BASE_ROUTE:()=>n,BASE_SINGLE_CLIP_ROUTE:()=>a,CLIPS_SECTIONS:()=>s,CLIP_POPUP_QUERY_PARAMETER:()=>l,CLIP_QUERY_PARAMETER:()=>c,PUBLISH_STAT_LOG_SECTIONS:()=>_});const n="/clips",a="/clip",s={TOP:"top",SUBSCRIPTIONS:"subscriptions",MY:"my",OWNER:"owner",HASHTAG:"hashtag",UPLOAD:"upload",MUSIC:"music",COMPILATION:"compilation",EFFECT:"effect",POSTPONED:"postponed",PLAYLIST:"playlist",PLACE:"place",SEARCH:"search",SEARCH_SECTION:"search_section"},_={[s.TOP]:"rec",[s.SUBSCRIPTIONS]:"subscriptions",[s.MY]:"myclips"},c="clip",l="z"},870451:(e,t,r)=>{"use strict";r.d(t,{getArtistUrl:()=>R,getClipsGridSoundUrl:()=>d,getCompilationUrl:()=>A,getEffectUrl:()=>I,getFeedClipUrl:()=>s,getFeedTopUrl:()=>c,getFeedUrl:()=>_,getHashtagUrl:()=>f,getLoginUrl:()=>P,getMusicUrl:()=>y,getOwnerClipsUrl:()=>g,getOwnerUrl:()=>l,getPlaceUrl:()=>S,getPopupClipUrl:()=>u,getPostponedClipsUrl:()=>E,getPublishedClipsUrl:()=>m,getStatisticsUrl:()=>p,getUploadUrl:()=>O,isUploadPage:()=>T});var n=r(893808),a=r(652999);const s=(e,t="")=>e===a.CLIPS_SECTIONS.TOP?`${a.BASE_SINGLE_CLIP_ROUTE}${t}`:`${location.pathname}${t}`,_=(e,t="")=>"top"===e?`${t}`:"top"===e||"subscriptions"===e?`?${a.CLIP_QUERY_PARAMETER}=${t}`:`${a.BASE_ROUTE}`,c=()=>`${a.BASE_ROUTE}`,l=e=>`${a.BASE_ROUTE}${e}`,u=e=>`?${a.CLIP_POPUP_QUERY_PARAMETER}=${a.CLIP_QUERY_PARAMETER}${e}`,d=e=>`${a.BASE_ROUTE}/music/${e}`,p=(e=0)=>`/clips_stats#owner_id=${e}`,E=e=>`${a.BASE_ROUTE}/postponed/${n.Ranges.isGroupId(+e)?"club"+Math.abs(+e):e}`,m=e=>{const t=Number(e)?e:`/${e}`;return`${a.BASE_ROUTE}${t}`},g=e=>`${a.BASE_ROUTE}/${e}`,A=e=>`${a.BASE_ROUTE}/compilation/${e}`,f=e=>`${a.BASE_ROUTE}/hashtag/${e}`,I=e=>`${a.BASE_ROUTE}/effect/${e}`,y=e=>`${a.BASE_ROUTE}/music/${e}`,R=e=>`/artist/${e}`,O=e=>`${a.BASE_ROUTE}/upload${e}`,S=e=>`${a.BASE_ROUTE}/place/${e}`,T=e=>e.includes(`${a.BASE_ROUTE}/${a.CLIPS_SECTIONS.UPLOAD}`),P=e=>`/login${e?`?to=${btoa(e)}`:""}`},570121:(e,t,r)=>{"use strict";r.d(t,{usePath:()=>c});var n=r(899631),a=r(864175),s=r(296540),_=r(870451);const c=e=>{const t=(0,n.useLocation)(),{navigate:r}=(0,a.useNavigate)();return{pushPathToCurrentLoc:(0,s.useCallback)((t=>{window.cur.onAfterReset=(e,t)=>(t.module=e.module,t.urlAttachmentTimeHash=e.urlAttachmentTimeHash,t),r((0,_.getFeedClipUrl)(e,t))}),[t.pathname])}}},41829:(e,t,r)=>{"use strict";r.d(t,{useRoute:()=>_});var n=r(263290),a=r(899631),s=r(652999);function _(){const e=(0,n.useQuery)(),t=(0,a.useLocation)(),r=t.pathname.match(new RegExp("\\/clip(-?\\d+_\\d+)$"))?.[1],_=Boolean(e[s.CLIP_POPUP_QUERY_PARAMETER]);return{activeClipId:e[s.CLIP_QUERY_PARAMETER]||r||"",isPopupOpened:_}}},417078:(e,t,r)=>{"use strict";r.d(t,{WebAudioPlatformConfig:()=>g});var n=r(434518),a=r(763812),s=r(331635),_=r(132028),c=r(712600),l=r(26530),u=r(24516),d=r(367734),p=r(286704),E=(0,a._)("_importLegacy"),m=(0,a._)("_importOverrides");class g extends d.AudioPlatformConfig{constructor(e,t,r){super(),Object.defineProperty(this,E,{value:A}),Object.defineProperty(this,m,{value:f}),this.langs=e,this.emitterFactory=t,this.legacy=new d.AudioPlatformConfigLegacyLazyProxy((async()=>{const{AudioPlatformConfigLegacy:e}=await(0,n._)(this,E)[E]();return new e(this.emitterFactory)})),this.musicPlaylistActionOverrides=new d.MusicPlaylistActionOverridesLazyProxy((async()=>{const{MusicPlaylistActionOverrides:e}=await(0,n._)(this,m)[m]();return new e({langs:this.langs})})),this.featureFlags=new p.AudioFeatureFlags(r)}}function A(){return Promise.all([r.e(91498),r.e(89631),r.e(762),r.e(79210),r.e(99364),r.e(17488),r.e(99829),r.e(34854),r.e(96736),r.e(73375),r.e(77474),r.e(91696),r.e(34190),r.e("langs/web/audio_config_legacy")]).then(r.bind(r,58699))}function f(){return Promise.all([r.e(91498),r.e(89631),r.e(762),r.e(79210),r.e(66060),r.e(25977),r.e(34854),r.e(65400),r.e(96736),r.e(73375),r.e(18586),r.e("langs/web/audio_config_overrides")]).then(r.bind(r,536678))}g=(0,s.__decorate)([_.scope.global(),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[void 0===c.Langs?Object:c.Langs,void 0===l.EmitterFactory?Object:l.EmitterFactory,void 0===u.UserEnv?Object:u.UserEnv])],g)},388337:(e,t,r)=>{"use strict";r.d(t,{WebAudioPlatformConfig:()=>n.WebAudioPlatformConfig});var n=r(417078)},286704:(e,t,r)=>{"use strict";r.d(t,{AudioFeatureFlags:()=>n});class n{get audioNewStats(){return this.userEnv.partConfigEnabled("audio_player_stats_web")}get onMediaPlayerNotifier(){return this.userEnv.partConfigEnabled("on_media_audio_player_notifier")}constructor(e){this.userEnv=e}}},559289:(e,t,r)=>{"use strict";r.d(t,{getOwnedAudioListSource:()=>s});var n=r(70148),a=r(391751);function s(e,t){const r=function({cookie:e}){const t=e.get(_);if(!t)return null;try{const e=JSON.parse(t);return e||null}catch{return null}}(t);if(!r||!r.ref)return null;const s=n.OwnedIdentity.fromRawId(e),c=n.OwnedIdentity.fromRawId(r.list_id);return(0,a.compareIdentities)(s,c)?r:null}const _="remixaudio_last_list_ref"},93888:(e,t,r)=>{"use strict";r.d(t,{useRefreshModalCoordinates:()=>s});var n=r(296540),a=r(286235);function s(e,t){const r=(0,n.useRef)(0);(0,n.useEffect)((()=>{t()}),[]),(0,a.useResize)(e,(e=>{!function(e,t,r){(function(e,t){const r=window.visualViewport;if(!r)return!1;return function(e,t){return Math.min(e.clientHeight,t.current)}(e,t)>=r.height})(e,t)||r()}(e,r,t),r.current=e.clientHeight}))}},286235:(e,t,r)=>{"use strict";r.d(t,{useResize:()=>s});var n=r(296540),a=r(634444);function s(e,t){const r=(0,a.useStableCallback)(t);(0,n.useEffect)((()=>{const t=e?.current;if(!t)return;const n=new ResizeObserver((()=>r(t)));return n.observe(t),()=>n.disconnect()}),[e])}},847815:(e,t,r)=>{"use strict";r.d(t,{AudioListItemsBodySkeleton:()=>p});var n=r(474848),a=r(296540),s=r(8520),_=r(442811),c=r(194528),l=r(303800),u=r(724648),d=r(828735);function p({item:e=(0,n.jsx)(_.AudioRowSkeleton,{contentWidth:316}),count:t=d.AUDIO_LIST_ITEMS_SKELETON_COUNT_DEFAULT}){const r=(0,a.useMemo)((()=>(0,s.createArray)(t||5)),[t]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Spacing,{mode:"vertical",size:20}),(0,n.jsx)(l.Div,{mode:"vertical",paddingTop:0,paddingBottom:0,children:(0,n.jsx)(l.Div,{mode:"vertical",paddingTop:0,paddingBottom:0,children:(0,n.jsx)(u.Flex,{direction:"column",gap:8,children:r.map((t=>(0,n.jsx)("div",{children:e},t)))})})})]})}},46154:(e,t,r)=>{"use strict";r.d(t,{AudioListItemsFooterSkeleton:()=>l});var n=r(474848),a=r(303800),s=r(194528),_=r(724648),c=r(157643);function l(){return(0,n.jsxs)(a.Div,{mode:"vertical",spacing:12,paddingTop:0,paddingBottom:0,children:[(0,n.jsx)(s.Spacing,{size:5}),(0,n.jsx)(a.Div,{mode:"vertical",spacing:8,paddingTop:0,paddingBottom:0,children:(0,n.jsxs)(_.Flex,{direction:"column",justify:"center",align:"center",children:[(0,n.jsx)(s.Spacing,{size:10}),(0,n.jsx)(c.Skeleton,{width:92,height:8,borderRadius:2}),(0,n.jsx)(s.Spacing,{size:10})]})}),(0,n.jsx)(s.Spacing,{size:5})]})}},119200:(e,t,r)=>{"use strict";r.d(t,{AudioListItemsHeaderSkeleton:()=>c});var n=r(474848),a=r(194528),s=r(303800),_=r(157643);function c(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.Spacing,{size:15}),(0,n.jsx)(s.Div,{mode:"vertical",spacing:12,paddingTop:0,paddingBottom:0,children:(0,n.jsxs)(s.Div,{mode:"vertical",spacing:8,paddingTop:0,paddingBottom:0,children:[(0,n.jsx)(_.Skeleton,{width:75,height:12,borderRadius:4}),(0,n.jsx)(a.Spacing,{size:12}),(0,n.jsx)(_.Skeleton,{width:154,height:8,borderRadius:2})]})}),(0,n.jsx)(a.Spacing,{size:25})]})}},633295:(e,t,r)=>{"use strict";r.d(t,{AudioListItemsSkeleton:()=>u});var n=r(474848),a=r(442811),s=r(847815),_=r(46154),c=r(119200),l=r(828735);function u({trackRowSize:e,header:t=(0,n.jsx)(c.AudioListItemsHeaderSkeleton,{}),item:r=(0,n.jsx)(a.AudioRowSkeleton,{contentWidth:316,size:e}),count:u=l.AUDIO_LIST_ITEMS_SKELETON_COUNT_DEFAULT,hasHeader:d,hasFooter:p}){return(0,n.jsxs)(n.Fragment,{children:[d?t:void 0,(0,n.jsx)(s.AudioListItemsBodySkeleton,{item:r,count:u}),p&&(0,n.jsx)(_.AudioListItemsFooterSkeleton,{})]})}},877295:(e,t,r)=>{"use strict";r.d(t,{AudioListModalHeaderSkeleton:()=>u});var n=r(474848),a=r(303800),s=r(724648),_=r(157643),c=r(194528),l=r(582192);function u(){return(0,n.jsx)(a.Div,{mode:"vertical",paddingTop:8,paddingBottom:0,spacing:8,children:(0,n.jsx)(a.Div,{mode:"vertical",paddingTop:12,paddingBottom:0,spacing:12,children:(0,n.jsxs)(s.Flex,{direction:"column",children:[(0,n.jsxs)(s.Flex,{direction:"row",justify:"space-between",children:[(0,n.jsx)(_.Skeleton,{width:156,height:156,borderRadius:10}),(0,n.jsxs)(s.Flex,{direction:"column",align:"stretch",children:[(0,n.jsx)(c.Spacing,{size:6}),(0,n.jsx)(s.Flex.Item,{alignSelf:"end",flex:"fixed",flexBasis:0,children:(0,n.jsxs)(s.Flex,{direction:"row",gap:16,children:[(0,n.jsx)(_.Skeleton,{width:16,height:16,circle:!0}),(0,n.jsx)(_.Skeleton,{width:16,height:16,circle:!0})]})}),(0,n.jsx)(_.Skeleton,{width:166,height:16,borderRadius:4}),(0,n.jsx)(c.Spacing,{size:4}),(0,n.jsxs)(s.Flex,{align:"center",children:[(0,n.jsx)(_.Skeleton,{width:16,height:16,circle:!0}),(0,n.jsx)(c.Spacing,{mode:"vertical",size:6}),(0,n.jsx)(_.Skeleton,{height:8,width:40,borderRadius:2})]}),(0,n.jsx)(c.Spacing,{size:4}),(0,n.jsx)(_.Skeleton,{width:187,height:8,borderRadius:2}),(0,n.jsx)(c.Spacing,{size:30}),(0,n.jsx)(_.Skeleton,{width:330,height:16,borderRadius:4})]})]}),(0,n.jsx)(c.Spacing,{size:36}),(0,n.jsx)(_.Skeleton,{width:502,height:16,borderRadius:4}),(0,n.jsx)(c.Spacing,{size:12}),(0,n.jsx)(_.Skeleton,{width:502,height:16,borderRadius:4}),(0,n.jsx)(c.Spacing,{size:12}),(0,n.jsx)(_.Skeleton,{width:502,height:16,borderRadius:4}),(0,n.jsx)(c.Spacing,{size:16}),(0,n.jsx)(l.Separator,{wide:!0})]})})})}},828735:(e,t,r)=>{"use strict";r.d(t,{AUDIO_LIST_ITEMS_SKELETON_COUNT_DEFAULT:()=>n});const n=5},629886:(e,t,r)=>{"use strict";r.d(t,{TopAudioEventBus:()=>d});var n=r(434518),a=r(763812),s=r(584053),_=r(558137),c=(0,a._)("_emitter"),l=(0,a._)("_topAudioPlayerEvents"),u=(0,a._)("_audioLayerEvents");class d{constructor(){Object.defineProperty(this,l,{get:p,set:void 0}),Object.defineProperty(this,u,{get:E,set:void 0}),Object.defineProperty(this,c,{writable:!0,value:void 0}),(0,n._)(this,c)[c]=new s.Emitter,this.emit=e=>{(0,n._)(this,c)[c].emit(e)},this.audioLayerEventAggregator=(0,n._)(this,u)[u].createAggregator(),this.topAudioPlayerEventsAggregator=(0,n._)(this,l)[l].createAggregator()}}function p(){return(0,n._)(this,c)[c].listenable}function E(){return(0,n._)(this,c)[c].listenable}d.ensure=(0,_.makeSharedState)("TopAudioEventBus",(()=>new d),{version:1})},842808:(e,t,r)=>{"use strict";r.d(t,{MusicPlaylistModalContentSkeleton:()=>c});var n=r(474848),a=r(194528),s=r(633295),_=r(877295);function c(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(_.AudioListModalHeaderSkeleton,{}),(0,n.jsx)(s.AudioListItemsSkeleton,{trackRowSize:"m",count:5,hasHeader:!0,hasFooter:!0}),(0,n.jsx)(a.Spacing,{size:20})]})}},733867:(e,t,r)=>{"use strict";r.d(t,{MusicPlaylistModalLayout:()=>l});var n=r(474848),a=r(296540),s=r(694244),_=r(220208),c=r(93888);function l({children:e,targetOwnerId:t,...r}){const{onClose:l,refreshCoordinates:u=()=>{}}=r,d=(0,a.useRef)(null);return(0,c.useRefreshModalCoordinates)(d,u),(0,n.jsxs)(s.ModalBox,{width:542,getRef:d,"data-testid":"MusicPlaylistModal","data-targetownerid":t,children:[(0,n.jsx)(_.ModalDismissButton,{onClick:l,"data-testid":"MusicPlaylistModal_Close"}),e]})}},950821:(e,t,r)=>{"use strict";r.d(t,{MusicPlaylistModalLayout:()=>n.MusicPlaylistModalLayout});var n=r(733867)},125551:(e,t,r)=>{"use strict";r.d(t,{MusicPlaylistModalFallback:()=>_});var n=r(474848),a=r(5410),s=r(950821);function _(){return(0,n.jsx)(s.MusicPlaylistModalLayout,{children:(0,n.jsx)(a.MusicPlaylistFallback,{})})}},603271:(e,t,r)=>{"use strict";r.d(t,{showMusicPlaylistModal:()=>p});var n=r(474848),a=r(8520),s=r(435442),_=r(604743),c=r(576950),l=r(271900),u=r(125551);const d=(0,s.lazyModule)({loader:async()=>{const{MusicPlaylistModal:e}=await Promise.all([r.e(91498),r.e(89631),r.e(79210),r.e(17488),r.e(34113),r.e(94322),r.e(75908),r.e(33641),r.e("langs/web/audio_modals_MusicTrackList")]).then(r.bind(r,544145));return e},name:"MusicPlaylistModal",DefaultLoading:l.MusicPlaylistModalSkeleton,DefaultLoadingError:u.MusicPlaylistModalFallback});function p(e,t={}){return(0,_.showMessageBoxModal)((({onClose:t,refreshCoordinates:r})=>(0,n.jsx)(c.DIRootWebProvider,{children:(0,n.jsx)(d,{...e,onClose:t,onDeleted:E(t),refreshCoordinates:r,loading:(0,n.jsx)(l.MusicPlaylistModalSkeleton,{})})})),{...t,width:542,hideOnBGClick:!0,fullscreen:!1,featureFlags:{keepInPhotoView:!0},zLayer:m(e.accessRawId)})}function E(e){return(0,a.debounce)(e,300)}function m(e){return`audio_playlist${e}`}},271900:(e,t,r)=>{"use strict";r.d(t,{MusicPlaylistModalSkeleton:()=>_});var n=r(474848),a=r(950821),s=r(842808);function _(){return(0,n.jsx)(a.MusicPlaylistModalLayout,{children:(0,n.jsx)(s.MusicPlaylistModalContentSkeleton,{})})}},5410:(e,t,r)=>{"use strict";r.d(t,{MusicPlaylistFallback:()=>c});var n=r(474848),a=r(149333),s=r(303800),_=r(720836);function c({"data-testid":e="MusicPlaylist_Fallback_Default"}){const t=(0,a.useLangs)(),r=t.getLang("audio_music_playlist_crash_placeholder_header"),c=t.getLang("audio_music_playlist_crash_placeholder_description");return(0,n.jsx)(s.Div,{paddingTop:16,paddingBottom:16,spacing:8,"data-testid":e,children:(0,n.jsx)(_.Placeholder,{header:r,children:c})})}},190929:(e,t,r)=>{"use strict";r.d(t,{isNewGiftModalEnabled:()=>n.isNewGiftModalEnabled,isSendGiftUrl:()=>a.isSendGiftUrl,parseSendGiftUrl:()=>a.parseSendGiftUrl,showGiftModal:()=>n.showGiftModal});var n=r(168091),a=r(999141)},999141:(e,t,r)=>{"use strict";r.d(t,{createLegacyUrlWParam:()=>c,getVotes:()=>a,isSendGiftUrl:()=>_,parseSendGiftUrl:()=>s});var n=r(334249);async function a(e,t){return new Promise(((r,a)=>{window.cur.paymentsHideLastBoxOnly=!0,n.ajax.post("al_gifts.php",{act:"do_send",number:e,mids:t.join(","),check_only:!0},{onDone:()=>{r()},onFail:e=>{void 0===e&&window.cur.paymentSuccess||a(e)}})}))}function s(e){const t=e.match(RegExp("^send_gift(?<giftId>\\d+)(?:_(?<recipientIds>\\d+(?:\\,\\d+)*))?(?:_(?<referrer>[a-zA-Z\\d_-]+))?$","i"));if(!t)return;const r=Number(t.groups?.giftId),n=t.groups?.recipientIds?t.groups?.recipientIds.split(",").map((e=>Number(e))):[],a=t.groups?.referrer;return{giftId:r,recipientIds:n,referrer:a}}function _(e){return Boolean(s(e))}function c({giftId:e,recipientIds:t,referrer:r}){let n=`send_gift${e}`;return t&&t.length&&(n+=`_${t.join(",")}`),r&&(n+=`_${r}`),n}},168091:(e,t,r)=>{"use strict";r.d(t,{isNewGiftModalEnabled:()=>d,showGiftModal:()=>u});var n=r(474848),a=r(427984),s=r(289475),_=r(604743),c=r(999141);const l=(0,a.asyncComponent)((()=>Promise.all([r.e(91498),r.e(89631),r.e(52007),r.e("langs/web/gift-modal-legacy")]).then(r.bind(r,150447))),(({GiftModalLegacy:e})=>e));function u(e,t=!1){const r=t?void 0:window.nav?.objLoc?.w;!t&&(0,s.partConfigEnabled)("gift_modal_route_fix_vkcom")&&window.nav.setLoc({...window.nav.objLoc,w:(0,c.createLegacyUrlWParam)(e)});(0,_.showMessageBoxModalSuspense)((t=>(0,n.jsx)(l,{...e,...t,onClose:()=>{t?.onClose(),(0,s.partConfigEnabled)("gift_modal_route_fix_vkcom")&&window.nav.setLoc({...window.nav.objLoc,w:r})}})),{width:456})}function d(){return(0,s.partConfigEnabled)("new_gift_modal_vkcom")}},25261:(e,t,r)=>{"use strict";r.d(t,{convertStickerIdToGiftId:()=>a.convertStickerIdToGiftId,isNewStickersGiftModalEnabled:()=>n.isNewStickersGiftModalEnabled,isSendStickersGiftUrl:()=>s.isSendStickersGiftUrl,parseSendStickersGiftUrl:()=>s.parseSendStickersGiftUrl,showStickersGiftModal:()=>n.showStickersGiftModal});var n=r(308983),a=r(744656),s=r(165401)},165401:(e,t,r)=>{"use strict";r.d(t,{getVotesAndOrderStickers:()=>s,isSendStickersGiftUrl:()=>c,parseSendStickersGiftUrl:()=>_});var n=r(334249),a=r(744656);async function s(e,t,r,s,_){return new Promise(((c,l)=>{window.cur.paymentsHideLastBoxOnly=!0,n.ajax.post("stickers.php",{act:"order_products",cart:JSON.stringify({items:e.map((e=>({product_id:(0,a.convertGiftIdToStickerId)(e),amount:1}))),recipient_ids:t}),message:r,is_private:Boolean(s)?1:0,gift_ref:_,check_only:!0},{onDone:()=>{c()},onFail:e=>{void 0===e&&window.cur.paymentSuccess||l(e)}})}))}function _(e){const t=e.match(RegExp("^send_sticker_gift(?<giftIds>-\\d+(?:,-?\\d+)*)(?:_(?<recipientIds>\\d+(?:\\,\\d+)*))?(?:_(?<referrer>[a-zA-Z\\d_]+))?$","i"));if(!t)return;const r=t.groups?.giftIds?.split(",").map((e=>Number(e)))??[],n=t.groups?.recipientIds?.split(",").map((e=>Number(e)))??[],a=t.groups?.referrer;return{giftIds:r,recipientIds:n,referrer:a}}function c(e){return Boolean(_(e))}},308983:(e,t,r)=>{"use strict";r.d(t,{isNewStickersGiftModalEnabled:()=>u,showStickersGiftModal:()=>l});var n=r(474848),a=r(427984),s=r(604743),_=r(289475);const c=(0,a.asyncComponent)((()=>Promise.all([r.e(91498),r.e(89631),r.e(68425),r.e("langs/web/sticker-gift-modal-legacy")]).then(r.bind(r,84871))),(({StickersGiftModalLegacy:e})=>e));function l(e){(0,s.showMessageBoxModalSuspense)((t=>(0,n.jsx)(c,{...e,...t})),{width:456})}function u(){return(0,_.partConfigEnabled)("new_sticker_gift_modal_vkcom")}},744656:(e,t,r)=>{"use strict";function n(e){return-e}function a(e){return-e}r.d(t,{convertGiftIdToStickerId:()=>a,convertStickerIdToGiftId:()=>n})},780584:(e,t,r)=>{"use strict";r.d(t,{initMessengerClipsModal:()=>c});var n=r(474848),a=r(296540),s=r(211413);const _=(0,a.lazy)((async()=>({default:(await Promise.all([r.e(91498),r.e(89631),r.e(762),r.e(79210),r.e(63616),r.e(66060),r.e(25977),r.e(41162),r.e(50524),r.e(37897),r.e(1060),r.e(21925),r.e(71105),r.e(55188),r.e(81803),r.e(12844),r.e(15176),r.e(30424),r.e(94166),r.e(43015),r.e(34854),r.e(38899),r.e(65400),r.e(83651),r.e(96736),r.e(78363),r.e(94551),r.e(87618),r.e(77395),r.e(33723),r.e(91567),r.e(10098),r.e(22841),r.e(68763),r.e(80861),r.e(78422),r.e(63836),r.e("langs/web/MessengerClipsModal")]).then(r.bind(r,778958))).MessengerClipsModal})));function c(e,t,r,a){(0,s.showMessageBoxModalSuspense)((s=>(0,n.jsx)(_,{...s,name:"MessengerClipsModal",activeClipId:e,peerId:t,cmid:r,isMuted:a})),{})}},105648:(e,t,r)=>{"use strict";r.d(t,{loadStoriesViewerLayers:()=>a});var n=r(8520);const a=()=>(0,n.asyncImportLoader)((()=>Promise.all([r.e(91498),r.e(89631),r.e(762),r.e(50524),r.e(37897),r.e(34854),r.e(96736),r.e(48626),r.e(60191),r.e("langs/web/stories_viewer")]).then(r.bind(r,688273))))},238054:(e,t,r)=>{"use strict";r.d(t,{API_ERROR_APP_AUTH:()=>c,API_ERROR_AUTH:()=>n,API_ERROR_AUTH_ANONYMOUS_TOKEN_HAS_EXPIRED:()=>u,API_ERROR_CAPTCHA:()=>_,API_ERROR_CUA_2_CONFIRMATION_REQUIRED:()=>d,API_ERROR_FLOOD:()=>s,API_ERROR_RATE_LIMIT:()=>l,API_ERROR_TOO_MANY:()=>a});const n=5,a=6,s=9,_=14,c=28,l=29,u=1114,d=11500},27919:(e,t,r)=>{"use strict";r.d(t,{PendingTask:()=>n});class n{constructor(){this.get=()=>this.promise,this.resolve=e=>this.resolveHandler(e),this.reject=e=>this.rejectHandler(e),this.promise=new Promise(((e,t)=>{this.resolveHandler=e,this.rejectHandler=t}))}}},910981:(e,t,r)=>{"use strict";r.d(t,{RequestTask:()=>a});var n=r(975499);class a{setAccessToken(e){this.bodyParams.access_token=e}setGrouping(e){this.grouping=e}setParams(e){this.methodParams=e}canGroupInExecute(){return!this.method.includes("execute")&&(!!this.apiConfig.accessToken&&(!this.methodParams.v&&(!1!==this.grouping&&(void 0===this.fetchOptions.method&&(void 0===this.fetchOptions.headers&&void 0===this.fetchOptions.signal)))))}toString(){const e={};return"object"==typeof this.methodParams&&Object.keys(this.methodParams).forEach((t=>{const r=this.methodParams[t];null!=r&&(e[t]="object"==typeof r?String(r):r)})),`API.${this.method}(${JSON.stringify(e)})`}constructor(e,t,r={},a={},s={}){this.resolve=()=>{},this.reject=()=>{},this.method=e,this.methodParams=t,this.fetchOptions=s,this.overrideApiConfig=a,this.apiConfig=Object.assign({},r,a),this.grouping=this.apiConfig.grouping,this.queryParams=(0,n.getApiQueryParams)(this.apiConfig),this.apiConfig.captureAsyncStacktrace&&(this.asyncBaseError=new Error("Async error"));const _=(0,n.getApiBodyParams)(this.apiConfig);this.bodyParams=Object.assign({},t,_),this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}},502463:(e,t,r)=>{"use strict";r.d(t,{Retries:()=>a});class n{constructor(e=1/0){this.tries=0,this.increment=()=>{this.tries++},this.get=()=>this.tries,this.isExceeded=()=>this.tries>=this.maxTries,this.maxTries=e}}class a{constructor(){this.retries=new Map,this.get=e=>this.retries.get(e),this.create=(e,t)=>(this.retries.set(e,new n(t)),this.retries.get(e)),this.delete=e=>{this.retries.delete(e)}}}},244404:(e,t,r)=>{"use strict";r.d(t,{Storage:()=>n});class n{}n.setItemToStorage=(e,t)=>{try{localStorage.setItem(e,t)}catch(e){}},n.getItemFromStorage=e=>{try{return localStorage.getItem(e)}catch(e){}},n.removeItemFromStorage=e=>{try{localStorage.removeItem(e)}catch(e){}}},182879:(e,t,r)=>{"use strict";r.d(t,{API_VERSION:()=>n});const n="5.131"},738150:(e,t,r)=>{"use strict";r.d(t,{api:()=>O,apiBeacon:()=>C,setApiConfig:()=>R,upload:()=>b});var n=r(238054),a=r(27919),s=r(910981),_=r(502463),c=r(68123),l=r(341072),u=r(754589),d=r(626287),p=r(975499);let E={domain:"api.vk.com",maxRetries:10,grouping:!0};const m=new _.Retries,g=new _.Retries;let A=null,f=null,I=null;const y=[];function R(e){e=Object.assign({},E,e),E=e}function O(e,t,r={},n={}){const a=new s.RequestTask(e,t,E,r,n);return a.canGroupInExecute()?(y.push(a),I&&window.clearTimeout(I),I=window.setTimeout((()=>{S(y,r,n,a.apiConfig.enableForks)}),0)):(a.setGrouping(!1),P(a)),a.promise}async function S(e,t,r={},n){if(1===e.length){const t=e.shift();P(t),t.setGrouping(!1)}else{const a=[],_=[],c=[];for(let t=0;t<e.length;t+=1){if(!e[t].canGroupInExecute())continue;const r=e.splice(t,1)[0];if(t-=1,a.push(r),n&&0!==e.length&&(_.push(`'${r.method}': fork(${r})`),c.push(`wait(forks['${r.method}'])`)),a.length>=25)break}let l=`return [${a.join(",")}];`;if(n){const e=a[a.length-1];l=`\n        var forks = { ${_.join(",")} };\n\n        return [${c.join(",")},${e}];\n      `}const u=new s.RequestTask("execute",{code:l},E,t,r);u.setGrouping(!0),P(u);try{const e=await u.promise;let t=0;e.response.forEach(((r,n)=>{!1===r?((0,p.rejectWithApiError)(a[n],{type:d.APIErrorType.API_ERROR,error:e.execute_errors[t]}),t+=1):a[n].resolve(r)}))}catch(e){a.forEach((t=>(0,p.rejectWithApiError)(t,e)))}}e.length>0&&window.setTimeout((()=>S(e,t,r,n)),1e3)}function T(e){try{return window.localStorage?.getItem(e)}catch(e){return null}}async function P(e){const t=e.methodParams.captcha_sid,r=e.methodParams.session;(A&&A.sid!==t||f&&f.session!==r)&&(0,p.rejectWithApiError)(e,{type:d.APIErrorType.API_ERROR,error:{error_code:0,error_msg:"Ddos limit exceeded",error_text:"Ddos limit exceeded"}});const{domain:s,formattedExecuteResponse:_}=e.apiConfig,E=(0,c.makeParams)(e.queryParams),I=`https://${s}/method/${e.method}?${E}`,y=Object.assign({[l.CUA_STATE_PARAM]:(T(l.STORAGE_CUA_STATE)||"").trim()||void 0,[l.CUA_SESSION_PARAM]:r||void 0},e.methodParams,e.bodyParams),O=(0,p.getRequestHash)(I,e.methodParams),S=g.get(O)||g.create(O,e.apiConfig.maxRetries),b=m.get(O)||m.create(O,e.apiConfig.maxRetries);try{await(0,u.waitTimeExp)(S.get()||b.get());const s=await(0,c.corsRequest)(I,y,e.fetchOptions);if(e.apiConfig.challenge?.(s))return void setTimeout((()=>{(0,p.rejectWithApiError)(e,{type:d.APIErrorType.API_ERROR,error:{error_code:0,error_msg:"Unknown",error_text:"Unknown"}})}),1e4);const l=await s.json();if(void 0!==l.response)return g.delete(O),m.delete(O),A&&A.sid===t&&(A.task?.resolve(void 0),A=null,e.apiConfig.onCaptchaSuccess?.()),f&&f.session===r&&(f.task?.resolve(void 0),f=null,e.apiConfig.onCuaSuccess?.()),l.execute_errors?void(_||e.grouping?e.resolve({response:l.response||[],execute_errors:l.execute_errors}):e.resolve({...l.response,execute_errors:l.execute_errors})):void(e.grouping?e.resolve({response:l.response}):e.resolve(l.response));const E=l.error;if(!E)return void(0,p.rejectWithApiError)(e,{type:d.APIErrorType.API_ERROR,error:{error_code:0,error_msg:"Unknown",error_text:"Unknown"}});if(e.apiConfig.onCaptcha&&E?.error_code===n.API_ERROR_CAPTCHA)return void async function(e,t,r){if(!t.apiConfig.onCaptcha)return;const{captcha_sid:n,captcha_img:s,captcha_height:_,captcha_width:c,captcha_attempt:l,captcha_ts:u,is_refresh_enabled:p,is_sound_captcha_available:E,captcha_track:m,is_enabled_vkui:g,uiux_changes:f,redirect_uri:I}=e;if(A){if(A.sid!==r)return await A.task.get(),void await P(t);{const e=new a.PendingTask;e.get().then(A.task.resolve).catch(A.task.reject),A={sid:n,task:e}}}else A={sid:n,task:new a.PendingTask};try{const e=await t.apiConfig.onCaptcha({captcha_sid:n,captcha_img:s,captcha_height:_,captcha_width:c,is_refresh_enabled:p,is_sound_captcha_available:E,captcha_track:m,is_enabled_vkui:g,uiux_changes:f,redirect_uri:I}),r={captcha_ts:u,captcha_attempt:l},a=Object.assign({},t.methodParams,e,r);t.setParams(a),P(t)}catch(e){A=null,t.reject({type:d.APIErrorType.API_ERROR,error:e})}}(E,e,t);if(A&&A.sid===t&&(A.task?.resolve(void 0),A=null,e.apiConfig.onCaptchaSuccess?.()),e.apiConfig.onCua&&E?.error_code===n.API_ERROR_CUA_2_CONFIRMATION_REQUIRED)return void async function(e,t){if(!t.apiConfig.onCua)return;const{cua_session:r}=e;if(f){if(f.session!==r)return await f.task.get(),void await P(t);{const e=new a.PendingTask;e.get().then(f.task.resolve).catch(f.task.reject),f={session:r,task:e}}}else f={session:r,task:new a.PendingTask};try{const e=await t.apiConfig.onCua({cua_session:r}),n=Object.assign({},t.methodParams,e);t.setParams(n),P(t)}catch(e){f=null,t.reject({type:d.APIErrorType.CUA_ERROR,error:e})}}(E,e);if(f&&f.session===t&&(f.task?.resolve(void 0),f=null,e.apiConfig.onCuaSuccess?.()),0===e.apiConfig.maxRetries)return void(0,p.rejectWithApiError)(e,{type:d.APIErrorType.API_ERROR,error:E});if(S.isExceeded()||b.isExceeded())return g.delete(O),m.delete(O),void(0,p.rejectWithApiError)(e,{type:d.APIErrorType.API_ERROR,error:{error_code:E.error_code,error_msg:"Maximum of api retries exceeded",error_text:E.error_text}});if((0,p.isNotAllowedToMakeMoreRequests)(E.error_code))return b.increment(),g.delete(O),void P(e);m.delete(O);const T=!e.overrideApiConfig?.accessToken&&(E.error_code===n.API_ERROR_AUTH||E.error_code===n.API_ERROR_APP_AUTH||E.error_code===n.API_ERROR_AUTH_ANONYMOUS_TOKEN_HAS_EXPIRED);if(e.apiConfig.onTokenExpired&&T){const t=await e.apiConfig.onTokenExpired();return S.increment(),R({accessToken:t}),e.setAccessToken(t),void P(e)}g.delete(O),(0,p.rejectWithApiError)(e,{type:d.APIErrorType.API_ERROR,error:l.error})}catch(r){A&&A.sid===t&&(A=null,e.apiConfig.onCaptchaSuccess?.()),e.reject({type:d.APIErrorType.NETWORK_ERROR,error:r})}}async function b(e,t){return(await fetch(e,{method:"POST",body:t,mode:"cors"})).json()}function C(e,t,r){const n=new s.RequestTask(e,t,E,r),{domain:a}=n.apiConfig,_=(0,c.makeParams)(n.queryParams),l=`https://${a}/method/${n.method}?${_}`,u=Object.assign({},n.methodParams,n.bodyParams);return navigator.sendBeacon(l,(0,c.toFormData)(u))}},626287:(e,t,r)=>{"use strict";r.d(t,{APIErrorType:()=>n});var n=function(e){return e.API_ERROR="api_error",e.NETWORK_ERROR="network_error",e.CUA_ERROR="cua_error",e}({})},975499:(e,t,r)=>{"use strict";r.d(t,{getApiBodyParams:()=>c,getApiQueryParams:()=>_,getRequestHash:()=>l,isNotAllowedToMakeMoreRequests:()=>u,rejectWithApiError:()=>d});var n=r(238054),a=r(68123),s=r(182879);const _=e=>{const t={v:e.version||s.API_VERSION};return e.appId&&(t.client_id=e.appId),t},c=e=>({access_token:e.accessToken}),l=(e,t={})=>`${e}-${(0,a.makeParams)(Object.assign({},t))}`,u=e=>e===n.API_ERROR_RATE_LIMIT||e===n.API_ERROR_FLOOD||e===n.API_ERROR_TOO_MANY,d=(e,t)=>{if(!e.apiConfig.throwFullErrors)return void e.reject(t);const r=new Error("Api request failed",e.asyncBaseError?{cause:e.asyncBaseError}:void 0);Object.entries(t).forEach((([e,t])=>{r[e]=t})),e.reject(r)}},341072:(e,t,r)=>{"use strict";r.d(t,{CUA_SESSION_PARAM:()=>s,CUA_STATE_PARAM:()=>a,STORAGE_CUA_STATE:()=>n});const n="cua_state",a="cua_state",s="cua_session"},430186:(e,t,r)=>{"use strict";r.d(t,{AUTH_VERSION:()=>s,CACHE_KEY_REG_EXP:()=>n,ERROR_TRY_LATER:()=>a});const n=/\d+:[a-zA-Z_]+:login:auth/,a="check result failure",s="1"},367375:(e,t,r)=>{"use strict";r.d(t,{login:()=>f,removeLoginCache:()=>I,setLoginConfig:()=>E});var n=r(27919),a=r(502463),s=r(244404),_=r(68123),c=r(754589),l=r(430186),u=r(978742);const d=new a.Retries;let p={domain:"login.vk.com",apiDomain:"oauth.vk.com",maxRetries:3};function E(e){e=Object.assign({},p,e),p=e}const m=new Map,g=new Map;let A=!1;function f(e,t,r={},a=!1,E={}){const y=Object.assign({},p,r),R=`${y.appId}:${e}:login:auth`,O=`${R}--request`;let S=m.get(O);if(S)return S.get();const T=d.get(O)||d.create(O,y.maxRetries);return S=new n.PendingTask,m.set(O,S),(async()=>{await(0,u.waitRequestFromOtherTabs)(O),await(0,c.waitTimeExp)(T.get());const n=!g.get(O)||a;let p;y.disableSaveToken||(p=(0,u.loadCache)(R));const P=t&&"isApiOauthAnonymEnabled"in t&&t.isApiOauthAnonymEnabled&&"get_anonym_token"===e;if(P&&p?.access_token&&p?.expires&&(0,u.checkAuthExpires)(Number(p.expires)))return void S.resolve(p);if(!n&&p?.expires&&(0,u.checkAuthExpires)(Number(p.expires)))return s.Storage.removeItemFromStorage(O),m.delete(O),void S.resolve(p);const b={};p?.access_token&&(b.access_token=p.access_token);const{domain:C,apiDomain:D,onCaptcha:M,path:L=""}=y,N=P?`https://${D}/get_anonym_token`:`https://${C}/${L}?act=${e}`,k=(0,u.getLoginParams)(y),U=Object.assign({},t,k,b);I(e,r);try{const n=await(0,_.corsRequest)(N,U,E),a=await n.json();let c=P?(0,u.getApiAnonymLoginResponse)(a):(0,u.getLoginResponse)(a);if("error"in c&&(c=(0,u.getWafCaptchaParams)(c)),"error"===c.type)return m.delete(O),c.error_info===l.ERROR_TRY_LATER?T.isExceeded()?(d.delete(O),S.reject({type:"login_error",error:{error_code:0,error_msg:"Maximum of login retries exceeded"}})):(T.increment(),void(async()=>{try{const n=await f(e,t,r);S.resolve(n)}catch(e){S.reject(e)}})()):(d.delete(O),void S.reject({type:"login_error",error:c.error_info,errorCode:c.error_code??"unknown_error"}));if(d.delete(O),"captcha"===c.type){if(!M)return void S.reject({type:"login_error",error:"captcha"});const{captcha_sid:n,captcha_img:a,captcha_type:s,captcha_height:_,captcha_width:l,captcha_ts:u,captcha_attempt:d,is_refresh_enabled:p,is_sound_captcha_available:E,captcha_track:g,is_enabled_vkui:I,uiux_changes:R,redirect_uri:T}=c;A=!0;try{const c=await M({captcha_sid:n,captcha_img:a,captcha_type:s,captcha_height:_,captcha_width:l,is_refresh_enabled:p,is_sound_captcha_available:E,captcha_track:g,is_enabled_vkui:I,uiux_changes:R,redirect_uri:T}),P={captcha_ts:u,captcha_attempt:d},b=Object.assign({},t,c,P);m.delete(O),(async()=>{try{const t=await f(e,b,r);S.resolve(t)}catch(e){S.reject(e)}finally{A&&(A=!1,y.onCaptchaSuccess?.())}})()}catch{m.delete(O),S.reject({type:"login_error",error:"captcha"})}return}const p=c.data.expires||1/0;y.disableSaveToken||s.Storage.setItemToStorage(R,JSON.stringify({...c.data,expires:p})),s.Storage.removeItemFromStorage(O),g.set(O,!0),m.delete(O),S.resolve(c.data)}catch(e){d.delete(O),m.delete(O),S.reject({type:"network_error",error:e})}})(),S.get()}function I(e,t){if(!e)return void Object.keys(localStorage).forEach((e=>{l.CACHE_KEY_REG_EXP.test(e)&&s.Storage.removeItemFromStorage(e)}));let r=p;t&&(r=Object.assign({},p,t));const n=`${r.appId}:${e}:login:auth`;s.Storage.removeItemFromStorage(n)}},978742:(e,t,r)=>{"use strict";r.d(t,{checkAuthExpires:()=>E,getApiAnonymLoginResponse:()=>l,getLoginParams:()=>c,getLoginResponse:()=>u,getWafCaptchaParams:()=>m,loadCache:()=>p,waitRequestFromOtherTabs:()=>d});var n=r(238054),a=r(244404),s=r(754589),_=r(430186);const c=e=>({version:e.version||_.AUTH_VERSION,app_id:e.appId}),l=e=>"error"in e?{type:"error",error_code:e.error,error_info:e.error_description}:{type:"okay",data:{access_token:e.token,expires:e.expired_at}},u=e=>{if(!Array.isArray(e))return e;const[t]=e;return{type:"okay",data:t}},d=e=>new Promise((t=>{null===a.Storage.getItemFromStorage(e)?(a.Storage.setItemToStorage(e,"1"),t()):setTimeout(t,(0,s.getRandomWaitTime)())})),p=e=>{let t=a.Storage.getItemFromStorage(e),r={};if(t)try{r=JSON.parse(t)}catch(e){}return r},E=e=>1e3*e-Date.now()>=s.ONE_MINUTE_MS,m=e=>{let t;const{error_code:r,error_msg:a}=e.error;switch(r){case n.API_ERROR_CAPTCHA:const{captcha_sid:s,captcha_img:c,captcha_width:l,captcha_height:u,captcha_attempt:d,captcha_ts:p,is_refresh_enabled:E,is_sound_captcha_available:m,captcha_track:g,is_enabled_vkui:A,uiux_changes:f,redirect_uri:I}=e.error;t={type:"captcha",captcha_type:"regular",captcha_sid:s,captcha_img:c,captcha_track:g,captcha_height:u,captcha_width:l,captcha_attempt:d,captcha_ts:p,is_refresh_enabled:E,is_sound_captcha_available:m,is_enabled_vkui:A,uiux_changes:f,redirect_uri:I};break;case n.API_ERROR_TOO_MANY:t={type:"error",error_info:_.ERROR_TRY_LATER,error_code:String(r)};break;default:t={type:"error",error_info:a,error_code:String(r)}}return t}},68123:(e,t,r)=>{"use strict";r.d(t,{corsRequest:()=>c,makeParams:()=>s,toFormData:()=>_});var n=r(341072);const a=[n.CUA_STATE_PARAM,n.CUA_SESSION_PARAM];function s(e){return Object.keys(e).map((t=>{let r=e[t];return t=encodeURIComponent(t||""),r=encodeURIComponent(void 0===r?"":r),a.includes(t)&&!r?null:`${t}=${r}`})).filter(Boolean).join("&")}function _(e){const t=new FormData;for(const r in e)e.hasOwnProperty(r)&&("string"==typeof e[r]?t.append(r,e[r]):t.append(r,JSON.stringify(e[r])));return t}function c(e,t,r={}){const n=s(t);return fetch(e,{method:"POST",body:n,mode:"cors",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},...r})}},754589:(e,t,r)=>{"use strict";r.d(t,{ONE_MINUTE_MS:()=>n,getRandomWaitTime:()=>a,waitTimeExp:()=>s});const n=6e4,a=(e=500,t=1500)=>window.FORCED_API_WAIT_TIME?window.FORCED_API_WAIT_TIME:~~(Math.random()*(t-e+1)+e),s=e=>{return 0===e?Promise.resolve():(t=(e=>{if(0===e)return 0;if(window.FORCED_API_WAIT_TIME)return window.FORCED_API_WAIT_TIME;const t=Math.random(),r=100*Math.pow(2,e)/2;return r+r*t})(e),new Promise((e=>{setTimeout((()=>e()),t)})));var t}},758140:(e,t,r)=>{"use strict";r.d(t,{HTMLAudioNode:()=>R});var n=r(434518),a=r(763812),s=r(584053),_=r(411683),c=r(905332),l=(0,a._)("_emitter"),u=(0,a._)("_logger"),d=(0,a._)("_loaded"),p=(0,a._)("_hlsInstance"),E=(0,a._)("_preparing"),m=(0,a._)("_playing"),g=(0,a._)("_paused"),A=(0,a._)("_setUrlAsNative"),f=(0,a._)("_setUrlAsHls"),I=(0,a._)("_destroyHls"),y=(0,a._)("_addEventListeners");class R{get events(){return(0,n._)(this,l)[l].listenable}get playing(){return(0,n._)(this,m)[m]}get paused(){return(0,n._)(this,g)[g]}get loaded(){return(0,n._)(this,d)[d]}get error(){return this.audioElement.error||null}get played(){return this.audioElement.played}get duration(){return isFinite(this.audioElement.duration)?this.audioElement.duration:0}get readyState(){return this.audioElement.readyState}get currentTime(){return this.audioElement.currentTime}set currentTime(e){this.audioElement.currentTime=Math.max(0,e)}get volume(){return this.audioElement.volume}set volume(e){this.audioElement.volume=Math.max(0,Math.min(1,e))}set playbackRate(e){this.audioElement.playbackRate=e}get currentProgress(){return isNaN(this.audioElement.duration)?0:Math.max(0,Math.min(1,this.audioElement.currentTime/this.audioElement.duration))}get currentBuffered(){return this.audioElement.buffered&&0!==this.audioElement.buffered.length?Math.min(1,this.audioElement.buffered.end(0)/this.audioElement.duration):0}get url(){const e=this.audioElement.firstElementChild,t=(0,n._)(this,p)[p]?.media?.src,r=e?.src;return t||r||null}get preparing(){return(0,n._)(this,E)[E]?(0,n._)(this,E)[E]:Promise.resolve()}async setUrl(e){(0,n._)(this,E)[E]=function(e){return!c.SHOULD_USE_NATIVE_HLS&&b&&function(e){return e.includes(".m3u8")}(e)}(e)?(0,n._)(this,f)[f](e):(0,n._)(this,A)[A](e),await(0,n._)(this,E)[E],(0,n._)(this,E)[E]=null}async play(e){e&&await this.setUrl(e);try{return await(0,_.wrapAudioPlay)(this.audioElement)}catch(e){switch(e.code){case e.NOT_SUPPORTED_ERR:case e.ABORT_ERR:break;default:throw e}}}pause(){this.audioElement.pause()}stop(){this.audioElement.pause(),this.audioElement.currentTime=0}constructor(e){Object.defineProperty(this,A,{value:O}),Object.defineProperty(this,f,{value:S}),Object.defineProperty(this,I,{value:T}),Object.defineProperty(this,y,{value:P}),Object.defineProperty(this,l,{writable:!0,value:void 0}),Object.defineProperty(this,u,{writable:!0,value:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:void 0}),Object.defineProperty(this,E,{writable:!0,value:void 0}),Object.defineProperty(this,m,{writable:!0,value:void 0}),Object.defineProperty(this,g,{writable:!0,value:void 0}),(0,n._)(this,u)[u]=null,(0,n._)(this,d)[d]=!1,(0,n._)(this,p)[p]=null,(0,n._)(this,E)[E]=null,(0,n._)(this,m)[m]=!1,(0,n._)(this,g)[g]=!1,(0,n._)(this,l)[l]=new s.Emitter,(0,n._)(this,u)[u]=e.logger??null,this.audioElement=new Audio,this.audioElement.appendChild(document.createElement("source")),this.audioElement.crossOrigin="anonymous",this.audioElement.preload="auto",this.volume=e.volume,(0,n._)(this,y)[y](),e?.url&&(this.setUrl(e.url),this.preparing?.then((()=>{this.audioElement.load()}))),(0,n._)(this,u)[u]?.debug("HLSAudioNode created with options:",e)}}async function O(e){(0,n._)(this,I)[I]();const t=this.audioElement.firstElementChild;t.src=e,t.type="application/vnd.apple.mpegurl",this.audioElement.load()}async function S(e){const t=await async function(){return(await Promise.all([r.e(45458),r.e("langs/web/hls")]).then(r.bind(r,164945))).default}();(0,n._)(this,I)[I]();const a=new t({debug:!1,maxBufferHole:3,nudgeOffset:.5,nudgeMaxRetry:5,maxFragLookUpTolerance:.2});a.on(t.Events.BUFFER_EOS,(()=>{(0,n._)(this,d)[d]=!0})),a.on(t.Events.ERROR,((e,r)=>{r.details===t.ErrorDetails.BUFFER_STALLED_ERROR&&(a.stopLoad(),a.startLoad());const n={type:r.type,details:r.details,url:r.frag&&r.frag.url||r.context&&r.context.url,code:r.networkDetails?r.networkDetails.status:0};if(r.fatal)throw n})),a.loadSource(e),a.attachMedia(this.audioElement),(0,n._)(this,p)[p]=a}function T(){(0,n._)(this,p)[p]&&(0,n._)(this,p)[p].destroy(),(0,n._)(this,p)[p]=null}function P(){this.audioElement.addEventListener("play",(()=>{(0,n._)(this,m)[m]=!0,(0,n._)(this,g)[g]=!1,(0,n._)(this,l)[l].emit("play")})),this.audioElement.addEventListener("pause",(()=>{(0,n._)(this,m)[m]=!1,(0,n._)(this,g)[g]=!0,(0,n._)(this,l)[l].emit("pause")})),this.audioElement.addEventListener("ended",(()=>{(0,n._)(this,m)[m]=!1,(0,n._)(this,g)[g]=!1,(0,n._)(this,l)[l].emit("stop")})),this.audioElement.addEventListener("progress",(()=>{if(!(0,n._)(this,p)[p]){const e=this.audioElement.buffered;e.length&&Math.abs(e.end(e.length-1)-this.audioElement.duration)<1&&((0,n._)(this,d)[d]=!0)}})),this.audioElement.addEventListener("timeupdate",(()=>{(0,n._)(this,l)[l].emit("progress",this.currentProgress)})),this.audioElement.addEventListener("error",(e=>{(0,n._)(this,l)[l].emit("error",e.error)}))}const b="function"==typeof window.MediaSource},497659:(e,t,r)=>{"use strict";r.d(t,{HTMLAudioPlayer:()=>x});var n=r(434518),a=r(763812),s=r(667656),_=r(345714),c=r(905332),l=r(758140),u=r(584053),d=(0,a._)("_context"),p=(0,a._)("_logger"),E=(0,a._)("_emitter"),m=(0,a._)("_currentNode"),g=(0,a._)("_nextNode"),A=(0,a._)("_audio"),f=(0,a._)("_progress"),I=(0,a._)("_freqUpdateInterval"),y=(0,a._)("_fadeVolumeInterval"),R=(0,a._)("_fadeVolumeWorker"),O=(0,a._)("_setNodeVolume"),S=(0,a._)("_handleNodeProgressUpdate"),T=(0,a._)("_handleNodeError"),P=(0,a._)("_createNode"),b=(0,a._)("_updateProgress"),C=(0,a._)("_updateVolume"),D=(0,a._)("_fadeVolume"),M=(0,a._)("_startFrequencyAnalise"),L=(0,a._)("_stopFrequencyAnalise"),N=(0,a._)("_setFadeVolumeInterval"),k=(0,a._)("_clearFadeVolumeInterval"),U=(0,a._)("_setupWorkerFadeVolumeInterval"),B=(0,a._)("_setupDefaultFadeVolumeInterval");class x{get events(){return(0,n._)(this,E)[E].listenable}get audio(){return(0,n._)(this,A)[A]}get playing(){return(0,n._)(this,m)[m].playing&&(0,n._)(this,m)[m].url!==c.SILENCE_AUDIO_URL}get paused(){return(0,n._)(this,m)[m].paused&&(0,n._)(this,m)[m].url!==c.SILENCE_AUDIO_URL}get volume(){return(0,n._)(this,m)[m].volume}get progress(){return(0,n._)(this,f)[f]}async play(e){this.audio&&await this.stop(),e.url===(0,n._)(this,g)[g].url&&([(0,n._)(this,m)[m],(0,n._)(this,g)[g]]=[(0,n._)(this,g)[g],(0,n._)(this,m)[m]]),(0,n._)(this,M)[M]();try{return await(0,n._)(this,m)[m].play(e.url),(0,n._)(this,A)[A]=e,(0,n._)(this,E)[E].emit("play",e),(0,n._)(this,p)[p].info("Audio playback started",{audio:e}),!0}catch(t){return(0,n._)(this,p)[p].error("Failed to start audio playback",{audio:e,error:t}),!1}}async pause(){const{audio:e,playing:t}=this;if(J(e),!t)return(0,n._)(this,p)[p].warn("Player is not in playing state",{audio:e}),!1;try{return(0,n._)(this,m)[m].pause(),(0,n._)(this,A)[A]=e,(0,n._)(this,E)[E].emit("pause",e),(0,n._)(this,p)[p].info("Audio playback paused",{audio:e}),!0}catch(t){return(0,n._)(this,p)[p].error("Failed to pause audio playback",{audio:e,error:t}),!1}}async resume(){const{audio:e,paused:t}=this;if(J(e),!t)return(0,n._)(this,p)[p].warn("Player is not in paused state",{audio:e}),!1;try{return await(0,n._)(this,m)[m].play(),(0,n._)(this,A)[A]=e,(0,n._)(this,E)[E].emit("resume",e),(0,n._)(this,p)[p].info("Audio playback resumed",{audio:e}),!0}catch(t){return(0,n._)(this,p)[p].error("Failed to resume audio playback",{audio:e,error:t}),!1}}async stop(){(0,n._)(this,L)[L]();const{audio:e}=this;J(e),(0,n._)(this,A)[A]=null,(0,n._)(this,b)[b](0),(0,n._)(this,E)[E].emit("stop",e),(0,n._)(this,p)[p].info("Audio playback stopped",{audio:e})}seek(e){const t=(0,n._)(this,m)[m];(0,n._)(this,m)[m].duration>0&&(0,n._)(this,m)[m].url!==c.SILENCE_AUDIO_URL?(0,n._)(this,m)[m].currentTime=(0,n._)(this,m)[m].duration*e:(0,n._)(this,p)[p].debug("Audio is not ready yet",{audio:t}),(0,n._)(this,b)[b](e),(0,n._)(this,E)[E].emit("seek",e),(0,n._)(this,p)[p].debug("Seeking audio to progress",{progress:e})}async setVolume(e,t){return t?.fadeTime?(0,n._)(this,D)[D](e,t.fadeTime):(0,n._)(this,C)[C](e)}async prefetch(e){if((0,n._)(this,g)[g]?.url!==e)try{(0,n._)(this,g)[g].setUrl(e),await(0,n._)(this,g)[g].preparing,(0,n._)(this,p)[p].debug("Audio prefetching completed",{url:e})}catch(t){(0,n._)(this,p)[p].error("Failed to prefetch audio",{url:e,error:t})}}constructor(e){Object.defineProperty(this,O,{value:F}),Object.defineProperty(this,S,{value:V}),Object.defineProperty(this,T,{value:K}),Object.defineProperty(this,P,{value:W}),Object.defineProperty(this,b,{value:H}),Object.defineProperty(this,C,{value:G}),Object.defineProperty(this,D,{value:j}),Object.defineProperty(this,M,{value:Y}),Object.defineProperty(this,L,{value:z}),Object.defineProperty(this,N,{value:q}),Object.defineProperty(this,k,{value:$}),Object.defineProperty(this,U,{value:X}),Object.defineProperty(this,B,{value:Q}),Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:void 0}),Object.defineProperty(this,E,{writable:!0,value:void 0}),Object.defineProperty(this,m,{writable:!0,value:void 0}),Object.defineProperty(this,g,{writable:!0,value:void 0}),Object.defineProperty(this,A,{writable:!0,value:void 0}),Object.defineProperty(this,f,{writable:!0,value:void 0}),Object.defineProperty(this,I,{writable:!0,value:void 0}),Object.defineProperty(this,y,{writable:!0,value:void 0}),Object.defineProperty(this,R,{writable:!0,value:void 0}),(0,n._)(this,A)[A]=null,(0,n._)(this,f)[f]=0,(0,n._)(this,I)[I]=null,(0,n._)(this,y)[y]=null,(0,n._)(this,R)[R]=null,(0,n._)(this,d)[d]=e,(0,n._)(this,p)[p]=e.logger.child({extra:{module:"HTMLAudioPlayer",instance:this}}),(0,n._)(this,E)[E]=new u.Emitter,(0,n._)(this,m)[m]=(0,n._)(this,P)[P](),(0,n._)(this,g)[g]=(0,n._)(this,P)[P]()}}function F(e){(0,n._)(this,m)[m].volume=e}function V(e){(0,n._)(this,m)[m].url!==c.SILENCE_AUDIO_URL&&(0,n._)(this,b)[b](e)}function K(e){(0,n._)(this,p)[p].error("Audio node error",{error:e})}function W(){const e=new l.HTMLAudioNode({volume:1,logger:(0,n._)(this,p)[p]});return e.events.on("progress",(t=>{e===(0,n._)(this,m)[m]&&(0,n._)(this,S)[S](t)})),e.events.on("error",(t=>{e===(0,n._)(this,m)[m]&&(0,n._)(this,T)[T](t)})),e}function H(e){return(0,n._)(this,E)[E].emit("progress",e),(0,n._)(this,p)[p].debug("Progress changed",{progress:e}),e}function G(e){return(0,n._)(this,O)[O](e),(0,n._)(this,E)[E].emit("volumeChanged",e),(0,n._)(this,p)[p].debug("Volume changed",{volume:e}),e}async function j(e,t){e=Math.max(0,Math.min(1,e));const r=(0,n._)(this,m)[m];let a=0;if(t){const n=e-r.volume;a=n/(t/20||1)}else a=e<r.volume?c.FADE_OUT_STEP:c.FADE_IN_STEP;if(Math.abs(e-r.volume)<=c.VOLUME_EPSILON)return(0,n._)(this,N)[N](),e;let s=r.volume;return(0,n._)(this,N)[N]((()=>{if(!t&&a>0&&(a*=c.FADE_IN_ACCELERATION),s+=a,a<0?s<=e:s>=e)return(0,n._)(this,C)[C](e),void(0,n._)(this,N)[N]();this.setVolume(s)})),(0,n._)(this,p)[p].debug("Fading audio volume",{targetVolume:e,fadeTime:t}),e}function Y(){(0,n._)(this,L)[L]();let e,t,r,a=c.INITIAL_FRAME_COUNTER;(0,n._)(this,I)[I]=setInterval((()=>{this.paused?e={amplitude:0,pitch:0,modulation:0,harmonics:0}:(a++,a>c.ANALYSIS_FRAME_SIZE&&(a=0,t=r,r=Z(),t||(t=Z())),t&&r&&(e={amplitude:(0,_.linearInterpolation)(a,t.amplitude,r.amplitude,c.ANALYSIS_FRAME_SIZE),pitch:(0,_.linearInterpolation)(a,t.pitch,r.pitch,c.ANALYSIS_FRAME_SIZE),modulation:(0,_.linearInterpolation)(a,t.modulation,r.modulation,c.ANALYSIS_FRAME_SIZE),harmonics:(0,_.linearInterpolation)(a,t.harmonics,r.harmonics,c.ANALYSIS_FRAME_SIZE)})),e&&(0,n._)(this,E)[E].emit("frequency",e)}),c.ANALYSIS_UPDATE_INTERVAL)}function z(){(0,n._)(this,I)[I]&&clearInterval((0,n._)(this,I)[I]),(0,n._)(this,E)[E].emit("frequency",{amplitude:0,pitch:0,modulation:0,harmonics:0})}function q(e){(0,n._)(this,k)[k](),e&&((0,n._)(this,R)[R]?(0,n._)(this,U)[U](e):(0,n._)(this,B)[B](e))}function $(){(0,n._)(this,R)[R]&&((0,n._)(this,R)[R].terminate(),(0,n._)(this,R)[R]=null),(0,n._)(this,y)[y]&&clearInterval((0,n._)(this,y)[y])}function X(e){const t=new Blob(["\n        var interval;\n        onmessage = function(e) {\n          clearInterval(interval);\n          if (e.data == 'start') {\n            interval = setInterval(function() { postMessage({}); }, 20);\n          }\n        }\n      "]);try{(0,n._)(this,R)[R]=new Worker(window.URL.createObjectURL(t)),(0,n._)(this,R)[R].onmessage=e,(0,n._)(this,R)[R].postMessage("start")}catch(t){(0,n._)(this,p)[p].warn("Web worker not supported for fade volume interval, falling back to default interval",{error:t}),(0,n._)(this,B)[B](e)}}function Q(e){(0,n._)(this,y)[y]=setInterval(e,c.FADE_INTERVAL_DURATION)}function J(e){if(!e)throw new Error("Playback process not found")}function Z(){return{amplitude:(0,s.calcRandomNumber)(.7,1),pitch:(0,s.calcRandomNumber)(.55,.8),modulation:(0,s.calcRandomNumber)(.3,.55),harmonics:(0,s.calcRandomNumber)(.03,.45)}}},905332:(e,t,r)=>{"use strict";r.d(t,{ANALYSIS_FRAME_SIZE:()=>n,ANALYSIS_UPDATE_INTERVAL:()=>a,FADE_INTERVAL_DURATION:()=>u,FADE_IN_ACCELERATION:()=>_,FADE_IN_STEP:()=>l,FADE_OUT_STEP:()=>c,INITIAL_FRAME_COUNTER:()=>s,SHOULD_USE_NATIVE_HLS:()=>I,SILENCE_AUDIO_URL:()=>p,VOLUME_EPSILON:()=>d});const n=3,a=50,s=999,_=1.35,c=-.06,l=.001,u=60,d=.001,p="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA",E=window.navigator.userAgent.toLowerCase(),m=(E.match(/.+(?:me|ox|on|rv|it|era|opr|ie|edge)[\/: ]([\d.]+)/)||[0,"0"])[1],g=/edge/i.test(E)&&!/opera/i.test(E),A=!/chrome/i.test(E)&&/webkit|safari|khtml/i.test(E),f=parseInt(m?.split(".")?.[0]),I=(A||g&&f>11&&f<78)&&"function"==typeof window.MediaSource},667656:(e,t,r)=>{"use strict";function n(e,t){return Math.random()*(t-e)+e}r.d(t,{calcRandomNumber:()=>n})},345714:(e,t,r)=>{"use strict";function n(e,t,r,n){return r*(e/n)+t}r.d(t,{linearInterpolation:()=>n})},411683:(e,t,r)=>{"use strict";function n(e){try{return e.play()||Promise.resolve()}catch(e){return Promise.reject(e)}}r.d(t,{wrapAudioPlay:()=>n})},586785:(e,t,r)=>{"use strict";r.d(t,{BrowserNativeAudioPlayerFactory:()=>c});var n=r(331635),a=r(132028),s=r(527492),_=r(497659);class c extends s.NativeAudioPlayerFactory{create(e){return new _.HTMLAudioPlayer(e)}}c=(0,n.__decorate)([a.scope.platform()],c)},500926:(e,t,r)=>{"use strict";r.d(t,{registerBrowserPlugins:()=>s});var n=r(527492),a=r(586785);function s(e){e.replace(n.NativeAudioPlayerFactory,a.BrowserNativeAudioPlayerFactory)}},702130:(e,t,r)=>{"use strict";r.d(t,{AudioList:()=>p});var n=r(434518),a=r(763812),s=r(817834),_=r(157336),c=r(350753),l=r(750915),u=(0,a._)("_fetchNextByAt"),d=(0,a._)("_fetchAtByNext");class p{async ensureAt(e){const t=this.ensureAbsIndex(e);let r=this.audioAt(t);return r||this.fetchAt(t,{prefetch:!0})}ensureAbsIndex(e){return(0,s.ensureAudioListAbsIndex)(this,e)}get maxIndex(){return(0,_.getAudioListMaxIndex)(this)}getFetchAtIndexes(e,t){const{range:r=0}=t??{},n=(0,s.ensureAudioListAbsIndex)(this,e),a=Math.max(0,n-r);let _=n+r;this.infinite||(_=Math.min(this.length-1,_));const c=new Array(_-a+1).fill(null).map(((e,t)=>a+t));return t?.prefetch?c.filter((e=>!this.audioAt(e))):c}async fetchNextByAt(e){return(0,n._)(this,u)[u](e)}async fetchAtByNext(e,t){return(0,n._)(this,d)[d](e,t)}findFirstUnfetchedIndex(){for(let e=0;e<this.length;e++){if(!this.audioAt(e))return e}return-1}assertFetchAtFetched(e,t){this.getFetchAtIndexes(e,t).forEach((e=>{if(!this.audioAt(e))throw new Error(`The contract was violated in the fetchAt method. Audio at index ${e} not fetched.`)}))}constructor(){Object.defineProperty(this,u,{writable:!0,value:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),(0,n._)(this,u)[u]=(0,c.createLoopProtectedAsyncMethod)((async(e=1)=>{if(this.infinite)throw new Error("AudioList is infinite but fetch strategy is finite");const t=this.findFirstUnfetchedIndex();if(t<0)return[];const r=e-1;return[await this.fetchAt(t,{range:r}),...(0,l.getAudioListContinuosSliceAudios)(this,t+1,t+1+r)]})),(0,n._)(this,d)[d]=(0,c.createLoopProtectedAsyncMethod)((async(e,{range:t=0}={})=>{if(!this.infinite)throw new Error("AudioList is finite but fetch strategy is infinite");const r=(0,s.ensureAudioListAbsIndex)(this,e),n=this.audioAt(r),a=r+t+1-this.length;if(n&&a<=0)return n;const[_]=await this.fetchNext(a);if(!_)throw new Error("fetchNext have not return audios");return _}))}}},91355:(e,t,r)=>{"use strict";r.d(t,{CombinedAudioList:()=>u});var n=r(434518),a=r(763812),s=r(327813),_=r(702130),c=r(663017),l=(0,a._)("_state");class u extends _.AudioList{get lists(){return(0,n._)(this,l)[l].lists}set lists(e){(0,s.runInAction)((()=>{(0,n._)(this,l)[l].lists=e}))}get length(){return this.lists.reduce(((e,t)=>e+t.length),0)}get infinite(){return this.lists.at(-1)?.infinite??!1}get isEmpty(){return this.lists.every((e=>e.isEmpty))}audioAt(e){const t=this.findItemLocation(e);return t?.list.audioAt(t.index)}async ensureAt(e){const t=this.ensureItemLocation(e);return t.list.ensureAt(t.index)}async fetchAt(e,t){const r=this.findItemLocation(e);if(!r)throw new Error("Audio not found at given index");return r.list.fetchAt(r.index,t)}fetchNext(e=1){return this.fetchNextByAt(e)}ensureItemLocation(e){const t=this.findItemLocation(e);if(!t)throw new Error("Item location for index not found");return t}findItemLocation(e){return(0,c.findItemLocation)(this.lists,this.ensureAbsIndex(e))}constructor(e){super(),Object.defineProperty(this,l,{writable:!0,value:void 0}),(0,n._)(this,l)[l]=(0,s.makeObservable)({lists:e?[...e]:[]},{lists:s.observable.shallow})}}},663017:(e,t,r)=>{"use strict";function n(e,t){const r=function(e){let t=0;for(const r of e)t+=r.length;return t}(e);if(t<0||t>r-1)return;let n=0;for(const r of e){const e=n+r.length;if(t<e)return{list:r,index:t-n};n=e}}r.d(t,{findItemLocation:()=>n})},350753:(e,t,r)=>{"use strict";function n(e,t={}){const{name:r}=t;let n=!1;return async(...t)=>{try{if(n)throw new Error("Async loop call detected"+(r?` for async ${r}`:""));n=!0;const a=e(...t);return a.finally((()=>{n=!1})),a}finally{n=!1}}}r.d(t,{createLoopProtectedAsyncMethod:()=>n})},817834:(e,t,r)=>{"use strict";r.d(t,{ensureAudioListAbsIndex:()=>s});var n=r(140462),a=r(120388);function s(e,t){const r=(0,n.indexAbs)(e.length,t);if(!(0,a.isValidAudioListAbsIndex)(e,r))throw new Error("Index is out of range");return r}},750915:(e,t,r)=>{"use strict";function n(e,t,r){const n=[];for(let a=t;a<r;a++){const t=e.audioAt(a);t&&n.push(t)}return n}r.d(t,{getAudioListContinuosSliceAudios:()=>n})},157336:(e,t,r)=>{"use strict";function n(e){const t=e.length;return e.infinite?t:t-1}r.d(t,{getAudioListMaxIndex:()=>n})},120388:(e,t,r)=>{"use strict";r.d(t,{isValidAudioListAbsIndex:()=>a});var n=r(157336);function a(e,t){return t>=0&&t<=(0,n.getAudioListMaxIndex)(e)}},610774:(e,t,r)=>{"use strict";r.d(t,{AudioPlayer:()=>c});var n=r(434518),a=r(763812),s=(0,a._)("_context"),_=(0,a._)("_channels");class c{getChannel(e){return(0,n._)(this,_)[_][e]}constructor(e){Object.defineProperty(this,s,{writable:!0,value:void 0}),Object.defineProperty(this,_,{writable:!0,value:void 0}),(0,n._)(this,_)[_]=e.channels,(0,n._)(this,s)[s]=e.context}}},217906:(e,t,r)=>{"use strict";r.d(t,{AudioPlayerFactory:()=>E});var n=r(434518),a=r(763812),s=r(331635),_=r(132028),c=r(527492),l=r(730227),u=r(610774),d=r(714436),p=(0,a._)("_context");class E{createPlayer(e,t={}){return new u.AudioPlayer({context:(0,n._)(this,p)[p],...t,channels:e})}createChannel(e){return new d.AudioPlayerChannel((0,n._)(this,p)[p],{id:e,nativePlayer:this.nativePlayerFactory.create((0,n._)(this,p)[p])})}constructor(e){Object.defineProperty(this,p,{writable:!0,value:void 0}),this.nativePlayerFactory=e,(0,n._)(this,p)[p]={logger:new l.ConsoleLogger}}}E=(0,s.__decorate)([_.scope.global(),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[void 0===c.NativeAudioPlayerFactory?Object:c.NativeAudioPlayerFactory])],E)},714436:(e,t,r)=>{"use strict";r.d(t,{AudioPlayerChannel:()=>S});var n=r(434518),a=r(763812),s=r(331635),_=r(327813),c=r(584053),l=r(470388),u=r(931019),d=(0,a._)("_id"),p=(0,a._)("_reactions"),E=(0,a._)("_context"),m=(0,a._)("_emitter"),g=(0,a._)("_nativePlayer"),A=(0,a._)("_queue"),f=(0,a._)("_ensureQueuePosition"),I=(0,a._)("_connectStateEvents"),y=(0,a._)("_connectNativePlayer"),R=(0,a._)("_disconnectNativePlayer"),O=(0,a._)("_createEvent");class S{dispose(){(0,n._)(this,p)[p].dispose(),(0,n._)(this,R)[R]()}get id(){return(0,n._)(this,d)[d]}get queue(){return(0,n._)(this,A)[A]}get events(){return(0,n._)(this,m)[m].listenable}get actualVolume(){const{muted:e,volume:t}=this;return e?0:t}async play(){const e=(0,n._)(this,f)[f](),{logger:t}=(0,n._)(this,E)[E],{playing:r,paused:a}=this;if(r||e===this.position)return!1;if(a)return this.resume();(0,n._)(this,m)[m].emit("play",(0,n._)(this,O)[O](e));const s=await this.queue.ensureAt(e.index);if(!s.url)return t.debug("Skip because audio without url",{audio:s}),this.queue.moveToNext(),!1;return!!await(0,n._)(this,g)[g].play(s)&&((0,_.runInAction)((()=>{this.position=this.queue.position})),!0)}async playList(e){const{queue:t}=this;return t.clear(),t.add(e),t.reset(),this.play()}async pause(){return(0,n._)(this,g)[g].pause()}async resume(){return(0,n._)(this,g)[g].resume()}async stop(){await(0,n._)(this,g)[g].stop(),(0,_.runInAction)((()=>{this.position=null,this.progress=0}))}async setVolume(e){return e=Math.min(1,Math.max(0,e)),this.volume=e,await(0,n._)(this,g)[g].setVolume(this.actualVolume),e}async toggleMuted(e){const t=e??!this.muted;return this.muted=t,await this.setVolume(this.actualVolume),t}constructor(e,{id:t,nativePlayer:r}){Object.defineProperty(this,f,{value:T}),Object.defineProperty(this,I,{value:P}),Object.defineProperty(this,y,{value:b}),Object.defineProperty(this,R,{value:C}),Object.defineProperty(this,O,{value:D}),Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:void 0}),Object.defineProperty(this,E,{writable:!0,value:void 0}),Object.defineProperty(this,m,{writable:!0,value:void 0}),Object.defineProperty(this,g,{writable:!0,value:void 0}),Object.defineProperty(this,A,{writable:!0,value:void 0}),(0,n._)(this,p)[p]=new l.ReactionsAggregator,(0,n._)(this,A)[A]=new u.PlaybackQueue,this.playing=!1,this.paused=!1,this.volume=1,this.muted=!1,this.progress=0,this.position=null,this.handlePlay=e=>{this.playing=!0,this.paused=!1,(0,n._)(this,m)[m].emit("playing",(0,n._)(this,O)[O]({audio:e}))},this.handlePause=e=>{this.playing=!1,this.paused=!0,(0,n._)(this,m)[m].emit("pause",(0,n._)(this,O)[O]({audio:e}))},this.handleResume=e=>{this.playing=!0,this.paused=!1,(0,n._)(this,m)[m].emit("resume",(0,n._)(this,O)[O]({audio:e}))},this.handleStop=e=>{this.playing=!1,this.paused=!1,(0,n._)(this,m)[m].emit("stop",(0,n._)(this,O)[O]({audio:e}))},this.handleProgress=e=>{const{audio:t}=(0,n._)(this,g)[g];t&&(this.progress=e,(0,n._)(this,m)[m].emit("progress",(0,n._)(this,O)[O]({audio:t,progress:e})))},(0,n._)(this,d)[d]=t,(0,n._)(this,E)[E]=e,(0,n._)(this,m)[m]=new c.Emitter,(0,n._)(this,g)[g]=r,(0,_.makeObservable)(this),(0,n._)(this,I)[I](),(0,n._)(this,y)[y]()}}function T(){let e=this.queue.position;if(e||(this.queue.reset(),e=this.queue.position),!e)throw new Error("PlaybackQueue is empty");return e}function P(){const e=(0,n._)(this,p)[p];e.reaction((()=>this.muted),(e=>{const t=(0,n._)(this,O)[O]();(0,n._)(this,m)[m].emit(e?"muted":"unmuted",t)})),e.reaction((()=>this.volume),(e=>{(0,n._)(this,m)[m].emit("volumeChanged",(0,n._)(this,O)[O]({volume:e}))}))}function b(){(0,n._)(this,g)[g].events.on("play",this.handlePlay),(0,n._)(this,g)[g].events.on("pause",this.handlePause),(0,n._)(this,g)[g].events.on("resume",this.handleResume),(0,n._)(this,g)[g].events.on("stop",this.handleStop),(0,n._)(this,g)[g].events.on("progress",this.handleProgress)}function C(){(0,n._)(this,g)[g].events.off("play",this.handlePlay),(0,n._)(this,g)[g].events.off("pause",this.handlePause),(0,n._)(this,g)[g].events.off("resume",this.handleResume),(0,n._)(this,g)[g].events.off("stop",this.handleStop),(0,n._)(this,g)[g].events.off("progress",this.handleProgress)}function D(e){return{sourceChannel:this,currentChannel:this,payload:e}}(0,s.__decorate)([_.observable],S.prototype,"playing",void 0),(0,s.__decorate)([_.observable],S.prototype,"paused",void 0),(0,s.__decorate)([_.observable],S.prototype,"volume",void 0),(0,s.__decorate)([_.observable],S.prototype,"muted",void 0),(0,s.__decorate)([_.computed,(0,s.__metadata)("design:type",void 0),(0,s.__metadata)("design:paramtypes",[])],S.prototype,"actualVolume",null),(0,s.__decorate)([_.observable],S.prototype,"progress",void 0),(0,s.__decorate)([_.observable,(0,s.__metadata)("design:type",Object)],S.prototype,"position",void 0),(0,s.__decorate)([_.action,(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[]),(0,s.__metadata)("design:returntype",Promise)],S.prototype,"play",null),(0,s.__decorate)([_.action,(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",["undefined"==typeof List?Object:List]),(0,s.__metadata)("design:returntype",Promise)],S.prototype,"playList",null),(0,s.__decorate)([_.action,(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[]),(0,s.__metadata)("design:returntype",Promise)],S.prototype,"pause",null),(0,s.__decorate)([_.action,(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[]),(0,s.__metadata)("design:returntype",Promise)],S.prototype,"resume",null),(0,s.__decorate)([_.action,(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[]),(0,s.__metadata)("design:returntype",Promise)],S.prototype,"stop",null),(0,s.__decorate)([_.action,(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[Number]),(0,s.__metadata)("design:returntype",Promise)],S.prototype,"setVolume",null),(0,s.__decorate)([_.action,(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[Boolean]),(0,s.__metadata)("design:returntype",Promise)],S.prototype,"toggleMuted",null),(0,s.__decorate)([_.action.bound],S.prototype,"handlePlay",void 0),(0,s.__decorate)([_.action.bound],S.prototype,"handlePause",void 0),(0,s.__decorate)([_.action.bound],S.prototype,"handleResume",void 0),(0,s.__decorate)([_.action.bound],S.prototype,"handleStop",void 0),(0,s.__decorate)([_.action.bound],S.prototype,"handleProgress",void 0)},931019:(e,t,r)=>{"use strict";r.d(t,{PlaybackQueue:()=>A});var n=r(434518),a=r(763812),s=r(331635),_=r(327813),c=r(91355),l=r(120388);var u=(0,a._)("_prevIndex"),d=(0,a._)("_nextIndex"),p=(0,a._)("_currentIndex"),E=(0,a._)("_needRepeatCurrent"),m=(0,a._)("_needRepeatQueue"),g=(0,a._)("_assertPositionDefined");class A extends c.CombinedAudioList{get position(){const{pointer:e}=this;if(!(0,l.isValidAudioListAbsIndex)(this,e))return null;const t=this.findItemLocation(e);return t?{index:e,list:t.list}:null}get repeat(){return this._repeat}setRepeat(e){this._repeat=e}has(e){return this.lists.includes(e)}add(e){return this.lists.includes(e)||(this.lists=[...this.lists,e]),this}delete(e){return!(this.lists.indexOf(e)<0)&&(this.lists=this.lists.filter((t=>t!==e)),!0)}clear(){this.lists=[],this.reset()}reset(){this.pointer=Math.min(0,this.length-1)}moveTo(e){this.pointer=this.ensureAbsIndex(e)}moveToPrev(){(0,n._)(this,g)[g](),this.pointer=(0,n._)(this,u)[u]}moveToNext(){(0,n._)(this,g)[g](),this.pointer=(0,n._)(this,d)[d]}async ensureCurrent(){const e=(0,n._)(this,p)[p];if(e<0||e>=this.length)throw new Error("Current position does not point to element");return this.ensureAt(e)}get currentAudio(){const e=(0,n._)(this,p)[p];return e<0?null:this.audioAt(e)??null}get prevAudio(){return(0,n._)(this,u)[u]<0?null:this.audioAt((0,n._)(this,u)[u])??null}get nextAudio(){return(0,n._)(this,d)[d]>this.maxIndex?null:this.audioAt((0,n._)(this,d)[d])??null}constructor(e){super(Array.from(new Set(e))),Object.defineProperty(this,u,{get:f,set:void 0}),Object.defineProperty(this,d,{get:I,set:void 0}),Object.defineProperty(this,p,{get:y,set:void 0}),Object.defineProperty(this,E,{get:R,set:void 0}),Object.defineProperty(this,m,{get:O,set:void 0}),Object.defineProperty(this,g,{value:S}),this.pointer=-1,this._repeat="none",(0,_.makeObservable)(this)}}function f(){const e=(0,n._)(this,p)[p];if(!this.position||(0,n._)(this,E)[E])return e;let t=e-1;return(0,n._)(this,m)[m]&&t<0&&(t=this.length-1),t}function I(){const e=(0,n._)(this,p)[p];if(!this.position||(0,n._)(this,E)[E])return e;let t=(0,n._)(this,p)[p]+1;return(0,n._)(this,m)[m]&&t>this.maxIndex&&(t=0),t}function y(){return this.position?.index??-1}function R(){return"audio"===this.repeat}function O(){return"queue"===this.repeat}function S(){if(!this.position)throw new Error("Unknown position in playback queue")}(0,s.__decorate)([_.observable],A.prototype,"pointer",void 0),(0,s.__decorate)([_.observable,(0,s.__metadata)("design:type","undefined"==typeof TPlaybackQueueRepeat?Object:TPlaybackQueueRepeat)],A.prototype,"_repeat",void 0),(0,s.__decorate)([_.computed,(0,s.__metadata)("design:type",Object),(0,s.__metadata)("design:paramtypes",[])],A.prototype,"position",null),(0,s.__decorate)([_.computed,(0,s.__metadata)("design:type",void 0),(0,s.__metadata)("design:paramtypes",[])],A.prototype,"repeat",null),(0,s.__decorate)([_.action,(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",["undefined"==typeof TPlaybackQueueRepeat?Object:TPlaybackQueueRepeat]),(0,s.__metadata)("design:returntype",void 0)],A.prototype,"setRepeat",null),(0,s.__decorate)([_.action,(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",["undefined"==typeof List?Object:List]),(0,s.__metadata)("design:returntype",Object)],A.prototype,"add",null),(0,s.__decorate)([_.action,(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",["undefined"==typeof List?Object:List]),(0,s.__metadata)("design:returntype",Boolean)],A.prototype,"delete",null),(0,s.__decorate)([_.action,(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[]),(0,s.__metadata)("design:returntype",void 0)],A.prototype,"clear",null),(0,s.__decorate)([_.action,(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[]),(0,s.__metadata)("design:returntype",void 0)],A.prototype,"reset",null),(0,s.__decorate)([_.action,(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[Number]),(0,s.__metadata)("design:returntype",void 0)],A.prototype,"moveTo",null),(0,s.__decorate)([_.action,(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[]),(0,s.__metadata)("design:returntype",void 0)],A.prototype,"moveToPrev",null),(0,s.__decorate)([_.action,(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[]),(0,s.__metadata)("design:returntype",void 0)],A.prototype,"moveToNext",null),(0,s.__decorate)([_.computed,(0,s.__metadata)("design:type",void 0),(0,s.__metadata)("design:paramtypes",[])],A.prototype,"currentAudio",null),(0,s.__decorate)([_.computed,(0,s.__metadata)("design:type",void 0),(0,s.__metadata)("design:paramtypes",[])],A.prototype,"prevAudio",null),(0,s.__decorate)([_.computed,(0,s.__metadata)("design:type",void 0),(0,s.__metadata)("design:paramtypes",[])],A.prototype,"nextAudio",null)},730227:(e,t,r)=>{"use strict";r.d(t,{ConsoleLogger:()=>n});class n{fatal(e,t){console.error(e,...this.buildExtraArgs(t))}error(e,t){console.error(e,...this.buildExtraArgs(t))}warn(e,t){console.warn(e,...this.buildExtraArgs(t))}info(e,t){console.info(e,...this.buildExtraArgs(t))}debug(e,t){console.debug(e,...this.buildExtraArgs(t))}child(e){const t=[...this.extra];return e?.extra&&t.push(e.extra),new n({extra:t})}buildExtraArgs(e){const t=this.buildExtraData(e);return t?[t]:[]}buildExtraData(e){if(this.extra.length||e)return[...this.extra,...e?[e]:[]].reduce(((e,t)=>({...e,...a(t)})),{})}constructor({extra:e=[]}={}){this.extra=e}}function a(e){return"function"==typeof e?e():e}},527492:(e,t,r)=>{"use strict";r.d(t,{NativeAudioPlayerFactory:()=>s});var n=r(331635),a=r(132028);class s{}s=(0,n.__decorate)([a.scope.platform({abstract:!0})],s)},939661:(e,t,r)=>{"use strict";r.d(t,{PageVisibilityObserver:()=>c});var n=r(558137),a=r(584053);const s=["webkit","o","ms","moz",""],_=(0,n.makeSharedState)("PageVisibilityObserver",(()=>({instance:null})),{version:1});class c{static ensure(){const e=_();return e.instance||(e.instance=new c),e.instance}get visibility(){return this._visibility}on(e,t){return this.emitter.on(e,t),this}off(e,t){return this.emitter.off(e,t),this}listen(){try{this.isSupported?(document.addEventListener(this.visibilityPrefix+"visibilitychange",(()=>this.setVisibility(this.documentVisibility))),window.addEventListener(this.visibilityPrefix+"visibilitychange",(()=>this.setVisibility(this.documentVisibility)))):(window.addEventListener("focus",(()=>this.setVisibility(!0)),!0),window.addEventListener("blur",(()=>this.setVisibility(!1)),!0))}catch(e){}}setVisibility(e){this._visibility!==e&&(this._visibility=e,this.emitter.emit("change",e))}get documentVisibility(){return!document[this.hiddenStateName]}constructor(){if(this.emitter=new a.Emitter,this.visibilityPrefix="",this.hiddenStateName="hidden",this.isSupported=!0,this._visibility=!0,"hidden"in document)this.hiddenStateName="hidden",this.visibilityPrefix="",this.isSupported=!0;else for(let e=0;e<s.length;e++){const t=s[e];t+"Hidden"in document&&(this.hiddenStateName=`${t}Hidden`,this.visibilityPrefix=t,this.isSupported=!0)}this.setVisibility(this.documentVisibility),this.listen()}}},31580:(e,t,r)=>{"use strict";r.d(t,{allowLinkOnclickWebAttrs:()=>a,isAllowLinkOnclickWebForLink:()=>s});const n="data-allow-link-onclick-web",a={[n]:1};function s(e){return!!(e&&e instanceof HTMLElement)&&e.hasAttribute(n)}},353440:(e,t,r)=>{"use strict";r.d(t,{getConnection:()=>n,getConnectionEffectiveType:()=>s,getConnectionEffectiveTypeID:()=>c,getConnectionType:()=>a,getConnectionTypeID:()=>_});const n=()=>{const e=window.navigator;return e.connection||e.mozConnection||e.webkitConnection},a=()=>{const e=n();return e&&e.type||"unknown"},s=()=>{const e=n();return e&&e.effectiveType||"unknown"},_=()=>({mixed:0,unknown:0,bluetooth:1,cellular:2,ethernet:3,none:4,wifi:5,wimax:6,other:7}[a()]||0),c=()=>({unknown:0,"slow-2g":1,"2g":2,"3g":3,"4g":4}[s()]||0)},378564:(e,t,r)=>{"use strict";r.d(t,{CallStatMuteType:()=>s,CallStatScreen:()=>_,CallStatSource:()=>n,ClickHouseEventType:()=>a});var n=function(e){return e.CONVO_HEADER="im_header",e.CONVO_SNIPPET="im_message",e.CONVO_LIST="im_create",e.CONVO_JOIN_SNIPPET="im_join_message",e.CONVO_JOIN_HEADER="im_join_header",e.CONVO_JOIN_BANNER="im_join_header",e.FRIENDS_LIST="friends_list",e.LINK_JOIN_SNIPPET="join_deeplink",e.LINK_JOIN_PAGE="join_deeplink",e.PROFILE="profile",e.WIDGET="im_widget",e.FAST_CHAT="fast_chat",e.HISTORY="history",e.HISTORY_FRIENDS_LIST="history_friends_list",e.HISTORY_CREATE="history_create",e.LINK="link",e.STANDALONE="standalone",e.MINI_APP="mini_app",e.JOIN_BY_LINK_POPUP="join_by_link_popup",e.FC_HEADER="fast_chat_header",e.FC_PROFILE="fast_chat_profile",e.FC_MESSAGE_PROFILE="fast_chat_message_profile",e.FC_CREATE="fast_chat_create",e.FC_MESSAGE="fast_chat_message",e.FC_JOIN_POPUP="fast_chat_join_popup",e.FC_JOIN_BANNER="fast_chat_join_banner",e.FC_JOIN="fast_chat_join",e.IM_HEADER="im_header",e.IM_PROFILE="im_profile",e.IM_MESSAGE_PROFILE="im_message_profile",e.IM_CREATE="im_create",e.IM_MESSAGE="im_message",e.IM_JOIN_POPUP="im_join_popup",e.IM_JOIN_BANNER="im_join_banner",e.IM_JOIN="im_join",e.VKME_HEADER="vkme_header",e.VKME_PROFILE="vkme_profile",e.VKME_MESSAGE_PROFILE="vkme_message_profile",e.VKME_CREATE="vkme_create",e.VKME_MESSAGE="vkme_message",e.VKME_JOIN_POPUP="vkme_join_popup",e.VKME_JOIN_BANNER="vkme_join_banner",e.VKME_JOIN="vkme_join",e.VKME_CHANNEL_ACTION_BUTTON="vkme_channel_action_button",e.VKME_JOIN_BY_LINK_POPUP="vkme_join_by_link_popup",e.MESSENGER_UNHANDLED_SOURCE="messenger_unhandled_source",e}({}),a=function(e){return e.OUTGOING_CALL_STARTED_VIDEO="OutgoingCallStartedVideo",e.OUTGOING_CALL_STARTED_AUDIO="OutgoingCallStartedAudio",e.OUTGOING_CALL_ADD_PARTICIPANTS_SENT="OutgoingCallAddParticipantsSent",e.OUTGOING_CALL_REMOTE_RINGING="OutgoingCallRemoteRinging",e.OUTGOING_CALL_ACCEPTED_REMOTELY="OutgoingCallAcceptedRemotely",e.OUTGOING_CALL_FAILED="OutgoingCallFailed",e.OUTGOING_CALL_COMPLETED="OutgoingCallCompleted",e.INCOMING_CALL_RECEIVED="IncomingCallReceived",e.INCOMING_CALL_ACCEPTED="IncomingCallAccepted",e.INCOMING_CALL_FAILED="IncomingCallFailed",e.CALL_DECLINED_OR_HANGED_LOCALLY="CallDeclinedOrHangedLocally",e.CALL_DECLINED_OR_HANGED_REMOTELY="CallDeclinedOrHangedRemotely",e.CALL_CONNECTED="CallConnected",e.CALL_DISCONNECTED="CallDisconnected",e.VIDEO_ENABLED="VideoEnabled",e.VIDEO_SETTINGS="VideoSettings",e.VIDEO_DISABLED="VideoDisabled",e.RELAY_CONNECTION_ESTABLISHED="RelayConnectionEstablished",e.USER_FEEDBACK_RECEIVED="UserFeedbackReceived",e.SYSTEM_STAT="SystemStat",e.GROUP_CALL_JOINED="GroupCallJoined",e.GROUP_CALL_JOIN_FAILED="GroupCallJoinFailed",e.HAND_RAISED="HandRaised",e.HAND_LOWERED="HandLowered",e.SCREEN_SHARING_STARTED="ScreenSharingStarted",e.SCREEN_SHARING_STOPPED="ScreenSharingStopped",e.AUDIO_SHARING_STARTED="AudioSharingStarted",e.ALL_MICS_DISABLED="AllMicsDisabled",e.USER_MICS_DISABLED="UserMicsDisabled",e.ALL_VIDEO_DISABLED="AllVideoDisabled",e.USER_VIDEO_DISABLED="UserVideoDisabled",e.ALL_SCREEN_SHARING_DISABLED="AllScreenSharingDisabled",e.USER_SCREEN_SHARING_DISABLED="UserScreenSharingDisabled",e.ALL_WATCH_TOGETHER_DISABLED="AllWatchTogetherDisabled",e.USER_WATCH_TOGETHER_DISABLED="UserWatchTogetherDisabled",e.MIC_OFF_WHILE_TALKING_ALERT="MicOffWhileTalkingAlert",e.MIC_OFF_WHILE_TALKING_ENABLE_CLICK="MicOffWhileTalkingEnableClick",e.VIDEO_DISABLED_DUE_TO_BAD_CONNECTION_ALERT="VideoDisabledDueToBadConnectionAlert",e.ALL_MICS_AND_VIDEO_DISABLED="AllMicsAndVideoDisabled",e.USER_MICS_AND_VIDEO_DISABLED="UserMicsAndVideoDisabled",e.ALL_HAND_LOWERED="AllHandsLowered",e.USER_HAND_LOWERED="UserHandLowered",e.ASK_ALL_TO_UNMUTE="AskAllToUnmute",e.ASK_USER_TO_UNMUTE="AskUserToUnmute",e.ASSIGN_ADMIN="AssignAdmin",e.RETRIEVE_ADMIN="RetrieveAdmin",e.ADMIN_PIN="AdminPin",e.ADMIN_UNPIN="AdminUnpin",e.VIRTUAL_BACKGROUND_SELECTED="VirtualBackgroundSelected",e.VIRTUAL_BACKGROUND_DISABLED="VirtualBackgroundDisabled",e.CUSTOM_VIRTUAL_BACKGROUND_SELECTED="CustomVirtualBackgroundSelected",e.CUSTOM_VIRTUAL_BACKGROUND_ADDED="CustomVirtualBackgroundAdded",e.CUSTOM_VIRTUAL_BACKGROUND_DELETED="CustomVirtualBackgroundDeleted",e.CUSTOM_VIRTUAL_BACKGROUND_DISABLED="CustomVirtualBackgroundDisabled",e.CALL_SCHEDULED="CallScheduled",e.SCHEDULED_CALL_EDITED="ScheduledCallEdited",e.SCHEDULED_CALL_LIVE_STARTED="ScheduledCallLiveStarted",e.REACTION_ENABLED="ReactionEnabled",e.REACTION_DISABLED="ReactionDisabled",e.REACTION_SENT="ReactionSent",e.CALL_WATCH_TOGETHER_CLICK="CallWatchTogetherClick",e.CALL_WATCH_TOGETHER_STARTED="CallWatchTogetherStarted",e.CALL_WATCH_TOGETHER_STOPPED="CallWatchTogetherStopped",e.SESSION_ROOMS_ASK_FOR_HELP="SessionRoomsAskForHelp",e.SESSION_ROOMS_USER_MOVED="SessionRoomsUserMoved",e.SESSION_ROOMS_USER_LEFT="SessionRoomsUserLeft",e.SESSION_ROOMS_AUTO_ALLOCATION="SessionRoomsAutoAllocation",e.SESSION_ROOMS_MANUAL_ALLOCATION="SessionRoomsManualAllocation",e.SESSION_ROOMS_OPENED="SessionRoomsOpened",e.SESSION_ROOMS_CLOSED="SessionRoomsClosed",e.SKIP_DESKTOP_JOIN_SCREEN="SkipDesktopJoinScreen",e.CALL_VMOJI_CLICK="CallVmojiClick",e.CALL_VMOJI_START_FAILED="CallVmojiStartFailed",e.CALL_VMOJI_STARTED="CallVmojiStarted",e.CALL_VMOJI_STOPPED="CallVmojiStopped",e.CALL_VMOJI_BENCHMARK="CallVmojiBenchmark",e.MIC_ENABLED="MicEnabled",e.MIC_DISABLED="MicDisabled",e.OPEN_CHAT="OpenChat",e.NAME_CHANGED_BY_USER="NameChangedByUser",e.NAME_CHANGED_BY_ANONYM="NameChangedByAnonym",e.NAME_CHANGED_BY_ADMIN="NameChangedByAdmin",e.NAME_CHANGED_BY_COMMUNITY="NameChangedByCommunity",e.TRANSCRIPTION_STARTED="TranscriptionStarted",e.TRANSCRIPTION_STOPPED="TranscriptionStopped",e.SCREEN_SHARE_NOT_VISIBLE="ScreenShareNotVisible",e.CALL_COLLAPSED="CallCollapsed",e.CALL_MISSED_NOTIFICATION="CallMissedNotification",e.SCREEN_ZOOMED="ScreenZoomed",e.WHITE_BOARD_STARTED="WhiteBoardStarted",e.WHITE_BOARD_VIEW_STARTED="WhiteBoardViewClick",e.WHITE_BOARD_VIEW_STOPPED="WhiteBoardViewStopped",e.WHITE_BOARD_STOPPED="WhiteBoardStopped",e.ONLINE_TRANSCRIPTION_STARTED="OnlineTranscriptionStarted",e.ONLINE_TRANSCRIPTION_STOPPED="OnlineTranscriptionStopped",e.WAITING_ROOM_DISABLED="WaitingRoomDisabled",e.WAITING_ROOM_ENABLED="WaitingRoomEnabled",e.CALL_STREAMING_CLICK="CallStreamingClick",e.CALL_STREAMING_START_FAILED="CallStreamingStartFailed",e.CALL_STREAMING_STARTED="CallStreamingStarted",e.CALL_STREAMING_STOPPED="CallStreamingStopped",e.CALL_RECORDING_CLICK="CallRecordingClick",e.CALL_RECORDING_START_FAILED="CallRecordingStartFailed",e.CALL_RECORDING_STARTED="CallRecordingStarted",e.CALL_RECORDING_STOPPED="CallRecordingStopped",e.CURRENT_USER_BAD_CONNECTION_ALERT="CurrentUserBadConnectionAlert",e.DOWNLOAD_PARTICIPANTS_LIST_CLICK="DownloadParticipantsListClick",e.CONTACT_JOINED="ContactJoined",e.CONTACT_DEANONIMIZED="ContactDeanonimized",e.VIDEO_SUSPEND_MODE="VideoSuspendMode",e.CALL_PREVIEW_CAMERA_ENABLED="CallPreviewCameraEnabled",e.CALL_PREVIEW_MIC_ENABLED="CallPreviewMicEnabled",e.CALL_PREVIEW_CAMERA_DISABLED="CallPreviewCameraDisabled",e.CALL_PREVIEW_MIC_DISABLED="CallPreviewMicDisabled",e.CALL_PREVIEW_DOWNLOAD_APP_CLICK="CallPreviewDownloadAppClick",e.CALL_PREVIEW_DESKTOP_APP_JOIN_CLICK="CallPreviewDesktopAppJoinClick",e.CALL_PREVIEW_DEVICE_CHANGE_CAM_CLICK="CallPreviewDeviceChangeCamClick",e.CALL_PREVIEW_DEVICE_CHANGE_MIC_CLICK="CallPreviewDeviceChangeMicClick",e.CALL_PREVIEW_MODAL_CLOSED="CallPreviewModalClosed",e.CALL_PREVIEW_SKIP_JOIN_SCREEN_CLICK="CallPreviewSkipDesktopJoinScreenClick",e.CALL_LINK_QR_CODE_CLICK="CallLinkQrCodeClick",e.CALL_LINK_QR_CODE_SHARED="CallLinkQrCodeShared",e.CALL_LINK_QR_CODE_DOWNLOAD="CallLinkQrCodeDownload",e.RECORD_HISTORY_OPENED="RecordHistoryOpened",e.RECORD_HISTORY_VIDEO_OPENED="RecordHistoryVideoOpened",e.SESSION_ROOMS_MESSAGE_SENT="SessionRoomsMessageSent",e.SESSION_ROOMS_TIMER_ENABLED="SessionRoomsTimerEnabled",e.SESSION_ROOMS_CLOSED_USING_TIMER="SessionRoomsClosedUsingTimer",e.CALL_HISTORY_DELETE_ALL="CallHistoryDeleteAll",e.CALL_HISTORY_DELETE_SINGLE="CallHistoryDeleteSingle",e.CALL_HISTORY_DELETE_SELECTED="CallHistoryDeleteSelected",e.CALL_ADD_PARTICIPANT_WITH_CHAT="AddParticipantWithChat",e.CALL_CHAT_HISTORY_TOGGLED="CallChatHistoryToggled",e.USER_REMOVED="UserRemoved",e}({}),s=function(e){return e[e.ONCE=0]="ONCE",e[e.PERMANENT=1]="PERMANENT",e}({}),_=function(e){return e.ParticipantsManager="participants_manager",e}({})},69459:(e,t,r)=>{"use strict";r.d(t,{rootContainer:()=>m});var n=r(540944),a=r(256754),s=r(93770),_=r(513892),c=r(679773),l=r(74692),u=r(441592),d=r(5757),p=r(361605);class E{resolve(e){const t=a.resolveInterceptor.apply(this.handleConstruction),r=this.container.resolve(e);return t(),r}childrenExists(e){return this.children.has(e)}resolveWithTransforms(e,t){const r=s.resolveTransformer.apply(e,t),n=this.resolve(e);return r(),n}getConstructorScope(e){return c.constructorScope in e?e[c.constructorScope]:null}replace(e,t){const r=this.getConstructorScope(t);if(r!==this.getConstructorScope(e))throw new Error("token и constructor должны иметь одинаковый scope");this.container.register(e,t,{lifecycle:r?(0,l.mapScopeToTsyringeLifecycleType)(r):n.Lifecycle.Transient})}isolate(){this.isIsolated=!0,this.isolateRegistrations()}async destroy(){if(!this.isDestroyed){if(!this.parent)throw new Error("Cannot destroy root container!");Array.from(this.instances.keys()).forEach((e=>this.destroyInstance(e))),await this.container.dispose(),this.parent.children.delete(this.name),this.isDestroyed=!0}}destroyInstance(e){if(!this.instances.has(e))return;const t=this.instances.get(e);(0,u.isDestroyable)(e)&&e[c.destroy](),this.instances.delete(e),t?.forEach((e=>this.destroyInstance(e)))}child(e,t){const r=this.createChild(e);return t&&r.isolate(),r}get isolatingRegistrationsScopes(){return[_.scopes.GLOBAL]}createChild(e){if(this.children.has(e))throw new Error(`Container child with same name "${e}" already exists!`);const t=new E(this,e);return this.parent&&this.children.set(e,t),t}getScopeRegistrations(e){switch(e){case _.scopes.PLATFORM:return d.platformScopeRegistrations;case _.scopes.GLOBAL:return d.globalScopeRegistrations;case _.scopes.CONTAINER:return d.containerScopeRegistrations;case _.scopes.TRANSIENT:return d.transientScopeRegistrations;default:(0,p.expectNever)(e)}}isolateRegistration(e,t){this.container.register(e,e,{lifecycle:this.toLifecycle(t)})}toLifecycle(e){return(0,l.mapScopeToTsyringeLifecycleType)(e)}isolateRegistrations(){this.isolatingRegistrationsScopes.length<1||this.isolatingRegistrationsScopes.forEach((e=>{this.getScopeRegistrations(e).forEach((t=>{this.isolateRegistration(t,e)}))}))}handleConstruction(e){const{type:t,instance:r,args:n}=e;if(this.isolatingRegistrationsScopes.includes(t)&&this.isIsolated||t===_.scopes.CONTAINER||t===_.scopes.TRANSIENT||!this.parent){const e=n.filter((e=>e.constructor[c.constructorScope]===_.scopes.TRANSIENT));(e.length||(0,u.isDestroyable)(r))&&this.instances.set(r,e)}else this.parent?.handleConstruction(e)}constructor(e,t){this.name=t,this.isIsolated=!1,this.isDestroyed=!1,this.children=new Map,this.instances=new Map,this.parent=e,this.parent?this.container=this.parent.container.createChildContainer():(this.container=n.container,this.isIsolated=!0),this.handleConstruction=this.handleConstruction.bind(this)}}const m=new E(null,"root")},428111:(e,t,r)=>{"use strict";r.d(t,{scope:()=>s});var n=r(513892),a=r(74692);const s={container:(e={})=>(0,a.scoped)(n.scopes.CONTAINER,e),global:(e={})=>(0,a.scoped)(n.scopes.GLOBAL,e),platform:(e={})=>(0,a.scoped)(n.scopes.PLATFORM,e),transient:(e={})=>(0,a.scoped)(n.scopes.TRANSIENT,e)}},132028:(e,t,r)=>{"use strict";r.d(t,{ChildDIProvider:()=>_.ChildDIProvider,DIProvider:()=>_.DIProvider,ModelEventsHandlers:()=>_.ModelEventsHandlers,Props:()=>_.Props,createPageProvider:()=>_.createPageProvider,createProvider:()=>_.createProvider,createWidget:()=>_.createWidget,destroy:()=>a.destroy,init:()=>a.init,rootContainer:()=>n.rootContainer,scope:()=>s.scope,update:()=>a.update,useContainer:()=>_.useContainer});r(238630);var n=r(69459),a=(r(745485),r(679773)),s=r(428111),_=r(842165);r(513892),r(113810)},5757:(e,t,r)=>{"use strict";r.d(t,{constructorWrapper:()=>d,containerScopeRegistrations:()=>l,globalScopeRegistrations:()=>c,platformScopeRegistrations:()=>_,transientScopeRegistrations:()=>u});var n=r(679773),a=r(256754),s=r(93770);const _=new Set,c=new Set,l=new Set,u=new Set,d=(e,t,r)=>{const _=new Proxy(t,{construct(t,r,c){for(let e of r)if(e?.constructor?.[n.isAbstract])throw new Error(`Cannot inject abstract class ${e.constructor.toString()}`);s.resolveTransformer.run(_,r);const l=Reflect.construct(t,r,c);return a.resolveInterceptor.run({type:e,instance:l,ctor:_,args:r}),l}});return t[n.constructorScope]=e,t[n.isAbstract]=r?.abstract,Reflect.defineMetadata("design:paramtypes",Reflect.getMetadata("design:paramtypes",t)||[],_),_}},74692:(e,t,r)=>{"use strict";r.d(t,{mapScopeToTsyringeLifecycleType:()=>l,scoped:()=>c});var n=r(540944),a=r(5757),s=r(513892),_=r(113810);const c=(e,t={})=>r=>{const n=(0,a.constructorWrapper)(e,r,{abstract:t.abstract}),c=(0,_.mapScopeToTsyringeScoped)(e);switch(e){case s.scopes.CONTAINER:a.containerScopeRegistrations.add(n);break;case s.scopes.GLOBAL:a.globalScopeRegistrations.add(n);break;case s.scopes.PLATFORM:a.platformScopeRegistrations.add(n);break;case s.scopes.TRANSIENT:a.transientScopeRegistrations.add(n)}return c(n),n};function l(e){switch(e){case"GLOBAL":case"PLATFORM":return n.Lifecycle.Singleton;case"CONTAINER":return n.Lifecycle.ContainerScoped;case"TRANSIENT":return n.Lifecycle.Transient}throw new Error("Unknown scope")}},441592:(e,t,r)=>{"use strict";r.d(t,{isDestroyable:()=>a,isInitable:()=>_,isUpdatable:()=>s});var n=r(679773);const a=e=>e&&"function"==typeof e[n.destroy],s=e=>e&&"function"==typeof e[n.update],_=e=>e&&"function"==typeof e[n.init]},256754:(e,t,r)=>{"use strict";r.d(t,{resolveInterceptor:()=>n});const n=new class{constructor(){this.interceptors=new Set,this.run=e=>this.interceptors.forEach((t=>t(e))),this.apply=e=>(this.interceptors.add(e),()=>this.interceptors.delete(e))}}},93770:(e,t,r)=>{"use strict";r.d(t,{resolveTransformer:()=>n});const n=new class{constructor(){this.transforms=new Map,this.run=(e,t)=>{const r=this.transforms.get(e);r&&r.forEach((e=>e(t)))},this.apply=(e,t)=>{const r=this.transforms.get(e)??new Set;return r.add(t),this.transforms.set(e,r),()=>r.delete(t)}}}},361605:(e,t,r)=>{"use strict";r.d(t,{expectNever:()=>c,useMemoizeProps:()=>s,usePostponedEffect:()=>_});var n=r(296540);function a(e,t){const r=Object.entries(e),n=Object.entries(t);return r.length===n.length&&r.every((([e,r])=>Object.is(r,t[e])))}function s(e,t=a){const r=(0,n.useRef)(void 0);return void 0!==r.current&&t(r.current,e)||(r.current=e),[r.current]}function _(e,t){const r=(0,n.useRef)(!0);(0,n.useEffect)((()=>{if(!r.current)return e();r.current=!1}),t)}function c(e){throw new TypeError(`Unexpected value: ${e}`)}},230074:(e,t,r)=>{"use strict";r.d(t,{ChildDIProvider:()=>u,DIProvider:()=>l,useContainer:()=>c});var n=r(474848),a=r(296540),s=r(69459);const _=(0,a.createContext)(s.rootContainer),c=()=>(0,a.useContext)(_),l=({instance:e=s.rootContainer,children:t})=>(0,n.jsx)(_.Provider,{value:e,children:t}),u=({children:e,name:t,isolated:r})=>{const _=c()||s.rootContainer,u=function(e,t){if("undefined"==typeof window||!window.vk?.pe?.childdi_name_conflict_fix2)return t;return e.childrenExists(t)?`${t}-${Math.floor(1e5*Math.random())}`:t}(_,t),[d]=(0,a.useState)((()=>_.child(u,r)));return(0,a.useEffect)((()=>()=>{d.destroy()}),[]),(0,n.jsx)(l,{instance:d,children:e})}},842165:(e,t,r)=>{"use strict";r.d(t,{ChildDIProvider:()=>c.ChildDIProvider,DIProvider:()=>c.DIProvider,ModelEventsHandlers:()=>a.ModelEventsHandlers,Props:()=>l.Props,createPageProvider:()=>s.createPageProvider,createProvider:()=>n.createProvider,createWidget:()=>_.createWidget,useContainer:()=>c.useContainer});var n=r(164844),a=r(83365),s=r(531110),_=r(319271),c=r(230074),l=r(218487)},164844:(e,t,r)=>{"use strict";r.d(t,{createProvider:()=>g});var n=r(474848),a=r(296540),s=r(327813),_=r(679773),c=r(441592),l=r(83365),u=r(230074),d=r(361605),p=r(218487),E=r(513892);const m=(0,a.createContext)(null),g=(e,t)=>{const{isolatedContext:r,onlyTransient:g,...A}=t||{isolatedContext:!0,onlyTransient:!0},f="undefined"!=typeof window&&window.vk?.pe?.webinf_di_provider_one_context,I=f&&r?m:(0,a.createContext)(null);if(f&&g&&(!(_.constructorScope in e)||e[_.constructorScope]!==E.scopes.TRANSIENT))throw new Error("[DI]: ViewModel can be only TRANSIENT");const y=t=>{const r=(0,u.useContainer)(),{children:E,...m}=t,g=(0,a.useRef)(),[f]=(0,a.useState)((()=>{const t=r.resolveWithTransforms(e,(e=>{const t=e.find((e=>e.constructor[p.propsAttribute]));t&&(t.set(m),g.current=t)})),n=r.resolve(l.ModelEventsHandlers),a={isPage:Boolean(A[_.pageModel])};if((0,c.isInitable)(t)){n.onStartInit(a);const e=t[_.init](m);e instanceof Promise?(async()=>{await e,n.onFinishInit(a)})():n.onFinishInit(a)}return t}));return(0,d.usePostponedEffect)((()=>{(0,s.runInAction)((()=>{g.current?.set(m),(0,c.isUpdatable)(f)&&f[_.update](m)}))}),(0,d.useMemoizeProps)(m)),(0,a.useEffect)((()=>()=>{r.destroyInstance(f)}),[]),(0,n.jsx)(I.Provider,{value:f,children:E})};return Object.defineProperty(y,"name",{configurable:!0,value:`${e.name}Provider`}),{Provider:y,useModel:()=>{const t=(0,a.useContext)(I);if(!t)throw new Error(`[DI]: The "useModel" hook expects an instance of ${e.name}, but it looks like no context is provided.`);if(f&&r&&!(t instanceof e))throw new Error(`[DI]: ViewModel ${e.name} cannot be used in adjacent widgets`);return t}}}},83365:(e,t,r)=>{"use strict";r.d(t,{ModelEventsHandlers:()=>s});var n=r(331635),a=r(428111);class s{onStartInit(e){}onFinishInit(e){}}s=(0,n.__decorate)([a.scope.transient({abstract:!0})],s)},531110:(e,t,r)=>{"use strict";r.d(t,{createPageProvider:()=>c});var n=r(474848),a=r(679773),s=r(230074),_=r(164844);const c=(e,t)=>{const{useModel:r,Provider:c}=(0,_.createProvider)(e,{...t??{isolatedContext:!0,onlyTransient:!0},[a.pageModel]:!0});return{useModel:r,Provider:e=>(0,n.jsx)(s.ChildDIProvider,{name:e.name,children:(0,n.jsx)(c,{...e})})}}},218487:(e,t,r)=>{"use strict";r.d(t,{Props:()=>c,propsAttribute:()=>_});var n=r(331635),a=r(327813),s=r(428111);const _="propsAttribute";class c{set(e){const t=this.current;Object.assign(t,e),Object.keys(t).forEach((r=>{e.hasOwnProperty(r)||delete t[r]}))}constructor(){this.current={},(0,a.makeAutoObservable)(this,{current:a.observable.shallow})}}c[_]=!0,c=(0,n.__decorate)([s.scope.transient(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[])],c)},319271:(e,t,r)=>{"use strict";r.d(t,{createWidget:()=>a});var n=r(474848);const a=(e,t)=>function(r){return(0,n.jsx)(e,{...r,children:(0,n.jsx)(t,{children:r.children})})}},513892:(e,t,r)=>{"use strict";r.d(t,{scopes:()=>n});const n={CONTAINER:"CONTAINER",GLOBAL:"GLOBAL",PLATFORM:"PLATFORM",TRANSIENT:"TRANSIENT"}},679773:(e,t,r)=>{"use strict";r.d(t,{constructorScope:()=>l,destroy:()=>a,init:()=>n,isAbstract:()=>c,pageModel:()=>_,update:()=>s});const n=Symbol("init"),a=Symbol("destroy"),s=Symbol("update"),_=Symbol("pageModel"),c=Symbol("isAbstract"),l=Symbol("constructorScope")},745485:()=>{},113810:(e,t,r)=>{"use strict";r.d(t,{mapScopeToTsyringeScoped:()=>n.mapScopeToTsyringeScoped});var n=r(151238)},151238:(e,t,r)=>{"use strict";r.d(t,{mapScopeToTsyringeScoped:()=>s});var n=r(540944),a=r(513892);function s(e){switch(e){case a.scopes.CONTAINER:return(0,n.scoped)(n.Lifecycle.ContainerScoped);case a.scopes.GLOBAL:case a.scopes.PLATFORM:return(0,n.singleton)();case a.scopes.TRANSIENT:return(0,n.injectable)()}}},588357:(e,t,r)=>{"use strict";r.d(t,{AudioType:()=>n});var n=function(e){return e.MusicTrack="music_track",e.MusicSnippet="music_snippet",e.PodcastEpisode="podcast_episode",e.PodcastTrailer="podcast_trailer",e.Radio="radio",e}({})},388807:(e,t,r)=>{"use strict";r.d(t,{AudioError:()=>c});var n=r(887014),a=r(44048),s=r(800496),_=r(463095);class c extends Error{static fromUnknownError(e){return(0,_.isApiError)(e)?c.fromApiError(e):(0,_.isNetworkError)(e)?c.fromNetworkError(e):e instanceof Error?new c(n.AudioErrorType.Unknown,e.message):new c(n.AudioErrorType.Unknown,"Audio error: unknown")}static fromNetworkError(e){return new c(n.AudioErrorType.Network,e.error.message)}static fromApiError(e){let t=n.AudioErrorType.Secure;return 5===e.error.error_code&&(t=n.AudioErrorType.Unauthorized),201===e.error.error_code&&(t=n.AudioErrorType.AccessDenied),new c(t,e.error.error_msg)}static isAudioError(e){return(0,a.isAudioError)(e)}constructor(e,t){super(t),this.type=e,this.name=s.AUDIO_ERROR_TOKEN}}},887014:(e,t,r)=>{"use strict";r.d(t,{AudioErrorType:()=>n});var n=function(e){return e.Unknown="unknown",e.Secure="secure",e.Unauthorized="unauthorized",e.AccessDenied="access_denied",e.Network="network",e}({})},44048:(e,t,r)=>{"use strict";r.d(t,{isAudioError:()=>a});var n=r(800496);function a(e){return e instanceof Error&&e.name===n.AUDIO_ERROR_TOKEN}},800496:(e,t,r)=>{"use strict";r.d(t,{AUDIO_ERROR_TOKEN:()=>n});const n="domains/audio/AudioError"},463095:(e,t,r)=>{"use strict";function n(e){return s(e)&&"network_error"===e.type}function a(e){return s(e)&&"api_error"===e.type}function s(e){return!!e&&"object"==typeof e&&"type"in e}r.d(t,{isApiError:()=>a,isNetworkError:()=>n})},961016:(e,t,r)=>{"use strict";function n(e){return{isExplicit:!!(2&e),isForeignAgent:!!(4&e)}}r.d(t,{bitmaskToAudioLegal:()=>n})},568952:(e,t,r)=>{"use strict";r.d(t,{AudioListType:()=>n});var n=function(e){return e.CatalogMusicTrackList="catalog_music_track_list",e.MusicMix="music_mix",e.MusicSnippetsList="music_snippets_list",e.MusicAlbumPlaylist="music_album_playlist",e.MusicGeneratedPlaylist="music_generated_playlist",e.MusicUGCGroupPlaylist="music_ugc_group_playlist",e.MusicUGCUserPlaylist="music_ugc_user_playlist",e.MusicChatPlaylist="music_chat_playlist",e.MyMusicPlaylist="my_music_playlist",e.UserMusicTrackList="user_music_track_list",e.GroupMusicTrackList="group_music_track_list",e.AttachmentMusicTrackList="attachment_music_track_list",e.AttachmentPodcastEpisodeList="attachment_podcast_episode_list",e.Podcast="podcast",e.Radio="radio",e.OwnedPodcastEpisodeList="owned_podcast_episode_list",e.ShortVideoMusicTrackList="short_video_music_track_list",e}({})},21990:(e,t,r)=>{"use strict";r.d(t,{AudioPlayerChannelType:()=>l});var n=r(434518),a=r(763812),s=r(331635),_=r(132028),c=r(217906),l=function(e){return e.MusicTrack="music_track",e.MusicSnippet="music_snippet",e.Radio="radio",e.Podcast="podcast",e}({}),u=(0,a._)("_player"),d=(0,a._)("_getChannel");class p{get musicTrack(){return(0,n._)(this,d)[d]("music_track")}get musicSnippet(){return(0,n._)(this,d)[d]("music_snippet")}get radio(){return(0,n._)(this,d)[d]("radio")}get podcast(){return(0,n._)(this,d)[d]("podcast")}constructor(e){Object.defineProperty(this,d,{value:E}),Object.defineProperty(this,u,{writable:!0,value:void 0}),this.factory=e,(0,n._)(this,u)[u]=this.factory.createPlayer({music_track:this.factory.createChannel("music_track"),music_snippet:this.factory.createChannel("music_snippet"),radio:this.factory.createChannel("radio"),podcast:this.factory.createChannel("podcast")})}}function E(e){return(0,n._)(this,u)[u].getChannel(e)}p=(0,s.__decorate)([_.scope.global(),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[void 0===c.AudioPlayerFactory?Object:c.AudioPlayerFactory])],p)},694132:(e,t,r)=>{"use strict";r.d(t,{AudioNavScreenModalType:()=>u,AudioNavScreenPageType:()=>l,AudioNavScreenProvider:()=>p});var n=r(434518),a=r(763812),s=r(331635),_=r(132028);const c=(0,r(558137).makeSharedState)("domains/audio/AudioNavScreenState",(()=>({page:null,catalogSectionId:null,modals:[]})),{version:1});var l=function(e){return e.Catalog="audio_catalog",e.Artist="music_artist",e.Album="music_album",e.Playlist="music_playlist",e.Track="music_track",e.SnippetsFeed="music_snippets_list",e.Podcast="podcast_podcast",e}({}),u=function(e){return e.Album="music_album_popup",e.Playlist="music_playlist_popup",e.Longtap="music_longtap_preview_popup",e.PodcastEpisode="podcast_episode_popup",e}({}),d=(0,a._)("_clearModal");class p{get isModal(){return!!c().modals.length}get screen(){const e=c(),t=e.modals[0];return t||e.page}get catalogSectionId(){return"audio_catalog"!==this.screen?null:c().catalogSectionId}setPage(e,t){const r=c();r.page=e,r.catalogSectionId=t??null}clearPage(){const e=c();e.page=null,e.catalogSectionId=null}pushModal(e){c().modals.unshift(e)}popModal(e){const t=c();t.modals[0]===e?t.modals.shift():(0,n._)(this,d)[d]()}constructor(){Object.defineProperty(this,d,{value:E})}}function E(){c().modals=[]}p=(0,s.__decorate)([_.scope.global()],p)},841376:(e,t,r)=>{"use strict";r.d(t,{AudioEntityToggleService:()=>g});var n=r(434518),a=r(763812),s=r(331635),_=r(327813),c=r(70916),l=r(74270),u=r(558137),d=(0,a._)("_activating"),p=(0,a._)("_deactivating"),E=(0,a._)("_pending"),m=(0,a._)("_state");class g{get events(){return this.emitter.listenable}get pending(){return(0,n._)(this,E)[E]}get state(){return(0,n._)(this,m)[m]}async activate(e,t){this.assertRequestsAllowed?.();const r=(0,n._)(this,d)[d].get(e);if(r)return r;if(await(0,n._)(this,p)[p].get(e),!0===(0,n._)(this,m)[m].get(e))return;const a=this.forceActivate(e,t);try{(0,n._)(this,d)[d].set(e,a),await a}finally{(0,n._)(this,d)[d].delete(e)}}async deactivate(e,t){this.assertRequestsAllowed?.();const r=(0,n._)(this,p)[p].get(e);if(r)return r;if(await(0,n._)(this,d)[d].get(e),!1===(0,n._)(this,m)[m].get(e))return;const a=this.forceDeactivate(e,t);try{(0,n._)(this,p)[p].set(e,a),await a}finally{(0,n._)(this,p)[p].delete(e)}}async toggle(e,t,r){if(this.assertRequestsAllowed?.(),(0,n._)(this,E)[E].has(e))return;const a=(0,n._)(this,m)[m].get(e),s=r??!a;return s!==a?s?this.activate(e,t.activate):this.deactivate(e,t.deactivate):void 0}setState(e,t){(0,n._)(this,m)[m].set(e,t)}assertRequestsAllowed(){}async forceActivate(e,t){try{(0,n._)(this,E)[E].add(e),this.emitter.emit("activate",{identity:e,params:t}),await this.requestActivate(e,t),this.setState(e,!0)}finally{(0,n._)(this,E)[E].delete(e)}this.emitter.emit("activated",{identity:e,params:t})}async forceDeactivate(e,t){try{(0,n._)(this,E)[E].add(e),this.emitter.emit("deactivate",{identity:e,params:t}),await this.requestDeactivate(e,t),this.setState(e,!1)}finally{(0,n._)(this,E)[E].delete(e)}this.emitter.emit("deactivated",{identity:e,params:t})}constructor(e,t={}){Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:void 0}),Object.defineProperty(this,E,{writable:!0,value:void 0}),Object.defineProperty(this,m,{writable:!0,value:void 0});const r=function(e,{sharedStateConfig:t}){if(!t)return A(e);const{key:r,version:n}=t,a=(0,u.makeSharedState)(r,(()=>({})),{version:n})();a.current||(a.current=A(e));return a.current}(e,t);this.emitter=r.emitter,(0,n._)(this,d)[d]=r.activating,(0,n._)(this,p)[p]=r.deactivating,(0,n._)(this,E)[E]=r.pending,(0,n._)(this,m)[m]=r.state,(0,_.makeObservable)(this)}}function A(e){return{emitter:e.create(),activating:new c.ObservableIdentityMap,deactivating:new c.ObservableIdentityMap,pending:new l.ObservableIdentitySet,state:new c.ObservableIdentityMap}}(0,s.__decorate)([_.action,(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",["undefined"==typeof Identity?Object:Identity,"undefined"==typeof ActivateParams?Object:ActivateParams]),(0,s.__metadata)("design:returntype",Promise)],g.prototype,"activate",null),(0,s.__decorate)([_.action,(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",["undefined"==typeof Identity?Object:Identity,"undefined"==typeof DeactivateParams?Object:DeactivateParams]),(0,s.__metadata)("design:returntype",Promise)],g.prototype,"deactivate",null),(0,s.__decorate)([_.action,(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",["undefined"==typeof Identity?Object:Identity,"undefined"==typeof IAudioEntityToggleActionToggleParams?Object:IAudioEntityToggleActionToggleParams,Boolean]),(0,s.__metadata)("design:returntype",Promise)],g.prototype,"toggle",null),(0,s.__decorate)([_.action,(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",["undefined"==typeof Identity?Object:Identity,Boolean]),(0,s.__metadata)("design:returntype",void 0)],g.prototype,"setState",null),(0,s.__decorate)([_.action,(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",["undefined"==typeof Identity?Object:Identity,"undefined"==typeof ActivateParams?Object:ActivateParams]),(0,s.__metadata)("design:returntype",Promise)],g.prototype,"forceActivate",null),(0,s.__decorate)([_.action,(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",["undefined"==typeof Identity?Object:Identity,"undefined"==typeof DeactivateParams?Object:DeactivateParams]),(0,s.__metadata)("design:returntype",Promise)],g.prototype,"forceDeactivate",null)},329286:(e,t,r)=>{"use strict";r.d(t,{MusicLyricsService:()=>u});var n=r(331635),a=r(327813),s=r(132028),_=r(346675),c=r(503234),l=r(582170);class u{get(e){const t=this.hasLyrics(e);return t?this.lyricsCache.get(e):!1===t?null:void 0}hasLyrics(e){return this.hasLyricsCache.get(e)}async ensure(e){const t=this.get(e);if(t||null===t)return t;const r=await this.fetch(e);return this.setLyrics(e,r),r}setHasLyrics(e,t){this.hasLyricsCache.set(e,t)}async fetch(e){const t=await this.api.getLyrics({audio_id:e.accessRawId});return(0,c.toMusicLyricsData)(t)}setLyrics(e,t){this.lyricsCache.set(e,t),this.setHasLyrics(e,!!t)}constructor(e){this.api=e;const t=(0,l.ensureStuffing)();this.lyricsCache=t.lyricsCache,this.hasLyricsCache=t.hasLyricsCache,(0,a.makeAutoObservable)(this)}}u=(0,n.__decorate)([s.scope.container(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[void 0===_.AudioApi?Object:_.AudioApi])],u)},582170:(e,t,r)=>{"use strict";r.d(t,{ensureStuffing:()=>s});var n=r(558137),a=r(70916);function s(){const e=(0,n.makeSharedState)("domains/audio/MusicLyricsService/stuffing",(()=>({})),{version:1})();return e.current||(e.current={lyricsCache:new a.ObservableIdentityMap,hasLyricsCache:new a.ObservableIdentityMap}),e.current}},503234:(e,t,r)=>{"use strict";function n(e){return e.lyrics?.timestamps?{kind:"karaoke",karaoke:e.lyrics.timestamps.map((e=>({begin:e.begin,end:e.end,text:e.line??null})))}:e.lyrics?.text?{kind:"text",text:e.lyrics.text}:null}r.d(t,{toMusicLyricsData:()=>n})},41102:(e,t,r)=>{"use strict";r.d(t,{MusicAudioOwningService:()=>R});var n=r(434518),a=r(763812),s=r(331635),_=r(327813),c=r(70916),l=r(74270),u=r(558137),d=r(70148),p=r(467585),E=(0,a._)("_ownerId"),m=(0,a._)("_authService"),g=(0,a._)("_emitter"),A=(0,a._)("_targets"),f=(0,a._)("_sources"),I=(0,a._)("_deletedTargets"),y=(0,a._)("_pendingIdentities");class R{get ownerId(){return"currentUser"===(0,n._)(this,E)[E]?(0,n._)(this,m)[m].userId??0:(0,n._)(this,E)[E]}get events(){return(0,n._)(this,g)[g].listenable}has(e){const t=this.getTarget(e);return!(!t||(0,n._)(this,I)[I].has(t))}getTarget(e){return this.isOwned(e)?e:(0,n._)(this,A)[A].get(e)}getSource(e){return(0,n._)(this,f)[f].get(e)}isOwned(e){return this.ownerId===e.ownerId}isDeleted(e){const t=this.getTarget(e);return!!t&&(0,n._)(this,I)[I].has(t)}checkPending(e){return(0,n._)(this,y)[y].has(this.getPendingIdentity(e))}async add(e,t){if(this.assertIsNotOwnedSource(e),this.assertWriteAllowed(),!t.force){const r=this.getTarget(e);if(r)try{return await this.restore(r,t),r}catch{}}this.markPending(e);const{trackCode:r}=t;let a;try{(0,n._)(this,g)[g].emit("add",{source:e,trackCode:r,params:t});const{newAudioId:s}=await this.requestAdd(e,r);if(null==s)throw new Error("Missing audio ID in response from audio.add api method");a=this.createIdentity(s),this.setCache(e,a),(0,n._)(this,g)[g].emit("added",{source:e,target:a,trackCode:r,params:t})}finally{this.unmarkPending(e)}return a}async delete(e,t){const r=this.getTarget(e);this.assertIsOwnedTarget(r),this.assertWriteAllowed(),this.markPending(r),(0,n._)(this,g)[g].emit("delete",{target:r,params:t??{}}),this.markAsDeleted(r);try{await this.api.delete({audio_id:r.id,owner_id:r.ownerId},{version:"5.251"}),(0,n._)(this,g)[g].emit("deleted",{target:r,params:t??{}})}catch(e){throw this.unmarkAsDeleted(r),e}finally{this.unmarkPending(r)}}async restore(e,t){const r=this.getTarget(e);this.assertIsOwnedTarget(r),this.assertWriteAllowed(),this.markPending(r),(0,n._)(this,g)[g].emit("restore",{target:r,params:t??{}}),this.unmarkAsDeleted(r);try{await this.api.restore({audio_id:r.id,owner_id:r.ownerId}),(0,n._)(this,g)[g].emit("restored",{target:r,params:t??{}})}catch(e){if(e?.error?.error_code===p.AudioApiRestoreErrorCode.Expired){const e=this.getSource(r);e&&this.deleteCache(e)}throw e}finally{this.unmarkPending(r)}}assertWriteAllowed(){(0,n._)(this,m)[m].assertAuthorized()}setCache(e,t){(0,n._)(this,A)[A].set(e,t),(0,n._)(this,f)[f].set(t,e),this.unmarkAsDeleted(t)}deleteCache(e){const t=(0,n._)(this,A)[A].get(e);t&&((0,n._)(this,A)[A].delete(e),(0,n._)(this,f)[f].delete(t),this.unmarkAsDeleted(t))}markPending(e){(0,n._)(this,y)[y].add(this.getPendingIdentity(e))}unmarkPending(e){(0,n._)(this,y)[y].delete(this.getPendingIdentity(e))}markAsDeleted(e){(0,n._)(this,I)[I].add(e)}unmarkAsDeleted(e){(0,n._)(this,I)[I].delete(e)}createIdentity(e){return new d.OwnedIdentity({id:e,ownerId:this.ownerId})}assertIsOwnedTarget(e){if(!e||e.ownerId!==this.ownerId)throw new Error("Target identity is not owned")}assertIsNotOwnedSource(e){if(!e||e.ownerId===this.ownerId)throw new Error("Source identity is owned")}getPendingIdentity(e){return this.getTarget(e)??e}constructor(e){Object.defineProperty(this,E,{writable:!0,value:void 0}),Object.defineProperty(this,m,{writable:!0,value:void 0}),Object.defineProperty(this,g,{writable:!0,value:void 0}),Object.defineProperty(this,A,{writable:!0,value:void 0}),Object.defineProperty(this,f,{writable:!0,value:void 0}),Object.defineProperty(this,I,{writable:!0,value:void 0}),Object.defineProperty(this,y,{writable:!0,value:void 0});const t=function({sharedStateConfig:e,emitterFactory:t}){if(!e)return O(t);const{key:r,version:n}=e,a=(0,u.makeSharedState)(r,(()=>({})),{version:n})();a.current||(a.current=O(t));return a.current}(e);(0,n._)(this,E)[E]=e.ownerId,(0,n._)(this,m)[m]=e.authService,this.api=e.api,(0,n._)(this,g)[g]=t.emitter,(0,n._)(this,A)[A]=t.targets,(0,n._)(this,f)[f]=t.sources,(0,n._)(this,I)[I]=t.deletedTargets,(0,n._)(this,y)[y]=t.pendingIdentities,(0,_.makeObservable)(this)}}function O(e){return{emitter:e.create(),targets:new c.ObservableIdentityMap,sources:new c.ObservableIdentityMap,deletedTargets:new l.ObservableIdentitySet,pendingIdentities:new l.ObservableIdentitySet}}(0,s.__decorate)([_.computed,(0,s.__metadata)("design:type",void 0),(0,s.__metadata)("design:paramtypes",[])],R.prototype,"ownerId",null),(0,s.__decorate)([_.action,(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",["undefined"==typeof IMusicAudioIdentity?Object:IMusicAudioIdentity,"undefined"==typeof IMusicAudioIdentity?Object:IMusicAudioIdentity]),(0,s.__metadata)("design:returntype",void 0)],R.prototype,"setCache",null),(0,s.__decorate)([_.action,(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",["undefined"==typeof IMusicAudioIdentity?Object:IMusicAudioIdentity]),(0,s.__metadata)("design:returntype",void 0)],R.prototype,"deleteCache",null),(0,s.__decorate)([_.action,(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",["undefined"==typeof IMusicAudioIdentity?Object:IMusicAudioIdentity]),(0,s.__metadata)("design:returntype",void 0)],R.prototype,"markPending",null),(0,s.__decorate)([_.action,(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",["undefined"==typeof IMusicAudioIdentity?Object:IMusicAudioIdentity]),(0,s.__metadata)("design:returntype",void 0)],R.prototype,"unmarkPending",null),(0,s.__decorate)([_.action,(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",["undefined"==typeof IMusicAudioIdentity?Object:IMusicAudioIdentity]),(0,s.__metadata)("design:returntype",void 0)],R.prototype,"markAsDeleted",null),(0,s.__decorate)([_.action,(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",["undefined"==typeof IMusicAudioIdentity?Object:IMusicAudioIdentity]),(0,s.__metadata)("design:returntype",void 0)],R.prototype,"unmarkAsDeleted",null)},467585:(e,t,r)=>{"use strict";r.d(t,{AudioApiRestoreErrorCode:()=>n});var n=function(e){return e[e.Expired=15]="Expired",e}({})},775182:(e,t,r)=>{"use strict";r.d(t,{CopyableMusicPlaylistsTypes:()=>d,DeletableMusicPlaylistsTypes:()=>p,EditableMusicPlaylistsTypes:()=>c,FollowableMusicPlaylistsTypes:()=>l,MusicPlaylistSubtype:()=>a,MusicPlaylistSubtypeCode:()=>s,MusicPlaylistsTypes:()=>_,ShareableMusicPlaylistsTypes:()=>u});var n=r(568952),a=function(e){return e.NoAlbum="NO_ALBUM",e.Album="ALBUM",e.EP="EP",e.Collection="COLLECTION",e.Single="SINGLE",e.Chat="CHAT",e}({});const s={NO_ALBUM:0,ALBUM:1,EP:2,COLLECTION:3,SINGLE:4,CHAT:5},_=[n.AudioListType.MusicAlbumPlaylist,n.AudioListType.MusicGeneratedPlaylist,n.AudioListType.MusicUGCGroupPlaylist,n.AudioListType.MusicUGCUserPlaylist,n.AudioListType.MusicChatPlaylist,n.AudioListType.MyMusicPlaylist],c=[n.AudioListType.MyMusicPlaylist],l=[n.AudioListType.MusicAlbumPlaylist,n.AudioListType.MusicUGCGroupPlaylist,n.AudioListType.MusicUGCUserPlaylist,n.AudioListType.MusicChatPlaylist],u=[n.AudioListType.MusicAlbumPlaylist,n.AudioListType.MusicUGCGroupPlaylist,n.AudioListType.MusicUGCUserPlaylist,n.AudioListType.MusicChatPlaylist,n.AudioListType.MyMusicPlaylist],d=[n.AudioListType.MusicGeneratedPlaylist],p=[n.AudioListType.MyMusicPlaylist]},631027:(e,t,r)=>{"use strict";r.d(t,{isSpecificMusicPlaylist:()=>a});var n=r(775182);function a(e,t){return t?Array.isArray(t)?t.includes(e.type):e.type===t:n.MusicPlaylistsTypes.includes(e.type)}},826338:(e,t,r)=>{"use strict";function n(e){const{id:t,owner_id:r,access_key:n}=e;return{id:t,ownerId:r,accessKey:n}}function a(e){const{playlist_id:t,owner_id:r,access_key:n}=e;return{id:t,ownerId:r,accessKey:n}}r.d(t,{toMusicPlaylistIdentityData:()=>n,toSpecificVersionMusicPlaylistIdentityData:()=>a})},246855:(e,t,r)=>{"use strict";r.d(t,{MusicDislikeDeactivateReason:()=>n});var n=function(e){return e.MyMusic="MyMusic",e}({})},824501:(e,t,r)=>{"use strict";r.d(t,{MusicService:()=>M});var n=r(434518),a=r(763812),s=r(331635),_=r(132028),c=r(74270),l=r(481120),u=r(495488),d=r(447044),p=r(685434),E=r(329286),m=r(101325),g=r(538093),A=r(58314),f=r(246855),I=r(139845),y=(0,a._)("_myMusic"),R=(0,a._)("_dislikes"),O=(0,a._)("_groupMusicServices"),S=(0,a._)("_playlistsFollowing"),T=(0,a._)("_lyrics"),P=(0,a._)("_playlistItemsServices"),b=(0,a._)("_playlistEditingServices"),C=(0,a._)("_userPermissions"),D=(0,a._)("_connectLikeEvents");class M{get myMusic(){return(0,n._)(this,y)[y]}get dislikes(){return(0,n._)(this,R)[R]}get groupMusicServices(){return(0,n._)(this,O)[O]}get playlistsFollowing(){return(0,n._)(this,S)[S]}get lyrics(){return(0,n._)(this,T)[T]}get playlistItemsServices(){return(0,n._)(this,P)[P]}get playlistEditingServices(){return(0,n._)(this,b)[b]}get userPermissions(){return(0,n._)(this,C)[C]}constructor(e,t,r,a,s,_,c,l){Object.defineProperty(this,D,{value:L}),Object.defineProperty(this,y,{writable:!0,value:void 0}),Object.defineProperty(this,R,{writable:!0,value:void 0}),Object.defineProperty(this,O,{writable:!0,value:void 0}),Object.defineProperty(this,S,{writable:!0,value:void 0}),Object.defineProperty(this,T,{writable:!0,value:void 0}),Object.defineProperty(this,P,{writable:!0,value:void 0}),Object.defineProperty(this,b,{writable:!0,value:void 0}),Object.defineProperty(this,C,{writable:!0,value:void 0}),(0,n._)(this,y)[y]=e,(0,n._)(this,R)[R]=t,(0,n._)(this,O)[O]=r,(0,n._)(this,S)[S]=a,(0,n._)(this,T)[T]=c,(0,n._)(this,P)[P]=s,(0,n._)(this,b)[b]=_,(0,n._)(this,C)[C]=l,(0,n._)(this,D)[D]()}}function L(){const{myMusic:e,dislikes:t}=this,r=new c.ObservableIdentitySet;e.events.on("add",(({source:e})=>{t.state.has(e)&&t.deactivate(e,{reason:f.MusicDislikeDeactivateReason.MyMusic})})),e.events.on("restore",(({target:e})=>{t.state.has(e)&&t.deactivate(e,{reason:f.MusicDislikeDeactivateReason.MyMusic})})),t.events.on("activateRequested",(({identity:t})=>{e.has(t)&&e.delete(t,{reason:I.MyMusicDeleteReason.Dislike})})),t.events.on("deactivate",(({identity:t,params:{reason:n}})=>{n!==f.MusicDislikeDeactivateReason.MyMusic&&r.has(t)&&e.restore(t)})),e.events.on("deleted",(({target:e,params:t})=>{t.reason===I.MyMusicDeleteReason.Dislike&&r.add(e)})),e.events.on("restored",(({target:e})=>{r.delete(e)}))}M=(0,s.__decorate)([_.scope.global(),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[void 0===u.MyMusicService?Object:u.MyMusicService,void 0===d.MusicDislikesService?Object:d.MusicDislikesService,void 0===l.GroupMusicServices?Object:l.GroupMusicServices,void 0===p.MusicPlaylistFollowingService?Object:p.MusicPlaylistFollowingService,void 0===m.MusicPlaylistItemsServices?Object:m.MusicPlaylistItemsServices,void 0===g.MusicPlaylistEditingServices?Object:g.MusicPlaylistEditingServices,void 0===E.MusicLyricsService?Object:E.MusicLyricsService,void 0===A.MusicUserPermissionsService?Object:A.MusicUserPermissionsService])],M)},139845:(e,t,r)=>{"use strict";r.d(t,{MyMusicDeleteReason:()=>n});var n=function(e){return e.Dislike="Dislike",e}({})},725377:(e,t,r)=>{"use strict";r.d(t,{GroupMusicService:()=>c});var n=r(331635),a=r(327813),s=r(468073),_=r(41102);class c extends _.MusicAudioOwningService{get groupId(){return s.Ranges.convertOwnerIdToGroupId(this.ownerId)}async requestAdd(e,t){const r=await this.api.add({audio_id:e.id,owner_id:e.ownerId,access_key:e.accessKey,group_id:this.groupId,track_code:t},{version:"5.251"});return{newAudioId:r.items?.[0]?.new_audio_id}}constructor(e){const{groupId:t}=e;if(t<1)throw new Error("[GroupMusicServices] groupId is not group id");super({ownerId:s.Ranges.convertGroupIdToOwnerId(t),api:e.api,authService:e.authService,emitterFactory:e.emitterFactory,sharedStateConfig:{key:`domains/audio/GroupsMusicService/${t}/stuffing`,version:1}}),(0,a.makeObservable)(this)}}(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],c.prototype,"groupId",null)},481120:(e,t,r)=>{"use strict";r.d(t,{GroupMusicServices:()=>d});var n=r(331635),a=r(327813),s=r(132028),_=r(346675),c=r(951652),l=r(26530),u=r(725377);class d{get(e){let t=this.services.get(e);return t||(t=this.create(e),this.services.set(e,t)),t}create(e){return new u.GroupMusicService({groupId:e,api:this.api,authService:this.authService,emitterFactory:this.emitterFactory})}constructor(e,t,r){this.api=e,this.authService=t,this.emitterFactory=r,this.services=new Map,(0,a.makeAutoObservable)(this)}}d=(0,n.__decorate)([s.scope.global(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[void 0===_.AudioApi?Object:_.AudioApi,void 0===c.AuthService?Object:c.AuthService,void 0===l.EmitterFactory?Object:l.EmitterFactory])],d)},447044:(e,t,r)=>{"use strict";r.d(t,{MusicDislikesService:()=>u});var n=r(331635),a=r(132028),s=r(26530),_=r(951652),c=r(346675),l=r(841376);class u extends l.AudioEntityToggleService{assertRequestsAllowed(){this.authService.ensureUserId()}async requestActivate(e){const t=this.api.addDislike({audio_ids:e.rawId});this.emitter.emit("activateRequested",{identity:e,params:void 0}),await t}async requestDeactivate(e){await this.api.removeDislike({audio_ids:e.rawId})}constructor(e,t,r){super(e,{sharedStateConfig:{key:"domains/audio/MusicDislikesService/stuffing",version:1}}),this.authService=t,this.api=r}}u=(0,n.__decorate)([a.scope.global(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[void 0===s.EmitterFactory?Object:s.EmitterFactory,void 0===_.AuthService?Object:_.AuthService,void 0===c.AudioApi?Object:c.AudioApi])],u)},373651:(e,t,r)=>{"use strict";r.d(t,{MusicPlaylistEditingService:()=>A});var n=r(434518),a=r(763812),s=r(331635),_=r(327813),c=r(388807),l=r(462223),u=(0,a._)("_identity"),d=(0,a._)("_authService"),p=(0,a._)("_audioApi"),E=(0,a._)("_errorLogger"),m=(0,a._)("_emitter"),g=(0,a._)("_assertWriteAllowed");class A{get events(){return(0,n._)(this,m)[m].listenable}get isWriting(){return this._isWriting}get state(){return{isDiscoverable:this._isDiscoverable}}async edit({isDiscoverable:e=!1}){if((0,n._)(this,g)[g](),e===this.state.isDiscoverable)return this.state;try{return this.markWriting(),await(0,n._)(this,p)[p].editPlaylist({playlist_id:(0,n._)(this,u)[u].id,owner_id:(0,n._)(this,u)[u].ownerId,no_discover:e?0:1}),(0,_.runInAction)((()=>{this._isDiscoverable=e})),(0,n._)(this,m)[m].emit("edit",{state:this.state}),this.state}catch(e){throw(0,n._)(this,E)[E].log(e),c.AudioError.fromUnknownError(e)}finally{this.unmarkWriting()}}setState(e){void 0!==e.isDiscoverable&&(this._isDiscoverable=e.isDiscoverable)}markWriting(){this._isWriting=!0}unmarkWriting(){this._isWriting=!1}constructor(e){Object.defineProperty(this,g,{value:f}),Object.defineProperty(this,u,{writable:!0,value:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:void 0}),Object.defineProperty(this,E,{writable:!0,value:void 0}),Object.defineProperty(this,m,{writable:!0,value:void 0}),this._isWriting=!1,this._isDiscoverable=!1,(0,n._)(this,u)[u]=e.identity,(0,n._)(this,d)[d]=e.authService,(0,n._)(this,p)[p]=e.audioApi,(0,n._)(this,E)[E]=e.errorLogger;const t=(0,l.ensureStuffing)({identity:e.identity,emitterFactory:e.emitterFactory});(0,n._)(this,m)[m]=t.emitter,(0,_.makeObservable)(this)}}function f(){(0,n._)(this,d)[d].assertAuthorized()}(0,s.__decorate)([_.observable],A.prototype,"_isWriting",void 0),(0,s.__decorate)([_.observable],A.prototype,"_isDiscoverable",void 0),(0,s.__decorate)([_.computed,(0,s.__metadata)("design:type",void 0),(0,s.__metadata)("design:paramtypes",[])],A.prototype,"isWriting",null),(0,s.__decorate)([_.computed,(0,s.__metadata)("design:type","undefined"==typeof IMusicPlaylistEditingServiceState?Object:IMusicPlaylistEditingServiceState),(0,s.__metadata)("design:paramtypes",[])],A.prototype,"state",null),(0,s.__decorate)([_.action,(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",["undefined"==typeof IMusicPlaylistEditingServiceStateData?Object:IMusicPlaylistEditingServiceStateData]),(0,s.__metadata)("design:returntype",Promise)],A.prototype,"edit",null),(0,s.__decorate)([_.action,(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",["undefined"==typeof IMusicPlaylistEditingServiceStateData?Object:IMusicPlaylistEditingServiceStateData]),(0,s.__metadata)("design:returntype",void 0)],A.prototype,"setState",null),(0,s.__decorate)([_.action,(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[]),(0,s.__metadata)("design:returntype",void 0)],A.prototype,"markWriting",null),(0,s.__decorate)([_.action,(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[]),(0,s.__metadata)("design:returntype",void 0)],A.prototype,"unmarkWriting",null)},462223:(e,t,r)=>{"use strict";r.d(t,{ensureStuffing:()=>a});var n=r(558137);function a({identity:e,emitterFactory:t}){const r=(0,n.makeSharedState)(`domains/audio/IMusicPlaylistEditing/${e.fullId}/stuffing`,(()=>({})),{version:1})();return r.current||(r.current=function(e){return{emitter:e.create()}}(t)),r.current}},538093:(e,t,r)=>{"use strict";r.d(t,{MusicPlaylistEditingServices:()=>E});var n=r(331635),a=r(132028),s=r(346675),_=r(951652),c=r(26530),l=r(955060),u=r(373651),d=r(214980),p=r(327813);class E{provide(e){const t=this.entities.get(e);return t||this.createCached(e)}createCached(e){const t=this.create(e);return this.entities.set(e,t),t}create(e){const{audioApi:t,authService:r,emitterFactory:n,errorLogger:a}=this;return new u.MusicPlaylistEditingService({identity:e,audioApi:t,authService:r,emitterFactory:n,errorLogger:a})}constructor(e,t,r,n){this.audioApi=e,this.authService=t,this.emitterFactory=r,this.errorLogger=n,this.entities=(0,d.ensureStuffing)().entities,(0,p.makeObservable)(this)}}(0,n.__decorate)([p.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof IMusicPlaylistIdentity?Object:IMusicPlaylistIdentity]),(0,n.__metadata)("design:returntype","undefined"==typeof IMusicPlaylistEditingService?Object:IMusicPlaylistEditingService)],E.prototype,"provide",null),(0,n.__decorate)([p.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof IMusicPlaylistIdentity?Object:IMusicPlaylistIdentity]),(0,n.__metadata)("design:returntype","undefined"==typeof IMusicPlaylistEditingService?Object:IMusicPlaylistEditingService)],E.prototype,"createCached",null),E=(0,n.__decorate)([a.scope.global(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[void 0===s.AudioApi?Object:s.AudioApi,void 0===_.AuthService?Object:_.AuthService,void 0===c.EmitterFactory?Object:c.EmitterFactory,void 0===l.ErrorLogger?Object:l.ErrorLogger])],E)},214980:(e,t,r)=>{"use strict";r.d(t,{ensureStuffing:()=>s});var n=r(558137),a=r(70916);function s(){const e=(0,n.makeSharedState)("domains/audio/MusicPlaylistEditingServices/stuffing",(()=>({})),{version:1})();return e.current||(e.current={entities:new a.ObservableIdentityMap}),e.current}},685434:(e,t,r)=>{"use strict";r.d(t,{MusicPlaylistFollowingService:()=>p});var n=r(331635),a=r(327813),s=r(132028),_=r(951652),c=r(346675),l=r(26530),u=r(70148),d=r(214495);class p{get events(){return this.emitter.listenable}has(e){return!!this.getFollowedIdentity(e)}getFollowedIdentity(e){return this.targets.get(e)}getOriginalIdentity(e){return this.sources.get(e)}isUnfollowed(e){return this.unfollowedTargets.has(e)}getUnfollowedTargets(e){return this.unfollowedTargets.get(e)}isFollowed(e){return this.currentUserId===e.ownerId?!!this.getOriginalIdentity(e):!!this.getFollowedIdentity(e)}checkPending(e){return this.pendingIdentities.has(e)}async follow(e,t){const{ref:r}=t;let n;this.assertIsNotMineSource(e),this.assertWriteAllowed(),this.markPending(e);try{this.emitter.emit("follow",{originalIdentity:e,ref:r});const t=await this.api.followPlaylist({playlist_id:e.id,owner_id:e.ownerId,access_key:e.accessKey,ref:r??void 0});n=new u.OwnedIdentity({id:t.playlist_id,ownerId:t.owner_id,accessKey:t.access_key}),this.setCache(e,n)}finally{this.unmarkPending(e)}return this.emitter.emit("followed",{originalIdentity:e,followedIdentity:n,ref:r}),n}async unfollow(e){this.assertWriteAllowed(),this.assertIsMineTarget(e);const t=this.getOriginalIdentity(e)??null;this.markPending(e),this.emitter.emit("unfollow",{followedIdentity:e,originalIdentity:t});try{await this.api.deletePlaylist({playlist_id:e.id,owner_id:e.ownerId}),this.markUnfollowed(e),this.deleteCache(e)}finally{this.unmarkPending(e)}this.emitter.emit("unfollowed",{followedIdentity:e,originalIdentity:t})}markUnfollowed(e){const t=this.getOriginalIdentity(e)??null;if(!t)return;this.provideUnfollowedSources(t).add(e)}provideUnfollowedSources(e){let t=this.unfollowedTargets.get(e);return t||(t=new Set,this.unfollowedTargets.set(e,t),t)}setCache(e,t){t.ownerId===this.currentUserId&&(this.targets.set(e,t),this.sources.set(t,e))}deleteCache(e){const t=this.getOriginalIdentity(e);t&&this.targets.delete(t),this.sources.delete(e)}assertWriteAllowed(){this.authService.assertAuthorized()}get currentUserId(){return this.authService.userId??0}markPending(e){this.pendingIdentities.add(e)}unmarkPending(e){this.pendingIdentities.delete(e)}assertIsMineTarget(e){if(!e||e.ownerId!==this.currentUserId)throw new Error("Target identity is not mine")}assertIsNotMineSource(e){if(!e||e.ownerId===this.currentUserId)throw new Error("Source identity is mine")}constructor(e,t,r){this.authService=e,this.api=t;const n=(0,d.ensureStuffing)(r);this.emitter=n.emitter,this.targets=n.targets,this.sources=n.sources,this.unfollowedTargets=n.unfollowedTargets,this.pendingIdentities=n.pendingIdentities,(0,a.makeObservable)(this)}}(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof IMusicPlaylistIdentity?Object:IMusicPlaylistIdentity,"undefined"==typeof IMusicPlaylistFollowingServiceFollowParams?Object:IMusicPlaylistFollowingServiceFollowParams]),(0,n.__metadata)("design:returntype",Promise)],p.prototype,"follow",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof IMusicPlaylistIdentity?Object:IMusicPlaylistIdentity]),(0,n.__metadata)("design:returntype",Promise)],p.prototype,"unfollow",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof IMusicPlaylistIdentity?Object:IMusicPlaylistIdentity]),(0,n.__metadata)("design:returntype",void 0)],p.prototype,"markUnfollowed",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof IMusicPlaylistIdentity?Object:IMusicPlaylistIdentity]),(0,n.__metadata)("design:returntype","undefined"==typeof Set?Object:Set)],p.prototype,"provideUnfollowedSources",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof IMusicPlaylistIdentity?Object:IMusicPlaylistIdentity,"undefined"==typeof IMusicPlaylistIdentity?Object:IMusicPlaylistIdentity]),(0,n.__metadata)("design:returntype",void 0)],p.prototype,"setCache",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof IMusicPlaylistIdentity?Object:IMusicPlaylistIdentity]),(0,n.__metadata)("design:returntype",void 0)],p.prototype,"deleteCache",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],p.prototype,"currentUserId",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof IMusicPlaylistIdentity?Object:IMusicPlaylistIdentity]),(0,n.__metadata)("design:returntype",void 0)],p.prototype,"markPending",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof IMusicPlaylistIdentity?Object:IMusicPlaylistIdentity]),(0,n.__metadata)("design:returntype",void 0)],p.prototype,"unmarkPending",null),p=(0,n.__decorate)([s.scope.global(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[void 0===_.AuthService?Object:_.AuthService,void 0===c.AudioApi?Object:c.AudioApi,void 0===l.EmitterFactory?Object:l.EmitterFactory])],p)},214495:(e,t,r)=>{"use strict";r.d(t,{ensureStuffing:()=>_});var n=r(558137),a=r(70916),s=r(74270);function _(e){const t=(0,n.makeSharedState)("domains/audio/MusicPlaylistFollowingService/stuffing",(()=>({})),{version:2})();return t.current||(t.current=function(e){return{emitter:e.create(),targets:new a.ObservableIdentityMap,sources:new a.ObservableIdentityMap,unfollowedTargets:new a.ObservableIdentityMap,pendingIdentities:new s.ObservableIdentitySet}}(e)),t.current}},913130:(e,t,r)=>{"use strict";r.d(t,{MusicPlaylistItemsService:()=>u});var n=r(327813),a=r(70916),s=r(70148),_=r(391751),c=r(768035),l=r(922224);class u{get isInitialized(){return this._isInitialized}get hasFetching(){return this._hasFetching}get togglingEvents(){return this.emitter.listenable}has(e){return this.targets.has(e)||this.sources.has(e)}checkToggling(e){return this.togglingIdentities.has(e)}async toggle(e,t){const r=void 0!==t?t:!this.has(e);await this[r?"add":"remove"](e)}async add(e){let t;this.assertWriteAllowed(),this.assertIsInitialized(),this.assertIsNotOwnedTarget(e);try{this.markToggling(e);const r=await this.api.addToPlaylist({playlist_id:this.identity.id,owner_id:this.identity.ownerId,audio_ids:e.accessRawId}),a=r[0]?.audio_id,_=r[0]?.track_code;if(null==a||!_)throw this.logError("Missing audio ID or tracking data in response from audio.addToPlaylist api method");t=new s.OwnedIdentity({id:a,ownerId:this.identity.ownerId});const c={identity:t,trackCode:_??""};return(0,n.runInAction)((()=>{this.addToCache(e,c)})),c}finally{this.unmarkToggling(e)}}async remove(e){const t=this.sources.get(e)??e,r=this.targets.get(e);this.assertWriteAllowed(),this.assertIsInitialized(),this.assertIsOwnedTarget(r);const{id:a,ownerId:s}=this.identity;try{this.markToggling(e),await this.api.removeFromPlaylist({playlist_id:a,owner_id:s,audio_ids:r.accessRawId}),(0,n.runInAction)((()=>{this.removeFromCache(t,r)}))}finally{this.unmarkToggling(e)}}async ensure(){return this.isInitialized?this.items:this.fetch()}async fetch(){try{this.markFetching(),this.clearCache();const{audios:e}=await this.api.getAudioIdsBySource({source:"playlist",entity_id:this.identity.accessRawId,ref:this.context.ref??void 0});return(0,n.runInAction)((()=>{this.addItemsFromApi(e),this._isInitialized=!0})),this.items}catch(e){throw this.logError("Error when trying to initialize items in a music playlist",e)}finally{this.unmarkFetching()}}addItemsFromApi(e){const t=new a.ObservableIdentityMap(this.sources);for(const r of e){const e=u.createItemIdentityFromApi(r);if(!e)break;const n={identity:e,trackCode:r.track_code},a=n.identity,s=t.get(a)??a;this.addToCache(s,n)}return this.items}addToCache(e,t){this.targets.set(e,t.identity),this.sources.set(t.identity,e);this.items.some((e=>(0,_.compareIdentities)(e.identity,t.identity)))||this.items.push(t)}removeFromCache(e,t){this.targets.delete(e),this.sources.delete(t);const r=this.items.findIndex((e=>(0,_.compareIdentities)(e.identity,t)));r>=0&&this.items.splice(r,1)}clearCache(){this.sources.clear(),this.targets.clear(),this.items.length=0}markFetching(){this._hasFetching=!0}unmarkFetching(){this._hasFetching=!1}markToggling(e){this.togglingIdentities.add(e)}unmarkToggling(e){this.togglingIdentities.delete(e)}assertWriteAllowed(){this.authService.assertAuthorized()}assertIsInitialized(){if(!this.isInitialized)throw this.logError("Music playlist are not initialized")}assertIsNotOwnedTarget(e){if(!e||this.has(e))throw this.logError("Target identity are already in playlist")}assertIsOwnedTarget(e){if(!e||!this.has(e))throw this.logError("Target identity is not in playlist")}logError(e,t){const r=new Error(e,{cause:t});return this.errorLogger.log(r),r}static createItemIdentityFromApi({audio_id:e}){try{return new s.OwnedIdentity((0,c.parseRawId)(e))}catch(e){return console.error("Invalid audio rawId"),null}}constructor({identity:e,context:t,api:r,authService:a,emitterFactory:s,errorLogger:_}){this.items=[],this._isInitialized=!1,this._hasFetching=!1,this.identity=e,this.context=t,this.api=r,this.authService=a,this.errorLogger=_;const c=(0,l.ensureStuffing)({identity:e,context:t,emitterFactory:s});this.emitter=c.emitter,this.targets=c.targets,this.sources=c.sources,this.togglingIdentities=c.pendingIdentities,(0,n.makeAutoObservable)(this)}}},922224:(e,t,r)=>{"use strict";r.d(t,{ensureStuffing:()=>_});var n=r(558137),a=r(70916),s=r(74270);function _({identity:e,context:t,emitterFactory:r}){const _=(0,n.makeSharedState)(`domains/audio/IMusicPlaylistItemsService/${e.fullId}/${t.ref}/stuffing`,(()=>({})),{version:1})();return _.current||(_.current=function(e){return{emitter:e.create(),sources:new a.ObservableIdentityMap,targets:new a.ObservableIdentityMap,pendingIdentities:new s.ObservableIdentitySet}}(r)),_.current}},101325:(e,t,r)=>{"use strict";r.d(t,{MusicPlaylistItemsServices:()=>E});var n=r(331635),a=r(327813),s=r(132028),_=r(346675),c=r(951652),l=r(26530),u=r(955060),d=r(913130),p=r(811207);class E{provide(e,t){const{getContextKey:r}=E;let n=this.provideContextMap(e).get(r(t));return n||this.createCached(e,t)}createCached(e,t){const{getContextKey:r}=E,n=this.provideContextMap(e),a=this.create(e,t);return n.set(r(t),a),a}create(e,t){const{api:r,authService:n,emitterFactory:a,errorLogger:s}=this;return new d.MusicPlaylistItemsService({identity:e,context:t,api:r,authService:n,emitterFactory:a,errorLogger:s})}provideContextMap(e){let t=this.entities.get(e);return t||(t=(0,a.observable)(new Map),this.entities.set(e,t)),t}static getContextKey(e){return e.ref}constructor(e,t,r,n){this.api=e,this.authService=t,this.emitterFactory=r,this.errorLogger=n,this.entities=(0,p.ensureStuffing)().entities,(0,a.makeAutoObservable)(this)}}E=(0,n.__decorate)([s.scope.global(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[void 0===_.AudioApi?Object:_.AudioApi,void 0===c.AuthService?Object:c.AuthService,void 0===l.EmitterFactory?Object:l.EmitterFactory,void 0===u.ErrorLogger?Object:u.ErrorLogger])],E)},811207:(e,t,r)=>{"use strict";r.d(t,{ensureStuffing:()=>s});var n=r(558137),a=r(70916);function s(){const e=(0,n.makeSharedState)("domains/audio/MusicPlaylistItemsServices/stuffing",(()=>({})),{version:1})();return e.current||(e.current={entities:new a.ObservableIdentityMap}),e.current}},58314:(e,t,r)=>{"use strict";r.d(t,{MusicUserPermissionsService:()=>E});var n=r(434518),a=r(763812),s=r(331635),_=r(327813),c=r(132028),l=r(21632),u=r(951652),d=(0,a._)("_updating"),p=(0,a._)("_update");class E{async ensure(){return this.permissions?this.permissions:((0,n._)(this,d)[d]||((0,n._)(this,d)[d]=(0,n._)(this,p)[p]().finally((()=>{(0,n._)(this,d)[d]=null}))),(0,n._)(this,d)[d])}setPermissions(e){this.permissions=e}constructor(e,t){Object.defineProperty(this,p,{value:m}),Object.defineProperty(this,d,{writable:!0,value:void 0}),this.accountApi=e,this.authService=t,this.permissions=null,(0,n._)(this,d)[d]=null,(0,_.makeObservable)(this)}}async function m(){if(!this.authService.isAuthorized)return{viewAudioMetaInfo:!1};const e=(await this.accountApi.getInfo({fields:"audio_permissions"})).audio_permissions;if(!e)throw new Error("account.getInfo has not returned audio_permissions");const t={viewAudioMetaInfo:e.audio_meta_info??!1};return this.setPermissions(t),t}(0,s.__decorate)([_.observable.ref,(0,s.__metadata)("design:type",Object)],E.prototype,"permissions",void 0),(0,s.__decorate)([_.action,(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",["undefined"==typeof IMusicUserPermissions?Object:IMusicUserPermissions]),(0,s.__metadata)("design:returntype",void 0)],E.prototype,"setPermissions",null),E=(0,s.__decorate)([c.scope.global(),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[void 0===l.AccountApi?Object:l.AccountApi,void 0===u.AuthService?Object:u.AuthService])],E)},495488:(e,t,r)=>{"use strict";r.d(t,{MyMusicService:()=>u});var n=r(331635),a=r(132028),s=r(346675),_=r(951652),c=r(26530),l=r(41102);class u extends l.MusicAudioOwningService{async requestAdd(e,t){const r=await this.api.add({audio_id:e.id,owner_id:e.ownerId,access_key:e.accessKey,track_code:t},{version:"5.251"});return{newAudioId:r.items?.[0]?.new_audio_id}}constructor(e,t,r){super({ownerId:"currentUser",api:e,authService:t,emitterFactory:r,sharedStateConfig:{key:"domains/audio/MyMusicService/stuffing",version:1}})}}u=(0,n.__decorate)([a.scope.global(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[void 0===s.AudioApi?Object:s.AudioApi,void 0===_.AuthService?Object:_.AuthService,void 0===c.EmitterFactory?Object:c.EmitterFactory])],u)},425354:(e,t,r)=>{"use strict";r.d(t,{PodcastEpisodeFavoritesService:()=>l});var n=r(331635),a=r(132028),s=r(26530),_=r(972573),c=r(841376);class l extends c.AudioEntityToggleService{async requestActivate(e){await this.audioApi.addPodcastEpisode({owner_id:e.ownerId,episode_id:e.id})}async requestDeactivate(e){await this.audioApi.removePodcastEpisode({owner_id:e.ownerId,episode_id:e.id})}constructor(e,t){super(e,{sharedStateConfig:{key:"domains/audio/PodcastEpisodeFavoritesService/stuffing",version:1}}),this.audioApi=t}}l=(0,n.__decorate)([a.scope.global(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[void 0===s.EmitterFactory?Object:s.EmitterFactory,void 0===_.FaveApi?Object:_.FaveApi])],l)},20085:(e,t,r)=>{"use strict";r.d(t,{PodcastAudioIdentity:()=>a});var n=r(70148);class a extends n.OwnedIdentity{constructor(e){super(e),this.podcastId=e.podcastId}}},573825:(e,t,r)=>{"use strict";r.d(t,{ShortVideoUploadService:()=>_});var n=r(331635),a=r(558137),s=r(132028);class _{get owner(){return this.ensureData().owner}get files(){return this.ensureData().files}get uploadData(){return this.ensureData().uploadData}get entryPoint(){return this.ensureData().entryPoint}setOwner(e){this.ensureData().owner=e}setUploadData(e){this.ensureData().uploadData=e}setFiles(e){this.ensureData().files=e}setEntryPoint(e){this.ensureData().entryPoint=e}resetFiles(){this.ensureData().files=(new DataTransfer).files}resetOwner(){this.ensureData().owner=void 0}resetUploadData(){this.ensureData().uploadData=[]}resetEntryPoint(){this.ensureData().entryPoint=""}reset(){this.resetOwner(),this.resetFiles(),this.resetUploadData(),this.resetEntryPoint()}constructor(){this.ensureData=(0,a.makeSharedState)("domains/shortVideo/upload/data",(()=>({owner:void 0,files:(new DataTransfer).files,uploadData:[],entryPoint:""})),{version:3})}}_=(0,n.__decorate)([s.scope.global()],_)},464527:(e,t,r)=>{"use strict";r.d(t,{ScreenNameResolver:()=>c});var n=r(331635),a=r(132028),s=r(7202),_=r(327813);class c{async ensureResolve({screenName:e}){const t=this.data.entityTypes[e];if(t)return t;const r=this.alreadyRequests.get(e);if(r)return await r;const n=this.utilsApi.resolveScreenName({screen_name:e});this.alreadyRequests.set(e,n);try{const t=await n;return this.data.entityTypes[e]=t,t}finally{(0,_.runInAction)((()=>{this.alreadyRequests.delete(e)}))}}async ensureMatch({screenName:e,screenTypes:t}){const r=await this.ensureResolve({screenName:e});if(r.type&&t.includes(r.type)&&r.object_id)return{entityId:r.object_id,screenType:r.type}}constructor(e){this.utilsApi=e,this.data={entityTypes:{}},this.alreadyRequests=new Map}}c=(0,n.__decorate)([a.scope.global(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[void 0===s.UtilsApi?Object:s.UtilsApi])],c)},73573:(e,t,r)=>{"use strict";r.d(t,{VideoGroup:()=>a});var n=r(327813);class a{get data(){return this._data}get name(){return this._data.name}get isNft(){return Boolean(this._data.is_nft_photo)}get subscribersCount(){return this._data.members_count??0}constructor(e){this._data=e,(0,n.makeAutoObservable)(this)}}},23893:(e,t,r)=>{"use strict";r.d(t,{VideoOwnerStore:()=>c});var n=r(327813),a=r(468073),s=r(73573),_=r(805373);class c{static isVideoGroup(e){return e instanceof s.VideoGroup}static isVideoUser(e){return e instanceof _.VideoUser}getById(e){if(a.Ranges.isGroupId(e)){const t=a.Ranges.convertOwnerIdToGroupId(e);return this.groupsStore.getById(t)}if(a.Ranges.isUserId(e))return this.usersStore.getById(e)}constructor(e,t){this.groupsStore=e,this.usersStore=t,(0,n.makeAutoObservable)(this)}}},852487:(e,t,r)=>{"use strict";r.d(t,{VideoPlayerConfigProvider:()=>l});var n=r(331635),a=r(327813),s=r(882044),_=r(955060),c=r(132028);class l{isLoading(e){return Boolean(this.requestMap.get(e))}async request(e){return this.abortController=new AbortController,this.videoApi.getPlayerConfig(e,{signal:this.abortController?.signal})}async fetch(e){this.reset();try{const t=await this.request(e);return this.configMap.set(e.module,t.config),t.config}catch(e){return this.errorLogger.log(new Error("Video player config fetching failed",{cause:e})),null}finally{this.requestMap.delete(e.module)}}async ensure(e){const t=this.requestMap.get(e.module);if(t)return t;const r=this.configMap.get(e.module);if(r)return r;const n=this.fetch(e);return this.requestMap.set(e.module,n),n}reset(){this.configMap.clear(),this.requestMap.clear(),this.abortController?.abort()}constructor(e,t){this.videoApi=e,this.errorLogger=t,this.abortController=null,this.configMap=new Map,this.requestMap=new Map,(0,a.makeAutoObservable)(this)}}l=(0,n.__decorate)([c.scope.global(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[void 0===s.VideoApi?Object:s.VideoApi,void 0===_.ErrorLogger?Object:_.ErrorLogger])],l)},805373:(e,t,r)=>{"use strict";r.d(t,{VideoUser:()=>a});var n=r(327813);class a{get data(){return this._data}get name(){return`${this._data.first_name} ${this._data.last_name}`}get isNft(){return Boolean(this._data.is_nft)}get subscribersCount(){return this._data.followers_count??0}constructor(e){this._data=e,(0,n.makeAutoObservable)(this)}}},878728:(e,t,r)=>{"use strict";r.d(t,{isAbortApiError:()=>s});var n=r(782399),a=r(285953);const s=e=>(0,n.isNetworkError)(e)&&(0,a.isRequestAbortError)(e.error)},98710:(e,t,r)=>{"use strict";r.d(t,{isAbortError:()=>s});var n=r(804076),a=r(878728);const s=e=>(0,n.isApiNetworkError)(e)&&(0,a.isAbortApiError)(e)},804076:(e,t,r)=>{"use strict";r.d(t,{isApiNetworkError:()=>n});const n=e=>!!e&&"object"==typeof e&&"type"in e&&"network_error"===e.type},285953:(e,t,r)=>{"use strict";r.d(t,{isRequestAbortError:()=>n});const n=e=>e instanceof DOMException&&(20===e.code||"AbortError"===e.name)},595059:(e,t,r)=>{"use strict";r.d(t,{Video:()=>c});var n=r(327813),a=r(873900),s=r(23893),_=r(576042);class c{static createRawId(e){return(0,a.getIdentityRawId)(e)}get rawId(){const{id:e,owner_id:t}=this.data;return c.createRawId({id:e,ownerId:t})}get data(){return this._data}get owner(){return this.ownerStore instanceof s.VideoOwnerStore?this.ownerStore.getById(this._data.owner_id):this.ownerStore?.getOwner(this._data.owner_id)}get isFavorite(){return this.favoriteService?.getIsFavorite(this._data.id)||this._data.is_favorite}constructor(e,t,r,a){this._data=e,this.favoriteService=t,this.likesService=r,this.ownerStore=a,this.likes=new _.VideoVideoLikes(this,this.likesService),(0,n.makeAutoObservable)(this)}}},576042:(e,t,r)=>{"use strict";r.d(t,{VideoVideoLikes:()=>s});var n=r(327813),a=r(98710);class s{get isLiked(){return Boolean(this.data.likes?.user_likes??0)}toggleLike(e){const t={type:"video",itemId:this.videoId,ownerId:e};this.controller?.abort(),this.controller=new AbortController,this.isLiked?this.removeLike(t):this.addLike(t)}optimisticAddLike(e){const t=this.data?.likes;t&&(t.count=e??(t.count??0)+1,t.user_likes=1)}optimisticRemoveLike(e){const t=this.data?.likes;t&&(t.count=e??Math.max((t.count??0)-1,0),t.user_likes=0)}async addLike(e){try{this.optimisticAddLike();const t=await this.likesService.add(e,{signal:this.controller?.signal});(0,n.runInAction)((()=>{this.controller=null,this.optimisticAddLike(t.likes)}))}catch(e){(0,a.isAbortError)(e)||this.optimisticRemoveLike()}}async removeLike(e){try{this.optimisticRemoveLike();const t=await this.likesService.remove(e,{signal:this.controller?.signal});(0,n.runInAction)((()=>{this.controller=null,this.optimisticRemoveLike(t.likes)}))}catch(e){(0,a.isAbortError)(e)||this.optimisticAddLike()}}get videoId(){return this.video.data.id}get data(){return this.video.data}constructor(e,t){this.video=e,this.likesService=t,this.controller=null,(0,n.makeAutoObservable)(this)}}},501397:(e,t,r)=>{"use strict";r.d(t,{logError:()=>_});var n=r(944705),a=(r(606979),r(399373));function s(e){let t="";return e.timestamp&&(t+=`<${e.timestamp}> `),e.level&&(t+=`[${e.level}] `),t+=[e.type,e.category].join(".")+" ",e.message&&(t+=e.message+" "),e.data&&(t+="\n"+JSON.stringify(e.data)+"\n"),t}function _(e,{breadcrumb:t,environment:r,hasDummyStacktrace:_}={}){_&&e.stack&&delete e.stack,function(e,{breadcrumb:t,environment:r}){const a=(0,n.getClient)();if(a)a.captureException(e,{captureContext:e=>(r&&e.setTags({module:r}),t&&e.addBreadcrumb({message:t.message,category:"custom",data:t.data}),e)})}(e,{breadcrumb:t,environment:r}),function(e,{breadcrumb:t,environment:r}={}){const{log:n,error:_}=(0,a.getTracerModules)();if(!_)return;let c;if(t&&n&&n.log(s(t)),"string"==typeof e)c=new Error(e);else if(e instanceof Error)c=e;else if("object"==typeof e)try{c=new Error(JSON.stringify(e))}catch(e){c=new Error("Unserializable error",{cause:e})}else c=new Error(e?"Unserializable error":"Empty error");_?.error(c,{issueKey:r})}(e,{breadcrumb:t,environment:r})}},814104:(e,t,r)=>{"use strict";function n(e){let t="",r="";try{const n=new URL(e);t=n.pathname,r=n.host}catch{return[e,void 0]}const[,n,a,s]=t.match(/^(.*?)\.(.*?)\.(js|css)/)||[];return n&&a?[`${n}.${s}`,r]:[t,r]}r.d(t,{separateSourceAndHash:()=>n})},920518:(e,t,r)=>{"use strict";r.d(t,{LaunchRecordService:()=>c});var n=r(331635),a=r(327813),s=r(132028),_=r(558137);class c{add(e){this.launchRecordMap.set(e.id,e)}remove(e){this.launchRecordMap.delete(e)}get(e){return this.launchRecordMap.get(e)??null}hasLayer(){return[...this.launchRecordMap.keys()].some((e=>e.endsWith("_layer")))}constructor(){this.launchRecordMap=(0,_.makeSharedState)("mini_app_launch_record_map",(()=>(0,a.observable)(new Map)),{version:1})()}}c=(0,n.__decorate)([s.scope.global()],c)},759339:(e,t,r)=>{"use strict";r.d(t,{MiniAppLaunchService:()=>A});var n=r(331635),a=r(327813),s=r(444329),_=r(132028),c=r(951652),l=r(865419),u=r(560158),d=r(577967),p=r(920518),E=r(887866),m=r(771080),g=r(36477);class A{openInTab(e){const t=`${e.appId}_${(0,s.nanoid)()}`;return this.getLaunchWaiter(t,e,this.makeTabConnection)}openInLayer(e){const t=`${e.appId}_layer`;return this.getLaunchWaiter(t,e,this.makeLayerConnection)}getLaunchWaiter(e,t,r){const n=new AbortController,{wait:a,clear:s}=(0,g.waitTimeout)(E.LAUNCH_TIMEOUT,n),_=new Promise((async a=>{n.signal.addEventListener("abort",(()=>a(null))),t&&r&&r({launchId:e,...t},n.signal);const s=await this.waitForConnector(e,n.signal);n.signal.aborted&&s?.close(),a(s)}));return{waitConnect:Promise.race([_,a]).finally(s),abort:()=>n.abort()}}async waitForConnector(e,t){try{return await(0,a.when)((()=>!!this.launchRecordService.get(e)),{signal:t}),this.launchRecordService.get(e)}catch{return null}}constructor(e,t){this.authService=e,this.launchRecordService=t,this.makeTabConnection=async(e,t)=>{const{appId:r,actorId:n,launchId:a,...s}=e,{origin:_}=window.location,c=(0,m.buildUrl)({...s,appId:r,actorId:n??this.authService.userId,origin:_}),p=window.open(c,"_blank");if(p){const e=new l.MiniAppLifecycle({transform:u.sanitizeMiniAppInfo}),n=new d.TabBridge(p,{lifecycle:e,appId:r}),s=()=>{e.clear(),n.close()};e.hooks.onDestroy.addAfterAll(s),t.addEventListener("abort",s);const _=await n.getHostConnector();this.launchRecordService.add({id:a,..._})}}}}A=(0,n.__decorate)([_.scope.global({abstract:!0}),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[void 0===c.AuthService?Object:c.AuthService,void 0===p.LaunchRecordService?Object:p.LaunchRecordService])],A)},577967:(e,t,r)=>{"use strict";r.d(t,{TabBridge:()=>u});var n=r(862388),a=r(103584),s=r(547065),_=r(679731),c=r(318001),l=r(327354);class u{getHostConnector(){if(!this.hostConnector)throw new l.MiniAppLaunchError("Try to get host connector on the client page");return this.hostConnector}prepareHostConnector(){return{lifecycle:this.lifecycle.getHookSubscriptions(),close:()=>this.source.close(),sendEventToMiniApp:(e,t)=>this.sendMessage({handler:n.TabConnectorBridgeHandlers.SendEventToMiniApp,params:{event:e,data:t}}),sendMessageToMiniApp:e=>this.sendMessage({handler:n.TabConnectorBridgeHandlers.SendMessageToMiniApp,params:e})}}buildClientHandlers({sendEventToMiniApp:e,sendMessageToMiniApp:t}){this.handlers.set(n.TabConnectorBridgeHandlers.SendEventToMiniApp,new a.SendEventToMiniApp(e)),this.handlers.set(n.TabConnectorBridgeHandlers.SendMessageToMiniApp,new s.SendMessageToMiniApp(t)),Object.keys(this.lifecycle.hooks).forEach((e=>{this.lifecycle.hooks[e].add((t=>this.sendMessage({handler:n.TabConnectorBridgeHandlers.Lifecycle,params:{props:t,hook:e}})))})),this.sendMessage({handler:n.TabConnectorBridgeHandlers.TabBridgeConnected,params:{success:!0}})}buildHostHandlers(){this.lifecycle.hooks.onDestroy.addAfterAll((()=>{this.lifecycle.clear(),this.close()})),this.handlers.set(n.TabConnectorBridgeHandlers.Lifecycle,new _.LifecycleHandler(this.lifecycle.hooks)),this.hostConnector=new Promise((e=>{this.handlers.set(n.TabConnectorBridgeHandlers.TabBridgeConnected,{handle:()=>e(this.prepareHostConnector())})}))}sendMessage(e){this.source.postMessage({type:n.TAB_BRIDGE_MESSAGE_TYPE,...e},window.origin)}isValidEvent({data:e,source:t}){return e?.type===n.TAB_BRIDGE_MESSAGE_TYPE&&this.source===t}constructor(e,{lifecycle:t,client:r}){this.handlers=new Map,this.close=()=>{window.removeEventListener("message",this.handleBridgeMessage)},this.handleBridgeMessage=async e=>{if(this.isValidEvent(e)){const{handler:t,params:r}=e.data;try{await(this.handlers.get(t)?.handle(r))}catch{throw new c.MiniAppTabBridgeHandlerError(t)}}},this.source=e,this.lifecycle=t,r?this.buildClientHandlers(r):this.buildHostHandlers(),window.addEventListener("message",this.handleBridgeMessage)}}},862388:(e,t,r)=>{"use strict";r.d(t,{TAB_BRIDGE_MESSAGE_TYPE:()=>a,TabConnectorBridgeHandlers:()=>n});const n={TabBridgeConnected:"TabBridgeConnected",Lifecycle:"Lifecycle",SendEventToMiniApp:"SendEventToMiniApp",SendMessageToMiniApp:"SendMessageToMiniApp"},a="vk-connect-tab"},679731:(e,t,r)=>{"use strict";r.d(t,{LifecycleHandler:()=>n});class n{handle({hook:e,props:t}){this.lifecycle[e].fire(t)}constructor(e){this.lifecycle=e}}},103584:(e,t,r)=>{"use strict";r.d(t,{SendEventToMiniApp:()=>n});class n{handle({event:e,data:t}){this.sendEvent(e,t)}constructor(e){this.sendEvent=e}}},547065:(e,t,r)=>{"use strict";r.d(t,{SendMessageToMiniApp:()=>n});class n{handle(e){this.sendEvent(e)}constructor(e){this.sendEvent=e}}},887866:(e,t,r)=>{"use strict";r.d(t,{LAUNCH_TIMEOUT:()=>n});const n=3e4},771080:(e,t,r)=>{"use strict";r.d(t,{buildUrl:()=>a});var n=r(327354);const a=({location:e,queryParams:t,origin:r,appId:a,actorId:s})=>{try{const n=new URL(`${r}/app${a}${s?`_${s}`:""}`);if(t)for(const e of Object.keys(t))n.searchParams.set(e,t[e]);return e&&(n.hash=e),n.toString()}catch{throw new n.MiniAppLaunchError("Failed to build mini app URL")}}},560158:(e,t,r)=>{"use strict";r.d(t,{sanitizeMiniAppInfo:()=>n});const n=e=>{const{app:t,config:{scrollTarget:r,...n}={},iframeProps:a,apiVersion:s,host:_}="miniAppInfo"in e?e.miniAppInfo:e,c={app:t,config:n,iframeProps:a,apiVersion:s,host:_};return"miniAppInfo"in e?{...e,miniAppInfo:c}:c}},36477:(e,t,r)=>{"use strict";r.d(t,{waitTimeout:()=>a});var n=r(327354);const a=(e,t)=>{let r;return{clear:()=>clearTimeout(r),wait:new Promise(((a,s)=>{r=setTimeout((()=>{s(new n.MiniAppLaunchError("Timeout error")),t.abort()}),e)}))}}},121783:(e,t,r)=>{"use strict";r.d(t,{MiniAppError:()=>n});class n extends Error{constructor({error_code:e,error_reason:t}){super(t),this.name="MiniAppError",this.errorReason=t,this.errorCode=e}}},327354:(e,t,r)=>{"use strict";r.d(t,{MiniAppLaunchError:()=>s});var n=r(365815),a=r(121783);class s extends a.MiniAppError{constructor(e){super({error_reason:e??"Failed to launch mini app",error_code:n.ERROR_CODES.CUSTOM}),this.name="MiniAppLaunchError"}}},318001:(e,t,r)=>{"use strict";r.d(t,{MiniAppTabBridgeHandlerError:()=>s});var n=r(365815),a=r(121783);class s extends a.MiniAppError{constructor(e){super({error_reason:`Failed to execute handler ${e}`,error_code:n.ERROR_CODES.CUSTOM}),this.name="MiniAppTabBridgeHandlerError"}}},470388:(e,t,r)=>{"use strict";r.d(t,{ReactionsAggregator:()=>u});var n=r(434518),a=r(763812),s=r(327813),_=(0,a._)("_isDestroyed"),c=(0,a._)("_disposers"),l=(0,a._)("_assertNotDestroyed");class u{reaction(e,t,r){(0,n._)(this,l)[l]();const a=(0,s.reaction)(e,t,r);return(0,n._)(this,c)[c].add(a),this}autorun(e,t){(0,n._)(this,l)[l]();const r=(0,s.autorun)(e,t);return(0,n._)(this,c)[c].add(r),this}dispose(){for(const e of(0,n._)(this,c)[c])e();(0,n._)(this,c)[c].clear()}destroy(){this.dispose(),(0,n._)(this,_)[_]=!0}constructor(){Object.defineProperty(this,l,{value:d}),Object.defineProperty(this,_,{writable:!0,value:void 0}),Object.defineProperty(this,c,{writable:!0,value:void 0}),(0,n._)(this,_)[_]=!1,(0,n._)(this,c)[c]=new Set}}function d(){if((0,n._)(this,_)[_])throw new Error("ReactionsAggregator is destroyed")}},70916:(e,t,r)=>{"use strict";r.d(t,{ObservableIdentityMap:()=>p});var n=r(434518),a=r(763812),s=r(331635),_=r(327813),c=(0,a._)("_identities"),l=(0,a._)("_ensureIdentity");let u=Symbol.iterator,d=Symbol.toStringTag;class p{get size(){return this.store.size}has(e){return this.store.has(e.fullId)}get(e){return this.store.get(e.fullId)}set(e,t){return(0,n._)(this,c)[c].set(e.fullId,e),this.store.set(e.fullId,t),this}delete(e){return(0,n._)(this,c)[c].delete(e.fullId),this.store.delete(e.fullId)}clear(){return(0,n._)(this,c)[c].clear(),this.store.clear()}forEach(e,t){this.store.forEach(((r,a)=>{e.call(t,r,(0,n._)(this,l)[l](a),this)}))}*keys(){for(const e of this.store.keys())yield(0,n._)(this,l)[l](e)}values(){return this.store.values()}*entries(){for(const[e,t]of this.store.entries())yield[(0,n._)(this,l)[l](e),t]}[u](){return this.entries()}get[d](){return"ObservableIdentityMap"}constructor(e){Object.defineProperty(this,l,{value:E}),Object.defineProperty(this,c,{writable:!0,value:void 0}),this.store=new Map,(0,n._)(this,c)[c]=new Map,(0,_.makeObservable)(this);for(const[t,r]of e??[])this.set(t,r)}}function E(e){const t=(0,n._)(this,c)[c].get(e);if(!t)throw new Error("IdentityMap inconsistency");return t}(0,s.__decorate)([_.observable.shallow,(0,s.__metadata)("design:type","undefined"==typeof Map?Object:Map)],p.prototype,"store",void 0),(0,s.__decorate)([_.computed,(0,s.__metadata)("design:type",void 0),(0,s.__metadata)("design:paramtypes",[])],p.prototype,"size",null),(0,s.__decorate)([_.action,(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",["undefined"==typeof T?Object:T,"undefined"==typeof V?Object:V]),(0,s.__metadata)("design:returntype",Object)],p.prototype,"set",null),(0,s.__decorate)([_.action,(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",["undefined"==typeof T?Object:T]),(0,s.__metadata)("design:returntype",Boolean)],p.prototype,"delete",null),(0,s.__decorate)([_.action,(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[]),(0,s.__metadata)("design:returntype",void 0)],p.prototype,"clear",null),(0,s.__decorate)([_.action,(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[Function,Object]),(0,s.__metadata)("design:returntype",void 0)],p.prototype,"forEach",null)},74270:(e,t,r)=>{"use strict";r.d(t,{ObservableIdentitySet:()=>s});var n=r(331635),a=r(327813);class s{get size(){return this.store.size}has(e){return this.store.has(e.fullId)}add(e){return this.store.set(e.fullId,e),this}delete(e){return this.store.delete(e.fullId)}clear(){return this.store.clear()}forEach(e,t){this.store.forEach((r=>{e.call(t,r,r,this)}))}values(){return this.store.values()}keys(){return this.values()}*entries(){for(const e of this.store.values())yield[e,e]}[Symbol.iterator](){return this.values()}get[Symbol.toStringTag](){return"ObservableIdentitySet"}union(){throw new Error("Not implemented yet!")}intersection(){throw new Error("Not implemented yet!")}difference(){throw new Error("Not implemented yet!")}symmetricDifference(){throw new Error("Not implemented yet!")}isSubsetOf(){throw new Error("Not implemented yet!")}isSupersetOf(){throw new Error("Not implemented yet!")}isDisjointFrom(){throw new Error("Not implemented yet!")}constructor(e){this.store=new Map,(0,a.makeObservable)(this);for(const t of e??[])this.add(t)}}(0,n.__decorate)([a.observable.shallow,(0,n.__metadata)("design:type","undefined"==typeof Map?Object:Map)],s.prototype,"store",void 0),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],s.prototype,"size",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof T?Object:T]),(0,n.__metadata)("design:returntype",Object)],s.prototype,"add",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof T?Object:T]),(0,n.__metadata)("design:returntype",Boolean)],s.prototype,"delete",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[]),(0,n.__metadata)("design:returntype",void 0)],s.prototype,"clear",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Function,Object]),(0,n.__metadata)("design:returntype",void 0)],s.prototype,"forEach",null)},123980:(e,t,r)=>{"use strict";r.d(t,{APIClient:()=>_});var n=r(331635),a=r(132028),s=r(709390);class _{}_=(0,n.__decorate)([a.scope.global({abstract:!0})],_),a.rootContainer.replace(_,s.APIClientMissingGlobalDeprecatedImpl)},709390:(e,t,r)=>{"use strict";r.d(t,{APIClientMissingGlobalDeprecatedImpl:()=>_});var n=r(331635),a=r(132028),s=r(957994);class _{request(e,t,r={}){return(0,s.api)(e,t,{...void 0!==r.version?{version:r.version}:{},...void 0!==r.grouping?{grouping:r.grouping}:{},...void 0!==r.accessToken?{accessToken:r.accessToken}:{}},{signal:r?.signal})}fetchWebToken(e,t){return(0,s.login)("web_token",e,t)}}_=(0,n.__decorate)([a.scope.global()],_)},295372:(e,t,r)=>{"use strict";r.d(t,{ApiPrefetch:()=>s});var n=r(331635),a=r(132028);class s{}s=(0,n.__decorate)([a.scope.global()],s)},575362:(e,t,r)=>{"use strict";r.d(t,{Appearance:()=>s});var n=r(331635),a=r(132028);class s{}s=(0,n.__decorate)([a.scope.global({abstract:!0})],s)},348847:(e,t,r)=>{"use strict";r.d(t,{AppearanceTheme:()=>n});var n=function(e){return e.Dark="dark",e.Light="light",e}({})},951652:(e,t,r)=>{"use strict";r.d(t,{AuthService:()=>c});var n=r(331635),a=r(327813),s=r(132028),_=r(123980);class c{get isAuthorized(){return!!this.userId}get userId(){return this._userId}get userIdOrAnonim(){return this.userId??0}ensureUserId(){if(!this.userId)throw new Error("AuthService:not authorized user!");return this.userId}setUserId(e){this._userId=e}assertAuthorized(){if(!this.isAuthorized)throw new Error("[AuthService] Not authorized")}async fetchWebToken(){const{access_token:e}=await this.apiClient.fetchWebToken();return e}constructor(e){this.apiClient=e,this._userId=null,(0,a.makeObservable)(this)}}(0,n.__decorate)([a.observable,(0,n.__metadata)("design:type",Object)],c.prototype,"_userId",void 0),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],c.prototype,"isAuthorized",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],c.prototype,"userId",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],c.prototype,"userIdOrAnonim",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],c.prototype,"setUserId",null),c=(0,n.__decorate)([s.scope.global(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[void 0===_.APIClient?Object:_.APIClient])],c)},876011:(e,t,r)=>{"use strict";r.d(t,{CaptchaSDK:()=>c});var n=r(331635),a=r(132028),s=r(657472),_=r(784022);class c extends _.CaptchaSDK{load(e){return new Promise(((t,r)=>{this._loaderSrc||r("Loader src is not set");const n=document.createElement("script");n.type="text/javascript",n.src=this._loaderSrc,n.onload=async()=>{const e=await window.vkidCaptchaInit;e?t(e):r("Captcha SDK is undefined")},n.onerror=()=>{r("Failed to load Captcha SDK")},e.append(n)}))}async ensure(){try{return await this.load(document.head)}catch(e){throw e}}async getCaptchaSDK(){try{if(!this._captchaSDK){const e=await this.ensure();this._captchaSDK=new e}}catch(e){}return this._captchaSDK}async handle(e){const t=await this.getCaptchaSDK();if(!t)throw s.CaptchaSDKEvents.NOT_INITIALIZE;if(this._isOpened)throw s.CaptchaSDKEvents.OPENED;return document.activeElement instanceof HTMLElement&&document.activeElement.blur(),this._isOpened=!0,await t.show({container:document.body,iframeSrc:e,view:"popup",onClose:()=>{this._isOpened=!1}})}constructor(...e){super(...e),this._loaderSrc="https://static.vk.com/captchaSDK/loader/0/umd/index.js"}}c=(0,n.__decorate)([a.scope.global()],c)},657472:(e,t,r)=>{"use strict";r.d(t,{CaptchaSDKEvents:()=>n});var n=function(e){return e.CLOSE="close",e.NOT_INITIALIZE="not_initialize",e.OPENED="opened",e}({})},784022:(e,t,r)=>{"use strict";r.d(t,{CaptchaSDK:()=>s});var n=r(331635),a=r(132028);class s{}s=(0,n.__decorate)([a.scope.global({abstract:!0})],s)},550490:(e,t,r)=>{"use strict";r.d(t,{Cookie:()=>s});var n=r(331635),a=r(132028);class s{}s=(0,n.__decorate)([a.scope.platform({abstract:!0})],s)},18992:(e,t,r)=>{"use strict";r.d(t,{DataCache:()=>R});var n=r(331635),a=r(260602),s=r(317764),_=r(132028),c=r(24516),l=r(951652),u=r(627876),d=r(955060);const p="data_cache",E="versions",m="indexeddb_cache_version",g=864e5,A=(e,t)=>{void 0===e&&(e=g);const r=Number(new Date)-Number(new Date(t||0));return 0!==e&&r>e},f=e=>(void 0===e&&(e=g),e>0&&e<=6048e5),I=e=>void 0!==e&&Math.abs((0,s.differenceInDays)(e,new Date))>=7,y=(e,t,r=!1)=>{let n=e?.lastUsed||new Date,a=new Date;return r&&(n=new Date,a=e?.lastUpdate),{created:e?.created||new Date,lastUsed:n,lastUpdate:a,...t}};class R{logError(e,t,r){const n=new Error(e,{cause:r});return this.errorLogger.log(n),this.statLog.send({name:"data_cache_errors",value:1,keys:[t]}),n}isIDBAvailable(){let e=!1;try{indexedDB}catch(t){if(t instanceof Error){const{message:e,name:r}=t;if("SecurityError"!==r)throw this.logError(e,r,t)}e=!0}return"indexedDB"in window.self&&!e}async forceUpdatingStore(e){this.db&&this.db.close();const t=Number(new Date);this.db=await(0,a.openDB)(p,t,{async upgrade(t){!1===t.objectStoreNames.contains(e.name)&&t.createObjectStore(e.name),!1===t.objectStoreNames.contains(E)&&t.createObjectStore(E)}})}async restoreDB(){let e=!1;const t=await(0,a.openDB)(p),r=this.userEnv.getConfigValue(m);if(t.objectStoreNames.contains(E)){const n=t.transaction(E,"readwrite").objectStore(E),a=await n.get("userId"),s=await n.get(m);void 0!==a&&a!==this.authService.userId&&(e=!0),void 0!==s&&s!==r&&(e=!0)}t.close(),e&&(0,a.deleteDB)(p)}async connect(e,t=!1){if(this.isIDBAvailable()){if(!this.db)return t||await this.restoreDB(),this.db=await(0,a.openDB)(p),this}else this.logError("Не удалось создать DataCache","Security Level")}async get(e,t){if(await this.connect(e),!this.db)return;const[r,n]=[e?.storeTTL||g,e?.fieldTTL||g];let a;try{a=this.db.transaction([e.name,E],"readwrite")||{}}catch{return}const s=a.objectStore(E),_=await s.get(e.name);if(!_)return;const c=a.objectStore(e.name);if(_.storeVersion!==e.version)return s.delete(e.name),void c.clear();if(A(r,_.lastUpdate))return s.delete(e.name),void c.clear();const l=await c.get(t);if(null!=l){if(!A(n,l.lastUpdate))return await c.put(y(l,{data:l.data},!0),t),await s.put(y(_,{storeVersion:_.storeVersion},!0),e.name),l.data;c.delete(t)}}async set(e,t,r){const[n,a]=[e?.storeTTL||g,e?.fieldTTL||g];if(!f(n)||!f(a))throw new Error("VKIndexDBSchema: Значение TTL не может быть равно 0 и быть больше 7 дней в миллисекундах");if(await this.connect(e),!this.db)return;let s;try{s=this.db.transaction([e.name,E],"readwrite")}catch(t){await this.forceUpdatingStore(e),s=this.db.transaction([e.name,E],"readwrite")}if(!s)return;const _=s.objectStore(e.name),c=s.objectStore(E),l=await _.get(t),u=await c.get(e.name);await _.put(y(l,{data:r}),t),c.put(this.authService.userId,"userId");void 0===await c.get(m)&&c.put(this.userEnv.getConfigValue(m),m),await c.put(y(u,{storeVersion:e.version}),e.name),I(u?.lastUsed)&&this.statLog.send({name:"data_cache_errors",value:1,keys:[`Store ${e.name} is rarely used`]}),I(l?.lastUsed)&&this.statLog.send({name:"data_cache_errors",value:1,keys:[`Field ${t} is rarely used`]}),await s.done}clearDB(){this.db&&this.db.close(),(0,a.deleteDB)(p)}constructor(e,t,r,n){this.userEnv=e,this.authService=t,this.statLog=r,this.errorLogger=n,this.db=null}}R=(0,n.__decorate)([_.scope.global(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[void 0===c.UserEnv?Object:c.UserEnv,void 0===l.AuthService?Object:l.AuthService,void 0===u.Statlog?Object:u.Statlog,void 0===d.ErrorLogger?Object:d.ErrorLogger])],R)},26530:(e,t,r)=>{"use strict";r.d(t,{EmitterFactory:()=>d});var n=r(434518),a=r(763812),s=r(331635),_=r(132028),c=r(584053),l=r(955060),u=(0,a._)("_logger");class d{create(e={}){return new c.Emitter({catchListener:e=>{if(!(e instanceof Error))throw e;(0,n._)(this,u)[u].log(e)},...e})}constructor(e){Object.defineProperty(this,u,{writable:!0,value:void 0}),(0,n._)(this,u)[u]=e}}d=(0,s.__decorate)([_.scope.global(),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[void 0===l.ErrorLogger?Object:l.ErrorLogger])],d)},955060:(e,t,r)=>{"use strict";r.d(t,{ErrorLogger:()=>_});var n=r(331635),a=r(132028),s=r(675659);class _{init(e){if(!this.isFirstInit)throw new Error("ErrorLogger: инит уже был вызван!");this.isFirstInit=!1,this._log=e}log(e,{metaData:t={}}={}){if(!this._log)throw new Error("ErrorLogger: произведите инициализацию");const r=(0,s.unknownToError)(e);return this._log(r,t),r}constructor(){this.isFirstInit=!0}}_=(0,n.__decorate)([a.scope.global()],_)},675659:(e,t,r)=>{"use strict";r.d(t,{unknownToError:()=>a});class n extends Error{constructor(e){super(e),this.name="ErrorLogger-plugin"}}function a(e,t="Unknown error"){if(e instanceof Error)return e;if("string"==typeof e)return new n(e);let r=t;if(function(e){return"object"==typeof e&&!!e}(e)){const t=Object.values(e).find((e=>e instanceof Error));if(t instanceof Error)return t;e&&"message"in e&&"string"==typeof e.message&&(r=e.message)}return new n(r)}},988010:(e,t,r)=>{"use strict";r.d(t,{ExternalEvents:()=>s});var n=r(331635),a=r(132028);class s{}s=(0,n.__decorate)([a.scope.global({abstract:!0})],s)},253145:(e,t,r)=>{"use strict";r.d(t,{FavIconImpl:()=>s});var n=r(331635),a=r(132028);class s{setFavIcon(e){const t=document.getElementsByTagName("head")[0],r=t.querySelector('link[rel="shortcut icon"]');if(!r||r.getAttribute("href")===e)return;const n=document.createElement("link");n.rel="shortcut icon",n.type="image/gif",n.href=e,t.replaceChild(n,r)}}s=(0,n.__decorate)([a.scope.global()],s)},744464:(e,t,r)=>{"use strict";r.d(t,{FavIcon:()=>s});var n=r(331635),a=r(132028);class s{}s=(0,n.__decorate)([a.scope.global({abstract:!0})],s)},712600:(e,t,r)=>{"use strict";r.d(t,{Langs:()=>_});var n=r(331635),a=r(132028),s=r(967982);class _{langReplace(e,t){for(const r in t){if(!t.hasOwnProperty(r))continue;const n=`{${r}}`;e=e.replace(n,t[r])}return e}compactDate(e,t=this.getLang("months_of",!0),r={}){const{excludeTime:n=!1}=r;let{offset:a=0}=r;const s=e.getTime();a*=1e3;const _=Date.now(),c=new Date(_),l=new Date(s+a);return!n&&s>_&&s-_<864e5&&c.getDate()===l.getDate()?this.date(e,"{hour}:{minute} {am_pm}",t,r):l.getFullYear()!==c.getFullYear()||s<_-157248e5?this.date(e,this.getLang("global_date",!0),t,r):this.date(e,this.getLang("global_short_date",!0),t,r)}formatTime(e,{textCase:t="nominative"}={}){return[[s.TIME_UNITS.DAY,this.getLang(s.TIME_UNIT_LANG_CASE_MAP[t][s.TIME_UNITS.DAY],!0)],[s.TIME_UNITS.HOUR,this.getLang(s.TIME_UNIT_LANG_CASE_MAP[t][s.TIME_UNITS.HOUR],!0)],[s.TIME_UNITS.MINUTE,this.getLang(s.TIME_UNIT_LANG_CASE_MAP[t][s.TIME_UNITS.MINUTE],!0)]].reduce(((t,[r,n])=>{const a=Math.floor(e/r),s=a>=1?this.numeric(a,n):"";return e%=r,`${t&&s?`${t} `:t}${s}`}),"")}}_=(0,n.__decorate)([a.scope.platform({abstract:!0})],_)},967982:(e,t,r)=>{"use strict";r.d(t,{TIME_UNITS:()=>n,TIME_UNIT_LANG_CASE_MAP:()=>a});const n={SECOND:1,MINUTE:60,HOUR:3600,DAY:86400},a={nominative:{[n.MINUTE]:"global_minutes",[n.HOUR]:"global_hours",[n.DAY]:"global_days_accusative"},accusative:{[n.MINUTE]:"global_minutes_accusative",[n.HOUR]:"global_hours_accusative",[n.DAY]:"global_days_accusative"},nominative_short:{[n.MINUTE]:"global_short_minutes",[n.HOUR]:"global_short_hours",[n.DAY]:"global_short_days"}}},149333:(e,t,r)=>{"use strict";r.d(t,{useLangs:()=>s});var n=r(132028),a=r(712600);function s(){return(0,n.useContainer)().resolve(a.Langs)}},622644:(e,t,r)=>{"use strict";r.d(t,{LoafStats:()=>_,LoafStatsObserveCause:()=>s});var n=r(331635),a=r(132028),s=function(e){return e.SCROLL="scroll",e.TRANSITION="transition",e}({});class _{}_=(0,n.__decorate)([a.scope.global({abstract:!0})],_)},510454:(e,t,r)=>{"use strict";r.d(t,{LocalStorage:()=>s});var n=r(331635),a=r(132028);class s{}s=(0,n.__decorate)([a.scope.global()],s)},804797:(e,t,r)=>{"use strict";r.d(t,{MapsFactoryImpl:()=>_});var n=r(331635),a=r(132028),s=r(77067);class _{createMap(e=!1){return e&&console.log(`[${this.constructor.name}]: createVKMaps`),new s.VKMaps(e)}}_=(0,n.__decorate)([a.scope.global()],_)},999490:(e,t,r)=>{"use strict";r.d(t,{circlePlacemarkIcon:()=>n});const n=e=>`<svg width="64" height="64" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">\n  <rect data-id="placemark-stroke" x="16" y="12" width="32" height="32" rx="16" fill="currentColor" />\n  <g clip-path="url(#round_clip_mask)">\n    <rect data-id="placemark-base" x="17.5" y="13.5" width="29" height="29" rx="14.5" stroke="inherit" />\n    <rect data-id="placemark-base" x="18" y="14" width="28" height="28" rx="20" fill="${e?"url(#placemark_image_pattern)":"inherit"}" />\n  </g>\n  <defs>\n    <clipPath id="round_clip_mask">\n      <rect x="18" y="14" width="28" height="28" rx="14" />\n    </clipPath>\n    ${e?'<pattern id="placemark_image_pattern" patternContentUnits="objectBoundingBox" width="1" height="1">\n    <use xlink:href="#placemark_image" transform="translate(0 -0.0318182) scale(0.00113636)" />\n  </pattern>':""}\n    ${e?`<image data-id="placemark-image" id="placemark_image" width="880" height="936" xlink:href="${e}" />`:""}\n  </defs>\n</svg>`},985931:(e,t,r)=>{"use strict";r.d(t,{pinIcon:()=>n});const n=()=>'\n<svg width="56" height="61" viewBox="0 0 56 61" xmlns="http://www.w3.org/2000/svg">\n  <ellipse data-id="pin-shadow" cx="28" cy="54" rx="7" ry="4" fill="#000" fill-opacity="0.4" style="filter: blur(2px)" />\n  <path data-id="pin-base" d="M30 38.896C39.5533 37.8966 47 29.8179 47 20C47 9.50659 38.4934 1 28 1C17.5066 1 9 9.50659 9 20C9 29.8179 16.4467 37.8966 26 38.896V52C26 53.1046 26.8954 54 28 54C29.1046 54 30 53.1046 30 52V38.896Z" fill="currentColor" />\n</svg>'},1838:(e,t,r)=>{"use strict";r.d(t,{placemarkIcon:()=>n});const n=e=>`<svg width="68" height="78" viewBox="5 6 68 78" fill="inherit" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <path data-id="placemark-base" fill-rule="evenodd" clip-rule="evenodd" d="M62 31C62 41.0645 55.5356 49.6191 46.5323 52.7383C45.7687 53.1359 45.1693 53.4976 44.5 53.9979C42.8 55.298 40.9618 57.8518 40 59.4979C39.8076 59.8337 39.4764 59.9986 39 60C38.5236 59.9986 38.1924 59.8337 38 59.4979C37.0382 57.8518 35.2 55.298 33.5 53.9979C32.8307 53.4976 32.2313 53.1359 31.4677 52.7383C22.4644 49.6191 16 41.0645 16 31C16 18.2975 26.2975 8 39 8C51.7025 8 62 18.2975 62 31Z" fill="currentColor" />\n    <rect data-id="placemark-point" x="34" y="69" width="10" height="10" rx="5" fill="inherit" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />\n    <g clip-path="url(#rount_clip_mask)">\n      <rect x="19" y="11" width="40" height="40" rx="20" fill="${e?"url(#placemark_image_pattern)":"inherit"}" />\n    </g>\n  <defs>\n    ${e?'<pattern id="placemark_image_pattern" patternContentUnits="objectBoundingBox" width="1" height="1">\n  <use xlink:href="#placemark_image" transform="translate(0 -0.0318182) scale(0.00113636)" />\n</pattern>':""}\n    <clipPath id="rount_clip_mask">\n      <rect x="19" y="11" width="40" height="40" rx="20" />\n    </clipPath>\n    ${e?`<image data-id="placemark-image" id="placemark_image" width="880" height="936" xlink:href="${e}" />`:""}\n  </defs>\n</svg>`},659934:(e,t,r)=>{"use strict";r.d(t,{pointIcon:()=>n});const n=()=>'\n<svg width="8" height="8" viewBox="0 0 8 8" xmlns="http://www.w3.org/2000/svg">\n  <circle cx="4" cy="4" r="4" fill="currentColor"/>\n</svg>'},224650:(e,t,r)=>{"use strict";r.d(t,{ensureVKMapsAdapter:()=>_});var n=r(911786),a=r(544927);class s{async load(){if(!this.isLoaded)try{await this.loadAssets(),this.debugLog("before resolve"),this._readyActions.resolve()}catch(e){this._status="error",this._readyActions.reject(e)}}get ready(){return this._ready}debugLog(e,...t){this.params.debugEnabled&&console.log(`[${this.constructor.name}]: ${e}`,...t)}get api(){return this._api}get isLoaded(){return"loaded"===this.status}get isError(){return"error"===this.status}get status(){return this._status}async loadAssets(){this.debugLog("loadAssets");try{if(!this.params.accessToken)throw new Error("Не указан accessToken");const{default:e}=await Promise.all([r.e(24639),r.e("langs/web/plugins_maps_mmrgl_script_chunk")]).then(r.t.bind(r,192500,23));this.debugLog("after js lib import"),await Promise.all([r.e(30685),r.e("langs/web/plugins_maps_mmrgl_style_chunk")]).then(r.bind(r,204034)),this.debugLog("after css lib import"),this._api=e,this.debugLog("after set api"),this._api.accessToken=this.params.accessToken,this.debugLog("after accessToken"),this._status="loaded",this.debugLog("loaded")}catch{throw new n.MapsLoadError("Не удалось загрузить файлы для работы с картами")}}constructor({accessToken:e,debugEnabled:t}){this._readyActions={resolve:()=>{},reject:()=>{}},this.params={accessToken:a.apiKey,debugEnabled:!1},this._status="loading",this._api=null,this.debugLog("constructor"),e&&(this.params.accessToken=e),t&&(this.params.debugEnabled=t),this._ready=new Promise(((e,t)=>{this._readyActions.resolve=e,this._readyActions.reject=t}))}}const _=((e=!1)=>{let t=null;return()=>(t||(t=new s({debugEnabled:e})),t)})()},77067:(e,t,r)=>{"use strict";r.d(t,{VKMaps:()=>I});var n=r(715263),a=r(911786),s=r(260682),_=r(671014),c=r(18560),l=r(305114),u=r(985931),d=r(659934),p=r(999490),E=r(1838),m=r(224650),g=r(868624);const A="mmr://api/styles/main_style.json",f="mmr://api/styles/dark_style.json";class I{async init(){if("loaded"===this._adapter.status)return this.debugLog("init","loaded"),this;try{this._adapter.load(),await this._adapter.ready,this.debugLog("init","adapter loaded",this._adapter.isLoaded)}catch(e){if(e instanceof Error)throw e}return this}debugLog(e,...t){this.debugEnabled&&console.log(`[${this.constructor.name}]: ${e}`,...t)}get status(){return this._adapter.status}get api(){return this._adapter.api}get adapter(){return this._adapter}get map(){if(null===this._map)throw new n.MapsMapNotFoundError("Карта вероятно не инициализирована");return this._map}get isRendered(){return Boolean(this.map)}triggerGeoControl(){this.debugLog("triggerGeoControl",{showUserLocation:this._geoControl?.options.showUserLocation}),this._geoControl&&this._geoControl?._geolocateButton.click()}toggleDarkTheme(e){this.debugLog("toggleDarkTheme",e),this.map.setStyle(e?f:A,{transformStyle:(e,t)=>{const r=e?.layers.filter((e=>e.id.startsWith(this._prefix))),n=t.layers.concat(r),{sources:a}=t;for(const[t,r]of Object.entries(e?.sources))t.startsWith(this._prefix)&&(a[t]=r);return{...t,sources:a,layers:n}}})}render({container:e,center:t,zoom:r=14,geoParams:{showUserLocation:n=!0,enableHighAccuracy:c=!1,showAccuracyCircle:l=!0,showGeolocationButton:u=!0}={},interactive:d=!0,showZoom:p=!0}){try{const s={container:e,zoom:r,center:[t.lng,t.lat],style:A,hash:!1,interactive:d};if(!this.api)throw new a.MapsLoadError("api карт не был загружен");this._map=new this.api.Map(s),this._geoControl=new this.api.GeolocateControl({showUserLocation:n,showAccuracyCircle:l,positionOptions:{enableHighAccuracy:c}});const _=new this.api.NavigationControl({showCompass:!1,showZoom:p});u&&this._map.addControl(this._geoControl,"bottom-right"),this._map.addControl(_,"bottom-right"),this.map.on("load",(()=>{this._handleMapEvent({eventType:"load"}),this._registerMapEventHandlers()}))}catch(e){if(e instanceof s.MapsError)throw e;if(e instanceof Error)throw new _.MapsRenderError(e.message);throw new s.MapsError("Неизвестная ошибка при отрисовке карты")}return this}onMapMouseEvent(e,t){if(this.debugLog("onMapMouseEvent",e,t),void 0===this._mapMouseEventHandlers[e])throw new s.MapsError(`Обработчик события "${e}" не реализован`);this._mapMouseEventHandlers[e]?.add(t)}onMapLayerMouseEvent(e,t,r){if(this.debugLog("onMapLayerMouseEvent",e,t,r),void 0===this._mapMouseEventHandlers[e])throw new s.MapsError(`Обработчик события "${e}" не реализован`);const n=t.startsWith(this._prefix)?t:this._getId(t);this.map.on(e,n,(r=>{this._handleMapMouseEvent({eventType:e,layerId:t,params:{feature:r.features?.[0],lngLat:{lng:r.lngLat.lng,lat:r.lngLat.lat}}})})),this._mapMouseEventHandlers[e]?.add([t,r])}offMapMouseEvent(e,t){if(this.debugLog("offMapMouseEvent",e,t),void 0===this._mapMouseEventHandlers[e])throw new s.MapsError(`Обработчик события "${e}" не реализован`);this._mapMouseEventHandlers[e]?.delete(t)}offMapLayerMouseEvent(e,t,r){if(this.debugLog("offMapLayerMouseEvent",e,t,r),void 0===this._mapMouseEventHandlers[e])throw new s.MapsError(`Обработчик события "${e}" не реализован`);this.map.off(e,t,r),this._mapMouseEventHandlers[e]?.delete([t,r])}onMapEvent(e,t){if(this.debugLog("onMapEvent",e,t),void 0===this._mapEventHandlers[e])throw new s.MapsError(`Обработчик события "${e}" не реализован`);this._mapEventHandlers[e]?.add(t)}offMapEvent(e,t){if(this.debugLog("offMapEvent",e,t),void 0===this._mapEventHandlers[e])throw new s.MapsError(`Обработчик события "${e}" не реализован`);this._mapEventHandlers[e]?.delete(t)}_isLayerMouseEvent(e){return"layerId"in e}_handleMapMouseEvent(e){const{eventType:t,params:r}=e;this.debugLog("_handleMapMouseEvent",{eventType:t,params:r}),this._mapMouseEventHandlers[t]?.forEach((t=>{if(Array.isArray(t)){const[n,a]=t;if(this._isLayerMouseEvent(e)&&n===e.layerId){const e="feature"in r?r.feature:null;a({...e&&{feature:e},lngLat:r.lngLat})}}else t({lngLat:r.lngLat})}))}_handleMapEvent({eventType:e}){this.debugLog("_handleMapEvent",{eventType:e});const{lng:t,lat:r}=this.map.getCenter();this._mapEventHandlers[e]?.forEach((e=>{e({lngLat:{lng:t,lat:r}})}))}_registerMapEventHandlers(){this.map.on("mouseenter",(e=>{this._handleMapMouseEvent({eventType:"mouseenter",params:{lngLat:{lng:e.lngLat.lng,lat:e.lngLat.lat}}})})),this.map.on("mouseleave",(e=>{this._handleMapMouseEvent({eventType:"mouseleave",params:{lngLat:{lng:e.lngLat.lng,lat:e.lngLat.lat}}})})),this.map.on("mousedown",(e=>{this._handleMapMouseEvent({eventType:"mousedown",params:{lngLat:{lng:e.lngLat.lng,lat:e.lngLat.lat}}})})),this.map.on("mousemove",(e=>{this._handleMapMouseEvent({eventType:"mousemove",params:{lngLat:{lng:e.lngLat.lng,lat:e.lngLat.lat}}})})),this.map.on("mouseup",(e=>{this._handleMapMouseEvent({eventType:"mouseup",params:{lngLat:{lng:e.lngLat.lng,lat:e.lngLat.lat}}})})),this.map.on("drag",(e=>{const t=e.target.getCenter();this._handleMapMouseEvent({eventType:"drag",params:{lngLat:{lng:t.lng,lat:t.lat}}})})),this.map.on("dragstart",(e=>{const t=e.target.getCenter();this._handleMapMouseEvent({eventType:"dragstart",params:{lngLat:{lng:t.lng,lat:t.lat}}})})),this.map.on("dragend",(e=>{const t=e.target.getCenter();this._handleMapMouseEvent({eventType:"dragend",params:{lngLat:{lng:t.lng,lat:t.lat}}})})),this.map.on("click",(e=>{this._handleMapMouseEvent({eventType:"click",params:{lngLat:{lng:e.lngLat.lng,lat:e.lngLat.lat}}})})),this.map.on("zoom",(e=>{const t=e.target.getCenter();this._handleMapMouseEvent({eventType:"zoom",params:{lngLat:{lng:t.lng,lat:t.lat}}})})),this.map.on("zoomend",(e=>{const t=e.target.getCenter();this._handleMapMouseEvent({eventType:"zoomend",params:{lngLat:{lng:t.lng,lat:t.lat}}})})),this.debugLog("_registerMapEventHandlers","registered")}get center(){if(!this.map)return null;const{lng:e,lat:t}=this.map.getCenter();return{lng:e,lat:t}}setCenter(e){const{coords:{lat:t,lng:r}}=e;return e.isAnimated?(this.map.flyTo({center:{lng:r,lat:t}}),this):(this.map.setCenter({lng:r,lat:t}),this)}get zoom(){return this.map.getZoom()}setZoom({value:e}){return this.map.setZoom(e),this}destroy(){this._map?.remove();const e=Object.keys(this._mapMouseEventHandlers),t=Object.keys(this._mapEventHandlers);e.forEach((e=>{this._mapMouseEventHandlers[e]?.clear()})),t.forEach((e=>{this._mapEventHandlers[e]?.clear()})),this._geoJSONSources.clear()}_getPlacemarkDataByDisplayType({displayType:e,imageSrc:t=""}){let r,n,a;const s=10;let _={top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-50],"bottom-left":[25,-65],"bottom-right":[-25,-65],left:[s,-40],right:[-10,-40]};switch(e){case c.MapsPlacemarkDisplayType.pin:r=(0,u.pinIcon)(),n=[0,0],a="";break;case c.MapsPlacemarkDisplayType.dot:r=(0,d.pointIcon)(),n=[0,8],a="";break;case c.MapsPlacemarkDisplayType.circle:r=(0,p.circlePlacemarkIcon)(t),n=[0,15],a="drop-shadow(0 5px 0.75rem rgba(0,0,0,.3))";break;case c.MapsPlacemarkDisplayType.marker:r=(0,E.placemarkIcon)(t),n=[0,15],a="drop-shadow(0 10px 0.75rem rgba(0,0,0,.3))"}const l=document.createElement("div");e===c.MapsPlacemarkDisplayType.pin&&(l.style.zIndex="1");const m=l.attachShadow({mode:"open"}),g=document.createElement("span");return g.setHTMLUnsafe(r),m.appendChild(g),{iconEl:l,iconOffset:n,iconShadow:a,popupOffsets:_}}_getId(e){return`${this._prefix}${e}`}addPlacemark({displayType:e=c.MapsPlacemarkDisplayType.default,noShadow:t=!1,imageSrc:r,color:n,anchorColor:a,...s}){if(this._adapter.isError||!this._adapter.isLoaded||!this._adapter.api)throw new l.MapsPlacemarkError("Невозможно создать метку. Модуль карт не загружен");const _={...s};if(e&&e!==c.MapsPlacemarkDisplayType.default){const{iconEl:l,iconOffset:u,iconShadow:d}=this._getPlacemarkDataByDisplayType({displayType:e,imageSrc:r});l.style.color=n??"#2688eb",e!==c.MapsPlacemarkDisplayType.pin&&(l.style.fill=a??"#99A2AD"),s.onClick&&(l.style.cursor="pointer"),t||""===d||(l.style.filter=d),_.element=l,_.offset=u,_.anchor="bottom"}else _.color=n;const u=new g.VKMapsPlacemark({api:this._adapter.api,map:this.map,params:_,debugEnabled:this.debugEnabled});return u.render(),u}getBoundingBox(){const e=this.map.getBounds(),t=e.getNorthWest(),r=e.getSouthEast();return{nw:{lng:t.lng,lat:t.lat},se:{lng:r.lng,lat:r.lat}}}get isModuleLoaded(){return!(this._adapter.isError||!this._adapter.isLoaded||!this._adapter.api)}get geoJSONSources(){return this._geoJSONSources}removeGeoJSONSource(e){this._geoJSONSources.delete(e),this.map.removeSource(this._getId(e))}addCheckoutPickupPointsData({id:e,features:t,onPointClick:r}){if(!this.isModuleLoaded)throw new s.MapsError("Невозможно нанести кластеры меток. Модуль карт не загружен");if(this._geoJSONSources.has(e))throw new s.MapsError(`Кластер с id: ${e} уже создан`);const n=this._getId(e),a=`${n}_Clusters`,_=`${n}_ClustersCount`,c=`${n}_Unclustered`,l=`${n}_ShadowLevel1`,u=`${n}_ShadowLevel2`;try{this.map.addSource(n,{type:"geojson",data:{type:"FeatureCollection",features:t},cluster:!0,clusterMaxZoom:14,clusterRadius:50})}catch(e){throw new s.MapsError("Ошибка добавления geojson-источника данных")}this._geoJSONSources.add(e);try{this.map.addLayer({id:a,type:"circle",source:n,filter:["has","point_count"],paint:{"circle-color":"#2688EB","circle-stroke-width":2,"circle-stroke-color":"#fff","circle-radius":16}}),this.map.addLayer({id:_,type:"symbol",source:n,filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Semibold"],"text-size":13,"text-allow-overlap":!0},paint:{"text-color":"#fff"}}),this.map.addLayer({id:l,type:"circle",source:n,paint:{"circle-color":"rgba(0, 0, 0, 0.08)","circle-translate":[0,0],"circle-blur":1,"circle-radius":["interpolate",["linear"],["zoom"],12,["case",["boolean",["has","point_count"],!1],24,8],13,24]}},a),this.map.addLayer({id:u,type:"circle",source:n,paint:{"circle-color":"rgba(0, 0, 0, 0.08)","circle-translate":[0,4],"circle-blur":1,"circle-radius":["interpolate",["linear"],["zoom"],12,["case",["boolean",["has","point_count"],!1],32,16],13,24]}},l),this.map.addLayer({id:c,type:"circle",source:n,filter:["!",["has","point_count"]],paint:{"circle-color":["get","color"],"circle-stroke-width":["interpolate",["linear"],["zoom"],12,0,13,2],"circle-stroke-color":"#fff","circle-radius":["interpolate",["linear"],["zoom"],12,4,13,16]}})}catch(e){throw new s.MapsError("Ошибка добавления слоев для кластера")}this.onMapLayerMouseEvent("mouseenter",c,(()=>{this.map.getCanvas().style.cursor="pointer"})),this.onMapLayerMouseEvent("mouseleave",c,(()=>{this.map.getCanvas().style.cursor=""})),this.onMapLayerMouseEvent("click",c,(({feature:e})=>{e?.properties?.id&&r({id:e.properties.id})}))}updateCheckoutPickupPointsData({id:e,features:t}){if(!this._geoJSONSources.has(e))throw new s.MapsError(`Источник данных карты с id: ${e} не существует`);const r=this.map.getSource(this._getId(e));if(!r||"geojson"!==r.type)throw new s.MapsError(`Источник данных карты с id: ${this._getId(e)} не найден на карте`);r?.setData({type:"FeatureCollection",features:t})}constructor(e=!1,t=(0,m.ensureVKMapsAdapter)()){this.debugEnabled=e,this._adapter=t,this._map=null,this._geoControl=null,this._mapMouseEventHandlers={click:new Set,mousedown:new Set,mouseenter:new Set,mouseleave:new Set,mousemove:new Set,mouseup:new Set,drag:new Set,dragstart:new Set,dragend:new Set,zoom:new Set,zoomend:new Set},this._mapEventHandlers={load:new Set},this._prefix="VKMapsPrefix_",this._geoJSONSources=new Set,this.debugLog("constructor")}}},868624:(e,t,r)=>{"use strict";r.d(t,{VKMapsPlacemark:()=>a});var n=r(305114);class a{debugLog(e,...t){this.debugEnabled&&console.log(`[${this.constructor.name}]: ${e}`,...t)}render(){const{coords:e,color:t,element:r,offset:n,anchor:a,onClick:s}=this.params,_={color:t,element:r,offset:n,draggable:!1,anchor:a};this._marker=new this.api.Marker(_),this._marker.setLngLat(e).addTo(this.map),s&&(this.marker.getElement().addEventListener("click",this._clickHandler),this.debugLog("onClick listener added")),this.debugLog("render")}get marker(){if(!this._marker)throw new n.MapsPlacemarkError("Маркер не создан. Возможно нужна инициализация через render");return this._marker}remove(){this.params.onClick&&this.params.element&&(this.marker.getElement().removeEventListener("click",this._clickHandler),this.debugLog("onClick listener removed")),this.marker.remove()}get coords(){const{lng:e,lat:t}=this.marker.getLngLat();return{lng:e,lat:t}}setCoords(e){return this.marker.setLngLat(e),this}focus({isAnimated:e=!1,durationMs:t}={}){return e?this.map.flyTo({center:this.coords,duration:t}):this.map.setCenter(this.coords),this}constructor({api:e,map:t,params:r,debugEnabled:n=!1}){this.debugEnabled=!1,this._marker=null,this._clickHandler=()=>{this.params?.onClick&&this.params.onClick(this.params.coords)},this.api=e,this.map=t,this.params=r,this.debugEnabled=n}}},544927:(e,t,r)=>{"use strict";r.d(t,{apiKey:()=>n});const n="17ae177bfcad1593e4c74328dc7eabb996d1c1a0faab5192a4a4752697213d32"},90526:(e,t,r)=>{"use strict";r.d(t,{MapsFactory:()=>s});var n=r(331635),a=r(132028);class s{}s=(0,n.__decorate)([a.scope.global({abstract:!0})],s)},18560:(e,t,r)=>{"use strict";r.d(t,{MAPS_DEFAULT_MOSCOW_COORDINATES:()=>n,MapsMapEventType:()=>_,MapsMouseEventType:()=>s,MapsPlacemarkDisplayType:()=>a});const n={lat:55.751322,lng:37.617592},a={default:"default",pin:"pin",marker:"marker",circle:"circle",dot:"dot"},s={click:"click",mousedown:"mousedown",mousemove:"mousemove",mouseup:"mouseup",touchstart:"touchstart",touchmove:"touchmove",touchend:"touchend",drag:"drag",dragstart:"dragstart",dragend:"dragend",zoom:"zoom",zoomend:"zoomend"},_={load:"load"}},260682:(e,t,r)=>{"use strict";r.d(t,{MapsError:()=>n});class n extends Error{constructor(e){super(e),this.name=`${this.constructor.name}`}}},911786:(e,t,r)=>{"use strict";r.d(t,{MapsLoadError:()=>a});var n=r(260682);class a extends n.MapsError{}},715263:(e,t,r)=>{"use strict";r.d(t,{MapsMapNotFoundError:()=>a});var n=r(260682);class a extends n.MapsError{}},305114:(e,t,r)=>{"use strict";r.d(t,{MapsPlacemarkError:()=>a});var n=r(260682);class a extends n.MapsError{}},671014:(e,t,r)=>{"use strict";r.d(t,{MapsRenderError:()=>a});var n=r(260682);class a extends n.MapsError{}},230414:(e,t,r)=>{"use strict";r.d(t,{MediaFocus:()=>d});var n=r(331635),a=r(327813),s=r(558137),_=r(235901),c=r(204739);const l=(0,s.makeSharedState)("media-focus",(()=>({instance:null})),{version:1}),u=(0,s.makeSharedState)("media-focus/stuffing",(()=>({mediaSessionController:new _.MediaSessionController,channels:(0,a.observable)(new Map)})),{version:1});class d{static ensure(){const e=l();return e.instance||(e.instance=new d),e.instance}createUncontrolledChannel(e){return this.createChannel(e,{pause:p,resume:p})}createChannel(e,t){if(this.channels.has(e))throw new Error(`MediaFocusChannel id ${e} already registered`);const r=new c.MediaFocusChannel(e,t);return(0,a.runInAction)((()=>{this.channels.set(e,r)})),r.events.on("start",(()=>this.handleChannelStart(r))),r.events.on("stop",(()=>this.handleChannelStop(r))),this.updateGlobals(),r}get activeChannels(){return[...this.channels.values()].filter((e=>e.active))}get lastActiveChannel(){return[...this.activeChannels].sort(((e,t)=>t.activatedAt-e.activatedAt)).at(0)}updateGlobals(){this.updateMediaSession()}pauseLowerPriority(e){for(const t of this.activeChannels)t.id===e.id||t.config.priority<e.config.priority||t.pause()}resumeHighestPriority(e){const t=[...this.channels.values()].filter((t=>t.paused&&t.id!==e.id)).sort(((e,t)=>e.config.priority-t.config.priority)).at(0);t&&t.resume()}updateMediaSession(){const e=this.mediaSessionController,t=this.channels.get("calls"),r=t?.active?t:this.lastActiveChannel;r&&e.current!==r.mediaSession&&e.setCurrent(r.mediaSession)}constructor(){this.handleChannelStart=e=>{this.channels.get(e.id)===e&&(this.pauseLowerPriority(e),this.updateGlobals())},this.handleChannelStop=e=>{this.channels.get(e.id)===e&&(this.resumeHighestPriority(e),this.updateGlobals())};const e=u();this.mediaSessionController=e.mediaSessionController,this.channels=e.channels,(0,a.makeObservable)(this)}}function p(){throw new Error("This channel can not be paused or resumed")}(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],d.prototype,"activeChannels",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],d.prototype,"lastActiveChannel",null)},204739:(e,t,r)=>{"use strict";r.d(t,{MediaFocusChannel:()=>l});var n=r(331635),a=r(327813),s=r(584053),_=r(709282),c=r(460424);class l{get events(){return this.emitter.listenable}createAction(e,t){return(...r)=>{if(this.currentAction)throw new Error(`Unexpected action ${e} call while another action ${this.currentAction} is in progress`);try{this.currentAction=e;const n=(0,a.runInAction)((()=>t(...r)));return this.emitter.emit(e),n}finally{this.currentAction=null}}}constructor(e,t){this.emitter=new s.Emitter,this.currentAction=null,this.mediaSession=new _.MediaSessionObject,this.active=!1,this.paused=!1,this.activatedAt=0,this.start=this.createAction("start",(()=>{this.active||(this.active=!0,this.activatedAt=+new Date,this.paused=!1)})),this.stop=this.createAction("stop",(()=>{this.active&&(this.active=!1,this.paused=!1)})),this.pause=this.createAction("pause",(()=>{this.paused||(this.actions.pause(),this.paused=!0)})),this.resume=this.createAction("resume",(()=>{this.paused&&(this.actions.resume(),this.paused=!1)})),this.id=e,this.config=c.CONFIGS[e],this.actions=t,(0,a.makeObservable)(this)}}(0,n.__decorate)([a.observable],l.prototype,"active",void 0),(0,n.__decorate)([a.observable],l.prototype,"paused",void 0),(0,n.__decorate)([a.observable],l.prototype,"activatedAt",void 0)},235901:(e,t,r)=>{"use strict";r.d(t,{MediaSessionController:()=>E});var n=r(434518),a=r(763812),s=(0,a._)("_native"),_=(0,a._)("_supportedActions"),c=(0,a._)("_current"),l=(0,a._)("_unsupportedActions"),u=(0,a._)("_setActionHandler"),d=(0,a._)("_applyNative"),p=(0,a._)("_handleChangeCurrentData");class E{get current(){return(0,n._)(this,c)[c]}setCurrent(e){(0,n._)(this,c)[c]?.events.off("change",(0,n._)(this,p)[p]),(0,n._)(this,c)[c]=e,e.events.on("change",(0,n._)(this,p)[p]),(0,n._)(this,d)[d](e)}constructor(){if(Object.defineProperty(this,u,{value:m}),Object.defineProperty(this,d,{value:g}),Object.defineProperty(this,s,{writable:!0,value:void 0}),Object.defineProperty(this,_,{writable:!0,value:void 0}),Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:void 0}),(0,n._)(this,s)[s]=null,(0,n._)(this,_)[_]=["nexttrack","pause","play","previoustrack","seekbackward","seekforward","seekto","skipad","stop","hangup","enterpictureinpicture"],(0,n._)(this,c)[c]=null,(0,n._)(this,l)[l]=new Set,(0,n._)(this,p)[p]=({diff:{metadata:e,playbackState:t,actionHandler:r,positionState:a,cameraActive:_,microphoneActive:c}})=>{const l=(0,n._)(this,s)[s];l&&(void 0!==e&&(l.metadata=e),t&&(l.playbackState=t),r&&(0,n._)(this,u)[u](r[0],r[1]),void 0!==a&&l.setPositionState(a??void 0),void 0!==_&&"setCameraActive"in l&&l.setCameraActive(_),void 0!==c&&"setMicrophoneActive"in l&&l.setMicrophoneActive(c))},"undefined"==typeof window||!("mediaSession"in window.navigator))return;const e=window.navigator.mediaSession;(0,n._)(this,s)[s]=e,"setCameraActive"in e&&(0,n._)(this,_)[_].push("togglecamera"),"setMicrophoneActive"in e&&(0,n._)(this,_)[_].push("togglemicrophone")}}function m(e,t){const r=(0,n._)(this,s)[s];if(r&&!(0,n._)(this,l)[l].has(e))try{r.setActionHandler(e,t)}catch(r){t&&console.warn(r),(0,n._)(this,l)[l].add(e)}}function g(e){const t=(0,n._)(this,s)[s];if(t){t.metadata=e.metadata,t.playbackState=e.playbackState,t.setPositionState(e.positionState),"setCameraActive"in t&&t.setCameraActive(e.cameraActive),"setMicrophoneActive"in t&&t.setMicrophoneActive(e.microphoneActive);for(const t of(0,n._)(this,_)[_]){const r=e.actionHandlers.get(t)??null;(0,n._)(this,u)[u](t,r)}}}},709282:(e,t,r)=>{"use strict";r.d(t,{MediaSessionObject:()=>g});var n=r(434518),a=r(763812),s=r(584053),_=(0,a._)("_emitter"),c=(0,a._)("_actionHandlers"),l=(0,a._)("_positionState"),u=(0,a._)("_metadata"),d=(0,a._)("_playbackState"),p=(0,a._)("_cameraActive"),E=(0,a._)("_microphoneActive"),m=(0,a._)("_emitChange");class g{get events(){return(0,n._)(this,_)[_].listenable}get metadata(){return(0,n._)(this,u)[u]}set metadata(e){(0,n._)(this,u)[u]=e,(0,n._)(this,m)[m]({metadata:e})}get playbackState(){return(0,n._)(this,d)[d]}set playbackState(e){(0,n._)(this,d)[d]=e,(0,n._)(this,m)[m]({playbackState:e})}get actionHandlers(){return(0,n._)(this,c)[c]}get positionState(){return(0,n._)(this,l)[l]}get cameraActive(){return(0,n._)(this,p)[p]}get microphoneActive(){return(0,n._)(this,E)[E]}setPositionState(e){(0,n._)(this,l)[l]=e,(0,n._)(this,m)[m]({positionState:e})}setActionHandler(e,t){this.actionHandlers.set(e,t),(0,n._)(this,m)[m]({actionHandler:[e,t]})}setCameraActive(e){(0,n._)(this,p)[p]=e,(0,n._)(this,m)[m]({cameraActive:e})}setMicrophoneActive(e){(0,n._)(this,E)[E]=e,(0,n._)(this,m)[m]({microphoneActive:e})}constructor(){Object.defineProperty(this,m,{value:A}),Object.defineProperty(this,_,{writable:!0,value:void 0}),Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:void 0}),Object.defineProperty(this,u,{writable:!0,value:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:void 0}),Object.defineProperty(this,E,{writable:!0,value:void 0}),(0,n._)(this,_)[_]=new s.Emitter,(0,n._)(this,c)[c]=new Map,(0,n._)(this,u)[u]=null,(0,n._)(this,d)[d]="none",(0,n._)(this,p)[p]=!1,(0,n._)(this,E)[E]=!1}}function A(e){(0,n._)(this,_)[_].emit("change",{diff:e})}},460424:(e,t,r)=>{"use strict";r.d(t,{CONFIGS:()=>n});const n={calls:{priority:0},video:{priority:1},stories:{priority:1},audio:{priority:2}}},756314:(e,t,r)=>{"use strict";r.d(t,{MediaPlayersSwitch:()=>d});var n=r(434518),a=r(763812),s=r(558137),_=r(26530),c=r(516993);const l=(0,s.makeSharedState)("media-players-switch",(()=>({instance:null})),{version:0});var u=(0,a._)("_resume");class d{static ensure(e){const t=l();return t.instance||(t.instance=new d(e.resolve(_.EmitterFactory))),t.instance}connect(e){const t=new c.MediaPlayersSwitchChannel(e,this.emitterFactory),r=this.handlePlay.bind(this,t),n=this.handleStop.bind(this,t),a=this.handleMute.bind(this,t),s=this.handleUnmute.bind(this,t);t.events.on("play",r),t.events.on("stop",n),t.events.on("mute",a),t.events.on("unmute",s);return{emit:t.emitter.emit.bind(t.emitter),disconnect:()=>{t.events.off("play",r),t.events.off("stop",n),t.events.off("mute",a),t.events.off("unmute",s),this.activeChannel===t&&(this.activeChannel=null),this.mutedChannel===t&&(this.mutedChannel=null)}}}resume(e={reason:"UNKNOWN"}){return(0,n._)(this,u)[u]({...e,reason:e.reason??"UNKNOWN"})}autoResume(e){(0,n._)(this,u)[u]({...e,reason:"CHANNEL_AUTO_RESUME"})}pause(e={}){this.activeChannel&&!this.activeChannel.state.isPaused&&this.mutedChannel&&!this.mutedChannel.state.isPaused&&(e.initiatedByCalls?this.activeChannel.pauseByCalls(e):(this.activeChannel.pause(e),this.mutedChannel.pause(e)))}stop(e={}){this.activeChannel&&(this.activeChannel.stop(e),this.activeChannel=null)}handlePlay(e,t=!1){t?(e!==this.mutedChannel&&this.mutedChannel?.state.isPlaying&&this.mutedChannel.pause({}),this.mutedChannel=e):(e!==this.activeChannel&&this.activeChannel?.state.isPlaying&&this.activeChannel.pause({}),this.activeChannel=e)}handleMute(e){e!==this.mutedChannel&&this.mutedChannel?.state.isPlaying&&this.mutedChannel.pause({}),this.activeChannel===e&&(this.activeChannel=null),this.mutedChannel=e}handleUnmute(e){e!==this.activeChannel&&this.activeChannel?.state.isPlaying&&this.activeChannel.pause({}),this.mutedChannel===e&&(this.mutedChannel=null),this.activeChannel=e}handleStop(e){e===this.activeChannel&&(this.activeChannel=null),e===this.mutedChannel&&(this.mutedChannel=null)}constructor(e){Object.defineProperty(this,u,{value:p}),this.emitterFactory=e,this.activeChannel=null,this.mutedChannel=null}}function p(e){!this.activeChannel||this.activeChannel.state.isPlaying||e.initiatedByCalls&&!this.activeChannel.state.isPausedByCalls||this.activeChannel.resume(e)}},516993:(e,t,r)=>{"use strict";r.d(t,{MediaPlayersSwitchChannel:()=>u});var n=r(434518),a=r(763812),s=(0,a._)("_connectEvents"),_=(0,a._)("_handlePlay"),c=(0,a._)("_handlePause"),l=(0,a._)("_handleStop");class u{get events(){return this.emitter.listenable}get state(){return this._state}set state(e){this._state={...this._state,...e},(this._state.isPlaying||this._state.isPaused||this._state.isPausedByCalls)&&(this._state.isIdle=!1)}pauseByCalls(e){this.state={isPausedByCalls:!0},this.pause(e)}constructor(e,t){Object.defineProperty(this,s,{value:d}),Object.defineProperty(this,_,{writable:!0,value:void 0}),Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:void 0}),this.emitterFactory=t,this._state={isIdle:!0,isPlaying:!1,isPaused:!1,isPausedByCalls:!1},this.emitter=this.emitterFactory.create(),(0,n._)(this,_)[_]=()=>{this.state={isPlaying:!0,isPaused:!1,isPausedByCalls:!1}},(0,n._)(this,c)[c]=()=>{this.state={isPlaying:!1,isPaused:!0}},(0,n._)(this,l)[l]=()=>{this.state={isPlaying:!1,isPaused:!1,isPausedByCalls:!1}},this.resume=e.resume.bind(this),this.pause=e.pause.bind(this),this.stop=e.stop.bind(this),(0,n._)(this,s)[s]()}}function d(){const{events:e}=this;e.on("play",(0,n._)(this,_)[_]),e.on("pause",(0,n._)(this,c)[c]),e.on("stop",(0,n._)(this,l)[l])}},558576:(e,t,r)=>{"use strict";r.d(t,{BrowserMediascope:()=>c});var n=r(331635),a=r(132028),s=r(287409),_=r(622934);class c extends _.Mediascope{[a.destroy](){for(const e of this.activityCounters.values())e.dispose();this.activityCounters.clear()}createActivityCounter(e){return new s.BrowserMediascopeActivityCounter(e)}}c=(0,n.__decorate)([a.scope.global()],c)},622934:(e,t,r)=>{"use strict";r.d(t,{Mediascope:()=>l});var n=r(434518),a=r(763812),s=r(331635),_=r(132028),c=(0,a._)("_makeKey");class l{ensureActivityCounter(e){const t=(0,n._)(this,c)[c](e);let r=this.activityCounters.get(t);return r||(r=this.createActivityCounter(e),this.activityCounters.set(t,r)),r}constructor(){Object.defineProperty(this,c,{value:u}),this.activityCounters=new Map}}function u(e){const{events:t}=e,r=t.start.code,n=t.stop.code,a=t.heartbeat?.code;return`${e.type}/${r}/${n}/${a}`}l=(0,s.__decorate)([_.scope.global({abstract:!0})],l)},287409:(e,t,r)=>{"use strict";r.d(t,{BrowserMediascopeActivityCounter:()=>R});var n=r(434518),a=r(763812),s=r(331635),_=r(327813),c=r(86909),l=r(939661),u=(0,a._)("_config"),d=(0,a._)("_pageVisibilityObserver"),p=(0,a._)("_isScreenType"),E=(0,a._)("_clearHeartbeatIntervalFn"),m=(0,a._)("_clearHeartbeatInterval"),g=(0,a._)("_startHeartbeat"),A=(0,a._)("_stopHeartbeat"),f=(0,a._)("_send"),I=(0,a._)("_handleVisibilityChange"),y=(0,a._)("_handleUnload");class R{dispose(){this.stop(),window.removeEventListener("unload",(0,n._)(this,y)[y])}start(){if(!(0,n._)(this,p)[p])return void this.startCollecting();const e=(0,n._)(this,d)[d];e.visibility&&this.startCollecting(),e.on("change",(0,n._)(this,I)[I])}stop(){this.stopCollecting(),(0,n._)(this,d)[d].off("change",(0,n._)(this,I)[I])}startCollecting(){this.isActive||((0,n._)(this,f)[f]((0,n._)(this,u)[u].events.start.code),(0,n._)(this,g)[g](),this.isActive=!0)}stopCollecting(){this.isActive&&((0,n._)(this,f)[f]((0,n._)(this,u)[u].events.stop.code),(0,n._)(this,A)[A](),this.isActive=!1)}constructor(e){Object.defineProperty(this,p,{get:O,set:void 0}),Object.defineProperty(this,m,{value:S}),Object.defineProperty(this,g,{value:T}),Object.defineProperty(this,A,{value:P}),Object.defineProperty(this,f,{value:b}),Object.defineProperty(this,u,{writable:!0,value:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,E,{writable:!0,value:void 0}),Object.defineProperty(this,I,{writable:!0,value:void 0}),Object.defineProperty(this,y,{writable:!0,value:void 0}),(0,n._)(this,d)[d]=l.PageVisibilityObserver.ensure(),this.isActive=!1,(0,n._)(this,E)[E]=null,(0,n._)(this,I)[I]=e=>{e?this.startCollecting():this.stopCollecting()},(0,n._)(this,y)[y]=()=>{this.isActive&&(0,n._)(this,f)[f]((0,n._)(this,u)[u].events.stop.code,!0)},(0,n._)(this,u)[u]=e,(0,_.makeObservable)(this),window.addEventListener("unload",(0,n._)(this,y)[y])}}function O(){return"screen"===(0,n._)(this,u)[u].type}function S(){(0,n._)(this,E)[E]&&((0,n._)(this,E)[E](),(0,n._)(this,E)[E]=null)}function T(){const e=(0,n._)(this,u)[u].events.heartbeat;if(!e||(0,n._)(this,E)[E])return;const{code:t,msInterval:r}=e;(0,n._)(this,m)[m](),(0,n._)(this,E)[E]=(0,c.setStableInterval)((()=>{(0,n._)(this,f)[f](t)}),r,{name:`MediascopeActivityCounter/heartbeat/${t}`})}function P(){(0,n._)(this,m)[m]()}async function b(e,t=!1){const r=`https://${e}.ms.vk.com`;if("hidden"!==document.visibilityState&&!t||void 0===navigator.sendBeacon)try{await fetch(r,{method:"HEAD",mode:"no-cors"})}catch{}else navigator.sendBeacon(r)}(0,s.__decorate)([_.observable],R.prototype,"isActive",void 0),(0,s.__decorate)([_.action,(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[]),(0,s.__metadata)("design:returntype",void 0)],R.prototype,"startCollecting",null),(0,s.__decorate)([_.action,(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[]),(0,s.__metadata)("design:returntype",void 0)],R.prototype,"stopCollecting",null)},809424:(e,t,r)=>{"use strict";r.d(t,{MetaData:()=>s});var n=r(331635),a=r(132028);class s{}s=(0,n.__decorate)([a.scope.global({abstract:!0})],s)},717436:(e,t,r)=>{"use strict";r.d(t,{MiniAppApiWrapper:()=>s});var n=r(331635),a=r(132028);class s{}s=(0,n.__decorate)([a.scope.global({abstract:!0})],s)},749216:(e,t,r)=>{"use strict";r.d(t,{MyTracker:()=>p});var n=r(434518),a=r(763812),s=r(331635),_=r(132028),c=r(951652),l=r(130653),u=r(164865);var d=(0,a._)("_activityCounters");class p{ensureActivityCounter({counterId:e="2579437",activityId:t,timespentType:r="screen",strict:a=!0}){const s=`${e}/${t}`;let _=(0,n._)(this,d)[d].get(s);if(_&&_.timespentType!==r)throw new Error(`ActivityCounter ${s} already registered with another timespentType (created: ${_.timespentType}, given: ${r})`);return _||(_=new u.MyTrackerActivityCounter({tmr:this.tmr,authService:this.authService,counterId:e,activityId:t,timespentType:r,strict:a}),(0,n._)(this,d)[d].set(s,_)),_}constructor(e,t){Object.defineProperty(this,d,{writable:!0,value:void 0}),this.authService=e,this.tmr=t,(0,n._)(this,d)[d]=new Map}}p=(0,s.__decorate)([_.scope.global(),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[void 0===c.AuthService?Object:c.AuthService,void 0===l.Tmr?Object:l.Tmr])],p)},164865:(e,t,r)=>{"use strict";r.d(t,{MyTrackerActivityCounter:()=>E});var n=r(434518),a=r(763812),s=(0,a._)("_authService"),_=(0,a._)("_tmr"),c=(0,a._)("_isActiveTimespent"),l=(0,a._)("_tmrStartTimespent"),u=(0,a._)("_tmrStopTimespent"),d=(0,a._)("_tmrIncrement"),p=(0,a._)("_userId");class E{get isActiveTimespent(){return(0,n._)(this,c)[c]}startTimespent(){if(this.isActiveTimespent){if(this.strict)throw new Error("ActivityCounter already started")}else(0,n._)(this,l)[l](),(0,n._)(this,c)[c]=!0}stopTimespent(){if(this.isActiveTimespent)(0,n._)(this,u)[u](),(0,n._)(this,c)[c]=!1;else if(this.strict)throw new Error("ActivityCounter is not started")}increment(){(0,n._)(this,d)[d]()}constructor({authService:e,tmr:t,counterId:r,activityId:a,timespentType:E,strict:I}){Object.defineProperty(this,l,{value:m}),Object.defineProperty(this,u,{value:g}),Object.defineProperty(this,d,{value:A}),Object.defineProperty(this,p,{get:f,set:void 0}),Object.defineProperty(this,s,{writable:!0,value:void 0}),Object.defineProperty(this,_,{writable:!0,value:void 0}),Object.defineProperty(this,c,{writable:!0,value:void 0}),(0,n._)(this,c)[c]=!1,(0,n._)(this,s)[s]=e,(0,n._)(this,_)[_]=t,this.counterId=r,this.activityId=a,this.timespentType=E,this.strict=I}}function m(){(0,n._)(this,_)[_].push({id:this.counterId,type:"startTimespent",activity:this.activityId,userId:(0,n._)(this,p)[p],canUseInBackground:"service"===this.timespentType})}function g(){(0,n._)(this,_)[_].push({id:this.counterId,type:"stopTimespent",activity:this.activityId,userId:(0,n._)(this,p)[p],canUseInBackground:"service"===this.timespentType})}function A(){(0,n._)(this,_)[_].push({id:this.counterId,type:"incrementEventTimespent",activity:this.activityId,userId:(0,n._)(this,p)[p]})}function f(){return(0,n._)(this,s)[s].userId??0}},571355:(e,t,r)=>{"use strict";r.d(t,{MyTrackerActivityId:()=>n});var n=function(e){return e[e.MusicTrackListenedDAU=2]="MusicTrackListenedDAU",e[e.CommunitySubscribe=11]="CommunitySubscribe",e[e.MusicScreen=80]="MusicScreen",e[e.MusicListen=85]="MusicListen",e[e.MusicSnippetsListen=86]="MusicSnippetsListen",e[e.AudiobooksListen=87]="AudiobooksListen",e[e.PodcastsListen=88]="PodcastsListen",e[e.RadioListen=89]="RadioListen",e[e.PodcastEpisodeListenedDAU=92]="PodcastEpisodeListenedDAU",e[e.AudiobookListenedDAU=93]="AudiobookListenedDAU",e[e.RadiostationListenedDAU=94]="RadiostationListenedDAU",e[e.MusicSnippetListenedDAU=95]="MusicSnippetListenedDAU",e[e.ClipViewScrollDAU=4]="ClipViewScrollDAU",e[e.ClipViewDAU=18]="ClipViewDAU",e[e.ClipPublishDAU=19]="ClipPublishDAU",e[e.ClipView=96]="ClipView",e[e.ClipSection=97]="ClipSection",e[e.ClipViewFullScreen=98]="ClipViewFullScreen",e}({})},882543:(e,t,r)=>{"use strict";r.d(t,{BrowserTmr:()=>_});var n=r(331635),a=r(132028),s=r(24516);class _{push(e){this.debugEnabled&&console.log("[tmr] push",e),this.tmrArray.push(e)}get debugEnabled(){return this.userEnv.partConfigEnabled("tmr_debug")}get tmrArray(){return r._dG("_tmr",window._tmr||[]),window._tmr}constructor(e){this.userEnv=e}}_=(0,n.__decorate)([a.scope.platform(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[void 0===s.UserEnv?Object:s.UserEnv])],_)},130653:(e,t,r)=>{"use strict";r.d(t,{Tmr:()=>s});var n=r(331635),a=r(132028);class s{}s=(0,n.__decorate)([a.scope.platform({abstract:!0})],s)},474928:(e,t,r)=>{"use strict";r.d(t,{Network:()=>s});var n=r(331635),a=r(132028);class s{}s=(0,n.__decorate)([a.scope.platform({abstract:!0})],s)},595980:(e,t,r)=>{"use strict";r.d(t,{PageVisibility:()=>c});var n=r(331635),a=r(327813),s=r(939661),_=r(132028);class c{get isVisible(){return this._isVisible}get visibility(){return this.isVisible}constructor(){this.setVisibility=(0,a.action)((e=>{this._isVisible=e})),this._observer=s.PageVisibilityObserver.ensure(),this._isVisible=this._observer.visibility,(0,a.makeObservable)(this),this._observer.on("change",this.setVisibility)}}(0,n.__decorate)([a.observable,(0,n.__metadata)("design:type",Boolean)],c.prototype,"_isVisible",void 0),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],c.prototype,"isVisible",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],c.prototype,"visibility",null),c=(0,n.__decorate)([_.scope.platform(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[])],c)},590780:(e,t,r)=>{"use strict";r.d(t,{Performance:()=>s});var n=r(331635),a=r(132028);class s{}s=(0,n.__decorate)([a.scope.platform({abstract:!0})],s)},551178:(e,t,r)=>{"use strict";r.d(t,{PerformanceStatsCore:()=>_,PerformanceStatsCoreEventType:()=>s});var n=r(331635),a=r(132028),s=function(e){return e.NAVIGATION_DONE="navigation.done",e.APP_SKELETON_RENDERED="app.skeleton_rendered",e.APP_BUNDLE_LOAD_STARTED="app.bundle_load_started",e.APP_BUNDLE_LOAD_DONE="app.bundle_load_done",e.APP_INIT_STARTED="app.init_started",e.APP_INIT_DONE="app.init_done",e.API_REQUEST="api.request",e.API_RESPONSE="api.response",e.APP_CONTENT_RENDERED="app.content_rendered",e.APP_MEDIA_LOADED="app.media_load_done",e}({});class _{}_=(0,n.__decorate)([a.scope.global({abstract:!0})],_)},842396:(e,t,r)=>{"use strict";r.d(t,{PhotoUtils:()=>s});var n=r(331635),a=r(132028);class s{}s=(0,n.__decorate)([a.scope.platform({abstract:!0})],s)},736780:(e,t,r)=>{"use strict";r.d(t,{PhotoViewer:()=>s});var n=r(331635),a=r(132028);class s{}s=(0,n.__decorate)([a.scope.global({abstract:!0})],s)},946258:(e,t,r)=>{"use strict";r.d(t,{PushNotifier:()=>s});var n=r(331635),a=r(132028);class s{}s=(0,n.__decorate)([a.scope.global({abstract:!0})],s)},12196:(e,t,r)=>{"use strict";r.d(t,{SessionStorage:()=>s});var n=r(331635),a=r(132028);class s{}s=(0,n.__decorate)([a.scope.global()],s)},670252:(e,t,r)=>{"use strict";r.d(t,{Snackbar:()=>s});var n=r(331635),a=r(132028);class s{}s=(0,n.__decorate)([a.scope.global({abstract:!0})],s)},24516:(e,t,r)=>{"use strict";r.d(t,{UserEnv:()=>s});var n=r(331635),a=r(132028);class s{}s=(0,n.__decorate)([a.scope.global()],s)},209708:(e,t,r)=>{"use strict";r.d(t,{VKPlayApi:()=>s});var n=r(331635),a=r(132028);class s{makeMethod(e){return(t,r)=>this.request(e,t,r)}constructor(){this.download=this.makeMethod("download")}}s.VK_PLAY_API_BASE="https://api.vkplay.ru/play/vk",s=(0,n.__decorate)([a.scope.global({abstract:!0})],s)},888584:(e,t,r)=>{"use strict";r.d(t,{VkHost:()=>s});var n=r(331635),a=r(132028);class s{get VK_POSSIBLE_SITE_HOSTS(){return["vk.com","vk.ru",this.getHostName()].filter(((e,t,r)=>r.indexOf(e)===t))}get VK_HOSTS(){return this.VK_POSSIBLE_SITE_HOSTS.concat(["vkontakte.ru","vk.me","userapi.com"])}get VK_SITE_REGEX_SOURCE_UNSAFE(){return this.escapeRE(this.getHostName())}get VK_SITES_REGEX_SOURCE_UNSAFE(){return this.VK_POSSIBLE_SITE_HOSTS.map(this.escapeRE).join("|")}get VK_HOST_REGEX_UNSAFE(){return new RegExp("("+this.VK_HOSTS.map(this.escapeRE).join("|")+")")}get VK_HOST_REGEX_GROUP_UNSAFE(){return new RegExp(this.VK_HOSTS.map(this.escapeRE).join("|"))}get VK_HOST_REGEX(){return new RegExp("^"+this.VK_HOST_REGEX_UNSAFE.source+"$")}get VK_DOMAIN_REGEX_UNSAFE(){return new RegExp(`([a-zA-Z0-9\\.\\_\\-]+\\.)?${this.VK_HOST_REGEX_UNSAFE.source}`)}get VK_DOMAIN_REGEX(){return new RegExp("^"+this.VK_DOMAIN_REGEX_UNSAFE.source+"$")}get VK_ORIGIN_REGEX(){return new RegExp(`^(https?:\\/\\/)?${this.VK_DOMAIN_REGEX_UNSAFE.source}$`)}get VK_ORIGIN_REGEX_STRICT(){return new RegExp(`^(https?:\\/\\/)${this.VK_DOMAIN_REGEX_UNSAFE.source}$`)}get VK_ORIGIN_PREFIX_REGEX(){return new RegExp(`^(https?:\\/\\/)${this.VK_DOMAIN_REGEX_UNSAFE.source}`)}get VK_URL_REGEX(){return new RegExp(`^(https?:\\/\\/)?${this.VK_DOMAIN_REGEX_UNSAFE.source}($|\\/(.*))`)}get VK_URL_REGEX_STRICT(){return new RegExp(`^(https?:\\/\\/)${this.VK_DOMAIN_REGEX_UNSAFE.source}($|\\/(.*))`)}wrapAwayIfExternal(e,t=!1){return this.checkIfInternal(e)?e:this.wrapAway(e,t)}wrapAway(e,t=!1){return"/away.php?to="+encodeURIComponent(decodeURIComponent(e))+(t?"&utf=1":"")}checkIfInternal(e){const t=decodeURIComponent(e),r=new RegExp(`^(https?:\\/\\/)?([a-z0-9_\\-.]+\\.)?${this.VK_SITE_REGEX_SOURCE_UNSAFE}(\\/.*)?`);return/^\/[^/]/.test(t)||r.test(t)}constructor(){this.escapeRE=e=>e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")}}s=(0,n.__decorate)([a.scope.global({abstract:!0})],s)},268688:(e,t,r)=>{"use strict";r.d(t,{Analytics:()=>s});var n=r(331635),a=r(132028);class s{}s=(0,n.__decorate)([a.scope.global({abstract:!0})],s)},422057:(e,t,r)=>{"use strict";r.d(t,{AnalyticsStats:()=>_});var n=r(331635),a=r(132028),s=r(268688);class _{getIntId(){return Math.floor(Math.random()*this.MAX_INT32)}getCurrentTime(){return(1e3*Date.now()).toString(10)}constructor(e){this.analytics=e,this.MAX_INT32=2147483647}}_=(0,n.__decorate)([a.scope.global(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[void 0===s.Analytics?Object:s.Analytics])],_)},397111:(e,t,r)=>{"use strict";r.d(t,{NetworkStats:()=>_});var n=r(331635),a=r(132028),s=r(422057);class _ extends s.AnalyticsStats{send(e){this.analytics.sendNetworkStats(e)}}_=(0,n.__decorate)([a.scope.global()],_)},627876:(e,t,r)=>{"use strict";r.d(t,{Statlog:()=>_});var n=r(331635),a=r(132028),s=r(422057);class _ extends s.AnalyticsStats{send(e){this.analytics.sendStatlogEvents(e)}}_=(0,n.__decorate)([a.scope.global()],_)},214079:(e,t,r)=>{"use strict";r.d(t,{StatsInfo:()=>s});var n=r(331635),a=r(132028);class s{}s=(0,n.__decorate)([a.scope.global()],s)},71892:(e,t,r)=>{"use strict";r.d(t,{Analytics:()=>s});var n=r(331635),a=r(132028);class s{}s=(0,n.__decorate)([a.scope.global({abstract:!0})],s)},641569:(e,t,r)=>{"use strict";r.d(t,{ApiNamespace:()=>l});var n=r(331635),a=r(831505),s=r(132028),_=r(295372),c=r(123980);class l{makeMethod(e,t){return async(r,n)=>{const s=`${this.namespace}.${e}`;if(t){const e=n?.version??a.API_VERSION;window.apiPrefetchReadyPromise&&await window.apiPrefetchReadyPromise;try{const t=this.apiPrefetch?.loadPrefetchCache(s,e,r);if(t)return t}catch(e){throw console.error(e),e}}return this.apiClient.request(s,r,n)}}constructor(e,t){this.apiClient=e,this.apiPrefetch=t}}l=(0,n.__decorate)([s.scope.global({abstract:!0}),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[void 0===c.APIClient?Object:c.APIClient,void 0===_.ApiPrefetch?Object:_.ApiPrefetch])],l)},21632:(e,t,r)=>{"use strict";r.d(t,{AccountApi:()=>_});var n=r(331635),a=r(641569),s=r(132028);class _ extends a.ApiNamespace{get namespace(){return"account"}constructor(...e){super(...e),this.getContactList=this.makeMethod("getContactList"),this.getInfo=this.makeMethod("getInfo"),this.getInfoWithPrefetch=this.makeMethod("getInfo",!0),this.setInfo=this.makeMethod("setInfo"),this.getProfileInfo=this.makeMethod("getProfileInfo"),this.getProfileShortInfo=this.makeMethod("getProfileShortInfo"),this.getPrivacySettings=this.makeMethod("getPrivacySettings"),this.getPrivacySettingsWithPrefetch=this.makeMethod("getPrivacySettings",!0),this.setPrivacy=this.makeMethod("setPrivacy"),this.saveInfo=this.makeMethod("saveProfileInfo"),this.deactivate=this.makeMethod("deactivate"),this.getBalance=this.makeMethod("getBalance"),this.getBalanceWithPrefetch=this.makeMethod("getBalance",!0),this.hideHelpHint=this.makeMethod("hideHelpHint"),this.getHelpHints=this.makeMethod("getHelpHints"),this.getHelpHintsWithPrefetch=this.makeMethod("getHelpHints",!0),this.getBanned=this.makeMethod("getBanned"),this.getBannedWithPrefetch=this.makeMethod("getBanned",!0),this.getCounters=this.makeMethod("getCounters"),this.ban=this.makeMethod("ban"),this.unban=this.makeMethod("unban"),this.getAdsAcceptance=this.makeMethod("getAdsAcceptance"),this.setAdsAcceptance=this.makeMethod("setAdsAcceptance"),this.getSilentModeStatus=this.makeMethod("getSilentModeStatus"),this.getSilentModeStatusWithPrefetch=this.makeMethod("getSilentModeStatus",!0),this.startSilentMode=this.makeMethod("startSilentMode"),this.stopSilentMode=this.makeMethod("stopSilentMode"),this.getProfileDataLegacy=this.makeMethod("getProfileDataLegacy",!0),this.getLeftAds=this.makeMethod("getLeftAds")}}_=(0,n.__decorate)([s.scope.global()],_)},346675:(e,t,r)=>{"use strict";r.d(t,{AudioApi:()=>_});var n=r(331635),a=r(132028),s=r(641569);class _ extends s.ApiNamespace{get namespace(){return"audio"}constructor(...e){super(...e),this.add=this.makeMethod("add"),this.delete=this.makeMethod("delete"),this.restore=this.makeMethod("restore"),this.createPlaylist=this.makeMethod("createPlaylist"),this.followPlaylist=this.makeMethod("followPlaylist"),this.deletePlaylist=this.makeMethod("deletePlaylist"),this.savePlaylistAsCopy=this.makeMethod("savePlaylistAsCopy"),this.addToPlaylist=this.makeMethod("addToPlaylist"),this.removeFromPlaylist=this.makeMethod("removeFromPlaylist"),this.get=this.makeMethod("get"),this.getById=this.makeMethod("getById"),this.getPlaylistById=this.makeMethod("getPlaylistById"),this.getPlaylists=this.makeMethod("getPlaylists"),this.searchPlaylists=this.makeMethod("searchPlaylists"),this.getPlaylistByIdExtended=this.makeMethod("getPlaylistById"),this.editPlaylist=this.makeMethod("editPlaylist"),this.searchAlbums=this.makeMethod("searchAlbums"),this.getAudioIdsBySource=this.makeMethod("getAudioIdsBySource"),this.getAudioPreviewUrl=this.makeMethod("getAudioPreviewUrl"),this.getSnippets=this.makeMethod("getSnippets"),this.getSearchSuggestions=this.makeMethod("getSearchSuggestions"),this.getStreamMixAudios=this.makeMethod("getStreamMixAudios"),this.search=this.makeMethod("search"),this.addDislike=this.makeMethod("addDislike"),this.removeDislike=this.makeMethod("removeDislike"),this.followRadioStation=this.makeMethod("followRadioStation"),this.unfollowRadioStation=this.makeMethod("unfollowRadioStation"),this.getEditableGroups=this.makeMethod("getEditableGroups"),this.getLyrics=this.makeMethod("getLyrics"),this.getFullscreenBanner=this.makeMethod("getFullscreenBanner"),this.consumeFullscreenBanner=this.makeMethod("consumeFullscreenBanner"),this.getSpecialProject=this.makeMethod("getSpecialProject"),this.consumeSpecialProject=this.makeMethod("consumeSpecialProject"),this.getRestrictionPopup=this.makeMethod("getRestrictionPopup")}}_=(0,n.__decorate)([a.scope.global()],_)},972573:(e,t,r)=>{"use strict";r.d(t,{FaveApi:()=>_});var n=r(331635),a=r(641569),s=r(132028);class _ extends a.ApiNamespace{get namespace(){return"fave"}constructor(...e){super(...e),this.addArticle=this.makeMethod("addArticle"),this.addClassified=this.makeMethod("addClassified"),this.addApp=this.makeMethod("addApp"),this.addClip=this.makeMethod("addClip"),this.addGroup=this.makeMethod("addGroup"),this.addLink=this.makeMethod("addLink"),this.addNarrative=this.makeMethod("addNarrative"),this.addPage=this.makeMethod("addPage"),this.addPodcastEpisode=this.makeMethod("addPodcastEpisode"),this.addPost=this.makeMethod("addPost"),this.addProduct=this.makeMethod("addProduct"),this.addTag=this.makeMethod("addTag"),this.addUser=this.makeMethod("addUser"),this.addVideo=this.makeMethod("addVideo"),this.checkLink=this.makeMethod("checkLink"),this.editTag=this.makeMethod("editTag"),this.get=this.makeMethod("get"),this.getPages=this.makeMethod("getPages"),this.getTags=this.makeMethod("getTags"),this.removeArticle=this.makeMethod("removeArticle"),this.removeClassified=this.makeMethod("removeClassified"),this.removeClip=this.makeMethod("removeClip"),this.removeGroup=this.makeMethod("removeGroup"),this.removeLink=this.makeMethod("removeLink"),this.removeNarrative=this.makeMethod("removeNarrative"),this.removePage=this.makeMethod("removePage"),this.removePodcastEpisode=this.makeMethod("removePodcastEpisode"),this.removePost=this.makeMethod("removePost"),this.removeProduct=this.makeMethod("removeProduct"),this.removeTag=this.makeMethod("removeTag"),this.removeUser=this.makeMethod("removeUser"),this.removeVideo=this.makeMethod("removeVideo"),this.removeApp=this.makeMethod("removeApp"),this.reorderTags=this.makeMethod("reorderTags"),this.setPageTags=this.makeMethod("setPageTags"),this.setTags=this.makeMethod("setTags"),this.getPhotos=this.makeMethod("getPhotos")}}_=(0,n.__decorate)([s.scope.global()],_)},7202:(e,t,r)=>{"use strict";r.d(t,{UtilsApi:()=>_});var n=r(331635),a=r(641569),s=r(132028);class _ extends a.ApiNamespace{get namespace(){return"utils"}constructor(...e){super(...e),this.checkScreenName=this.makeMethod("checkScreenName"),this.resolveScreenName=this.makeMethod("resolveScreenName")}}_=(0,n.__decorate)([s.scope.global()],_)},882044:(e,t,r)=>{"use strict";r.d(t,{VideoApi:()=>_});var n=r(331635),a=r(132028),s=r(641569);class _ extends s.ApiNamespace{get namespace(){return"video"}constructor(...e){super(...e),this.get=this.makeMethod("get"),this.search=this.makeMethod("search"),this.edit=this.makeMethod("edit"),this.save=this.makeMethod("save"),this.delete=this.makeMethod("delete"),this.add=this.makeMethod("add"),this.getVideoDiscover=this.makeMethod("getVideoDiscover"),this.getAlbums=this.makeMethod("getAlbums"),this.getAlbumById=this.makeMethod("getAlbumById"),this.getFromAlbum=this.makeMethod("getFromAlbum"),this.getAlbumsByVideo=this.makeMethod("getAlbumsByVideo"),this.addToAlbum=this.makeMethod("addToAlbum"),this.addAlbum=this.makeMethod("addAlbum"),this.editAlbum=this.makeMethod("editAlbum"),this.deleteAlbum=this.makeMethod("deleteAlbum"),this.removeFromAlbum=this.makeMethod("removeFromAlbum"),this.reorderVideos=this.makeMethod("reorderVideos"),this.getGroupsForUploading=this.makeMethod("getGroupsForUploading"),this.encodeProgress=this.makeMethod("encodeProgress"),this.getPrivacyDictionary=this.makeMethod("getPrivacyDictionary"),this.reportComment=this.makeMethod("reportComment"),this.getPlaylistUpdateInfo=this.makeMethod("getPlaylistUpdateInfo"),this.getPlaylistThumbUploadUrl=this.makeMethod("getPlaylistThumbUploadUrl"),this.savePlaylistThumb=this.makeMethod("savePlaylistThumb"),this.savePlaylistAdditionalThumb=this.makeMethod("savePlaylistAdditionalThumb"),this.getGroupSettings=this.makeMethod("getGroupSettings"),this.reorderAlbums=this.makeMethod("reorderAlbums"),this.restore=this.makeMethod("restore"),this.stopStreaming=this.makeMethod("stopStreaming"),this.getComments=this.makeMethod("getComments"),this.getComment=this.makeMethod("getComment"),this.agreeDisclaimer=this.makeMethod("agreeDisclaimer"),this.saveGroupSettings=this.makeMethod("saveGroupSettings"),this.deleteComment=this.makeMethod("deleteComment"),this.restoreComment=this.makeMethod("restoreComment"),this.editComment=this.makeMethod("editComment"),this.createComment=this.makeMethod("createComment"),this.deleteThread=this.makeMethod("deleteThread"),this.restoreThread=this.makeMethod("restoreThread"),this.getStatsToken=this.makeMethod("getStatsToken",!0),this.getPlayerConfig=this.makeMethod("getPlayerConfig"),this.saveUploadedThumb=this.makeMethod("saveUploadedThumb"),this.subscribeChooseRelevantAuthors=this.makeMethod("subscribeChooseRelevantAuthors"),this.subscribeGetRelevantAuthors=this.makeMethod("subscribeGetRelevantAuthors"),this.getThumbUploadUrl=this.makeMethod("getThumbUploadUrl"),this.viewSegments=this.makeMethod("viewSegments"),this.subscribeToAlbum=this.makeMethod("subscribeToAlbum"),this.unsubscribeFromAlbum=this.makeMethod("unsubscribeFromAlbum"),this.moderAction=this.makeMethod("moderAction"),this.updateMovieInfo=this.makeMethod("updateMovieInfo"),this.getMovieInfo=this.makeMethod("getMovieInfo"),this.getMovieInfoDropdownData=this.makeMethod("getMovieInfoDropdownData"),this.getModerationLog=this.makeMethod("getModerationLog"),this.getCountriesForGeoBlockSection=this.makeMethod("getCountriesForGeoBlockSection"),this.geoBlockSection=this.makeMethod("geoBlockSection"),this.unblockSection=this.makeMethod("unblockSection"),this.getGeoBlockSectionInfo=this.makeMethod("getGeoBlockSectionInfo"),this.removeViewingHistoryRecords=this.makeMethod("removeViewingHistoryRecords"),this.clearViewingHistoryRecords=this.makeMethod("clearViewingHistoryRecords")}}_=(0,n.__decorate)([a.scope.global()],_)},697157:(e,t,r)=>{"use strict";r.d(t,{useExternRef:()=>a});var n=r(296540);function a(...e){const t=(0,n.useRef)(null);return(0,n.useMemo)((()=>({get current(){return t.current},set current(r){t.current=r,e.forEach((e=>{e&&function(e,t){t&&("function"==typeof t?t(e):t.current=e)}(r,e)}))}})),e)}},840741:(e,t,r)=>{"use strict";r.d(t,{useObjectMemo:()=>s});var n=r(296540),a=r(8520);const s=e=>{const[t,r]=(0,n.useState)(e);return(0,a.isEqual)(e,t)||r(e),t}},382010:(e,t,r)=>{"use strict";r.d(t,{usePatchChildrenRef:()=>_});var n=r(296540),a=r(697157);const s=e=>"string"==typeof e.type,_=e=>{const t=(0,n.isValidElement)(e)&&(s(e)?e.ref:e.props.getRootRef),r=(0,a.useExternRef)(t);return(0,n.useEffect)((()=>{r.current||console.error("Кажется, в children передан компонент, который не поддерживает свойство getRootRef. Мы не можем получить ссылку на корневой dom-элемент этого компонента")}),[e?.type,r]),[r,(0,n.isValidElement)(e)?(0,n.cloneElement)(e,{[s(e)?"ref":"getRootRef"]:r}):e]}},634444:(e,t,r)=>{"use strict";r.d(t,{useStableCallback:()=>a});var n=r(296540);function a(e){const t=(0,n.useRef)(e);return(0,n.useLayoutEffect)((()=>{t.current=e})),(0,n.useCallback)(((...e)=>t.current(...e)),[t])}},913157:(e,t,r)=>{"use strict";r.d(t,{DefaultLoading:()=>a});var n=r(474848);const a=()=>(0,n.jsx)("h2",{children:"Loading..."})},636683:(e,t,r)=>{"use strict";r.d(t,{DefaultLoadingError:()=>a});var n=r(474848);const a=()=>(0,n.jsx)("h2",{children:"Cannot load component..."})},733230:(e,t,r)=>{"use strict";r.d(t,{ErrorBoundary:()=>s});var n=r(296540),a=r(156051);class s extends n.Component{componentDidCatch(e){this.props.onDidCatch?this.props.onDidCatch(e):(0,a.logError)(e),this.setState({hasError:!0})}render(){const{fallback:e,children:t}=this.props,{hasError:r}=this.state;return r?e:t}constructor(...e){super(...e),this.state={hasError:!1}}}},837293:(e,t,r)=>{"use strict";r.d(t,{lazyModule:()=>u});var n=r(474848),a=r(296540),s=r(913157),_=r(636683),c=r(733230),l=r(156051);function u({loader:e,name:t,DefaultLoading:r=s.DefaultLoading,DefaultLoadingError:u=_.DefaultLoadingError,options:d={hasError:!1,logError:l.logError},onLazyModuleLoadStarted:p=()=>{},onLazyModuleLoaded:E=()=>{}}){const m=({loading:s=(0,n.jsx)(r,{}),loadingError:_=(0,n.jsx)(u,{}),...l})=>{const[m,g]=(0,a.useState)(d.hasError),A=(0,a.useMemo)((()=>(0,a.lazy)((()=>(p(),e().then((e=>(E(),{default:e})),(e=>(d.logError(e),g(!0),{default:()=>null}))))))),[e]);return(0,n.jsx)(c.ErrorBoundary,{fallback:_,moduleName:t,onDidCatch:d.onDidCatch,children:m?_:(0,n.jsx)(a.Suspense,{fallback:s,children:(0,n.jsx)(A,{...l})})})};return m.displayName=`lazyModule(${t})`,m.preload=e,m}},156051:(e,t,r)=>{"use strict";function n(e){console.error(e)}r.d(t,{logError:()=>n})},960126:(e,t,r)=>{"use strict";r.d(t,{getLottieManager:()=>n});const n=(0,r(8520).asyncImportLoader)((async()=>{const{LottieManager:e}=await Promise.all([r.e(41162),r.e(23666),r.e("langs/web/rlottie")]).then(r.bind(r,535130));return e}))},415855:(e,t,r)=>{"use strict";r.d(t,{isOffscreenCanvasSupported:()=>n});const n="undefined"!=typeof OffscreenCanvas},41719:(e,t,r)=>{"use strict";r.d(t,{isSupportedByBrowser:()=>a});var n=r(415855);function a(){return n.isOffscreenCanvasSupported}},880259:(e,t,r)=>{"use strict";r.d(t,{RouterContext:()=>a,useRouterContext:()=>s});var n=r(296540);const a=(0,n.createContext)(null);function s(){const e=(0,n.useContext)(a);if(!e)throw new Error("@vkontakte-internal/router: Empty RouterContext");return e}},899631:(e,t,r)=>{"use strict";r.d(t,{useLocation:()=>_});var n=r(296540),a=r(880259);function s(e,t){if(t)return{key:t.key,url:e.createHref(t)}}function _(){const{router:e}=(0,a.useRouterContext)();return(0,n.useMemo)((()=>{const{beforeHistoryLocation:t,location:r}=e;return{...r,from:s(e,t)}}),[e.location,e.historyLocations])}},864175:(e,t,r)=>{"use strict";r.d(t,{useNavigate:()=>s});var n=r(296540),a=r(880259);function s(){const{router:e}=(0,a.useRouterContext)();return(0,n.useMemo)((()=>({navigate:(...t)=>{if("string"==typeof t[0]){const[r,n]=t,{replace:a,state:s}=n||{};if(a)return void e.replace(r,s);e.push(r,s)}else{const[r]=t;e.go(r)}},back:(t=1)=>e.go(-t),forward:(t=1)=>e.go(t)})),[e])}},263290:(e,t,r)=>{"use strict";r.d(t,{useQuery:()=>a});var n=r(880259);function a(){const{router:e}=(0,n.useRouterContext)();return e.query}},456961:(e,t,r)=>{"use strict";r.d(t,{Router:()=>_});var n=r(686663),a=r(954605),s=r(503155);class _{static parseSearch(e){return n.parse(e)}static stringifyQuery(e){return n.stringify(e)}init(){if(this._isInitialized)throw new Error("ROUTER_RE_INITIALIZATION");return this._isInitialized=!0,this.process?.promise||this.matchRoutesConfig()}get isInitialized(){return this._isInitialized}get activeRoute(){return this.data.activeRoute}get action(){return this.data.action}get location(){return this.data.location}get query(){return this.parseQuery(this.data.location.search)}get relativePath(){return this.createHref({pathname:this.location.pathname,search:this.location.search})}get params(){return this.data.params}get metadata(){return this.data.metadata}get historyLocations(){return this.data.historyLocations}get beforeHistoryLocation(){const e=this.historyLocations.findIndex((e=>e.key===this.location.key));return this.historyLocations[e-1]||void 0}push(e,t=null){this.config.history.push(this.createHref(e),t)}replace(e,t=null){this.config.history.replace(this.createHref(e),t)}go(e){return this.config.history.go(e)}replaceState(e){this.config.history.replace(this.location,e)}listen(e){return this.listeners.add(e),()=>{this.listeners.delete(e)}}createHref(e){return"string"==typeof e?this.config.history.createHref(e):"query"in e&&e.query?this.config.history.createHref({pathname:e.pathname,search:this.stringifyQuery(e.query)}):this.config.history.createHref(e)}isActiveRoute(e){return Array.isArray(e)&&this.activeRoute?e.includes(this.activeRoute):e===this.activeRoute}matchActiveRouteGroup(e){const t=this.data.matchedRoutesGroups&&this.data.matchedRoutesGroups.get(e);if(!t)return[!1,null,null];const{params:r,metadata:n}=t;return[!0,r,n]}parseQuery(e){return n.parse(e)}stringifyQuery(e){return n.stringify(e)}sendEvent(e){this.listeners.forEach((t=>t(e)))}updateHistory(e){const t=(0,s.updateHistoryLocations)(e);return t.length>100?t.slice(-Math.ceil(50)):t}matchRoutesConfig(){return this.process=this.process||Promise.withResolvers(),(async()=>{const{location:e}=this.config.history,t=()=>e===this.config.history.location,{data:r,error:n}=await(async()=>{try{return{data:await _.matchRoutesConfig({routesConfig:this.config.routes,pathname:e.pathname,path:this.createHref(e),search:e.search,partConfigEnabled:this.config.partConfigEnabled||(()=>!1),dynamicMatch:this.config.dynamicMatch}),error:null}}catch(e){return{data:null,error:e instanceof Error?e:new Error("[Router]: error match")}}})(),{process:a}=this;if(!t())return;if(!a)throw new Error("[Router]: process cannot be empty!");const s={action:this.config.history.action,location:this.config.history.location,activeRoute:r?.route||null,params:r?.routeParams||null,metadata:r?.metadata||null,matchedRoutesGroups:r?.matchedRoutesGroups||null,historyLocations:this._historyLocations},c={...this.data},l=await(this.config.beforeRouteChange?.(s,c))??!0;if(t()){if(this.process=null,this._isInitialized=!0,!l){const e={type:"invalid",payload:{data:s,prevData:c}};return this.sendEvent(e),void a.resolve(e)}if(this.data=s,r){const e={type:"changed",payload:{data:s,prevData:c}};this.sendEvent(e),a.resolve(e)}else{const e={type:"error",payload:{error:n}};this.sendEvent(e),a.resolve(e)}}})(),this.process.promise}constructor(e){this.config=e,this.listeners=new Set,this._isInitialized=!1,this.process=null;const{history:t,state:r}=e;let n=t.location;this._historyLocations=[t.location],r&&(this._isInitialized=!0),this.data={action:t.action,location:t.location,historyLocations:[...this._historyLocations],activeRoute:r?.route||null,matchedRoutesGroups:r?.routesGroups||null,params:r?.data.params||null,metadata:r?.data.metadata||null},this.config.history.listen((()=>{this._historyLocations=this.updateHistory({action:t.action,oldHistory:this._historyLocations,oldLocation:n,newLocation:t.location}),n=t.location,this.matchRoutesConfig()}))}}_.matchRoutesConfig=async({routesConfig:e,pathname:t,search:r,path:n,partConfigEnabled:s,dynamicMatch:c})=>await(0,a.matchRoutesConfig)({routesConfig:e,pathname:t,path:n,query:_.parseSearch(r),partConfigEnabled:s,dynamicMatch:c}),_.syncMatchRoutesConfig=({routesConfig:e,pathname:t,search:r,path:n,partConfigEnabled:s})=>(0,a.syncMatchRoutesConfig)({routesConfig:e,pathname:t,path:n,query:_.parseSearch(r),partConfigEnabled:s})},794662:(e,t,r)=>{"use strict";r.d(t,{matchPath:()=>_});var n=r(905867);const a={};function s(e,t={}){const r=function(e={}){const t=Object.keys(e).sort().map((t=>`${t}:${e[t]}`)).join();return a[t]||(a[t]={}),a[t]}(t);if(!r[e]){const a=[],s=(0,n.pathToRegexp)(e,a,t);r[e]={keys:a,regExp:s}}return r[e]}function _(e,t,{exact:r}={}){if("string"==typeof e||Array.isArray(e))for(let n of[e].flat()){const{regExp:e,keys:a}=s(n,{strict:!0,sensitive:!0,end:Boolean(r)}),_=e.exec(t);if(_)return[!0,Object.fromEntries(a.map((({name:e},t)=>[e,_[t+1]])))]}else{const{regExp:r}=e;if(new RegExp(r).exec(t))return[!0,{}]}return[!1,null]}},954605:(e,t,r)=>{"use strict";r.d(t,{matchRoutesConfig:()=>c,syncMatchRoutesConfig:()=>u});var n=r(794662);function a(e,t){return Object.keys(e).every((r=>{const n=t[r]||"",a=e[r];return n===a||(!(!Array.isArray(a)||"string"!=typeof n||!a.includes(n))||"object"==typeof a&&"test"in a&&"string"==typeof n&&new RegExp(a.test).test(n))}))}function s(e,t){return e.enabledKey?!t(e.enabledKey):!!e.disabledKey&&t(e.disabledKey)}async function _({routesConfig:e,pathname:t,path:r,query:c,matchedRoutesGroups:l,partConfigEnabled:u,dynamicMatch:d}){for await(const p of Object.keys(e)){const E=e[p];let m;if(s(E,u))continue;const[g,A]=(0,n.matchPath)(E.path,E.isLegacyConfig?r:t,{exact:E.exact});if(g&&((!E.query||a(E.query,c))&&(!(E.screenTypes&&A?.screenName&&d)||(m=await d({screenName:A.screenName,screenTypes:E.screenTypes}),m)))){if(!("routes"in E))return{route:E,routeParams:A,matchedRoutesGroups:l,metadata:m};{const e=new Map(l);e.set(E,{params:A,metadata:m});const n=await _({routesConfig:E.routes,pathname:t,query:c,path:r,matchedRoutesGroups:e,partConfigEnabled:u});if(n.route)return n}}}return{}}function c(e){return _({...e,matchedRoutesGroups:new Map})}function l({routesConfig:e,path:t,pathname:r,query:_,matchedRoutesGroups:c,partConfigEnabled:u}){for(const d of Object.keys(e)){const p=e[d];if(p.screenTypes)continue;if(s(p,u))continue;const[E,m]=(0,n.matchPath)(p.path,p.isLegacyConfig?t:r,{exact:p.exact});if(E&&(!p.query||a(p.query,_))){if(!("routes"in p))return{route:p,routeParams:m,matchedRoutesGroups:c};{const e=new Map(c);e.set(p,{params:m});const n=l({routesConfig:p.routes,pathname:r,query:_,path:t,matchedRoutesGroups:e,partConfigEnabled:u});if(n.route)return n}}}return{}}function u(e){return l({...e,matchedRoutesGroups:new Map})}},916480:(e,t,r)=>{"use strict";r.d(t,{patternToPath:()=>s});var n=r(905867);const a={};function s(e,t){a[e]||(a[e]=(0,n.compile)(e));return(0,a[e])(t)}},503155:(e,t,r)=>{"use strict";r.d(t,{updateHistoryLocations:()=>a});var n=r(773444);function a({oldHistory:e,action:t,oldLocation:r,newLocation:a}){let s=[...e];const _=s.findIndex((e=>e.key===r.key));if(-1===_)return[a];switch(t){case n.Action.Replace:return s=s.slice(0,_),s[_]=a,s;case n.Action.Push:return s=s.slice(0,_+1),s.push(a),s;case n.Action.Pop:return-1===s.findIndex((e=>e.key===a.key))?[a]:s}}},687741:(e,t,r)=>{"use strict";r.d(t,{createAccountGetHelpHintsFx:()=>u,createAccountGetInfoFx:()=>s,createAccountGetPrivacySettingsFx:()=>E,createAccountGetProfileInfoFx:()=>l,createAccountHideHelpHintFx:()=>d,createAccountSetInfoFx:()=>_,createAccountShowHelpHintFx:()=>p,createAccountUnbanFx:()=>m});var n=r(32489),a=r(412554);const s=e=>(0,a.createApiEffect)("account.getInfo",e),_=e=>(0,n.attach)({effect:(0,a.createApiEffect)("account.setInfo",e),mapParams:({query:e,...t})=>({...t,query:{...e,value:c(e.value)}})});function c(e){return"boolean"==typeof e?e?"1":"0":"number"==typeof e?String(e):e}const l=e=>(0,a.createApiEffect)("account.getProfileInfo",e),u=e=>(0,a.createApiEffect)("account.getHelpHints",e),d=e=>(0,a.createApiEffect)("account.hideHelpHint",e),p=e=>(0,a.createApiEffect)("account.showHelpHint",e),E=e=>(0,a.createApiEffect)("account.getPrivacySettings",e),m=e=>(0,a.createApiEffect)("account.unban",e)},580352:(e,t,r)=>{"use strict";r.d(t,{createAudioAddFx:()=>d,createAudioAddToPlaylistFx:()=>O,createAudioCreatePlaylistFx:()=>m,createAudioDeleteFx:()=>p,createAudioDeletePlaylistFx:()=>g,createAudioFollowRadioStationFx:()=>y,createAudioGetAudioIdsBySourceFx:()=>_,createAudioGetAudioPreviewFx:()=>u,createAudioGetByIdFx:()=>a,createAudioGetFx:()=>c,createAudioGetPlaylistByIdFx:()=>s,createAudioGetSearchSuggestionsFx:()=>f,createAudioGetSnippetsFx:()=>A,createAudioGetStreamMixAudiosFx:()=>I,createAudioRemoveFromPlaylistFx:()=>S,createAudioRestoreFx:()=>E,createAudioSearchFx:()=>l,createAudioUnfollowRadioStationFx:()=>R});var n=r(412554);const a=e=>(0,n.createApiEffect)("audio.getById",e),s=e=>(0,n.createApiEffect)("audio.getPlaylistById",e),_=e=>(0,n.createApiEffect)("audio.getAudioIdsBySource",e),c=e=>(0,n.createApiEffect)("audio.get",e),l=e=>(0,n.createApiEffect)("audio.search",e),u=e=>(0,n.createApiEffect)("audio.getAudioPreviewUrl",e),d=e=>(0,n.createApiEffect)("audio.add",e),p=e=>(0,n.createApiEffect)("audio.delete",e),E=e=>(0,n.createApiEffect)("audio.restore",e),m=e=>(0,n.createApiEffect)("audio.createPlaylist",e),g=e=>(0,n.createApiEffect)("audio.deletePlaylist",e),A=e=>(0,n.createApiEffect)("audio.getSnippets",e),f=e=>(0,n.createApiEffect)("audio.getSearchSuggestions",e),I=e=>(0,n.createApiEffect)("audio.getStreamMixAudios",e),y=e=>(0,n.createApiEffect)("audio.followRadioStation",e),R=e=>(0,n.createApiEffect)("audio.unfollowRadioStation",e),O=e=>(0,n.createApiEffect)("audio.addToPlaylist",e),S=e=>(0,n.createApiEffect)("audio.removeFromPlaylist",e)},278116:(e,t,r)=>{"use strict";r.d(t,{createFaveAddGroupFx:()=>l,createFaveAddPodcastEpisodeFx:()=>d,createFaveAddProductFx:()=>_,createFaveAddVideoFx:()=>a,createFaveRemoveGroupFx:()=>u,createFaveRemovePodcastEpisodeFx:()=>p,createFaveRemoveProductFx:()=>c,createFaveRemoveVideoFx:()=>s});var n=r(412554);const a=e=>(0,n.createApiEffect)("fave.addVideo",e),s=e=>(0,n.createApiEffect)("fave.removeVideo",e),_=e=>(0,n.createApiEffect)("fave.addProduct",e),c=e=>(0,n.createApiEffect)("fave.removeProduct",e),l=e=>(0,n.createApiEffect)("fave.addGroup",e),u=e=>(0,n.createApiEffect)("fave.removeGroup",e),d=e=>(0,n.createApiEffect)("fave.addPodcastEpisode",e),p=e=>(0,n.createApiEffect)("fave.removePodcastEpisode",e)},335797:(e,t,r)=>{"use strict";r.d(t,{useEntitiesStore:()=>a,useNotNullEntitiesStore:()=>s});var n=r(293721);const a=(e,t)=>(0,n.useStoreMap)({store:e,keys:[t],fn:(e,[t])=>e[t],defaultValue:null}),s=(e,t)=>(0,n.useStoreMap)({store:e,keys:[t],fn:(e,[t])=>{const r=e[t];if(null==r)throw new Error("Empty value entity store");return r}})},978746:(e,t,r)=>{"use strict";r.d(t,{ensureAccountInfoService:()=>_});var n=r(32489),a=r(264040);let s;function _(){if(!s){const e=(0,n.createDomain)("global/account/info");s=(0,a.createAccountInfoService)({domain:e})}return s}},503505:(e,t,r)=>{"use strict";r.d(t,{ensureAudioPlaylistsService:()=>_});var n=r(32489),a=r(558137),s=r(990996);const _=(0,a.makeSharedState)("global/audio/playlists",(()=>(0,s.createAudioPlaylistsService)({domain:(0,n.createDomain)("global/audio/playlists"),name:"global/audio/playlists"})),{version:1})},983327:(e,t,r)=>{"use strict";r.d(t,{ensureAudioPreviewsService:()=>_});var n=r(32489),a=r(536673);let s;function _(){if(!s){const e=(0,n.createDomain)("global/audio/audioPreviews");s=(0,a.createAudioPreviewsService)({domain:e})}return s}},308227:(e,t,r)=>{"use strict";r.d(t,{ensureAudiosService:()=>_});var n=r(32489),a=r(110957);let s;function _(){if(!s){const e=(0,n.createDomain)("global/audio/audios");s=(0,a.createAudiosService)({domain:e})}return s}},30899:(e,t,r)=>{"use strict";r.d(t,{ensureMyAudioPlaylistsService:()=>c});var n=r(32489),a=r(558137),s=r(131084),_=r(503505);const c=(0,a.makeSharedState)("global/audio/myPlaylists",(()=>(0,s.createMyAudioPlaylistsService)({config:{domain:(0,n.createDomain)("global/audio/myPlaylists"),name:"global/audio/myPlaylists"},audioPlaylistsService:(0,_.ensureAudioPlaylistsService)()})),{version:2})},797612:(e,t,r)=>{"use strict";r.d(t,{ensureMyAudioRadioStationsService:()=>_});var n=r(32489),a=r(558137),s=r(197796);const _=(0,a.makeSharedState)("global/audio/myRadioStations",(()=>(0,s.createMyAudioRadioStationsService)({domain:(0,n.createDomain)("global/audio/myRadioStations"),name:"global/audio/myRadioStations"})),{version:1})},345997:(e,t,r)=>{"use strict";r.d(t,{ensureMyMusicService:()=>_});var n=r(32489),a=r(558137),s=r(944374);const _=(0,a.makeSharedState)("global/audio/myMusic",(()=>(0,s.createMyMusicService)({domain:(0,n.createDomain)("global/audio/myMusic"),name:"global/audio/myMusic"})),{version:2})},560756:(e,t,r)=>{"use strict";r.d(t,{ensureAudioPodcastsFaveService:()=>_});var n=r(32489),a=r(558137),s=r(213059);const _=(0,a.makeSharedState)("global/fave/audio/podcasts",(()=>(0,s.createAudioPodcastsFaveService)({domain:(0,n.createDomain)("global/fave/audio/podcasts"),name:"global/fave/audio/podcasts"})),{version:1})},984745:(e,t,r)=>{"use strict";r.d(t,{ensureAccountHelpHintsService:()=>d});var n=r(32489),a=r(558137),s=r(687741),_=r(746573),c=r(782399),l=r(603025),u=r(679005);const d=(0,a.makeSharedState)("global/account/helpHints",(()=>(e=>{const t=(0,_.getEffectorServiceDomain)(e),r=t.createStore({}),a=t.createStore({viewerId:0}),d=t.createEvent("helpHints/initialize"),p=t.createEvent("helpHints/reload"),E=t.createEvent("helpHints/logError"),m=t.createEvent("helpHints/hide"),g=t.createEvent("helpHints/show"),A=(0,s.createAccountGetHelpHintsFx)({domain:t});let f=null;const I=async()=>{const{items:e}=await A({query:{}});return e.reduce(((e,t)=>(e[t.id]=t,e)),{})},y=(0,n.attach)({name:"helpHints/getHelpHintsFx",source:r,effect:t.createEffect((e=>Object.keys(e).length?Promise.resolve(e):f||(f=I().finally((()=>{f=null})),f)))}),R=t.createEffect("helpHints/reloadHelpHintsFx");R.use((()=>I()));const O=(0,n.attach)({name:"helpHints/hideHelpHintFx",effect:(0,s.createAccountHideHelpHintFx)({domain:t}),mapParams:({hintId:e})=>({query:{hint_id:e}})}),S=(0,n.attach)({name:"helpHints/showHelpHintFx",effect:(0,s.createAccountShowHelpHintFx)({domain:t}),mapParams:e=>({query:{hint_id:e}})}),T=t.createEffect("helpHints/logErrorFx");return T.use((({error:e,logErrorFn:t})=>{let r=null;t?(r=(0,c.isNetworkError)(e)?e.error:(0,l.isApiError)(e)?new Error(e.error.error_msg||e.type):e,r&&t(r,{environment:"global/account/helpHints"})):console.error(e)})),(0,n.sample)({clock:d,target:a}),(0,n.sample)({clock:d,source:y.pending,filter:e=>!e,target:y}),(0,n.sample)({clock:p,target:R}),(0,n.sample)({clock:[y.doneData,R.doneData],target:r}),(0,n.sample)({clock:m,target:O}),(0,n.sample)({clock:m,source:r,filter:(e,{isOptimistic:t})=>Boolean(t),fn:(e,{hintId:t})=>(0,u.produce)(e,(e=>{delete e[t]})),target:r}),(0,n.sample)({clock:g,target:S}),(0,n.sample)({clock:O.done,source:r,filter:(e,{params:{isOptimistic:t}})=>!t,fn:(e,{params:{hintId:t}})=>(0,u.produce)(e,(e=>{delete e[t]})),target:r}),(0,n.sample)({clock:S.done,target:p}),(0,n.sample)({clock:E,source:a,fn:({logErrorFn:e},t)=>({error:t,logErrorFn:e}),target:T}),(0,n.sample)({clock:[y.failData,R.failData,S.failData,O.failData],target:E}),{initialize:d,canShow:e=>Boolean(r.getState()[e]),getHelpHintsFx:y,$helpHints:r,hideHelpHint:m,showHelpHint:g}})({domain:(0,n.createDomain)("global/account/helpHints"),name:"global/account/helpHints"})),{version:1})},264040:(e,t,r)=>{"use strict";r.d(t,{createAccountInfoService:()=>s});var n=r(32489),a=r(687741);const s=({domain:e})=>{const t=e.createStore({}),r=e.createStore(0),s=(0,a.createAccountGetInfoFx)({domain:e}),_=(0,a.createAccountSetInfoFx)({domain:e}),c=e.createEffect((()=>s({query:{}})));r.on(s,((e,t)=>t.query.fields?e:e<=0?1:void 0)).on(s.finally,((e,t)=>t.params.query.fields||"done"!==t.status?e:1)),t.on(s.finally,((e,t)=>"done"===t.status?{...e,...t.result}:e)).on(_.done,((e,t)=>{const{result:r,params:{query:{name:n,value:a}}}=t;return r&&n in e?{...e,[n]:a}:e}));const l=e.createEvent();return(0,n.sample)({clock:l,source:r,filter:e=>2!==e,target:c}),{$accountInfo:t,getInfoFx:s,setInfoFx:_,initEvent:l}}},848040:(e,t,r)=>{"use strict";function n({id:e,ownerId:t,accessKey:r}){return`${t}_${e}${r?`_${r}`:""}`}r.d(t,{getAudioAccessId:()=>n})},478455:(e,t,r)=>{"use strict";function n({id:e,ownerId:t}){return`${t}_${e}`}r.d(t,{getAudioFullId:()=>n})},680033:(e,t,r)=>{"use strict";function n(e){const t={id:e.id,ownerId:e.owner_id,accessKey:e.access_key,releaseAudioId:e.release_audio_id};return{...t,identity:t,title:e.title,author:c(e),artwork:_(e.album?.thumb),duration:e.duration,url:e.url||null,isExplicit:e.is_explicit}}function a(e){if(!e.track_code)throw new Error("track_code is not defined");return{...n(e),trackCode:e.track_code}}r.d(t,{mapAPIAudioArtistToAudioDataArtistInfo:()=>l,mapAPIAudioToAudioData:()=>n,mapAPIAudioToAudioDataAuthor:()=>c,mapAPIAudioToTrackedAudioData:()=>a});const s=[["photo_34",34],["photo_68",68],["photo_135",135],["photo_270",270],["photo_300",300],["photo_600",600],["photo_1200",1200]];function _(e){const t=[];if(!e)return t;for(const[r,n]of s){const a=e[r];a&&t.push({src:a,size:n})}return t}function c(e){return{main:e?.main_artists?.map(u)??[],feat:e?.featured_artists?.map(u)??[],raw:e.artist}}function l(e){return{id:e.id,name:e.name}}function u(e){return{name:e.name}}},139612:(e,t,r)=>{"use strict";function n(e){const[t,r,n]=e.split("_");if(!r||!t)throw new Error(`Invalid audio_id: ${e}`);return{id:parseInt(r,10),ownerId:parseInt(t,10),accessKey:n}}r.d(t,{mapAPIRawIdToAudioIdentity:()=>n})},234386:(e,t,r)=>{"use strict";r.d(t,{mapAPIRawIdTrackedToTrackedAudioIdentity:()=>a});var n=r(139612);function a(e){return{...(0,n.mapAPIRawIdToAudioIdentity)(e.audio_id),trackCode:e.track_code}}},488150:(e,t,r)=>{"use strict";r.d(t,{AudioType:()=>n});var n=function(e){return e.MusicTrack="music_track",e.MusicSnippet="music_snippet",e.PodcastEpisode="podcast_episode",e.PodcastTrailer="podcast_trailer",e.Radio="radio",e}({})},346127:(e,t,r)=>{"use strict";r.d(t,{mapAPIAudioToMusicAudioData:()=>s,mapAPIAudioToTrackedMusicAudioData:()=>_});var n=r(680033),a=r(796674);function s(e,t){return{...(0,n.mapAPIAudioToAudioData)(t),...c(e,t),...(0,a.mapAPIAudioToTrackedMusicAudioState)(t)}}function _(e,t){return{...(0,n.mapAPIAudioToTrackedAudioData)(t),...c(e,t),...(0,a.mapAPIAudioToTrackedMusicAudioState)(t)}}function c(e,t){return{type:e,hasLyrics:t.has_lyrics??!1,author:(r=t,{...(0,n.mapAPIAudioToAudioDataAuthor)(r),main:r?.main_artists?.map(l)??[],feat:r?.featured_artists?.map(l)??[]})};var r}function l(e){return{name:e.name,id:e.id}}},796674:(e,t,r)=>{"use strict";function n(e){return{disliked:e.dislike??!1}}r.d(t,{mapAPIAudioToTrackedMusicAudioState:()=>n})},280481:(e,t,r)=>{"use strict";function n({id:e,ownerId:t,podcastId:r}){return`${t}_${Number.isFinite(r)?r:e}`}r.d(t,{getPodcastAudioFullId:()=>n})},990996:(e,t,r)=>{"use strict";r.d(t,{createAudioPlaylistsService:()=>A});var n=r(32489),a=r(580352),s=r(594241),_=r(46201),c=r(786979),l=r(865409),u=r(234386),d=r(393344),p=r(121574),E=r(169134),m=r(836222),g=r(746573);function A(e){const t=(0,g.getEffectorServiceDomain)(e),r=(0,a.createAudioGetPlaylistByIdFx)({domain:t}),A=(0,a.createAudioGetAudioIdsBySourceFx)({domain:t}),f=(0,d.createAudioPlaylistsCreateFx)({domain:t}),I=(0,p.createAudioPlaylistsDeleteFx)({domain:t}),y=(0,E.createAddAudioFx)({domain:t}),R=(0,m.createDeleteAudioFx)({domain:t}),O=t.createStore({}),S=t.createStore({}),T=t.createEffect((async({id:e,ownerId:t})=>{const n=await r({query:{playlist_id:e,owner_id:t}});return(0,l.mapAPIPlaylistToAudioPlaylistData)(n)})),P=(0,n.attach)({source:O,async effect(e,t){const r=e[(0,s.getAudioPlaylistFullId)(t)];return r||T(t)}}),b=t.createEffect((async e=>(await A({query:{source:"playlist",entity_id:(0,s.getAudioPlaylistFullId)(e)}})).audios.map(u.mapAPIRawIdTrackedToTrackedAudioIdentity))),C=(0,n.attach)({source:S,async effect(e,t){const r=e[(0,s.getAudioPlaylistFullId)(t)];return r||b(t)}});return O.on(T.done,((e,{result:t})=>({...e,[(0,s.getAudioPlaylistFullId)(t)]:t}))),S.on(b.done,((e,{params:t,result:r})=>({...e,[(0,s.getAudioPlaylistFullId)(t)]:r}))),O.on(f.done,((e,{result:t})=>(0,_.addPairToMap)(e,{key:(0,s.getAudioPlaylistFullId)(t),value:t}))),O.on(I.done,((e,{params:t})=>(0,c.removePairFromMap)(e,(0,s.getAudioPlaylistFullId)({id:t.id,ownerId:t.ownerId})))),{$playlistDataEntities:O,$playlistAudioIdsEntities:S,createFx:f,deleteFx:I,addAudioFx:y,deleteAudioFx:R,fetchPlaylistFx:T,ensurePlaylistFx:P,fetchPlaylistAudioIdsFx:b,ensurePlaylistAudioIdsFx:C}}},169134:(e,t,r)=>{"use strict";r.d(t,{createAddAudioFx:()=>s});var n=r(580352),a=r(848040);function s({domain:e}){const t=(0,n.createAudioAddToPlaylistFx)({domain:e});return e.createEffect((async({ownerId:e,playlistId:r,audioIdentity:n})=>{const s=await t({query:{owner_id:e,playlist_id:r,audio_ids:(0,a.getAudioAccessId)(n)}}),_=s?.[0]?.audio_id;if(!_)throw new Error("Error when trying to add audio to a playlist");return{id:_,ownerId:e}}))}},393344:(e,t,r)=>{"use strict";r.d(t,{createAudioPlaylistsCreateFx:()=>_});var n=r(580352),a=r(865409),s=r(478455);function _({domain:e}){const t=(0,n.createAudioCreatePlaylistFx)({domain:e});return e.createEffect((async({ownerId:e,audios:r,title:n,description:_})=>{const c=r.map(s.getAudioFullId).join(","),l=await t({query:{owner_id:e,audio_ids:c,title:n,description:_}});return(0,a.mapAPIPlaylistToAudioPlaylistData)(l)}))}},121574:(e,t,r)=>{"use strict";r.d(t,{createAudioPlaylistsDeleteFx:()=>a});var n=r(580352);function a({domain:e}){const t=(0,n.createAudioDeletePlaylistFx)({domain:e});return e.createEffect((async({ownerId:e,id:r})=>{await t({query:{owner_id:e,playlist_id:r}})}))}},836222:(e,t,r)=>{"use strict";r.d(t,{createDeleteAudioFx:()=>s});var n=r(580352),a=r(478455);function s({domain:e}){const t=(0,n.createAudioRemoveFromPlaylistFx)({domain:e});return e.createEffect((async({ownerId:e,playlistId:r,audioIdentity:n})=>{await t({query:{owner_id:e,playlist_id:r,audio_ids:(0,a.getAudioFullId)(n)}})}))}},536673:(e,t,r)=>{"use strict";r.d(t,{createAudioPreviewsService:()=>c});var n=r(32489),a=r(580352),s=r(65047),_=r(478455);function c({domain:e}){const t=(0,a.createAudioGetAudioPreviewFx)({domain:e}),r=e.createStore({}),c=e.createEffect((async({identity:e})=>{const r=await t({query:{audio_id:(0,_.getAudioFullId)(e),preview_type:"longtap"}});return(0,s.mapApiAudioPreviewToAudioPreviewData)(r)}));return(0,n.sample)({clock:c.done,source:r,fn:(e,{params:t,result:r})=>{const{id:n,ownerId:a}=t.identity,s=(0,_.getAudioFullId)({id:n,ownerId:a});return{...e,[s]:r}},target:r}),{fetchAudioPreviewFx:c,$audioPreviewEntities:r}}},241024:(e,t,r)=>{"use strict";r.d(t,{createAudioVkMixService:()=>a});var n=r(399452);function a(e){const t=e.createStore([]),r=(0,n.createAudioVkMixFetchNextFx)(e);return t.on(r.doneData,((e,t)=>t.length?[...e,...t]:e)),{$lists:t,fetchNextFx:r}}},399452:(e,t,r)=>{"use strict";r.d(t,{createAudioVkMixFetchNextFx:()=>a});var n=r(580352);function a(e){const t=(0,n.createAudioGetStreamMixAudiosFx)({domain:e});return e.createEffect((async({id:e,blockId:r,count:n=1,isSessionLaunched:a=!1,isSessionFeatureEnabled:s=!1})=>await t({query:{mix_id:e,ref:r,count:n,...s?{append:a?1:0}:{}}})))}},110957:(e,t,r)=>{"use strict";r.d(t,{createAudiosService:()=>u});var n=r(32489),a=r(580352),s=r(848040),_=r(346127),c=r(488150),l=r(478455);function u({domain:e}){const t=(0,a.createAudioGetByIdFx)({domain:e}),r=(0,a.createAudioGetFx)({domain:e}),u=(0,a.createAudioSearchFx)({domain:e}),p=e.createStore({}),E=e.createEffect((async e=>{if(!e.length)return[];return(await t({query:{audios:e.map(s.getAudioAccessId).join(",")}})).map((e=>(0,_.mapAPIAudioToMusicAudioData)(c.AudioType.MusicTrack,e)))})),m=e.createEffect((async e=>{let t;t=e.q?await u({query:{owner_id:e.ownerId,count:e.count,offset:e.offset,q:e.q}}):await r({query:{owner_id:e.ownerId,count:e.count,offset:e.offset}});const n=t.items.map((e=>(0,_.mapAPIAudioToMusicAudioData)(c.AudioType.MusicTrack,e)));return{count:t.count,audios:n}})),g=(0,n.attach)({source:p,async effect(e,t){if(!t.length)return[];let r=[],n=[];for(const a of t){const t=e[(0,l.getAudioFullId)(a)];t?r.push(t):n.push(a)}if(!n.length)return r;const a=await E(n),s=d(a);r=[];for(const _ of t){const c=(0,l.getAudioFullId)(_),u=s[c]??e[c];if(!u)throw console.error("AudioData not found in entities",{identity:_,fullId:c,audio:u,fetched:a,fetchedEntities:s,entities:e,identities:t,missing:n,result:r}),new Error("AudioData not found in entities");r.push(u)}return r}});return p.on(E.done,((e,{result:t})=>({...e,...d(t)}))),p.on(m.done,((e,{result:t})=>({...e,...d(t.audios)}))),{$audioEntities:p,fetchAudiosFx:E,ensureAudiosFx:g,searchAudiosFx:m}}function d(e){return e.reduce(((e,t)=>(e[(0,l.getAudioFullId)(t)]=t,e)),{})}},205337:(e,t,r)=>{"use strict";r.d(t,{convertToGroupMusicId:()=>a});var n=r(468073);function a(e){return n.Ranges.isGroupId(e)?e:n.Ranges.convertGroupIdToOwnerId(e)}},97295:(e,t,r)=>{"use strict";r.d(t,{getGroupAudioFullId:()=>s});var n=r(478455),a=r(205337);function s({id:e,ownerId:t},r){return`${(0,a.convertToGroupMusicId)(r)}_${(0,n.getAudioFullId)({id:e,ownerId:t})}`}},131084:(e,t,r)=>{"use strict";r.d(t,{createMyAudioPlaylistsService:()=>l});var n=r(32489),a=r(615955),s=r(746573),_=r(178246),c=r(163374);function l({config:e,audioPlaylistsService:t}){const r=(0,s.getEffectorServiceDomain)(e),{$addedAudiosMap:l,addedAudiosMapApi:u}=(0,_.createAddedAudiosMap)(r),d=r.createEvent(),p=(0,n.restore)(d,null),E=r.createStore({},{updateFilter:(e,t)=>!(0,a.shallowEqual)(e,t),serialize:"ignore"}),m=(0,n.attach)({source:p,async effect(e,r){if(!e)throw new Error("[MyAudioPlaylistsService] UserId not set. To create a playlist, set the userId using setUserId.");return t.createFx({...r,ownerId:e})}}),g=(0,n.attach)({source:p,async effect(e,r){if(!e)throw new Error("[MyAudioPlaylistsService] UserId not set. To delete a playlist, set the userId using setUserId.");return t.deleteFx({...r,ownerId:e})}}),A=(0,n.attach)({source:p,async effect(e,r){if(!e)throw new Error("[MyAudioPlaylistsService] UserId not set. To add audio to playlist, set the userId using setUserId.");return t.addAudioFx({...r,ownerId:e})}}),f=(0,n.attach)({source:p,async effect(e,r){if(!e)throw new Error("[MyAudioPlaylistsService] UserId not set. To delete audio from playlist, set the userId using setUserId.");return t.deleteAudioFx({...r,ownerId:e})}});return(0,n.sample)({clock:(0,n.combine)({playlistDataEntities:t.$playlistDataEntities,userId:p}),fn:({playlistDataEntities:e,userId:t})=>t?Object.entries(e).reduce(((e,[r,n])=>(n.ownerId===t&&(e[r]=n),e)),{}):{},target:E}),(0,n.sample)({clock:A.done,source:p,fn:(e,{params:t,result:r})=>({originalPlaylistAudioFullId:(0,c.getPlaylistAudioFullId)({originalAudio:t.audioIdentity,playlist:{id:t.playlistId,ownerId:e}}),addedIdentity:r}),target:u.add}),(0,n.sample)({clock:f.done,source:p,fn:(e,{params:t})=>(0,c.getPlaylistAudioFullId)({originalAudio:t.originalAudioIdentity,playlist:{id:t.playlistId,ownerId:e}}),target:u.remove}),{createFx:m,deleteFx:g,addAudioFx:A,deleteAudioFx:f,setUserId:d,$myAudioPlaylistsIdentitiesMap:E,$addedAudiosMap:l}}},178246:(e,t,r)=>{"use strict";r.d(t,{createAddedAudiosMap:()=>_});var n=r(32489),a=r(46201),s=r(786979);function _(e){const t=e.createStore({});return{$addedAudiosMap:t,addedAudiosMapApi:(0,n.createApi)(t,{add:(e,{originalPlaylistAudioFullId:t,addedIdentity:r})=>(0,a.addPairToMap)(e,{key:t,value:r}),remove:(e,t)=>(0,s.removePairFromMap)(e,t)})}}},163374:(e,t,r)=>{"use strict";r.d(t,{getPlaylistAudioFullId:()=>s});var n=r(848040),a=r(594241);function s({playlist:e,originalAudio:t}){return`PLAYLIST_${(0,a.getAudioPlaylistFullId)(e)}AUDIO_${(0,n.getAudioAccessId)(t)}`}},197796:(e,t,r)=>{"use strict";r.d(t,{createMyAudioRadioStationsService:()=>u});var n=r(746573),a=r(294219),s=r(685065),_=r(32489),c=r(478455),l=r(586049);function u(e){const t=(0,n.getEffectorServiceDomain)(e),r=(0,a.createFollowFx)({domain:t}),u=(0,s.creatUnfollowFx)({domain:t}),{fullIdsMapApi:d,$fullIdsMap:p}=(0,l.createFullIdsMap)(t);return(0,_.sample)({clock:r.done,fn:({params:{identity:e}})=>(0,c.getAudioFullId)(e),target:d.add}),(0,_.sample)({clock:u.done,fn:({params:{identity:e}})=>(0,c.getAudioFullId)(e),target:d.remove}),{followFx:r,unfollowFx:u,$identitiesMap:p}}},294219:(e,t,r)=>{"use strict";r.d(t,{createFollowFx:()=>a});var n=r(580352);function a({domain:e}){const t=(0,n.createAudioFollowRadioStationFx)({domain:e});return e.createEffect((async({identity:e})=>{await t({query:{station_id:e.id}})}))}},685065:(e,t,r)=>{"use strict";r.d(t,{creatUnfollowFx:()=>a});var n=r(580352);function a({domain:e}){const t=(0,n.createAudioUnfollowRadioStationFx)({domain:e});return e.createEffect((async({identity:e})=>{await t({query:{station_id:e.id}})}))}},944374:(e,t,r)=>{"use strict";r.d(t,{createMyMusicService:()=>p});var n=r(32489),a=r(606066),s=r(245666),_=r(478794),c=r(838325),l=r(478455),u=r(182464),d=r(746573);function p(e){const t=(0,d.getEffectorServiceDomain)(e),r=(0,a.createAddFx)({domain:t}),p=(0,s.createRestoreFx)({domain:t}),E=(0,_.createDeleteFx)({domain:t}),{$addedIdentitiesMap:m,$removedIdentitiesMap:g,$identitiesMap:A,addedIdentitiesMapApi:f,removedIdentitiesMapApi:I,addToStore:y,removeFromStore:R,removeFromAllIdentitiesMaps:O}=(0,u.createIdentitiesMaps)({domain:t}),S=(0,n.attach)({source:(0,n.combine)({addedIdentitiesMap:m,removedIdentitiesMap:g}),mapParams:(e,t)=>({...e,...t}),effect:(0,n.createEffect)((async({userId:e,trackedIdentity:t,addedIdentitiesMap:n,removedIdentitiesMap:a})=>{let s,_;if(e===t.ownerId)s=t,_=(0,l.getAudioFullId)({id:t.id,ownerId:e});else{const c=(0,l.getAudioFullId)({id:t.id,ownerId:t.ownerId});if(!(c in n))return await r({trackedIdentity:t,userId:e});if(s=n[c],_=(0,l.getAudioFullId)({id:s.id,ownerId:e}),!(_ in a))return await r({trackedIdentity:t,userId:e})}const u=(0,l.getAudioFullId)({id:t.id,ownerId:t.ownerId});try{return await p({identity:{id:s.id,ownerId:e}}),{id:s.id,ownerId:e}}catch(n){const a=n;if(a?.error?.error_code===c.MY_MUSIC_RESTORE_FX_EXPIRED_ERROR_CODE)return O({addedFullId:u,removedFullId:_}),await r({trackedIdentity:t,userId:e});throw a}}))});return(0,n.sample)({clock:S.done,source:m,filter:(e,{params:{userId:t,trackedIdentity:r}})=>t===r.ownerId&&!((0,l.getAudioFullId)(r)in e),fn:(e,{params:{trackedIdentity:t},result:r})=>({fullId:(0,l.getAudioFullId)(t),identity:r}),target:f.add}),(0,n.sample)({clock:r.done,fn:({params:{trackedIdentity:{id:e,ownerId:t}},result:r})=>({fullId:(0,l.getAudioFullId)({id:e,ownerId:t}),identity:r}),target:f.add}),(0,n.sample)({clock:p.done,fn:({params:{identity:e}})=>(0,l.getAudioFullId)(e),target:I.remove}),(0,n.sample)({clock:E.done,fn:({params:{identity:e}})=>(0,l.getAudioFullId)(e),target:I.add}),{addFx:S,deleteFx:E,addToStore:y,removeFromStore:R,$identitiesMap:A}}},606066:(e,t,r)=>{"use strict";r.d(t,{createAddFx:()=>a});var n=r(580352);function a({domain:e}){const t=(0,n.createAudioAddFx)({domain:e});return e.createEffect((async({trackedIdentity:e,userId:r})=>{const{id:n,ownerId:a,accessKey:s,trackCode:_,ref:c}=e,l=await t({query:{audio_id:n,owner_id:a,access_key:s,track_code:_,ref:c}}),u=l.items?.[0]?.new_audio_id;if(null==u)throw new Error("[MyMusicService] addFx - missing audio ID in response from audio.add api method");return{id:u,ownerId:r}}))}},478794:(e,t,r)=>{"use strict";r.d(t,{createDeleteFx:()=>a});var n=r(580352);function a({domain:e}){const t=(0,n.createAudioDeleteFx)({domain:e});return e.createEffect((async({identity:e})=>{const{id:r,ownerId:n}=e;await t({query:{audio_id:r,owner_id:n}})}))}},838325:(e,t,r)=>{"use strict";r.d(t,{MY_MUSIC_RESTORE_FX_EXPIRED_ERROR_CODE:()=>n});const n=15},245666:(e,t,r)=>{"use strict";r.d(t,{createRestoreFx:()=>a});var n=r(580352);function a({domain:e}){const t=(0,n.createAudioRestoreFx)({domain:e});return e.createEffect((async({identity:e})=>{const{id:r,ownerId:n}=e;await t({query:{audio_id:r,owner_id:n}})}))}},182464:(e,t,r)=>{"use strict";r.d(t,{createIdentitiesMaps:()=>l});var n=r(32489),a=r(478455),s=r(810780),_=r(46201),c=r(786979);const l=({domain:e})=>{const t=e.createStore({}),r=e.createStore({}),l=(0,n.createEvent)(),u=(0,n.createEvent)(),d=(0,n.createEvent)(),p=(0,n.combine)(t,r,((e,t)=>Object.entries(e).reduce(((e,[r,n])=>((0,a.getAudioFullId)(n)in t||(e[r]=n),e)),{}))),E=(0,n.createApi)(t,{add:(e,{fullId:t,identity:r})=>(0,_.addPairToMap)(e,{key:t,value:r}),remove:(e,t)=>(0,c.removePairFromMap)(e,t)}),m=(0,n.createApi)(r,{add:(e,t)=>(0,_.addPairToMap)(e,{key:t,value:!0}),remove:(e,t)=>(0,c.removePairFromMap)(e,t)});return(0,n.sample)({clock:l,source:t,fn:(e,{oldIdentity:t,newIdentity:r})=>{const n=(0,a.getAudioFullId)(t),s=(0,a.getAudioFullId)(r);return{addToStoreParams:{identity:r,fullId:n},removeFromStoreFullId:e[n]?(0,a.getAudioFullId)(e[n]):s}},target:(0,s.spread)({targets:{addToStoreParams:E.add,removeFromStoreFullId:m.remove}})}),(0,n.sample)({clock:u,filter:({newIdentity:e})=>Boolean(e),target:(0,s.spread)({targets:{oldIdentity:E.remove.prepend((e=>(0,a.getAudioFullId)(e))),newIdentity:m.remove.prepend((e=>(0,a.getAudioFullId)(e)))}})}),(0,n.sample)({clock:d,target:(0,s.spread)({targets:{addedFullId:E.remove,removedFullId:m.remove}})}),{$addedIdentitiesMap:t,$removedIdentitiesMap:r,$identitiesMap:p,addedIdentitiesMapApi:E,removedIdentitiesMapApi:m,addToStore:l,removeFromStore:u,removeFromAllIdentitiesMaps:d}}},586049:(e,t,r)=>{"use strict";r.d(t,{createFullIdsMap:()=>_});var n=r(32489),a=r(46201),s=r(786979);function _(e){const t=e.createStore({});return{$fullIdsMap:t,fullIdsMapApi:(0,n.createApi)(t,{add:(e,t)=>(0,a.addPairToMap)(e,{key:t,value:!0}),remove:(e,t)=>(0,s.removePairFromMap)(e,t)})}}},46201:(e,t,r)=>{"use strict";function n(e,t){return t.key in e?e:{...e,[t.key]:t.value}}r.d(t,{addPairToMap:()=>n})},594241:(e,t,r)=>{"use strict";function n({id:e,ownerId:t}){return`${t}_${e}`}r.d(t,{getAudioPlaylistFullId:()=>n})},786979:(e,t,r)=>{"use strict";function n(e,t){if(!(t in e))return e;const{[t]:r,...n}=e;return n}r.d(t,{removePairFromMap:()=>n})},865409:(e,t,r)=>{"use strict";function n(e){return{id:e.id,ownerId:e.owner_id,title:e.title,description:e.description,length:e.count}}r.d(t,{mapAPIPlaylistToAudioPlaylistData:()=>n})},65047:(e,t,r)=>{"use strict";r.d(t,{mapApiAudioPreviewToAudioPreviewData:()=>n});const n=e=>{const{url:t,clip_from:r,clip_to:n}=e;return{url:t||"",clip:{from:r||0,to:n||0}}}},213059:(e,t,r)=>{"use strict";r.d(t,{createAudioPodcastsFaveService:()=>u});var n=r(746573),a=r(33383),s=r(354491),_=r(32489),c=r(586049),l=r(280481);function u(e){const t=(0,n.getEffectorServiceDomain)(e),r=(0,a.createAddFx)({domain:t}),u=(0,s.createDeleteFx)({domain:t}),{fullIdsMapApi:d,$fullIdsMap:p}=(0,c.createFullIdsMap)(t);return(0,_.sample)({clock:r.done,fn:({params:{identity:e}})=>(0,l.getPodcastAudioFullId)(e),target:d.add}),(0,_.sample)({clock:u.done,fn:({params:{identity:e}})=>(0,l.getPodcastAudioFullId)(e),target:d.remove}),{addFx:r,deleteFx:u,$identitiesMap:p}}},33383:(e,t,r)=>{"use strict";r.d(t,{createAddFx:()=>a});var n=r(278116);function a({domain:e}){const t=(0,n.createFaveAddPodcastEpisodeFx)({domain:e});return e.createEffect((async({identity:e})=>{await t({query:{owner_id:e.ownerId,episode_id:e.podcastId}})}))}},354491:(e,t,r)=>{"use strict";r.d(t,{createDeleteFx:()=>a});var n=r(278116);function a({domain:e}){const t=(0,n.createFaveRemovePodcastEpisodeFx)({domain:e});return e.createEffect((async({identity:e})=>{await t({query:{owner_id:e.ownerId,episode_id:e.podcastId}})}))}},412554:(e,t,r)=>{"use strict";r.d(t,{createApiEffect:()=>a,createPrefetchEffect:()=>s});var n=r(957994);const a=(e,{domain:t})=>t.createEffect((({query:t,controller:r,config:a,options:s})=>{const _=r?.signal;return(0,n.api)(e,t,a,{signal:_,...s})})),s=(e,{domain:t,apiWithPrefetch:r=n.api})=>t.createEffect((({query:t,controller:n,config:a,options:s})=>{const _=n?.signal;return r(e,t,a,{signal:_,...s})}))},603025:(e,t,r)=>{"use strict";r.d(t,{isApiError:()=>n});const n=e=>!!e&&"object"==typeof e&&"type"in e&&"error"in e&&"api_error"===e.type},782399:(e,t,r)=>{"use strict";r.d(t,{isNetworkError:()=>n});const n=e=>"network_error"===e?.type},632731:(e,t,r)=>{"use strict";r.d(t,{AvailableHelpHints:()=>n});var n=function(e){return e.ACCOUNT_HINT_MINI_APPS_BUTTON_MVK_PROFILE="mini_apps:button_mvk_profile",e.ACCOUNT_HINT_MINI_APPS_BUTTON_MVK_APP_MENU="mini_apps:button_mvk_app_menu",e.ACCOUNT_HINT_MINI_APPS_COUNTER_TOGGLE_IN_ACTION_MENU="mini_apps:counter_toggle_in_action_menu",e.ACCOUNT_HINT_MINI_APPS_COUNTER_TOGGLE_IN_ACTION_MENU_INTRO="mini_apps:counter_toggle_in_action_menu_intro",e.ACCOUNT_HINT_MINI_APPS_COUNTER_TOGGLE_IN_ACTION_MENU_WEB="mini_apps:counter_toggle_in_action_menu_web",e.ACCOUNT_HINT_MINI_APPS_COUNTER_TOGGLE_IN_ACTION_MENU_INTRO_WEB="mini_apps:counter_toggle_in_action_menu_intro_web",e.ACCOUNT_HINT_MINI_APPS_OPEN_CATALOG_WITH_BADGES="mini_apps:open_catalog_with_badges",e.ACCOUNT_HINT_MINI_APPS_CATALOG_SECTION_WITH_BADGES="mini_apps:catalog_section_with_badges",e.ACCOUNT_HINT_SUPERAPP_RECOMMEND_ACTION_IN_MENU="superapp:recommend_action_in_menu",e.ACCOUNT_HINT_SUPERAPP_SHOW_RECOMMEND_ACTION="superapp:show_recommend_action",e.ACCOUNT_HINT_MINI_APPS_NAV_BUTTONS_THIRD_PARTY_BUTTONS="mini_apps:nav_buttons_third_party_buttons",e.ACCOUNT_HINT_POSTING_EDITOR_ONLINE_BOOKING="posting:editor_online_booking",e.ACCOUNT_HINT_PROFILE_SERVICES_MENU_BANNER="profile:services_menu_banner",e.ACCOUNT_HINT_PROFILE_SERVICES_ONBOARDING="profile:services_onboarding",e.ACCOUNT_HINT_MVK_PWA_TABBAR="mvk:pwa_tabbar",e.ACCOUNT_HINT_SUPERAPP_MVK_SHOWCASE="superapp:mvk_showcase",e.ACCOUNT_HINT_IM_INTEGRATION_APPS_TOOLTIP_ON_PICKER="superapp:im_integration_apps_tooltip_on_picker",e.ACCOUNT_HINT_IM_INTEGRATION_PICKER_APPS_BANNER="superapp:im_integration_picker_apps_banner",e.ACCOUNT_HINT_IM_INTEGRATION_PICKER_GAMES_BANNER="superapp:im_integration_picker_games_banner",e.ACCOUNT_HINT_FRIENDS_FOLLOWERS_MODE_FORCIBLY_ENABLED_ONBOARDING="friends:followers_mode_forcibly_enabled_onboarding",e.ACCOUNT_HINT_FRIENDS_FOLLOWERS_MODE_CAN_BE_ENABLED_ONBOARDING="friends:followers_mode_can_be_enabled_onboarding",e.ACCOUNT_HINT_FRIENDS_FOLLOWERS_MODE_ABOUT_MODAL_IMAGES="friends:followers_mode_about_modal_images",e.ACCOUNT_HINT_IM_INTEGRATION_CATALOG_ONBOARDING="superapp:im_integration_catalog_onboarding",e.ACCOUNT_HINT_PROFILE_PASSKEY_ONBOARDING_WEB="profile:passkey_onboarding_web",e.ACCOUNT_HINT_VIDEO_INTERACTIVE_VIDEO_ONBOARDING="video:interactive_video_onboarding",e.ACCOUNT_HINT_VIDEO_INTERACTIVE_INTERACTIVE_TIME_INDICATOR="video:interactive_time_indicator",e.ACCOUNT_HINT_CLIPS_WEB_UPLOAD_VIDEO_AS_CLIP="clips:upload_video_as_clip_web",e.AUTHOR_LIKE_ONBOARDING_HINT="feed:author_like_onboarding",e.GROUP_LIKE_ONBOARDING_HINT="feed:group_like_onboarding",e.ACCOUNT_HINT_COMMUNITY_REVIEW_TOOLTIP="community:review:tooltip",e.ACCOUNT_HINT_COMMUNITY_REVIEW_TOOLTIP_MVK="community:review:tooltip_mvk",e.ACCOUNT_HINT_COMMUNITY_STORY_AVATAR_ONBOARDING="community:story_avatar_onboarding",e.ACCOUNT_HINT_COMMUNITY_STORY_AVATAR_ONBOARDING_DROPDOWN="community:story_avatar_onboarding_dropdown",e.ACCOUNT_HINT_GROUPS_EDIT_MARKET_EXTRACTED_SETTINGS_HINT="groups:edit:market_extracted_settings_checkbox_hint",e.ACCOUNT_HINT_GROUPS_MAIN_MARKET_ACTION_EXTRACTED_SETTINGS_HINT="groups:main:market_action_extracted_settings_hint",e.ACCOUNT_HINT_GROUPS_REDESIGN_ONBOARDING="group:redesign_onboarding_mvk",e.ACCOUNT_HINT_GROUPS_TABS_ORDER_ONBOARDING="group:onboarding_tab_order",e.ACCOUNT_HINT_VIDEO_PIN="video:pin",e.ACCOUNT_HINT_VIDEO_WATCH_LATER_BUTTON="video:watch_later_button",e.ACCOUNT_HINT_VIDEO_WATCH_LATER_ACTION="video:watch_later_action",e.ACCOUNT_HINT_VIDEO_WATCH_LATER_MENU="video:watch_later_menu",e.ACCOUNT_HINT_VIDEO_GROUP_CROP_COVER="video:group_crop_cover",e.ACCOUNT_HINT_VIDEO_MULTIPLE_VOLUME="video:multiple_volume",e.ACCOUNT_HINT_VIDEO_SUBTITLES_KAZ_LANG="video:subtitles_kaz_lang",e.ACCOUNT_HINT_VIDEO_PROFILE_UPLOAD_ONBOARDING="video:profile_upload_onboarding",e.ACCOUNT_HINT_MVK_VIDEO_FILTERS="mvk:video_filters",e.ACCOUNT_HINT_PROFILE_PHOTO_FLOW_ONBOARDING_BANNER_PROFILE_MVK="profile:photo_flow_onboarding_banner_profile_mvk",e.ACCOUNT_HINT_PROFILE_PHOTO_FLOW_ONBOARDING_BANNER_SHOW_ALL_MVK="profile:photo_flow_onboarding_banner_show_all_mvk",e.ACCOUNT_HINT_PROFILE_PHOTO_FLOW_ONBOARDING_BANNER_PHOTO__MVK="profile:photo_flow_onboarding_banner_photo__mvk",e.ACCOUNT_HINT_PROFILE_PHOTO_FLOW_ONBOARDING_BANNER_MOBILE_QUESTION_MVK="profile:photo_flow_onboarding_banner_mobile_question_mvk",e.ACCOUNT_HINT_PROFILE_OWNER_CONTENT_TABS_SETTINGS="profile:redesign_owner_content_tabs_settings",e.ACCOUNT_HINT_PROFILE_SERVICES_ONBOARDING_WEB="profile:services_onboarding_web",e.ACCOUNT_HINT_PROFILE_PHOTO_FLOW_ONBOARDING_BANNER_PROFILE_WEB="profile:photo_flow_onboarding_banner_profile_web",e.ACCOUNT_HINT_PROFILE_PHOTO_FLOW_ONBOARDING_BANNER_SHOW_ALL_WEB="profile:photo_flow_onboarding_banner_show_all_web",e.ACCOUNT_HINT_PROFILE_PHOTO_FLOW_ONBOARDING_BANNER_PHOTO__WEB="profile:photo_flow_onboarding_banner_photo__web",e.ACCOUNT_HINT_PROFILE_PHOTO_FLOW_ONBOARDING_BANNER_MOBILE_QUESTION_WEB="profile:photo_flow_onboarding_banner_mobile_question_web",e.ACCOUNT_HINT_PROFILE_PHOTO_FLOW_ONBOARDING_TOOLTIP_MOVE_PHOTO="profile:photo_flow_onboarding_tooltip_move_photo",e.ACCOUNT_HINT_ARTICLES_MOBILE_EDITOR="articles:mobile_editor",e.ACCOUNT_HINT_ADSEDIT_SITE_REMOVAL_POPUP="adsedit:site_removal_popup",e.ACCOUNT_HINT_ADSEDIT_COMMUNITY_REMOVAL_POPUP="adsedit:community_removal_popup",e.ACCOUNT_HINT_ADSEDIT_COMMUNITY_AND_SITE_REMOVAL_POPUP="adsedit:community_and_site_removal_popup",e.ACCOUNT_HINT_STICKERS_UGC_SETTINGS_UNSEEN="stickers:ugc_settings_unseen",e.ACCOUNT_HINT_AUDIO_STUDIO_SHOW_PRESENT_MINIAPP_MODAL="audio_studio:show_present_miniapp_modal",e.ACCOUNT_HINT_AUDIO_STUDIO_SHOW_ANNUAL_RESULT_BANNER="audio_studio:show_annual_result_banner",e.ACCOUNT_HINT_AUDIO_LONG_TAP_PREVIEW_WEB="audio:longtap_preview_web",e.ACCOUNT_HINT_BANNED_RESET_SESSIONS="banned:can_not_reset_sessions",e.ACCOUNT_HINT_CLIPS_FORCE_UPLOAD_VIDEO_AS_CLIP="clips:force_upload_video_as_clip",e.ACCOUNT_HINT_POSTING_EDITOR_PHOTO_ATTACHMENTS_CROP="posting:editor_photo_attachements_crop",e.ACCOUNT_HINT_POSTING_EDITOR_PHOTO_ATTACHMENTS_CROP_ZOOM="posting:editor_photo_attachements_crop_zoom",e.ACCOUNT_HINT_SMB_YCLIENTS_ONLINE_BOOKING="smb:yclients:online_booking",e.UNBAN_SECURITY_RECOMMENDATION_HINT="feed:after_auth:unban_security_recommendation",e.ACCOUNT_HINT_SETTINGS_BOOKING="smb:yclients:group_settings_online_booking",e.ACCOUNT_HINT_SMB_COMMUNITY_BUSINESS_STATISTIC_CITY_FILTER="smb:community_business_statistics_city_filter",e.ACCOUNT_HINT_SMB_COMMUNITY_BUSINESS_STATISTIC_SUBSCRIBERS_FILTER="smb:community_business_statistics_subscribers_filter",e.ACCOUNT_HINT_SMB_COMMUNITY_BUSINESS_STATISTIC_USERS_LIST="smb:community_business_statistics_users_list",e.ACCOUNT_HINT_SMB_COMMUNITY_BUSINESS_STATISTIC_POSTS="smb:community_business_statistics_posts",e.ACCOUNT_HINT_SMB_COMMUNITY_BUSINESS_STATISTIC_COMPETITORS_POSTS="smb:community_business_statistics_competitors_posts",e.ACCOUNT_HINT_SMB_COMMUNITY_BUSINESS_STATISTIC_RECOMMENDATIONS="smb:community_business_statistics_recommendations",e.ACCOUNT_HINT_VIDEO_ATTACH_SHORT_VIDEO="video:attach_short_video",e.ACCOUNT_HINT_STORIES_EDITOR_TEXT_CREATING_WEB="stories:editor_text_creating_web",e.ACCOUNT_HINT_STORIES_GROUP_STATS="stories:groups_stats",e.ACCOUNT_HINT_STORIES_GROUP_STATS_EXP="stories:groups_stats_exp",e.ACCOUNT_HINT_VIDEO_SMART_CROP="video:smart_crop",e.ACCOUNT_HINT_GROUP_SETTINGS_MONETIZATION_ADBLOGGER="group_settings:monetization_adblogger",e.ACCOUNT_HINT_GROUP_SETTINGS_MONETIZATION_PP_NEW_RULES="group_settings:monetization_pp_new_rules",e.ACCOUNT_HINT_CLIPS_VIDEO_TO_CLIPS_APP_ENTRYPOINT_WEB="clips:video_to_clips_app_entrypoint_web",e.ACCOUNT_HINT_VIDEO_ONBOARDING_CHANNEL_COVER="video:onboarding_channel_cover",e.ACCOUNT_HINT_VIDEO_UPLOADER_EDITOR_ONBOARDING_TOOLTIP="video:uploader_editor_onboarding_tooltip",e.ACCOUNT_HINT_VIDEO_EDIT_EDITOR_ONBOARDING_TOOLTIP="video:edit_editor_onboarding_tooltip",e.ACCOUNT_HINT_PRIVACY_FOLLOWERS_MODE_MODAL_PIC="privacy:followers_mode_modal_pic",e.ACCOUNT_HINT_FEED_POSTING_NEXT_BUTTON_WEB="feed:posting_next_button_web",e.ACCOUNT_HINT_FEED_POSTING_NEXT_BUTTON_MVK="feed:posting_next_button_mvk",e.ACCOUNT_HINT_FEED_POSTING_CREATE_ONBOARDING_WEB="feed:posting_create_onboarding_web",e.ACCOUNT_HINT_FEED_POSTING_PHOTO_WITH_MARKET_ON_GRID_WEB="feed:posting_photo_with_market_on_grid_web",e.ACCOUNT_HINT_VIDEO_GROUP_OWNER_SJM_MONETIZATION_BANNER_ONBOARDING="video:group_owner_cjm_monetization_banner_onboarding",e.ACCOUNT_HINT_VIDEO_GROUP_OWNER_CJM_GROUPS_ONBOARDING_CTA="video:group_owner_cjm_groups_onboarding_cta",e.ACCOUNT_HINT_GROUPS_POSTING_DONUT_GOALS_ONBOARDING="groups:posting_donut_goals_onboarding",e.ACCOUNT_HINT_VIDEO_PUBLISH_MENU_ONBOARDING_WEB="video:publish_menu_onboarding_web",e.ACCOUNT_HINT_FEED_POSTING_COAUTHORS_ONBOARDING_WEB="feed:posting_coauthors_onboarding_web",e.ACCOUNT_HINT_FEED_POSTING_COAUTHORS_ONBOARDING_MVK="feed:posting_coauthors_onboarding_mvk",e.ACCOUNT_HINT_FEED_POSTING_ACTION_BUTTONS_HINT_WEB="feed:posting_action_buttons_hint_web",e.ACCOUNT_HINT_FEED_POSTING_CROP_ZOOM_WEB="feed:posting_crop_zoom_web",e.ACCOUNT_HINT_FEED_POSTING_CROP_ZOOM_MVK="feed:posting_crop_zoom_mvk",e.ACCOUNT_HINT_GROUPS_DONUT_LEVELS_ADMIN_ONBOARDING="groups:donut_levels_admin_onboarding_x",e.ACCOUNT_HINT_FEED_POSTING_PHOTO_EDITOR_ONBOARDING_WEB="feed:posting_photo_editor_onboarding_web",e.ACCOUNT_HINT_STORIES_CREATOR_FEED_WEB="stories:creator_feed_web",e.ACCOUNT_HINT_STORIES_CREATOR_CHANGE_AUTHOR_WEB="stories:creator_change_author_web",e.ACCOUNT_HINT_STORIES_CREATOR_STICKER_NATIVE_LINK_WEB="stories:creator_sticker_native_link_web",e.ACCOUNT_HINT_STORIES_CREATOR_FEED_MVK="stories:creator_feed_mvk",e.ACCOUNT_HINT_VIDEO_ONBOARDING_CHANNEL="video:onboarding_channel",e.ACCOUNT_HINT_IM_CHANNELS_FIRST_ENTRY="im:channels_first_entry",e.ACCOUNT_HINT_SHARE_BOX_STORIES_NEW_REPOSTS_POSTS="stories:share_box_new_reposts_posts",e.ACCOUNT_HINT_SHARE_BOX_STORIES_NEW_REPOSTS_PHOTO="stories:share_box_new_reposts_photo",e.ACCOUNT_HINT_SHARE_BOX_STORIES_NEW_REPOSTS_VIDEO="stories:share_box_new_reposts_video",e.ACCOUNT_HINT_SHARE_BOX_STORIES_NEW_REPOSTS_STORY="stories:share_box_new_reposts_story",e.ACCOUNT_HINT_SHARE_BOX_STORIES_NEW_REPOSTS_CLIP="stories:share_box_new_reposts_clip",e.ACCOUNT_HINT_MARKET_MARKET_ITEM_WISHLISTS_ONBOARDING="market:market_item_wishlists_onboarding",e.ACCOUNT_HINT_GROUPS_CHANNEL_BANER="groups:channel_banner",e.ACCOUNT_HINT_GROUPS_CHANNEL_POST_BUTTON="groups:channel_post_button",e}({})},746573:(e,t,r)=>{"use strict";r.d(t,{getEffectorServiceDomain:()=>s});var n=r(32489),a=r(418562);const s=e=>{const t=e?.name||(0,a.default)();return e?.domain?e.domain.createDomain(t):(0,n.createDomain)(t)}},140462:(e,t,r)=>{"use strict";function n(e,t){return t<0?e+t:t}r.d(t,{indexAbs:()=>n})},793384:(e,t,r)=>{"use strict";function n(e){return/^-?\d+$/.test(e)}r.d(t,{isIntAsString:()=>n})},35215:(e,t,r)=>{"use strict";function n(e){return"number"==typeof e&&!Number.isNaN(e)}r.d(t,{isNumber:()=>n})},538522:(e,t,r)=>{"use strict";r.d(t,{joinFullId:()=>n,joinRawId:()=>a});const n=(e,t)=>`${e}_${t}`,a=({ownerId:e,itemId:t,externalId:r})=>[e,t,r].filter(Boolean).join("_")},361121:(e,t,r)=>{"use strict";r.d(t,{splitRawId:()=>n});const n=e=>{const[t,r,n]=e.split("_");return{ownerId:Number(t),itemId:Number(r),externalId:void 0!==n?n:null}}},584053:(e,t,r)=>{"use strict";r.d(t,{Emitter:()=>c});var n=r(434518),a=r(763812),s=(0,a._)("_catchListener"),_=(0,a._)("_listeners");class c{emit(e,...t){const r=(0,n._)(this,s)[s],a=(0,n._)(this,_)[_].get(e);if(!a||!a.length)return!1;for(const e of[...a])try{e(...t)}catch(e){if(!r)throw e;r(e)}return!0}on(e,t){return this.listenable.on(e,t),this}once(e,t){return this.listenable.once(e,t),this}off(e,t){return this.listenable.off(e,t),this}createAggregator(){return this.listenable.createAggregator()}constructor({catchListener:e}={}){Object.defineProperty(this,s,{writable:!0,value:void 0}),Object.defineProperty(this,_,{writable:!0,value:void 0}),(0,n._)(this,_)[_]=new Map,(0,n._)(this,s)[s]=e,this.listenable=new p((0,n._)(this,_)[_])}}var l=(0,a._)("_listeners"),u=(0,a._)("_wrapListener"),d=(0,a._)("_ensureListeners");class p{on(e,t,r={}){return(0,n._)(this,d)[d](e).push((0,n._)(this,u)[u](e,t,r,!1)),this}once(e,t,r={}){return(0,n._)(this,d)[d](e).push((0,n._)(this,u)[u](e,t,r,!0)),this}off(e,t){let r=(0,n._)(this,l)[l].get(e);if(!r)return this;for(let e=r.length-1;e>=0;e--){const n=r[e];if(n.fn===t){r.splice(e,1);try{n.onUnlistened?.()}finally{break}}}return r.length||(0,n._)(this,l)[l].delete(e),this}createAggregator(){return new I(this)}constructor(e){Object.defineProperty(this,u,{value:E}),Object.defineProperty(this,d,{value:m}),Object.defineProperty(this,l,{writable:!0,value:void 0}),(0,n._)(this,l)[l]=e}}function E(e,t,r,n){let a=!1;const s=(...r)=>{n&&a||(n&&this.off(e,t),a=!0,t(...r))};return s.fn=t,s.onUnlistened=r.onUnlistened??null,s}function m(e){let t=(0,n._)(this,l)[l].get(e);return t||(t=[],(0,n._)(this,l)[l].set(e,t)),t}var g=(0,a._)("_disposers"),A=(0,a._)("_emitter"),f=(0,a._)("_registerDisposer");class I{on(e,t){const r=(0,n._)(this,f)[f](e,t);return(0,n._)(this,A)[A].on(e,t,{onUnlistened:()=>{(0,n._)(this,g)[g].delete(r)}}),this}once(e,t){const r=(0,n._)(this,f)[f](e,t);return(0,n._)(this,A)[A].once(e,t,{onUnlistened:()=>{(0,n._)(this,g)[g].delete(r)}}),this}off(e,t){return(0,n._)(this,A)[A].off(e,t),this}dispose(){for(const e of(0,n._)(this,g)[g])e();(0,n._)(this,g)[g].clear()}createAggregator(){return(0,n._)(this,A)[A].createAggregator()}constructor(e){Object.defineProperty(this,f,{value:y}),Object.defineProperty(this,g,{writable:!0,value:void 0}),Object.defineProperty(this,A,{writable:!0,value:void 0}),(0,n._)(this,g)[g]=new Set,(0,n._)(this,A)[A]=e}}function y(e,t){const r=()=>(0,n._)(this,A)[A].off(e,t);return(0,n._)(this,g)[g].add(r),r}},787661:(e,t,r)=>{"use strict";function n(e){let t=e.length;for(;t>0;){const r=Math.floor(Math.random()*t);t--;const n=e[t];e[t]=e[r],e[r]=n}return e}r.d(t,{shuffle:()=>n})},558137:(e,t,r)=>{"use strict";r.d(t,{makeSharedState:()=>c});const n="__SHARED_STATE_KEY";(()=>{const e=self.hasOwnProperty(n)?self[n]:Object.create(null);Object.defineProperty(self,n,{configurable:!0,value:e})})();const a=()=>self[n],s=e=>a()[e],_=(e,t)=>{a()[e]=t};function c(e,t,r){const n=function(e,t){let r=e.replace(/[^a-zA-Z0-9-]/gi,"_").toLowerCase();0!==t&&(r+=`__${t}`);return r}(e,r.version);return n in a()||_(n,t()),()=>s(n)}},86909:(e,t,r)=>{"use strict";function n(e,t,r={}){if("undefined"==typeof window||!window.Worker)return a(e,t);try{return function(e,t,{name:r}){const n=new Blob([`\n    let id;\n    onmessage = function(e) {\n      if (e.data == 'start') {\n        clearInterval(id);\n        id = setInterval(() => { postMessage({}); }, ${t});\n      }\n    }\n  `]),a=new Worker(window.URL.createObjectURL(n),{name:[`utils/setStableInterval(${t})`,r].filter(Boolean).join("#")});return a.onmessage=function(){e()},a.postMessage("start"),()=>{a.terminate()}}(e,t,r)}catch(r){return a(e,t)}}function a(e,t){const r=setInterval(e,t);return()=>{clearInterval(r)}}r.d(t,{setStableInterval:()=>n})},615955:(e,t,r)=>{"use strict";function n(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let n=0;n<r.length;n++)if(!Object.prototype.hasOwnProperty.call(t,r[n])||e[r[n]]!==t[r[n]])return!1;return!0}r.d(t,{shallowEqual:()=>n})},996361:(e,t,r)=>{"use strict";function n(e,t){return new Promise(((r,n)=>{const a=setTimeout((()=>{r()}),e);t&&t.addEventListener("abort",(()=>{clearTimeout(a),n(new Error("Sleep aborted"))}))}))}r.d(t,{sleep:()=>n})},229820:(e,t,r)=>{"use strict";r.d(t,{NetworkStatEventTypes:()=>n});var n=function(e){return e.TYPE_NETWORK_AUDIO_ITEM="type_network_audio_item",e.TYPE_MODULE_NAVIGATION_STATS_ITEM="type_module_navigation_stats_item",e}({})},70148:(e,t,r)=>{"use strict";r.d(t,{OwnedIdentity:()=>s});var n=r(768035),a=r(873900);class s{static fromRawId(e){const t=(0,n.parseRawId)(e);return new s(t)}get rawId(){return(0,a.getIdentityRawId)(this)}get accessRawId(){return(0,a.getIdentityAccessRawId)(this)}get fullId(){return this.rawId}constructor(e){this.id=e.id,this.ownerId=e.ownerId,this.accessKey=e.accessKey}}},843161:(e,t,r)=>{"use strict";r.d(t,{SingleIdentity:()=>n});class n{get fullId(){return this.id}constructor(e){this.id=e.id}}},391751:(e,t,r)=>{"use strict";function n(...e){if(e.length<2)return!0;const t=e[0].fullId;return e.every((e=>e.fullId===t))}r.d(t,{compareIdentities:()=>n})},873900:(e,t,r)=>{"use strict";function n({id:e,ownerId:t}){return`${t}_${e}`}function a({id:e,ownerId:t}){if(void 0!==e&&void 0!==t)return`${t}_${e}`}function s(e){const{accessKey:t}=e,r=n(e);return t?`${r}_${t}`:r}r.d(t,{getIdentityAccessRawId:()=>s,getIdentityRawId:()=>n,getIdentityRawIdOrUndefined:()=>a})},768035:(e,t,r)=>{"use strict";r.d(t,{parseRawId:()=>s});var n=r(8520),a=r(187966);function s(e){let t,r,s;if(!(0,a.isAnyRawId)(e))throw _(e);if(t=e.split("_"),r=t[0]&&parseInt(t[0],10),s=t[1]&&parseInt(t[1],10),!(0,n.isNumber)(s)||!(0,n.isNumber)(r))throw _(e);return{id:s,ownerId:r,accessKey:t[2]}}function _(e){return new Error("Invalid rawId",{cause:`Source: ${e}`})}},468073:(e,t,r)=>{"use strict";r.d(t,{Ranges:()=>a});var n=r(109680);const a=Object.freeze({getAutotestGroupIdRand:()=>c(n.RANGES_IDS.AUTOTEST_GROUP_ID_MIN,n.RANGES_IDS.AUTOTEST_GROUP_ID_MAX),isAutotestGroup:e=>e>=n.RANGES_IDS.AUTOTEST_GROUP_ID_MIN&&e<=n.RANGES_IDS.AUTOTEST_GROUP_ID_MAX,isGroupId:e=>e<=n.RANGES_IDS.GROUPS_UPPER_BOUND&&e>n.RANGES_IDS.GROUPS_LOWER_BOUND,isUserId:e=>e>=n.RANGES_IDS.USERS_LOWER_BOUND&&e<n.RANGES_IDS.USERS_UPPER_BOUND||e>=n.RANGES_IDS.USERS_LOWER_BOUND_LONG&&e<n.RANGES_IDS.USERS_UPPER_BOUND_LONG,isUserIdTransitional(e){a.isUserId(e);const t=s(e,0,n.RANGES_IDS.CONTACTS_UPPER_BOUND);return t},isRealOwner:e=>a.isGroupId(e)||a.isUserId(e),isAudioOwner:e=>a.isRealOwner(e)||a.isUMA(e)||a.isFakeWallAudioOwner(e),isPlaylistOwner:e=>a.isRealOwner(e)||a.isUMA(e)||a.isChatOrChannelPeer(e),isOfficialPlaylist:e=>a.isUMAReleaseOwner(e)||a.isUMAAlbumOwner(e),isFakeWallAudioOwner:e=>_(e,n.RANGES_IDS.AUDIO_FAKE_WALL_OWNER_MIN,n.RANGES_IDS.AUDIO_FAKE_WALL_OWNER_MAX),isUMA:e=>a.isUMAReleaseOwner(e)||a.isUMAAlbumOwner(e),isUMAAlbumOwner:e=>_(e,n.RANGES_IDS.AUDIO_FAKE_UMA_ALBUM_OWNER_MIN,n.RANGES_IDS.AUDIO_FAKE_UMA_ALBUM_OWNER_MAX),getUMAAlbumOwnerByShift:e=>n.RANGES_IDS.AUDIO_FAKE_UMA_ALBUM_OWNER_MAX-Math.abs(e%n.RANGES_IDS.AUDIO_FAKE_UMA_OWNERS_COUNT),isUMAReleaseOwner:e=>_(e,n.RANGES_IDS.AUDIO_FAKE_UMA_RELEASE_OWNER_MIN,n.RANGES_IDS.AUDIO_FAKE_UMA_RELEASE_OWNER_MAX),getUMAReleaseOwnerByShift:e=>n.RANGES_IDS.AUDIO_FAKE_UMA_RELEASE_OWNER_MAX-Math.abs(e%n.RANGES_IDS.AUDIO_FAKE_UMA_OWNERS_COUNT),isEmailId:e=>e<n.RANGES_IDS.EMAIL_UPPER_BOUND,isOwnerId:e=>e>=n.RANGES_IDS.USERS_LOWER_BOUND?a.isUserId(e):a.isGroupId(e),isContactId:e=>e>=n.RANGES_IDS.CONTACTS_LOWER_BOUND&&e<n.RANGES_IDS.CONTACTS_UPPER_BOUND,convertContactIdToPeerId:e=>e+n.RANGES_IDS.USERS_UPPER_BOUND,convertPeerIdToContactId:e=>e-n.RANGES_IDS.USERS_UPPER_BOUND,isChatOrChannelPeer:e=>e>=n.RANGES_IDS.CHAT_OR_CHANNEL_LOWER_BOUND&&e<=n.RANGES_IDS.CHAT_OR_CHANNEL_UPPER_BOUND,isChatId:e=>e>n.RANGES_IDS.MIN_CHAT_ID&&e<=n.RANGES_IDS.MAX_CHAT_ID,convertChatPeerIdToChatId:e=>e-n.RANGES_IDS.CONTACTS_UPPER_BOUND,convertChatIdToChatPeerId:e=>e+n.RANGES_IDS.CONTACTS_UPPER_BOUND,isAppDomain:e=>e>=n.RANGES_IDS.APP_LOWER_BOUND&&e<n.RANGES_IDS.APP_UPPER_BOUND,convertPeerIdToAppId:e=>-e+n.RANGES_IDS.APP_UPPER_BOUND,convertAppIdToPeerId:e=>n.RANGES_IDS.APP_UPPER_BOUND-e,isUnauthLongId:e=>_(e,n.RANGES_IDS.UNAUTH_LONG_ID_MIN,n.RANGES_IDS.UNAUTH_LONG_ID_MAX),isUnauthLongIdOld:e=>_(e,n.RANGES_IDS.UNAUTH_LONG_ID_MIN_OLD,n.RANGES_IDS.UNAUTH_LONG_ID_MAX_OLD),isMarusyaUploadOwner:e=>n.RANGES_IDS.MARUSYA_UPLOAD_OWNER_MIN<=e&&e<=n.RANGES_IDS.MARUSYA_UPLOAD_OWNER_MAX,getRandomMarusyaUploadOwnerId:()=>c(n.RANGES_IDS.MARUSYA_UPLOAD_OWNER_MIN,n.RANGES_IDS.MARUSYA_UPLOAD_OWNER_MAX),isFakeDocOwner:e=>_(e,n.RANGES_IDS.FAKE_DOC_OWNER_MIN,n.RANGES_IDS.FAKE_DOC_OWNER_MAX),getFirstFakeOwnerId:()=>n.RANGES_IDS.FAKE_DOC_OWNER_MIN,getRandomFirstFakeOwnerId:()=>c(n.RANGES_IDS.FAKE_DOC_OWNER_MIN,n.RANGES_IDS.FAKE_DOC_OWNER_MIN+64e3),getRandomFakeOwnerId:()=>n.RANGES_IDS.FAKE_DOC_OWNER_MIN+(Math.floor(Date.now()/1e3)/173+c(0,999))%64e3,isAdsVideoOwner:e=>_(e,n.RANGES_IDS.ADS_VIDEO_OWNER_MIN,n.RANGES_IDS.ADS_VIDEO_OWNER_MAX),getRandomAdsVideoOwner:()=>c(n.RANGES_IDS.ADS_VIDEO_OWNER_MIN,n.RANGES_IDS.ADS_VIDEO_OWNER_MAX),isAdsPhotoOwner:e=>_(e,n.RANGES_IDS.ADS_PHOTO_OWNER_MIN,n.RANGES_IDS.ADS_PHOTO_OWNER_MAX),getRandomAdsPhotoOwner:()=>c(n.RANGES_IDS.ADS_PHOTO_OWNER_MIN,n.RANGES_IDS.ADS_PHOTO_OWNER_MAX),isZeroOwner:e=>0===e,convertEmailIdToEmailPeerId:e=>a.isEmailId(e)?-e+n.RANGES_IDS.EMAIL_UPPER_BOUND:0,isZeroOwnerDeprecated:e=>!!e||a.isZeroOwner(e),isExternalUser:e=>s(e,n.RANGES_IDS.EMAIL_UPPER_BOUND,n.RANGES_IDS.EXTERNAL_USER_ID_OFFSET),isExternalUserDeprecated(e){a.isExternalUser(e);const t=s(e,n.RANGES_IDS.EMAIL_UPPER_BOUND,n.RANGES_IDS.APP_DOMAIN_ID_OFFSET);return t},isAnonymousCallPeerId:e=>e>=n.RANGES_IDS.CALLS_PEER_LOWER_BOUND&&e<n.RANGES_IDS.CALLS_PEER_UPPER_BOUND,isAnonymousUserPeerId:e=>e>=n.RANGES_IDS.ANONYMOUS_USER_PEER_ID_LOWER_BOUND&&e<n.RANGES_IDS.ANONYMOUS_USER_PEER_ID_UPPER_BOUND,getAnonymousCallUserByShift(e){const t=n.RANGES_IDS.CALLS_PEER_UPPER_BOUND-n.RANGES_IDS.CALLS_PEER_LOWER_BOUND,r=(e%t+t)%t;return n.RANGES_IDS.CALLS_PEER_UPPER_BOUND-1-r},isValidAliExpressOrderUserId:e=>!(e<n.RANGES_IDS.ALIEXPRESS_USER_ID_RANGE_START)&&!(e>n.RANGES_IDS.ALIEXPRESS_USER_ID_RANGE_START+n.RANGES_IDS.ALIEXPRESS_USER_ID_RANGE_LENGTH),generateAliexpressOrderUserId:()=>c(n.RANGES_IDS.ALIEXPRESS_USER_ID_RANGE_START,n.RANGES_IDS.ALIEXPRESS_USER_ID_RANGE_LENGTH),isADBot:e=>e>=n.RANGES_IDS.AD_BOT_ID_RANGE_START&&e<=n.RANGES_IDS.AD_BOT_ID_RANGE_END,getMarusiaAudioFakeId(e){const t=n.RANGES_IDS.MARUSIA_AUDIO_FAKE_ID_MAX-n.RANGES_IDS.MARUSIA_AUDIO_FAKE_ID_MIN;return n.RANGES_IDS.MARUSIA_AUDIO_FAKE_ID_MIN+e%t},isMarusiaAudioFakeId:e=>e>=n.RANGES_IDS.MARUSIA_AUDIO_FAKE_ID_MIN&&e<n.RANGES_IDS.MARUSIA_AUDIO_FAKE_ID_MAX,isOwnerIdTransitional:e=>e>n.RANGES_IDS.USERS_LOWER_BOUND?a.isUserIdTransitional(e):a.isGroupId(e),convertGroupIdToOwnerId:e=>-e,convertGroupIdToOwnerIdStrict:e=>-Math.abs(e),convertOwnerIdToGroupId:e=>Math.abs(e)});function s(e,t,r){return t<e&&e<r}function _(e,t,r){return t<=e&&e<=r}function c(e,t){return e+Math.floor(Math.random()*(t-e))}},109680:(e,t,r)=>{"use strict";r.d(t,{RANGES_IDS:()=>c});const n=1e8,a=5e16,s=2**56-1,_=2000000001,c=Object.freeze({MIN_CHAT_ID:0,MAX_CHAT_ID:n,UNAUTH_LONG_ID_SUBRANGE_WITH_DEVICE_ID_SIZE:a,UNAUTH_LONG_ID_SUBRANGE_WITHOUT_DEVICE_ID_SIZE:s,UNAUTH_LONG_ID_MIN:9e18,UNAUTH_LONG_ID_MAX:0x7e980f0d11490000,MARUSYA_UPLOAD_OWNER_MIN:593139650,MARUSYA_UPLOAD_OWNER_MAX:593139654,UNAUTH_LONG_ID_MIN_OLD:10000000001,UNAUTH_LONG_ID_MAX_OLD:11e10,FAKE_DOC_OWNER_MIN:2e9,FAKE_DOC_OWNER_MAX:2000063999,ADS_VIDEO_OWNER_MIN:16e6,ADS_VIDEO_OWNER_MAX:16000599,ADS_PHOTO_OWNER_MIN:1698e4,ADS_PHOTO_OWNER_MAX:16999999,AUDIO_FAKE_UMA_RELEASE_OWNER_MIN:-2002e6,AUDIO_FAKE_UMA_RELEASE_OWNER_MAX:-2001e6,AUDIO_FAKE_UMA_ALBUM_OWNER_MIN:-2000999999,AUDIO_FAKE_UMA_ALBUM_OWNER_MAX:-2e9,AUDIO_FAKE_UMA_OWNERS_COUNT:1e6,AUDIO_FAKE_WALL_OWNER_MIN:2e9,AUDIO_FAKE_WALL_OWNER_MAX:2000512e3,USERS_LOWER_BOUND:1,USERS_UPPER_BOUND:19e8,USERS_LOWER_BOUND_LONG:2e11,USERS_UPPER_BOUND_LONG:1e12,EMAIL_UPPER_BOUND:-2e9,CONTACTS_LOWER_BOUND:1900000001,CONTACTS_UPPER_BOUND:2e9,CALLS_PEER_LOWER_BOUND:-1899999999,CALLS_PEER_UPPER_BOUND:-189e7,ANONYMOUS_USER_PEER_ID_LOWER_BOUND:10000000001,ANONYMOUS_USER_PEER_ID_UPPER_BOUND:11e10,CHAT_OR_CHANNEL_LOWER_BOUND:_,CHAT_OR_CHANNEL_UPPER_BOUND:21e8,GROUPS_LOWER_BOUND:-1e9,GROUPS_UPPER_BOUND:-1,APP_LOWER_BOUND:-1999999999,APP_UPPER_BOUND:-1e9,ALIEXPRESS_USER_ID_RANGE_START:2e9,ALIEXPRESS_USER_ID_RANGE_LENGTH:150,AD_BOT_ID_RANGE_START:2e9,AD_BOT_ID_RANGE_END:2000064e3,MARUSIA_AUDIO_FAKE_ID_MIN:2000512001,MARUSIA_AUDIO_FAKE_ID_MAX:2000512051,AUTOTEST_GROUP_ID_MIN:216720807,AUTOTEST_GROUP_ID_MAX:216820807,EXTERNAL_USER_ID_OFFSET:-19e8,APP_DOMAIN_ID_OFFSET:-1e9})},724913:(e,t,r)=>{"use strict";r.d(t,{ANY_RAW_ID_INCLUDABLE_PATTERN:()=>_,ANY_RAW_ID_INCLUDABLE_REGEXP:()=>d,ANY_RAW_ID_REGEXP:()=>p});const n="_[a-z0-9]+",a="(-?\\d+)_(-?\\d+)",s=`${a}(${n})`,_=`${a}(${n})?`,c=E(a),l=E(s),u=E(_),d=new RegExp(_),p=new RegExp(u);new RegExp(c),new RegExp(l);function E(e){return`^${e}$`}},187966:(e,t,r)=>{"use strict";r.d(t,{isAnyRawId:()=>a});var n=r(724913);function a(e){return n.ANY_RAW_ID_REGEXP.test(e)}},649632:(e,t,r)=>{"use strict";r.d(t,{emojiRegex:()=>n});const n=()=>/\u{1F3F4}(?:\u{E0067}\u{E0062}(?:\u{E0065}\u{E006E}\u{E0067}|\u{E0077}\u{E006C}\u{E0073}|\u{E0073}\u{E0063}\u{E0074})\u{E007F}|\u{200D}\u{2620}\u{FE0F}?)|\u{1F469}\u{200D}\u{1F469}\u{200D}(?:\u{1F466}\u{200D}\u{1F466}|\u{1F467}\u{200D}[\u{1F466}\u{1F467}])|\u{1F468}(?:\u{200D}(?:\u{2764}\u{FE0F}?\u{200D}(?:\u{1F48B}\u{200D})?\u{1F468}|[\u{1F468}\u{1F469}]\u{200D}(?:\u{1F466}\u{200D}\u{1F466}|\u{1F467}\u{200D}[\u{1F466}\u{1F467}])|\u{1F466}\u{200D}\u{1F466}|\u{1F467}\u{200D}[\u{1F466}\u{1F467}]|[\u{1F33E}\u{1F373}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9B0}-\u{1F9B3}])|[\u{1F3FB}-\u{1F3FF}]\u{200D}[\u{1F33E}\u{1F373}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9B0}-\u{1F9B3}])|\u{1F469}\u{200D}(?:\u{2764}\u{FE0F}?\u{200D}(?:\u{1F48B}\u{200D}[\u{1F468}\u{1F469}]|[\u{1F468}\u{1F469}])|[\u{1F33E}\u{1F373}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9B0}-\u{1F9B3}])|\u{1F469}\u{200D}\u{1F466}\u{200D}\u{1F466}|(?:\u{1F441}\u{FE0F}?\u{200D}\u{1F5E8}|\u{1F469}[\u{1F3FB}-\u{1F3FF}]\u{200D}[\u{2695}\u{2696}\u{2708}]|\u{1F468}(?:[\u{1F3FB}-\u{1F3FF}]\u{200D}[\u{2695}\u{2696}\u{2708}]|\u{200D}[\u{2695}\u{2696}\u{2708}])|(?:[\u{26F9}\u{1F3CB}\u{1F3CC}\u{1F575}]\u{FE0F}?|[\u{1F46F}\u{1F93C}\u{1F9DE}\u{1F9DF}])\u{200D}[\u{2640}\u{2642}]|[\u{26F9}\u{1F3CB}\u{1F3CC}\u{1F575}][\u{1F3FB}-\u{1F3FF}]\u{200D}[\u{2640}\u{2642}]|[\u{1F3C3}\u{1F3C4}\u{1F3CA}\u{1F46E}\u{1F471}\u{1F473}\u{1F477}\u{1F481}\u{1F482}\u{1F486}\u{1F487}\u{1F645}-\u{1F647}\u{1F64B}\u{1F64D}\u{1F64E}\u{1F6A3}\u{1F6B4}-\u{1F6B6}\u{1F926}\u{1F937}-\u{1F939}\u{1F93D}\u{1F93E}\u{1F9B8}\u{1F9B9}\u{1F9D6}-\u{1F9DD}](?:[\u{1F3FB}-\u{1F3FF}]\u{200D}[\u{2640}\u{2642}]|\u{200D}[\u{2640}\u{2642}])|\u{1F469}\u{200D}[\u{2695}\u{2696}\u{2708}])\u{FE0F}?|\u{1F469}\u{200D}\u{1F467}\u{200D}[\u{1F466}\u{1F467}]|\u{1F469}\u{200D}\u{1F469}\u{200D}[\u{1F466}\u{1F467}]|\u{1F468}(?:\u{200D}(?:[\u{1F468}\u{1F469}]\u{200D}[\u{1F466}\u{1F467}]|[\u{1F466}\u{1F467}])|[\u{1F3FB}-\u{1F3FF}])|\u{1F3F3}\u{FE0F}?\u{200D}\u{1F308}|\u{1F469}\u{200D}\u{1F467}|\u{1F469}[\u{1F3FB}-\u{1F3FF}]\u{200D}[\u{1F33E}\u{1F373}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9B0}-\u{1F9B3}]|\u{1F469}\u{200D}\u{1F466}|\u{1F1F6}\u{1F1E6}|\u{1F1FD}\u{1F1F0}|\u{1F1F4}\u{1F1F2}|\u{1F469}[\u{1F3FB}-\u{1F3FF}]|\u{1F1ED}[\u{1F1F0}\u{1F1F2}\u{1F1F3}\u{1F1F7}\u{1F1F9}\u{1F1FA}]|\u{1F1EC}[\u{1F1E6}\u{1F1E7}\u{1F1E9}-\u{1F1EE}\u{1F1F1}-\u{1F1F3}\u{1F1F5}-\u{1F1FA}\u{1F1FC}\u{1F1FE}]|\u{1F1EA}[\u{1F1E6}\u{1F1E8}\u{1F1EA}\u{1F1EC}\u{1F1ED}\u{1F1F7}-\u{1F1FA}]|\u{1F1E8}[\u{1F1E6}\u{1F1E8}\u{1F1E9}\u{1F1EB}-\u{1F1EE}\u{1F1F0}-\u{1F1F5}\u{1F1F7}\u{1F1FA}-\u{1F1FF}]|\u{1F1F2}[\u{1F1E6}\u{1F1E8}-\u{1F1ED}\u{1F1F0}-\u{1F1FF}]|\u{1F1F3}[\u{1F1E6}\u{1F1E8}\u{1F1EA}-\u{1F1EC}\u{1F1EE}\u{1F1F1}\u{1F1F4}\u{1F1F5}\u{1F1F7}\u{1F1FA}\u{1F1FF}]|\u{1F1FC}[\u{1F1EB}\u{1F1F8}]|\u{1F1FA}[\u{1F1E6}\u{1F1EC}\u{1F1F2}\u{1F1F3}\u{1F1F8}\u{1F1FE}\u{1F1FF}]|\u{1F1F0}[\u{1F1EA}\u{1F1EC}-\u{1F1EE}\u{1F1F2}\u{1F1F3}\u{1F1F5}\u{1F1F7}\u{1F1FC}\u{1F1FE}\u{1F1FF}]|\u{1F1EF}[\u{1F1EA}\u{1F1F2}\u{1F1F4}\u{1F1F5}]|\u{1F1F8}[\u{1F1E6}-\u{1F1EA}\u{1F1EC}-\u{1F1F4}\u{1F1F7}-\u{1F1F9}\u{1F1FB}\u{1F1FD}-\u{1F1FF}]|\u{1F1EE}[\u{1F1E8}-\u{1F1EA}\u{1F1F1}-\u{1F1F4}\u{1F1F6}-\u{1F1F9}]|\u{1F1FF}[\u{1F1E6}\u{1F1F2}\u{1F1FC}]|\u{1F1EB}[\u{1F1EE}-\u{1F1F0}\u{1F1F2}\u{1F1F4}\u{1F1F7}]|\u{1F1F5}[\u{1F1E6}\u{1F1EA}-\u{1F1ED}\u{1F1F0}-\u{1F1F3}\u{1F1F7}-\u{1F1F9}\u{1F1FC}\u{1F1FE}]|\u{1F1E9}[\u{1F1EA}\u{1F1EC}\u{1F1EF}\u{1F1F0}\u{1F1F2}\u{1F1F4}\u{1F1FF}]|\u{1F1F9}[\u{1F1E6}\u{1F1E8}\u{1F1E9}\u{1F1EB}-\u{1F1ED}\u{1F1EF}-\u{1F1F4}\u{1F1F7}\u{1F1F9}\u{1F1FB}\u{1F1FC}\u{1F1FF}]|\u{1F1E7}[\u{1F1E6}\u{1F1E7}\u{1F1E9}-\u{1F1EF}\u{1F1F1}-\u{1F1F4}\u{1F1F6}-\u{1F1F9}\u{1F1FB}\u{1F1FC}\u{1F1FE}\u{1F1FF}]|[#\*0-9]\u{FE0F}?\u{20E3}|\u{1F1F1}[\u{1F1E6}-\u{1F1E8}\u{1F1EE}\u{1F1F0}\u{1F1F7}-\u{1F1FB}\u{1F1FE}]|\u{1F1E6}[\u{1F1E8}-\u{1F1EC}\u{1F1EE}\u{1F1F1}\u{1F1F2}\u{1F1F4}\u{1F1F6}-\u{1F1FA}\u{1F1FC}\u{1F1FD}\u{1F1FF}]|\u{1F1F7}[\u{1F1EA}\u{1F1F4}\u{1F1F8}\u{1F1FA}\u{1F1FC}]|\u{1F1FB}[\u{1F1E6}\u{1F1E8}\u{1F1EA}\u{1F1EC}\u{1F1EE}\u{1F1F3}\u{1F1FA}]|\u{1F1FE}[\u{1F1EA}\u{1F1F9}]|[\u{1F3C3}\u{1F3C4}\u{1F3CA}\u{1F46E}\u{1F471}\u{1F473}\u{1F477}\u{1F481}\u{1F482}\u{1F486}\u{1F487}\u{1F645}-\u{1F647}\u{1F64B}\u{1F64D}\u{1F64E}\u{1F6A3}\u{1F6B4}-\u{1F6B6}\u{1F926}\u{1F937}-\u{1F939}\u{1F93D}\u{1F93E}\u{1F9B8}\u{1F9B9}\u{1F9D6}-\u{1F9DD}][\u{1F3FB}-\u{1F3FF}]|[\u{26F9}\u{1F3CB}\u{1F3CC}\u{1F575}][\u{1F3FB}-\u{1F3FF}]|[\u{261D}\u{270A}-\u{270D}\u{1F385}\u{1F3C2}\u{1F3C7}\u{1F442}\u{1F443}\u{1F446}-\u{1F450}\u{1F466}\u{1F467}\u{1F470}\u{1F472}\u{1F474}-\u{1F476}\u{1F478}\u{1F47C}\u{1F483}\u{1F485}\u{1F4AA}\u{1F574}\u{1F57A}\u{1F590}\u{1F595}\u{1F596}\u{1F64C}\u{1F64F}\u{1F6C0}\u{1F6CC}\u{1F918}-\u{1F91C}\u{1F91D}\u{1F91E}\u{1F91F}\u{1F930}-\u{1F936}\u{1F9B5}\u{1F9B6}\u{1F9D1}-\u{1F9D5}][\u{1F3FB}-\u{1F3FF}]|[\u{231A}\u{231B}\u{23E9}-\u{23EC}\u{23F0}\u{23F3}\u{25FD}\u{25FE}\u{2614}\u{2615}\u{2648}-\u{2653}\u{267F}\u{2693}\u{26A1}\u{26AA}\u{26AB}\u{26BD}\u{26BE}\u{26C4}\u{26C5}\u{26CE}\u{26D4}\u{26EA}\u{26F2}\u{26F3}\u{26F5}\u{26FA}\u{26FD}\u{2705}\u{270A}\u{270B}\u{2728}\u{274C}\u{274E}\u{2753}-\u{2755}\u{2757}\u{2795}-\u{2797}\u{27B0}\u{27BF}\u{2B1B}\u{2B1C}\u{2B50}\u{2B55}\u{1F004}\u{1F0CF}\u{1F18E}\u{1F191}-\u{1F19A}\u{1F1E6}-\u{1F1FF}\u{1F201}\u{1F21A}\u{1F22F}\u{1F232}-\u{1F236}\u{1F238}-\u{1F23A}\u{1F250}\u{1F251}\u{1F300}-\u{1F320}\u{1F32D}-\u{1F335}\u{1F337}-\u{1F37C}\u{1F37E}-\u{1F393}\u{1F3A0}-\u{1F3CA}\u{1F3CF}-\u{1F3D3}\u{1F3E0}-\u{1F3F0}\u{1F3F4}\u{1F3F8}-\u{1F43E}\u{1F440}\u{1F442}-\u{1F4FC}\u{1F4FF}-\u{1F53D}\u{1F54B}-\u{1F54E}\u{1F550}-\u{1F567}\u{1F57A}\u{1F595}\u{1F596}\u{1F5A4}\u{1F5FB}-\u{1F64F}\u{1F680}-\u{1F6C5}\u{1F6CC}\u{1F6D0}-\u{1F6D2}\u{1F6EB}\u{1F6EC}\u{1F6F4}-\u{1F6F9}\u{1F910}-\u{1F93A}\u{1F93C}-\u{1F93E}\u{1F940}-\u{1F945}\u{1F947}-\u{1F970}\u{1F973}-\u{1F976}\u{1F97A}\u{1F97C}-\u{1F9A2}\u{1F9B0}-\u{1F9B9}\u{1F9C0}-\u{1F9C2}\u{1F9D0}-\u{1F9FF}]|[\xA9\xAE\u{203C}\u{2049}\u{2122}\u{2139}\u{2194}-\u{2199}\u{21A9}\u{21AA}\u{231A}\u{231B}\u{2328}\u{23CF}\u{23E9}-\u{23F3}\u{23F8}-\u{23FA}\u{24C2}\u{25AA}\u{25AB}\u{25B6}\u{25C0}\u{25FB}-\u{25FE}\u{2600}-\u{2604}\u{260E}\u{2611}\u{2614}\u{2615}\u{2618}\u{261D}\u{2620}\u{2622}\u{2623}\u{2626}\u{262A}\u{262E}\u{262F}\u{2638}-\u{263A}\u{2648}-\u{2653}\u{265F}\u{2660}\u{2663}\u{2665}\u{2666}\u{2668}\u{267B}\u{267E}\u{267F}\u{2692}-\u{2697}\u{2699}\u{269B}\u{269C}\u{26A0}\u{26A1}\u{26AA}\u{26AB}\u{26B0}\u{26B1}\u{26BD}\u{26BE}\u{26C4}\u{26C5}\u{26C8}\u{26CE}\u{26CF}\u{26D1}\u{26D3}\u{26D4}\u{26E9}\u{26EA}\u{26F0}-\u{26F5}\u{26F7}-\u{26FA}\u{26FD}\u{2702}\u{2705}\u{2708}-\u{270D}\u{270F}\u{2712}\u{2714}\u{2716}\u{271D}\u{2721}\u{2728}\u{2733}\u{2734}\u{2744}\u{2747}\u{274C}\u{274E}\u{2753}-\u{2755}\u{2757}\u{2763}\u{2764}\u{2795}-\u{2797}\u{27A1}\u{27B0}\u{27BF}\u{2934}\u{2935}\u{2B05}-\u{2B07}\u{2B1B}\u{2B1C}\u{2B50}\u{2B55}\u{3030}\u{303D}\u{3297}\u{3299}\u{1F004}\u{1F0CF}\u{1F170}\u{1F171}\u{1F17E}\u{1F17F}\u{1F18E}\u{1F191}-\u{1F19A}\u{1F1E6}-\u{1F1FF}\u{1F201}\u{1F202}\u{1F21A}\u{1F22F}\u{1F232}-\u{1F23A}\u{1F250}\u{1F251}\u{1F300}-\u{1F321}\u{1F324}-\u{1F393}\u{1F396}\u{1F397}\u{1F399}-\u{1F39B}\u{1F39E}-\u{1F3F0}\u{1F3F3}-\u{1F3F5}\u{1F3F7}-\u{1F4FD}\u{1F4FF}-\u{1F53D}\u{1F549}-\u{1F54E}\u{1F550}-\u{1F567}\u{1F56F}\u{1F570}\u{1F573}-\u{1F57A}\u{1F587}\u{1F58A}-\u{1F58D}\u{1F590}\u{1F595}\u{1F596}\u{1F5A4}\u{1F5A5}\u{1F5A8}\u{1F5B1}\u{1F5B2}\u{1F5BC}\u{1F5C2}-\u{1F5C4}\u{1F5D1}-\u{1F5D3}\u{1F5DC}-\u{1F5DE}\u{1F5E1}\u{1F5E3}\u{1F5E8}\u{1F5EF}\u{1F5F3}\u{1F5FA}-\u{1F64F}\u{1F680}-\u{1F6C5}\u{1F6CB}-\u{1F6D2}\u{1F6E0}-\u{1F6E5}\u{1F6E9}\u{1F6EB}\u{1F6EC}\u{1F6F0}\u{1F6F3}-\u{1F6F9}\u{1F910}-\u{1F93A}\u{1F93C}-\u{1F93E}\u{1F940}-\u{1F945}\u{1F947}-\u{1F970}\u{1F973}-\u{1F976}\u{1F97A}\u{1F97C}-\u{1F9A2}\u{1F9B0}-\u{1F9B9}\u{1F9C0}-\u{1F9C2}\u{1F9D0}-\u{1F9FF}]\u{FE0F}?|[\u{261D}\u{26F9}\u{270A}-\u{270D}\u{1F385}\u{1F3C2}-\u{1F3C4}\u{1F3C7}\u{1F3CA}-\u{1F3CC}\u{1F442}\u{1F443}\u{1F446}-\u{1F450}\u{1F466}-\u{1F469}\u{1F46E}\u{1F470}-\u{1F478}\u{1F47C}\u{1F481}-\u{1F483}\u{1F485}-\u{1F487}\u{1F4AA}\u{1F574}\u{1F575}\u{1F57A}\u{1F590}\u{1F595}\u{1F596}\u{1F645}-\u{1F647}\u{1F64B}-\u{1F64F}\u{1F6A3}\u{1F6B4}-\u{1F6B6}\u{1F6C0}\u{1F6CC}\u{1F918}-\u{1F91C}\u{1F91E}\u{1F91F}\u{1F926}\u{1F930}-\u{1F939}\u{1F93D}\u{1F93E}\u{1F9B5}\u{1F9B6}\u{1F9B8}\u{1F9B9}\u{1F9D1}-\u{1F9DD}]/gu},979640:(e,t,r)=>{"use strict";function n(e){return encodeURIComponent(e.replace(/\uFE0F/giu,"")).replace(/%/gi,"").toLowerCase()}function a(e){const t=e.length%2==1,r=t?e.slice(0,1):"",n=t?e.slice(1):e;let a="";try{a=decodeURIComponent("%"+(s=n,s.split("").reduce(((e,t,r)=>e+t+((r+1)%2==0?" ":"")),"").trim().split(/\s+/)).join("%"))}catch(e){}var s;return r+a}r.d(t,{emojiByteHexToSymbol:()=>a,emojiSymbolToByteHex:()=>n})},33305:(e,t,r)=>{"use strict";r.d(t,{getOwnerFullName:()=>c,getOwnerHref:()=>_,getOwnerShortName:()=>l,isOwnerGroup:()=>s,isOwnerUser:()=>a});var n=r(831505);const a=e=>!!e&&"first_name"in e,s=e=>!!e&&"name"in e;function _(e,t=!1,r="/"){let n=r;return e&&(s(e)?n+=e.screen_name||`club${e.id}`:n+=e.screen_name||e.domain||`id${e.id}`),t?window.location.origin+n:n}function c(e){let t="";return e?(e.first_name&&(t+=e.first_name.trim()),e.last_name&&(t+=` ${e.last_name.trim()}`),e.maiden_name&&e.sex===n.BaseSexEnumNames.FEMALE&&(t+=` (${e.maiden_name.trim()})`),t):t}function l(e){let t="";return e.first_name&&(t+=e.first_name.trim()),e.last_name&&(t+=` ${e.last_name.trim().slice(0,1)}.`),t}},241448:(e,t,r)=>{"use strict";r.d(t,{WebStats:()=>u});var n=r(887184),a=r(968344),s=r(930497),_=r(268443),c=r(705082),l=r(670315);class u{sendWebStats(e,t){return this.api.sendWebStats(e,t)}writeAndSendWebStats(e,t,r,n){return this.api.writeAndSendWebStats(e,t,r,n)}saveStatlogEvents(e){return this.api.saveStatlogEvents(e)}saveProductionStats(e,t){return this.api.saveProductionStats(e,t)}saveNetworkStats(e){return this.api.saveNetworkStats(e)}saveStoryViewBaseStats(e){return this.api.saveStoryViewBaseStats(e)}saveStoryViewStats(e){return this.api.saveStoryViewStats(e)}saveWebPerfStats(e){return this.api.saveWebPerfStats(e)}saveBenchmarkMainStats(e){return this.api.saveBenchmarkMainStats(e)}saveVkResStats(e){return this.api.saveVkResStats(e)}constructor({options:e,statsMeta:t,hostName:r,statlogsValueEvent:u,getBrowserFingerprint:d,sessionStorage:p,localStorage:E,smallerChunks:m,apiParams:g,createUrl:A}){this.saveCustomStats=e=>this.api.saveCustomStats(e),this.debug=new a.Debug({options:e}),this.webStatsStorage=new s.WebStatsStorage({statsMeta:t,debug:this.debug,sessionStorage:p,localStorage:E}),this.maxBodyChunkSize=m?n.MAX_BODY_SIZE_SMALL_CHUNK:n.MAX_BODY_SIZE_NORMAL_CHUNK,this.batchers=new _.Batchers({statsMeta:t,statlogsValueEvent:u,webStatsStorage:this.webStatsStorage,maxBodyChunkSize:this.maxBodyChunkSize}),this.batchedWebStatsTransport=new c.BatchedWebStatsTransport({options:e,statsMeta:t,hostName:r,debug:this.debug,statlogsValueEvent:u,getBrowserFingerprint:d,batchers:this.batchers,webStatsStorage:this.webStatsStorage,maxBodyChunkSize:this.maxBodyChunkSize,apiParams:g,createUrl:A}),this.api=new l.Api({webStatsStorage:this.webStatsStorage,debug:this.debug,webStatsBatchedTransport:this.batchedWebStatsTransport,options:e,localStorage:E})}}},887184:(e,t,r)=>{"use strict";r.d(t,{AVAILABLE_STATS:()=>g,BOOST_COOLDOWN_MS:()=>l,BOOST_DEBOUNCE_LIMIT_MS:()=>c,BOOST_DEBOUNCE_MS:()=>_,BOOST_DURATION:()=>d,COOLDOWN_MS:()=>s,DEBOUNCE_LIMIT_MS:()=>a,DEBOUNCE_MS:()=>n,MAX_BODY_SIZE_NORMAL_CHUNK:()=>E,MAX_BODY_SIZE_SMALL_CHUNK:()=>p,PROCESSING_LIMIT:()=>u,Stats:()=>m});const n=1e4,a=2e4,s=2e4,_=1e3,c=2e3,l=5e3,u=500,d=3e4,p=.5*Math.pow(10,6),E=1.8*Math.pow(10,6),m={BenchmarkMainStats:"benchmarkMainStats",CustomStats:"customStats",NetworkStats:"networkStats",ProductionStats:"productionStats",StatlogEvents:"statlogEvents",StoryViewStats:"storyViewStats",WebPerfStats:"webPerfStats",VkResStats:"vkResStats"},g=[m.BenchmarkMainStats,m.CustomStats,m.NetworkStats,m.ProductionStats,m.StatlogEvents,m.StoryViewStats,m.WebPerfStats,m.VkResStats]},670315:(e,t,r)=>{"use strict";r.d(t,{Api:()=>_});var n=r(510794),a=r(216520),s=r(887184);class _{pushToWebStats(e,t){const r=this.webStatsStorage.getWebStatsStringValue(e);return this.webStatsStorage.getWebStatDataLs().replace(`"${e}":${r}`,`"${e}":${r.replace(/]$/,`${"[]"===r?"":","}${JSON.stringify(t)}]`)}`)}transformStatlogEvent({name:e,value:t,keys:r=[]}){const n=[Math.round(Number(Date.now())/1e3),e,t,...r];return this.options?.isDebuggerMode&&console.log("Data was transformed!"),n}sendWebStats(e,t){e===s.Stats.StatlogEvents&&(t=this.transformStatlogEvent(t));const r=(0,a.getEmptyStatsData)();r[e]=[t];const n=JSON.stringify(r);return new Promise(((e,r)=>{this.webStatsBatchedTransport.sendStat(n,(()=>e()),r),this.debug.logWebStatsEvent("sendWebStatsEvent",t)}))}writeAndSendWebStats(e,t,r,n){const a=this.pushToWebStats(t,r);this.webStatsStorage.writeLocked((()=>{this.localStorage.setItem(this.webStatsStorage.lsDataKey,a),this.webStatsBatchedTransport.saveAndSendStats(a,n)})),this.debug.logWebStatsEvent(e,r)}saveStatlogEvents(e){const t=this.transformStatlogEvent(e);return this.writeAndSendWebStats("saveStatlogEvents",s.Stats.StatlogEvents,t)}saveNetworkStats(e){return this.writeAndSendWebStats("saveNetworkStats",s.Stats.NetworkStats,e)}saveStoryViewBaseStats(e){return this.writeAndSendWebStats("saveStoryViewStats",s.Stats.StoryViewStats,e)}saveStoryViewStats(e){return this.saveStoryViewBaseStats(e)}saveWebPerfStats(e){return this.writeAndSendWebStats("saveWebPerfStats",s.Stats.WebPerfStats,e)}saveBenchmarkMainStats(e){return this.writeAndSendWebStats("saveBenchmarkMainStats",s.Stats.BenchmarkMainStats,e)}saveVkResStats(e){return this.writeAndSendWebStats("saveVkResStats",s.Stats.VkResStats,[...e.details])}constructor({webStatsStorage:e,debug:t,options:r,localStorage:a,webStatsBatchedTransport:_}){this.saveProductionStats=(e,t)=>this.writeAndSendWebStats("saveProductionStats",s.Stats.ProductionStats,e,t),this.saveCustomStats=e=>this.writeAndSendWebStats("saveCustomStats",s.Stats.CustomStats,e),this.webStatsStorage=e,this.debug=t,this.options=r,this.localStorage=a||n.localStorage,this.webStatsBatchedTransport=_}}},705082:(e,t,r)=>{"use strict";r.d(t,{BatchedWebStatsTransport:()=>_});var n=r(957994),a=r(216520),s=r(887184);class _{isBatchBoostRequired(){const e=this.statsMeta.started||Date.now();return Date.now()-e<=s.BOOST_DURATION}debounceMs(){return this.isBatchBoostRequired()?s.BOOST_DEBOUNCE_MS:s.DEBOUNCE_MS}limitMs(){return this.isBatchBoostRequired()?s.BOOST_DEBOUNCE_LIMIT_MS:s.DEBOUNCE_LIMIT_MS}cooldownMs(){return this.isBatchBoostRequired()?s.BOOST_COOLDOWN_MS:s.COOLDOWN_MS}penaltyMs(){return this.debounceMs()*this.sendAttempt**.5}onCooldown(){return!(Date.now()-this.webStatsStorage.getLastSendTime()>this.cooldownMs()+this.penaltyMs())}tillCooldownMs(){return Math.max(0,this.webStatsStorage.getLastSendTime()+this.cooldownMs()-Date.now()+this.penaltyMs())}tillLimitMs(){return Math.max(0,this.webStatsStorage.getLastSendTime()+this.limitMs()-Date.now())}checkWebStatsLater(){this.isSendingWebStats||this.timeoutID||(this.timeoutID=(0,a.getWindow)()?.setTimeout((()=>{const e=this.webStatsStorage.getWebStatDataLs();this.timeoutID=void 0,e.length>a.emptyStatsDataLs.length&&this.saveAndSendStats(e)}),Math.max(Math.min(this.tillLimitMs(),this.debounceMs()),this.tillCooldownMs())))}sendStatsWithBatching(e){const t=e.length>this.maxBodyChunkSize;let r=t?this.batchers.getMaximumWebStats(e):e,n=!1;if(!r)return this.isSendingWebStats=!1,this.webStatsStorage.clearLsData();r=(0,a.appendStatsMeta)(++this.sendAttempt,r,this.statsMeta),this.sendStats(r,(s=>{const _=Date.now();this.isSendingWebStats=!1,s<500&&(t&&200===s?Object.keys((0,a.getEmptyStatsData)()).forEach((e=>this.webStatsStorage.pullFromWebStats(e,r))):this.webStatsStorage.clearLsData(),this.sendAttempt=0,n=!0),(t||400===s)&&(0,a.logProcessingTime)(Date.now()-_,`${t?"prune":"clean"}${400===s?"-fail":""}`,this.statsMeta,this.statlogsValueEvent,`${e.length>>>20}M ${r.length>>>20}M`),this.checkWebStatsLater()}),(()=>{this.isSendingWebStats=!1,!n&&this.webStatsStorage.clearLsData()}))}idlizeCall(e,t){const r=t=>setTimeout((()=>e()),t);return t?.force?r(0):(0,a.getWindow)()?.requestIdleCallback?window.requestIdleCallback((()=>r(this.debounceMs())),{timeout:this.debounceMs()/2}):r(this.debounceMs())}sendStats(e,t,r){const n=new URLSearchParams,s=this.getBrowserFingerprint();s&&n.set("device_id",s);const _=n.toString(),c=this.createUrl(this.statsMeta,_),l=(e,n)=>{if(n)return void this.sendApi(e,t,r,n);const a=new XMLHttpRequest;a.withCredentials=c.includes(`tau.${this.hostName}`),a.onreadystatechange=()=>{a.readyState===XMLHttpRequest.DONE&&t(a.status)},a.onerror=r,a.open("POST",c,!0),a.setRequestHeader("Content-Type","application/json;charset=UTF-8"),a.send(e)};(0,a.getApiConfig)(this.apiParams).then((r=>{(0,a.canSendBeacon)(this.hostName,this.statsMeta)?(0,a.sendBeacon)(c,e,r).then((()=>t(200))).catch((()=>l(e,r))):l(e,r)}))}sendStat(e,t,r){e=(0,a.appendStatsMeta)(1,e,this.statsMeta),this.sendStats(e,t,r)}saveAndSendStats(e,t){return this.options?.isNewQueue?this.saveAndSendStatsNew(e,t):this.saveAndSendStatsOld(e,t)}saveAndSendStatsOld(e,t){const r=e.length>=this.maxBodyChunkSize,n=t?.force||r;if(e.length<=a.emptyStatsDataLs.length)this.debug.logWebStatsEvent("WebStats empty data.","");else{if(!this.isSendingWebStats)return n||this.timeoutID||!this.onCooldown()?(this.isSendingWebStats=!0,this.idlizeCall((()=>{const e=this.webStatsStorage.getWebStatDataLs();if(e.length>a.emptyStatsDataLs.length&&(n||!this.onCooldown()))return this.webStatsStorage.setLastSendTime(),this.sendStatsWithBatching(e);clearTimeout(this.timeoutID),this.isSendingWebStats=!1,this.timeoutID=void 0}),{...t,force:n})):(this.debug.logWebStatsEvent("WebStats delayed.",this.timeoutID),this.checkWebStatsLater());this.debug.logWebStatsEvent("WebStats sending.",this.isSendingWebStats)}}saveAndSendStatsNew(e,t){const r=e.length>=this.maxBodyChunkSize,n=t?.force||r;if(e.length<=a.emptyStatsDataLs.length)this.debug.logWebStatsEvent("WebStats empty data.","");else{if(!this.isSendingWebStats)return!n&&this.onCooldown()?(this.checkWebStatsLater(),void this.debug.logWebStatsEvent("WebStats delayed.",this.timeoutID)):(this.isSendingWebStats=!0,this.idlizeCall((()=>{const e=this.webStatsStorage.getWebStatDataLs();if(e.length>a.emptyStatsDataLs.length&&(!this.onCooldown()||n))return clearTimeout(this.timeoutID),this.timeoutID=void 0,this.webStatsStorage.setLastSendTime(),this.sendStatsWithBatching(e);this.isSendingWebStats=!1}),{...t,force:n}));this.debug.logWebStatsEvent("WebStats sending.",this.isSendingWebStats)}}constructor({options:e,statsMeta:t,hostName:r,debug:s,statlogsValueEvent:_,getBrowserFingerprint:c,batchers:l,webStatsStorage:u,maxBodyChunkSize:d,apiParams:p,createUrl:E}){this.sendAttempt=0,this.isSendingWebStats=!1,this.sendApi=async(e,t,r,s)=>{try{const r=JSON.stringify((0,a.transformEventsToArray)(e));await(0,n.api)(s.method,{events:r,...s.body},s.overrideApiConfig),t(200)}catch{r()}},this.options=e,this.statsMeta=t,this.hostName=r,this.debug=s,this.statlogsValueEvent=_,this.getBrowserFingerprint=c,this.batchers=l,this.webStatsStorage=u,this.maxBodyChunkSize=d,this.apiParams=p,this.createUrl=E}}},268443:(e,t,r)=>{"use strict";r.d(t,{Batchers:()=>s});var n=r(887184),a=r(216520);class s{batchStaleWebStats(e,t){const[r,n]=t,s=`{"${r}":[${JSON.parse(n).reduce(((t,r,n)=>t.length<this.maxBodyChunkSize-e.length?`${t}${0===n?"":","}${JSON.stringify(r)}`:t),"")}]}`;return"{}"===e?s:(0,a.concatJSONS)(e,s)||e}getMaximumWebStats(e){const t=Date.now(),r=e=>`{${e?.map((([e,t])=>`"${e}":${t}`)).join(",")}}`,[s,_]=Object.keys((0,a.getEmptyStatsData)()).reduce(((t,r)=>{const n=this.webStatsStorage.getWebStatsStringValue(r,e);return"[]"===n?t:[...t,[r,n]]}),[]).sort((([,e],[,t])=>t.length-e.length)).reduce((([e,t],[n,a])=>{const s=[[n,a]];return a.length+r(e).length<this.maxBodyChunkSize?[e.concat(s),t]:[e,t.concat(s)]}),[[],[]]),c=r(s);if((0,a.logProcessingTime)(Date.now()-t,"chunk",this.statsMeta,this.statlogsValueEvent),Date.now()-t<n.PROCESSING_LIMIT&&_[0]&&c.length<.1*this.maxBodyChunkSize){const e=Date.now();try{const t=this.batchStaleWebStats(c,_.reverse()[0]);return(0,a.logProcessingTime)(Date.now()-e,"batch",this.statsMeta,this.statlogsValueEvent),t}catch(t){return(0,a.logProcessingTime)(Date.now()-e,"batch-fail",this.statsMeta,this.statlogsValueEvent),""}}return c}constructor({statsMeta:e,statlogsValueEvent:t,webStatsStorage:r,maxBodyChunkSize:n}){this.statsMeta=e,this.statlogsValueEvent=t,this.webStatsStorage=r,this.maxBodyChunkSize=n}}},968344:(e,t,r)=>{"use strict";r.d(t,{Debug:()=>n});class n{logWebStatsEvent(e,t){this.options?.isDebuggerMode&&console.log(`[new transport debug] ${e}`,t)}constructor({options:e}){this.options=e}}},930497:(e,t,r)=>{"use strict";r.d(t,{WebStatsStorage:()=>s});var n=r(510794),a=r(216520);class s{writeLocked(e){if("locked"!==this.sessionStorage.getItem(this.lockName)){this.debug.logWebStatsEvent("writeLocked","lock"),this.sessionStorage.setItem(this.lockName,"locked");try{e()}catch(e){}return this.debug.logWebStatsEvent("writeLocked","free"),void this.sessionStorage.setItem(this.lockName,"free")}setTimeout((()=>this.writeLocked(e)),100)}getWebStatDataLs(){return this.localStorage.getItem(this.lsDataKey)||a.emptyStatsDataLs}serializeDataToLs(e){return this.localStorage.setItem(this.lsDataKey,JSON.stringify(e))}getWebStatsStringValue(e,t=this.getWebStatDataLs()){const r=Object.keys((0,a.getEmptyStatsData)()).filter((t=>t!==e)).join("|"),n=t?.match(new RegExp(`"${e}":(\\[.*?\\])(?:,"(${r})":\\[|}$)`))?.[1]||"";return(0,a.isArrayLike)(n)?n:"[]"}fetchDataFromLs(){let e,t=!0;try{const r=this.getWebStatDataLs();if(!r)throw new Error("empty data");e=(0,a.getEmptyStatsData)();const n=JSON.parse(r);Object.keys(e).forEach((r=>{Array.isArray(n[r])&&(t=!1,e[r]=n[r])}))}catch(t){e=(0,a.getEmptyStatsData)()}return{webStatsData:e,isEmpty:t}}clearLsData(e){e&&this.debug.logWebStatsEvent("WebStats cleared. "+(e?"Reason: LS is broken.":""),e),this.writeLocked((()=>this.localStorage.setItem(this.lsDataKey,"")))}setLastSendTime(e=Number(new Date)){this.sessionStorage.setItem(this.lsMetaKey,e.toString())}getLastSendTime(){return parseInt(`${this.sessionStorage.getItem(this.lsMetaKey)||0}`)}getWebStatsItemsCount(e){return Object.values(e).reduce(((e,t)=>e+=t.length),0)}pullFromWebStats(e,t){const r=this.getWebStatsStringValue(e,t);if("[]"!==r){const e=this.getWebStatDataLs().replace(r.slice(1,-1),"").replace(/\[\,/,"[");this.writeLocked((()=>this.localStorage.setItem(this.lsDataKey,e)))}}constructor({statsMeta:e,debug:t,localStorage:r,sessionStorage:a}){this.lsDataKey=`XHR_STATS_TRANSPORT_DATA_${e.platform}`,this.lsMetaKey=`XHR_STATS_TRANSPORT_META_${e.platform}`,this.lockName=`XHR_STATS_TRANSPORT_DATA_LOCK_${e.platform}`,this.debug=t,this.localStorage=r||n.localStorage,this.sessionStorage=a||n.sessionStorage}}},510794:(e,t,r)=>{"use strict";r.d(t,{CustomStorage:()=>a,localStorage:()=>p,sessionStorage:()=>g});var n=r(216520);class a{setItem(e,t){this.data[e]=String(t)}getItem(e){return this.data.hasOwnProperty(e)?this.data[e]:null}removeItem(e){delete this.data[e]}clear(){this.data={}}get length(){return Object.keys(this.data).length}key(e){return Object.keys(this.data)[e]}constructor(){this.data={},this.keys=()=>Object.keys(this.data)}}const s="vk-ls-dummy",_=Math.random().toString(),c={localStorage:null,sessionStorage:null};function l(e){if(null===c[e])try{const t=(0,n.getWindow)()?.[e];t?.setItem(s,_),c[e]=_===t?.getItem(s),t?.removeItem(s)}catch(t){c[e]=!1}return c[e]}let u;function d(){return u||(u=l("localStorage")?window.localStorage:new a,u)}const p={setItem:(e,t)=>d().setItem(e,t),getItem:e=>d().getItem(e),removeItem:e=>d().removeItem(e),clear:()=>d().clear(),get length(){return d().length},key:e=>d().key(e),keys(){const e=d();return e instanceof a?e.keys():Object.keys(e)},getPrefixedKeys:e=>p.keys().filter((t=>t.startsWith(e)))};let E;function m(){return E||(E=l("sessionStorage")?window.sessionStorage:new a,E)}const g={setItem:(e,t)=>m().setItem(e,t),getItem:e=>m().getItem(e),removeItem:e=>m().removeItem(e),clear:()=>m().clear(),get length(){return m().length},key:e=>m().key(e),keys(){const e=m();return e instanceof a?e.keys():Object.keys(e)},getPrefixedKeys:e=>g.keys().filter((t=>t.startsWith(e)))}},216520:(e,t,r)=>{"use strict";r.d(t,{appendStatsMeta:()=>d,canSendBeacon:()=>p,concatJSONS:()=>c,emptyStatsDataLs:()=>g,getApiConfig:()=>f,getEmptyStatsData:()=>m,getWindow:()=>A,isArrayLike:()=>_,logProcessingTime:()=>E,sendBeacon:()=>u,transformEventsToArray:()=>l});var n=r(738150),a=r(887184);const s=e=>e.startsWith("{")&&e.endsWith("}"),_=e=>e.startsWith("[")&&e.endsWith("]"),c=(e,t)=>[e,t].every(s)?`${e.slice(0,-1)},${t.substring(1)}`:"{}",l=e=>{try{const t=JSON.parse(e),r=Object.entries(t),n=[];return r.forEach((e=>{const[t,r]=e;a.AVAILABLE_STATS.includes(t)&&Array.isArray(r)&&n.push(...r)})),n}catch{return[]}};function u(e,t,r){try{if(!(r?(0,n.apiBeacon)(r.method,{events:l(t),...r.body},r.overrideApiConfig):navigator.sendBeacon(e,t)))return Promise.reject(new Error("Beacon not sent"))}catch(e){return Promise.reject(new Error("Beacon fail"))}return Promise.resolve()}const d=(e,t,r)=>{const{userId:n,st:a,platform:_,appId:l,time:u,hash:d,itemId:p,itemOwnerId:E,itemType:m}=r;return c(JSON.stringify({id:n,st:a,platform:_,appId:l,attempt:e,signTime:u,sign:d,...p&&{itemId:p},...m&&{itemType:m},...E&&{itemOwnerId:E}}),s(t)?t:"{}")};function p(e,t){return"sendBeacon"in navigator&&!t.wsTransport.includes(`tau.${e}`)}function E(e,t,r,n,a){n?.("web_stats_batching_time",e,r.platform,t,a)}const m=()=>({statlogEvents:[],productionStats:[],storyViewStats:[],networkStats:[],customStats:[],webPerfStats:[],benchmarkMainStats:[],vkResStats:[]}),g=JSON.stringify(m()),A=()=>"undefined"!=typeof window?window:void 0,f=async e=>{if(!e)return;const{additionalBody:t,method:r,domain:n,version:a,appId:s,getToken:_}=e;return{body:t,overrideApiConfig:{domain:n,version:a,appId:s,accessToken:await _()},method:r}}},365815:(e,t,r)=>{"use strict";var n,a;r.d(t,{CommonErrorReasons:()=>s,ERROR_CODES:()=>n,ERROR_DESCRIPTIONS:()=>_,getReadableMessage:()=>l,isAPIError:()=>c,parseError:()=>u}),(a=n||(n={}))[a.UNKNOWN=1]="UNKNOWN",a[a.MISSING_PARAM=2]="MISSING_PARAM",a[a.CONNECTION_LOST=3]="CONNECTION_LOST",a[a.USER_DENIED=4]="USER_DENIED",a[a.INVALID_PARAMS=5]="INVALID_PARAMS",a[a.UNSUPPORTED_PLATFORM=6]="UNSUPPORTED_PLATFORM",a[a.REQUEST_LIMIT_REACHED=10]="REQUEST_LIMIT_REACHED",a[a.ACCESS_DENIED=11]="ACCESS_DENIED",a[a.CUSTOM=13]="CUSTOM",a[a.CAPTCHA_ERROR=14]="CAPTCHA_ERROR",a[a.NO_ADS=20]="NO_ADS",a[a.OLD_MISSING_PARAM=100]="OLD_MISSING_PARAM",a[a.ANONYMOUS_ACCESS_UNSUPPORTED=30]="ANONYMOUS_ACCESS_UNSUPPORTED",a[a.CRYPTO_UNSUPPORTED=31]="CRYPTO_UNSUPPORTED",a[a.MISSING_CRYPTO_KEY=32]="MISSING_CRYPTO_KEY";const s={missingParam:e=>`Missing required param "${e}".`,invalidParam:(e,t)=>e&&t?`Param "${e}" should be a ${t}`:"Invalid params",greaterThanZero:e=>`Param ${e} must be greater than zero`,lessThanZero:e=>`Param ${e} must be less than zero`,wrongType:(e,t)=>`Param "${e}" should be a ${t}`,unsupportedPlatform:(e,t="")=>`${e}. Unsupported platform. ${t}`,unsupportedPlatformNoModal:e=>`${e}. Unsupported platform. No modal provided for the bridge method`,userDenied:()=>"User denied",unknown:()=>"Unknown error",scrollSubscriberAlreadyExist:()=>"Scroll subscriber already exist",bannerAdAlreadyShown:()=>"Banner ad already shown",nativeAdAlreadyShown:()=>"Native ad already shown",requestsLimitReached:()=>"Requests limit reached",wrongAppId:()=>"Wrong app id",customError:()=>"Custom error",noAds:()=>"No ads",missingOrWrongTypeParam:()=>"Missing required params or wrong type of param",userIsBanned:()=>"User is banned",anonymousAccessUnsupported:e=>`${e}. Anonymous access unsupported`,invalidAdConfig:()=>"Invalid ad config",cryptoUnsupported:()=>"Window crypto unsupported",missingCryptoKey:()=>"Missing crypto key",appIsInFullscreen:()=>"App is in fullscreen mode"};var _;!function(e){e.BANNER_IN_INTERNAL_APP="Banner Ad is prohibited for internal Apps",e.BANNER_TOP_IN_DIRECT_GAMES='Parameter "banner_location" can not be set to "top" on mobile applications other than direct games with thin controls'}(_||(_={}));const c=e=>e&&e.error_msg,l=e=>`MiniAppSDK ${c(e)?e.error_msg:e.error_reason}`,u=e=>e?.error||e},338577:(e,t,r)=>{"use strict";r.d(t,{Hook:()=>a});var n=r(42032);class a{invoke(e,{handler:t,options:r}){const n=this.isInvocable(e,{handler:t,options:r});n&&t(e),(n&&r.once||!this.isHandler(t))&&this.remove(t)}withPredicate(e){return{...this,add:(t,r)=>this.add(t,{predicate:e,...r}),clear:()=>{this.handlers.forEach((t=>{t.options.predicate===e&&this.remove(t.handler)}))}}}isHandler(e){return"function"==typeof e}isInvocable(e,{handler:t,options:r}){return this.isHandler(t)&&((r.predicate??this.predicate)?.(e)??!0)}constructor(e,{transform:t,predicate:r}={}){this.add=(e,t={})=>(this.handlers.set(e,{handler:e,options:t}),(0,n.debugLogger)(`Hook(${this.name}): add handler, new length ${this.handlers.size}`,e,t),()=>this.remove(e)),this.addAfterAll=(e,t={})=>(this.afterAllHandler={handler:e,options:t},(0,n.debugLogger)(`Hook(${this.name}): add handler after all`,e,t),()=>delete this.afterAllHandler),this.fire=e=>{const t=this.transform?.(e)||e;(0,n.debugLogger)(`Hook(${this.name}>): fire(transformed: ${!!this.transform})`,t),this.handlers.forEach((e=>this.invoke(t,e))),this.afterAllHandler&&this.invoke(t,this.afterAllHandler)},this.remove=e=>{const t=this.handlers.delete(e);(0,n.debugLogger)(`Hook(${this.name}): remove handler`,e,t)},this.clear=()=>{(0,n.debugLogger)(`Hook(${this.name}): clear all handlers`),this.handlers.clear()},this.transform=t,this.predicate=r,this.handlers=new Map,this.name=e||""}}},865419:(e,t,r)=>{"use strict";r.d(t,{MiniAppLifecycle:()=>a});var n=r(338577);class a{get hooks(){return this._hooks}getHookFireHandler(e){return this.hooks[e].fire}wrap(e){const t=Object.keys(e.hooks).map((t=>e.hooks[t].add(this.getHookFireHandler(t))));return this.setFireHandler(e.fire),()=>{t.forEach((e=>e())),this.removeFireHandler()}}getHookSubscriptions(){return Object.keys(this.hooks).reduce(((e,t)=>{const{add:r,remove:n}=this.hooks[t];return e[t]={add:r,remove:n},e}),{})}clear(){Object.values(this.hooks).forEach((e=>e.clear()))}getBridgeMethodTransformer(e){return e&&(t=>{const{miniAppInfo:r,...n}=t;return{...n,miniAppInfo:e(r)}})}getOnMountTransformer(e){return e&&(t=>e(t))}constructor({predicate:e,transform:t}={}){this.setFireHandler=e=>{this.fireHandler=e},this.removeFireHandler=()=>{delete this.fireHandler},this.fire=(e,t)=>{this.fireHandler?this.fireHandler(e,t):this.getHookFireHandler(e)(t)},this._hooks={onBeforeMount:new n.Hook("onBeforeMount",{predicate:e,transform:t}),onMount:new n.Hook("onMount",{predicate:e,transform:this.getOnMountTransformer(t)}),onDestroy:new n.Hook("onDestroy",{predicate:e,transform:t}),onBridgeMethod:new n.Hook("onBridgeMethod",{predicate:({miniAppInfo:t})=>e?.(t)??!0,transform:this.getBridgeMethodTransformer(t)}),onInit:new n.Hook("onInit",{predicate:e,transform:t}),onIframeTimeoutError:new n.Hook("onIframeTimeoutError",{predicate:e,transform:t})}}}},42032:(e,t,r)=>{"use strict";r.d(t,{debugLogger:()=>_,errorLogger:()=>a,infoLogger:()=>n,warnLogger:()=>s});const n=(...e)=>{},a=(...e)=>{},s=(...e)=>{},_=(...e)=>{}},926505:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Embedded:()=>n});var n=function(){function e(e){var t=this;this.receiver=!1,this._requestId=1,this._requests={},this._onMessage=function(e){if(e.origin===t.origin&&e.data&&e.data.embeddedName===t.name){t.target=e.source;var r=e.data,n=r.response;if(n){var a=t._requests[n];a&&a(r.data),t._requests[n]=null}else r.request&&r.action&&Promise.resolve(t.onMessage(r.action,r.data)).then((function(e){t._sendResponse(r.request,r.action,e)}))}},this.name=e.name,this.target=e.target,this.origin=e.origin||"https://"+e.host,this.receiver=e.receiver||!1,this.onMessage=e.onMessage,window.addEventListener("message",this._onMessage,!1)}return e.prototype._sendResponse=function(e,t,r){this.target&&this.target.postMessage({embeddedName:this.name,action:t,response:e,data:r},this.origin)},e.prototype.sendMessage=function(e,t){var r=this;if(void 0===t&&(t={}),!this.target)return Promise.reject();var n=this._requestId,a=new Promise((function(e){r._requestId++,r._requests[n]=e}));return this.target.postMessage({embeddedName:this.name,action:e,data:t,request:n},this.origin),a},e.prototype.destroy=function(){window.removeEventListener("message",this._onMessage,!1),this.target=void 0},e}()},126645:function(e){e.exports=function(){"use strict";var e=function(){return e=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},e.apply(this,arguments)},t=1,r=7,n=96*t,a=96*t,s=25,_=function(e,t,n,a,_){if(e<r&&t<r)return!1;if(e>=n-r&&t<r)return!1;if(e<r&&t>=n-r)return!1;if(_){var c=r+2;n<=s&&c--;var l=(n-2*r-c)/2-1;return n<=s&&l++,!(e>r+l&&e<n-r-l-1&&t>r+l&&t<n-r-l-1)&&0<=e&&e<n&&0<=t&&t<n&&a[t][e]}return a[t]&&a[t][e]},c=function(e,t,r,n,a){return void 0===a&&(a=!0),{l:_(e-1,t,r,n,a),r:_(e+1,t,r,n,a),t:_(e,t-1,r,n,a),b:_(e,t+1,r,n,a),current:_(e,t,r,n,a)}},l=function(e,a){if("number"!=typeof a.qrSize)throw new Error("Size should be a number");if("string"!=typeof a.className)throw new Error("Classname should be a string");for(var l=2*t,u=12.7*t,d=12.8*t,p=14.7*t,E=14.8*t,m=15.9*t,g=28.6*t,A=30.5*t,f=84.7776815*t,I=87.3*t,y=71.4*t,R=42.9*t,O=87.2*t,S=85.2*t,T=85.3*t,P=69.5*t,b=98*t,C=100*t,D=[],M=0,L=0,N=0,k=0,U=0;U<e.size;U++){M=0;for(var B=0;B<e.size;B++){N=B+M,M+=n,k=U+L;var x=c(B,U,e.size,e.modules,a.isShowLogo),F="",V="";x.current?(V=!(V=V||x.l||x.r||x.t||x.b?"":"empty")&&x.l&&x.r||x.t&&x.b?"rect":"")||(V+=x.l?"l":x.r?"r":"",(V+=x.t?"t":x.b?"b":"")||(V="empty")):V=!(V=!(V=!(V=!V&&x.l&&x.t&&_(B-1,U-1,e.size,e.modules,a.isShowLogo)?"n_lt":"")&&x.l&&x.b&&_(B-1,U+1,e.size,e.modules,a.isShowLogo)?"n_lb":"")&&x.r&&x.t&&_(B+1,U-1,e.size,e.modules,a.isShowLogo)?"n_rt":"")&&x.r&&x.b&&_(B+1,U+1,e.size,e.modules,a.isShowLogo)?"n_rb":"",V&&(F='<use xlink:href="#'+V+"-"+a.suffix+'"/>',D.push('<g transform="translate('+N+","+k+')">'+F+"</g>"))}L+=n}var K="",W=(e.size-3*r)/2*n+n*r-10;e.size<=s&&(K="scale(0.85)",W+=50);var H=(e.size-r)*a.incTileSize;D.push('<use fill-rule="evenodd" transform="translate(0,0)" xlink:href="#point-'+a.suffix+'"/>'),D.push('<use fill-rule="evenodd" transform="translate('+H+',0)" xlink:href="#point-'+a.suffix+'"/>'),D.push('<use fill-rule="evenodd" transform="translate(0,'+H+')" xlink:href="#point-'+a.suffix+'"/>'),a.isShowLogo&&(a.logoData?D.push('\n        <image\n          preserveAspectRatio="xMidYMid slice" clip-path="url(#logo-mask-'+a.suffix+')"\n          style="width: 750px; height: 750px;" width="750" height="750"\n          transform="translate('+W+","+W+") "+K+'"\n          xlink:href="'+a.logoData+'"\n        />\n      '):D.push('\n        <use style="width: 750px; height: 750px;" width="750" height="750"\n          fill="none"\n          fill-rule="evenodd"\n          transform="translate('+W+","+W+") "+K+'" xlink:href="#vk_logo-'+a.suffix+'"\n        />\n      '));var G=99*e.size,j="",Y="translate(0,0)";if(a.isShowBackground){var z=(a.qrSize-40)/a.qrSize,q=G/a.qrSize*21;j='\n      <rect\n        x="0"\n        width="'+G+'"\n        height="'+G+'"\n        rx="'+Math.ceil(G/(a.qrSize/36))+'"\n        fill="'+a.backgroundColor+'"\n      />',Y="translate("+q+", "+q+") scale("+z+")"}var $="M0,0 L66,0 C"+f+",-3.44940413e-15 "+C+",15.2223185 "+C+",34 L"+C+",66 C"+C+","+f+" "+f+","+C+" 66,"+C+" L0,"+C+" L0,0 Z",X="M0,0 L"+C+",0 L"+C+",66 C"+C+","+f+" "+f+","+C+" 66,"+C+" L0,"+C+" L0,0 Z";return'\n  <svg\n    version="1.1"\n    viewBox="0 0 '+G+" "+G+'"\n    width="'+a.qrSize+'px"\n    height="'+a.qrSize+'px"\n    '+(a.className?'class="'+a.className+'"':"")+'\n    xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n  >\n    <defs>\n      <rect id="rect-'+a.suffix+'" width="100" height="100" fill="'+a.foregroundColor+'"/>\n      <path\n        id="empty-'+a.suffix+'"\n        d="M0,'+g+"v"+R+"C0,"+I+","+d+","+C+","+g+","+C+"h"+R+"c"+m+",0,"+g+"-"+d+","+g+"-"+g+"V"+g+"C"+C+","+u+","+O+",0,"+y+",0H"+g+" C"+d+",0,0,"+d+",0,"+g+'z"\n        fill="'+a.foregroundColor+'"\n      />\n      <path id="b-'+a.suffix+'" d="'+$+'" transform="rotate(-90 50 50)" fill="'+a.foregroundColor+'"/>\n      <path id="r-'+a.suffix+'" d="'+$+'" transform="rotate(-180 50 50)" fill="'+a.foregroundColor+'"/>\n      <path id="l-'+a.suffix+'" d="'+$+'" fill="'+a.foregroundColor+'"/>\n      <path id="t-'+a.suffix+'" d="'+$+'" transform="rotate(90 50 50)" fill="'+a.foregroundColor+'"/>\n      <path id="l-'+a.suffix+'" d="'+X+'" transform="rotate(-90 50 50)" fill="'+a.foregroundColor+'"/>\n      <path id="lt-'+a.suffix+'" d="'+X+'" fill="'+a.foregroundColor+'"/>\n      <path id="lb-'+a.suffix+'" d="'+X+'" transform="rotate(-90 50 50)" fill="'+a.foregroundColor+'"/>\n      <path id="rb-'+a.suffix+'" d="'+X+'" transform="rotate(-180 50 50)" fill="'+a.foregroundColor+'"/>\n      <path id="rt-'+a.suffix+'" d="'+X+'" transform="rotate(90 50 50)" fill="'+a.foregroundColor+'"/>\n      <path\n        id="n_lt-'+a.suffix+'"\n        d="M'+A+","+l+"V0H0v"+A+"h"+l+"C"+l+","+p+","+E+","+l+","+A+","+l+'z"\n        fill="'+a.foregroundColor+'"\n      />\n      <path\n        id="n_lb-'+a.suffix+'"\n        d="M'+l+","+P+"H0V"+C+"h"+A+"v-"+l+"C"+p+","+b+","+l+","+S+","+l+","+P+'z"\n        fill="'+a.foregroundColor+'"\n      />\n      <path\n        id="n_rt-'+a.suffix+'"\n        d="M'+b+","+A+"h"+l+"V0H"+P+"v"+l+"C"+T+","+l+","+b+","+E+","+b+","+A+'z"\n        fill="'+a.foregroundColor+'"\n      />\n      <path id="n_rb-'+a.suffix+'"\n        d="M'+P+","+b+"v"+l+"H"+C+"V"+P+"h-"+l+"C"+b+","+T+","+S+","+b+","+P+","+b+'z"\n        fill="'+a.foregroundColor+'"\n      />\n      <path\n        id="point-'+a.suffix+'"\n        fill="'+a.foregroundColor+'"\n        d="M600.001786,457.329333 L600.001786,242.658167 C600.001786,147.372368 587.039517,124.122784 581.464617,118.535383 C575.877216,112.960483 552.627632,99.9982143 457.329333,99.9982143 L242.670667,99.9982143 C147.372368,99.9982143 124.122784,112.960483 118.547883,118.535383 C112.972983,124.122784 99.9982143,147.372368 99.9982143,242.658167 L99.9982143,457.329333 C99.9982143,552.627632 112.972983,575.877216 118.547883,581.464617 C124.122784,587.027017 147.372368,600.001786 242.670667,600.001786 L457.329333,600.001786 C552.627632,600.001786 575.877216,587.027017 581.464617,581.464617 C587.039517,575.877216 600.001786,552.627632 600.001786,457.329333 Z M457.329333,0 C653.338333,0 700,46.6616668 700,242.658167 C700,438.667167 700,261.332833 700,457.329333 C700,653.338333 653.338333,700 457.329333,700 C261.332833,700 438.667167,700 242.670667,700 C46.6616668,700 0,653.338333 0,457.329333 C0,261.332833 0,352.118712 0,242.658167 C0,46.6616668 46.6616668,0 242.670667,0 C438.667167,0 261.332833,0 457.329333,0 Z M395.996667,200 C480.004166,200 500,220.008332 500,303.990835 C500,387.998334 500,312.001666 500,395.996667 C500,479.991668 480.004166,500 395.996667,500 C312.001666,500 387.998334,500 304.003333,500 C220.008332,500 200,479.991668 200,395.996667 C200,312.001666 200,350.906061 200,303.990835 C200,220.008332 220.008332,200 304.003333,200 C387.998334,200 312.001666,200 395.996667,200 Z"\n      />\n      <g id="vk_logo-'+a.suffix+'">\n        <path\n          fill="'+a.logoColor+'"\n          d="M83.3334 363.333C83.3334 231.34 83.3334 165.343 124.338 124.338C165.343 83.3333 231.34              83.3333 363.333 83.3333H386.667C518.66 83.3333 584.657 83.3333 625.662 124.338C666.667 165.343              666.667 231.34 666.667 363.333V386.667C666.667 518.66 666.667 584.657 625.662 625.662C584.657              666.667 518.66 666.667 386.667 666.667H363.333C231.34 666.667 165.343 666.667 124.338 625.662C83.3334              584.657 83.3334 518.66 83.3334 386.667V363.333Z"\n        />\n        <path\n          fill="#FFF"\n          d="M394.907 508.681C263.293 508.681 183.442 417.365 180.313 265.625H246.972C249.05 377.09              299.763 424.323 338.638 434.036V265.625H402.519V361.82C440.016 357.664 479.264 313.909              492.456 265.625H555.333C545.27 325 502.543 368.754 472.353 386.803C502.566 401.395 551.177              439.593 569.926 508.681H500.815C486.222 462.498 450.476 426.728 402.542 421.872V508.681H394.907Z"\n        />\n      </g>\n      <clipPath id="logo-mask-'+a.suffix+'">\n        <rect x="0" y="0" width="750" height="750" />\n      </clipPath>\n    </defs>\n\n    '+j+'\n\n    <g transform="'+Y+'">\n      '+D.join("\n")+"\n    </g>\n  </svg>"},u=function(){function e(t,r,n,a){if(this.version=t,this.errorCorrectionLevel=r,this.mask=a,this.modules=[],this.isFunction=[],t<e.MIN_VERSION||t>e.MAX_VERSION)throw"Version value out of range";if(a<-1||a>7)throw"Mask value out of range";this.size=4*t+17;for(var s=[],_=0;_<this.size;_++)s.push(!1);for(_=0;_<this.size;_++)this.modules.push(s.slice()),this.isFunction.push(s.slice());this.drawFunctionPatterns();var c=this.addEccAndInterleave(n);if(this.drawCodewords(c),-1==a){var l=1e9;for(_=0;_<8;_++){this.applyMask(_),this.drawFormatBits(_);var u=this.getPenaltyScore();u<l&&(a=_,l=u),this.applyMask(_)}}if(a<0||a>7)throw"Assertion error";this.mask=a,this.applyMask(a),this.drawFormatBits(a),this.isFunction=[]}return e.encodeText=function(t,r){var n=p.makeSegments(t);return e.encodeSegments(n,r)},e.encodeBinary=function(t,r){var n=p.makeBytes(t);return e.encodeSegments([n],r)},e.encodeSegments=function(t,r,n,a,s,_){if(void 0===n&&(n=1),void 0===a&&(a=40),void 0===s&&(s=-1),void 0===_&&(_=!0),!(e.MIN_VERSION<=n&&n<=a&&a<=e.MAX_VERSION)||s<-1||s>7)throw"Invalid value";var c,l;for(c=n;;c++){var u=8*e.getNumDataCodewords(c,r),d=p.getTotalBits(t,c);if(d<=u){l=d;break}if(c>=a)throw"Data too long"}for(var E=0,g=[e.Ecc.MEDIUM,e.Ecc.QUARTILE,e.Ecc.HIGH];E<g.length;E++){var A=g[E];_&&l<=8*e.getNumDataCodewords(c,A)&&(r=A)}for(var f=new m,I=0,y=t;I<y.length;I++){var R=y[I];f.appendBits(R.mode.modeBits,4),f.appendBits(R.numChars,R.mode.numCharCountBits(c));for(var O=0,S=R.getData();O<S.length;O++){var T=S[O];f.array.push(T)}}if(f.array.length!=l)throw"Assertion error";var P=8*e.getNumDataCodewords(c,r);if(f.array.length>P)throw"Assertion error";if(f.appendBits(0,Math.min(4,P-f.array.length)),f.appendBits(0,(8-f.array.length%8)%8),f.array.length%8!=0)throw"Assertion error";for(var b=236;f.array.length<P;b^=253)f.appendBits(b,8);for(var C=[];8*C.length<f.array.length;)C.push(0);return f.array.forEach((function(e,t){return C[t>>>3]|=e<<7-(7&t)})),new e(c,r,C,s)},e.prototype.getModule=function(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]},e.prototype.drawCanvas=function(e,t,r){if(e<=0||t<0)throw"Value out of range";var n=(this.size+2*t)*e;r.width=n,r.height=n;for(var a=r.getContext("2d"),s=-t;s<this.size+t;s++)for(var _=-t;_<this.size+t;_++)a.fillStyle=this.getModule(_,s)?"#000000":"#FFFFFF",a.fillRect((_+t)*e,(s+t)*e,e,e)},e.prototype.toSvgString=function(e){if(e<0)throw"Border must be non-negative";for(var t=[],r=0;r<this.size;r++)for(var n=0;n<this.size;n++)this.getModule(n,r)&&t.push("M"+(n+e)+","+(r+e)+"h1v1h-1z");return'<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+(this.size+2*e)+" "+(this.size+2*e)+'" stroke="none">\n\t<rect width="100%" height="100%" fill="#FFFFFF"/>\n\t<path d="'+t.join(" ")+'" fill="#000000"/>\n</svg>\n'},e.prototype.drawFunctionPatterns=function(){for(var e=0;e<this.size;e++)this.setFunctionModule(6,e,e%2==0),this.setFunctionModule(e,6,e%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);var t=this.getAlignmentPatternPositions(),r=t.length;for(e=0;e<r;e++)for(var n=0;n<r;n++)0==e&&0==n||0==e&&n==r-1||e==r-1&&0==n||this.drawAlignmentPattern(t[e],t[n]);this.drawFormatBits(0),this.drawVersion()},e.prototype.drawFormatBits=function(e){for(var t=this.errorCorrectionLevel.formatBits<<3|e,r=t,n=0;n<10;n++)r=r<<1^1335*(r>>>9);var a=21522^(t<<10|r);if(a>>>15!=0)throw"Assertion error";for(n=0;n<=5;n++)this.setFunctionModule(8,n,d(a,n));for(this.setFunctionModule(8,7,d(a,6)),this.setFunctionModule(8,8,d(a,7)),this.setFunctionModule(7,8,d(a,8)),n=9;n<15;n++)this.setFunctionModule(14-n,8,d(a,n));for(n=0;n<8;n++)this.setFunctionModule(this.size-1-n,8,d(a,n));for(n=8;n<15;n++)this.setFunctionModule(8,this.size-15+n,d(a,n));this.setFunctionModule(8,this.size-8,!0)},e.prototype.drawVersion=function(){if(!(this.version<7)){for(var e=this.version,t=0;t<12;t++)e=e<<1^7973*(e>>>11);var r=this.version<<12|e;if(r>>>18!=0)throw"Assertion error";for(t=0;t<18;t++){var n=d(r,t),a=this.size-11+t%3,s=Math.floor(t/3);this.setFunctionModule(a,s,n),this.setFunctionModule(s,a,n)}}},e.prototype.drawFinderPattern=function(e,t){for(var r=-4;r<=4;r++)for(var n=-4;n<=4;n++){var a=Math.max(Math.abs(n),Math.abs(r)),s=e+n,_=t+r;0<=s&&s<this.size&&0<=_&&_<this.size&&this.setFunctionModule(s,_,2!=a&&4!=a)}},e.prototype.drawAlignmentPattern=function(e,t){for(var r=-2;r<=2;r++)for(var n=-2;n<=2;n++)this.setFunctionModule(e+n,t+r,1!=Math.max(Math.abs(n),Math.abs(r)))},e.prototype.setFunctionModule=function(e,t,r){this.modules[t][e]=r,this.isFunction[t][e]=!0},e.prototype.addEccAndInterleave=function(t){var r=this.version,n=this.errorCorrectionLevel;if(t.length!=e.getNumDataCodewords(r,n))throw"Invalid argument";for(var a=e.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][r],s=e.ECC_CODEWORDS_PER_BLOCK[n.ordinal][r],_=Math.floor(e.getNumRawDataModules(r)/8),c=a-_%a,l=Math.floor(_/a),u=[],d=new E(s),p=0,m=0;p<a;p++){var g=t.slice(m,m+l-s+(p<c?0:1));m+=g.length;var A=d.getRemainder(g);p<c&&g.push(0),u.push(g.concat(A))}var f=[];for(p=0;p<u[0].length;p++)for(var I=0;I<u.length;I++)(p!=l-s||I>=c)&&f.push(u[I][p]);if(f.length!=_)throw"Assertion error";return f},e.prototype.drawCodewords=function(t){if(t.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw"Invalid argument";for(var r=0,n=this.size-1;n>=1;n-=2){6==n&&(n=5);for(var a=0;a<this.size;a++)for(var s=0;s<2;s++){var _=n-s,c=n+1&2?a:this.size-1-a;!this.isFunction[c][_]&&r<8*t.length&&(this.modules[c][_]=d(t[r>>>3],7-(7&r)),r++)}}if(r!=8*t.length)throw"Assertion error"},e.prototype.applyMask=function(e){if(e<0||e>7)throw"Mask value out of range";for(var t=0;t<this.size;t++)for(var r=0;r<this.size;r++){var n=void 0;switch(e){case 0:n=(r+t)%2==0;break;case 1:n=t%2==0;break;case 2:n=r%3==0;break;case 3:n=(r+t)%3==0;break;case 4:n=(Math.floor(r/3)+Math.floor(t/2))%2==0;break;case 5:n=r*t%2+r*t%3==0;break;case 6:n=(r*t%2+r*t%3)%2==0;break;case 7:n=((r+t)%2+r*t%3)%2==0;break;default:throw"Assertion error"}!this.isFunction[t][r]&&n&&(this.modules[t][r]=!this.modules[t][r])}},e.prototype.getPenaltyScore=function(){for(var t=0,r=0;r<this.size;r++){for(var n=[0,0,0,0,0,0,0],a=!1,s=0,_=0;_<this.size;_++)this.modules[r][_]==a?5==++s?t+=e.PENALTY_N1:s>5&&t++:(e.addRunToHistory(s,n),!a&&e.hasFinderLikePattern(n)&&(t+=e.PENALTY_N3),a=this.modules[r][_],s=1);e.addRunToHistory(s,n),a&&e.addRunToHistory(0,n),e.hasFinderLikePattern(n)&&(t+=e.PENALTY_N3)}for(_=0;_<this.size;_++){n=[0,0,0,0,0,0,0],a=!1;var c=0;for(r=0;r<this.size;r++)this.modules[r][_]==a?5==++c?t+=e.PENALTY_N1:c>5&&t++:(e.addRunToHistory(c,n),!a&&e.hasFinderLikePattern(n)&&(t+=e.PENALTY_N3),a=this.modules[r][_],c=1);e.addRunToHistory(c,n),a&&e.addRunToHistory(0,n),e.hasFinderLikePattern(n)&&(t+=e.PENALTY_N3)}for(r=0;r<this.size-1;r++)for(_=0;_<this.size-1;_++)(a=this.modules[r][_])==this.modules[r][_+1]&&a==this.modules[r+1][_]&&a==this.modules[r+1][_+1]&&(t+=e.PENALTY_N2);for(var l=0,u=0,d=this.modules;u<d.length;u++)for(var p=0,E=d[u];p<E.length;p++)(a=E[p])&&l++;var m=this.size*this.size;return t+=(Math.ceil(Math.abs(20*l-10*m)/m)-1)*e.PENALTY_N4},e.prototype.getAlignmentPatternPositions=function(){if(1==this.version)return[];for(var e=Math.floor(this.version/7)+2,t=32==this.version?26:2*Math.ceil((this.size-13)/(2*e-2)),r=[6],n=this.size-7;r.length<e;n-=t)r.splice(1,0,n);return r},e.getNumRawDataModules=function(t){if(t<e.MIN_VERSION||t>e.MAX_VERSION)throw"Version number out of range";var r=(16*t+128)*t+64;if(t>=2){var n=Math.floor(t/7)+2;r-=(25*n-10)*n-55,t>=7&&(r-=36)}return r},e.getNumDataCodewords=function(t,r){return Math.floor(e.getNumRawDataModules(t)/8)-e.ECC_CODEWORDS_PER_BLOCK[r.ordinal][t]*e.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][t]},e.addRunToHistory=function(e,t){t.pop(),t.unshift(e)},e.hasFinderLikePattern=function(e){var t=e[1];return t>0&&e[2]==t&&e[4]==t&&e[5]==t&&e[3]==3*t&&Math.max(e[0],e[6])>=4*t},e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e}();function d(e,t){return!!(e>>>t&1)}var p=function(){function e(e,t,r){if(this.mode=e,this.numChars=t,this.bitData=r,t<0)throw"Invalid argument";this.bitData=r.slice()}return e.makeBytes=function(t){for(var r=new m,n=0,a=t;n<a.length;n++){var s=a[n];r.appendBits(s,8)}return new e(e.Mode.BYTE,t.length,r.array)},e.makeNumeric=function(t){if(!this.NUMERIC_REGEX.test(t))throw"String contains non-numeric characters";for(var r=new m,n=0;n<t.length;){var a=Math.min(t.length-n,3);r.appendBits(parseInt(t.substr(n,a),10),3*a+1),n+=a}return new e(e.Mode.NUMERIC,t.length,r.array)},e.makeAlphanumeric=function(t){if(!this.ALPHANUMERIC_REGEX.test(t))throw"String contains unencodable characters in alphanumeric mode";var r,n=new m;for(r=0;r+2<=t.length;r+=2){var a=45*e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(r));a+=e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(r+1)),n.appendBits(a,11)}return r<t.length&&n.appendBits(e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(r)),6),new e(e.Mode.ALPHANUMERIC,t.length,n.array)},e.makeSegments=function(t){return""==t?[]:this.NUMERIC_REGEX.test(t)?[e.makeNumeric(t)]:this.ALPHANUMERIC_REGEX.test(t)?[e.makeAlphanumeric(t)]:[e.makeBytes(e.toUtf8ByteArray(t))]},e.makeEci=function(t){var r=new m;if(t<0)throw"ECI assignment value out of range";if(t<128)r.appendBits(t,8);else if(t<16384)r.appendBits(2,2),r.appendBits(t,14);else{if(!(t<1e6))throw"ECI assignment value out of range";r.appendBits(6,3),r.appendBits(t,21)}return new e(e.Mode.ECI,0,r.array)},e.prototype.getData=function(){return this.bitData.slice()},e.getTotalBits=function(e,t){for(var r=0,n=0,a=e;n<a.length;n++){var s=a[n],_=s.mode.numCharCountBits(t);if(s.numChars>=1<<_)return 1/0;r+=4+_+s.bitData.length}return r},e.toUtf8ByteArray=function(e){e=encodeURI(e);for(var t=[],r=0;r<e.length;r++)"%"!=e.charAt(r)?t.push(e.charCodeAt(r)):(t.push(parseInt(e.substr(r+1,2),16)),r+=2);return t},e.NUMERIC_REGEX=/^[0-9]*$/,e.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,e.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e}(),E=function(){function e(t){if(this.coefficients=[],t<1||t>255)throw"Degree out of range";for(var r=this.coefficients,n=0;n<t-1;n++)r.push(0);r.push(1);var a=1;for(n=0;n<t;n++){for(var s=0;s<r.length;s++)r[s]=e.multiply(r[s],a),s+1<r.length&&(r[s]^=r[s+1]);a=e.multiply(a,2)}}return e.prototype.getRemainder=function(t){for(var r=this.coefficients.map((function(e){return 0})),n=function(t){var n=t^r.shift();r.push(0),a.coefficients.forEach((function(t,a){return r[a]^=e.multiply(t,n)}))},a=this,s=0,_=t;s<_.length;s++)n(_[s]);return r},e.multiply=function(e,t){if(e>>>8!=0||t>>>8!=0)throw"Byte out of range";for(var r=0,n=7;n>=0;n--)r=r<<1^285*(r>>>7),r^=(t>>>n&1)*e;if(r>>>8!=0)throw"Assertion error";return r},e}(),m=function(){function e(){this.array=[]}return e.prototype.appendBits=function(e,t){if(t<0||t>31||e>>>t!=0)throw"Value out of range";for(var r=t-1;r>=0;r--)this.array.push(e>>>r&1)},e}();(function(e){var t=function(){function e(e,t){this.ordinal=e,this.formatBits=t}return e.LOW=new e(0,1),e.MEDIUM=new e(1,0),e.QUARTILE=new e(2,3),e.HIGH=new e(3,2),e}();e.Ecc=t})(u||(u={})),function(e){var t=function(){function e(e,t){this.modeBits=e,this.numBitsCharCount=t}return e.prototype.numCharCountBits=function(e){return this.numBitsCharCount[Math.floor((e+7)/17)]},e.NUMERIC=new e(1,[10,12,14]),e.ALPHANUMERIC=new e(2,[9,11,13]),e.BYTE=new e(4,[8,16,16]),e.KANJI=new e(8,[8,10,12]),e.ECI=new e(7,[0,0,0]),e}();e.Mode=t}(p||(p={}));var g=128,A="#ffffff",f="#000000",I="#07f";function y(t,r,n,s){if("string"!=typeof t)throw new TypeError("Enter text for encoding");var _=e(e(e({},"object"==typeof r&&null!==r?r:{}),"object"==typeof s&&null!==s?s:{}),{qrSize:"object"==typeof r&&null!==r&&"number"==typeof r.qrSize?r.qrSize:r,className:"object"==typeof r&&null!==r&&"string"==typeof r.className?r.className:n}),c=[u.Ecc.LOW,u.Ecc.MEDIUM,u.Ecc.QUARTILE,u.Ecc.HIGH],d={qrSize:"number"==typeof _.qrSize?_.qrSize:g,className:"string"==typeof _.className?_.className:n||"",isShowLogo:!!_.isShowLogo||!1,isShowBackground:!!_.isShowBackground||!1,foregroundColor:"string"==typeof _.foregroundColor?_.foregroundColor:f,backgroundColor:"string"==typeof _.backgroundColor?_.backgroundColor:A,logoColor:"string"==typeof _.logoColor?_.logoColor:I,suffix:_.suffix?_.suffix.toString():"0",logoData:"string"==typeof _.logoData?_.logoData:null,ecc:"number"==typeof _.ecc&&c[_.ecc]?_.ecc:3,incTileSize:"number"==typeof _.incTileSize?_.incTileSize:a},E=p.makeSegments(t),m=u.encodeSegments(E,c[d.ecc],1,40,-1,!0);return l(m,d)}return{createQR:y}}()},859887:(e,t)=>{"use strict";function r(e){return navigator.clipboard?function(e){return navigator.clipboard.writeText(e).then((function(){return!0}))}(e):function(e){return new Promise((function(t,r){var n=document.createElement("textarea"),a=document.createRange();n.value=e,n.style.position="fixed",n.contentEditable="true",document.body.appendChild(n),n.focus(),n.select(),a.selectNodeContents(n);var s=window.getSelection();s&&(s.removeAllRanges(),s.addRange(a)),n.setSelectionRange(0,999999);try{document.execCommand("copy")?t(!0):r(new Error("copy failed"))}catch(e){r(e)}s&&s.removeAllRanges(),document.body.removeChild(n)}))}(e)}Object.defineProperty(t,"copyTextToClipboard",{enumerable:!0,get:function(){return r}})},880513:(e,t,r)=>{"use strict";r.d(t,{detectIOS:()=>a,isIOS:()=>_,isIPadOS:()=>c});var n=r(525608);function a(e){e||(e=n.canUseDOM?navigator.userAgent:"");var t=function(e){if(!n.canUseDOM)return!1;var t=!/ipad|iphone|ipod/.test(e),r=/mac os/.test(e);if(r&&t&&"boolean"==typeof navigator.standalone)return!0;return!1}(e=e.toLowerCase()),r=t||-1!==e.indexOf("ipad"),a=!r&&-1!==e.search(/iphone|ipod/),s=a||r,_=s&&e.match(/os ([\d_]+) like mac os x/i),c=0,l=0;t?(c=13,l=0):_&&(c=+(_=_[1].split("_"))[0],l=+_[1]),_=null;var u=c<13&&!(11===c&&l<3),d=s&&function(e){if(!n.canUseDOM)return!1;var t=window.webkit;if(t&&t.messageHandlers)return!0;var r=/constructor/i.test(String(window.HTMLElement)),a=!!window.indexedDB;if(-1===e.indexOf("safari")||-1===e.indexOf("version")||navigator.standalone){if(!a&&r||!window.statusbar||!window.statusbar.visible);else if(!r||a)return!0}else;return!1}(e),p=!1;return n.canUseDOM&&(p=s&&375===screen.width&&812===screen.height&&3===window.devicePixelRatio),{isIPad:r,isIPhone:a,isIOS:s,isIPadOS:t,iosMajor:c,iosMinor:l,isWKWebView:d,isScrollBasedViewport:u,isIPhoneX:p,isIOSChrome:-1!==e.search(/crios/i)}}var s=a(),_=function(){return s.isIOS}(),c=function(){return s.isIPadOS}()},16483:(e,t,r)=>{"use strict";r.d(t,{hasHover:()=>c,hasMouse:()=>_});var n=r(880513),a=r(525608),s=function(){var e={hasMouse:!1,hasTouchEvents:!1,hasHover:!1,hasTouch:!1};if(!a.canUseDOM)return e;if(n.isIOS&&!n.isIPadOS)e.hasMouse=!1,e.hasHover=!1,e.hasTouchEvents=!0,e.hasTouch=!0;else if(e.hasTouchEvents="ontouchstart"in document,e.hasTouch=e.hasTouchEvents||"maxTouchPoints"in navigator&&navigator.maxTouchPoints>0,e.hasTouch){var t=!/android|mobile|tablet/i.test(navigator.userAgent);e.hasMouse="function"==typeof window.matchMedia&&window.matchMedia("(pointer)").matches?matchMedia("(pointer: fine)").matches:t,e.hasHover=e.hasMouse&&("function"==typeof window.matchMedia&&window.matchMedia("(hover)").matches?matchMedia("(hover: hover)").matches:t)}else e.hasMouse=!0,e.hasHover=!0;return e}(),_=function(){return s.hasMouse}(),c=function(){return s.hasHover}()},511284:(e,t,r)=>{"use strict";r.d(t,{chunkArray:()=>l,createArray:()=>s,difference:()=>d,omitFromArray:()=>u,shuffleArray:()=>c,uniqueArray:()=>_});var n=r(586337),a=r(407484);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Array(e).fill(null).map((function(e,r){return t+r}))}function _(e){return Array.isArray(e)&&e.length?"undefined"!=typeof Set?Array.from(new Set(e)):(0,a.uniqueArrayFallback)(e):[]}function c(e){return e.map((function(e){return[Math.random(),e]})).sort((function(e,t){return e[0]-t[0]})).map((function(e){return e[1]}))}function l(e,t){if(!Array.isArray(e)||!e.length)return[];if(!t)return[e];var r=e.slice(0,t),a=e.slice(t);return[r].concat((0,n._)(l(a,t)))}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=e.indexOf(t);return r<0?e:(0,n._)(e.slice(0,r)).concat((0,n._)(e.slice(r+1)))}function d(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(t,r){return e.indexOf(r)<0&&t.push(r),t}),[])}},822740:(e,t,r)=>{"use strict";r.d(t,{asyncImportLoader:()=>n});var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return new Promise((function(r,a){e().then(r).catch((function(s){setTimeout((function(){0!==t?n(e,t-1).then(r,a):a(s)}),1e3)}))}))}},509366:(e,t,r)=>{"use strict";r.d(t,{classNames:()=>a});var n=r(561642);function a(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a=[];return t.forEach((function(e){if(e)switch(void 0===e?"undefined":(0,n._)(e)){case"string":a.push(e);break;case"object":Object.keys(e).forEach((function(t){e[t]&&a.push(t)}));break;default:a.push("".concat(e))}})),a.join(" ")}},598002:(e,t,r)=>{"use strict";function n(e){return navigator.clipboard?function(e){return navigator.clipboard.writeText(e).then((function(){return!0}))}(e):function(e){return new Promise((function(t,r){var n=document.createElement("textarea"),a=document.createRange();n.value=e,n.style.position="fixed",n.contentEditable="true",document.body.appendChild(n),n.focus(),n.select(),a.selectNodeContents(n);var s=window.getSelection();s&&(s.removeAllRanges(),s.addRange(a)),n.setSelectionRange(0,999999);try{document.execCommand("copy")?t(!0):r(new Error("copy failed"))}catch(e){r(e)}s&&s.removeAllRanges(),document.body.removeChild(n)}))}(e)}r.d(t,{copyTextToClipboard:()=>n})},559339:(e,t,r)=>{"use strict";function n(e){return!isNaN(parseFloat(e))&&isFinite(e)&&!Array.isArray(e)}r.d(t,{isNumeric:()=>n})},282940:(e,t,r)=>{"use strict";function n(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([.$?*|{}()\[\]\\\/+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}r.d(t,{getCookie:()=>n,isCookieEnabled:()=>s});var a=null,s=function(){if(null===a)try{document.cookie="cookietest=1",a=-1!==document.cookie.indexOf("cookietest="),document.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT"}catch(e){a=!1}return a}},36754:(e,t,r)=>{"use strict";r.d(t,{addDays:()=>u,createDateFromUnixTimestamp:()=>d,getLastDayOfMonth:()=>l,isDateToday:()=>a,isDateTomorrow:()=>_,isDateYesterday:()=>s,isSameDate:()=>c});r(18162);var n=864e5;function a(e){var t=new Date,r=t.getDate(),n=t.getMonth(),a=t.getFullYear();return e.getFullYear()===a&&e.getMonth()===n&&e.getDate()===r}function s(e){return a(new Date(e.getTime()+n))}function _(e){return a(new Date(e.getTime()-n))}function c(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function l(e,t){return 2==+t?function(e){return e%4==0&&e%100!=0||e%400==0}(e)?29:28:t>0&&(t<8&&t%2==0||t>7&&t%2==1)?30:31}function u(e,t){var r=new Date(e.getTime());return r.setDate(r.getDate()+t),r}function d(e){return new Date(1e3*e)}},525608:(e,t,r)=>{"use strict";r.d(t,{canUseDOM:()=>n});var n=function(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}()},885422:(e,t,r)=>{"use strict";r.d(t,{formatDuration:()=>a});var n=r(18162);function a(e,t){e||(e=0),e=Math.abs(e);var r=Math.floor(e/3600),a=Math.floor(e/60)%60,s=e%60;return e>=3600||t?[r,(0,n.leadingZero)(a),(0,n.leadingZero)(s)].join(":"):[a,(0,n.leadingZero)(s)].join(":")}},917476:(e,t,r)=>{"use strict";r.d(t,{isEqual:()=>a});var n=r(572313);function a(e,t){if(e===t)return!0;if(null==e||null==t||!(0,n.isObjectLike)(e)&&!(0,n.isObjectLike)(t))return e!=e&&t!=t;if((0,n.isObjectLike)(e)&&(0,n.isObjectLike)(t)){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e){if(!e.hasOwnProperty(r)||!t.hasOwnProperty(r))return!1;if(!a(e[r],t[r]))return!1}return!0}return!1}},5929:(e,t,r)=>{"use strict";r.d(t,{debounce:()=>s,noop:()=>n,once:()=>_,throttle:()=>a});var n=function(){};function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,a=Date.now()-r,s=function(){for(var s=arguments.length,_=new Array(s),c=0;c<s;c++)_[c]=arguments[c];var l=a+r-Date.now();clearTimeout(t),l>0?t=setTimeout((function(){a=Date.now(),e.apply(n,_)}),l):(a=Date.now(),e.apply(n,_))};return s.cancel=function(){clearTimeout(t)},s}function s(e,t){var r,n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,s=function(){return e.apply(a,n)},_=function(){for(var e=arguments.length,a=new Array(e),_=0;_<e;_++)a[_]=arguments[_];n=a,clearTimeout(r),r=setTimeout(s,t)};return _.cancel=function(){clearTimeout(r)},_}function _(e){var t=!1;return function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];if(!t)return t=!0,e.apply(this,n)}}},48957:(e,t,r)=>{"use strict";r.d(t,{getOffsetRect:()=>a});var n=r(153750);function a(e){var t=(0,n._)(e,HTMLElement);if("undefined"==typeof window||!t)return{top:0,left:0,width:0,height:0};var r=e.getBoundingClientRect(),a=document.body,s=document.documentElement,_=window.pageYOffset||s.scrollTop||a.scrollTop,c=window.pageXOffset||s.scrollLeft||a.scrollLeft,l=s.clientTop||a.clientTop||0,u=s.clientLeft||a.clientLeft||0;return{top:Math.round(r.top+_-l),left:Math.round(r.left+c-u),width:e.offsetWidth,height:e.offsetHeight}}},435023:(e,t,r)=>{"use strict";r.d(t,{getPhotoSize:()=>a});var n=r(586337);function a(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Array.isArray(e)||!e.length)return null;var a=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(1===e.length)return e[0];var a=(0,n._)(e).sort((function(e,t){return e.width<t.width?-1:e.width===t.width?e.height>t.height?1:-1:1})),s=a.filter((function(e){return e.width>=t}));if(!s.length)return a[a.length-1];if(!r)return s[0];for(var _=0;_<s.length;_++){var c=s[_];if(c.height>=r)return c}var l=s.sort((function(e,t){return e.height>t.height?1:-1}));return l[l.length-1]}(e,t,r);return function(e){return{url:e.url||e.src||"",width:e.width,height:e.height}}(a)}},480405:(e,t,r)=>{"use strict";r.d(t,{buildFullNamedEntities:()=>c,fullNamedEntities:()=>s});var n={AElig:"Æ",AMP:"&",Aacute:"Á",Agrave:"À",Aring:"Å",Acirc:"Â",Atilde:"Ã",Auml:"Ä",COPY:"©",Ccedil:"Ç",ETH:"Ð",Eacute:"É",Ecirc:"Ê",Egrave:"È",Euml:"Ë",GT:">",Iacute:"Í",Icirc:"Î",Igrave:"Ì",Iuml:"Ï",LT:"<",Ntilde:"Ñ",Oacute:"Ó",Ocirc:"Ô",Ograve:"Ò",Oslash:"Ø",Otilde:"Õ",Ouml:"Ö",QUOT:'"',REG:"®",THORN:"Þ",Uacute:"Ú",Ucirc:"Û",Ugrave:"Ù",Uuml:"Ü",Yacute:"Ý",aacute:"á",acirc:"â",acute:"´",aelig:"æ",agrave:"à",amp:"&",aring:"å",atilde:"ã",auml:"ä",brvbar:"¦",ccedil:"ç",cedil:"¸",cent:"¢",copy:"©",curren:"¤",deg:"°",divide:"÷",eacute:"é",ecirc:"ê",egrave:"è",eth:"ð",euml:"ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",iacute:"í",icirc:"î",iexcl:"¡",igrave:"ì",iquest:"¿",iuml:"ï",laquo:"«",lt:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",ntilde:"ñ",oacute:"ó",ocirc:"ô",ograve:"ò",ordf:"ª",ordm:"º",oslash:"ø",otilde:"õ",ouml:"ö",para:"¶",plusmn:"±",pound:"£",quot:'"',raquo:"»",reg:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",thorn:"þ",times:"×",uacute:"ú",ucirc:"û",ugrave:"ù",uml:"¨",uuml:"ü",yacute:"ý",yen:"¥",yuml:"ÿ"},a={Abreve:"Ă",Acy:"А",Afr:"𝔄",Alpha:"Α",Amacr:"Ā",And:"⩓",Aogon:"Ą",Aopf:"𝔸",ApplyFunction:"⁡",Ascr:"𝒜",Assign:"≔",Backslash:"∖",Barv:"⫧",Barwed:"⌆",Bcy:"Б",Because:"∵",Bernoullis:"ℬ",Beta:"Β",Bfr:"𝔅",Bopf:"𝔹",Breve:"˘",Bscr:"ℬ",Bumpeq:"≎",CHcy:"Ч",Cacute:"Ć",Cap:"⋒",CapitalDifferentialD:"ⅅ",Cayleys:"ℭ",Ccaron:"Č",Ccirc:"Ĉ",Cconint:"∰",Cdot:"Ċ",Cedilla:"¸",CenterDot:"·",Cfr:"ℭ",Chi:"Χ",CircleDot:"⊙",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",Colon:"∷",Colone:"⩴",Congruent:"≡",Conint:"∯",ContourIntegral:"∮",Copf:"ℂ",Coproduct:"∐",CounterClockwiseContourIntegral:"∳",Cross:"⨯",Cscr:"𝒞",Cup:"⋓",CupCap:"≍",DD:"ⅅ",DDotrahd:"⤑",DJcy:"Ђ",DScy:"Ѕ",DZcy:"Џ",Dagger:"‡",Darr:"↡",Dashv:"⫤",Dcaron:"Ď",Dcy:"Д",Del:"∇",Delta:"Δ",Dfr:"𝔇",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",Diamond:"⋄",DifferentialD:"ⅆ",Dopf:"𝔻",Dot:"¨",DotDot:"⃜",DotEqual:"≐",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",Downarrow:"⇓",Dscr:"𝒟",Dstrok:"Đ",ENG:"Ŋ",Ecaron:"Ě",Ecy:"Э",Edot:"Ė",Efr:"𝔈",Element:"∈",Emacr:"Ē",EmptySmallSquare:"◻",EmptyVerySmallSquare:"▫",Eogon:"Ę",Eopf:"𝔼",Epsilon:"Ε",Equal:"⩵",EqualTilde:"≂",Equilibrium:"⇌",Escr:"ℰ",Esim:"⩳",Eta:"Η",Exists:"∃",ExponentialE:"ⅇ",Fcy:"Ф",Ffr:"𝔉",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",Fopf:"𝔽",ForAll:"∀",Fouriertrf:"ℱ",Fscr:"ℱ",GJcy:"Ѓ",Gamma:"Γ",Gammad:"Ϝ",Gbreve:"Ğ",Gcedil:"Ģ",Gcirc:"Ĝ",Gcy:"Г",Gdot:"Ġ",Gfr:"𝔊",Gg:"⋙",Gopf:"𝔾",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",Gt:"≫",HARDcy:"Ъ",Hacek:"ˇ",Hat:"^",Hcirc:"Ĥ",Hfr:"ℌ",HilbertSpace:"ℋ",Hopf:"ℍ",HorizontalLine:"─",Hscr:"ℋ",Hstrok:"Ħ",HumpDownHump:"≎",HumpEqual:"≏",IEcy:"Е",IJlig:"Ĳ",IOcy:"Ё",Icy:"И",Idot:"İ",Ifr:"ℑ",Im:"ℑ",Imacr:"Ī",ImaginaryI:"ⅈ",Implies:"⇒",Int:"∬",Integral:"∫",Intersection:"⋂",InvisibleComma:"⁣",InvisibleTimes:"⁢",Iogon:"Į",Iopf:"𝕀",Iota:"Ι",Iscr:"ℐ",Itilde:"Ĩ",Iukcy:"І",Jcirc:"Ĵ",Jcy:"Й",Jfr:"𝔍",Jopf:"𝕁",Jscr:"𝒥",Jsercy:"Ј",Jukcy:"Є",KHcy:"Х",KJcy:"Ќ",Kappa:"Κ",Kcedil:"Ķ",Kcy:"К",Kfr:"𝔎",Kopf:"𝕂",Kscr:"𝒦",LJcy:"Љ",Lacute:"Ĺ",Lambda:"Λ",Lang:"⟪",Laplacetrf:"ℒ",Larr:"↞",Lcaron:"Ľ",Lcedil:"Ļ",Lcy:"Л",LeftAngleBracket:"⟨",LeftArrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",LeftRightArrow:"↔",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",Leftarrow:"⇐",Leftrightarrow:"⇔",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",LessLess:"⪡",LessSlantEqual:"⩽",LessTilde:"≲",Lfr:"𝔏",Ll:"⋘",Lleftarrow:"⇚",Lmidot:"Ŀ",LongLeftArrow:"⟵",LongLeftRightArrow:"⟷",LongRightArrow:"⟶",Longleftarrow:"⟸",Longleftrightarrow:"⟺",Longrightarrow:"⟹",Lopf:"𝕃",LowerLeftArrow:"↙",LowerRightArrow:"↘",Lscr:"ℒ",Lsh:"↰",Lstrok:"Ł",Lt:"≪",Map:"⤅",Mcy:"М",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",MinusPlus:"∓",Mopf:"𝕄",Mscr:"ℳ",Mu:"Μ",NJcy:"Њ",Nacute:"Ń",Ncaron:"Ň",Ncedil:"Ņ",Ncy:"Н",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",Nfr:"𝔑",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",Not:"⫬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",Nscr:"𝒩",Nu:"Ν",OElig:"Œ",Ocy:"О",Odblac:"Ő",Ofr:"𝔒",Omacr:"Ō",Omega:"Ω",Omicron:"Ο",Oopf:"𝕆",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",Or:"⩔",Oscr:"𝒪",Otimes:"⨷",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",PartialD:"∂",Pcy:"П",Pfr:"𝔓",Phi:"Φ",Pi:"Π",PlusMinus:"±",Poincareplane:"ℌ",Popf:"ℙ",Pr:"⪻",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",Prime:"″",Product:"∏",Proportion:"∷",Proportional:"∝",Pscr:"𝒫",Psi:"Ψ",Qfr:"𝔔",Qopf:"ℚ",Qscr:"𝒬",RBarr:"⤐",Racute:"Ŕ",Rang:"⟫",Rarr:"↠",Rarrtl:"⤖",Rcaron:"Ř",Rcedil:"Ŗ",Rcy:"Р",Re:"ℜ",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",Rfr:"ℜ",Rho:"Ρ",RightAngleBracket:"⟩",RightArrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",Rightarrow:"⇒",Ropf:"ℝ",RoundImplies:"⥰",Rrightarrow:"⇛",Rscr:"ℛ",Rsh:"↱",RuleDelayed:"⧴",SHCHcy:"Щ",SHcy:"Ш",SOFTcy:"Ь",Sacute:"Ś",Sc:"⪼",Scaron:"Š",Scedil:"Ş",Scirc:"Ŝ",Scy:"С",Sfr:"𝔖",ShortDownArrow:"↓",ShortLeftArrow:"←",ShortRightArrow:"→",ShortUpArrow:"↑",Sigma:"Σ",SmallCircle:"∘",Sopf:"𝕊",Sqrt:"√",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",Sscr:"𝒮",Star:"⋆",Sub:"⋐",Subset:"⋐",SubsetEqual:"⊆",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",SuchThat:"∋",Sum:"∑",Sup:"⋑",Superset:"⊃",SupersetEqual:"⊇",Supset:"⋑",TRADE:"™",TSHcy:"Ћ",TScy:"Ц",Tab:"\t",Tau:"Τ",Tcaron:"Ť",Tcedil:"Ţ",Tcy:"Т",Tfr:"𝔗",Therefore:"∴",Theta:"Θ",ThickSpace:"  ",ThinSpace:" ",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",Topf:"𝕋",TripleDot:"⃛",Tscr:"𝒯",Tstrok:"Ŧ",Uarr:"↟",Uarrocir:"⥉",Ubrcy:"Ў",Ubreve:"Ŭ",Ucy:"У",Udblac:"Ű",Ufr:"𝔘",Umacr:"Ū",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",Uopf:"𝕌",UpArrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",UpEquilibrium:"⥮",UpTee:"⊥",UpTeeArrow:"↥",Uparrow:"⇑",Updownarrow:"⇕",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",Upsilon:"Υ",Uring:"Ů",Uscr:"𝒰",Utilde:"Ũ",VDash:"⊫",Vbar:"⫫",Vcy:"В",Vdash:"⊩",Vdashl:"⫦",Vee:"⋁",Verbar:"‖",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",Vopf:"𝕍",Vscr:"𝒱",Vvdash:"⊪",Wcirc:"Ŵ",Wedge:"⋀",Wfr:"𝔚",Wopf:"𝕎",Wscr:"𝒲",Xfr:"𝔛",Xi:"Ξ",Xopf:"𝕏",Xscr:"𝒳",YAcy:"Я",YIcy:"Ї",YUcy:"Ю",Ycirc:"Ŷ",Ycy:"Ы",Yfr:"𝔜",Yopf:"𝕐",Yscr:"𝒴",Yuml:"Ÿ",ZHcy:"Ж",Zacute:"Ź",Zcaron:"Ž",Zcy:"З",Zdot:"Ż",ZeroWidthSpace:"​",Zeta:"Ζ",Zfr:"ℨ",Zopf:"ℤ",Zscr:"𝒵",abreve:"ă",ac:"∾",acE:"∾̳",acd:"∿",acy:"а",af:"⁡",afr:"𝔞",alefsym:"ℵ",aleph:"ℵ",alpha:"α",amacr:"ā",amalg:"⨿",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",aogon:"ą",aopf:"𝕒",ap:"≈",apE:"⩰",apacir:"⩯",ape:"≊",apid:"≋",apos:"'",approx:"≈",approxeq:"≊",ascr:"𝒶",ast:"*",asymp:"≈",asympeq:"≍",awconint:"∳",awint:"⨑",bNot:"⫭",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",barvee:"⊽",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",bcy:"б",bdquo:"„",becaus:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",beta:"β",beth:"ℶ",between:"≬",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bnot:"⌐",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxDL:"╗",boxDR:"╔",boxDl:"╖",boxDr:"╓",boxH:"═",boxHD:"╦",boxHU:"╩",boxHd:"╤",boxHu:"╧",boxUL:"╝",boxUR:"╚",boxUl:"╜",boxUr:"╙",boxV:"║",boxVH:"╬",boxVL:"╣",boxVR:"╠",boxVh:"╫",boxVl:"╢",boxVr:"╟",boxbox:"⧉",boxdL:"╕",boxdR:"╒",boxdl:"┐",boxdr:"┌",boxh:"─",boxhD:"╥",boxhU:"╨",boxhd:"┬",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxuL:"╛",boxuR:"╘",boxul:"┘",boxur:"└",boxv:"│",boxvH:"╪",boxvL:"╡",boxvR:"╞",boxvh:"┼",boxvl:"┤",boxvr:"├",bprime:"‵",breve:"˘",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",bumpeq:"≏",cacute:"ć",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",caps:"∩︀",caret:"⁁",caron:"ˇ",ccaps:"⩍",ccaron:"č",ccirc:"ĉ",ccups:"⩌",ccupssm:"⩐",cdot:"ċ",cemptyv:"⦲",centerdot:"·",cfr:"𝔠",chcy:"ч",check:"✓",checkmark:"✓",chi:"χ",cir:"○",cirE:"⧃",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledR:"®",circledS:"Ⓢ",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",clubs:"♣",clubsuit:"♣",colon:":",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",conint:"∮",copf:"𝕔",coprod:"∐",copysr:"℗",crarr:"↵",cross:"✗",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cup:"∪",cupbrcap:"⩈",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dArr:"⇓",dHar:"⥥",dagger:"†",daleth:"ℸ",darr:"↓",dash:"‐",dashv:"⊣",dbkarow:"⤏",dblac:"˝",dcaron:"ď",dcy:"д",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",ddotseq:"⩷",delta:"δ",demptyv:"⦱",dfisht:"⥿",dfr:"𝔡",dharl:"⇃",dharr:"⇂",diam:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",digamma:"ϝ",disin:"⋲",div:"÷",divideontimes:"⋇",divonx:"⋇",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",dopf:"𝕕",dot:"˙",doteq:"≐",doteqdot:"≑",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",downarrow:"↓",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",dscr:"𝒹",dscy:"ѕ",dsol:"⧶",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",dzcy:"џ",dzigrarr:"⟿",eDDot:"⩷",eDot:"≑",easter:"⩮",ecaron:"ě",ecir:"≖",ecolon:"≕",ecy:"э",edot:"ė",ee:"ⅇ",efDot:"≒",efr:"𝔢",eg:"⪚",egs:"⪖",egsdot:"⪘",el:"⪙",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",emacr:"ē",empty:"∅",emptyset:"∅",emptyv:"∅",emsp13:" ",emsp14:" ",emsp:" ",eng:"ŋ",ensp:" ",eogon:"ę",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",equals:"=",equest:"≟",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erDot:"≓",erarr:"⥱",escr:"ℯ",esdot:"≐",esim:"≂",eta:"η",euro:"€",excl:"!",exist:"∃",expectation:"ℰ",exponentiale:"ⅇ",fallingdotseq:"≒",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",ffr:"𝔣",filig:"ﬁ",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",fopf:"𝕗",forall:"∀",fork:"⋔",forkv:"⫙",fpartint:"⨍",frac13:"⅓",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",gE:"≧",gEl:"⪌",gacute:"ǵ",gamma:"γ",gammad:"ϝ",gap:"⪆",gbreve:"ğ",gcirc:"ĝ",gcy:"г",gdot:"ġ",ge:"≥",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",gfr:"𝔤",gg:"≫",ggg:"⋙",gimel:"ℷ",gjcy:"ѓ",gl:"≷",glE:"⪒",gla:"⪥",glj:"⪤",gnE:"≩",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",gopf:"𝕘",grave:"`",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",hArr:"⇔",hairsp:" ",half:"½",hamilt:"ℋ",hardcy:"ъ",harr:"↔",harrcir:"⥈",harrw:"↭",hbar:"ℏ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",horbar:"―",hscr:"𝒽",hslash:"ℏ",hstrok:"ħ",hybull:"⁃",hyphen:"‐",ic:"⁣",icy:"и",iecy:"е",iff:"⇔",ifr:"𝔦",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",ijlig:"ĳ",imacr:"ī",image:"ℑ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",int:"∫",intcal:"⊺",integers:"ℤ",intercal:"⊺",intlarhk:"⨗",intprod:"⨼",iocy:"ё",iogon:"į",iopf:"𝕚",iota:"ι",iprod:"⨼",iscr:"𝒾",isin:"∈",isinE:"⋹",isindot:"⋵",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",itilde:"ĩ",iukcy:"і",jcirc:"ĵ",jcy:"й",jfr:"𝔧",jmath:"ȷ",jopf:"𝕛",jscr:"𝒿",jsercy:"ј",jukcy:"є",kappa:"κ",kappav:"ϰ",kcedil:"ķ",kcy:"к",kfr:"𝔨",kgreen:"ĸ",khcy:"х",kjcy:"ќ",kopf:"𝕜",kscr:"𝓀",lAarr:"⇚",lArr:"⇐",lAtail:"⤛",lBarr:"⤎",lE:"≦",lEg:"⪋",lHar:"⥢",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",lambda:"λ",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",latail:"⤙",late:"⪭",lates:"⪭︀",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",lcaron:"ľ",lcedil:"ļ",lceil:"⌈",lcub:"{",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",leftarrow:"←",leftarrowtail:"↢",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",leftthreetimes:"⋋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",lessgtr:"≶",lesssim:"≲",lfisht:"⥼",lfloor:"⌊",lfr:"𝔩",lg:"≶",lgE:"⪑",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",ljcy:"љ",ll:"≪",llarr:"⇇",llcorner:"⌞",llhard:"⥫",lltri:"◺",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnE:"≨",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",longleftrightarrow:"⟷",longmapsto:"⟼",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",lstrok:"ł",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltrPar:"⦖",ltri:"◃",ltrie:"⊴",ltrif:"◂",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",mDDot:"∺",male:"♂",malt:"✠",maltese:"✠",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",mcy:"м",mdash:"—",measuredangle:"∡",mfr:"𝔪",mho:"℧",mid:"∣",midast:"*",midcir:"⫰",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",mopf:"𝕞",mp:"∓",mscr:"𝓂",mstpos:"∾",mu:"μ",multimap:"⊸",mumap:"⊸",nGg:"⋙̸",nGt:"≫⃒",nGtv:"≫̸",nLeftarrow:"⇍",nLeftrightarrow:"⇎",nLl:"⋘̸",nLt:"≪⃒",nLtv:"≪̸",nRightarrow:"⇏",nVDash:"⊯",nVdash:"⊮",nabla:"∇",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",ncaron:"ň",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",ncy:"н",ndash:"–",ne:"≠",neArr:"⇗",nearhk:"⤤",nearr:"↗",nearrow:"↗",nedot:"≐̸",nequiv:"≢",nesear:"⤨",nesim:"≂̸",nexist:"∄",nexists:"∄",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",ngsim:"≵",ngt:"≯",ngtr:"≯",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",njcy:"њ",nlArr:"⇍",nlE:"≦̸",nlarr:"↚",nldr:"‥",nle:"≰",nleftarrow:"↚",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nlsim:"≴",nlt:"≮",nltri:"⋪",nltrie:"⋬",nmid:"∤",nopf:"𝕟",notin:"∉",notinE:"⋹̸",notindot:"⋵̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",nu:"ν",num:"#",numero:"№",numsp:" ",nvDash:"⊭",nvHarr:"⤄",nvap:"≍⃒",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwArr:"⇖",nwarhk:"⤣",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",oS:"Ⓢ",oast:"⊛",ocir:"⊚",ocy:"о",odash:"⊝",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",oelig:"œ",ofcir:"⦿",ofr:"𝔬",ogon:"˛",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",omacr:"ō",omega:"ω",omicron:"ο",omid:"⦶",ominus:"⊖",oopf:"𝕠",opar:"⦷",operp:"⦹",oplus:"⊕",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oscr:"ℴ",osol:"⊘",otimes:"⊗",otimesas:"⨶",ovbar:"⌽",par:"∥",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",pfr:"𝔭",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",plussim:"⨦",plustwo:"⨧",pm:"±",pointint:"⨕",popf:"𝕡",pr:"≺",prE:"⪳",prap:"⪷",prcue:"≼",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",prime:"′",primes:"ℙ",prnE:"⪵",prnap:"⪹",prnsim:"⋨",prod:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",propto:"∝",prsim:"≾",prurel:"⊰",pscr:"𝓅",psi:"ψ",puncsp:" ",qfr:"𝔮",qint:"⨌",qopf:"𝕢",qprime:"⁗",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",rAarr:"⇛",rArr:"⇒",rAtail:"⤜",rBarr:"⤏",rHar:"⥤",race:"∽̱",racute:"ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",rarrtl:"↣",rarrw:"↝",ratail:"⤚",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",rcaron:"ř",rcedil:"ŗ",rceil:"⌉",rcub:"}",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",rhard:"⇁",rharu:"⇀",rharul:"⥬",rho:"ρ",rhov:"ϱ",rightarrow:"→",rightarrowtail:"↣",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",rightthreetimes:"⋌",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",rsaquo:"›",rscr:"𝓇",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",ruluhar:"⥨",rx:"℞",sacute:"ś",sbquo:"‚",sc:"≻",scE:"⪴",scap:"⪸",scaron:"š",sccue:"≽",sce:"⪰",scedil:"ş",scirc:"ŝ",scnE:"⪶",scnap:"⪺",scnsim:"⋩",scpolint:"⨓",scsim:"≿",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",seArr:"⇘",searhk:"⤥",searr:"↘",searrow:"↘",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",sfr:"𝔰",sfrown:"⌢",sharp:"♯",shchcy:"щ",shcy:"ш",shortmid:"∣",shortparallel:"∥",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",square:"□",squarf:"▪",squf:"▪",srarr:"→",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",subE:"⫅",subdot:"⪽",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",sum:"∑",sung:"♪",sup:"⊃",supE:"⫆",supdot:"⪾",supdsub:"⫘",supe:"⊇",supedot:"⫄",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swArr:"⇙",swarhk:"⤦",swarr:"↙",swarrow:"↙",swnwar:"⤪",target:"⌖",tau:"τ",tbrk:"⎴",tcaron:"ť",tcedil:"ţ",tcy:"т",tdot:"⃛",telrec:"⌕",tfr:"𝔱",there4:"∴",therefore:"∴",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",thinsp:" ",thkap:"≈",thksim:"∼",tilde:"˜",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",tscr:"𝓉",tscy:"ц",tshcy:"ћ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",uArr:"⇑",uHar:"⥣",uarr:"↑",ubrcy:"ў",ubreve:"ŭ",ucy:"у",udarr:"⇅",udblac:"ű",udhar:"⥮",ufisht:"⥾",ufr:"𝔲",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",umacr:"ū",uogon:"ų",uopf:"𝕦",uparrow:"↑",updownarrow:"↕",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",upsi:"υ",upsih:"ϒ",upsilon:"υ",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",uring:"ů",urtri:"◹",uscr:"𝓊",utdot:"⋰",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",uwangle:"⦧",vArr:"⇕",vBar:"⫨",vBarv:"⫩",vDash:"⊨",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vcy:"в",vdash:"⊢",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",verbar:"|",vert:"|",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",vopf:"𝕧",vprop:"∝",vrtri:"⊳",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",vzigzag:"⦚",wcirc:"ŵ",wedbar:"⩟",wedge:"∧",wedgeq:"≙",weierp:"℘",wfr:"𝔴",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",yacy:"я",ycirc:"ŷ",ycy:"ы",yfr:"𝔶",yicy:"ї",yopf:"𝕪",yscr:"𝓎",yucy:"ю",zacute:"ź",zcaron:"ž",zcy:"з",zdot:"ż",zeetrf:"ℨ",zeta:"ζ",zfr:"𝔷",zhcy:"ж",zigrarr:"⇝",zopf:"𝕫",zscr:"𝓏",zwj:"‍",zwnj:"‌"},s={},_=!1;function c(){_||(Object.keys(n).forEach((function(e){s[e+";"]=n[e],s[e]=n[e]})),Object.keys(a).forEach((function(e){s[e+";"]=a[e]})),_=!0)}},29017:(e,t,r)=>{"use strict";r.d(t,{decodeHTMLEntities:()=>f,decodeHTMLEntitiesDeep:()=>A,encodeHTMLEntities:()=>E,escape:()=>l,unescape:()=>u});var n=r(192396),a=r(313428),s=(r(480405),new n.Replacer({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"})),_=new n.Replacer({"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"'}),c={"amp;":"&","lt;":"<","gt;":">","quot;":'"',"apos;":"'"};function l(e){return s.replace(e)}function u(e){return _.replace(e)}var d=String.fromCharCode(65533),p=/(?:[<>'"&\x01-\x08\x11-\x15\x17-\x1F\x7f-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g;function E(e){return null==e?"":e.replace(p,(function(e){var t=e.length>1?(0,a.getCodePointAt)(e,0):e.charCodeAt(0);return"&#"+String(t)+";"}))}var m=/&(?:#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);?/g;function g(e,t){return"string"==typeof e&&e?e.replace(m,(function(e){if("#"===e[1]){if(e.length<=3)return e;var r=e.charAt(2),n="x"===r||"X"===r?parseInt(e.substr(3).toLowerCase(),16):parseInt(e.substr(2));return n>=1114111?d:n>65535?(0,a.fromCodePoint)(n):String.fromCharCode(a.numericUnicodeMap[n]||n)}return t[e.slice(1)]||e})):""}function A(e){if("string"==typeof e)return f(e);if("object"==typeof e){var t=Object.prototype.toString.apply(e);if("[object Array]"===t)return e.map((function(e){return A(e)}));if("[object Object]"===t){var r={};return Object.keys(e).forEach((function(t){r[f(t)]=A(e[t])})),r}}return e}function f(e){return g(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:c)}},8520:(e,t,r)=>{"use strict";r.d(t,{addDays:()=>p.addDays,asyncImportLoader:()=>u.asyncImportLoader,canUseDOM:()=>D.canUseDOM,chunkArray:()=>n.chunkArray,classNames:()=>a.classNames,copyTextToClipboard:()=>s.copyTextToClipboard,createArray:()=>n.createArray,createDateFromUnixTimestamp:()=>p.createDateFromUnixTimestamp,debounce:()=>l.debounce,decodeHTMLEntities:()=>A.decodeHTMLEntities,decodeHTMLEntitiesDeep:()=>A.decodeHTMLEntitiesDeep,deleteObjectKeys:()=>I.deleteObjectKeys,detectIOS:()=>M.detectIOS,difference:()=>n.difference,encodeHTMLEntities:()=>A.encodeHTMLEntities,escape:()=>A.escape,escapeRegExp:()=>T.escapeRegExp,formatDuration:()=>E.formatDuration,formatNumber:()=>f.formatNumber,getCookie:()=>d.getCookie,getLastDayOfMonth:()=>p.getLastDayOfMonth,getOffsetRect:()=>m.getOffsetRect,getPhotoSize:()=>g.getPhotoSize,getRandomInt:()=>R.getRandomInt,getRandomString:()=>R.getRandomString,hasHover:()=>C.hasHover,hasMouse:()=>C.hasMouse,hasReactNode:()=>O.hasReactNode,isArray:()=>S.isArray,isCookieEnabled:()=>d.isCookieEnabled,isDateToday:()=>p.isDateToday,isDateTomorrow:()=>p.isDateTomorrow,isDateYesterday:()=>p.isDateYesterday,isEqual:()=>c.isEqual,isFunction:()=>S.isFunction,isNumber:()=>S.isNumber,isNumeric:()=>_.isNumeric,isObject:()=>S.isObject,isObjectLike:()=>S.isObjectLike,isPrimitiveReactNode:()=>O.isPrimitiveReactNode,isRetina:()=>P.isRetina,isSameDate:()=>p.isSameDate,isString:()=>S.isString,isUndefined:()=>S.isUndefined,leadingZero:()=>f.leadingZero,localStorage:()=>b.localStorage,noop:()=>l.noop,omitFromArray:()=>n.omitFromArray,once:()=>l.once,querystring:()=>y.querystring,shuffleArray:()=>n.shuffleArray,throttle:()=>l.throttle,unescape:()=>A.unescape,uniqueArray:()=>n.uniqueArray});var n=r(511284),a=r(509366),s=r(598002),_=r(559339),c=r(917476),l=r(5929),u=r(822740),d=r(282940),p=r(36754),E=r(885422),m=r(48957),g=r(435023),A=r(29017),f=r(18162),I=r(185592),y=r(713625),R=r(299565),O=r(236901),S=r(572313),T=r(710311),P=r(290497),b=r(72833),C=r(16483),D=r(525608),M=r(880513)},407484:(e,t,r)=>{"use strict";r.d(t,{uniqueArrayFallback:()=>a});var n=r(561642);function a(e){if(!Array.isArray(e)||!e.length)return[];for(var t={},r=[],a=0;a<e.length;a++){var s=e[a],_=String(s)+(void 0===s?"undefined":(0,n._)(s));t[_]||(r.push(s),t[_]=!0)}return r}},313428:(e,t,r)=>{"use strict";r.d(t,{fromCodePoint:()=>a,getCodePointAt:()=>_,numericUnicodeMap:()=>n});var n={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},a=function(){return String.fromCodePoint||function(e){return String.fromCharCode(Math.floor((e-65536)/1024)+55296,(e-65536)%1024+56320)}}(),s=function(){return String.prototype.codePointAt}(),_=function(){return s?function(e,t){return e.codePointAt(t)}:function(e,t){return 1024*(e.charCodeAt(t)-55296)+e.charCodeAt(t+1)-56320+65536}}()},192396:(e,t,r)=>{"use strict";r.d(t,{Replacer:()=>c});var n=r(730494),a=r(799407),s=r(50467),_=r(710311),c=function(){function e(t){(0,n._)(this,e),(0,s._)(this,"regexp",void 0),(0,s._)(this,"map",void 0),this.map=t}return(0,a._)(e,[{key:"build",value:function(){if(!this.regexp){var e=Object.keys(this.map).map(_.escapeRegExp).sort((function(e,t){return t.length-e.length})),t="(?:".concat(e.join("|"),")");this.regexp=new RegExp(t,"g")}}},{key:"replace",value:function(e){var t=this;return e?(this.build(),e.replace(this.regexp,(function(e){return t.map[e]}))):""}}]),e}()},18162:(e,t,r)=>{"use strict";function n(e){return e>=10?String(e):"0"+String(e)}function a(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:",",n=e.toString().split("."),a=[],s=n[0].length-3;s>-3;s-=3)a.unshift(n[0].slice(s>0?s:0,s+3));return n[0]=a.join(t),n.join(r)}r.d(t,{formatNumber:()=>a,leadingZero:()=>n})},185592:(e,t,r)=>{"use strict";r.d(t,{deleteObjectKeys:()=>a});var n=r(171893);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=(0,n._)({},e);return t.forEach((function(e){return delete r[e]})),r}},713625:(e,t,r)=>{"use strict";r.d(t,{querystring:()=>a});var n=r(171893);var a={parse:function(e){if("string"!=typeof e)return{};if(!(e=e.trim().replace(/^[?#&]/,"")))return{};var t=/\?(.+)$/gi.exec(e);return(t?t[1]:e).split("&").reduce((function(e,t){var r=t.split("=");return r[1]&&(e[r[0]]=decodeURIComponent(r[1])),e}),{})},stringify:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!=typeof e||null===e)return"";t=(0,n._)({encode:!0},t);var r=function(e){return t.encode?encodeURIComponent(e):String(e)};return Object.keys(e).reduce((function(n,a){var s=e[a];return void 0===s?n:null===s?(t.skipNull||n.push([r(a),""].join("=")),n):Array.isArray(s)?(s.map((function(e){n.push("".concat(r(a),"[]=").concat(r(e)))})).join(),n):(n.push([r(a),r(s)].join("=")),n)}),[]).join("&")}}},299565:(e,t,r)=>{"use strict";function n(e,t){return Math.round(e-.5+Math.random()*(t-e+1))}function a(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=[],n=0;n<e;n++)r.push(t.charAt(Math.floor(62*Math.random())));return r.join("")}r.d(t,{getRandomInt:()=>n,getRandomString:()=>a})},236901:(e,t,r)=>{"use strict";function n(e){return void 0!==e&&!1!==e&&null!==e&&""!==e}function a(e){return"string"==typeof e||"number"==typeof e}r.d(t,{hasReactNode:()=>n,isPrimitiveReactNode:()=>a})},710311:(e,t,r)=>{"use strict";function n(e){return e?e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1"):""}r.d(t,{escapeRegExp:()=>n})},290497:(e,t,r)=>{"use strict";function n(){return window.devicePixelRatio>=2}r.d(t,{isRetina:()=>n})},72833:(e,t,r)=>{"use strict";r.d(t,{localStorage:()=>E});var n,a=r(730494),s=r(799407),_=r(50467),c=r(153750),l=function(){function e(){var t=this;(0,a._)(this,e),(0,_._)(this,"data",{}),(0,_._)(this,"getItem",(function(e){return t.data.hasOwnProperty(e)?t.data[e]:null})),(0,_._)(this,"keys",(function(){return Object.keys(t.data)}))}return(0,s._)(e,[{key:"setItem",value:function(e,t){this.data[e]=String(t)}},{key:"removeItem",value:function(e){delete this.data[e]}},{key:"clear",value:function(){this.data={}}},{key:"length",get:function(){return Object.keys(this.data).length}},{key:"key",value:function(e){return Object.keys(this.data)[e]}}]),e}(),u="vk-ls-dummy",d="test";function p(){if(n)return n;try{if(window.localStorage.setItem(u,d),d!==window.localStorage.getItem(u))throw new Error("localStorage is broken");window.localStorage.removeItem(u),n=window.localStorage}catch(e){n=new l}return n}var E={setItem:function(e,t){return p().setItem(e,t)},getItem:function(e){return p().getItem(e)},removeItem:function(e){return p().removeItem(e)},clear:function(){return p().clear()},length:function(){return p().length},key:function(e){return p().key(e)},keys:function(){var e=p();return(0,c._)(e,l)?e.keys():Object.keys(e)},getPrefixedKeys:function(e){return E.keys().filter((function(t){return t.startsWith(e)}))}}},572313:(e,t,r)=>{"use strict";function n(e){return"object"==typeof e&&null!==e}function a(e){return Array.isArray(e)}function s(e){return"[object Object]"===Object.prototype.toString.call(e)}function _(e){return void 0===e}function c(e){return"function"==typeof e}function l(e){return"string"==typeof e}function u(e){return"number"==typeof e}r.d(t,{isArray:()=>a,isFunction:()=>c,isNumber:()=>u,isObject:()=>s,isObjectLike:()=>n,isString:()=>l,isUndefined:()=>_})},377803:(e,t)=>{"use strict";t.default={themeName:{name:"--vkui--theme_name",value:"var(--vkui--theme_name, vkBase)"},themeNameBase:{name:"--vkui--theme_name_base",value:"var(--vkui--theme_name_base, vkBase)"},gradientBlack:{name:"--vkui--gradient_black",value:"var(--vkui--gradient_black, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.02) 15%, rgba(0, 0, 0, 0.08) 30%, rgba(0, 0, 0, 0.32) 70%, rgba(0, 0, 0, 0.38) 85%, rgba(0, 0, 0, 0.4) 100%)"},gradientWhite:{name:"--vkui--gradient_white",value:"var(--vkui--gradient_white, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.05) 15%, rgba(255, 255, 255, 0.2) 30%, rgba(255, 255, 255, 0.8) 70%, rgba(255, 255, 255, 0.95) 85%, rgba(255, 255, 255, 1) 100%)"},gradientTint:{name:"--vkui--gradient_tint",value:"var(--vkui--gradient_tint, rgba(249, 249, 249, 0) 0%, rgba(249, 249, 249, 0.05) 15%, rgba(249, 249, 249, 0.2) 30%, rgba(249, 249, 249, 0.8) 70%, rgba(249, 249, 249, 0.95) 85%, rgba(249, 249, 249, 1) 100%)"},gradient:{name:"--vkui--gradient",value:"var(--vkui--gradient, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.05) 15%, rgba(255, 255, 255, 0.2) 30%, rgba(255, 255, 255, 0.8) 70%, rgba(255, 255, 255, 0.95) 85%, rgba(255, 255, 255, 1) 100%)"},elevation1:{name:"--vkui--elevation1",value:"var(--vkui--elevation1, 0px 0px 2px rgba(0, 0, 0, 0.03), 0px 2px 2px rgba(0, 0, 0, 0.06))"},elevation1InvertY:{name:"--vkui--elevation1_invert_y",value:"var(--vkui--elevation1_invert_y, 0px 0px 2px rgba(0, 0, 0, 0.03), 0px -2px 2px rgba(0, 0, 0, 0.06))"},elevation2:{name:"--vkui--elevation2",value:"var(--vkui--elevation2, 0px 4px 8px rgba(0, 0, 0, 0.04), 0px 0px 4px rgba(0, 0, 0, 0.06))"},elevation3:{name:"--vkui--elevation3",value:"var(--vkui--elevation3, 0px 0px 2px rgba(0, 0, 0, 0.08), 0px 4px 16px rgba(0, 0, 0, 0.08))"},elevation4:{name:"--vkui--elevation4",value:"var(--vkui--elevation4, 0px 0px 8px rgba(0, 0, 0, 0.12), 0px 16px 16px rgba(0, 0, 0, 0.16))"},fontFamilyFallbacks:{name:"--vkui--font_family_fallbacks",value:'var(--vkui--font_family_fallbacks, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontFamilyAccent:{name:"--vkui--font_family_accent",value:'var(--vkui--font_family_accent, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontFamilyBase:{name:"--vkui--font_family_base",value:'var(--vkui--font_family_base, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeightAccent1:{name:"--vkui--font_weight_accent1",value:"var(--vkui--font_weight_accent1, 600)"},fontWeightAccent2:{name:"--vkui--font_weight_accent2",value:"var(--vkui--font_weight_accent2, 500)"},fontWeightAccent3:{name:"--vkui--font_weight_accent3",value:"var(--vkui--font_weight_accent3, 400)"},fontWeightBase1:{name:"--vkui--font_weight_base1",value:"var(--vkui--font_weight_base1, 600)"},fontWeightBase2:{name:"--vkui--font_weight_base2",value:"var(--vkui--font_weight_base2, 500)"},fontWeightBase3:{name:"--vkui--font_weight_base3",value:"var(--vkui--font_weight_base3, 400)"},fontDisplayTitle1:{auto:{fontSize:{name:"--vkui--font_display_title1--font_size",value:"var(--vkui--font_display_title1--font_size)"},lineHeight:{name:"--vkui--font_display_title1--line_height",value:"var(--vkui--font_display_title1--line_height)"},fontFamily:{name:"--vkui--font_display_title1--font_family",value:"var(--vkui--font_display_title1--font_family)"},fontWeight:{name:"--vkui--font_display_title1--font_weight",value:"var(--vkui--font_display_title1--font_weight)"}},regular:{fontSize:{name:"--vkui--font_display_title1--font_size--regular",value:"var(--vkui--font_display_title1--font_size--regular, 23px)"},lineHeight:{name:"--vkui--font_display_title1--line_height--regular",value:"var(--vkui--font_display_title1--line_height--regular, 28px)"},fontFamily:{name:"--vkui--font_display_title1--font_family--regular",value:'var(--vkui--font_display_title1--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_display_title1--font_weight--regular",value:"var(--vkui--font_display_title1--font_weight--regular, 600)"}}},fontDisplayTitle2:{auto:{fontSize:{name:"--vkui--font_display_title2--font_size",value:"var(--vkui--font_display_title2--font_size)"},lineHeight:{name:"--vkui--font_display_title2--line_height",value:"var(--vkui--font_display_title2--line_height)"},fontFamily:{name:"--vkui--font_display_title2--font_family",value:"var(--vkui--font_display_title2--font_family)"},fontWeight:{name:"--vkui--font_display_title2--font_weight",value:"var(--vkui--font_display_title2--font_weight)"}},regular:{fontSize:{name:"--vkui--font_display_title2--font_size--regular",value:"var(--vkui--font_display_title2--font_size--regular, 21px)"},lineHeight:{name:"--vkui--font_display_title2--line_height--regular",value:"var(--vkui--font_display_title2--line_height--regular, 26px)"},fontFamily:{name:"--vkui--font_display_title2--font_family--regular",value:'var(--vkui--font_display_title2--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_display_title2--font_weight--regular",value:"var(--vkui--font_display_title2--font_weight--regular, 600)"}},compact:{fontSize:{name:"--vkui--font_display_title2--font_size--compact",value:"var(--vkui--font_display_title2--font_size--compact, 22px)"},lineHeight:{name:"--vkui--font_display_title2--line_height--compact",value:"var(--vkui--font_display_title2--line_height--compact, 24px)"},fontFamily:{name:"--vkui--font_display_title2--font_family--compact",value:'var(--vkui--font_display_title2--font_family--compact, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_display_title2--font_weight--compact",value:"var(--vkui--font_display_title2--font_weight--compact, 600)"}}},fontDisplayTitle3:{auto:{fontSize:{name:"--vkui--font_display_title3--font_size",value:"var(--vkui--font_display_title3--font_size)"},lineHeight:{name:"--vkui--font_display_title3--line_height",value:"var(--vkui--font_display_title3--line_height)"},fontFamily:{name:"--vkui--font_display_title3--font_family",value:"var(--vkui--font_display_title3--font_family)"},fontWeight:{name:"--vkui--font_display_title3--font_weight",value:"var(--vkui--font_display_title3--font_weight)"}},regular:{fontSize:{name:"--vkui--font_display_title3--font_size--regular",value:"var(--vkui--font_display_title3--font_size--regular, 19px)"},lineHeight:{name:"--vkui--font_display_title3--line_height--regular",value:"var(--vkui--font_display_title3--line_height--regular, 24px)"},fontFamily:{name:"--vkui--font_display_title3--font_family--regular",value:'var(--vkui--font_display_title3--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_display_title3--font_weight--regular",value:"var(--vkui--font_display_title3--font_weight--regular, 600)"}}},fontDisplayTitle4:{auto:{fontSize:{name:"--vkui--font_display_title4--font_size",value:"var(--vkui--font_display_title4--font_size)"},lineHeight:{name:"--vkui--font_display_title4--line_height",value:"var(--vkui--font_display_title4--line_height)"},fontFamily:{name:"--vkui--font_display_title4--font_family",value:"var(--vkui--font_display_title4--font_family)"},fontWeight:{name:"--vkui--font_display_title4--font_weight",value:"var(--vkui--font_display_title4--font_weight)"}},regular:{fontSize:{name:"--vkui--font_display_title4--font_size--regular",value:"var(--vkui--font_display_title4--font_size--regular, 17px)"},lineHeight:{name:"--vkui--font_display_title4--line_height--regular",value:"var(--vkui--font_display_title4--line_height--regular, 22px)"},fontFamily:{name:"--vkui--font_display_title4--font_family--regular",value:'var(--vkui--font_display_title4--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_display_title4--font_weight--regular",value:"var(--vkui--font_display_title4--font_weight--regular, 600)"}}},fontTitle1:{auto:{fontSize:{name:"--vkui--font_title1--font_size",value:"var(--vkui--font_title1--font_size)"},lineHeight:{name:"--vkui--font_title1--line_height",value:"var(--vkui--font_title1--line_height)"},fontFamily:{name:"--vkui--font_title1--font_family",value:"var(--vkui--font_title1--font_family)"},fontWeight:{name:"--vkui--font_title1--font_weight",value:"var(--vkui--font_title1--font_weight)"}},regular:{fontSize:{name:"--vkui--font_title1--font_size--regular",value:"var(--vkui--font_title1--font_size--regular, 24px)"},lineHeight:{name:"--vkui--font_title1--line_height--regular",value:"var(--vkui--font_title1--line_height--regular, 28px)"},fontFamily:{name:"--vkui--font_title1--font_family--regular",value:'var(--vkui--font_title1--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_title1--font_weight--regular",value:"var(--vkui--font_title1--font_weight--regular, 600)"}}},fontTitle2:{auto:{fontSize:{name:"--vkui--font_title2--font_size",value:"var(--vkui--font_title2--font_size)"},lineHeight:{name:"--vkui--font_title2--line_height",value:"var(--vkui--font_title2--line_height)"},fontFamily:{name:"--vkui--font_title2--font_family",value:"var(--vkui--font_title2--font_family)"},fontWeight:{name:"--vkui--font_title2--font_weight",value:"var(--vkui--font_title2--font_weight)"}},regular:{fontSize:{name:"--vkui--font_title2--font_size--regular",value:"var(--vkui--font_title2--font_size--regular, 20px)"},lineHeight:{name:"--vkui--font_title2--line_height--regular",value:"var(--vkui--font_title2--line_height--regular, 24px)"},fontFamily:{name:"--vkui--font_title2--font_family--regular",value:'var(--vkui--font_title2--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_title2--font_weight--regular",value:"var(--vkui--font_title2--font_weight--regular, 600)"}}},fontTitle3:{auto:{fontSize:{name:"--vkui--font_title3--font_size",value:"var(--vkui--font_title3--font_size)"},lineHeight:{name:"--vkui--font_title3--line_height",value:"var(--vkui--font_title3--line_height)"},fontFamily:{name:"--vkui--font_title3--font_family",value:"var(--vkui--font_title3--font_family)"},fontWeight:{name:"--vkui--font_title3--font_weight",value:"var(--vkui--font_title3--font_weight)"}},regular:{fontSize:{name:"--vkui--font_title3--font_size--regular",value:"var(--vkui--font_title3--font_size--regular, 17px)"},lineHeight:{name:"--vkui--font_title3--line_height--regular",value:"var(--vkui--font_title3--line_height--regular, 22px)"},fontFamily:{name:"--vkui--font_title3--font_family--regular",value:'var(--vkui--font_title3--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_title3--font_weight--regular",value:"var(--vkui--font_title3--font_weight--regular, 600)"}}},fontHeadline1:{auto:{fontSize:{name:"--vkui--font_headline1--font_size",value:"var(--vkui--font_headline1--font_size)"},lineHeight:{name:"--vkui--font_headline1--line_height",value:"var(--vkui--font_headline1--line_height)"},fontFamily:{name:"--vkui--font_headline1--font_family",value:"var(--vkui--font_headline1--font_family)"},fontWeight:{name:"--vkui--font_headline1--font_weight",value:"var(--vkui--font_headline1--font_weight)"}},regular:{fontSize:{name:"--vkui--font_headline1--font_size--regular",value:"var(--vkui--font_headline1--font_size--regular, 16px)"},lineHeight:{name:"--vkui--font_headline1--line_height--regular",value:"var(--vkui--font_headline1--line_height--regular, 20px)"},fontFamily:{name:"--vkui--font_headline1--font_family--regular",value:'var(--vkui--font_headline1--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_headline1--font_weight--regular",value:"var(--vkui--font_headline1--font_weight--regular, 500)"}},compact:{fontSize:{name:"--vkui--font_headline1--font_size--compact",value:"var(--vkui--font_headline1--font_size--compact, 15px)"},lineHeight:{name:"--vkui--font_headline1--line_height--compact",value:"var(--vkui--font_headline1--line_height--compact, 20px)"}}},fontHeadline2:{auto:{fontSize:{name:"--vkui--font_headline2--font_size",value:"var(--vkui--font_headline2--font_size)"},lineHeight:{name:"--vkui--font_headline2--line_height",value:"var(--vkui--font_headline2--line_height)"},fontFamily:{name:"--vkui--font_headline2--font_family",value:"var(--vkui--font_headline2--font_family)"},fontWeight:{name:"--vkui--font_headline2--font_weight",value:"var(--vkui--font_headline2--font_weight)"}},regular:{fontSize:{name:"--vkui--font_headline2--font_size--regular",value:"var(--vkui--font_headline2--font_size--regular, 15px)"},lineHeight:{name:"--vkui--font_headline2--line_height--regular",value:"var(--vkui--font_headline2--line_height--regular, 20px)"},fontFamily:{name:"--vkui--font_headline2--font_family--regular",value:'var(--vkui--font_headline2--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_headline2--font_weight--regular",value:"var(--vkui--font_headline2--font_weight--regular, 500)"}},compact:{fontSize:{name:"--vkui--font_headline2--font_size--compact",value:"var(--vkui--font_headline2--font_size--compact, 14px)"},lineHeight:{name:"--vkui--font_headline2--line_height--compact",value:"var(--vkui--font_headline2--line_height--compact, 20px)"}}},fontText:{auto:{fontSize:{name:"--vkui--font_text--font_size",value:"var(--vkui--font_text--font_size)"},lineHeight:{name:"--vkui--font_text--line_height",value:"var(--vkui--font_text--line_height)"},fontFamily:{name:"--vkui--font_text--font_family",value:"var(--vkui--font_text--font_family)"},fontWeight:{name:"--vkui--font_text--font_weight",value:"var(--vkui--font_text--font_weight)"}},regular:{fontSize:{name:"--vkui--font_text--font_size--regular",value:"var(--vkui--font_text--font_size--regular, 16px)"},lineHeight:{name:"--vkui--font_text--line_height--regular",value:"var(--vkui--font_text--line_height--regular, 20px)"},fontFamily:{name:"--vkui--font_text--font_family--regular",value:'var(--vkui--font_text--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_text--font_weight--regular",value:"var(--vkui--font_text--font_weight--regular, 400)"}},compact:{fontSize:{name:"--vkui--font_text--font_size--compact",value:"var(--vkui--font_text--font_size--compact, 15px)"},lineHeight:{name:"--vkui--font_text--line_height--compact",value:"var(--vkui--font_text--line_height--compact, 20px)"}}},fontParagraph:{auto:{fontSize:{name:"--vkui--font_paragraph--font_size",value:"var(--vkui--font_paragraph--font_size)"},lineHeight:{name:"--vkui--font_paragraph--line_height",value:"var(--vkui--font_paragraph--line_height)"},fontFamily:{name:"--vkui--font_paragraph--font_family",value:"var(--vkui--font_paragraph--font_family)"},fontWeight:{name:"--vkui--font_paragraph--font_weight",value:"var(--vkui--font_paragraph--font_weight)"}},regular:{fontSize:{name:"--vkui--font_paragraph--font_size--regular",value:"var(--vkui--font_paragraph--font_size--regular, 15px)"},lineHeight:{name:"--vkui--font_paragraph--line_height--regular",value:"var(--vkui--font_paragraph--line_height--regular, 20px)"},fontFamily:{name:"--vkui--font_paragraph--font_family--regular",value:'var(--vkui--font_paragraph--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_paragraph--font_weight--regular",value:"var(--vkui--font_paragraph--font_weight--regular, 400)"}}},fontSubhead:{auto:{fontSize:{name:"--vkui--font_subhead--font_size",value:"var(--vkui--font_subhead--font_size)"},lineHeight:{name:"--vkui--font_subhead--line_height",value:"var(--vkui--font_subhead--line_height)"},fontFamily:{name:"--vkui--font_subhead--font_family",value:"var(--vkui--font_subhead--font_family)"},fontWeight:{name:"--vkui--font_subhead--font_weight",value:"var(--vkui--font_subhead--font_weight)"}},regular:{fontSize:{name:"--vkui--font_subhead--font_size--regular",value:"var(--vkui--font_subhead--font_size--regular, 14px)"},lineHeight:{name:"--vkui--font_subhead--line_height--regular",value:"var(--vkui--font_subhead--line_height--regular, 18px)"},fontFamily:{name:"--vkui--font_subhead--font_family--regular",value:'var(--vkui--font_subhead--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_subhead--font_weight--regular",value:"var(--vkui--font_subhead--font_weight--regular, 400)"}},compact:{fontSize:{name:"--vkui--font_subhead--font_size--compact",value:"var(--vkui--font_subhead--font_size--compact, 13px)"},lineHeight:{name:"--vkui--font_subhead--line_height--compact",value:"var(--vkui--font_subhead--line_height--compact, 16px)"}}},fontFootnote:{auto:{fontSize:{name:"--vkui--font_footnote--font_size",value:"var(--vkui--font_footnote--font_size)"},lineHeight:{name:"--vkui--font_footnote--line_height",value:"var(--vkui--font_footnote--line_height)"},fontFamily:{name:"--vkui--font_footnote--font_family",value:"var(--vkui--font_footnote--font_family)"},fontWeight:{name:"--vkui--font_footnote--font_weight",value:"var(--vkui--font_footnote--font_weight)"}},regular:{fontSize:{name:"--vkui--font_footnote--font_size--regular",value:"var(--vkui--font_footnote--font_size--regular, 13px)"},lineHeight:{name:"--vkui--font_footnote--line_height--regular",value:"var(--vkui--font_footnote--line_height--regular, 16px)"},fontFamily:{name:"--vkui--font_footnote--font_family--regular",value:'var(--vkui--font_footnote--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_footnote--font_weight--regular",value:"var(--vkui--font_footnote--font_weight--regular, 400)"}}},fontFootnoteCaps:{auto:{fontSize:{name:"--vkui--font_footnote_caps--font_size",value:"var(--vkui--font_footnote_caps--font_size)"},lineHeight:{name:"--vkui--font_footnote_caps--line_height",value:"var(--vkui--font_footnote_caps--line_height)"},fontFamily:{name:"--vkui--font_footnote_caps--font_family",value:"var(--vkui--font_footnote_caps--font_family)"},fontWeight:{name:"--vkui--font_footnote_caps--font_weight",value:"var(--vkui--font_footnote_caps--font_weight)"},textTransform:{name:"--vkui--font_footnote_caps--text_transform",value:"var(--vkui--font_footnote_caps--text_transform)"}},regular:{fontSize:{name:"--vkui--font_footnote_caps--font_size--regular",value:"var(--vkui--font_footnote_caps--font_size--regular, 13px)"},lineHeight:{name:"--vkui--font_footnote_caps--line_height--regular",value:"var(--vkui--font_footnote_caps--line_height--regular, 16px)"},fontFamily:{name:"--vkui--font_footnote_caps--font_family--regular",value:'var(--vkui--font_footnote_caps--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_footnote_caps--font_weight--regular",value:"var(--vkui--font_footnote_caps--font_weight--regular, 400)"},textTransform:{name:"--vkui--font_footnote_caps--text_transform--regular",value:"var(--vkui--font_footnote_caps--text_transform--regular, uppercase)"}}},fontCaption1:{auto:{fontSize:{name:"--vkui--font_caption1--font_size",value:"var(--vkui--font_caption1--font_size)"},lineHeight:{name:"--vkui--font_caption1--line_height",value:"var(--vkui--font_caption1--line_height)"},fontFamily:{name:"--vkui--font_caption1--font_family",value:"var(--vkui--font_caption1--font_family)"},fontWeight:{name:"--vkui--font_caption1--font_weight",value:"var(--vkui--font_caption1--font_weight)"}},regular:{fontSize:{name:"--vkui--font_caption1--font_size--regular",value:"var(--vkui--font_caption1--font_size--regular, 12px)"},lineHeight:{name:"--vkui--font_caption1--line_height--regular",value:"var(--vkui--font_caption1--line_height--regular, 14px)"},fontFamily:{name:"--vkui--font_caption1--font_family--regular",value:'var(--vkui--font_caption1--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_caption1--font_weight--regular",value:"var(--vkui--font_caption1--font_weight--regular, 400)"}}},fontCaption1Caps:{auto:{fontSize:{name:"--vkui--font_caption1_caps--font_size",value:"var(--vkui--font_caption1_caps--font_size)"},lineHeight:{name:"--vkui--font_caption1_caps--line_height",value:"var(--vkui--font_caption1_caps--line_height)"},fontFamily:{name:"--vkui--font_caption1_caps--font_family",value:"var(--vkui--font_caption1_caps--font_family)"},fontWeight:{name:"--vkui--font_caption1_caps--font_weight",value:"var(--vkui--font_caption1_caps--font_weight)"},textTransform:{name:"--vkui--font_caption1_caps--text_transform",value:"var(--vkui--font_caption1_caps--text_transform)"}},regular:{fontSize:{name:"--vkui--font_caption1_caps--font_size--regular",value:"var(--vkui--font_caption1_caps--font_size--regular, 12px)"},lineHeight:{name:"--vkui--font_caption1_caps--line_height--regular",value:"var(--vkui--font_caption1_caps--line_height--regular, 14px)"},fontFamily:{name:"--vkui--font_caption1_caps--font_family--regular",value:'var(--vkui--font_caption1_caps--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_caption1_caps--font_weight--regular",value:"var(--vkui--font_caption1_caps--font_weight--regular, 600)"},textTransform:{name:"--vkui--font_caption1_caps--text_transform--regular",value:"var(--vkui--font_caption1_caps--text_transform--regular, uppercase)"}}},fontCaption2:{auto:{fontSize:{name:"--vkui--font_caption2--font_size",value:"var(--vkui--font_caption2--font_size)"},lineHeight:{name:"--vkui--font_caption2--line_height",value:"var(--vkui--font_caption2--line_height)"},fontFamily:{name:"--vkui--font_caption2--font_family",value:"var(--vkui--font_caption2--font_family)"},fontWeight:{name:"--vkui--font_caption2--font_weight",value:"var(--vkui--font_caption2--font_weight)"}},regular:{fontSize:{name:"--vkui--font_caption2--font_size--regular",value:"var(--vkui--font_caption2--font_size--regular, 11px)"},lineHeight:{name:"--vkui--font_caption2--line_height--regular",value:"var(--vkui--font_caption2--line_height--regular, 14px)"},fontFamily:{name:"--vkui--font_caption2--font_family--regular",value:'var(--vkui--font_caption2--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_caption2--font_weight--regular",value:"var(--vkui--font_caption2--font_weight--regular, 400)"}}},fontCaption2Caps:{auto:{fontSize:{name:"--vkui--font_caption2_caps--font_size",value:"var(--vkui--font_caption2_caps--font_size)"},lineHeight:{name:"--vkui--font_caption2_caps--line_height",value:"var(--vkui--font_caption2_caps--line_height)"},fontFamily:{name:"--vkui--font_caption2_caps--font_family",value:"var(--vkui--font_caption2_caps--font_family)"},fontWeight:{name:"--vkui--font_caption2_caps--font_weight",value:"var(--vkui--font_caption2_caps--font_weight)"},textTransform:{name:"--vkui--font_caption2_caps--text_transform",value:"var(--vkui--font_caption2_caps--text_transform)"}},regular:{fontSize:{name:"--vkui--font_caption2_caps--font_size--regular",value:"var(--vkui--font_caption2_caps--font_size--regular, 11px)"},lineHeight:{name:"--vkui--font_caption2_caps--line_height--regular",value:"var(--vkui--font_caption2_caps--line_height--regular, 14px)"},fontFamily:{name:"--vkui--font_caption2_caps--font_family--regular",value:'var(--vkui--font_caption2_caps--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_caption2_caps--font_weight--regular",value:"var(--vkui--font_caption2_caps--font_weight--regular, 600)"},textTransform:{name:"--vkui--font_caption2_caps--text_transform--regular",value:"var(--vkui--font_caption2_caps--text_transform--regular, uppercase)"}}},fontCaption3:{auto:{fontSize:{name:"--vkui--font_caption3--font_size",value:"var(--vkui--font_caption3--font_size)"},lineHeight:{name:"--vkui--font_caption3--line_height",value:"var(--vkui--font_caption3--line_height)"},fontFamily:{name:"--vkui--font_caption3--font_family",value:"var(--vkui--font_caption3--font_family)"},fontWeight:{name:"--vkui--font_caption3--font_weight",value:"var(--vkui--font_caption3--font_weight)"}},regular:{fontSize:{name:"--vkui--font_caption3--font_size--regular",value:"var(--vkui--font_caption3--font_size--regular, 9px)"},lineHeight:{name:"--vkui--font_caption3--line_height--regular",value:"var(--vkui--font_caption3--line_height--regular, 12px)"},fontFamily:{name:"--vkui--font_caption3--font_family--regular",value:'var(--vkui--font_caption3--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_caption3--font_weight--regular",value:"var(--vkui--font_caption3--font_weight--regular, 400)"}}},fontCaption3Caps:{auto:{fontSize:{name:"--vkui--font_caption3_caps--font_size",value:"var(--vkui--font_caption3_caps--font_size)"},lineHeight:{name:"--vkui--font_caption3_caps--line_height",value:"var(--vkui--font_caption3_caps--line_height)"},fontFamily:{name:"--vkui--font_caption3_caps--font_family",value:"var(--vkui--font_caption3_caps--font_family)"},fontWeight:{name:"--vkui--font_caption3_caps--font_weight",value:"var(--vkui--font_caption3_caps--font_weight)"},textTransform:{name:"--vkui--font_caption3_caps--text_transform",value:"var(--vkui--font_caption3_caps--text_transform)"}},regular:{fontSize:{name:"--vkui--font_caption3_caps--font_size--regular",value:"var(--vkui--font_caption3_caps--font_size--regular, 9px)"},lineHeight:{name:"--vkui--font_caption3_caps--line_height--regular",value:"var(--vkui--font_caption3_caps--line_height--regular, 12px)"},fontFamily:{name:"--vkui--font_caption3_caps--font_family--regular",value:'var(--vkui--font_caption3_caps--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_caption3_caps--font_weight--regular",value:"var(--vkui--font_caption3_caps--font_weight--regular, 600)"},textTransform:{name:"--vkui--font_caption3_caps--text_transform--regular",value:"var(--vkui--font_caption3_caps--text_transform--regular, uppercase)"}}},sizeSelectIconPadding:{auto:{name:"--vkui--size_select_icon_padding",value:"var(--vkui--size_select_icon_padding)"},regular:{name:"--vkui--size_select_icon_padding--regular",value:"var(--vkui--size_select_icon_padding--regular, 6px)"},compact:{name:"--vkui--size_select_icon_padding--compact",value:"var(--vkui--size_select_icon_padding--compact, 7px)"}},sizePopupBasePadding:{auto:{name:"--vkui--size_popup_base_padding",value:"var(--vkui--size_popup_base_padding)"},regular:{name:"--vkui--size_popup_base_padding--regular",value:"var(--vkui--size_popup_base_padding--regular, 32px)"},compact:{name:"--vkui--size_popup_base_padding--compact",value:"var(--vkui--size_popup_base_padding--compact, 20px)"}},sizePopupHeaderPadding:{auto:{name:"--vkui--size_popup_header_padding",value:"var(--vkui--size_popup_header_padding)"},regular:{name:"--vkui--size_popup_header_padding--regular",value:"var(--vkui--size_popup_header_padding--regular, 24px)"},compact:{name:"--vkui--size_popup_header_padding--compact",value:"var(--vkui--size_popup_header_padding--compact, 16px)"}},sizeLabelHorizontalMargin:{auto:{name:"--vkui--size_label_horizontal_margin",value:"var(--vkui--size_label_horizontal_margin)"},regular:{name:"--vkui--size_label_horizontal_margin--regular",value:"var(--vkui--size_label_horizontal_margin--regular, 16px)"}},sizeBorderRadius:{auto:{name:"--vkui--size_border_radius",value:"var(--vkui--size_border_radius)"},regular:{name:"--vkui--size_border_radius--regular",value:"var(--vkui--size_border_radius--regular, 8px)"}},sizeBorderRadiusRounded:{auto:{name:"--vkui--size_border_radius_rounded",value:"var(--vkui--size_border_radius_rounded)"},regular:{name:"--vkui--size_border_radius_rounded--regular",value:"var(--vkui--size_border_radius_rounded--regular, 48px)"}},sizeCheckBorderRadius:{auto:{name:"--vkui--size_check_border_radius",value:"var(--vkui--size_check_border_radius)"},regular:{name:"--vkui--size_check_border_radius--regular",value:"var(--vkui--size_check_border_radius--regular, 4px)"}},sizeBorderRadiusPaper:{auto:{name:"--vkui--size_border_radius_paper",value:"var(--vkui--size_border_radius_paper)"},regular:{name:"--vkui--size_border_radius_paper--regular",value:"var(--vkui--size_border_radius_paper--regular, 12px)"}},sizeBorderRadiusPromo:{auto:{name:"--vkui--size_border_radius_promo",value:"var(--vkui--size_border_radius_promo)"},regular:{name:"--vkui--size_border_radius_promo--regular",value:"var(--vkui--size_border_radius_promo--regular, 20px)"}},sizeCellHeight:{auto:{name:"--vkui--size_cell_height",value:"var(--vkui--size_cell_height)"},regular:{name:"--vkui--size_cell_height--regular",value:"var(--vkui--size_cell_height--regular, 48px)"},compact:{name:"--vkui--size_cell_height--compact",value:"var(--vkui--size_cell_height--compact, 44px)"}},sizeFieldHeight:{auto:{name:"--vkui--size_field_height",value:"var(--vkui--size_field_height)"},regular:{name:"--vkui--size_field_height--regular",value:"var(--vkui--size_field_height--regular, 44px)"},compact:{name:"--vkui--size_field_height--compact",value:"var(--vkui--size_field_height--compact, 36px)"}},sizeSearchHeight:{auto:{name:"--vkui--size_search_height",value:"var(--vkui--size_search_height)"},regular:{name:"--vkui--size_search_height--regular",value:"var(--vkui--size_search_height--regular, 36px)"},compact:{name:"--vkui--size_search_height--compact",value:"var(--vkui--size_search_height--compact, 32px)"}},sizeButtonExtraSmallHeight:{auto:{name:"--vkui--size_button_extra_small_height",value:"var(--vkui--size_button_extra_small_height)"},regular:{name:"--vkui--size_button_extra_small_height--regular",value:"var(--vkui--size_button_extra_small_height--regular, 24px)"},compact:{name:"--vkui--size_button_extra_small_height--compact",value:"var(--vkui--size_button_extra_small_height--compact, 22px)"}},sizeButtonSmallHeight:{auto:{name:"--vkui--size_button_small_height",value:"var(--vkui--size_button_small_height)"},regular:{name:"--vkui--size_button_small_height--regular",value:"var(--vkui--size_button_small_height--regular, 30px)"},compact:{name:"--vkui--size_button_small_height--compact",value:"var(--vkui--size_button_small_height--compact, 28px)"}},sizeButtonMediumHeight:{auto:{name:"--vkui--size_button_medium_height",value:"var(--vkui--size_button_medium_height)"},regular:{name:"--vkui--size_button_medium_height--regular",value:"var(--vkui--size_button_medium_height--regular, 36px)"},compact:{name:"--vkui--size_button_medium_height--compact",value:"var(--vkui--size_button_medium_height--compact, 32px)"}},sizeButtonLargeHeight:{auto:{name:"--vkui--size_button_large_height",value:"var(--vkui--size_button_large_height)"},regular:{name:"--vkui--size_button_large_height--regular",value:"var(--vkui--size_button_large_height--regular, 44px)"},compact:{name:"--vkui--size_button_large_height--compact",value:"var(--vkui--size_button_large_height--compact, 36px)"}},sizeCheckbox:{auto:{name:"--vkui--size_checkbox",value:"var(--vkui--size_checkbox)"},regular:{name:"--vkui--size_checkbox--regular",value:"var(--vkui--size_checkbox--regular, 16px)"}},sizeArrow:{auto:{name:"--vkui--size_arrow",value:"var(--vkui--size_arrow)"},regular:{name:"--vkui--size_arrow--regular",value:"var(--vkui--size_arrow--regular, 8px)"}},sizeArrowPromo:{auto:{name:"--vkui--size_arrow_promo",value:"var(--vkui--size_arrow_promo)"},regular:{name:"--vkui--size_arrow_promo--regular",value:"var(--vkui--size_arrow_promo--regular, 40px)"}},sizePopupSmall:{auto:{name:"--vkui--size_popup_small",value:"var(--vkui--size_popup_small)"},regular:{name:"--vkui--size_popup_small--regular",value:"var(--vkui--size_popup_small--regular, 430px)"}},sizePopupMedium:{auto:{name:"--vkui--size_popup_medium",value:"var(--vkui--size_popup_medium)"},regular:{name:"--vkui--size_popup_medium--regular",value:"var(--vkui--size_popup_medium--regular, 680px)"}},sizePopupLarge:{auto:{name:"--vkui--size_popup_large",value:"var(--vkui--size_popup_large)"},regular:{name:"--vkui--size_popup_large--regular",value:"var(--vkui--size_popup_large--regular, 880px)"}},sizeFieldHorizontalPadding:{auto:{name:"--vkui--size_field_horizontal_padding",value:"var(--vkui--size_field_horizontal_padding)"},regular:{name:"--vkui--size_field_horizontal_padding--regular",value:"var(--vkui--size_field_horizontal_padding--regular, 12px)"}},sizeButtonPaddingHorizontal:{auto:{name:"--vkui--size_button_padding_horizontal",value:"var(--vkui--size_button_padding_horizontal)"},regular:{name:"--vkui--size_button_padding_horizontal--regular",value:"var(--vkui--size_button_padding_horizontal--regular, 12px)"}},sizeArrowPadding:{auto:{name:"--vkui--size_arrow_padding",value:"var(--vkui--size_arrow_padding)"},regular:{name:"--vkui--size_arrow_padding--regular",value:"var(--vkui--size_arrow_padding--regular, 12px)"}},sizeTooltipMargin:{auto:{name:"--vkui--size_tooltip_margin",value:"var(--vkui--size_tooltip_margin)"},regular:{name:"--vkui--size_tooltip_margin--regular",value:"var(--vkui--size_tooltip_margin--regular, 8px)"}},sizeIconUI:{auto:{name:"--vkui--size_icon_u_i",value:"var(--vkui--size_icon_u_i)"},regular:{name:"--vkui--size_icon_u_i--regular",value:"var(--vkui--size_icon_u_i--regular, 16px)"}},sizeAvatarXS:{auto:{name:"--vkui--size_avatar_x_s",value:"var(--vkui--size_avatar_x_s)"},regular:{name:"--vkui--size_avatar_x_s--regular",value:"var(--vkui--size_avatar_x_s--regular, 24px)"}},sizeAvatarS:{auto:{name:"--vkui--size_avatar_s",value:"var(--vkui--size_avatar_s)"},regular:{name:"--vkui--size_avatar_s--regular",value:"var(--vkui--size_avatar_s--regular, 32px)"}},sizeAvatarM:{auto:{name:"--vkui--size_avatar_m",value:"var(--vkui--size_avatar_m)"},regular:{name:"--vkui--size_avatar_m--regular",value:"var(--vkui--size_avatar_m--regular, 48px)"}},sizeAvatarL:{auto:{name:"--vkui--size_avatar_l",value:"var(--vkui--size_avatar_l)"},regular:{name:"--vkui--size_avatar_l--regular",value:"var(--vkui--size_avatar_l--regular, 96px)"}},sizeAvatarXL:{auto:{name:"--vkui--size_avatar_x_l",value:"var(--vkui--size_avatar_x_l)"},regular:{name:"--vkui--size_avatar_x_l--regular",value:"var(--vkui--size_avatar_x_l--regular, 128px)"}},sizeBadgeXS:{auto:{name:"--vkui--size_badge_x_s",value:"var(--vkui--size_badge_x_s)"},regular:{name:"--vkui--size_badge_x_s--regular",value:"var(--vkui--size_badge_x_s--regular, 12px)"}},sizeBadgeS:{auto:{name:"--vkui--size_badge_s",value:"var(--vkui--size_badge_s)"},regular:{name:"--vkui--size_badge_s--regular",value:"var(--vkui--size_badge_s--regular, 16px)"}},sizeBadgeM:{auto:{name:"--vkui--size_badge_m",value:"var(--vkui--size_badge_m)"},regular:{name:"--vkui--size_badge_m--regular",value:"var(--vkui--size_badge_m--regular, 24px)"}},sizeBadgeL:{auto:{name:"--vkui--size_badge_l",value:"var(--vkui--size_badge_l)"},regular:{name:"--vkui--size_badge_l--regular",value:"var(--vkui--size_badge_l--regular, 44px)"}},sizeBadgeXL:{auto:{name:"--vkui--size_badge_x_l",value:"var(--vkui--size_badge_x_l)"},regular:{name:"--vkui--size_badge_x_l--regular",value:"var(--vkui--size_badge_x_l--regular, 56px)"}},sizeCardgridPadding:{auto:{name:"--vkui--size_cardgrid_padding",value:"var(--vkui--size_cardgrid_padding)"},regular:{name:"--vkui--size_cardgrid_padding--regular",value:"var(--vkui--size_cardgrid_padding--regular, 8px)"}},sizeCardBorderRadius:{auto:{name:"--vkui--size_card_border_radius",value:"var(--vkui--size_card_border_radius)"},regular:{name:"--vkui--size_card_border_radius--regular",value:"var(--vkui--size_card_border_radius--regular, 8px)"}},sizeCardgridPaddingVertical:{auto:{name:"--vkui--size_cardgrid_padding_vertical",value:"var(--vkui--size_cardgrid_padding_vertical)"},regular:{name:"--vkui--size_cardgrid_padding_vertical--regular",value:"var(--vkui--size_cardgrid_padding_vertical--regular, 8px)"}},sizeBasePaddingHorizontal:{auto:{name:"--vkui--size_base_padding_horizontal",value:"var(--vkui--size_base_padding_horizontal)"},regular:{name:"--vkui--size_base_padding_horizontal--regular",value:"var(--vkui--size_base_padding_horizontal--regular, 16px)"}},sizeBasePaddingVertical:{auto:{name:"--vkui--size_base_padding_vertical",value:"var(--vkui--size_base_padding_vertical)"},regular:{name:"--vkui--size_base_padding_vertical--regular",value:"var(--vkui--size_base_padding_vertical--regular, 12px)"}},sizeButtonGroupGapSpace:{auto:{name:"--vkui--size_button_group_gap_space",value:"var(--vkui--size_button_group_gap_space)"},regular:{name:"--vkui--size_button_group_gap_space--regular",value:"var(--vkui--size_button_group_gap_space--regular, 1px)"}},sizeButtonGroupGapSmall:{auto:{name:"--vkui--size_button_group_gap_small",value:"var(--vkui--size_button_group_gap_small)"},regular:{name:"--vkui--size_button_group_gap_small--regular",value:"var(--vkui--size_button_group_gap_small--regular, 8px)"}},sizeButtonGroupGapMedium:{auto:{name:"--vkui--size_button_group_gap_medium",value:"var(--vkui--size_button_group_gap_medium)"},regular:{name:"--vkui--size_button_group_gap_medium--regular",value:"var(--vkui--size_button_group_gap_medium--regular, 12px)"}},sizeOptionHierarchy:{auto:{name:"--vkui--size_option_hierarchy",value:"var(--vkui--size_option_hierarchy)"},regular:{name:"--vkui--size_option_hierarchy--regular",value:"var(--vkui--size_option_hierarchy--regular, 32px)"}},sizeSwitchHeight:{auto:{name:"--vkui--size_switch_height",value:"var(--vkui--size_switch_height)"},regular:{name:"--vkui--size_switch_height--regular",value:"var(--vkui--size_switch_height--regular, 14px)"},compact:{name:"--vkui--size_switch_height--compact",value:"var(--vkui--size_switch_height--compact, 12px)"}},sizeSwitchWidth:{auto:{name:"--vkui--size_switch_width",value:"var(--vkui--size_switch_width)"},regular:{name:"--vkui--size_switch_width--regular",value:"var(--vkui--size_switch_width--regular, 34px)"},compact:{name:"--vkui--size_switch_width--compact",value:"var(--vkui--size_switch_width--compact, 32px)"}},sizeSwitchPin:{auto:{name:"--vkui--size_switch_pin",value:"var(--vkui--size_switch_pin)"},regular:{name:"--vkui--size_switch_pin--regular",value:"var(--vkui--size_switch_pin--regular, 20px)"},compact:{name:"--vkui--size_switch_pin--compact",value:"var(--vkui--size_switch_pin--compact, 18px)"}},sizePanelHeaderHeight:{auto:{name:"--vkui--size_panel_header_height",value:"var(--vkui--size_panel_header_height)"},compact:{name:"--vkui--size_panel_header_height--compact",value:"var(--vkui--size_panel_header_height--compact, 48px)"},regular:{name:"--vkui--size_panel_header_height--regular",value:"var(--vkui--size_panel_header_height--regular, 56px)"}},sizeButtonBaseSmallPaddingHorizontal:{auto:{name:"--vkui--size_button_base_small_padding_horizontal",value:"var(--vkui--size_button_base_small_padding_horizontal)"},regular:{name:"--vkui--size_button_base_small_padding_horizontal--regular",value:"var(--vkui--size_button_base_small_padding_horizontal--regular, 16px)"}},sizeButtonBaseMediumPaddingHorizontal:{auto:{name:"--vkui--size_button_base_medium_padding_horizontal",value:"var(--vkui--size_button_base_medium_padding_horizontal)"},regular:{name:"--vkui--size_button_base_medium_padding_horizontal--regular",value:"var(--vkui--size_button_base_medium_padding_horizontal--regular, 16px)"}},sizeButtonBaseLargePaddingHorizontal:{auto:{name:"--vkui--size_button_base_large_padding_horizontal",value:"var(--vkui--size_button_base_large_padding_horizontal)"},regular:{name:"--vkui--size_button_base_large_padding_horizontal--regular",value:"var(--vkui--size_button_base_large_padding_horizontal--regular, 20px)"}},sizeButtonBaseSmallPaddingHorizontalIcon:{auto:{name:"--vkui--size_button_base_small_padding_horizontal_icon",value:"var(--vkui--size_button_base_small_padding_horizontal_icon)"},regular:{name:"--vkui--size_button_base_small_padding_horizontal_icon--regular",value:"var(--vkui--size_button_base_small_padding_horizontal_icon--regular, 12px)"}},sizeButtonBaseMediumPaddingHorizontalIcon:{auto:{name:"--vkui--size_button_base_medium_padding_horizontal_icon",value:"var(--vkui--size_button_base_medium_padding_horizontal_icon)"},regular:{name:"--vkui--size_button_base_medium_padding_horizontal_icon--regular",value:"var(--vkui--size_button_base_medium_padding_horizontal_icon--regular, 12px)"}},sizeButtonBaseLargePaddingHorizontalIcon:{auto:{name:"--vkui--size_button_base_large_padding_horizontal_icon",value:"var(--vkui--size_button_base_large_padding_horizontal_icon)"},regular:{name:"--vkui--size_button_base_large_padding_horizontal_icon--regular",value:"var(--vkui--size_button_base_large_padding_horizontal_icon--regular, 16px)"}},sizeButtonTertiarySmallPaddingHorizontal:{auto:{name:"--vkui--size_button_tertiary_small_padding_horizontal",value:"var(--vkui--size_button_tertiary_small_padding_horizontal)"},regular:{name:"--vkui--size_button_tertiary_small_padding_horizontal--regular",value:"var(--vkui--size_button_tertiary_small_padding_horizontal--regular, 12px)"}},sizeButtonTertiaryMediumPaddingHorizontal:{auto:{name:"--vkui--size_button_tertiary_medium_padding_horizontal",value:"var(--vkui--size_button_tertiary_medium_padding_horizontal)"},regular:{name:"--vkui--size_button_tertiary_medium_padding_horizontal--regular",value:"var(--vkui--size_button_tertiary_medium_padding_horizontal--regular, 12px)"}},sizeButtonTertiaryLargePaddingHorizontal:{auto:{name:"--vkui--size_button_tertiary_large_padding_horizontal",value:"var(--vkui--size_button_tertiary_large_padding_horizontal)"},regular:{name:"--vkui--size_button_tertiary_large_padding_horizontal--regular",value:"var(--vkui--size_button_tertiary_large_padding_horizontal--regular, 16px)"}},sizeButtonTertiarySmallPaddingHorizontalIcon:{auto:{name:"--vkui--size_button_tertiary_small_padding_horizontal_icon",value:"var(--vkui--size_button_tertiary_small_padding_horizontal_icon)"},regular:{name:"--vkui--size_button_tertiary_small_padding_horizontal_icon--regular",value:"var(--vkui--size_button_tertiary_small_padding_horizontal_icon--regular, 8px)"}},sizeButtonTertiaryMediumPaddingHorizontalIcon:{auto:{name:"--vkui--size_button_tertiary_medium_padding_horizontal_icon",value:"var(--vkui--size_button_tertiary_medium_padding_horizontal_icon)"},regular:{name:"--vkui--size_button_tertiary_medium_padding_horizontal_icon--regular",value:"var(--vkui--size_button_tertiary_medium_padding_horizontal_icon--regular, 8px)"}},sizeButtonTertiaryLargePaddingHorizontalIcon:{auto:{name:"--vkui--size_button_tertiary_large_padding_horizontal_icon",value:"var(--vkui--size_button_tertiary_large_padding_horizontal_icon)"},regular:{name:"--vkui--size_button_tertiary_large_padding_horizontal_icon--regular",value:"var(--vkui--size_button_tertiary_large_padding_horizontal_icon--regular, 12px)"}},sizeButtonMinimumWidth:{auto:{name:"--vkui--size_button_minimum_width",value:"var(--vkui--size_button_minimum_width)"},regular:{name:"--vkui--size_button_minimum_width--regular",value:"var(--vkui--size_button_minimum_width--regular, 80px)"}},sizeFormItemPaddingVertical:{auto:{name:"--vkui--size_form_item_padding_vertical",value:"var(--vkui--size_form_item_padding_vertical)"},regular:{name:"--vkui--size_form_item_padding_vertical--regular",value:"var(--vkui--size_form_item_padding_vertical--regular, 12px)"}},sizeSplitColPaddingHorizontal:{auto:{name:"--vkui--size_split_col_padding_horizontal",value:"var(--vkui--size_split_col_padding_horizontal)"},regular:{name:"--vkui--size_split_col_padding_horizontal--regular",value:"var(--vkui--size_split_col_padding_horizontal--regular, 16px)"}},sizeSubnavigationBarGap:{auto:{name:"--vkui--size_subnavigation_bar_gap",value:"var(--vkui--size_subnavigation_bar_gap)"},regular:{name:"--vkui--size_subnavigation_bar_gap--regular",value:"var(--vkui--size_subnavigation_bar_gap--regular, 8px)"}},sizeSubnavigationBarPaddingVertical:{auto:{name:"--vkui--size_subnavigation_bar_padding_vertical",value:"var(--vkui--size_subnavigation_bar_padding_vertical)"},regular:{name:"--vkui--size_subnavigation_bar_padding_vertical--regular",value:"var(--vkui--size_subnavigation_bar_padding_vertical--regular, 12px)"}},sizeBorder1x:{auto:{name:"--vkui--size_border1x",value:"var(--vkui--size_border1x)"},regular:{name:"--vkui--size_border1x--regular",value:"var(--vkui--size_border1x--regular, 1px)"}},sizeBorder2x:{auto:{name:"--vkui--size_border2x",value:"var(--vkui--size_border2x)"},regular:{name:"--vkui--size_border2x--regular",value:"var(--vkui--size_border2x--regular, 0.5px)"}},sizeBorder3x:{auto:{name:"--vkui--size_border3x",value:"var(--vkui--size_border3x)"},regular:{name:"--vkui--size_border3x--regular",value:"var(--vkui--size_border3x--regular, 0.33px)"}},spacingSize3Xs:{name:"--vkui--spacing_size_3xs",value:"var(--vkui--spacing_size_3xs, 2px)"},spacingSize2Xs:{name:"--vkui--spacing_size_2xs",value:"var(--vkui--spacing_size_2xs, 2px)"},spacingSizeXs:{name:"--vkui--spacing_size_xs",value:"var(--vkui--spacing_size_xs, 4px)"},spacingSizeS:{name:"--vkui--spacing_size_s",value:"var(--vkui--spacing_size_s, 6px)"},spacingSizeM:{name:"--vkui--spacing_size_m",value:"var(--vkui--spacing_size_m, 8px)"},spacingSizeL:{name:"--vkui--spacing_size_l",value:"var(--vkui--spacing_size_l, 10px)"},spacingSizeXl:{name:"--vkui--spacing_size_xl",value:"var(--vkui--spacing_size_xl, 12px)"},spacingSize2Xl:{name:"--vkui--spacing_size_2xl",value:"var(--vkui--spacing_size_2xl, 16px)"},spacingSize3Xl:{name:"--vkui--spacing_size_3xl",value:"var(--vkui--spacing_size_3xl, 20px)"},spacingSize4Xl:{name:"--vkui--spacing_size_4xl",value:"var(--vkui--spacing_size_4xl, 24px)"},animationDurationL:{name:"--vkui--animation_duration_l",value:"var(--vkui--animation_duration_l, 0.4s)"},animationDurationM:{name:"--vkui--animation_duration_m",value:"var(--vkui--animation_duration_m, 0.2s)"},animationDurationS:{name:"--vkui--animation_duration_s",value:"var(--vkui--animation_duration_s, 0.1s)"},animationEasingDefault:{name:"--vkui--animation_easing_default",value:"var(--vkui--animation_easing_default, cubic-bezier(0.3, 0.3, 0.5, 1))"},animationEasingPlatform:{name:"--vkui--animation_easing_platform",value:"var(--vkui--animation_easing_platform, cubic-bezier(0.4, 0, 0.2, 1))"},opacityDisable:{name:"--vkui--opacity_disable",value:"var(--vkui--opacity_disable, 0.4)"},opacityDisableAccessibility:{name:"--vkui--opacity_disable_accessibility",value:"var(--vkui--opacity_disable_accessibility, 0.64)"},zIndexModal:{name:"--vkui--z_index_modal",value:"var(--vkui--z_index_modal, 99)"},zIndexPopout:{name:"--vkui--z_index_popout",value:"var(--vkui--z_index_popout, 100)"},fontHeadline:{auto:{fontSize:{name:"--vkui--font_headline--font_size",value:"var(--vkui--font_headline--font_size)"},lineHeight:{name:"--vkui--font_headline--line_height",value:"var(--vkui--font_headline--line_height)"},fontFamily:{name:"--vkui--font_headline--font_family",value:"var(--vkui--font_headline--font_family)"},fontWeight:{name:"--vkui--font_headline--font_weight",value:"var(--vkui--font_headline--font_weight)"}},regular:{fontSize:{name:"--vkui--font_headline--font_size--regular",value:"var(--vkui--font_headline--font_size--regular, 16px)"},lineHeight:{name:"--vkui--font_headline--line_height--regular",value:"var(--vkui--font_headline--line_height--regular, 20px)"},fontFamily:{name:"--vkui--font_headline--font_family--regular",value:'var(--vkui--font_headline--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_headline--font_weight--regular",value:"var(--vkui--font_headline--font_weight--regular, 500)"}},compact:{fontSize:{name:"--vkui--font_headline--font_size--compact",value:"var(--vkui--font_headline--font_size--compact, 15px)"},lineHeight:{name:"--vkui--font_headline--line_height--compact",value:"var(--vkui--font_headline--line_height--compact, 20px)"}}},colorsScheme:{name:"--vkui--colors_scheme",value:"var(--vkui--colors_scheme, light)"},colorBackgroundAccent:{normal:{name:"--vkui--color_background_accent",value:"var(--vkui--color_background_accent, #2688eb)"},hover:{name:"--vkui--color_background_accent--hover",value:"var(--vkui--color_background_accent--hover, #2483E4)"},active:{name:"--vkui--color_background_accent--active",value:"var(--vkui--color_background_accent--active, #237EDD)"}},colorBackgroundAccentThemed:{normal:{name:"--vkui--color_background_accent_themed",value:"var(--vkui--color_background_accent_themed, #2688eb)"},hover:{name:"--vkui--color_background_accent_themed--hover",value:"var(--vkui--color_background_accent_themed--hover, #2483E4)"},active:{name:"--vkui--color_background_accent_themed--active",value:"var(--vkui--color_background_accent_themed--active, #237EDD)"}},colorBackgroundAccentThemedAlpha:{normal:{name:"--vkui--color_background_accent_themed_alpha",value:"var(--vkui--color_background_accent_themed_alpha, rgba(38, 136, 235, 0.2))"},hover:{name:"--vkui--color_background_accent_themed_alpha--hover",value:"var(--vkui--color_background_accent_themed_alpha--hover, rgba(38, 136, 235, 0.24))"},active:{name:"--vkui--color_background_accent_themed_alpha--active",value:"var(--vkui--color_background_accent_themed_alpha--active, rgba(38, 136, 235, 0.28))"}},colorBackgroundAccentTint:{normal:{name:"--vkui--color_background_accent_tint",value:"var(--vkui--color_background_accent_tint, #5a9eff)"},hover:{name:"--vkui--color_background_accent_tint--hover",value:"var(--vkui--color_background_accent_tint--hover, #5698F7)"},active:{name:"--vkui--color_background_accent_tint--active",value:"var(--vkui--color_background_accent_tint--active, #5393EF)"}},colorBackgroundAccentAlternative:{normal:{name:"--vkui--color_background_accent_alternative",value:"var(--vkui--color_background_accent_alternative, #2688EB)"},hover:{name:"--vkui--color_background_accent_alternative--hover",value:"var(--vkui--color_background_accent_alternative--hover, #2483E4)"},active:{name:"--vkui--color_background_accent_alternative--active",value:"var(--vkui--color_background_accent_alternative--active, #237EDD)"}},colorBackground:{normal:{name:"--vkui--color_background",value:"var(--vkui--color_background, #ebedf0)"},hover:{name:"--vkui--color_background--hover",value:"var(--vkui--color_background--hover, #E2E4E9)"},active:{name:"--vkui--color_background--active",value:"var(--vkui--color_background--active, #D8DBE2)"}},colorBackgroundContent:{normal:{name:"--vkui--color_background_content",value:"var(--vkui--color_background_content, #ffffff)"},hover:{name:"--vkui--color_background_content--hover",value:"var(--vkui--color_background_content--hover, #F5F5F7)"},active:{name:"--vkui--color_background_content--active",value:"var(--vkui--color_background_content--active, #EBECEF)"}},colorBackgroundContentAlpha:{normal:{name:"--vkui--color_background_content_alpha",value:"var(--vkui--color_background_content_alpha, rgba(255, 255, 255, 0.8))"},hover:{name:"--vkui--color_background_content_alpha--hover",value:"var(--vkui--color_background_content_alpha--hover, rgba(255, 255, 255, 0.84))"},active:{name:"--vkui--color_background_content_alpha--active",value:"var(--vkui--color_background_content_alpha--active, rgba(255, 255, 255, 0.88))"}},colorBackgroundContentInverse:{normal:{name:"--vkui--color_background_content_inverse",value:"var(--vkui--color_background_content_inverse, #19191A)"},hover:{name:"--vkui--color_background_content_inverse--hover",value:"var(--vkui--color_background_content_inverse--hover, #18191B)"},active:{name:"--vkui--color_background_content_inverse--active",value:"var(--vkui--color_background_content_inverse--active, #17181D)"}},colorBackgroundSecondary:{normal:{name:"--vkui--color_background_secondary",value:"var(--vkui--color_background_secondary, #f5f5f5)"},hover:{name:"--vkui--color_background_secondary--hover",value:"var(--vkui--color_background_secondary--hover, #EBECEE)"},active:{name:"--vkui--color_background_secondary--active",value:"var(--vkui--color_background_secondary--active, #E1E3E6)"}},colorBackgroundSecondaryAlpha:{normal:{name:"--vkui--color_background_secondary_alpha",value:"var(--vkui--color_background_secondary_alpha, rgba(0, 0, 0, 0.04))"},hover:{name:"--vkui--color_background_secondary_alpha--hover",value:"var(--vkui--color_background_secondary_alpha--hover, rgba(0, 0, 0, 0.08))"},active:{name:"--vkui--color_background_secondary_alpha--active",value:"var(--vkui--color_background_secondary_alpha--active, rgba(0, 0, 0, 0.12))"}},colorBackgroundTertiary:{normal:{name:"--vkui--color_background_tertiary",value:"var(--vkui--color_background_tertiary, #f9f9f9)"},hover:{name:"--vkui--color_background_tertiary--hover",value:"var(--vkui--color_background_tertiary--hover, #EFF0F1)"},active:{name:"--vkui--color_background_tertiary--active",value:"var(--vkui--color_background_tertiary--active, #E5E6EA)"}},colorBackgroundTertiaryAlpha:{normal:{name:"--vkui--color_background_tertiary_alpha",value:"var(--vkui--color_background_tertiary_alpha, rgba(0, 0, 0, 0.03))"},hover:{name:"--vkui--color_background_tertiary_alpha--hover",value:"var(--vkui--color_background_tertiary_alpha--hover, rgba(0, 0, 0, 0.07))"},active:{name:"--vkui--color_background_tertiary_alpha--active",value:"var(--vkui--color_background_tertiary_alpha--active, rgba(0, 0, 0, 0.11))"}},colorBackgroundContrast:{normal:{name:"--vkui--color_background_contrast",value:"var(--vkui--color_background_contrast, #ffffff)"},hover:{name:"--vkui--color_background_contrast--hover",value:"var(--vkui--color_background_contrast--hover, #F5F5F7)"},active:{name:"--vkui--color_background_contrast--active",value:"var(--vkui--color_background_contrast--active, #EBECEF)"}},colorBackgroundContrastSecondaryAlpha:{normal:{name:"--vkui--color_background_contrast_secondary_alpha",value:"var(--vkui--color_background_contrast_secondary_alpha, rgba(255, 255, 255, 0.20))"},hover:{name:"--vkui--color_background_contrast_secondary_alpha--hover",value:"var(--vkui--color_background_contrast_secondary_alpha--hover, rgba(255, 255, 255, 0.24))"},active:{name:"--vkui--color_background_contrast_secondary_alpha--active",value:"var(--vkui--color_background_contrast_secondary_alpha--active, rgba(255, 255, 255, 0.28))"}},colorBackgroundContrastInverse:{normal:{name:"--vkui--color_background_contrast_inverse",value:"var(--vkui--color_background_contrast_inverse, #2c2d2e)"},hover:{name:"--vkui--color_background_contrast_inverse--hover",value:"var(--vkui--color_background_contrast_inverse--hover, #2A2C2F)"},active:{name:"--vkui--color_background_contrast_inverse--active",value:"var(--vkui--color_background_contrast_inverse--active, #282B2F)"}},colorBackgroundContrastThemed:{normal:{name:"--vkui--color_background_contrast_themed",value:"var(--vkui--color_background_contrast_themed, #FFFFFF)"},hover:{name:"--vkui--color_background_contrast_themed--hover",value:"var(--vkui--color_background_contrast_themed--hover, #F5F5F7)"},active:{name:"--vkui--color_background_contrast_themed--active",value:"var(--vkui--color_background_contrast_themed--active, #EBECEF)"}},colorBackgroundModal:{normal:{name:"--vkui--color_background_modal",value:"var(--vkui--color_background_modal, #FFFFFF)"},hover:{name:"--vkui--color_background_modal--hover",value:"var(--vkui--color_background_modal--hover, #F5F5F7)"},active:{name:"--vkui--color_background_modal--active",value:"var(--vkui--color_background_modal--active, #EBECEF)"}},colorBackgroundModalInverse:{normal:{name:"--vkui--color_background_modal_inverse",value:"var(--vkui--color_background_modal_inverse, #1C1D1E)"},hover:{name:"--vkui--color_background_modal_inverse--hover",value:"var(--vkui--color_background_modal_inverse--hover, #1B1C1F)"},active:{name:"--vkui--color_background_modal_inverse--active",value:"var(--vkui--color_background_modal_inverse--active, #1A1C20)"}},colorBackgroundPositive:{normal:{name:"--vkui--color_background_positive",value:"var(--vkui--color_background_positive, #4bb34b)"},hover:{name:"--vkui--color_background_positive--hover",value:"var(--vkui--color_background_positive--hover, #48AC4A)"},active:{name:"--vkui--color_background_positive--active",value:"var(--vkui--color_background_positive--active, #45A64A)"}},colorBackgroundPositiveTint:{normal:{name:"--vkui--color_background_positive_tint",value:"var(--vkui--color_background_positive_tint, #E8F9E8)"},hover:{name:"--vkui--color_background_positive_tint--hover",value:"var(--vkui--color_background_positive_tint--hover, #DFF0E1)"},active:{name:"--vkui--color_background_positive_tint--active",value:"var(--vkui--color_background_positive_tint--active, #D5E6DA)"}},colorBackgroundWarning:{normal:{name:"--vkui--color_background_warning",value:"var(--vkui--color_background_warning, #FFF2D6)"},hover:{name:"--vkui--color_background_warning--hover",value:"var(--vkui--color_background_warning--hover, #F5E9D0)"},active:{name:"--vkui--color_background_warning--active",value:"var(--vkui--color_background_warning--active, #EBE0CA)"}},colorBackgroundNegative:{normal:{name:"--vkui--color_background_negative",value:"var(--vkui--color_background_negative, #e64646)"},hover:{name:"--vkui--color_background_negative--hover",value:"var(--vkui--color_background_negative--hover, #DD4446)"},active:{name:"--vkui--color_background_negative--active",value:"var(--vkui--color_background_negative--active, #D44245)"}},colorBackgroundNegativeTint:{normal:{name:"--vkui--color_background_negative_tint",value:"var(--vkui--color_background_negative_tint, #FFE9E9)"},hover:{name:"--vkui--color_background_negative_tint--hover",value:"var(--vkui--color_background_negative_tint--hover, #F5E0E2)"},active:{name:"--vkui--color_background_negative_tint--active",value:"var(--vkui--color_background_negative_tint--active, #EBD8DB)"}},colorBackgroundInfoTint:{normal:{name:"--vkui--color_background_info_tint",value:"var(--vkui--color_background_info_tint, #DEEEFF)"},hover:{name:"--vkui--color_background_info_tint--hover",value:"var(--vkui--color_background_info_tint--hover, #D5E5F7)"},active:{name:"--vkui--color_background_info_tint--active",value:"var(--vkui--color_background_info_tint--active, #CCDCEF)"}},colorFieldBackground:{normal:{name:"--vkui--color_field_background",value:"var(--vkui--color_field_background, #f2f3f5)"},hover:{name:"--vkui--color_field_background--hover",value:"var(--vkui--color_field_background--hover, #E8EAEE)"},active:{name:"--vkui--color_field_background--active",value:"var(--vkui--color_field_background--active, #DFE1E6)"}},colorHeaderBackground:{normal:{name:"--vkui--color_header_background",value:"var(--vkui--color_header_background, #ffffff)"},hover:{name:"--vkui--color_header_background--hover",value:"var(--vkui--color_header_background--hover, #F5F5F7)"},active:{name:"--vkui--color_header_background--active",value:"var(--vkui--color_header_background--active, #EBECEF)"}},colorTextAccent:{normal:{name:"--vkui--color_text_accent",value:"var(--vkui--color_text_accent, #2688eb)"},hover:{name:"--vkui--color_text_accent--hover",value:"var(--vkui--color_text_accent--hover, #2483E4)"},active:{name:"--vkui--color_text_accent--active",value:"var(--vkui--color_text_accent--active, #237EDD)"}},colorTextAccentThemed:{normal:{name:"--vkui--color_text_accent_themed",value:"var(--vkui--color_text_accent_themed, #2688eb)"},hover:{name:"--vkui--color_text_accent_themed--hover",value:"var(--vkui--color_text_accent_themed--hover, #2483E4)"},active:{name:"--vkui--color_text_accent_themed--active",value:"var(--vkui--color_text_accent_themed--active, #237EDD)"}},colorTextPrimary:{normal:{name:"--vkui--color_text_primary",value:"var(--vkui--color_text_primary, #000000)"},hover:{name:"--vkui--color_text_primary--hover",value:"var(--vkui--color_text_primary--hover, #000102)"},active:{name:"--vkui--color_text_primary--active",value:"var(--vkui--color_text_primary--active, #000105)"}},colorTextPrimaryAlpha:{normal:{name:"--vkui--color_text_primary_alpha",value:"var(--vkui--color_text_primary_alpha, rgba(37, 41, 46, 0.84))"},hover:{name:"--vkui--color_text_primary_alpha--hover",value:"var(--vkui--color_text_primary_alpha--hover, rgba(37, 41, 46, 0.88))"},active:{name:"--vkui--color_text_primary_alpha--active",value:"var(--vkui--color_text_primary_alpha--active, rgba(37, 41, 46, 0.92))"}},colorTextPrimaryInvariably:{normal:{name:"--vkui--color_text_primary_invariably",value:"var(--vkui--color_text_primary_invariably, #000000)"},hover:{name:"--vkui--color_text_primary_invariably--hover",value:"var(--vkui--color_text_primary_invariably--hover, #000102)"},active:{name:"--vkui--color_text_primary_invariably--active",value:"var(--vkui--color_text_primary_invariably--active, #000105)"}},colorTextSecondary:{normal:{name:"--vkui--color_text_secondary",value:"var(--vkui--color_text_secondary, #818c99)"},hover:{name:"--vkui--color_text_secondary--hover",value:"var(--vkui--color_text_secondary--hover, #7C8795)"},active:{name:"--vkui--color_text_secondary--active",value:"var(--vkui--color_text_secondary--active, #778292)"}},colorTextSecondaryAlpha:{normal:{name:"--vkui--color_text_secondary_alpha",value:"var(--vkui--color_text_secondary_alpha, rgba(37, 41, 46, 0.55))"},hover:{name:"--vkui--color_text_secondary_alpha--hover",value:"var(--vkui--color_text_secondary_alpha--hover, rgba(37, 41, 46, 0.59))"},active:{name:"--vkui--color_text_secondary_alpha--active",value:"var(--vkui--color_text_secondary_alpha--active, rgba(37, 41, 46, 0.63))"}},colorTextSubhead:{normal:{name:"--vkui--color_text_subhead",value:"var(--vkui--color_text_subhead, #6d7885)"},hover:{name:"--vkui--color_text_subhead--hover",value:"var(--vkui--color_text_subhead--hover, #697482)"},active:{name:"--vkui--color_text_subhead--active",value:"var(--vkui--color_text_subhead--active, #64707F)"}},colorTextTertiary:{normal:{name:"--vkui--color_text_tertiary",value:"var(--vkui--color_text_tertiary, #99a2ad)"},hover:{name:"--vkui--color_text_tertiary--hover",value:"var(--vkui--color_text_tertiary--hover, #939CA9)"},active:{name:"--vkui--color_text_tertiary--active",value:"var(--vkui--color_text_tertiary--active, #8D96A4)"}},colorTextContrast:{normal:{name:"--vkui--color_text_contrast",value:"var(--vkui--color_text_contrast, #ffffff)"},hover:{name:"--vkui--color_text_contrast--hover",value:"var(--vkui--color_text_contrast--hover, #F5F5F7)"},active:{name:"--vkui--color_text_contrast--active",value:"var(--vkui--color_text_contrast--active, #EBECEF)"}},colorTextContrastThemed:{normal:{name:"--vkui--color_text_contrast_themed",value:"var(--vkui--color_text_contrast_themed, #ffffff)"},hover:{name:"--vkui--color_text_contrast_themed--hover",value:"var(--vkui--color_text_contrast_themed--hover, #F5F5F7)"},active:{name:"--vkui--color_text_contrast_themed--active",value:"var(--vkui--color_text_contrast_themed--active, #EBECEF)"}},colorTextPositive:{normal:{name:"--vkui--color_text_positive",value:"var(--vkui--color_text_positive, #4bb34b)"},hover:{name:"--vkui--color_text_positive--hover",value:"var(--vkui--color_text_positive--hover, #48AC4A)"},active:{name:"--vkui--color_text_positive--active",value:"var(--vkui--color_text_positive--active, #45A64A)"}},colorTextNegative:{normal:{name:"--vkui--color_text_negative",value:"var(--vkui--color_text_negative, #e64646)"},hover:{name:"--vkui--color_text_negative--hover",value:"var(--vkui--color_text_negative--hover, #DD4446)"},active:{name:"--vkui--color_text_negative--active",value:"var(--vkui--color_text_negative--active, #D44245)"}},colorTextLink:{normal:{name:"--vkui--color_text_link",value:"var(--vkui--color_text_link, #2d81e0)"},hover:{name:"--vkui--color_text_link--hover",value:"var(--vkui--color_text_link--hover, #2B7CD9)"},active:{name:"--vkui--color_text_link--active",value:"var(--vkui--color_text_link--active, #2978D3)"}},colorTextLinkThemed:{normal:{name:"--vkui--color_text_link_themed",value:"var(--vkui--color_text_link_themed, #2d81e0)"},hover:{name:"--vkui--color_text_link_themed--hover",value:"var(--vkui--color_text_link_themed--hover, #2B7CD9)"},active:{name:"--vkui--color_text_link_themed--active",value:"var(--vkui--color_text_link_themed--active, #2978D3)"}},colorTextLinkTint:{normal:{name:"--vkui--color_text_link_tint",value:"var(--vkui--color_text_link_tint, #71aaeb)"},hover:{name:"--vkui--color_text_link_tint--hover",value:"var(--vkui--color_text_link_tint--hover, #6CA4E4)"},active:{name:"--vkui--color_text_link_tint--active",value:"var(--vkui--color_text_link_tint--active, #689EDD)"}},colorTextLinkVisited:{normal:{name:"--vkui--color_text_link_visited",value:"var(--vkui--color_text_link_visited, #4986cc)"},hover:{name:"--vkui--color_text_link_visited--hover",value:"var(--vkui--color_text_link_visited--hover, #4681C6)"},active:{name:"--vkui--color_text_link_visited--active",value:"var(--vkui--color_text_link_visited--active, #437DC1)"}},colorTextMuted:{normal:{name:"--vkui--color_text_muted",value:"var(--vkui--color_text_muted, #2c2d2e)"},hover:{name:"--vkui--color_text_muted--hover",value:"var(--vkui--color_text_muted--hover, #2A2C2F)"},active:{name:"--vkui--color_text_muted--active",value:"var(--vkui--color_text_muted--active, #282B2F)"}},colorLinkContrast:{normal:{name:"--vkui--color_link_contrast",value:"var(--vkui--color_link_contrast, #ffffff)"},hover:{name:"--vkui--color_link_contrast--hover",value:"var(--vkui--color_link_contrast--hover, #F5F5F7)"},active:{name:"--vkui--color_link_contrast--active",value:"var(--vkui--color_link_contrast--active, #EBECEF)"}},colorIconAccent:{normal:{name:"--vkui--color_icon_accent",value:"var(--vkui--color_icon_accent, #2688eb)"},hover:{name:"--vkui--color_icon_accent--hover",value:"var(--vkui--color_icon_accent--hover, #2483E4)"},active:{name:"--vkui--color_icon_accent--active",value:"var(--vkui--color_icon_accent--active, #237EDD)"}},colorIconAccentThemed:{normal:{name:"--vkui--color_icon_accent_themed",value:"var(--vkui--color_icon_accent_themed, #2688eb)"},hover:{name:"--vkui--color_icon_accent_themed--hover",value:"var(--vkui--color_icon_accent_themed--hover, #2483E4)"},active:{name:"--vkui--color_icon_accent_themed--active",value:"var(--vkui--color_icon_accent_themed--active, #237EDD)"}},colorIconPrimary:{normal:{name:"--vkui--color_icon_primary",value:"var(--vkui--color_icon_primary, #2c2d2e)"},hover:{name:"--vkui--color_icon_primary--hover",value:"var(--vkui--color_icon_primary--hover, #2A2C2F)"},active:{name:"--vkui--color_icon_primary--active",value:"var(--vkui--color_icon_primary--active, #282B2F)"}},colorIconPrimaryInvariably:{normal:{name:"--vkui--color_icon_primary_invariably",value:"var(--vkui--color_icon_primary_invariably, #2c2d2e)"},hover:{name:"--vkui--color_icon_primary_invariably--hover",value:"var(--vkui--color_icon_primary_invariably--hover, #2A2C2F)"},active:{name:"--vkui--color_icon_primary_invariably--active",value:"var(--vkui--color_icon_primary_invariably--active, #282B2F)"}},colorIconMedium:{normal:{name:"--vkui--color_icon_medium",value:"var(--vkui--color_icon_medium, #818c99)"},hover:{name:"--vkui--color_icon_medium--hover",value:"var(--vkui--color_icon_medium--hover, #7C8795)"},active:{name:"--vkui--color_icon_medium--active",value:"var(--vkui--color_icon_medium--active, #778292)"}},colorIconMediumAlpha:{normal:{name:"--vkui--color_icon_medium_alpha",value:"var(--vkui--color_icon_medium_alpha, rgba(0, 0, 0, 0.48))"},hover:{name:"--vkui--color_icon_medium_alpha--hover",value:"var(--vkui--color_icon_medium_alpha--hover, rgba(0, 0, 0, 0.52))"},active:{name:"--vkui--color_icon_medium_alpha--active",value:"var(--vkui--color_icon_medium_alpha--active, rgba(0, 0, 0, 0.56))"}},colorIconSecondary:{normal:{name:"--vkui--color_icon_secondary",value:"var(--vkui--color_icon_secondary, #99a2ad)"},hover:{name:"--vkui--color_icon_secondary--hover",value:"var(--vkui--color_icon_secondary--hover, #939CA9)"},active:{name:"--vkui--color_icon_secondary--active",value:"var(--vkui--color_icon_secondary--active, #8D96A4)"}},colorIconSecondaryAlpha:{normal:{name:"--vkui--color_icon_secondary_alpha",value:"var(--vkui--color_icon_secondary_alpha, rgba(0, 0, 0, 0.36))"},hover:{name:"--vkui--color_icon_secondary_alpha--hover",value:"var(--vkui--color_icon_secondary_alpha--hover, rgba(0, 0, 0, 0.4))"},active:{name:"--vkui--color_icon_secondary_alpha--active",value:"var(--vkui--color_icon_secondary_alpha--active, rgba(0, 0, 0, 0.44))"}},colorIconTertiary:{normal:{name:"--vkui--color_icon_tertiary",value:"var(--vkui--color_icon_tertiary, #b8c1cc)"},hover:{name:"--vkui--color_icon_tertiary--hover",value:"var(--vkui--color_icon_tertiary--hover, #B1BAC6)"},active:{name:"--vkui--color_icon_tertiary--active",value:"var(--vkui--color_icon_tertiary--active, #A9B3C1)"}},colorIconTertiaryAlpha:{normal:{name:"--vkui--color_icon_tertiary_alpha",value:"var(--vkui--color_icon_tertiary_alpha, rgba(0, 0, 0, 0.24))"},hover:{name:"--vkui--color_icon_tertiary_alpha--hover",value:"var(--vkui--color_icon_tertiary_alpha--hover, rgba(0, 0, 0, 0.28))"},active:{name:"--vkui--color_icon_tertiary_alpha--active",value:"var(--vkui--color_icon_tertiary_alpha--active, rgba(0, 0, 0, 0.32))"}},colorIconContrast:{normal:{name:"--vkui--color_icon_contrast",value:"var(--vkui--color_icon_contrast, #ffffff)"},hover:{name:"--vkui--color_icon_contrast--hover",value:"var(--vkui--color_icon_contrast--hover, #F5F5F7)"},active:{name:"--vkui--color_icon_contrast--active",value:"var(--vkui--color_icon_contrast--active, #EBECEF)"}},colorIconContrastThemed:{normal:{name:"--vkui--color_icon_contrast_themed",value:"var(--vkui--color_icon_contrast_themed, #ffffff)"},hover:{name:"--vkui--color_icon_contrast_themed--hover",value:"var(--vkui--color_icon_contrast_themed--hover, #F5F5F7)"},active:{name:"--vkui--color_icon_contrast_themed--active",value:"var(--vkui--color_icon_contrast_themed--active, #EBECEF)"}},colorIconContrastSecondary:{normal:{name:"--vkui--color_icon_contrast_secondary",value:"var(--vkui--color_icon_contrast_secondary, #f2f3f5)"},hover:{name:"--vkui--color_icon_contrast_secondary--hover",value:"var(--vkui--color_icon_contrast_secondary--hover, #E8EAEE)"},active:{name:"--vkui--color_icon_contrast_secondary--active",value:"var(--vkui--color_icon_contrast_secondary--active, #DFE1E6)"}},colorIconPositive:{normal:{name:"--vkui--color_icon_positive",value:"var(--vkui--color_icon_positive, #4bb34b)"},hover:{name:"--vkui--color_icon_positive--hover",value:"var(--vkui--color_icon_positive--hover, #48AC4A)"},active:{name:"--vkui--color_icon_positive--active",value:"var(--vkui--color_icon_positive--active, #45A64A)"}},colorIconWarning:{normal:{name:"--vkui--color_icon_warning",value:"var(--vkui--color_icon_warning, #F8A01C)"},hover:{name:"--vkui--color_icon_warning--hover",value:"var(--vkui--color_icon_warning--hover, #EE9A1D)"},active:{name:"--vkui--color_icon_warning--active",value:"var(--vkui--color_icon_warning--active, #E4941F)"}},colorIconNegative:{normal:{name:"--vkui--color_icon_negative",value:"var(--vkui--color_icon_negative, #e64646)"},hover:{name:"--vkui--color_icon_negative--hover",value:"var(--vkui--color_icon_negative--hover, #DD4446)"},active:{name:"--vkui--color_icon_negative--active",value:"var(--vkui--color_icon_negative--active, #D44245)"}},colorStrokeAccent:{normal:{name:"--vkui--color_stroke_accent",value:"var(--vkui--color_stroke_accent, #2688eb)"},hover:{name:"--vkui--color_stroke_accent--hover",value:"var(--vkui--color_stroke_accent--hover, #2483E4)"},active:{name:"--vkui--color_stroke_accent--active",value:"var(--vkui--color_stroke_accent--active, #237EDD)"}},colorStrokeAccentThemed:{normal:{name:"--vkui--color_stroke_accent_themed",value:"var(--vkui--color_stroke_accent_themed, #2688eb)"},hover:{name:"--vkui--color_stroke_accent_themed--hover",value:"var(--vkui--color_stroke_accent_themed--hover, #2483E4)"},active:{name:"--vkui--color_stroke_accent_themed--active",value:"var(--vkui--color_stroke_accent_themed--active, #237EDD)"}},colorSeparatorPrimary:{normal:{name:"--vkui--color_separator_primary",value:"var(--vkui--color_separator_primary, #d7d8d9)"},hover:{name:"--vkui--color_separator_primary--hover",value:"var(--vkui--color_separator_primary--hover, #CED0D3)"},active:{name:"--vkui--color_separator_primary--active",value:"var(--vkui--color_separator_primary--active, #C6C8CD)"}},colorSeparatorPrimary2x:{normal:{name:"--vkui--color_separator_primary2x",value:"var(--vkui--color_separator_primary2x, #cbcccd)"},hover:{name:"--vkui--color_separator_primary2x--hover",value:"var(--vkui--color_separator_primary2x--hover, #C3C4C7)"},active:{name:"--vkui--color_separator_primary2x--active",value:"var(--vkui--color_separator_primary2x--active, #BBBDC1)"}},colorSeparatorPrimary3x:{normal:{name:"--vkui--color_separator_primary3x",value:"var(--vkui--color_separator_primary3x, #bebfc1)"},hover:{name:"--vkui--color_separator_primary3x--hover",value:"var(--vkui--color_separator_primary3x--hover, #B6B8BC)"},active:{name:"--vkui--color_separator_primary3x--active",value:"var(--vkui--color_separator_primary3x--active, #AFB1B6)"}},colorSeparatorPrimaryAlpha:{normal:{name:"--vkui--color_separator_primary_alpha",value:"var(--vkui--color_separator_primary_alpha, rgba(0, 0, 0, 0.12))"},hover:{name:"--vkui--color_separator_primary_alpha--hover",value:"var(--vkui--color_separator_primary_alpha--hover, rgba(0, 0, 0, 0.16))"},active:{name:"--vkui--color_separator_primary_alpha--active",value:"var(--vkui--color_separator_primary_alpha--active, rgba(0, 0, 0, 0.2))"}},colorSeparatorSecondary:{normal:{name:"--vkui--color_separator_secondary",value:"var(--vkui--color_separator_secondary, #e1e3e6)"},hover:{name:"--vkui--color_separator_secondary--hover",value:"var(--vkui--color_separator_secondary--hover, #D8DBDF)"},active:{name:"--vkui--color_separator_secondary--active",value:"var(--vkui--color_separator_secondary--active, #CFD2D8)"}},colorStrokePositive:{normal:{name:"--vkui--color_stroke_positive",value:"var(--vkui--color_stroke_positive, #4bb34b)"},hover:{name:"--vkui--color_stroke_positive--hover",value:"var(--vkui--color_stroke_positive--hover, #48AC4A)"},active:{name:"--vkui--color_stroke_positive--active",value:"var(--vkui--color_stroke_positive--active, #45A64A)"}},colorStrokeNegative:{normal:{name:"--vkui--color_stroke_negative",value:"var(--vkui--color_stroke_negative, #e64646)"},hover:{name:"--vkui--color_stroke_negative--hover",value:"var(--vkui--color_stroke_negative--hover, #DD4446)"},active:{name:"--vkui--color_stroke_negative--active",value:"var(--vkui--color_stroke_negative--active, #D44245)"}},colorStrokeContrast:{normal:{name:"--vkui--color_stroke_contrast",value:"var(--vkui--color_stroke_contrast, #ffffff)"},hover:{name:"--vkui--color_stroke_contrast--hover",value:"var(--vkui--color_stroke_contrast--hover, #F5F5F7)"},active:{name:"--vkui--color_stroke_contrast--active",value:"var(--vkui--color_stroke_contrast--active, #EBECEF)"}},colorStrokePrimary:{normal:{name:"--vkui--color_stroke_primary",value:"var(--vkui--color_stroke_primary, #2C2D2E)"},hover:{name:"--vkui--color_stroke_primary--hover",value:"var(--vkui--color_stroke_primary--hover, #2A2C2F)"},active:{name:"--vkui--color_stroke_primary--active",value:"var(--vkui--color_stroke_primary--active, #282B2F)"}},colorImageBorderAlpha:{normal:{name:"--vkui--color_image_border_alpha",value:"var(--vkui--color_image_border_alpha, rgba(0, 0, 0, 0.08))"},hover:{name:"--vkui--color_image_border_alpha--hover",value:"var(--vkui--color_image_border_alpha--hover, rgba(0, 0, 0, 0.12))"},active:{name:"--vkui--color_image_border_alpha--active",value:"var(--vkui--color_image_border_alpha--active, rgba(0, 0, 0, 0.16))"}},colorFieldBorderAlpha:{normal:{name:"--vkui--color_field_border_alpha",value:"var(--vkui--color_field_border_alpha, rgba(0, 0, 0, 0.12))"},hover:{name:"--vkui--color_field_border_alpha--hover",value:"var(--vkui--color_field_border_alpha--hover, rgba(0, 0, 0, 0.24))"},active:{name:"--vkui--color_field_border_alpha--active",value:"var(--vkui--color_field_border_alpha--active, rgba(0, 0, 0, 0.36))"}},colorAccentBlue:{normal:{name:"--vkui--color_accent_blue",value:"var(--vkui--color_accent_blue, #2688eb)"},hover:{name:"--vkui--color_accent_blue--hover",value:"var(--vkui--color_accent_blue--hover, #2483E4)"},active:{name:"--vkui--color_accent_blue--active",value:"var(--vkui--color_accent_blue--active, #237EDD)"}},colorAccentGray:{normal:{name:"--vkui--color_accent_gray",value:"var(--vkui--color_accent_gray, #a3adb8)"},hover:{name:"--vkui--color_accent_gray--hover",value:"var(--vkui--color_accent_gray--hover, #9CA7B3)"},active:{name:"--vkui--color_accent_gray--active",value:"var(--vkui--color_accent_gray--active, #96A0AE)"}},colorAccentRed:{normal:{name:"--vkui--color_accent_red",value:"var(--vkui--color_accent_red, #ff3347)"},hover:{name:"--vkui--color_accent_red--hover",value:"var(--vkui--color_accent_red--hover, #F53247)"},active:{name:"--vkui--color_accent_red--active",value:"var(--vkui--color_accent_red--active, #EB3046)"}},colorAccentOrangeFire:{normal:{name:"--vkui--color_accent_orange_fire",value:"var(--vkui--color_accent_orange_fire, #f05c44)"},hover:{name:"--vkui--color_accent_orange_fire--hover",value:"var(--vkui--color_accent_orange_fire--hover, #E65944)"},active:{name:"--vkui--color_accent_orange_fire--active",value:"var(--vkui--color_accent_orange_fire--active, #DD5643)"}},colorAccentOrange:{normal:{name:"--vkui--color_accent_orange",value:"var(--vkui--color_accent_orange, #ffa000)"},hover:{name:"--vkui--color_accent_orange--hover",value:"var(--vkui--color_accent_orange--hover, #F59A02)"},active:{name:"--vkui--color_accent_orange--active",value:"var(--vkui--color_accent_orange--active, #EB9405)"}},colorAccentOrangePeach:{normal:{name:"--vkui--color_accent_orange_peach",value:"var(--vkui--color_accent_orange_peach, #F9B54F)"},hover:{name:"--vkui--color_accent_orange_peach--hover",value:"var(--vkui--color_accent_orange_peach--hover, #EFAE4E)"},active:{name:"--vkui--color_accent_orange_peach--active",value:"var(--vkui--color_accent_orange_peach--active, #E5A84E)"}},colorAccentLime:{normal:{name:"--vkui--color_accent_lime",value:"var(--vkui--color_accent_lime, #AFF70D)"},hover:{name:"--vkui--color_accent_lime--hover",value:"var(--vkui--color_accent_lime--hover, #A8EE0F)"},active:{name:"--vkui--color_accent_lime--active",value:"var(--vkui--color_accent_lime--active, #A1E511)"}},colorAccentGreen:{normal:{name:"--vkui--color_accent_green",value:"var(--vkui--color_accent_green, #4bb34b)"},hover:{name:"--vkui--color_accent_green--hover",value:"var(--vkui--color_accent_green--hover, #48AC4A)"},active:{name:"--vkui--color_accent_green--active",value:"var(--vkui--color_accent_green--active, #45A64A)"}},colorAccentCyan:{normal:{name:"--vkui--color_accent_cyan",value:"var(--vkui--color_accent_cyan, #13FFD0)"},hover:{name:"--vkui--color_accent_cyan--hover",value:"var(--vkui--color_accent_cyan--hover, #12F5CA)"},active:{name:"--vkui--color_accent_cyan--active",value:"var(--vkui--color_accent_cyan--active, #11ECC4)"}},colorAccentAzure:{normal:{name:"--vkui--color_accent_azure",value:"var(--vkui--color_accent_azure, #0077FF)"},hover:{name:"--vkui--color_accent_azure--hover",value:"var(--vkui--color_accent_azure--hover, #0073F7)"},active:{name:"--vkui--color_accent_azure--active",value:"var(--vkui--color_accent_azure--active, #006FEF)"}},colorAccentPurple:{normal:{name:"--vkui--color_accent_purple",value:"var(--vkui--color_accent_purple, #735ce6)"},hover:{name:"--vkui--color_accent_purple--hover",value:"var(--vkui--color_accent_purple--hover, #6E59DF)"},active:{name:"--vkui--color_accent_purple--active",value:"var(--vkui--color_accent_purple--active, #6A56D8)"}},colorAccentViolet:{normal:{name:"--vkui--color_accent_violet",value:"var(--vkui--color_accent_violet, #792ec0)"},hover:{name:"--vkui--color_accent_violet--hover",value:"var(--vkui--color_accent_violet--hover, #742DBB)"},active:{name:"--vkui--color_accent_violet--active",value:"var(--vkui--color_accent_violet--active, #6F2CB6)"}},colorAccentRaspberryPink:{normal:{name:"--vkui--color_accent_raspberry_pink",value:"var(--vkui--color_accent_raspberry_pink, #e03fab)"},hover:{name:"--vkui--color_accent_raspberry_pink--hover",value:"var(--vkui--color_accent_raspberry_pink--hover, #D73DA7)"},active:{name:"--vkui--color_accent_raspberry_pink--active",value:"var(--vkui--color_accent_raspberry_pink--active, #CE3BA2)"}},colorAccentPink:{normal:{name:"--vkui--color_accent_pink",value:"var(--vkui--color_accent_pink, #F45FFF)"},hover:{name:"--vkui--color_accent_pink--hover",value:"var(--vkui--color_accent_pink--hover, #EA5CF7)"},active:{name:"--vkui--color_accent_pink--active",value:"var(--vkui--color_accent_pink--active, #E059EF)"}},colorAccentSecondary:{normal:{name:"--vkui--color_accent_secondary",value:"var(--vkui--color_accent_secondary, #3f8ae0)"},hover:{name:"--vkui--color_accent_secondary--hover",value:"var(--vkui--color_accent_secondary--hover, #3C85D9)"},active:{name:"--vkui--color_accent_secondary--active",value:"var(--vkui--color_accent_secondary--active, #3A80D3)"}},colorOverlayPrimary:{normal:{name:"--vkui--color_overlay_primary",value:"var(--vkui--color_overlay_primary, rgba(0, 0, 0, 0.40))"},hover:{name:"--vkui--color_overlay_primary--hover",value:"var(--vkui--color_overlay_primary--hover, rgba(0, 0, 0, 0.44))"},active:{name:"--vkui--color_overlay_primary--active",value:"var(--vkui--color_overlay_primary--active, rgba(0, 0, 0, 0.48))"}},colorOverlaySecondary:{normal:{name:"--vkui--color_overlay_secondary",value:"var(--vkui--color_overlay_secondary, rgba(0, 0, 0, 0.27))"},hover:{name:"--vkui--color_overlay_secondary--hover",value:"var(--vkui--color_overlay_secondary--hover, rgba(0, 0, 0, 0.31))"},active:{name:"--vkui--color_overlay_secondary--active",value:"var(--vkui--color_overlay_secondary--active, rgba(0, 0, 0, 0.35))"}},colorAvatarOverlay:{normal:{name:"--vkui--color_avatar_overlay",value:"var(--vkui--color_avatar_overlay, rgba(0, 0, 0, 0.60))"},hover:{name:"--vkui--color_avatar_overlay--hover",value:"var(--vkui--color_avatar_overlay--hover, rgba(0, 0, 0, 0.64))"},active:{name:"--vkui--color_avatar_overlay--active",value:"var(--vkui--color_avatar_overlay--active, rgba(0, 0, 0, 0.68))"}},colorAvatarOverlayInverseAlpha:{normal:{name:"--vkui--color_avatar_overlay_inverse_alpha",value:"var(--vkui--color_avatar_overlay_inverse_alpha, rgba(255, 255, 255, 0.85))"},hover:{name:"--vkui--color_avatar_overlay_inverse_alpha--hover",value:"var(--vkui--color_avatar_overlay_inverse_alpha--hover, rgba(255, 255, 255, 0.89))"},active:{name:"--vkui--color_avatar_overlay_inverse_alpha--active",value:"var(--vkui--color_avatar_overlay_inverse_alpha--active, rgba(255, 255, 255, 0.93))"}},colorActionSheetText:{normal:{name:"--vkui--color_action_sheet_text",value:"var(--vkui--color_action_sheet_text, #3f8ae0)"},hover:{name:"--vkui--color_action_sheet_text--hover",value:"var(--vkui--color_action_sheet_text--hover, #3C85D9)"},active:{name:"--vkui--color_action_sheet_text--active",value:"var(--vkui--color_action_sheet_text--active, #3A80D3)"}},colorImagePlaceholder:{normal:{name:"--vkui--color_image_placeholder",value:"var(--vkui--color_image_placeholder, #f2f3f5)"},hover:{name:"--vkui--color_image_placeholder--hover",value:"var(--vkui--color_image_placeholder--hover, #E8EAEE)"},active:{name:"--vkui--color_image_placeholder--active",value:"var(--vkui--color_image_placeholder--active, #DFE1E6)"}},colorImagePlaceholderAlpha:{normal:{name:"--vkui--color_image_placeholder_alpha",value:"var(--vkui--color_image_placeholder_alpha, rgba(0, 28, 61, 0.08))"},hover:{name:"--vkui--color_image_placeholder_alpha--hover",value:"var(--vkui--color_image_placeholder_alpha--hover, rgba(0, 28, 61, 0.12))"},active:{name:"--vkui--color_image_placeholder_alpha--active",value:"var(--vkui--color_image_placeholder_alpha--active, rgba(0, 28, 61, 0.16))"}},colorSkeletonFrom:{normal:{name:"--vkui--color_skeleton_from",value:"var(--vkui--color_skeleton_from, #f5f5f5)"},hover:{name:"--vkui--color_skeleton_from--hover",value:"var(--vkui--color_skeleton_from--hover, #EBECEE)"},active:{name:"--vkui--color_skeleton_from--active",value:"var(--vkui--color_skeleton_from--active, #E1E3E6)"}},colorSkeletonTo:{normal:{name:"--vkui--color_skeleton_to",value:"var(--vkui--color_skeleton_to, #e1e3e6)"},hover:{name:"--vkui--color_skeleton_to--hover",value:"var(--vkui--color_skeleton_to--hover, #D8DBDF)"},active:{name:"--vkui--color_skeleton_to--active",value:"var(--vkui--color_skeleton_to--active, #CFD2D8)"}},colorButtonText:{normal:{name:"--vkui--color_button_text",value:"var(--vkui--color_button_text, #2688eb)"},hover:{name:"--vkui--color_button_text--hover",value:"var(--vkui--color_button_text--hover, #2483E4)"},active:{name:"--vkui--color_button_text--active",value:"var(--vkui--color_button_text--active, #237EDD)"}},colorButtonIcon:{normal:{name:"--vkui--color_button_icon",value:"var(--vkui--color_button_icon, #2688eb)"},hover:{name:"--vkui--color_button_icon--hover",value:"var(--vkui--color_button_icon--hover, #2483E4)"},active:{name:"--vkui--color_button_icon--active",value:"var(--vkui--color_button_icon--active, #237EDD)"}},colorButtonStroke:{normal:{name:"--vkui--color_button_stroke",value:"var(--vkui--color_button_stroke, #2688eb)"},hover:{name:"--vkui--color_button_stroke--hover",value:"var(--vkui--color_button_stroke--hover, #2483E4)"},active:{name:"--vkui--color_button_stroke--active",value:"var(--vkui--color_button_stroke--active, #237EDD)"}},colorWriteBarIcon:{normal:{name:"--vkui--color_write_bar_icon",value:"var(--vkui--color_write_bar_icon, #3f8ae0)"},hover:{name:"--vkui--color_write_bar_icon--hover",value:"var(--vkui--color_write_bar_icon--hover, #3C85D9)"},active:{name:"--vkui--color_write_bar_icon--active",value:"var(--vkui--color_write_bar_icon--active, #3A80D3)"}},colorWriteBarInputBackground:{normal:{name:"--vkui--color_write_bar_input_background",value:"var(--vkui--color_write_bar_input_background, #f2f3f5)"},hover:{name:"--vkui--color_write_bar_input_background--hover",value:"var(--vkui--color_write_bar_input_background--hover, #E8EAEE)"},active:{name:"--vkui--color_write_bar_input_background--active",value:"var(--vkui--color_write_bar_input_background--active, #DFE1E6)"}},colorWriteBarInputBorder:{normal:{name:"--vkui--color_write_bar_input_border",value:"var(--vkui--color_write_bar_input_border, #e1e3e6)"},hover:{name:"--vkui--color_write_bar_input_border--hover",value:"var(--vkui--color_write_bar_input_border--hover, #D8DBDF)"},active:{name:"--vkui--color_write_bar_input_border--active",value:"var(--vkui--color_write_bar_input_border--active, #CFD2D8)"}},colorWriteBarInputBorderAlpha:{normal:{name:"--vkui--color_write_bar_input_border_alpha",value:"var(--vkui--color_write_bar_input_border_alpha, rgba(0, 0, 0, 0.08))"},hover:{name:"--vkui--color_write_bar_input_border_alpha--hover",value:"var(--vkui--color_write_bar_input_border_alpha--hover, rgba(0, 0, 0, 0.12))"},active:{name:"--vkui--color_write_bar_input_border_alpha--active",value:"var(--vkui--color_write_bar_input_border_alpha--active, rgba(0, 0, 0, 0.16))"}},colorTrackBackground:{normal:{name:"--vkui--color_track_background",value:"var(--vkui--color_track_background, #e1e3e6)"},hover:{name:"--vkui--color_track_background--hover",value:"var(--vkui--color_track_background--hover, #D8DBDF)"},active:{name:"--vkui--color_track_background--active",value:"var(--vkui--color_track_background--active, #CFD2D8)"}},colorTrackBuffer:{normal:{name:"--vkui--color_track_buffer",value:"var(--vkui--color_track_buffer, #a0bfe4)"},hover:{name:"--vkui--color_track_buffer--hover",value:"var(--vkui--color_track_buffer--hover, #9AB8DD)"},active:{name:"--vkui--color_track_buffer--active",value:"var(--vkui--color_track_buffer--active, #93B1D7)"}},colorSearchFieldBackground:{normal:{name:"--vkui--color_search_field_background",value:"var(--vkui--color_search_field_background, #ebedf0)"},hover:{name:"--vkui--color_search_field_background--hover",value:"var(--vkui--color_search_field_background--hover, #E2E4E9)"},active:{name:"--vkui--color_search_field_background--active",value:"var(--vkui--color_search_field_background--active, #D8DBE2)"}},colorPanelHeaderIcon:{normal:{name:"--vkui--color_panel_header_icon",value:"var(--vkui--color_panel_header_icon, #2688eb)"},hover:{name:"--vkui--color_panel_header_icon--hover",value:"var(--vkui--color_panel_header_icon--hover, #2483E4)"},active:{name:"--vkui--color_panel_header_icon--active",value:"var(--vkui--color_panel_header_icon--active, #237EDD)"}},colorSegmentedControl:{normal:{name:"--vkui--color_segmented_control",value:"var(--vkui--color_segmented_control, #ffffff)"},hover:{name:"--vkui--color_segmented_control--hover",value:"var(--vkui--color_segmented_control--hover, #F5F5F7)"},active:{name:"--vkui--color_segmented_control--active",value:"var(--vkui--color_segmented_control--active, #EBECEF)"}},colorTabbarTextInactive:{normal:{name:"--vkui--color_tabbar_text_inactive",value:"var(--vkui--color_tabbar_text_inactive, #99a2ad)"},hover:{name:"--vkui--color_tabbar_text_inactive--hover",value:"var(--vkui--color_tabbar_text_inactive--hover, #939CA9)"},active:{name:"--vkui--color_tabbar_text_inactive--active",value:"var(--vkui--color_tabbar_text_inactive--active, #8D96A4)"}},colorTransparent:{normal:{name:"--vkui--color_transparent",value:"var(--vkui--color_transparent, transparent)"},hover:{name:"--vkui--color_transparent--hover",value:"var(--vkui--color_transparent--hover, rgba(0, 16, 61, 0.04))"},active:{name:"--vkui--color_transparent--active",value:"var(--vkui--color_transparent--active, rgba(0, 16, 61, 0.08))"}},themeType:"cssVars"}},530454:e=>{"use strict";var t="%[a-f0-9]{2}",r=new RegExp("("+t+")|([^%]+?)","gi"),n=new RegExp("("+t+")+","gi");function a(e,t){try{return[decodeURIComponent(e.join(""))]}catch(e){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],a(r),a(n))}function s(e){try{return decodeURIComponent(e)}catch(s){for(var t=e.match(r)||[],n=1;n<t.length;n++)t=(e=a(t,n).join("")).match(r)||[];return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},r=n.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(e){var a=s(r[0]);a!==r[0]&&(t[r[0]]=a)}r=n.exec(e)}t["%C2"]="�";for(var _=Object.keys(t),c=0;c<_.length;c++){var l=_[c];e=e.replace(new RegExp(l,"g"),t[l])}return e}(e)}}},473055:e=>{"use strict";e.exports=function(e,t){for(var r={},n=Object.keys(e),a=Array.isArray(t),s=0;s<n.length;s++){var _=n[s],c=e[_];(a?-1!==t.indexOf(_):t(_,c,e))&&(r[_]=c)}return r}},515037:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n={root:"SpecialProjectHeader__root--l5iD3",singleImage:"SpecialProjectHeader__singleImage--cIeyU"}},709241:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n={root:"renderAvatarToString__root--RZJW5"}},905867:(e,t,r)=>{"use strict";function n(e,t){void 0===t&&(t={});for(var r=function(e){for(var t=[],r=0;r<e.length;){var n=e[r];if("*"!==n&&"+"!==n&&"?"!==n)if("\\"!==n)if("{"!==n)if("}"!==n)if(":"!==n)if("("!==n)t.push({type:"CHAR",index:r,value:e[r++]});else{var a=1,s="";if("?"===e[c=r+1])throw new TypeError('Pattern cannot start with "?" at '.concat(c));for(;c<e.length;)if("\\"!==e[c]){if(")"===e[c]){if(0==--a){c++;break}}else if("("===e[c]&&(a++,"?"!==e[c+1]))throw new TypeError("Capturing groups are not allowed at ".concat(c));s+=e[c++]}else s+=e[c++]+e[c++];if(a)throw new TypeError("Unbalanced pattern at ".concat(r));if(!s)throw new TypeError("Missing pattern at ".concat(r));t.push({type:"PATTERN",index:r,value:s}),r=c}else{for(var _="",c=r+1;c<e.length;){var l=e.charCodeAt(c);if(!(l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||95===l))break;_+=e[c++]}if(!_)throw new TypeError("Missing parameter name at ".concat(r));t.push({type:"NAME",index:r,value:_}),r=c}else t.push({type:"CLOSE",index:r,value:e[r++]});else t.push({type:"OPEN",index:r,value:e[r++]});else t.push({type:"ESCAPED_CHAR",index:r++,value:e[r++]});else t.push({type:"MODIFIER",index:r,value:e[r++]})}return t.push({type:"END",index:r,value:""}),t}(e),n=t.prefixes,a=void 0===n?"./":n,_="[^".concat(s(t.delimiter||"/#?"),"]+?"),c=[],l=0,u=0,d="",p=function(e){if(u<r.length&&r[u].type===e)return r[u++].value},E=function(e){var t=p(e);if(void 0!==t)return t;var n=r[u],a=n.type,s=n.index;throw new TypeError("Unexpected ".concat(a," at ").concat(s,", expected ").concat(e))},m=function(){for(var e,t="";e=p("CHAR")||p("ESCAPED_CHAR");)t+=e;return t};u<r.length;){var g=p("CHAR"),A=p("NAME"),f=p("PATTERN");if(A||f){var I=g||"";-1===a.indexOf(I)&&(d+=I,I=""),d&&(c.push(d),d=""),c.push({name:A||l++,prefix:I,suffix:"",pattern:f||_,modifier:p("MODIFIER")||""})}else{var y=g||p("ESCAPED_CHAR");if(y)d+=y;else if(d&&(c.push(d),d=""),p("OPEN")){I=m();var R=p("NAME")||"",O=p("PATTERN")||"",S=m();E("CLOSE"),c.push({name:R||(O?l++:""),pattern:R&&!O?_:O,prefix:I,suffix:S,modifier:p("MODIFIER")||""})}else E("END")}}return c}function a(e,t){return function(e,t){void 0===t&&(t={});var r=_(t),n=t.encode,a=void 0===n?function(e){return e}:n,s=t.validate,c=void 0===s||s,l=e.map((function(e){if("object"==typeof e)return new RegExp("^(?:".concat(e.pattern,")$"),r)}));return function(t){for(var r="",n=0;n<e.length;n++){var s=e[n];if("string"!=typeof s){var _=t?t[s.name]:void 0,u="?"===s.modifier||"*"===s.modifier,d="*"===s.modifier||"+"===s.modifier;if(Array.isArray(_)){if(!d)throw new TypeError('Expected "'.concat(s.name,'" to not repeat, but got an array'));if(0===_.length){if(u)continue;throw new TypeError('Expected "'.concat(s.name,'" to not be empty'))}for(var p=0;p<_.length;p++){var E=a(_[p],s);if(c&&!l[n].test(E))throw new TypeError('Expected all "'.concat(s.name,'" to match "').concat(s.pattern,'", but got "').concat(E,'"'));r+=s.prefix+E+s.suffix}}else if("string"!=typeof _&&"number"!=typeof _){if(!u){var m=d?"an array":"a string";throw new TypeError('Expected "'.concat(s.name,'" to be ').concat(m))}}else{E=a(String(_),s);if(c&&!l[n].test(E))throw new TypeError('Expected "'.concat(s.name,'" to match "').concat(s.pattern,'", but got "').concat(E,'"'));r+=s.prefix+E+s.suffix}}else r+=s}return r}}(n(e,t),t)}function s(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function _(e){return e&&e.sensitive?"":"i"}function c(e,t,r){return function(e,t,r){void 0===r&&(r={});for(var n=r.strict,a=void 0!==n&&n,c=r.start,l=void 0===c||c,u=r.end,d=void 0===u||u,p=r.encode,E=void 0===p?function(e){return e}:p,m=r.delimiter,g=void 0===m?"/#?":m,A=r.endsWith,f="[".concat(s(void 0===A?"":A),"]|$"),I="[".concat(s(g),"]"),y=l?"^":"",R=0,O=e;R<O.length;R++){var S=O[R];if("string"==typeof S)y+=s(E(S));else{var T=s(E(S.prefix)),P=s(E(S.suffix));if(S.pattern)if(t&&t.push(S),T||P)if("+"===S.modifier||"*"===S.modifier){var b="*"===S.modifier?"?":"";y+="(?:".concat(T,"((?:").concat(S.pattern,")(?:").concat(P).concat(T,"(?:").concat(S.pattern,"))*)").concat(P,")").concat(b)}else y+="(?:".concat(T,"(").concat(S.pattern,")").concat(P,")").concat(S.modifier);else"+"===S.modifier||"*"===S.modifier?y+="((?:".concat(S.pattern,")").concat(S.modifier,")"):y+="(".concat(S.pattern,")").concat(S.modifier);else y+="(?:".concat(T).concat(P,")").concat(S.modifier)}}if(d)a||(y+="".concat(I,"?")),y+=r.endsWith?"(?=".concat(f,")"):"$";else{var C=e[e.length-1],D="string"==typeof C?I.indexOf(C[C.length-1])>-1:void 0===C;a||(y+="(?:".concat(I,"(?=").concat(f,"))?")),D||(y+="(?=".concat(I,"|").concat(f,")"))}return new RegExp(y,_(r))}(n(e,r),t,r)}function l(e,t,r){return e instanceof RegExp?function(e,t){if(!t)return e;for(var r=/\((?:\?<(.*?)>)?(?!\?)/g,n=0,a=r.exec(e.source);a;)t.push({name:a[1]||n++,prefix:"",suffix:"",modifier:"",pattern:""}),a=r.exec(e.source);return e}(e,t):Array.isArray(e)?function(e,t,r){var n=e.map((function(e){return l(e,t,r).source}));return new RegExp("(?:".concat(n.join("|"),")"),_(r))}(e,t,r):c(e,t,r)}r.d(t,{compile:()=>a,pathToRegexp:()=>l})},686663:(e,t,r)=>{"use strict";const n=r(594470),a=r(530454),s=r(300528),_=r(473055),c=Symbol("encodeFragmentIdentifier");function l(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function u(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function d(e,t){return t.decode?a(e):e}function p(e){return Array.isArray(e)?e.sort():"object"==typeof e?p(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function E(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function m(e){const t=(e=E(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function g(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function A(e,t){l((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,n)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return(e,r,n)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"colon-list-separator":return(e,r,n)=>{t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"comma":case"separator":return(t,r,n)=>{const a="string"==typeof r&&r.includes(e.arrayFormatSeparator),s="string"==typeof r&&!a&&d(r,e).includes(e.arrayFormatSeparator);r=s?d(r,e):r;const _=a||s?r.split(e.arrayFormatSeparator).map((t=>d(t,e))):null===r?r:d(r,e);n[t]=_};case"bracket-separator":return(t,r,n)=>{const a=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!a)return void(n[t]=r?d(r,e):r);const s=null===r?[]:r.split(e.arrayFormatSeparator).map((t=>d(t,e)));void 0!==n[t]?n[t]=[].concat(n[t],s):n[t]=s};default:return(e,t,r)=>{void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t),n=Object.create(null);if("string"!=typeof e)return n;if(!(e=e.trim().replace(/^[?#&]/,"")))return n;for(const a of e.split("&")){if(""===a)continue;let[e,_]=s(t.decode?a.replace(/\+/g," "):a,"=");_=void 0===_?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?_:d(_,t),r(d(e,t),_,n)}for(const e of Object.keys(n)){const r=n[e];if("object"==typeof r&&null!==r)for(const e of Object.keys(r))r[e]=g(r[e],t);else n[e]=g(r,t)}return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce(((e,t)=>{const r=n[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=p(r):e[t]=r,e}),Object.create(null))}t.extract=m,t.parse=A,t.stringify=(e,t)=>{if(!e)return"";l((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const r=r=>t.skipNull&&null==e[r]||t.skipEmptyString&&""===e[r],n=function(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{const a=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[u(t,e),"[",a,"]"].join("")]:[...r,[u(t,e),"[",u(a,e),"]=",u(n,e)].join("")]};case"bracket":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[u(t,e),"[]"].join("")]:[...r,[u(t,e),"[]=",u(n,e)].join("")];case"colon-list-separator":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[u(t,e),":list="].join("")]:[...r,[u(t,e),":list=",u(n,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t="bracket-separator"===e.arrayFormat?"[]=":"=";return r=>(n,a)=>void 0===a||e.skipNull&&null===a||e.skipEmptyString&&""===a?n:(a=null===a?"":a,0===n.length?[[u(r,e),t,u(a,e)].join("")]:[[n,u(a,e)].join(e.arrayFormatSeparator)])}default:return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,u(t,e)]:[...r,[u(t,e),"=",u(n,e)].join("")]}}(t),a={};for(const t of Object.keys(e))r(t)||(a[t]=e[t]);const s=Object.keys(a);return!1!==t.sort&&s.sort(t.sort),s.map((r=>{const a=e[r];return void 0===a?"":null===a?u(r,t):Array.isArray(a)?0===a.length&&"bracket-separator"===t.arrayFormat?u(r,t)+"[]":a.reduce(n(r),[]).join("&"):u(r,t)+"="+u(a,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[r,n]=s(e,"#");return Object.assign({url:r.split("?")[0]||"",query:A(m(e),t)},t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:d(n,t)}:{})},t.stringifyUrl=(e,r)=>{r=Object.assign({encode:!0,strict:!0,[c]:!0},r);const n=E(e.url).split("?")[0]||"",a=t.extract(e.url),s=t.parse(a,{sort:!1}),_=Object.assign(s,e.query);let l=t.stringify(_,r);l&&(l=`?${l}`);let d=function(e){let t="";const r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}(e.url);return e.fragmentIdentifier&&(d=`#${r[c]?u(e.fragmentIdentifier,r):e.fragmentIdentifier}`),`${n}${l}${d}`},t.pick=(e,r,n)=>{n=Object.assign({parseFragmentIdentifier:!0,[c]:!1},n);const{url:a,query:s,fragmentIdentifier:l}=t.parseUrl(e,n);return t.stringifyUrl({url:a,query:_(s,r),fragmentIdentifier:l},n)},t.exclude=(e,r,n)=>{const a=Array.isArray(r)?e=>!r.includes(e):(e,t)=>!r(e,t);return t.pick(e,a,n)}},594470:e=>{"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},300528:e=>{"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}},401063:(e,t,r)=>{"use strict";var n=r(296540);var a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=n.useState,_=n.useEffect,c=n.useLayoutEffect,l=n.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!a(e,r)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=s({inst:{value:r,getSnapshot:t}}),a=n[0].inst,d=n[1];return c((function(){a.value=r,a.getSnapshot=t,u(a)&&d({inst:a})}),[e,r,t]),_((function(){return u(a)&&d({inst:a}),e((function(){u(a)&&d({inst:a})}))}),[e]),l(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:d},788940:(e,t,r)=>{"use strict";var n=r(296540),a=r(19888);var s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},_=a.useSyncExternalStore,c=n.useRef,l=n.useEffect,u=n.useMemo,d=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var p=c(null);if(null===p.current){var E={hasValue:!1,value:null};p.current=E}else E=p.current;p=u((function(){function e(e){if(!l){if(l=!0,_=e,e=n(e),void 0!==a&&E.hasValue){var t=E.value;if(a(t,e))return c=t}return c=e}if(t=c,s(_,e))return t;var r=n(e);return void 0!==a&&a(t,r)?t:(_=e,c=r)}var _,c,l=!1,u=void 0===r?null:r;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,r,n,a]);var m=_(e,p[0],p[1]);return l((function(){E.hasValue=!0,E.value=m}),[m]),d(m),m}},19888:(e,t,r)=>{"use strict";e.exports=r(401063)},69242:(e,t,r)=>{"use strict";e.exports=r(788940)},391943:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)}},913469:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},543407:(e,t,r)=>{"use strict";let n;r.d(t,{default:()=>s});const a=new Uint8Array(16);function s(){if(!n&&(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!n))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(a)}},338823:(e,t,r)=>{"use strict";r.d(t,{unsafeStringify:()=>a});r(766382);const n=[];for(let e=0;e<256;++e)n.push((e+256).toString(16).slice(1));function a(e,t=0){return(n[e[t+0]]+n[e[t+1]]+n[e[t+2]]+n[e[t+3]]+"-"+n[e[t+4]]+n[e[t+5]]+"-"+n[e[t+6]]+n[e[t+7]]+"-"+n[e[t+8]]+n[e[t+9]]+"-"+n[e[t+10]]+n[e[t+11]]+n[e[t+12]]+n[e[t+13]]+n[e[t+14]]+n[e[t+15]]).toLowerCase()}},418562:(e,t,r)=>{"use strict";r.d(t,{default:()=>_});var n=r(391943),a=r(543407),s=r(338823);const _=function(e,t,r){if(n.default.randomUUID&&!t&&!e)return n.default.randomUUID();const _=(e=e||{}).random||(e.rng||a.default)();if(_[6]=15&_[6]|64,_[8]=63&_[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=_[e];return t}return(0,s.unsafeStringify)(_)}},766382:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=r(913469);const a=function(e){return"string"==typeof e&&n.default.test(e)}},402210:function(e,t,r){var n;!function(t){"use strict";function a(){}var s=a.prototype,_=t.EventEmitter;function c(e,t){for(var r=e.length;r--;)if(e[r].listener===t)return r;return-1}function l(e){return function(){return this[e].apply(this,arguments)}}function u(e){return"function"==typeof e||e instanceof RegExp||!(!e||"object"!=typeof e)&&u(e.listener)}s.getListeners=function(e){var t,r,n=this._getEvents();if(e instanceof RegExp)for(r in t={},n)n.hasOwnProperty(r)&&e.test(r)&&(t[r]=n[r]);else t=n[e]||(n[e]=[]);return t},s.flattenListeners=function(e){var t,r=[];for(t=0;t<e.length;t+=1)r.push(e[t].listener);return r},s.getListenersAsObject=function(e){var t,r=this.getListeners(e);return r instanceof Array&&((t={})[e]=r),t||r},s.addListener=function(e,t){if(!u(t))throw new TypeError("listener must be a function");var r,n=this.getListenersAsObject(e),a="object"==typeof t;for(r in n)n.hasOwnProperty(r)&&-1===c(n[r],t)&&n[r].push(a?t:{listener:t,once:!1});return this},s.on=l("addListener"),s.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},s.once=l("addOnceListener"),s.defineEvent=function(e){return this.getListeners(e),this},s.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},s.removeListener=function(e,t){var r,n,a=this.getListenersAsObject(e);for(n in a)a.hasOwnProperty(n)&&-1!==(r=c(a[n],t))&&a[n].splice(r,1);return this},s.off=l("removeListener"),s.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},s.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},s.manipulateListeners=function(e,t,r){var n,a,s=e?this.removeListener:this.addListener,_=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(n=r.length;n--;)s.call(this,t,r[n]);else for(n in t)t.hasOwnProperty(n)&&(a=t[n])&&("function"==typeof a?s.call(this,n,a):_.call(this,n,a));return this},s.removeEvent=function(e){var t,r=typeof e,n=this._getEvents();if("string"===r)delete n[e];else if(e instanceof RegExp)for(t in n)n.hasOwnProperty(t)&&e.test(t)&&delete n[t];else delete this._events;return this},s.removeAllListeners=l("removeEvent"),s.emitEvent=function(e,t){var r,n,a,s,_=this.getListenersAsObject(e);for(s in _)if(_.hasOwnProperty(s))for(r=_[s].slice(0),a=0;a<r.length;a++)!0===(n=r[a]).once&&this.removeListener(e,n.listener),n.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},s.trigger=l("emitEvent"),s.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},s.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},s._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},s._getEvents=function(){return this._events||(this._events={})},a.noConflict=function(){return t.EventEmitter=_,a},void 0===(n=function(){return a}.call(t,r,t,e))||(e.exports=n)}("undefined"!=typeof window?window:this||{})},773444:(e,t,r)=>{"use strict";r.d(t,{Action:()=>n});var n;r(58168);!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(n||(n={}))},923737:(e,t,r)=>{"use strict";r.d(t,{getAsyncContextStrategy:()=>s});var n=r(334837),a=r(397944);function s(e){const t=(0,n.getSentryCarrier)(e);return t.acs?t.acs:(0,a.getStackAsyncContextStrategy)()}},397944:(e,t,r)=>{"use strict";r.d(t,{getStackAsyncContextStrategy:()=>E});var n=r(946741),a=r(411817),s=r(19325),_=r(334837);class c{withScope(e){const t=this._pushScope();let r;try{r=e(t)}catch(e){throw this._popScope(),e}return(0,s.isThenable)(r)?r.then((e=>(this._popScope(),e)),(e=>{throw this._popScope(),e})):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}constructor(e,t){let r,n;r=e||new a.Scope,n=t||new a.Scope,this._stack=[{scope:r}],this._isolationScope=n}}function l(){const e=(0,_.getMainCarrier)(),t=(0,_.getSentryCarrier)(e);return t.stack=t.stack||new c((0,n.getDefaultCurrentScope)(),(0,n.getDefaultIsolationScope)())}function u(e){return l().withScope(e)}function d(e,t){const r=l();return r.withScope((()=>(r.getStackTop().scope=e,t(e))))}function p(e){return l().withScope((()=>e(l().getIsolationScope())))}function E(){return{withIsolationScope:p,withScope:u,withSetScope:d,withSetIsolationScope:(e,t)=>p(t),getCurrentScope:()=>l().getScope(),getIsolationScope:()=>l().getIsolationScope()}}},606979:(e,t,r)=>{"use strict";r.d(t,{addBreadcrumb:()=>c});var n=r(944705),a=r(676965),s=r(254244);const _=100;function c(e,t){const r=(0,n.getClient)(),c=(0,n.getIsolationScope)();if(!r)return;const{beforeBreadcrumb:l=null,maxBreadcrumbs:u=_}=r.getOptions();if(u<=0)return;const d={timestamp:(0,s.dateTimestampInSeconds)(),...e},p=l?(0,a.consoleSandbox)((()=>l(d,t))):d;null!==p&&(r.emit&&r.emit("beforeAddBreadcrumb",p,t),c.addBreadcrumb(p,u))}},334837:(e,t,r)=>{"use strict";r.d(t,{getGlobalSingleton:()=>c,getMainCarrier:()=>s,getSentryCarrier:()=>_});var n=r(279365),a=r(138398);function s(){return _(a.GLOBAL_OBJ),a.GLOBAL_OBJ}function _(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||n.SDK_VERSION,t[n.SDK_VERSION]=t[n.SDK_VERSION]||{}}function c(e,t,r=a.GLOBAL_OBJ){const s=r.__SENTRY__=r.__SENTRY__||{},_=s[n.SDK_VERSION]=s[n.SDK_VERSION]||{};return _[e]||(_[e]=t())}},944705:(e,t,r)=>{"use strict";r.d(t,{getClient:()=>m,getCurrentScope:()=>l,getGlobalScope:()=>d,getIsolationScope:()=>u,getTraceContextFromScope:()=>g,withIsolationScope:()=>E,withScope:()=>p});var n=r(923737),a=r(334837),s=r(411817),_=r(767422),c=r(844228);function l(){const e=(0,a.getMainCarrier)();return(0,n.getAsyncContextStrategy)(e).getCurrentScope()}function u(){const e=(0,a.getMainCarrier)();return(0,n.getAsyncContextStrategy)(e).getIsolationScope()}function d(){return(0,a.getGlobalSingleton)("globalScope",(()=>new s.Scope))}function p(...e){const t=(0,a.getMainCarrier)(),r=(0,n.getAsyncContextStrategy)(t);if(2===e.length){const[t,n]=e;return t?r.withSetScope(t,n):r.withScope(n)}return r.withScope(e[0])}function E(...e){const t=(0,a.getMainCarrier)(),r=(0,n.getAsyncContextStrategy)(t);if(2===e.length){const[t,n]=e;return t?r.withSetIsolationScope(t,n):r.withIsolationScope(n)}return r.withIsolationScope(e[0])}function m(){return l().getClient()}function g(e){const t=e.getPropagationContext(),{traceId:r,parentSpanId:n,propagationSpanId:a}=t;return(0,_.dropUndefinedKeys)({trace_id:r,span_id:a||(0,c.generateSpanId)(),parent_span_id:n})}},946741:(e,t,r)=>{"use strict";r.d(t,{getDefaultCurrentScope:()=>s,getDefaultIsolationScope:()=>_});var n=r(334837),a=r(411817);function s(){return(0,n.getGlobalSingleton)("defaultCurrentScope",(()=>new a.Scope))}function _(){return(0,n.getGlobalSingleton)("defaultIsolationScope",(()=>new a.Scope))}},411817:(e,t,r)=>{"use strict";r.d(t,{Scope:()=>p});var n=r(719873),a=r(19325),s=r(676965),_=r(929385),c=r(844228),l=r(254244),u=r(53915),d=r(239700);class p{clone(){const e=new p;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,(0,d._setSpanForScope)(e,(0,d._getSpanForScope)(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&(0,n.updateSession)(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"==typeof e?e(this):e,r=t instanceof p?t.getScopeData():(0,a.isPlainObject)(t)?e:void 0,{tags:n,extra:s,user:_,contexts:c,level:l,fingerprint:u=[],propagationContext:d}=r||{};return this._tags={...this._tags,...n},this._extra={...this._extra,...s},this._contexts={...this._contexts,...c},_&&Object.keys(_).length&&(this._user=_),l&&(this._level=l),u.length&&(this._fingerprint=u),d&&(this._propagationContext=d),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,(0,d._setSpanForScope)(this,void 0),this._attachments=[],this.setPropagationContext({traceId:(0,c.generateTraceId)(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(e,t){const r="number"==typeof t?t:100;if(r<=0)return this;const n={timestamp:(0,l.dateTimestampInSeconds)(),...e};return this._breadcrumbs.push(n),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:(0,d._getSpanForScope)(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=(0,u.merge)(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const r=t?.event_id||(0,_.uuid4)();if(!this._client)return s.logger.warn("No client configured on scope - will not capture exception!"),r;const n=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:n,...t,event_id:r},this),r}captureMessage(e,t,r){const n=r?.event_id||(0,_.uuid4)();if(!this._client)return s.logger.warn("No client configured on scope - will not capture message!"),n;const a=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:a,...r,event_id:n},this),n}captureEvent(e,t){const r=t?.event_id||(0,_.uuid4)();return this._client?(this._client.captureEvent(e,{...t,event_id:r},this),r):(s.logger.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:(0,c.generateTraceId)(),sampleRand:Math.random()}}}},719873:(e,t,r)=>{"use strict";r.d(t,{closeSession:()=>l,makeSession:()=>_,updateSession:()=>c});var n=r(767422),a=r(254244),s=r(929385);function _(e){const t=(0,a.timestampInSeconds)(),r={sid:(0,s.uuid4)(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return(0,n.dropUndefinedKeys)({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(r)};return e&&c(r,e),r}function c(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||(0,a.timestampInSeconds)(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:(0,s.uuid4)()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function l(e,t){let r={};t?r={status:t}:"ok"===e.status&&(r={status:"exited"}),c(e,r)}},874621:(e,t,r)=>{"use strict";r.d(t,{getComponentName:()=>u,getLocationHref:()=>l,htmlTreeAsString:()=>_});var n=r(19325);const a=r(138398).GLOBAL_OBJ,s=80;function _(e,t={}){if(!e)return"<unknown>";try{let r=e;const n=5,a=[];let _=0,l=0;const u=" > ",d=u.length;let p;const E=Array.isArray(t)?t:t.keyAttrs,m=!Array.isArray(t)&&t.maxStringLength||s;for(;r&&_++<n&&(p=c(r,E),!("html"===p||_>1&&l+a.length*d+p.length>=m));)a.push(p),l+=p.length,r=r.parentNode;return a.reverse().join(u)}catch(e){return"<unknown>"}}function c(e,t){const r=e,s=[];if(!r?.tagName)return"";if(a.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}s.push(r.tagName.toLowerCase());const _=t?.length?t.filter((e=>r.getAttribute(e))).map((e=>[e,r.getAttribute(e)])):null;if(_?.length)_.forEach((e=>{s.push(`[${e[0]}="${e[1]}"]`)}));else{r.id&&s.push(`#${r.id}`);const e=r.className;if(e&&(0,n.isString)(e)){const t=e.split(/\s+/);for(const e of t)s.push(`.${e}`)}}const c=["aria-label","type","name","title","alt"];for(const e of c){const t=r.getAttribute(e);t&&s.push(`[${e}="${t}"]`)}return s.join("")}function l(){try{return a.document.location.href}catch(e){return""}}function u(e){if(!a.HTMLElement)return null;let t=e;for(let e=0;e<5;e++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}},676003:(e,t,r)=>{"use strict";r.d(t,{DEBUG_BUILD:()=>n});const n=!1},19325:(e,t,r)=>{"use strict";r.d(t,{isDOMError:()=>c,isDOMException:()=>l,isElement:()=>g,isError:()=>a,isErrorEvent:()=>_,isEvent:()=>m,isInstanceOf:()=>y,isParameterizedString:()=>d,isPlainObject:()=>E,isPrimitive:()=>p,isRegExp:()=>A,isString:()=>u,isSyntheticEvent:()=>I,isThenable:()=>f,isVueViewModel:()=>R});const n=Object.prototype.toString;function a(e){switch(n.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return y(e,Error)}}function s(e,t){return n.call(e)===`[object ${t}]`}function _(e){return s(e,"ErrorEvent")}function c(e){return s(e,"DOMError")}function l(e){return s(e,"DOMException")}function u(e){return s(e,"String")}function d(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function p(e){return null===e||d(e)||"object"!=typeof e&&"function"!=typeof e}function E(e){return s(e,"Object")}function m(e){return"undefined"!=typeof Event&&y(e,Event)}function g(e){return"undefined"!=typeof Element&&y(e,Element)}function A(e){return s(e,"RegExp")}function f(e){return Boolean(e?.then&&"function"==typeof e.then)}function I(e){return E(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function y(e,t){try{return e instanceof t}catch(e){return!1}}function R(e){return!("object"!=typeof e||null===e||!e.__isVue&&!e._isVue)}},676965:(e,t,r)=>{"use strict";r.d(t,{CONSOLE_LEVELS:()=>_,consoleSandbox:()=>l,logger:()=>u,originalConsoleMethods:()=>c});var n=r(334837),a=r(676003),s=r(138398);const _=["debug","info","warn","error","log","assert","trace"],c={};function l(e){if(!("console"in s.GLOBAL_OBJ))return e();const t=s.GLOBAL_OBJ.console,r={},n=Object.keys(c);n.forEach((e=>{const n=c[e];r[e]=t[e],t[e]=n}));try{return e()}finally{n.forEach((e=>{t[e]=r[e]}))}}const u=(0,n.getGlobalSingleton)("logger",(function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return a.DEBUG_BUILD?_.forEach((r=>{t[r]=(...t)=>{e&&l((()=>{s.GLOBAL_OBJ.console[r](`Sentry Logger [${r}]:`,...t)}))}})):_.forEach((e=>{t[e]=()=>{}})),t}))},929385:(e,t,r)=>{"use strict";r.d(t,{addContextToFrame:()=>p,addExceptionMechanism:()=>d,addExceptionTypeValue:()=>u,checkOrSetAlreadyCaught:()=>E,getEventDescription:()=>l,uuid4:()=>_});var n=r(767422),a=r(2556),s=r(138398);function _(e=function(){const e=s.GLOBAL_OBJ;return e.crypto||e.msCrypto}()){let t=()=>16*Math.random();try{if(e?.randomUUID)return e.randomUUID().replace(/-/g,"");e?.getRandomValues&&(t=()=>{const t=new Uint8Array(1);return e.getRandomValues(t),t[0]})}catch(e){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&t())>>e/4).toString(16)))}function c(e){return e.exception?.values?.[0]}function l(e){const{message:t,event_id:r}=e;if(t)return t;const n=c(e);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function u(e,t,r){const n=e.exception=e.exception||{},a=n.values=n.values||[],s=a[0]=a[0]||{};s.value||(s.value=t||""),s.type||(s.type=r||"Error")}function d(e,t){const r=c(e);if(!r)return;const n=r.mechanism;if(r.mechanism={type:"generic",handled:!0,...n,...t},t&&"data"in t){const e={...n?.data,...t.data};r.mechanism.data=e}}function p(e,t,r=5){if(void 0===t.lineno)return;const n=e.length,s=Math.max(Math.min(n-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,s-r),s).map((e=>(0,a.snipLine)(e,0)));const _=Math.min(n-1,s);t.context_line=(0,a.snipLine)(e[_],t.colno||0),t.post_context=e.slice(Math.min(s+1,n),s+1+r).map((e=>(0,a.snipLine)(e,0)))}function E(e){if(function(e){try{return e.__sentry_captured__}catch{}}(e))return!0;try{(0,n.addNonEnumerableProperty)(e,"__sentry_captured__",!0)}catch(e){}return!1}},767422:(e,t,r)=>{"use strict";r.d(t,{addNonEnumerableProperty:()=>u,convertToPlainObject:()=>E,dropUndefinedKeys:()=>f,extractExceptionKeysForMessage:()=>A,fill:()=>l,getOriginalFunction:()=>p,markFunctionWrapped:()=>d});var n=r(874621),a=r(676003),s=r(19325),_=r(676965),c=r(2556);function l(e,t,r){if(!(t in e))return;const n=e[t],s=r(n);"function"==typeof s&&d(s,n);try{e[t]=s}catch{a.DEBUG_BUILD&&_.logger.log(`Failed to replace method "${t}" in object`,e)}}function u(e,t,r){try{Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}catch(r){a.DEBUG_BUILD&&_.logger.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function d(e,t){try{const r=t.prototype||{};e.prototype=t.prototype=r,u(e,"__sentry_original__",t)}catch(e){}}function p(e){return e.__sentry_original__}function E(e){if((0,s.isError)(e))return{message:e.message,name:e.name,stack:e.stack,...g(e)};if((0,s.isEvent)(e)){const t={type:e.type,target:m(e.target),currentTarget:m(e.currentTarget),...g(e)};return"undefined"!=typeof CustomEvent&&(0,s.isInstanceOf)(e,CustomEvent)&&(t.detail=e.detail),t}return e}function m(e){try{return(0,s.isElement)(e)?(0,n.htmlTreeAsString)(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function g(e){if("object"==typeof e&&null!==e){const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}return{}}function A(e,t=40){const r=Object.keys(E(e));r.sort();const n=r[0];if(!n)return"[object has no keys]";if(n.length>=t)return(0,c.truncate)(n,t);for(let e=r.length;e>0;e--){const n=r.slice(0,e).join(", ");if(!(n.length>t))return e===r.length?n:(0,c.truncate)(n,t)}return""}function f(e){return I(e,new Map)}function I(e,t){if(function(e){if(!(0,s.isPlainObject)(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch{return!0}}(e)){const r=t.get(e);if(void 0!==r)return r;const n={};t.set(e,n);for(const r of Object.getOwnPropertyNames(e))void 0!==e[r]&&(n[r]=I(e[r],t));return n}if(Array.isArray(e)){const r=t.get(e);if(void 0!==r)return r;const n=[];return t.set(e,n),e.forEach((e=>{n.push(I(e,t))})),n}return e}},844228:(e,t,r)=>{"use strict";r.d(t,{generateSpanId:()=>s,generateTraceId:()=>a});var n=r(929385);function a(){return(0,n.uuid4)()}function s(){return(0,n.uuid4)().substring(16)}},2556:(e,t,r)=>{"use strict";r.d(t,{safeJoin:()=>_,snipLine:()=>s,stringMatchesSomePattern:()=>c,truncate:()=>a});var n=r(19325);function a(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function s(e,t){let r=e;const n=r.length;if(n<=150)return r;t>n&&(t=n);let a=Math.max(t-60,0);a<5&&(a=0);let s=Math.min(a+140,n);return s>n-5&&(s=n),s===n&&(a=Math.max(s-140,0)),r=r.slice(a,s),a>0&&(r=`'{snip} ${r}`),s<n&&(r+=" {snip}"),r}function _(e,t){if(!Array.isArray(e))return"";const r=[];for(let t=0;t<e.length;t++){const a=e[t];try{(0,n.isVueViewModel)(a)?r.push("[VueViewModel]"):r.push(String(a))}catch(e){r.push("[value cannot be serialized]")}}return r.join(t)}function c(e,t=[],r=!1){return t.some((t=>function(e,t,r=!1){return!!(0,n.isString)(e)&&((0,n.isRegExp)(t)?t.test(e):!!(0,n.isString)(t)&&(r?e===t:e.includes(t)))}(e,t,r)))}},254244:(e,t,r)=>{"use strict";r.d(t,{dateTimestampInSeconds:()=>s,timestampInSeconds:()=>_});var n=r(138398);const a=1e3;function s(){return Date.now()/a}const _=function(){const{performance:e}=n.GLOBAL_OBJ;if(!e?.now)return s;const t=Date.now()-e.now(),r=null==e.timeOrigin?t:e.timeOrigin;return()=>(r+e.now())/a}()},279365:(e,t,r)=>{"use strict";r.d(t,{SDK_VERSION:()=>n});const n="9.5.0"},138398:(e,t,r)=>{"use strict";r.d(t,{GLOBAL_OBJ:()=>n});const n=globalThis},53915:(e,t,r)=>{"use strict";function n(e,t,r=2){if(!t||"object"!=typeof t||r<=0)return t;if(e&&0===Object.keys(t).length)return e;const a={...e};for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(a[e]=n(a[e],t[e],r-1));return a}r.d(t,{merge:()=>n})},239700:(e,t,r)=>{"use strict";r.d(t,{_getSpanForScope:()=>_,_setSpanForScope:()=>s});var n=r(767422);const a="_sentrySpan";function s(e,t){t?(0,n.addNonEnumerableProperty)(e,a,t):delete e[a]}function _(e){return e[a]}},58168:(e,t,r)=>{"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(null,arguments)}r.d(t,{default:()=>n})},195361:(e,t,r)=>{"use strict";r.d(t,{arrow:()=>c,autoPlacement:()=>l,computePosition:()=>s,detectOverflow:()=>_,flip:()=>u,hide:()=>E,inline:()=>g,limitShift:()=>I,offset:()=>A,shift:()=>f,size:()=>y});var n=r(997193);function a(e,t,r){let{reference:a,floating:s}=e;const _=(0,n.getSideAxis)(t),c=(0,n.getAlignmentAxis)(t),l=(0,n.getAxisLength)(c),u=(0,n.getSide)(t),d="y"===_,p=a.x+a.width/2-s.width/2,E=a.y+a.height/2-s.height/2,m=a[l]/2-s[l]/2;let g;switch(u){case"top":g={x:p,y:a.y-s.height};break;case"bottom":g={x:p,y:a.y+a.height};break;case"right":g={x:a.x+a.width,y:E};break;case"left":g={x:a.x-s.width,y:E};break;default:g={x:a.x,y:a.y}}switch((0,n.getAlignment)(t)){case"start":g[c]-=m*(r&&d?-1:1);break;case"end":g[c]+=m*(r&&d?-1:1)}return g}const s=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:_=[],platform:c}=r,l=_.filter(Boolean),u=await(null==c.isRTL?void 0:c.isRTL(t));let d=await c.getElementRects({reference:e,floating:t,strategy:s}),{x:p,y:E}=a(d,n,u),m=n,g={},A=0;for(let r=0;r<l.length;r++){const{name:_,fn:f}=l[r],{x:I,y,data:R,reset:O}=await f({x:p,y:E,initialPlacement:n,placement:m,strategy:s,middlewareData:g,rects:d,platform:c,elements:{reference:e,floating:t}});p=null!=I?I:p,E=null!=y?y:E,g={...g,[_]:{...g[_],...R}},O&&A<=50&&(A++,"object"==typeof O&&(O.placement&&(m=O.placement),O.rects&&(d=!0===O.rects?await c.getElementRects({reference:e,floating:t,strategy:s}):O.rects),({x:p,y:E}=a(d,m,u))),r=-1)}return{x:p,y:E,placement:m,strategy:s,middlewareData:g}};async function _(e,t){var r;void 0===t&&(t={});const{x:a,y:s,platform:_,rects:c,elements:l,strategy:u}=e,{boundary:d="clippingAncestors",rootBoundary:p="viewport",elementContext:E="floating",altBoundary:m=!1,padding:g=0}=(0,n.evaluate)(t,e),A=(0,n.getPaddingObject)(g),f=l[m?"floating"===E?"reference":"floating":E],I=(0,n.rectToClientRect)(await _.getClippingRect({element:null==(r=await(null==_.isElement?void 0:_.isElement(f)))||r?f:f.contextElement||await(null==_.getDocumentElement?void 0:_.getDocumentElement(l.floating)),boundary:d,rootBoundary:p,strategy:u})),y="floating"===E?{x:a,y:s,width:c.floating.width,height:c.floating.height}:c.reference,R=await(null==_.getOffsetParent?void 0:_.getOffsetParent(l.floating)),O=await(null==_.isElement?void 0:_.isElement(R))&&await(null==_.getScale?void 0:_.getScale(R))||{x:1,y:1},S=(0,n.rectToClientRect)(_.convertOffsetParentRelativeRectToViewportRelativeRect?await _.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:R,strategy:u}):y);return{top:(I.top-S.top+A.top)/O.y,bottom:(S.bottom-I.bottom+A.bottom)/O.y,left:(I.left-S.left+A.left)/O.x,right:(S.right-I.right+A.right)/O.x}}const c=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:a,placement:s,rects:_,platform:c,elements:l,middlewareData:u}=t,{element:d,padding:p=0}=(0,n.evaluate)(e,t)||{};if(null==d)return{};const E=(0,n.getPaddingObject)(p),m={x:r,y:a},g=(0,n.getAlignmentAxis)(s),A=(0,n.getAxisLength)(g),f=await c.getDimensions(d),I="y"===g,y=I?"top":"left",R=I?"bottom":"right",O=I?"clientHeight":"clientWidth",S=_.reference[A]+_.reference[g]-m[g]-_.floating[A],T=m[g]-_.reference[g],P=await(null==c.getOffsetParent?void 0:c.getOffsetParent(d));let b=P?P[O]:0;b&&await(null==c.isElement?void 0:c.isElement(P))||(b=l.floating[O]||_.floating[A]);const C=S/2-T/2,D=b/2-f[A]/2-1,M=(0,n.min)(E[y],D),L=(0,n.min)(E[R],D),N=M,k=b-f[A]-L,U=b/2-f[A]/2+C,B=(0,n.clamp)(N,U,k),x=!u.arrow&&null!=(0,n.getAlignment)(s)&&U!==B&&_.reference[A]/2-(U<N?M:L)-f[A]/2<0,F=x?U<N?U-N:U-k:0;return{[g]:m[g]+F,data:{[g]:B,centerOffset:U-B-F,...x&&{alignmentOffset:F}},reset:x}}});const l=function(e){return void 0===e&&(e={}),{name:"autoPlacement",options:e,async fn(t){var r,a,s;const{rects:c,middlewareData:l,placement:u,platform:d,elements:p}=t,{crossAxis:E=!1,alignment:m,allowedPlacements:g=n.placements,autoAlignment:A=!0,...f}=(0,n.evaluate)(e,t),I=void 0!==m||g===n.placements?function(e,t,r){return(e?[...r.filter((t=>(0,n.getAlignment)(t)===e)),...r.filter((t=>(0,n.getAlignment)(t)!==e))]:r.filter((e=>(0,n.getSide)(e)===e))).filter((r=>!e||(0,n.getAlignment)(r)===e||!!t&&(0,n.getOppositeAlignmentPlacement)(r)!==r))}(m||null,A,g):g,y=await _(t,f),R=(null==(r=l.autoPlacement)?void 0:r.index)||0,O=I[R];if(null==O)return{};const S=(0,n.getAlignmentSides)(O,c,await(null==d.isRTL?void 0:d.isRTL(p.floating)));if(u!==O)return{reset:{placement:I[0]}};const T=[y[(0,n.getSide)(O)],y[S[0]],y[S[1]]],P=[...(null==(a=l.autoPlacement)?void 0:a.overflows)||[],{placement:O,overflows:T}],b=I[R+1];if(b)return{data:{index:R+1,overflows:P},reset:{placement:b}};const C=P.map((e=>{const t=(0,n.getAlignment)(e.placement);return[e.placement,t&&E?e.overflows.slice(0,2).reduce(((e,t)=>e+t),0):e.overflows[0],e.overflows]})).sort(((e,t)=>e[1]-t[1])),D=(null==(s=C.filter((e=>e[2].slice(0,(0,n.getAlignment)(e[0])?2:3).every((e=>e<=0))))[0])?void 0:s[0])||C[0][0];return D!==u?{data:{index:R+1,overflows:P},reset:{placement:D}}:{}}}},u=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var r,a;const{placement:s,middlewareData:c,rects:l,initialPlacement:u,platform:d,elements:p}=t,{mainAxis:E=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:A="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:I=!0,...y}=(0,n.evaluate)(e,t);if(null!=(r=c.arrow)&&r.alignmentOffset)return{};const R=(0,n.getSide)(s),O=(0,n.getSideAxis)(u),S=(0,n.getSide)(u)===u,T=await(null==d.isRTL?void 0:d.isRTL(p.floating)),P=g||(S||!I?[(0,n.getOppositePlacement)(u)]:(0,n.getExpandedPlacements)(u)),b="none"!==f;!g&&b&&P.push(...(0,n.getOppositeAxisPlacements)(u,I,f,T));const C=[u,...P],D=await _(t,y),M=[];let L=(null==(a=c.flip)?void 0:a.overflows)||[];if(E&&M.push(D[R]),m){const e=(0,n.getAlignmentSides)(s,l,T);M.push(D[e[0]],D[e[1]])}if(L=[...L,{placement:s,overflows:M}],!M.every((e=>e<=0))){var N,k;const e=((null==(N=c.flip)?void 0:N.index)||0)+1,t=C[e];if(t)return{data:{index:e,overflows:L},reset:{placement:t}};let r=null==(k=L.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:k.placement;if(!r)switch(A){case"bestFit":{var U;const e=null==(U=L.filter((e=>{if(b){const t=(0,n.getSideAxis)(e.placement);return t===O||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:U[0];e&&(r=e);break}case"initialPlacement":r=u}if(s!==r)return{reset:{placement:r}}}return{}}}};function d(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function p(e){return n.sides.some((t=>e[t]>=0))}const E=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:a="referenceHidden",...s}=(0,n.evaluate)(e,t);switch(a){case"referenceHidden":{const e=d(await _(t,{...s,elementContext:"reference"}),r.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:p(e)}}}case"escaped":{const e=d(await _(t,{...s,altBoundary:!0}),r.floating);return{data:{escapedOffsets:e,escaped:p(e)}}}default:return{}}}}};function m(e){const t=(0,n.min)(...e.map((e=>e.left))),r=(0,n.min)(...e.map((e=>e.top)));return{x:t,y:r,width:(0,n.max)(...e.map((e=>e.right)))-t,height:(0,n.max)(...e.map((e=>e.bottom)))-r}}const g=function(e){return void 0===e&&(e={}),{name:"inline",options:e,async fn(t){const{placement:r,elements:a,rects:s,platform:_,strategy:c}=t,{padding:l=2,x:u,y:d}=(0,n.evaluate)(e,t),p=Array.from(await(null==_.getClientRects?void 0:_.getClientRects(a.reference))||[]),E=function(e){const t=e.slice().sort(((e,t)=>e.y-t.y)),r=[];let a=null;for(let e=0;e<t.length;e++){const n=t[e];!a||n.y-a.y>a.height/2?r.push([n]):r[r.length-1].push(n),a=n}return r.map((e=>(0,n.rectToClientRect)(m(e))))}(p),g=(0,n.rectToClientRect)(m(p)),A=(0,n.getPaddingObject)(l);const f=await _.getElementRects({reference:{getBoundingClientRect:function(){if(2===E.length&&E[0].left>E[1].right&&null!=u&&null!=d)return E.find((e=>u>e.left-A.left&&u<e.right+A.right&&d>e.top-A.top&&d<e.bottom+A.bottom))||g;if(E.length>=2){if("y"===(0,n.getSideAxis)(r)){const e=E[0],t=E[E.length-1],a="top"===(0,n.getSide)(r),s=e.top,_=t.bottom,c=a?e.left:t.left,l=a?e.right:t.right;return{top:s,bottom:_,left:c,right:l,width:l-c,height:_-s,x:c,y:s}}const e="left"===(0,n.getSide)(r),t=(0,n.max)(...E.map((e=>e.right))),a=(0,n.min)(...E.map((e=>e.left))),s=E.filter((r=>e?r.left===a:r.right===t)),_=s[0].top,c=s[s.length-1].bottom;return{top:_,bottom:c,left:a,right:t,width:t-a,height:c-_,x:a,y:_}}return g}},floating:a.floating,strategy:c});return s.reference.x!==f.reference.x||s.reference.y!==f.reference.y||s.reference.width!==f.reference.width||s.reference.height!==f.reference.height?{reset:{rects:f}}:{}}}};const A=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var r,a;const{x:s,y:_,placement:c,middlewareData:l}=t,u=await async function(e,t){const{placement:r,platform:a,elements:s}=e,_=await(null==a.isRTL?void 0:a.isRTL(s.floating)),c=(0,n.getSide)(r),l=(0,n.getAlignment)(r),u="y"===(0,n.getSideAxis)(r),d=["left","top"].includes(c)?-1:1,p=_&&u?-1:1,E=(0,n.evaluate)(t,e);let{mainAxis:m,crossAxis:g,alignmentAxis:A}="number"==typeof E?{mainAxis:E,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...E};return l&&"number"==typeof A&&(g="end"===l?-1*A:A),u?{x:g*p,y:m*d}:{x:m*d,y:g*p}}(t,e);return c===(null==(r=l.offset)?void 0:r.placement)&&null!=(a=l.arrow)&&a.alignmentOffset?{}:{x:s+u.x,y:_+u.y,data:{...u,placement:c}}}}},f=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:a,placement:s}=t,{mainAxis:c=!0,crossAxis:l=!1,limiter:u={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}},...d}=(0,n.evaluate)(e,t),p={x:r,y:a},E=await _(t,d),m=(0,n.getSideAxis)((0,n.getSide)(s)),g=(0,n.getOppositeAxis)(m);let A=p[g],f=p[m];if(c){const e="y"===g?"bottom":"right",t=A+E["y"===g?"top":"left"],r=A-E[e];A=(0,n.clamp)(t,A,r)}if(l){const e="y"===m?"bottom":"right",t=f+E["y"===m?"top":"left"],r=f-E[e];f=(0,n.clamp)(t,f,r)}const I=u.fn({...t,[g]:A,[m]:f});return{...I,data:{x:I.x-r,y:I.y-a}}}}},I=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:r,y:a,placement:s,rects:_,middlewareData:c}=t,{offset:l=0,mainAxis:u=!0,crossAxis:d=!0}=(0,n.evaluate)(e,t),p={x:r,y:a},E=(0,n.getSideAxis)(s),m=(0,n.getOppositeAxis)(E);let g=p[m],A=p[E];const f=(0,n.evaluate)(l,t),I="number"==typeof f?{mainAxis:f,crossAxis:0}:{mainAxis:0,crossAxis:0,...f};if(u){const e="y"===m?"height":"width",t=_.reference[m]-_.floating[e]+I.mainAxis,r=_.reference[m]+_.reference[e]-I.mainAxis;g<t?g=t:g>r&&(g=r)}if(d){var y,R;const e="y"===m?"width":"height",t=["top","left"].includes((0,n.getSide)(s)),r=_.reference[E]-_.floating[e]+(t&&(null==(y=c.offset)?void 0:y[E])||0)+(t?0:I.crossAxis),a=_.reference[E]+_.reference[e]+(t?0:(null==(R=c.offset)?void 0:R[E])||0)-(t?I.crossAxis:0);A<r?A=r:A>a&&(A=a)}return{[m]:g,[E]:A}}}},y=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){const{placement:r,rects:a,platform:s,elements:c}=t,{apply:l=()=>{},...u}=(0,n.evaluate)(e,t),d=await _(t,u),p=(0,n.getSide)(r),E=(0,n.getAlignment)(r),m="y"===(0,n.getSideAxis)(r),{width:g,height:A}=a.floating;let f,I;"top"===p||"bottom"===p?(f=p,I=E===(await(null==s.isRTL?void 0:s.isRTL(c.floating))?"start":"end")?"left":"right"):(I=p,f="end"===E?"top":"bottom");const y=A-d.top-d.bottom,R=g-d.left-d.right,O=(0,n.min)(A-d[f],y),S=(0,n.min)(g-d[I],R),T=!t.middlewareData.shift;let P=O,b=S;if(m?b=E||T?(0,n.min)(S,R):R:P=E||T?(0,n.min)(O,y):y,T&&!E){const e=(0,n.max)(d.left,0),t=(0,n.max)(d.right,0),r=(0,n.max)(d.top,0),a=(0,n.max)(d.bottom,0);m?b=g-2*(0!==e||0!==t?e+t:(0,n.max)(d.left,d.right)):P=A-2*(0!==r||0!==a?r+a:(0,n.max)(d.top,d.bottom))}await l({...t,availableWidth:b,availableHeight:P});const C=await s.getDimensions(c.floating);return g!==C.width||A!==C.height?{reset:{rects:!0}}:{}}}}},818491:(e,t,r)=>{"use strict";r.d(t,{arrow:()=>M,autoPlacement:()=>T,autoUpdate:()=>O,computePosition:()=>k,flip:()=>b,hide:()=>D,inline:()=>L,limitShift:()=>N,offset:()=>S,shift:()=>P,size:()=>C});var n=r(997193),a=r(195361),s=r(786635);function _(e){const t=(0,s.getComputedStyle)(e);let r=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const _=(0,s.isHTMLElement)(e),c=_?e.offsetWidth:r,l=_?e.offsetHeight:a,u=(0,n.round)(r)!==c||(0,n.round)(a)!==l;return u&&(r=c,a=l),{width:r,height:a,$:u}}function c(e){return(0,s.isElement)(e)?e:e.contextElement}function l(e){const t=c(e);if(!(0,s.isHTMLElement)(t))return(0,n.createCoords)(1);const r=t.getBoundingClientRect(),{width:a,height:l,$:u}=_(t);let d=(u?(0,n.round)(r.width):r.width)/a,p=(u?(0,n.round)(r.height):r.height)/l;return d&&Number.isFinite(d)||(d=1),p&&Number.isFinite(p)||(p=1),{x:d,y:p}}const u=(0,n.createCoords)(0);function d(e){const t=(0,s.getWindow)(e);return(0,s.isWebKit)()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:u}function p(e,t,r,a){void 0===t&&(t=!1),void 0===r&&(r=!1);const _=e.getBoundingClientRect(),u=c(e);let p=(0,n.createCoords)(1);t&&(a?(0,s.isElement)(a)&&(p=l(a)):p=l(e));const E=function(e,t,r){return void 0===t&&(t=!1),!(!r||t&&r!==(0,s.getWindow)(e))&&t}(u,r,a)?d(u):(0,n.createCoords)(0);let m=(_.left+E.x)/p.x,g=(_.top+E.y)/p.y,A=_.width/p.x,f=_.height/p.y;if(u){const e=(0,s.getWindow)(u),t=a&&(0,s.isElement)(a)?(0,s.getWindow)(a):a;let r=e,n=r.frameElement;for(;n&&a&&t!==r;){const e=l(n),t=n.getBoundingClientRect(),a=(0,s.getComputedStyle)(n),_=t.left+(n.clientLeft+parseFloat(a.paddingLeft))*e.x,c=t.top+(n.clientTop+parseFloat(a.paddingTop))*e.y;m*=e.x,g*=e.y,A*=e.x,f*=e.y,m+=_,g+=c,r=(0,s.getWindow)(n),n=r.frameElement}}return(0,n.rectToClientRect)({width:A,height:f,x:m,y:g})}function E(e){return p((0,s.getDocumentElement)(e)).left+(0,s.getNodeScroll)(e).scrollLeft}function m(e,t,r){let a;if("viewport"===t)a=function(e,t){const r=(0,s.getWindow)(e),n=(0,s.getDocumentElement)(e),a=r.visualViewport;let _=n.clientWidth,c=n.clientHeight,l=0,u=0;if(a){_=a.width,c=a.height;const e=(0,s.isWebKit)();(!e||e&&"fixed"===t)&&(l=a.offsetLeft,u=a.offsetTop)}return{width:_,height:c,x:l,y:u}}(e,r);else if("document"===t)a=function(e){const t=(0,s.getDocumentElement)(e),r=(0,s.getNodeScroll)(e),a=e.ownerDocument.body,_=(0,n.max)(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),c=(0,n.max)(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let l=-r.scrollLeft+E(e);const u=-r.scrollTop;return"rtl"===(0,s.getComputedStyle)(a).direction&&(l+=(0,n.max)(t.clientWidth,a.clientWidth)-_),{width:_,height:c,x:l,y:u}}((0,s.getDocumentElement)(e));else if((0,s.isElement)(t))a=function(e,t){const r=p(e,!0,"fixed"===t),a=r.top+e.clientTop,_=r.left+e.clientLeft,c=(0,s.isHTMLElement)(e)?l(e):(0,n.createCoords)(1);return{width:e.clientWidth*c.x,height:e.clientHeight*c.y,x:_*c.x,y:a*c.y}}(t,r);else{const r=d(e);a={...t,x:t.x-r.x,y:t.y-r.y}}return(0,n.rectToClientRect)(a)}function g(e,t){const r=(0,s.getParentNode)(e);return!(r===t||!(0,s.isElement)(r)||(0,s.isLastTraversableNode)(r))&&("fixed"===(0,s.getComputedStyle)(r).position||g(r,t))}function A(e,t,r){const a=(0,s.isHTMLElement)(t),_=(0,s.getDocumentElement)(t),c="fixed"===r,l=p(e,!0,c,t);let u={scrollLeft:0,scrollTop:0};const d=(0,n.createCoords)(0);if(a||!a&&!c)if(("body"!==(0,s.getNodeName)(t)||(0,s.isOverflowElement)(_))&&(u=(0,s.getNodeScroll)(t)),a){const e=p(t,!0,c,t);d.x=e.x+t.clientLeft,d.y=e.y+t.clientTop}else _&&(d.x=E(_));return{x:l.left+u.scrollLeft-d.x,y:l.top+u.scrollTop-d.y,width:l.width,height:l.height}}function f(e){return"static"===(0,s.getComputedStyle)(e).position}function I(e,t){return(0,s.isHTMLElement)(e)&&"fixed"!==(0,s.getComputedStyle)(e).position?t?t(e):e.offsetParent:null}function y(e,t){const r=(0,s.getWindow)(e);if((0,s.isTopLayer)(e))return r;if(!(0,s.isHTMLElement)(e)){let t=(0,s.getParentNode)(e);for(;t&&!(0,s.isLastTraversableNode)(t);){if((0,s.isElement)(t)&&!f(t))return t;t=(0,s.getParentNode)(t)}return r}let n=I(e,t);for(;n&&(0,s.isTableElement)(n)&&f(n);)n=I(n,t);return n&&(0,s.isLastTraversableNode)(n)&&f(n)&&!(0,s.isContainingBlock)(n)?r:n||(0,s.getContainingBlock)(e)||r}const R={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:a,strategy:_}=e;const c="fixed"===_,u=(0,s.getDocumentElement)(a),d=!!t&&(0,s.isTopLayer)(t.floating);if(a===u||d&&c)return r;let E={scrollLeft:0,scrollTop:0},m=(0,n.createCoords)(1);const g=(0,n.createCoords)(0),A=(0,s.isHTMLElement)(a);if((A||!A&&!c)&&(("body"!==(0,s.getNodeName)(a)||(0,s.isOverflowElement)(u))&&(E=(0,s.getNodeScroll)(a)),(0,s.isHTMLElement)(a))){const e=p(a);m=l(a),g.x=e.x+a.clientLeft,g.y=e.y+a.clientTop}return{width:r.width*m.x,height:r.height*m.y,x:r.x*m.x-E.scrollLeft*m.x+g.x,y:r.y*m.y-E.scrollTop*m.y+g.y}},getDocumentElement:s.getDocumentElement,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:a,strategy:_}=e;const c=[..."clippingAncestors"===r?(0,s.isTopLayer)(t)?[]:function(e,t){const r=t.get(e);if(r)return r;let n=(0,s.getOverflowAncestors)(e,[],!1).filter((e=>(0,s.isElement)(e)&&"body"!==(0,s.getNodeName)(e))),a=null;const _="fixed"===(0,s.getComputedStyle)(e).position;let c=_?(0,s.getParentNode)(e):e;for(;(0,s.isElement)(c)&&!(0,s.isLastTraversableNode)(c);){const t=(0,s.getComputedStyle)(c),r=(0,s.isContainingBlock)(c);r||"fixed"!==t.position||(a=null),(_?!r&&!a:!r&&"static"===t.position&&a&&["absolute","fixed"].includes(a.position)||(0,s.isOverflowElement)(c)&&!r&&g(e,c))?n=n.filter((e=>e!==c)):a=t,c=(0,s.getParentNode)(c)}return t.set(e,n),n}(t,this._c):[].concat(r),a],l=c[0],u=c.reduce(((e,r)=>{const a=m(t,r,_);return e.top=(0,n.max)(a.top,e.top),e.right=(0,n.min)(a.right,e.right),e.bottom=(0,n.min)(a.bottom,e.bottom),e.left=(0,n.max)(a.left,e.left),e}),m(t,l,_));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}},getOffsetParent:y,getElementRects:async function(e){const t=this.getOffsetParent||y,r=this.getDimensions,n=await r(e.floating);return{reference:A(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:r}=_(e);return{width:t,height:r}},getScale:l,isElement:s.isElement,isRTL:function(e){return"rtl"===(0,s.getComputedStyle)(e).direction}};function O(e,t,r,a){void 0===a&&(a={});const{ancestorScroll:_=!0,ancestorResize:l=!0,elementResize:u="function"==typeof ResizeObserver,layoutShift:d="function"==typeof IntersectionObserver,animationFrame:E=!1}=a,m=c(e),g=_||l?[...m?(0,s.getOverflowAncestors)(m):[],...(0,s.getOverflowAncestors)(t)]:[];g.forEach((e=>{_&&e.addEventListener("scroll",r,{passive:!0}),l&&e.addEventListener("resize",r)}));const A=m&&d?function(e,t){let r,a=null;const _=(0,s.getDocumentElement)(e);function c(){var e;clearTimeout(r),null==(e=a)||e.disconnect(),a=null}return function s(l,u){void 0===l&&(l=!1),void 0===u&&(u=1),c();const{left:d,top:p,width:E,height:m}=e.getBoundingClientRect();if(l||t(),!E||!m)return;const g={rootMargin:-(0,n.floor)(p)+"px "+-(0,n.floor)(_.clientWidth-(d+E))+"px "+-(0,n.floor)(_.clientHeight-(p+m))+"px "+-(0,n.floor)(d)+"px",threshold:(0,n.max)(0,(0,n.min)(1,u))||1};let A=!0;function f(e){const t=e[0].intersectionRatio;if(t!==u){if(!A)return s();t?s(!1,t):r=setTimeout((()=>{s(!1,1e-7)}),1e3)}A=!1}try{a=new IntersectionObserver(f,{...g,root:_.ownerDocument})}catch(e){a=new IntersectionObserver(f,g)}a.observe(e)}(!0),c}(m,r):null;let f,I=-1,y=null;u&&(y=new ResizeObserver((e=>{let[n]=e;n&&n.target===m&&y&&(y.unobserve(t),cancelAnimationFrame(I),I=requestAnimationFrame((()=>{var e;null==(e=y)||e.observe(t)}))),r()})),m&&!E&&y.observe(m),y.observe(t));let R=E?p(e):null;return E&&function t(){const n=p(e);!R||n.x===R.x&&n.y===R.y&&n.width===R.width&&n.height===R.height||r();R=n,f=requestAnimationFrame(t)}(),r(),()=>{var e;g.forEach((e=>{_&&e.removeEventListener("scroll",r),l&&e.removeEventListener("resize",r)})),null==A||A(),null==(e=y)||e.disconnect(),y=null,E&&cancelAnimationFrame(f)}}a.detectOverflow;const S=a.offset,T=a.autoPlacement,P=a.shift,b=a.flip,C=a.size,D=a.hide,M=a.arrow,L=a.inline,N=a.limitShift,k=(e,t,r)=>{const n=new Map,s={platform:R,...r},_={...s.platform,_c:n};return(0,a.computePosition)(e,t,{...s,platform:_})}},786635:(e,t,r)=>{"use strict";function n(e){return _(e)?(e.nodeName||"").toLowerCase():"#document"}function a(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function s(e){var t;return null==(t=(_(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function _(e){return e instanceof Node||e instanceof a(e).Node}function c(e){return e instanceof Element||e instanceof a(e).Element}function l(e){return e instanceof HTMLElement||e instanceof a(e).HTMLElement}function u(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof a(e).ShadowRoot)}function d(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=I(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function p(e){return["table","td","th"].includes(n(e))}function E(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(e){return!1}}))}function m(e){const t=A(),r=c(e)?I(e):e;return"none"!==r.transform||"none"!==r.perspective||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||["transform","perspective","filter"].some((e=>(r.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(r.contain||"").includes(e)))}function g(e){let t=R(e);for(;l(t)&&!f(t);){if(m(t))return t;if(E(t))return null;t=R(t)}return null}function A(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function f(e){return["html","body","#document"].includes(n(e))}function I(e){return a(e).getComputedStyle(e)}function y(e){return c(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function R(e){if("html"===n(e))return e;const t=e.assignedSlot||e.parentNode||u(e)&&e.host||s(e);return u(t)?t.host:t}function O(e){const t=R(e);return f(t)?e.ownerDocument?e.ownerDocument.body:e.body:l(t)&&d(t)?t:O(t)}function S(e,t,r){var n;void 0===t&&(t=[]),void 0===r&&(r=!0);const s=O(e),_=s===(null==(n=e.ownerDocument)?void 0:n.body),c=a(s);return _?t.concat(c,c.visualViewport||[],d(s)?s:[],c.frameElement&&r?S(c.frameElement):[]):t.concat(s,S(s,[],r))}r.d(t,{getComputedStyle:()=>I,getContainingBlock:()=>g,getDocumentElement:()=>s,getNodeName:()=>n,getNodeScroll:()=>y,getOverflowAncestors:()=>S,getParentNode:()=>R,getWindow:()=>a,isContainingBlock:()=>m,isElement:()=>c,isHTMLElement:()=>l,isLastTraversableNode:()=>f,isOverflowElement:()=>d,isTableElement:()=>p,isTopLayer:()=>E,isWebKit:()=>A})},997193:(e,t,r)=>{"use strict";r.d(t,{clamp:()=>m,createCoords:()=>d,evaluate:()=>g,floor:()=>u,getAlignment:()=>f,getAlignmentAxis:()=>O,getAlignmentSides:()=>S,getAxisLength:()=>y,getExpandedPlacements:()=>T,getOppositeAlignmentPlacement:()=>P,getOppositeAxis:()=>I,getOppositeAxisPlacements:()=>b,getOppositePlacement:()=>C,getPaddingObject:()=>D,getSide:()=>A,getSideAxis:()=>R,max:()=>c,min:()=>_,placements:()=>s,rectToClientRect:()=>M,round:()=>l,sides:()=>n});const n=["top","right","bottom","left"],a=["start","end"],s=n.reduce(((e,t)=>e.concat(t,t+"-"+a[0],t+"-"+a[1])),[]),_=Math.min,c=Math.max,l=Math.round,u=Math.floor,d=e=>({x:e,y:e}),p={left:"right",right:"left",bottom:"top",top:"bottom"},E={start:"end",end:"start"};function m(e,t,r){return c(e,_(t,r))}function g(e,t){return"function"==typeof e?e(t):e}function A(e){return e.split("-")[0]}function f(e){return e.split("-")[1]}function I(e){return"x"===e?"y":"x"}function y(e){return"y"===e?"height":"width"}function R(e){return["top","bottom"].includes(A(e))?"y":"x"}function O(e){return I(R(e))}function S(e,t,r){void 0===r&&(r=!1);const n=f(e),a=O(e),s=y(a);let _="x"===a?n===(r?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[s]>t.floating[s]&&(_=C(_)),[_,C(_)]}function T(e){const t=C(e);return[P(e),t,P(t)]}function P(e){return e.replace(/start|end/g,(e=>E[e]))}function b(e,t,r,n){const a=f(e);let s=function(e,t,r){const n=["left","right"],a=["right","left"],s=["top","bottom"],_=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:n:t?n:a;case"left":case"right":return t?s:_;default:return[]}}(A(e),"start"===r,n);return a&&(s=s.map((e=>e+"-"+a)),t&&(s=s.concat(s.map(P)))),s}function C(e){return e.replace(/left|right|bottom|top/g,(e=>p[e]))}function D(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function M(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}},347835:(e,t,r)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{_:()=>n})},18806:(e,t,r)=>{"use strict";function n(e){if(Array.isArray(e))return e}r.d(t,{_:()=>n})},507768:(e,t,r)=>{"use strict";r.d(t,{_:()=>a});var n=r(347835);function a(e){if(Array.isArray(e))return(0,n._)(e)}},453482:(e,t,r)=>{"use strict";function n(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}r.d(t,{_:()=>n})},950894:(e,t,r)=>{"use strict";function n(e,t){return t.get?t.get.call(e):t.value}r.d(t,{_:()=>n})},305570:(e,t,r)=>{"use strict";function n(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}r.d(t,{_:()=>n})},730494:(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,{_:()=>n})},906923:(e,t,r)=>{"use strict";function n(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}r.d(t,{_:()=>n})},935750:(e,t,r)=>{"use strict";r.d(t,{_:()=>s});var n=r(950894),a=r(906923);function s(e,t){var r=(0,a._)(e,t,"get");return(0,n._)(e,r)}},518150:(e,t,r)=>{"use strict";r.d(t,{_:()=>a});var n=r(453482);function a(e,t,r){(0,n._)(e,t),t.set(e,r)}},434518:(e,t,r)=>{"use strict";function n(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}r.d(t,{_:()=>n})},763812:(e,t,r)=>{"use strict";r.d(t,{_:()=>a});var n=0;function a(e){return"__private_"+n+++"_"+e}},885242:(e,t,r)=>{"use strict";r.d(t,{_:()=>s});var n=r(305570),a=r(906923);function s(e,t,r){var s=(0,a._)(e,t,"set");return(0,n._)(e,s,r),r}},799407:(e,t,r)=>{"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}r.d(t,{_:()=>a})},50467:(e,t,r)=>{"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{_:()=>n})},153750:(e,t,r)=>{"use strict";function n(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}r.d(t,{_:()=>n})},678882:(e,t,r)=>{"use strict";function n(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}r.d(t,{_:()=>n})},617818:(e,t,r)=>{"use strict";function n(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s=[],_=!0,c=!1;try{for(r=r.call(e);!(_=(n=r.next()).done)&&(s.push(n.value),!t||s.length!==t);_=!0);}catch(e){c=!0,a=e}finally{try{_||null==r.return||r.return()}finally{if(c)throw a}}return s}}r.d(t,{_:()=>n})},252615:(e,t,r)=>{"use strict";function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}r.d(t,{_:()=>n})},418474:(e,t,r)=>{"use strict";function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}r.d(t,{_:()=>n})},171893:(e,t,r)=>{"use strict";r.d(t,{_:()=>a});var n=r(50467);function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},a=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),a.forEach((function(t){(0,n._)(e,t,r[t])}))}return e}},855456:(e,t,r)=>{"use strict";function n(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}r.d(t,{_:()=>n})},918542:(e,t,r)=>{"use strict";r.d(t,{_:()=>a});var n=r(140391);function a(e,t){if(null==e)return{};var r,a,s=(0,n._)(e,t);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(e);for(a=0;a<_.length;a++)r=_[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}},140391:(e,t,r)=>{"use strict";function n(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}r.d(t,{_:()=>n})},53014:(e,t,r)=>{"use strict";r.d(t,{_:()=>c});var n=r(18806),a=r(617818),s=r(252615),_=r(675134);function c(e,t){return(0,n._)(e)||(0,a._)(e,t)||(0,_._)(e,t)||(0,s._)()}},586337:(e,t,r)=>{"use strict";r.r(t),r.d(t,{_:()=>c});var n=r(507768),a=r(678882),s=r(418474),_=r(675134);function c(e){return(0,n._)(e)||(0,a._)(e)||(0,_._)(e)||(0,s._)()}},561642:(e,t,r)=>{"use strict";function n(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}r.r(t),r.d(t,{_:()=>n})},675134:(e,t,r)=>{"use strict";r.d(t,{_:()=>a});var n=r(347835);function a(e,t){if(e){if("string"==typeof e)return(0,n._)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,n._)(e,t):void 0}}},399373:(e,t,r)=>{"use strict";r.d(t,{getTracerModules:()=>he,initTracerError:()=>U,initTracerErrorUploader:()=>ee,initTracerLog:()=>p,initTracerPerformance:()=>le,initTracerPerformanceUploader:()=>de,initTracerSdk:()=>me,initTracerSessionUploader:()=>Ee});class n{constructor(){this.log=[],this.logBytes=[],this.logIndex=0,this.logTotalBytes=0,this.logMaxBytes=64e3}destroy(){this.clear()}add(e){const t=`#${this.logIndex} ${Date.now()} | ${e}\n`,r=new Blob([t]).size;if(this.logTotalBytes+=r,this.log.push(t),this.logBytes.push(r),this.logIndex++,this.logTotalBytes>this.logMaxBytes){const e=this.logTotalBytes-this.logMaxBytes;let t=0;const r=this.logBytes.length-1;for(let n=0;n<r;n++)if(t+=this.logBytes[n],t>=e||n==r-1){this.logBytes=this.logBytes.slice(n+1),this.log=this.log.slice(n+1),this.logTotalBytes-=t;break}}}getData(){return this.log}clear(){this.log=[],this.logBytes=[],this.logTotalBytes=0}}function a(){if("undefined"==typeof window)return{data:{},modules:{},version:"2.0.22"};const e="TracerSDK";return window[e]||(window[e]={data:{},modules:{},version:"2.0.22"}),window[e]}function s(e){const t=a().data;return t[e]||(t[e]={}),t[e]}function _(e,t){return s(e)[t]}class c{constructor(e){this.dataKey=e}getSdkData(){return _(this.dataKey,0)}log(e){const t=this.getSdkData();t&&t.add(e)}clearLog(){const e=this.getSdkData();e&&e.clear()}}function l(e,t,r){const n=s(e);return n[t]||(n[t]=r()),n[t]}function u(e){const t=a().modules;return t[e]||(t[e]={}),t[e]}function d(e,t,r){const n=u(e);return n[t]||(n[t]=r(e)),n[t]}function p(){const e="main";return l(e,0,(function(){return new n})),d(e,"log",(function(){return new c(e)}))}class E{constructor(e,t){this.crashesCount=0,this.errors=[],this.keys={},this.dataKey=e,this.filterError=t.filterError}withCrashes(){return Boolean(this.crashesCount)}destroy(){this.errors=[],this.keys={},this.userId=void 0,this.module=void 0}add(e){if("CRASH"===e.type){if(this.filterError){if(!1===this.filterError(e.error))return}this.crashesCount++,this.errors.push(e);const t=_(this.dataKey,7),r=_(this.dataKey,3);t&&t.setCrashed(),r&&r.forceUpload()}else this.errors.push(e)}getData(){return this.errors}dequeue(e=1){return this.errors.splice(0,e)}setKey(e,t){this.keys[e]=t}setKeys(e){for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.keys[t]=e[t])}removeKey(e){delete this.keys[e]}removeKeys(e){for(let t=0,r=e.length;t<r;t++)this.removeKey(e[t])}getKeys(){return this.keys}}function m(e,t,r,n,a){const s=e+": "+t+"\n";if(0===(r=r||"").indexOf(s)&&(r=r.slice(s.length)),n||a){const e=r.split("\n"),t=n||0,s=a?e.length-a:e.length;r=e.slice(t,s).join("\n")}return r}const g="tracerCurrentStack";let A;function f(){return A||(A=new Error(g)),A}function I(){return a().currentAsyncScope}function y(e,t=[],r){let n="("+e.name+")";e.sameScopeCount>1&&(n+=" x"+e.sameScopeCount);const a=!e.parent;if(t.push(n),r){const r=f();t.push(m(r.name,r.message,e.stack,3,a?0:1))}else t.push(e.stack);return e.parent&&y(e.parent,t,r),t.join("\n")}function R(e){if(e.tracerScope){const t=function(){const e=_("main",4);return!!e&&e.disableStackCleanup}();return y(e.tracerScope,[m(e.name,e.message,e.stack,0,t?0:1)],!t)}return m(e.name,e.message,e.stack)}const O={};class S{constructor(){this.data={}}getItem(e){return this.data[e]||null}removeItem(e){this.data[e]=void 0}setItem(e,t){this.data[e]=t}}let T;function P(){return T||(T=function(){let e;try{if("undefined"==typeof window)return new S;e=window.localStorage;const t="__ls_tracer_test";return e.setItem(t,t),e.getItem(t)!==t?new S:(e.removeItem(t),e)}catch(e){return new S}}()),T}function b(e){return"tracer-mute-"+e}function C(e){const t=P().getItem(b(e));return t?parseInt(t):null}function D(e){return!("all"===e||!M("all"))||M(e)}function M(e){let t=O[e];return void 0===t&&(O[e]=t=C(e)),!!t&&(Date.now()<t||(function(e){O[e]=null,P().removeItem(b(e))}(e),!1))}function L(e,t){if(D("crashUpload"))return;const r=_(e,1),n=_(e,0);if(!r)return;const a=Object.assign(Object.assign({},t),{timestamp:Date.now(),log:n?n.getData().join(""):void 0,errorStack:R(t.error)});a.keys=Object.assign(Object.assign({},r.getKeys()),a.keys),a.userId||(a.userId=r.userId),a.module||(a.module=r.module),r.add(a)}class N{constructor(e){this.withListeners=!1,this.dataKey=e,this.onWindowError=this.onWindowError.bind(this),this.onWindowUnhandledRejection=this.onWindowUnhandledRejection.bind(this),this.addEventListeners()}destroy(){this.removeListeners()}addEventListeners(){"undefined"==typeof window||this.withListeners||(window.addEventListener("error",this.onWindowError),window.addEventListener("unhandledrejection",this.onWindowUnhandledRejection),this.withListeners=!0)}removeListeners(){"undefined"!=typeof window&&this.withListeners&&(window.removeEventListener("error",this.onWindowError),window.removeEventListener("unhandledrejection",this.onWindowUnhandledRejection))}onWindowError(e){this.handleCrash(e.error,e.type)}onWindowUnhandledRejection(e){this.handleCrash(e.reason,e.type)}handleCrash(e,t){e instanceof Error&&L(this.dataKey,{error:e,type:"CRASH",errorEventType:t})}}class k{constructor(e){this.dataKey=e}getErrorsData(){return _(this.dataKey,1)}error(e,t){e.tracerScope||(e.tracerScope=I()),L(this.dataKey,Object.assign(Object.assign({type:"NON_FATAL"},t),{error:e}))}setErrorKey(e,t){const r=this.getErrorsData();r&&r.setKey(e,t)}setErrorKeys(e){const t=this.getErrorsData();t&&t.setKeys(e)}removeErrorKey(e){const t=this.getErrorsData();t&&t.removeKey(e)}removeErrorKeys(e){const t=this.getErrorsData();t&&t.removeKeys(e)}setUserId(e){const t=this.getErrorsData();t&&(t.userId=e)}removeUserId(){const e=this.getErrorsData();e&&(e.userId=void 0)}setModule(e){const t=this.getErrorsData();t&&(t.module=e)}removeModule(){const e=this.getErrorsData();e&&(e.module=void 0)}}function U(e={}){const t="main";return Error.stackTraceLimit=e.stackTraceLimit||50,l(t,1,(function(){return new E(t,e)})),l(t,2,(function(){return new N(t)})),d(t,"error",(function(){return new k(t)}))}function B(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}const x="tracer-device-id";function F(){const e=P();let t=e.getItem(x);return t||(t=B(),e.setItem(x,t)),t}function V(e){return e.getFullYear()+"-"+K(e.getMonth()+1)+"-"+K(e.getDate())+"T"+K(e.getHours())+":"+K(e.getMinutes())+":"+K(e.getSeconds())+function(e){if(0===e)return"Z";const t=e>0?"-":"+";return e=Math.abs(e),t+K(Math.floor(e/60))+":"+K(e%60)}(e.getTimezoneOffset())}function K(e){return e<10?"0"+e:e}function W(e,t,r){const n=new Blob([e]);if("undefined"!=typeof window&&Boolean(window.CompressionStream))try{H(n.stream().pipeThrough(new CompressionStream("gzip")).getReader()).then(t,(function(){r(n)}))}catch(e){r(n)}else r(n)}function H(e,t=[]){return e.read().then((function(r){return r.value&&t.push(r.value),r.done?new Blob(t):H(e,t)}))}function G(){const e=a();return e.sessionUuid||(e.sessionUuid=B()),e.sessionUuid}let j;function Y(){if(j)return j;const e={function:!0,object:!0};let t=e[typeof window]&&window||this;const r=e[typeof exports]&&exports,n=e[typeof module]&&module&&!module.nodeType&&module,a=r&&n&&"object"==typeof global&&global;!a||a.global!==a&&a.window!==a&&a.self!==a||(t=a);const s=Math.pow(2,53)-1,_=/\bOpera/,c=Object.prototype,l=c.hasOwnProperty,u=c.toString;function d(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function p(e){return e=f(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:d(e)}function E(e,t){for(const r in e)l.call(e,r)&&t(e[r],r,e)}function m(e){return null==e?d(e):u.call(e).slice(8,-1)}function g(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function A(e,t){let r=null;return function(e,t){let r=-1,n=e?e.length:0;if("number"==typeof n&&n>-1&&n<=s)for(;++r<n;)t(e[r],r,e);else E(e,t)}(e,(function(n,a){r=t(r,n,a,e)})),r}function f(e){return String(e).replace(/^ +| +$/g,"")}return j=function e(r){let n=t;const a=r&&"object"==typeof r&&"String"!=m(r);a&&(n=r,r=null);const s=n.navigator||{},c=s.userAgent||"";r||(r=c);const l=a?!!s.likeChrome:/\bChrome\b/.test(r)&&!/internal|\n/i.test(u.toString()),d="Object",I=a?d:"ScriptBridgingProxyObject",y=a?d:"Environment",R=a&&n.java?"JavaPackage":m(n.java),O=a?d:"RuntimeObject",S=/\bJava/.test(R)&&n.java,T=S&&m(n.environment)==y,P=S?"a":"α",b=S?"b":"β",C=n.document||{};let D=n.operamini||n.opera;var M=_.test(M=a&&D?D["[[Class]]"]:m(D))?M:D=null;let L,N=r,k=[],U=null;const B=r==c;let x,F=B&&D&&"function"==typeof D.version&&D.version(),V=A([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],(function(e,t){return e||RegExp("\\b"+(t.pattern||g(t))+"\\b","i").exec(r)&&(t.label||t)})),K=function(e){return A(e,(function(e,t){return e||RegExp("\\b"+(t.pattern||g(t))+"\\b","i").exec(r)&&(t.label||t)}))}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),W=j([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),H=function(e){return A(e,(function(e,t,n){return e||(t[W]||t[/^[a-z]+(?: +[a-z]+\b)*/i.exec(W)]||RegExp("\\b"+g(n)+"(?:\\b|\\w*\\d)","i").exec(r))&&n}))}({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}}),G=function(e){return A(e,(function(e,t){const n=t.pattern||g(t);return!e&&(e=RegExp("\\b"+n+"(?:/[\\d.]+|[ \\w.]*)","i").exec(r))&&(e=function(e,t,r){let n={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&r&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(n=n[/[\d.]+$/.exec(e)])&&(e="Windows "+n),e=String(e),t&&r&&(e=e.replace(RegExp(t,"i"),r)),p(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(e,n,t.label||t)),e}))}(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function j(e){return A(e,(function(e,t){const n=t.pattern||g(t);return!e&&(e=RegExp("\\b"+n+" *\\d+[.\\w_]*","i").exec(r)||RegExp("\\b"+n+" *\\w+-[\\w]*","i").exec(r)||RegExp("\\b"+n+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(r))&&((e=String(t.label&&!RegExp(n,"i").test(t.label)?t.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),t=t.label||t,e=p(e[0].replace(RegExp(n,"i"),t).replace(RegExp("; *(?:"+t+"[_-])?","i")," ").replace(RegExp("("+t+")[-_.]?(\\w)","i"),"$1 $2"))),e}))}function Y(e){return A(e,(function(e,t){return e||(RegExp(t+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(r)||0)[1]||null}))}if(V&&(V=[V]),/\bAndroid\b/.test(G)&&!W&&(L=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(r))&&(W=f(L[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),H&&!W?W=j([H]):H&&W&&(W=W.replace(RegExp("^("+g(H)+")[-_.\\s]","i"),H+" ").replace(RegExp("^("+g(H)+")[-_.]?(\\w)","i"),H+" $2")),(L=/\bGoogle TV\b/.exec(W))&&(W=L[0]),/\bSimulator\b/i.test(r)&&(W=(W?W+" ":"")+"Simulator"),"Opera Mini"==K&&/\bOPiOS\b/.test(r)&&k.push("running in Turbo/Uncompressed mode"),"IE"==K&&/\blike iPhone OS\b/.test(r)?(L=e(r.replace(/like iPhone OS/,"")),H=L.manufacturer,W=L.product):/^iP/.test(W)?(K||(K="Safari"),G="iOS"+((L=/ OS ([\d_]+)/i.exec(r))?" "+L[1].replace(/_/g,"."):"")):"Konqueror"==K&&/^Linux\b/i.test(G)?G="Kubuntu":H&&"Google"!=H&&(/Chrome/.test(K)&&!/\bMobile Safari\b/i.test(r)||/\bVita\b/.test(W))||/\bAndroid\b/.test(G)&&/^Chrome/.test(K)&&/\bVersion\//i.test(r)?(K="Android Browser",G=/\bAndroid\b/.test(G)?G:"Android"):"Silk"==K?(/\bMobi/i.test(r)||(G="Android",k.unshift("desktop mode")),/Accelerated *= *true/i.test(r)&&k.unshift("accelerated")):"UC Browser"==K&&/\bUCWEB\b/.test(r)?k.push("speed mode"):"PaleMoon"==K&&(L=/\bFirefox\/([\d.]+)\b/.exec(r))?k.push("identifying as Firefox "+L[1]):"Firefox"==K&&(L=/\b(Mobile|Tablet|TV)\b/i.exec(r))?(G||(G="Firefox OS"),W||(W=L[1])):!K||(L=!/\bMinefield\b/i.test(r)&&/\b(?:Firefox|Safari)\b/.exec(K))?(K&&!W&&/[\/,]|^[^(]+?\)/.test(r.slice(r.indexOf(L+"/")+8))&&(K=null),(L=W||H||G)&&(W||H||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(G))&&(K=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(G)?G:L)+" Browser")):"Electron"==K&&(L=(/\bChrome\/([\d.]+)\b/.exec(r)||0)[1])&&k.push("Chromium "+L),F||(F=Y(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",g(K),"(?:Firefox|Minefield|NetFront)"])),(L=("iCab"==V&&parseFloat(F)>3?"WebKit":/\bOpera\b/.test(K)&&(/\bOPR\b/.test(r)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(r)&&!/^(?:Trident|EdgeHTML)$/.test(V)&&"WebKit"||!V&&/\bMSIE\b/i.test(r)&&("Mac OS"==G?"Tasman":"Trident")||"WebKit"==V&&/\bPlayStation\b(?! Vita\b)/i.test(K)&&"NetFront")&&(V=[L]),"IE"==K&&(L=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(r)||0)[1])?(K+=" Mobile",G="Windows Phone "+(/\+$/.test(L)?L:L+".x"),k.unshift("desktop mode")):/\bWPDesktop\b/i.test(r)?(K="IE Mobile",G="Windows Phone 8.x",k.unshift("desktop mode"),F||(F=(/\brv:([\d.]+)/.exec(r)||0)[1])):"IE"!=K&&"Trident"==V&&(L=/\brv:([\d.]+)/.exec(r))&&(K&&k.push("identifying as "+K+(F?" "+F:"")),K="IE",F=L[1]),B){if(function(e,t){const r=null!=e?typeof e[t]:"number";return!(/^(?:boolean|number|string|undefined)$/.test(r)||"object"==r&&!e[t])}(n,"global"))if(S&&(L=S.lang.System,N=L.getProperty("os.arch"),G=G||L.getProperty("os.name")+" "+L.getProperty("os.version")),T){try{F=n.require("ringo/engine").version.join("."),K="RingoJS"}catch(e){(L=n.system)&&L.global.system==n.system&&(K="Narwhal",G||(G=L[0].os||null))}K||(K="Rhino")}else"object"==typeof n.process&&!n.process.browser&&(L=n.process)&&("object"==typeof L.versions&&("string"==typeof L.versions.electron?(k.push("Node "+L.versions.node),K="Electron",F=L.versions.electron):"string"==typeof L.versions.nw&&(k.push("Chromium "+F,"Node "+L.versions.node),K="NW.js",F=L.versions.nw)),K||(K="Node.js",N=L.arch,G=L.platform,F=/[\d.]+/.exec(L.version),F=F?F[0]:null));else m(L=n.runtime)==I?(K="Adobe AIR",G=L.flash.system.Capabilities.os):m(L=n.phantom)==O?(K="PhantomJS",F=(L=L.version||null)&&L.major+"."+L.minor+"."+L.patch):"number"==typeof C.documentMode&&(L=/\bTrident\/(\d+)/i.exec(r))?(F=[F,C.documentMode],(L=+L[1]+4)!=F[1]&&(k.push("IE "+F[1]+" mode"),V&&(V[1]=""),F[1]=L),F="IE"==K?String(F[1].toFixed(1)):F[0]):"number"==typeof C.documentMode&&/^(?:Chrome|Firefox)\b/.test(K)&&(k.push("masking as "+K+" "+F),K="IE",F="11.0",V=["Trident"],G="Windows");G=G&&p(G)}if(F&&(L=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(F)||/(?:alpha|beta)(?: ?\d)?/i.exec(r+";"+(B&&s.appMinorVersion))||/\bMinefield\b/i.test(r)&&"a")&&(U=/b/i.test(L)?"beta":"alpha",F=F.replace(RegExp(L+"\\+?$"),"")+("beta"==U?b:P)+(/\d+\+?/.exec(L)||"")),"Fennec"==K||"Firefox"==K&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(G))K="Firefox Mobile";else if("Maxthon"==K&&F)F=F.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(W))"Xbox 360"==W&&(G=null),"Xbox 360"==W&&/\bIEMobile\b/.test(r)&&k.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(K)&&(!K||W||/Browser|Mobi/.test(K))||"Windows CE"!=G&&!/Mobi/i.test(r))if("IE"==K&&B)try{null===n.external&&k.unshift("platform preview")}catch(e){k.unshift("embedded")}else(/\bBlackBerry\b/.test(W)||/\bBB10\b/.test(r))&&(L=(RegExp(W.replace(/ +/g," *")+"/([.\\d]+)","i").exec(r)||0)[1]||F)?(L=[L,/BB10/.test(r)],G=(L[1]?(W=null,H="BlackBerry"):"Device Software")+" "+L[0],F=null):this!=E&&"Wii"!=W&&(B&&D||/Opera/.test(K)&&/\b(?:MSIE|Firefox)\b/i.test(r)||"Firefox"==K&&/\bOS X (?:\d+\.){2,}/.test(G)||"IE"==K&&(G&&!/^Win/.test(G)&&F>5.5||/\bWindows XP\b/.test(G)&&F>8||8==F&&!/\bTrident\b/.test(r)))&&!_.test(L=e.call(E,r.replace(_,"")+";"))&&L.name&&(L="ing as "+L.name+((L=L.version)?" "+L:""),_.test(K)?(/\bIE\b/.test(L)&&"Mac OS"==G&&(G=null),L="identify"+L):(L="mask"+L,K=M?p(M.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(L)&&(G=null),B||(F=null)),V=["Presto"],k.push(L));else K+=" Mobile";(L=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(r)||0)[1])&&(L=[parseFloat(L.replace(/\.(\d)$/,".0$1")),L],"Safari"==K&&"+"==L[1].slice(-1)?(K="WebKit Nightly",U="alpha",F=L[1].slice(0,-1)):F!=L[1]&&F!=(L[2]=(/\bSafari\/([\d.]+\+?)/i.exec(r)||0)[1])||(F=null),L[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(r)||0)[1],537.36==L[0]&&537.36==L[2]&&parseFloat(L[1])>=28&&"WebKit"==V&&(V=["Blink"]),B&&(l||L[1])?(V&&(V[1]="like Chrome"),L=L[1]||(L=L[0],L<530?1:L<532?2:L<532.05?3:L<533?4:L<534.03?5:L<534.07?6:L<534.1?7:L<534.13?8:L<534.16?9:L<534.24?10:L<534.3?11:L<535.01?12:L<535.02?"13+":L<535.07?15:L<535.11?16:L<535.19?17:L<536.05?18:L<536.1?19:L<537.01?20:L<537.11?"21+":L<537.13?23:L<537.18?24:L<537.24?25:L<537.36?26:"Blink"!=V?"27":"28")):(V&&(V[1]="like Safari"),L=L[0],L=L<400?1:L<500?2:L<526?3:L<533?4:L<534?"4+":L<535?5:L<537?6:L<538?7:L<601?8:L<602?9:L<604?10:L<606?11:L<608?12:"12"),V&&(V[1]+=" "+(L+="number"==typeof L?".x":/[.+]/.test(L)?"":"+")),"Safari"==K&&(!F||parseInt(F)>45)?F=L:"Chrome"==K&&/\bHeadlessChrome/i.test(r)&&k.unshift("headless")),"Opera"==K&&(L=/\bzbov|zvav$/.exec(G))?(K+=" ",k.unshift("desktop mode"),"zvav"==L?(K+="Mini",F=null):K+="Mobile",G=G.replace(RegExp(" *"+L+"$"),"")):"Safari"==K&&/\bChrome\b/.exec(V&&V[1])?(k.unshift("desktop mode"),K="Chrome Mobile",F=null,/\bOS X\b/.test(G)?(H="Apple",G="iOS 4.3+"):G=null):/\bSRWare Iron\b/.test(K)&&!F&&(F=Y("Chrome")),F&&0==F.indexOf(L=/[\d.]+$/.exec(G))&&r.indexOf("/"+L+"-")>-1&&(G=f(G.replace(L,""))),G&&-1!=G.indexOf(K)&&!RegExp(K+" OS").test(G)&&(G=G.replace(RegExp(" *"+g(K)+" *"),"")),V&&!/\b(?:Avant|Nook)\b/.test(K)&&(/Browser|Lunascape|Maxthon/.test(K)||"Safari"!=K&&/^iOS/.test(G)&&/\bSafari\b/.test(V[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(K)&&V[1])&&(L=V[V.length-1])&&k.push(L),k.length&&(k=["("+k.join("; ")+")"]),H&&W&&W.indexOf(H)<0&&k.push("on "+H),W&&k.push((/^on /.test(k[k.length-1])?"":"on ")+W),G&&(L=/ ([\d.+]+)$/.exec(G),x=L&&"/"==G.charAt(G.length-L[0].length-1),G={architecture:32,family:L&&!x?G.replace(L[0],""):G,version:L?L[1]:null,toString:function(){const e=this.version;return this.family+(e&&!x?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(L=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(N))&&!/\bi686\b/i.test(N)?(G&&(G.architecture=64,G.family=G.family.replace(RegExp(" *"+L),"")),K&&(/\bWOW64\b/i.test(r)||B&&/\w(?:86|32)$/.test(s.cpuClass||s.platform)&&!/\bWin64; x64\b/i.test(r))&&k.unshift("32-bit")):G&&/^OS X/.test(G.family)&&"Chrome"==K&&parseFloat(F)>=39&&(G.architecture=64),r||(r=null);const z={};return z.description=r,z.layout=V&&V[0],z.manufacturer=H,z.name=K,z.prerelease=U,z.product=W,z.ua=r,z.version=K&&F,z.os=G||{architecture:null,family:null,version:null,toString:function(){return"null"}},z.parse=e,z.toString=function(){return this.description||""},z.version&&k.unshift(F),z.name&&k.unshift(K),G&&K&&(G!=String(G).split(" ")[0]||G!=K.split(" ")[0]&&!W)&&k.push(W?"("+G+")":"on "+G),k.length&&(z.description=k.join(" ")),z}(),j}function z(e){return"https://"+(e.apiHost||"sdk-api.apptracer.ru")+e.apiUrl+function(e){const t=e.queryParams||{},r=[];e.sdkVersion&&(t.sdkVersion=e.sdkVersion);for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e]&&r.push(e+"="+t[e]);return r.length?"?"+r.join("&"):""}(e)}function q(e,t){if(O[e])return;const r=b(e),n=C(e);if(n)O[e]=n;else{const n=O[e]=Date.now()+t;P().setItem(r,String(n))}}function $(e){let t;const r=z(e),n=function(e){if("form"===e.dataType){const t=new FormData;for(const r in e.data)if(Object.prototype.hasOwnProperty.call(e.data,r)){let n=e.data[r];"object"!=typeof n||n instanceof Blob||(n=JSON.stringify(n)),t.append(r,n)}return t}return"blob"===e.dataType?e.data:JSON.stringify(e.data)}(e),a=e.onRequestEnd,s={};let _=1e4,c=e.retryCount||1/0;const l="Content-Type";function u(){const e=new XMLHttpRequest;e.open("POST",r);for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&s[t]&&e.setRequestHeader(t,s[t]);return e.responseType="json",e.onload=p,e.onerror=p,e.onabort=p,e.ontimeout=p,e.send(n),e}function d(){_=Math.min(2*_,3e5),c--,t=u()}function p(r){if(!t)return;if(("timeout"===r.type||"error"===r.type&&t.readyState===XMLHttpRequest.DONE&&0===t.status)&&c>0)setTimeout(d,_);else{"undefined"!=typeof window&&window.removeEventListener("beforeunload",E);try{const r=t.response;if(r.commands){const t=r.commands.globalShutdownMs;t&&q("all",t);const n=r.commands.featureShutdownMs;n&&e.onMute(n)}}catch(e){}a&&a()}}function E(){if(navigator.sendBeacon)if(t&&t.abort(),"string"==typeof n||n instanceof Blob){const e=s[l];navigator.sendBeacon(r,new Blob([n],e?{type:e}:void 0))}else navigator.sendBeacon(r,n);else t||(t=u())}"json"===e.dataType?s[l]="application/json;charset=utf-8":"blob"===e.dataType&&(s[l]="application/octet-stream"),e.beforeUnload?E():("undefined"!=typeof window&&window.addEventListener("beforeunload",E),t=u())}function X(e){"undefined"!=typeof window&&$(e)}class Q{constructor(e){this.CRASH_BATCH_SIZE=20,this.UPLOAD_BATCH_TIMEOUT_MS=15e3,this.THROTTLE_INTERVAL_MS=1e4,this.beforeUnload=!1,this.stackTraceHashTime={},this.dataKey=e.dataKey,this.appToken=e.appToken,this.versionName=e.versionName,this.versionCode=e.versionCode,this.apiHost=e.apiHost,this.uploadBatch=this.uploadBatch.bind(this),this.onUploadBatchEnd=this.onUploadBatchEnd.bind(this),this.onBatchDataEncoded=this.onBatchDataEncoded.bind(this),this.onBeforeUnload=this.onBeforeUnload.bind(this),"undefined"!=typeof window&&window.addEventListener("beforeunload",this.onBeforeUnload),this.setUploadTask(1e3)}onBeforeUnload(){this.beforeUnload=!0,this.uploadBatch()}destroy(){clearTimeout(this.uploadBatchTimeout),"undefined"!=typeof window&&window.removeEventListener("beforeunload",this.onBeforeUnload)}setUploadTask(e=this.UPLOAD_BATCH_TIMEOUT_MS){clearTimeout(this.uploadBatchTimeout),this.beforeUnload||(this.uploadBatchTimeout=setTimeout(this.uploadBatch,e))}forceUpload(){clearTimeout(this.uploadBatchTimeout),this.uploadBatch()}uploadBatch(){const e=_(this.dataKey,1);if(!e||D("crashUpload"))return void this.setUploadTask();const t=this.getFilteredRawBatchData(e.dequeue(this.CRASH_BATCH_SIZE));t.length?this.encodeBatchDataItems(t,this.onBatchDataEncoded):this.setUploadTask()}onBatchDataEncoded(e){W(JSON.stringify(e),this.runUpload.bind(this,"GZIP"),this.runUpload.bind(this,"NONE"))}runUpload(e,t){X({beforeUnload:this.beforeUnload,sdkVersion:a().version,apiHost:this.apiHost,apiUrl:"/api/crash/uploadBatch",data:t,queryParams:{crashToken:this.appToken,compressType:e},dataType:"blob",onRequestEnd:this.onUploadBatchEnd,onMute:q.bind(null,"crashUpload")})}onUploadBatchEnd(){this.setUploadTask(0)}encodeBatchDataItems(e,t){const r=e.length;let n=0;for(let a=0;a<r;a++)this.encodeBatchDataItem(e[a],(function(){n++,n===r&&t(e)}))}encodeBatchDataItem(e,t){if(e.logsFile)return function(e,t){const r=new FileReader;r.onloadend=function(){const e=String(r.result);t(e.slice(e.indexOf("base64,")+7))},r.readAsDataURL(new Blob([e]))}(e.logsFile,(function(r){e.logsFile=r,t(e)}));t(e)}getFilteredRawBatchData(e){if(!e.length)return[];const t=[],r=this.getCommonUploadBeanInfo(),n=this.getCommonUploadBeanProperties();for(let a=0;a<e.length;a++){const s=e[a],_=s.error.name+": "+s.error.message+"\n"+s.errorStack;if(!this.throttleStacktrace(s.errorStack)){const e={type:s.type,uploadBean:this.getUploadBeanForError(s,r,n),stackTrace:_};s.log&&(e.logsFile=s.log),t.push(e)}}return t}throttleStacktrace(e){if(!e)return!0;const t=function(e,t=0){let r=3735928559^t,n=1103547991^t;for(let t,a=0;a<e.length;a++)t=e.charCodeAt(a),r=Math.imul(r^t,2654435761),n=Math.imul(n^t,1597334677);return r=Math.imul(r^r>>>16,2246822507),r^=Math.imul(n^n>>>13,3266489909),n=Math.imul(n^n>>>16,2246822507),n^=Math.imul(r^r>>>13,3266489909),4294967296*(2097151&n)+(r>>>0)}(e),r=this.stackTraceHashTime,n=r[t],a=Date.now();return!!(n&&a-n<=this.THROTTLE_INTERVAL_MS)||(r[t]=a,!1)}getCommonUploadBeanProperties(){var e,t,r;let n=this.getWindowParams();{const a=Y();n=Object.assign(Object.assign({},n),{userAgent:a.ua,browserName:a.name,browserVersion:a.version,osFamily:null===(e=a.os)||void 0===e?void 0:e.family,osVersion:null===(t=a.os)||void 0===t?void 0:t.version,osArchitecture:null===(r=a.os)||void 0===r?void 0:r.architecture})}return n}getCommonUploadBeanInfo(){var e;{const t="unknown",r=Y();return{osVersion:(null===(e=r.os)||void 0===e?void 0:e.version)||t,vendor:r.name||t,device:r.version||t}}}getUploadBeanForError(e,t,r){const n=[],a=e.keys;if(a)for(const e in a)e&&Object.prototype.hasOwnProperty.call(a,e)&&n.push(`${e}=${a[e]}`);e.customCrashId&&(t.crashIdSourceField="customCrashId",r.customCrashId=e.customCrashId);const s=Object.assign({timestamp:e.timestamp,date:V(new Date(e.timestamp)),userId:e.userId?String(e.userId):void 0,issueKey:e.issueKey,errorEventType:e.errorEventType},r);return Object.assign({deviceId:F(),sessionUuid:G(),versionName:this.versionName,versionCode:this.versionCode,tags:n.length?n:void 0,module:e.module,properties:s},t)}getWindowParams(){if("undefined"!=typeof window){const e=window.screen,t={screenWidth:e.width,screenHeight:e.height,host:window.location.host};return e.orientation&&e.orientation.angle&&(t.screenOrientationAngle=e.orientation.angle),t}return{}}}function J(e){return e.versionName+"("+e.versionCode+")"}function Z(e,t,r,n){r.versionName===n.versionName&&r.versionCode===n.versionCode||L(e,{error:new Error(`${t} was already inited with version: ${J(r)}. Attempt init: ${J(n)}.`),type:"NON_FATAL"})}function ee(e){const t="main",r=l(t,3,(function(){return new Q({dataKey:t,appToken:e.appToken,apiHost:e.apiHost,versionName:e.versionName,versionCode:e.versionCode})}));Z(t,"TracerErrorUploader",r,e)}const te="ns",oe="10*-n",ie="undefined"!=typeof performance;function re(){return ie?performance.now():Date.now()}function ne(e){return Math.round(1e6*e)}function ae(){let e;return e=ie&&performance.now?performance.timeOrigin?performance.timeOrigin+performance.now():performance.timing&&performance.timing.navigationStart?performance.timing.navigationStart+performance.now():Date.now()+performance.now():Date.now(),e}class se{constructor(e){this.samples=[],this.timeLabel={},this.dataKey=e}destroy(){this.samples=[],this.timeLabel={}}getTimeLabelKey(e){return"string"==typeof e?e:e.join("-")}getTimeLabelName(e){return"string"==typeof e?e:e[0]}time(e,t){const r=this.getTimeLabelKey(e);this.timeLabel[r]?console.warn(`Timer '${this.getTimeLabelName(e)}' already exists`):this.timeLabel[r]={from:re(),attributes:Object.assign({},t)}}timeEnd(e,t){const r=this.getTimeLabelKey(e),n=this.timeLabel[r];n?(this.timeLabel[r]=void 0,this.add({name:this.getTimeLabelName(e),value:ne(re()-n.from),unit:te,attributes:Object.assign(Object.assign({},n.attributes),t)})):console.warn(`Timer '${this.getTimeLabelName(e)}' does not exist`)}add(e){if(D("perfUpload"))return;if(e.value<0)throw new Error("Tracer performance do not support negative values");let t;const r=ne(ae());t=e.unit===oe?{name:e.name,timeUnixNano:r,value:Math.round(e.value*Math.pow(10,e.precision)),unit:"10*-"+e.precision,attributes:e.attributes}:{name:e.name,timeUnixNano:r,value:e.value,unit:e.unit,attributes:e.attributes},this.samples.push(t)}getData(){return this.samples}clear(){this.samples=[]}dequeue(e=1){return this.samples.splice(0,e)}}function _e(e,t,r,n,a){const s=_(e,5);s&&s.add({name:t,value:ne(re()-r),unit:te,attributes:Object.assign(Object.assign({},n),a)})}class ce{constructor(e){this.dataKey=e}getPerformanceData(){return _(this.dataKey,5)}addSample(e){const t=this.getPerformanceData();t&&t.add(e)}startTimer(e,t){return{endTimer:_e.bind(null,this.dataKey,e,re(),t)}}time(e,t){const r=this.getPerformanceData();r&&r.time(e,t)}timeEnd(e,t){const r=this.getPerformanceData();r&&r.timeEnd(e,t)}}function le(){const e="main";return l(e,5,(function(){return new se(e)})),d(e,"performance",(function(){return new ce(e)}))}class ue{constructor(e,t){this.PERFORMANCE_SAMPLE_DATA_SIZE=500,this.PERFORMANCE_UPLOAD_TIMEOUT=15e3,this.beforeUnload=!1,this.dataKey=e,this.appToken=t.appToken,this.versionName=t.versionName,this.versionCode=t.versionCode,this.apiHost=t.apiHost,this.upload=this.upload.bind(this),this.onBeforeUnload=this.onBeforeUnload.bind(this),"undefined"!=typeof window&&window.addEventListener("beforeunload",this.onBeforeUnload),this.setUploadTask(1e3)}onBeforeUnload(){this.beforeUnload=!0,this.upload()}destroy(){clearInterval(this.uploadTimeout),"undefined"!=typeof window&&window.removeEventListener("beforeunload",this.onBeforeUnload)}setUploadTask(e=this.PERFORMANCE_UPLOAD_TIMEOUT){clearTimeout(this.uploadTimeout),this.beforeUnload||(this.uploadTimeout=setTimeout(this.upload,e))}upload(){var e;const t=_(this.dataKey,5);if(!t||D("perfUpload"))return void this.setUploadTask();const r=t.dequeue(this.PERFORMANCE_SAMPLE_DATA_SIZE);if(!r.length)return void this.setUploadTask();const n={};n.samples=r,n.versionName=this.versionName,n.versionCode=String(this.versionCode),n.sessionUuid=G(),n.deviceId=F(),n.clientTimeUnixNano=String(ne(ae()));{const t="unknown",r=Y();n.osVersion=(null===(e=r.os)||void 0===e?void 0:e.version)||t,n.vendor=r.name||t,n.device=r.version||t}const s=this.onUploadEnd.bind(this);X({beforeUnload:this.beforeUnload,sdkVersion:a().version,apiHost:this.apiHost,apiUrl:"/api/perf/upload",queryParams:{crashToken:this.appToken},data:n,dataType:"json",onRequestEnd:s,onMute:q.bind(null,"perfUpload")})}onUploadEnd(){this.setUploadTask(0)}}function de(e){const t="main",r=l(t,6,(function(){return new ue(t,e)}));Z(t,"TracerPerformanceUploader",r,e)}new Map;class pe{constructor(e,t){this.status="BLANK",this.uploaded=!1,this.beforeUnload=!1,this.prevSessionKey="tracer-prev-session",this.appToken=t.appToken,this.versionName=t.versionName,this.versionCode=t.versionCode,this.apiHost=t.apiHost,this.onBeforeUnload=this.onBeforeUnload.bind(this);const r=_(e,1);r&&r.withCrashes()&&this.setCrashed(),"undefined"!=typeof window&&window.addEventListener("beforeunload",this.onBeforeUnload)}onBeforeUnload(){this.beforeUnload=!0,this.upload()}setCrashed(){"CRASH"!==this.status&&(this.status="CRASH",this.upload())}destroy(){"undefined"!=typeof window&&window.removeEventListener("beforeunload",this.onBeforeUnload)}upload(){if(this.uploaded||D("trackSession"))return;this.uploaded=!0;const e={sessionUuid:G(),versionName:this.versionName,versionCode:String(this.versionCode),status:this.status};this.uploadSessionInfo(e)}uploadSessionInfo(e){const t={};t.versionName=this.versionName,t.versionCode=String(this.versionCode),t.deviceId=F(),t.sessions=[e],X({beforeUnload:this.beforeUnload,sdkVersion:a().version,apiHost:this.apiHost,apiUrl:"/api/crash/trackSession",queryParams:{crashToken:this.appToken},data:t,dataType:"json",onMute:q.bind(null,"trackSession")})}}function Ee(e){const t="main",r=l(t,7,(function(){return new pe(t,e)}));Z(t,"SessionUploader",r,e)}function he(){return u("main")}function me(e,...t){const r={};for(let n=0,a=t.length;n<a;n++){const a=t[n](e);if(a){const e=Object.getPrototypeOf(a),t=Object.getOwnPropertyNames(e);for(let n=0,s=t.length;n<s;n++){const s=t[n];"function"==typeof e[s]&&"constructor"!==s&&(r[s]=e[s].bind(a))}}}return r}},312511:(e,t,r)=>{"use strict";r.d(t,{Icon144IllustrationSpottySick:()=>s});var n=r(474848),a=(r(296540),r(506447));const s=e=>(0,n.jsxs)(a.SvgIconRootV2,{viewBox:"0 0 144 144",width:144,height:144,vkuiIconId:"illustration_spotty_sick_144",vkuiAttrs:{fill:"none"},vkuiProps:e,children:[(0,n.jsxs)("g",{clipPath:"url(#illustration_spotty_sick_144__a)",children:[(0,n.jsx)("path",{fill:"#C6CFDB",d:"M59.468 133.2H85.43c27.84 0 41.748 0 50.411-8.591 8.663-8.592 8.572-22.416 8.572-50.023v-5.175c0-27.591 0-41.428-8.572-50.02-8.572-8.591-22.557-8.591-50.41-8.591H59.467c-27.846 0-41.748 0-50.41 8.591C.395 27.983.412 41.807.412 69.411v5.168c0 27.598 0 41.428 8.646 50.023 8.645 8.595 22.564 8.598 50.41 8.598"}),(0,n.jsx)("path",{fill:"#7D8C9E",fillRule:"evenodd",d:"m144.216 95.41-31.011 5.596 3.499 31.261c8.641-1.022 14.606-3.165 19.136-7.658 6.14-6.09 7.882-14.808 8.376-29.2Z",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:"#9EABBA",fillRule:"evenodd",d:"m143.631 104.551-18.406 4.441a2.76 2.76 0 0 0-2.118 2.656l-.034 4.53a2.74 2.74 0 0 0 1.055 2.183 2.78 2.78 0 0 0 2.383.51l15.013-3.676c1.021-3.045 1.681-6.552 2.107-10.644m.762-19.204-11.852-6.027a9.88 9.88 0 0 0-6.67-.826l-37.526 8.825 27.136 14.329a8.33 8.33 0 0 0 5.831.736l22.848-5.478c.146-3.491.207-7.328.233-11.559",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:"#667280",d:"m118.141 105.877-.835 22.291-31.412-9.518 2.438-31.327 27.459 14.499a4.4 4.4 0 0 1 2.35 4.055"}),(0,n.jsx)("path",{fill:"#9EABBA",fillRule:"evenodd",d:"M57.922 133.2c19.945-7.042 26.184-25.27 24.733-42.816-1.744-21.054-13.858-33.158-44.667-30.635-14.904 1.22-28.11 6.318-37.576 13.64v1.19c0 27.598 0 41.428 8.646 50.023 8.484 8.434 22.046 8.595 48.864 8.598",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:"#667280",fillRule:"evenodd",d:"M66.26 133.2h-6.792c-27.846 0-41.765-.003-50.41-8.598C.765 116.358.426 103.298.412 77.894 9.975 69.663 24.044 63.86 40.08 62.545c30.81-2.525 42.93 9.585 44.667 30.639 1.287 15.561-3.476 31.661-18.486 40.016Z",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:"#9EABBA",fillRule:"evenodd",d:"M86.088 55.642c.002-1.186.866-1.658.32-2.712-.548-1.054-2.49-2.66-3.464-3.347a7.51 7.51 0 0 0-6.793-.953 7.5 7.5 0 0 0-2.962 1.91 7.4 7.4 0 0 0-1.747 3.049 7.38 7.38 0 0 0 1.35 6.684 6.5 6.5 0 0 1 1.141 5.975c-1.763 5.814-2.901 14.917-2.901 25.151 0 17.558 3.343 31.783 7.467 31.783 4.125 0 7.468-14.232 7.468-31.783 0-10.117-1.108-19.13-2.838-24.95a6.43 6.43 0 0 1 1.188-6.023 7.36 7.36 0 0 0 1.771-4.784",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:"#667280",fillRule:"evenodd",d:"M88.163 57.584a7.4 7.4 0 0 0-.83-3.41 7.4 7.4 0 0 0-2.314-2.65 7.51 7.51 0 0 0-6.793-.953 7.5 7.5 0 0 0-2.961 1.911 7.4 7.4 0 0 0-1.748 3.048 7.38 7.38 0 0 0 1.35 6.684 6.5 6.5 0 0 1 1.141 5.975c-1.763 5.815-2.901 14.918-2.901 25.152 0 17.558 3.343 31.783 7.468 31.783 4.124 0 7.467-14.232 7.467-31.783 0-10.117-1.108-19.13-2.838-24.95a6.43 6.43 0 0 1 1.188-6.023 7.36 7.36 0 0 0 1.771-4.784M4.287 117.575q.057-1.945.057-3.953c0-10.117-1.108-19.127-2.838-24.951a6.42 6.42 0 0 1 1.188-6.022 7.36 7.36 0 0 0 .941-8.19 7.43 7.43 0 0 0-3.223-3.2v3.32c0 21.12 0 34.178 3.875 42.996",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:"#E1E6ED",fillRule:"evenodd",d:"M37.374 132.945c2.985-.378 6.195-.617 9.647-.558l13.518.231 3.8.063c10.532-.806 18.973-1.977 20.201-2.853 3.007-2.178 1.22-37.6-8.08-52.408a5.39 5.39 0 0 1-.535-4.537c1.326-3.87-.219-6.376-2.73-7.126-2.084-.619-5.879 1.389-7.593 2.442a5.7 5.7 0 0 1-2.518.827c-5.818.481-28.2 2.787-48.087 10.977a6.7 6.7 0 0 1-2.9.515C4.51 80.1 2.15 86.366 6.584 90.554a6.6 6.6 0 0 1 1.593 2.549 6.56 6.56 0 0 1 .296 2.985c-1.01 8.986 2.501 21.007 5.36 28.102a9.3 9.3 0 0 1 .665 4.378c5.504 2.87 12.76 3.962 22.877 4.377Z",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:"#C6CFDB",fillRule:"evenodd",d:"M85.43 133.2H59.467c-18.416 0-30.74-.001-39.476-2.488 2.356-3.784 4.867-8.342 4.41-12.6-.95-4.412-2.003-7.629-2.903-10.377-1.228-3.749-2.17-6.625-2.17-10.471 0-1.21-.162-2.319-.313-3.348-.58-3.948-.984-6.7 8.677-9.262 13.754-3.647 30.665.778 41.234 3.543 4.291 1.123 7.537 1.973 9.102 1.897a5.3 5.3 0 0 0 2.357-.689c1.626-.923 5.219-2.666 7.13-2.024 2.31.776 3.657 3.155 2.31 6.711a4.99 4.99 0 0 0 .347 4.242c4.892 8.407 7.038 23.583 7.36 34.833-3.713.033-7.737.033-12.103.033Z",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:"#667280",fillRule:"evenodd",d:"M85.43 133.2H59.467c-18.946 0-31.444-.002-40.222-2.709.994-1.423 2.547-2.912 5.087-4.437a8 8 0 0 0 2.805-2.889 7.95 7.95 0 0 0 1.04-3.879c.063-5.42.666-10.706 3.918-11.194 4.119-.611 7.365-1.602 10.767-2.641 6.528-1.992 13.633-4.161 28.58-4.161 15.815 0 47.856 10.578 63.715 23.967-8.709 7.943-22.608 7.943-49.728 7.943Z",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:"#9EABBA",fillRule:"evenodd",d:"M36.897 72.967c-5.905 2.007-7.871 7.076-7.84 11.375a5.52 5.52 0 0 1-1.65 3.904c-5.943 5.952-1.93 13.971 6.292 27.848 16.16 3.085 24.194 12.088 45.115 3.346 11.033-4.617 16.736-4.821 12.177-11.308-4.558-6.487-.05-2.546 1.58-6.929.487-1.318 1.191 1.365-1.142-2.63 3.262-15.472-9.323-25.191-14.117-25.91-2.983-.446-2.852 22.967-21.06 18.176-9.682-1.763-12.796-9.1-19.355-17.872",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:"#7D8C9E",fillRule:"evenodd",d:"M25.623 90.602c1.298.654 2.6 2.008 4.124 3.59 2.675 2.781 6.032 6.27 11.241 7.925.69.217 0-3.982-.626-4.35-5.843-3.423-10.294-10.125-11.49-12.044a5.5 5.5 0 0 1-1.465 2.523c-.75.75-1.34 1.532-1.784 2.356m66.904 9.703a22 22 0 0 1-1.098-1.731C94.69 83.1 82.106 73.382 77.312 72.662c-.849-.126-1.445 1.679-2.284 4.216-2.109 6.38-5.748 17.388-18.775 13.96-7.844-1.427-11.378-6.514-15.923-13.058-1.027-1.478-2.106-3.03-3.297-4.631-1.255 5.289 2.786 14.25 13.759 19.597 9.925 4.837 26.793 4.764 32.3-2.904a.59.59 0 0 1 .689-.213.59.59 0 0 1 .386.604c-.522 4.543-3.58 8.575-10.865 10.231-3.683.836-10.67.719-18.48-1.004a.764.764 0 0 0-.84.49.75.75 0 0 0 .332.909c20.404 11.426 34.235 3.247 38.213-.554",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:"#C6CFDB",d:"M110.094 104.642a6.17 6.17 0 0 0-1.25-3.116 6.24 6.24 0 0 0-2.702-2.012 8.57 8.57 0 0 0-4.485-.201c-.31.087-.454-.422-.454-.422-.088-.334-.175-.669-.26-.963-.791-2.466-6.117-4.229-12.258-4.229s-10.737 1.763-11.528 4.229c-1.586 5.657-3.276 19.016 1.064 22.536 3.242 2.626 13.51 3.429 21.581.612 5.134-1.79 3.879-4.684 4.185-6.357.252-1.361 2.111-2.218 2.774-2.72 2.545-2.017 3.734-4.617 3.333-7.357m-3.905 2.212a3.66 3.66 0 0 1-.923 1.412c-.459.481-.98.902-1.548 1.251a.37.37 0 0 1-.192.057.37.37 0 0 1-.337-.188.4.4 0 0 1-.047-.194 31 31 0 0 0-.606-5.717.7.7 0 0 1 .175-.619.73.73 0 0 1 .606-.244c.628.034 1.239.21 1.788.515.364.213.671.511.893.868.223.358.354.764.383 1.183.07.566.004 1.14-.192 1.676"}),(0,n.jsx)("path",{fill:"#667280",d:"M89.072 101.675c4.656.094 8.457-1.151 8.491-2.784s-3.703-3.01-8.373-3.12-8.457 1.15-8.491 2.782 3.714 3.028 8.373 3.122"}),(0,n.jsx)("path",{fill:"#fff",d:"M28.52 112.113c4.337 6.079 11.872 9.455 18.855 11.04 16.884 3.841 34.125.716 32.412-5.587 1.683-1.488 1.875-5.088.892-6.416a4.24 4.24 0 0 0-4.249-1.539c.727-.971.141-2.285-.747-3.112-3.148-2.482-7.953-.144-11.535.305-16.134 2.027-18.554-4.587-23.618-5.213-.003.004-17.19 3.169-12.01 10.522"}),(0,n.jsx)("path",{fill:"#9EABBA",fillRule:"evenodd",d:"M25.454 90.932s-4.138 8.722 1.276 18.481c1.148 2.064 6.356-12.211 21.524-5.139 4.474 2.088-.462-2.753-.462-2.753l-9.17.137-11.582-6.356z",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:"#fff",d:"M76.703 59.093c-.98-6.056-2.57-11.148-3.03-15.62 3.653-1.553 11.11-6.263 8.847-12.643-2.599-7.324-11.638-4.272-18.234-2.007-.539-.422-14.959-12.546-32.065 2.05a62 62 0 0 0-2.67 3.286c-5.104.608-10.541 1.589-13.763 4.396-4.175 3.64-3.418 11.652 1.626 14.626 1.892 1.118 5.084 1.64 8.578 1.824a5.87 5.87 0 0 1 2.938.967 5.8 5.8 0 0 1 2.028 2.321c5.364 11.228 5.687 24.466 22.645 32.703 14.814 6.785 24.578.74 26.487-6.872 2.026-8.1-1.906-15.881-3.387-25.031"}),(0,n.jsx)("path",{fill:"#667280",d:"m74.04 38.257-1.445-1.004c.31-.257.62-.505.93-.722a.775.775 0 0 0 .31-.802.77.77 0 0 0-.342-.484.78.78 0 0 0-.864.02c-.303.215-.606.45-.906.694a.77.77 0 0 1-.932.043l-.73-.505a.783.783 0 0 0-1.085.19.77.77 0 0 0 .192 1.078l.932.645a79 79 0 0 0-1.683 1.673.78.78 0 0 1-.848.174l-.55-.227a.783.783 0 0 0-1.043.404.77.77 0 0 0 .445 1.02l.46.195q-.433.446-.898.907a.78.78 0 0 0-.16.852.78.78 0 0 0 .43.418.79.79 0 0 0 .854-.18c.337-.334.674-.669.987-1.004a.77.77 0 0 1 .842-.167l.962.402a.78.78 0 0 0 1.019-.413.77.77 0 0 0-.416-1.012l-.879-.368c.458-.469.903-.92 1.347-1.339a.76.76 0 0 1 .97-.073l1.232.853a.776.776 0 0 0 1.084-.19.77.77 0 0 0-.215-1.078m.811 18.36a5.3 5.3 0 0 0-1.31-1.19 45 45 0 0 0-4.777-2.463c-1.098-.392-1.859.826-.337 2.007-1.054 3.199-.077 5.253 1.6 6.069.36.19.749.324 1.15.395 1.98.354 3.85-.8 4.172-2.58a3.06 3.06 0 0 0-.498-2.238m-25.867 2.616a6.8 6.8 0 0 1 1.683-1.549c2.283-1.482 6.121-3.188 6.121-3.188 1.404-.502 2.384 1.1.458 2.643 1.347 4.199.108 6.885-2.04 7.94a5 5 0 0 1-1.475.508c-2.538.448-4.939-1.081-5.356-3.416-.178-1.02.04-2.07.61-2.938ZM71.205 89.15c-4.896.307-8.939-5.186-8.79-8.843.225-5.61 14.44-7.07 15.884-1.556 1.006 3.834-2.149 10.08-7.094 10.398Z"}),(0,n.jsx)("path",{fill:"#9EABBA",fillRule:"evenodd",d:"M37.456 26.654c-3.218.716-6.582 2.296-8.524 6.829-.22.505-.142 1.084-.337 1.599-1.293 3.446-1.95 7.24 4.249 9.85 1.94.816 4.902 1.04 8.602 1.468 6.501.75 16.38.197 20.42-8.903 4.356-1.338 5.332-7.738 1.683-9.849a6.5 6.5 0 0 1-1.593-1.338c-5.602-6.337-16.706-3.402-16.706-3.402s-6.255 3.405-7.794 3.746",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:"#E1E6ED",fillRule:"evenodd",d:"M57.627 23.34a2.58 2.58 0 0 0-1.771 2.445 2.584 2.584 0 0 0 2.592 2.576 2.584 2.584 0 0 0 2.558-2.996c-1.024-.895-2.176-1.551-3.379-2.025m3.117 16.25a2.59 2.59 0 0 0-2.559-2.16 2.584 2.584 0 0 0-2.592 2.577 2.584 2.584 0 0 0 2.586 2.576 14 14 0 0 0 2.565-2.993M31.61 44.35a2.58 2.58 0 0 0 1.463-2.32 2.584 2.584 0 0 0-2.593-2.575 2.59 2.59 0 0 0-2.356 1.5c.509 1.225 1.57 2.382 3.486 3.395M30.4 30.9c.476.563 1.19.92 1.986.92a2.584 2.584 0 0 0 2.592-2.576c0-.601-.207-1.154-.554-1.592-1.47.682-2.863 1.695-4.023 3.249Zm14.066 8.096a2.584 2.584 0 0 0 2.592-2.576 2.584 2.584 0 0 0-2.592-2.576 2.584 2.584 0 0 0-2.593 2.576 2.584 2.584 0 0 0 2.593 2.576",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:"#7D8C9E",fillRule:"evenodd",d:"M40.752 46.32c-3.247-2.16-2.314-6.683-1.932-8.533l.033-.163c-2.539 3.495-2.261 6.483-1.655 8.286.824.108 1.712.206 2.657.31z",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:"#7D8C9E",d:"M40.224 28.01s-5.36 4.091-5.565 7.463c-.034.56 1.595-2.79 4.848-4.379a25.8 25.8 0 0 1 5.794-2.037z"}),(0,n.jsx)("path",{fill:"#7D8C9E",d:"M45.597 27.076s5.993-.264 8.511 2.623c.377.431-1.377-.147-3.063-.381-6.06-.837-8.057.187-8.057.187z"}),(0,n.jsx)("path",{fill:"#7D8C9E",d:"M44.907 26.16s2.357-2.757 7.356-.93a8.76 8.76 0 0 0-5.76 1.434c-3.764 2.577-.771.733-.771.733z"}),(0,n.jsx)("path",{fill:"#515A66",fillRule:"evenodd",d:"m45.358 23.975-6.501 2.776 1.097 3.272v.037c.223.67 2.02.519 4.04-.334s3.347-2.058 3.03-2.677l-.02-.026z",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:"#515A66",fillRule:"evenodd",d:"M45.358 23.975c.28.522-.98 1.596-2.821 2.382s-3.492.957-3.68.395c-.189-.563 1.09-1.586 2.841-2.342s3.387-.944 3.66-.435",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:"#667280",fillRule:"evenodd",d:"m44.863 19.92-9.47 4.045 1.245 3.944a.2.2 0 0 0 0 .044c.25.796 3.468.823 6.397-.422s4.286-3.232 3.875-3.961a.1.1 0 0 0-.027-.034z",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:"#9EABBA",fillRule:"evenodd",d:"M44.863 19.92c.408.76-1.427 2.322-4.107 3.47-2.68 1.147-5.087 1.394-5.364.575-.276-.82 1.59-2.309 4.142-3.4s4.932-1.388 5.33-.645Z",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:"#667280",d:"M56.465 86.707a1.3 1.3 0 0 1 .948-.44 1.3 1.3 0 0 1 .968.397c.862.886 2.565 4.078 1.151 4.044-1.246-.03-3.872-2.924-3.067-4.001"}),(0,n.jsx)("path",{fill:"#E1E6ED",d:"M138.958 83.566c1.531-.737 2.824-.368.898 5.844 1.785 2.784 2.495 4.272 1.987 4.781-1.189 1.18-6.06 0-6.06 0s1.522-9.833 3.175-10.626Z"}),(0,n.jsx)("path",{fill:"#fff",d:"M127.47 84.171s-.097-3.54 1.744-3.918c1.842-.378 6.397 3.564 6.397 3.564s4.508-1.151 4.942-.315c.876 1.673-1.272 4.804-2.693 6.176a.82.82 0 0 0-.226.79c.92 3.469-.831 5.205-1.663 5.473-2.114.669-4.511-2.372-5.026-1.864-.515.509-6.498 2.389-6.498-.967 0-1.756 1.518-3.185 1.518-3.185s-3.777-6.129 1.505-5.754"}),(0,n.jsx)("path",{fill:"#E1E6ED",d:"M134.241 82.726c-1.256.669-3.572 1.933-2.589 1.933 1.319 0 3.942-.843 3.942-.843s-.555-.481-1.353-1.09m-8.868 12.03s4.467-2.75 4.902-3.837c.434-1.087.976 3.142.976 3.142s-3.602 1.78-5.878.695"}),(0,n.jsx)("path",{fill:"#fff",d:"M110.104 73.027c-3.215.67-5.966.13-6.397 1.603-.43 1.472 1.011 3.057.748 4.47-.387 2.167.293 5.352 3.175 5.687-.788 1.003-1.269 1.726-.812 2.449 2.044 2.298 6.498.371 7.165.8 1.653 1.06 7.319-.87 8.599-1.744 1.279-.873-.909-2.84-1.411-3.345s3.761-2.172 3.4-3.644c-.36-1.472-3.676-1.703-3.201-2.365 1.444-2.007-.253-6.44-1.347-6.919s-7.464-.364-9.919 3.008"}),(0,n.jsx)("path",{fill:"#E1E6ED",fillRule:"evenodd",d:"m121.332 77.009-.02.013c-.453.648-1.22 1.19-1.982 1.727-1.952 1.377-3.864 2.727-.341 5.763.326.283 1.607-.133 2.919-.819a16 16 0 0 0-.596-.607l-.141-.14c-.207-.208.396-.613 1.15-1.12 1.076-.725 2.462-1.657 2.25-2.523-.2-.819-1.315-1.253-2.183-1.592-.636-.248-1.14-.444-1.056-.702m-6.983 11.195c-1.096-.652-2.883-1.93-3.578-3.641-1.01-2.496.348-4.047.956-4.741.125-.143.219-.25.253-.321-1.438.234-4.377 3.365-4.377 5.272l-.007.01.034.004c-.788 1.003-1.27 1.726-.812 2.449 1.408 1.583 3.959 1.161 5.628.885.755-.124 1.329-.22 1.537-.086q.16.102.366.169m-9.937-7.08 3.565-3.948-.459.238c-1.23.641-2.464 1.285-3.037 1.15q.022.272-.026.535a6.8 6.8 0 0 0-.043 2.026Zm2.633-7.706a4.03 4.03 0 0 0 1.952 2.051c3.989 1.837 10.655-.947 6.71-.947-3.946 0-5.603-.766-5.603-1.495-1.098.229-2.143.316-3.059.391",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:"#fff",fillRule:"evenodd",d:"M23.945 79.708a4.48 4.48 0 0 0-1.242 3.153 4.48 4.48 0 0 0 1.323 3.12l14.427 14.72a11.9 11.9 0 0 0 3.08 2.275c3.869 1.968 7.492-1.498 5.556-5.262a12.5 12.5 0 0 0-2.175-3.045L30.272 79.74a4.43 4.43 0 0 0-3.157-1.336 4.46 4.46 0 0 0-3.17 1.305Z",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:"#667280",d:"m32.095 86.382-1.52 1.471a1.046 1.046 0 0 0-.018 1.486l6.91 7.046a1.06 1.06 0 0 0 1.495.02l1.519-1.471c.418-.405.427-1.07.02-1.486l-6.911-7.046a1.06 1.06 0 0 0-1.495-.02"}),(0,n.jsx)("path",{fill:"#667280",fillRule:"evenodd",d:"m23.838 85.78 6.336-6.139a4.443 4.443 0 0 0-6.155.025 4.383 4.383 0 0 0-.18 6.114Zm16.467 16.464q.592.4 1.228.726c3.63 1.843 7.185 3.543 10.077 5.895a.83.83 0 0 0 1.357-.562.81.81 0 0 0-.162-.559c-2.198-2.874-3.915-6.494-5.723-10.037q-.345-.668-.768-1.291z",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:"#fff",d:"M36.24 92.856a.7.7 0 0 1-.279-.167l-2.067-2.068a.69.69 0 0 1-.148-.753.69.69 0 0 1 .644-.424.7.7 0 0 1 .49.204l2.068 2.067a.687.687 0 0 1-.253 1.133.7.7 0 0 1-.454.008Zm18.343 14.105c-6.548-.93-9.48-4.202-13.289-4.634-3.203-.363-5.753.671-7.695 1.861-2.013.99 6.672 8.571 6.672 8.571 17.675 7.838 20.103 1.321 14.312-5.798"}),(0,n.jsx)("path",{fill:"#667280",d:"M138.191 111.716c.285-1.089-.237-2.167-1.165-2.407-.929-.24-1.913.448-2.198 1.537s.237 2.167 1.166 2.407 1.912-.448 2.197-1.537"}),(0,n.jsx)("path",{fill:"#7D8C9E",d:"M139.93 112.669c.37-1.416-.308-2.817-1.515-3.129-1.208-.312-2.487.583-2.858 1.999s.308 2.817 1.515 3.129c1.208.312 2.487-.583 2.858-1.999"}),(0,n.jsx)("path",{fill:"#fff",d:"M87.019 99.658a3.53 3.53 0 0 1-1.482-1.648 3.5 3.5 0 0 1-.202-2.2c.3-1.207 1.263-2.14 1.896-3.215s.898-2.613-.03-3.456c-.741-.669-1.88-.579-2.822-.903-1.808-.619-2.72-2.847-2.212-4.684s4.229-1.519 4.003-3.406c-.458-3.847 3.727-6.932 7.912-5.864a7.55 7.55 0 0 1 3.906 2.516 7.47 7.47 0 0 1 1.676 4.315c.088 6.925-7.043 8.983-9.272 14.965-.41.87.185 1.549 1.111 1.16.673-.14 2.407.754.572 2.105-1.269.917-3.582 1.124-5.056.315"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"illustration_spotty_sick_144__a",children:(0,n.jsx)("path",{fill:"#fff",d:"M0 0h144v144H0z"})})})]})},782623:(e,t,r)=>{"use strict";r(296540)},35520:(e,t,r)=>{"use strict";r.d(t,{SvgIconRoot:()=>l});var n=r(171893),a=r(855456),s=r(918542),_=r(474848);r(296540);function c(...e){return e.filter((e=>e)).join(" ")}function l(e){var{width:t=0,height:r=0,display:l="block","aria-hidden":u=!0,className:d,baseClassName:p,getRootRef:E,style:m,title:g,children:A}=e,f=(0,s._)(e,["width","height","display","aria-hidden","className","baseClassName","getRootRef","style","title","children"]);const I=Math.max(t,r);return(0,_.jsxs)("svg",(0,a._)((0,n._)({"aria-hidden":u,display:l,className:c(d,"vkuiIcon",`vkuiIcon--${I}`,`vkuiIcon--w-${t}`,`vkuiIcon--h-${r}`,p),width:t,height:r,style:(0,n._)({width:t,height:r},m),ref:E},f),{children:[g&&(0,_.jsx)("title",{children:g}),A]}))}},456852:(e,t,r)=>{"use strict";r.d(t,{SvgIconRootV2:()=>l});var n=r(171893),a=r(855456),s=r(918542),_=r(474848),c=(r(296540),r(35520));function l(e){var{vkuiIconId:t,vkuiAttrs:r,children:l,vkuiProps:u}=e,d=(0,s._)(e,["vkuiIconId","vkuiAttrs","children","vkuiProps"]);return(0,_.jsxs)(c.SvgIconRoot,(0,a._)((0,n._)((0,a._)((0,n._)({baseClassName:`vkuiIcon--${t}`},d,u),{style:u.fill?(0,n._)({color:u.fill},u.style):u.style}),r),{children:[u.children,l]}))}},506447:(e,t,r)=>{"use strict";r.d(t,{IconAppearanceProvider:()=>s.IconAppearanceProvider,SvgIconRootV2:()=>n.SvgIconRootV2,makeRasterIcon:()=>a.makeRasterIcon});r(35520);var n=r(456852),a=r(160279),s=(r(782623),r(956655))},956655:(e,t,r)=>{"use strict";r.d(t,{IconAppearanceProvider:()=>_,appearanceTypes:()=>a,useIconAppearance:()=>c});var n=r(296540);const a=["light","dark"],s=n.createContext("light"),_=s.Provider,c=()=>n.useContext(s)},160279:(e,t,r)=>{"use strict";r.d(t,{makeRasterIcon:()=>E});var n=r(171893),a=r(918542),s=r(474848),_=r(296540),c=r(956655),l=r(157394);const u={mdpi:1,hdpi:1.5,xhdpi:1.5,xxhdpi:3,xxxhdpi:4},d=Object.keys(u),p=_.memo((function(e){var{getRootRef:t,id:r,size:_,className:p}=e,E=(0,a._)(e,["getRootRef","id","size","className"]);const m=(0,c.useIconAppearance)(),g=d.reduce(((e,t)=>{const r=(0,l.getDensityBucketAppearanceKey)(m,t);let n=E[r];delete E[r];for(const e of c.appearanceTypes){const r=(0,l.getDensityBucketAppearanceKey)(e,t);n||(n=E[r]),delete E[r]}return n&&e.push(`${n} ${u[t]}x`),e}),[]).join(", ");return(0,s.jsx)("img",(0,n._)({ref:t,"aria-hidden":"true",alt:"",className:["vkuiIcon",`vkuiIcon--${_}`,`vkuiIcon--w-${_}`,`vkuiIcon--h-${_}`,`vkuiIcon--${r}`,"vkuiRasterIcon",p].join(" ").trim(),width:_,height:_,srcSet:g,loading:"lazy",draggable:!1},E))}));function E(e,t,r,a){const _=e=>(0,s.jsx)(p,(0,n._)({id:t,size:r},a,e));return _.size=r,_.isRasterIcon=!0,_.displayName=e,_}},157394:(e,t,r)=>{"use strict";r.d(t,{getDensityBucketAppearanceKey:()=>n});const n=(e,t)=>`${e}${t}`},128225:(e,t,r)=>{"use strict";r.d(t,{Icon12OnlineMobile:()=>s});var n=r(474848),a=(r(296540),r(506447));const s=e=>(0,n.jsx)(a.SvgIconRootV2,{viewBox:"0 0 8 12",width:8,height:12,vkuiIconId:"online_mobile_12",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,n.jsx)("path",{fill:"currentColor",d:"M5.99 0C7.1 0 8 .9 8 2.01v7.98C8 11.1 7.1 12 5.99 12H2.01C.9 12 0 11.1 0 9.99V2.01C0 .9.9 0 2.01 0zm.008 3H2.003a.5.5 0 0 0-.503.502v4.996c0 .277.225.502.503.502h3.995a.5.5 0 0 0 .502-.502V3.503A.5.5 0 0 0 5.997 3"})})},685826:(e,t,r)=>{"use strict";r.d(t,{Icon20CalendarOutline:()=>s});var n=r(474848),a=(r(296540),r(506447));const s=e=>(0,n.jsx)(a.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"calendar_outline_20",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M6.25 1a.75.75 0 0 1 .75.75v.257Q7.588 1.998 8.317 2h3.366q.729-.002 1.317.007V1.75a.75.75 0 0 1 1.5 0v.356c.428.064.816.172 1.18.357a4.25 4.25 0 0 1 1.857 1.858c.253.497.361 1.04.413 1.67.05.613.05 1.374.05 2.326v3.366c0 .952 0 1.713-.05 2.327-.052.63-.16 1.172-.413 1.67a4.25 4.25 0 0 1-1.857 1.857c-.498.253-1.04.361-1.67.413-.614.05-1.375.05-2.327.05H8.317c-.952 0-1.713 0-2.327-.05-.63-.052-1.172-.16-1.67-.413a4.25 4.25 0 0 1-1.857-1.857c-.253-.498-.361-1.04-.413-1.67C2 13.396 2 12.635 2 11.683V8.317c0-.952 0-1.713.05-2.327.052-.63.16-1.172.413-1.67a4.25 4.25 0 0 1 1.858-1.857A3.8 3.8 0 0 1 5.5 2.106V1.75A.75.75 0 0 1 6.25 1M5.5 3.63c-.203.044-.361.1-.498.17A2.75 2.75 0 0 0 3.8 5.002c-.128.25-.21.573-.255 1.11-.02.255-.032.543-.038.878h12.986a14 14 0 0 0-.038-.878c-.044-.537-.127-.86-.255-1.11A2.75 2.75 0 0 0 15 3.8a2 2 0 0 0-.499-.17v.12a.75.75 0 0 1-1.5 0v-.243a80 80 0 0 0-1.35-.007h-3.3c-.525 0-.968 0-1.35.007v.243a.75.75 0 0 1-1.5 0zm11 4.86h-13v3.16c0 .992 0 1.692.045 2.238.044.537.127.86.255 1.11A2.75 2.75 0 0 0 5.002 16.2c.25.128.573.21 1.11.255.546.044 1.246.045 2.238.045h3.3c.992 0 1.692 0 2.238-.045.537-.044.86-.127 1.11-.255A2.75 2.75 0 0 0 16.2 15c.128-.252.21-.574.255-1.111.044-.546.045-1.245.045-2.238z",clipRule:"evenodd"})})},419771:(e,t,r)=>{"use strict";r.d(t,{Icon20CheckBoxIndetermanate:()=>s});var n=r(474848),a=(r(296540),r(506447));const s=e=>(0,n.jsx)(a.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"check_box_indetermanate_20",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,n.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M2 8.4c0-2.24 0-3.36.436-4.216a4 4 0 0 1 1.748-1.748C5.04 2 6.16 2 8.4 2h3.2c2.24 0 3.36 0 4.216.436a4 4 0 0 1 1.748 1.748C18 5.04 18 6.16 18 8.4v3.2c0 2.24 0 3.36-.436 4.216a4 4 0 0 1-1.748 1.748C14.96 18 13.84 18 11.6 18H8.4c-2.24 0-3.36 0-4.216-.436a4 4 0 0 1-1.748-1.748C2 14.96 2 13.84 2 11.6zm4.4.7a.9.9 0 1 0 0 1.8h7.2a.9.9 0 1 0 0-1.8z",clipRule:"evenodd"})})},139949:(e,t,r)=>{"use strict";r.d(t,{Icon20CheckBoxOff:()=>s});var n=r(474848),a=(r(296540),r(506447));const s=e=>(0,n.jsx)(a.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"check_box_off_20",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,n.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.046 2.534C4.788 2.138 5.517 2 7.128 2h5.744c1.61 0 2.34.138 3.082.534.65.348 1.164.862 1.512 1.512.396.742.534 1.471.534 3.082v5.744c0 1.61-.138 2.34-.534 3.082a3.64 3.64 0 0 1-1.512 1.512c-.742.396-1.472.534-3.082.534H7.128c-1.61 0-2.34-.138-3.082-.534a3.64 3.64 0 0 1-1.512-1.512C2.138 15.212 2 14.482 2 12.872V7.128c0-1.61.138-2.34.534-3.082a3.65 3.65 0 0 1 1.512-1.512m3.082.966c-1.531 0-1.962.136-2.374.357a2.15 2.15 0 0 0-.897.897c-.22.412-.357.843-.357 2.374v5.744c0 1.531.136 1.962.357 2.374q.313.585.897.897c.412.22.843.357 2.374.357h5.744c1.531 0 1.962-.136 2.374-.357q.585-.313.897-.897c.22-.412.357-.843.357-2.374V7.128c0-1.531-.136-1.962-.357-2.374a2.15 2.15 0 0 0-.897-.897c-.412-.22-.843-.357-2.374-.357z",clipRule:"evenodd"})})},627793:(e,t,r)=>{"use strict";r.d(t,{Icon20CheckBoxOn:()=>s});var n=r(474848),a=(r(296540),r(506447));const s=e=>(0,n.jsx)(a.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"check_box_on_20",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,n.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M2.436 4.184C2 5.04 2 6.16 2 8.4v3.2c0 2.24 0 3.36.436 4.216a4 4 0 0 0 1.748 1.748C5.04 18 6.16 18 8.4 18h3.2c2.24 0 3.36 0 4.216-.436a4 4 0 0 0 1.748-1.748C18 14.96 18 13.84 18 11.6V8.4c0-2.24 0-3.36-.436-4.216a4 4 0 0 0-1.748-1.748C14.96 2 13.84 2 11.6 2H8.4c-2.24 0-3.36 0-4.216.436a4 4 0 0 0-1.748 1.748m12.2 3.803a.9.9 0 1 0-1.272-1.274l-4.673 4.665-2.055-2.052A.9.9 0 0 0 5.364 10.6l2.691 2.687a.9.9 0 0 0 1.272 0z",clipRule:"evenodd"})})},901858:(e,t,r)=>{"use strict";r.d(t,{Icon20CheckCircleOff:()=>s});var n=r(474848),a=(r(296540),r(506447));const s=e=>(0,n.jsxs)(a.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"check_circle_off_20",vkuiAttrs:{fill:"none"},vkuiProps:e,children:[(0,n.jsx)("defs",{children:(0,n.jsx)("path",{id:"check_circle_off_20__a",fill:"currentColor",fillRule:"evenodd",d:"M10 20c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10m0-1a9 9 0 1 0 0-18 9 9 0 0 0 0 18",clipRule:"evenodd"})}),(0,n.jsx)("use",{xlinkHref:"#check_circle_off_20__a",fillRule:"evenodd",clipRule:"evenodd"}),(0,n.jsx)("use",{xlinkHref:"#check_circle_off_20__a",fillRule:"evenodd",clipRule:"evenodd"})]})},967467:(e,t,r)=>{"use strict";r.d(t,{Icon20ChevronLeftOutline:()=>s});var n=r(474848),a=(r(296540),r(506447));const s=e=>(0,n.jsx)(a.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"chevron_left_outline_20",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,n.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12.526 4.217a.75.75 0 0 1 0 1.06L7.81 10l4.716 4.721a.75.75 0 1 1-1.061 1.06l-5.246-5.25a.75.75 0 0 1 0-1.061l5.246-5.252a.75.75 0 0 1 1.06-.001z",clipRule:"evenodd"})})},780428:(e,t,r)=>{"use strict";r.d(t,{Icon20ChevronUp:()=>s});var n=r(474848),a=(r(296540),r(506447));const s=e=>(0,n.jsx)(a.SvgIconRootV2,{viewBox:"0 0 20 16",width:20,height:16,vkuiIconId:"chevron_up_20",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M15.78 11.125a1 1 0 0 1-1.405.156L10 7.78l-4.375 3.5a1 1 0 0 1-1.25-1.562l5-4a1 1 0 0 1 1.25 0l5 4a1 1 0 0 1 .156 1.406Z",clipRule:"evenodd"})})},875717:(e,t,r)=>{"use strict";r.d(t,{Icon20ListPlusOutline:()=>s});var n=r(474848),a=(r(296540),r(506447));const s=e=>(0,n.jsx)(a.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"list_plus_outline_20",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M2 4.75A.75.75 0 0 1 2.75 4h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 4.75m0 5A.75.75 0 0 1 2.75 9h8.5a.75.75 0 0 1 0 1.5h-8.5A.75.75 0 0 1 2 9.75M15.5 11a.75.75 0 0 1 .75.75V14h2.25a.75.75 0 0 1 0 1.5h-2.25v2.25a.75.75 0 0 1-1.5 0V15.5H12.5a.75.75 0 0 1 0-1.5h2.25v-2.25a.75.75 0 0 1 .75-.75M2 14.75a.75.75 0 0 1 .75-.75H8a.75.75 0 0 1 0 1.5H2.75a.75.75 0 0 1-.75-.75",clipRule:"evenodd"})})},421654:(e,t,r)=>{"use strict";r.d(t,{Icon20PodcastOutline:()=>s});var n=r(474848),a=(r(296540),r(506447));const s=e=>(0,n.jsx)(a.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"podcast_outline_20",vkuiProps:e,children:(0,n.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,n.jsx)("path",{d:"M0 0h20v20H0z",opacity:".4"}),(0,n.jsx)("path",{fill:"currentColor",fillRule:"nonzero",d:"M10 5a4 4 0 0 1 4 4v3c0 1.953-1.4 3.578-3.25 3.93v1.32a.75.75 0 1 1-1.5 0v-1.32A4 4 0 0 1 6 12V9a4 4 0 0 1 4-4m0 1.5A2.5 2.5 0 0 0 7.5 9v3a2.5 2.5 0 0 0 4.502 1.498l-.13.002H10.45a.75.75 0 1 1 0-1.5h2.05v-1.5h-2.05a.75.75 0 1 1 0-1.5h2.05A2.5 2.5 0 0 0 10 6.5M10 2a7 7 0 0 1 6.938 6.065A1.5 1.5 0 0 1 18 9.5v3a1.5 1.5 0 0 1-3 0v-3c0-.428.18-.815.468-1.088a5.5 5.5 0 0 0-5.247-4.908L10 3.5a5.5 5.5 0 0 0-5.469 4.912c.29.273.469.66.469 1.088v3a1.5 1.5 0 0 1-3 0v-3a1.5 1.5 0 0 1 1.062-1.435A7 7 0 0 1 10 2"})]})})},848659:(e,t,r)=>{"use strict";r.d(t,{Icon20ShareOutline:()=>s});var n=r(474848),a=(r(296540),r(506447));const s=e=>(0,n.jsx)(a.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"share_outline_20",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,n.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.764 4.753a.25.25 0 0 1 .402-.198l6.742 5.247a.25.25 0 0 1 0 .395l-6.747 5.25a.25.25 0 0 1-.402-.198v-3.136a.75.75 0 0 0-.75-.75c-2.456 0-4.342.913-5.832 2.197.266-1.454.824-2.577 1.57-3.426 1.066-1.212 2.58-1.941 4.385-2.228a.75.75 0 0 0 .632-.741zm1.324-1.381c-1.15-.895-2.824-.075-2.824 1.38v1.791c-1.81.394-3.434 1.225-4.643 2.6-1.352 1.538-2.117 3.68-2.117 6.445a.75.75 0 0 0 1.329.477c1.362-1.655 3.059-2.942 5.426-3.167v2.35c0 1.456 1.674 2.277 2.823 1.382l6.747-5.25c.9-.7.9-2.061 0-2.762z",clipRule:"evenodd"})})},664179:(e,t,r)=>{"use strict";r.d(t,{Icon20ThumbsDown:()=>s});var n=r(474848),a=(r(296540),r(506447));const s=e=>(0,n.jsx)(a.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"thumbs_down_20",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,n.jsx)("path",{fillRule:"evenodd",d:"m14.725 12.63-1.944 4.52a2.232 2.232 0 0 1-4.283-.883v-2.326a.285.285 0 0 0-.285-.285H4.498c-2.105 0-3.556-2.111-2.8-4.076l2.076-5.4A3.4 3.4 0 0 1 6.947 2h4.849a3.2 3.2 0 0 1 3.2 3.2v6.114c0 .453-.092.9-.271 1.316M16.745 2a.75.75 0 0 0-.75.75v8.5a.75.75 0 0 0 1.5 0v-8.5a.75.75 0 0 0-.75-.75",clipRule:"evenodd"})})},933052:(e,t,r)=>{"use strict";r.d(t,{Icon20ThumbsDownOutline:()=>s});var n=r(474848),a=(r(296540),r(506447));const s=e=>(0,n.jsx)(a.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"thumbs_down_outline_20",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M10.762 18.503c.898 0 1.711-.532 2.07-1.355l1.77-4.057c.058-.134.097-.224.132-.317.152-.4.24-.823.261-1.251.005-.1.005-.198.005-.345v-4.46c0-.673 0-1.223-.037-1.671-.037-.463-.118-.882-.317-1.272a3.25 3.25 0 0 0-1.42-1.42c-.391-.2-.81-.28-1.273-.318C11.506 2 10.955 2 10.282 2h-2.47c-.829 0-1.433 0-1.974.197a3.25 3.25 0 0 0-1.254.826c-.395.42-.633.975-.96 1.736l-.994 2.32c-.387.902-.698 1.626-.89 2.218-.196.6-.306 1.166-.2 1.726a3.25 3.25 0 0 0 1.378 2.09c.473.319 1.036.441 1.665.498.62.057 1.408.057 2.389.057h1.531v2.578a2.26 2.26 0 0 0 2.26 2.258Zm.695-1.955a.759.759 0 0 1-1.454-.303V13.2c0-.571-.463-1.034-1.034-1.034h-1.96c-1.027 0-1.747-.001-2.29-.05-.543-.05-.803-.141-.963-.249a1.75 1.75 0 0 1-.742-1.125c-.036-.19-.017-.465.152-.983.169-.52.452-1.18.857-2.125l.93-2.167c.399-.93.534-1.215.724-1.417a1.75 1.75 0 0 1 .675-.445c.26-.095.576-.106 1.587-.106h2.311c.713 0 1.202 0 1.581.032.37.03.57.085.713.159.33.168.598.435.765.765.074.144.13.343.16.713.03.38.031.869.031 1.581v4.411c0 .17 0 .23-.003.29-.013.27-.069.537-.165.79-.02.055-.045.11-.113.267l-1.761 4.04ZM16.75 2a.75.75 0 0 0-.75.75v8.5a.75.75 0 0 0 1.5 0v-8.5a.75.75 0 0 0-.75-.75"})})},871186:(e,t,r)=>{"use strict";r.d(t,{Icon20VinylOutline:()=>s});var n=r(474848),a=(r(296540),r(506447));const s=e=>(0,n.jsxs)(a.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"vinyl_outline_20",vkuiAttrs:{fill:"none"},vkuiProps:e,children:[(0,n.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M10 7.5a2.5 2.5 0 0 0-1.768.732A2.5 2.5 0 0 0 7.5 10c0 .69.28 1.315.732 1.768A2.5 2.5 0 0 0 10 12.5a2.5 2.5 0 0 0 1.768-.732A2.5 2.5 0 0 0 12.5 10a2.5 2.5 0 0 0-.732-1.768A2.5 2.5 0 0 0 10 7.5m-.707 1.793A1 1 0 0 1 10 9a1 1 0 0 1 .707.293A1 1 0 0 1 11 10a1 1 0 0 1-.293.707A1 1 0 0 1 10 11a1 1 0 0 1-.707-.293A1 1 0 0 1 9 10a1 1 0 0 1 .293-.707",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:"currentColor",d:"M10.21 6.006a4 4 0 0 0-4.205 4.2.75.75 0 0 1-.71.787.75.75 0 0 1-.788-.71 5.5 5.5 0 0 1 5.78-5.775.75.75 0 0 1-.078 1.497m5.283 3.712a.75.75 0 0 0-1.498.077 4 4 0 0 1-4.204 4.2.75.75 0 0 0-.079 1.498 5.5 5.5 0 0 0 4.175-1.602 5.5 5.5 0 0 0 1.606-4.173"}),(0,n.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M10 1.5a8.47 8.47 0 0 0-6.01 2.49C2.45 5.528 1.5 7.653 1.5 10s.951 4.472 2.49 6.01C5.528 17.55 7.653 18.5 10 18.5s4.472-.951 6.01-2.49c1.539-1.538 2.49-3.663 2.49-6.01s-.951-4.472-2.49-6.01A8.47 8.47 0 0 0 10 1.5M5.05 5.05A6.97 6.97 0 0 1 10 3c1.933 0 3.681.782 4.95 2.05A6.97 6.97 0 0 1 17 10a6.97 6.97 0 0 1-2.05 4.95A6.97 6.97 0 0 1 10 17a6.97 6.97 0 0 1-4.95-2.05A6.97 6.97 0 0 1 3 10c0-1.933.782-3.681 2.05-4.95",clipRule:"evenodd"})]})},229233:(e,t,r)=>{"use strict";r.d(t,{Icon24ArrowLeftOutline:()=>s});var n=r(474848),a=(r(296540),r(506447));const s=e=>(0,n.jsx)(a.SvgIconRootV2,{viewBox:"0 0 24 24",width:24,height:24,vkuiIconId:"arrow_left_outline_24",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,n.jsx)("path",{fill:"currentColor",d:"M11.532 4.26a.9.9 0 0 1 .089 1.18l-.08.092L6.05 11.1H20.1a.9.9 0 0 1 .113 1.793l-.113.007H6.05l5.49 5.568a.9.9 0 0 1 .073 1.181l-.081.092a.9.9 0 0 1-1.181.072l-.092-.081-7-7.1a.9.9 0 0 1-.08-1.172l.08-.092 7-7.1a.9.9 0 0 1 1.273-.009"})})},101214:(e,t,r)=>{"use strict";r.d(t,{Icon24CancelOutline:()=>s});var n=r(474848),a=(r(296540),r(506447));const s=e=>(0,n.jsx)(a.SvgIconRootV2,{viewBox:"0 0 24 24",width:24,height:24,vkuiIconId:"cancel_outline_24",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,n.jsx)("path",{fill:"currentColor",d:"M5.264 5.264a.9.9 0 0 1 1.272 0L12 10.727l5.464-5.463a.9.9 0 0 1 1.272 1.272L13.273 12l5.463 5.464a.9.9 0 1 1-1.272 1.272L12 13.273l-5.464 5.463a.9.9 0 1 1-1.272-1.272L10.727 12 5.264 6.536a.9.9 0 0 1 0-1.272"})})},219500:(e,t,r)=>{"use strict";r.d(t,{Icon24Chevron:()=>s});var n=r(474848),a=(r(296540),r(506447));const s=e=>(0,n.jsx)(a.SvgIconRootV2,{viewBox:"0 0 16 24",width:16,height:24,vkuiIconId:"chevron_24",vkuiProps:e,children:(0,n.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,n.jsx)("path",{d:"M0 0h16v24H0z"}),(0,n.jsx)("path",{fill:"currentColor",d:"M4.706 7.706a1 1 0 0 1 0-1.412l.088-.088a.997.997 0 0 1 1.414.002l5.084 5.084a1 1 0 0 1 0 1.416l-5.084 5.084a1 1 0 0 1-1.414.002l-.088-.088a.995.995 0 0 1 0-1.412L9 12z"})]})})},604862:(e,t,r)=>{"use strict";r.d(t,{Icon24ChevronCompactLeft:()=>s});var n=r(474848),a=(r(296540),r(506447));const s=e=>(0,n.jsx)(a.SvgIconRootV2,{viewBox:"0 0 16 24",width:16,height:24,vkuiIconId:"chevron_compact_left_24",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,n.jsx)("path",{fill:"currentColor",d:"M11.293 7.706a1 1 0 0 0 0-1.412l-.088-.088a.997.997 0 0 0-1.414.002l-5.084 5.084a1 1 0 0 0 0 1.416l5.084 5.084c.39.391 1.026.39 1.414.002l.088-.088a.995.995 0 0 0 0-1.412L7 12z"})})},594612:(e,t,r)=>{"use strict";r.d(t,{Icon24ChevronUp:()=>s});var n=r(474848),a=(r(296540),r(506447));const s=e=>(0,n.jsx)(a.SvgIconRootV2,{viewBox:"0 0 24 24",width:24,height:24,vkuiIconId:"chevron_up_24",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,n.jsx)("path",{d:"m12 10.302-5.36 4.466a1 1 0 1 1-1.28-1.536l6-5a1 1 0 0 1 1.28 0l6 5a1 1 0 1 1-1.28 1.536z"})})},391329:(e,t,r)=>{"use strict";r.d(t,{Icon24Dismiss:()=>s});var n=r(474848),a=(r(296540),r(506447));const s=e=>(0,n.jsx)(a.SvgIconRootV2,{viewBox:"0 0 24 24",width:24,height:24,vkuiIconId:"dismiss_24",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,n.jsxs)("g",{fill:"currentColor",children:[(0,n.jsx)("path",{d:"M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12",opacity:".12"}),(0,n.jsx)("path",{d:"M16.736 7.264a.9.9 0 0 1 0 1.272L13.273 12l3.463 3.464a.9.9 0 0 1 .081 1.18l-.08.092a.9.9 0 0 1-1.273 0L12 13.273l-3.464 3.463a.9.9 0 1 1-1.272-1.272L10.727 12 7.264 8.536a.9.9 0 0 1-.08-1.18l.08-.092a.9.9 0 0 1 1.272 0L12 10.727l3.464-3.463a.9.9 0 0 1 1.272 0"})]})})},320180:(e,t,r)=>{"use strict";r.d(t,{Icon24Reorder:()=>s});var n=r(474848),a=(r(296540),r(506447));const s=e=>(0,n.jsx)(a.SvgIconRootV2,{viewBox:"0 0 24 24",width:24,height:24,vkuiIconId:"reorder_24",vkuiProps:e,children:(0,n.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,n.jsx)("path",{d:"M0 0h24v24H0z"}),(0,n.jsx)("path",{fill:"currentColor",fillRule:"nonzero",d:"M21 18a1 1 0 0 1-1 1H4a1 1 0 0 1 0-2h16a1 1 0 0 1 1 1m0-4a1 1 0 0 1-1 1H4a1 1 0 0 1 0-2h16a1 1 0 0 1 1 1m0-4a1 1 0 0 1-1 1H4a1 1 0 0 1 0-2h16a1 1 0 0 1 1 1M3 6a1 1 0 0 1 1-1h16a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1"})]})})},637146:(e,t,r)=>{"use strict";r.d(t,{Icon24ReorderIos:()=>s});var n=r(474848),a=(r(296540),r(506447));const s=e=>(0,n.jsx)(a.SvgIconRootV2,{viewBox:"0 0 24 24",width:24,height:24,vkuiIconId:"reorder_ios_24",vkuiProps:e,children:(0,n.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,n.jsx)("path",{d:"M0 0h24v24H0z",opacity:".1"}),(0,n.jsx)("path",{fill:"currentColor",fillRule:"nonzero",d:"M2.75 7h18.5a.75.75 0 1 1 0 1.5H2.75a.75.75 0 0 1 0-1.5m0 4h18.5a.75.75 0 1 1 0 1.5H2.75a.75.75 0 1 1 0-1.5m0 4h18.5a.75.75 0 1 1 0 1.5H2.75a.75.75 0 1 1 0-1.5"})]})})},87777:(e,t,r)=>{"use strict";r.d(t,{Icon28ArrowLeftOutline:()=>s});var n=r(474848),a=(r(296540),r(506447));const s=e=>(0,n.jsx)(a.SvgIconRootV2,{viewBox:"0 0 28 28",width:28,height:28,vkuiIconId:"arrow_left_outline_28",vkuiProps:e,children:(0,n.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,n.jsx)("path",{d:"M28 0H0v28h28z"}),(0,n.jsx)("path",{fill:"currentColor",fillRule:"nonzero",d:"M12.293 6.293a1 1 0 0 1 1.414 1.414L8.414 13H22a1 1 0 0 1 .993.883L23 14a1 1 0 0 1-1 1H8.414l5.293 5.293a1 1 0 0 1 .083 1.32l-.083.094a1 1 0 0 1-1.414 0l-7-7-.073-.082A1 1 0 0 1 5 14l.004.09L5 14.02V14a1 1 0 0 1 .125-.484 1 1 0 0 1 .071-.111 1 1 0 0 1 .097-.112l-.08.09q.037-.047.08-.09Z"})]})})},876310:(e,t,r)=>{"use strict";r.d(t,{Icon28CancelOutline:()=>s});var n=r(474848),a=(r(296540),r(506447));const s=e=>(0,n.jsx)(a.SvgIconRootV2,{viewBox:"0 0 28 28",width:28,height:28,vkuiIconId:"cancel_outline_28",vkuiProps:e,children:(0,n.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,n.jsx)("path",{d:"M0 0h28v28H0z"}),(0,n.jsx)("path",{fill:"currentColor",fillRule:"nonzero",d:"M6.293 6.293a1 1 0 0 1 1.414 0L14 12.585l6.293-6.292a1 1 0 0 1 1.32-.083l.094.083a1 1 0 0 1 0 1.414L15.415 14l6.292 6.293a1 1 0 0 1 .083 1.32l-.083.094a1 1 0 0 1-1.414 0L14 15.415l-6.293 6.292a1 1 0 0 1-1.32.083l-.094-.083a1 1 0 0 1 0-1.414L12.585 14 6.293 7.707a1 1 0 0 1-.083-1.32Z"})]})})},145691:(e,t,r)=>{"use strict";r.d(t,{Icon28ChevronLeftOutline:()=>s});var n=r(474848),a=(r(296540),r(506447));const s=e=>(0,n.jsx)(a.SvgIconRootV2,{viewBox:"0 0 28 28",width:28,height:28,vkuiIconId:"chevron_left_outline_28",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,n.jsx)("path",{fill:"currentColor",d:"m12.414 14 5.793-5.793a1 1 0 0 0-1.414-1.414l-6.5 6.5a1 1 0 0 0 0 1.414l6.5 6.5a1 1 0 0 0 1.414-1.414z"})})},579928:(e,t,r)=>{"use strict";r.d(t,{Icon28DoneOutline:()=>s});var n=r(474848),a=(r(296540),r(506447));const s=e=>(0,n.jsx)(a.SvgIconRootV2,{viewBox:"0 0 28 28",width:28,height:28,vkuiIconId:"done_outline_28",vkuiProps:e,children:(0,n.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,n.jsx)("path",{d:"M0 0h28v28H0z"}),(0,n.jsx)("path",{fill:"currentColor",fillRule:"nonzero",d:"m11 18.586-5.293-5.293a1 1 0 1 0-1.414 1.414l6 6a1 1 0 0 0 1.414 0l12-12a1 1 0 1 0-1.414-1.414z"})]})})},84249:(e,t,r)=>{"use strict";Symbol.for("constructDateFrom")},973608:(e,t,r)=>{"use strict";r.d(t,{TZDate:()=>_});var n=r(171893),a=r(855456),s=r(999765);class _ extends s.TZDateMini{static tz(e,...t){return t.length?new _(...t,e):new _(Date.now(),e)}toISOString(){const[e,t,r]=this.tzComponents(),n=`${e}${t}:${r}`;return this.internal.toISOString().slice(0,-1)+n}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,t,r,n]=this.internal.toUTCString().split(" ");return`${null==e?void 0:e.slice(0,-1)} ${r} ${t} ${n}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[t,r,n]=this.tzComponents();return`${e} GMT${t}${r}${n} (${a=this.timeZone,s=this,new Intl.DateTimeFormat("en-GB",{timeZone:a,timeZoneName:"long"}).format(s).slice(12)})`;var a,s}toLocaleString(e,t){return Date.prototype.toLocaleString.call(this,e,(0,a._)((0,n._)({},t),{timeZone:(null==t?void 0:t.timeZone)||this.timeZone}))}toLocaleDateString(e,t){return Date.prototype.toLocaleDateString.call(this,e,(0,a._)((0,n._)({},t),{timeZone:(null==t?void 0:t.timeZone)||this.timeZone}))}toLocaleTimeString(e,t){return Date.prototype.toLocaleTimeString.call(this,e,(0,a._)((0,n._)({},t),{timeZone:(null==t?void 0:t.timeZone)||this.timeZone}))}tzComponents(){const e=this.getTimezoneOffset();return[e>0?"-":"+",String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),String(Math.abs(e)%60).padStart(2,"0")]}withTimeZone(e){return new _(+this,e)}[Symbol.for("constructDateFrom")](e){return new _(+new Date(e),this.timeZone)}}},999765:(e,t,r)=>{"use strict";r.d(t,{TZDateMini:()=>a});var n=r(690665);class a extends Date{static tz(e,...t){return t.length?new a(...t,e):new a(Date.now(),e)}withTimeZone(e){return new a(+this,e)}getTimezoneOffset(){return-(0,n.tzOffset)(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),_(this),+this}[Symbol.for("constructDateFrom")](e){return new a(+new Date(e),this.timeZone)}constructor(...e){super(),e.length>1&&"string"==typeof e[e.length-1]&&(this.timeZone=e.pop()),this.internal=new Date,isNaN((0,n.tzOffset)(this.timeZone,this))?this.setTime(NaN):e.length?"number"==typeof e[0]&&(1===e.length||2===e.length&&"number"!=typeof e[1])?this.setTime(e[0]):"string"==typeof e[0]?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),c(this),_(this)):this.setTime(Date.now())}}const s=/^(get|set)(?!UTC)/;function _(e){e.internal.setTime(+e),e.internal.setUTCMinutes(e.internal.getUTCMinutes()-e.getTimezoneOffset())}function c(e){const t=(0,n.tzOffset)(e.timeZone,e),r=new Date(+e);r.setUTCHours(r.getUTCHours()-1);const a=-new Date(+e).getTimezoneOffset(),s=a- -new Date(+r).getTimezoneOffset(),_=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();s&&_&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+s);const c=a-t;c&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+c);const l=(0,n.tzOffset)(e.timeZone,e),u=-new Date(+e).getTimezoneOffset()-l-c;if(l!==t&&u){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+u);const t=l-(0,n.tzOffset)(e.timeZone,e);t&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+t),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+t))}}Object.getOwnPropertyNames(Date.prototype).forEach((e=>{if(!s.test(e))return;const t=e.replace(s,"$1UTC");a.prototype[t]&&(e.startsWith("get")?a.prototype[e]=function(){return this.internal[t]()}:(a.prototype[e]=function(){var e;return Date.prototype[t].apply(this.internal,arguments),e=this,Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),c(e),+this},a.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),_(this),+this}))}))},724823:(e,t,r)=>{"use strict";r.d(t,{TZDateMini:()=>n.TZDateMini});r(84249),r(973608);var n=r(999765);r(278482),r(690665),r(598879)},278482:(e,t,r)=>{"use strict";r(973608)},690665:(e,t,r)=>{"use strict";r.d(t,{tzOffset:()=>s});const n={},a={};function s(e,t){try{var r,s;const _=((r=n)[s=e]||(r[s]=new Intl.DateTimeFormat("en-GB",{timeZone:e,hour:"numeric",timeZoneName:"longOffset"}).format))(t).split("GMT")[1]||"";return _ in a?a[_]:c(_,_.split(":"))}catch(t){if(e in a)return a[e];const r=null==e?void 0:e.match(_);return r?c(e,r.slice(1)):NaN}}const _=/([+-]\d\d):?(\d\d)?/;function c(e,t){const r=+t[0],n=+(t[1]||0);return a[e]=r>0?60*r+n:60*r-n}},598879:(e,t,r)=>{"use strict";r(690665)},250622:(e,t,r)=>{"use strict";function n(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}r.d(t,{addLeadingZeros:()=>n})},182695:(e,t,r)=>{"use strict";r.d(t,{getDefaultOptions:()=>a,setDefaultOptions:()=>s});let n={};function a(){return n}function s(e){n=e}},469021:(e,t,r)=>{"use strict";r.d(t,{lightFormatters:()=>a});var n=r(250622);const a={y(e,t){const r=e.getFullYear(),a=r>0?r:1-r;return(0,n.addLeadingZeros)("yy"===t?a%100:a,t.length)},M(e,t){const r=e.getMonth();return"M"===t?String(r+1):(0,n.addLeadingZeros)(r+1,2)},d:(e,t)=>(0,n.addLeadingZeros)(e.getDate(),t.length),a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return"am"===r?"a.m.":"p.m."}},h:(e,t)=>(0,n.addLeadingZeros)(e.getHours()%12||12,t.length),H:(e,t)=>(0,n.addLeadingZeros)(e.getHours(),t.length),m:(e,t)=>(0,n.addLeadingZeros)(e.getMinutes(),t.length),s:(e,t)=>(0,n.addLeadingZeros)(e.getSeconds(),t.length),S(e,t){const r=t.length,a=e.getMilliseconds(),s=Math.trunc(a*Math.pow(10,r-3));return(0,n.addLeadingZeros)(s,t.length)}}},540215:(e,t,r)=>{"use strict";r.d(t,{getTimezoneOffsetInMilliseconds:()=>a});var n=r(902642);function a(e){const t=(0,n.toDate)(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}},313999:(e,t,r)=>{"use strict";r.d(t,{addDays:()=>s});var n=r(902642),a=r(35840);function s(e,t){const r=(0,n.toDate)(e);return isNaN(t)?(0,a.constructFrom)(e,NaN):t?(r.setDate(r.getDate()+t),r):r}},204883:(e,t,r)=>{"use strict";r.d(t,{addMonths:()=>s});var n=r(902642),a=r(35840);function s(e,t){const r=(0,n.toDate)(e);if(isNaN(t))return(0,a.constructFrom)(e,NaN);if(!t)return r;const s=r.getDate(),_=(0,a.constructFrom)(e,r.getTime());_.setMonth(r.getMonth()+t+1,0);return s>=_.getDate()?_:(r.setFullYear(_.getFullYear(),_.getMonth(),s),r)}},811897:(e,t,r)=>{"use strict";r.d(t,{addWeeks:()=>a});var n=r(313999);function a(e,t){const r=7*t;return(0,n.addDays)(e,r)}},502940:(e,t,r)=>{"use strict";r.d(t,{daysInWeek:()=>n,daysInYear:()=>a,millisecondsInDay:()=>_,millisecondsInHour:()=>l,millisecondsInMinute:()=>c,millisecondsInSecond:()=>u,millisecondsInWeek:()=>s,minutesInDay:()=>E,minutesInHour:()=>m,minutesInMonth:()=>p,minutesInYear:()=>d,monthsInQuarter:()=>g,monthsInYear:()=>A,quartersInYear:()=>f,secondsInDay:()=>R,secondsInHour:()=>I,secondsInMinute:()=>y,secondsInMonth:()=>T,secondsInQuarter:()=>P,secondsInWeek:()=>O,secondsInYear:()=>S});const n=7,a=365.2425,s=(Math.pow(10,8),6048e5),_=864e5,c=6e4,l=36e5,u=1e3,d=525600,p=43200,E=1440,m=60,g=3,A=12,f=4,I=3600,y=60,R=24*I,O=7*R,S=R*a,T=S/12,P=3*T},35840:(e,t,r)=>{"use strict";function n(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}r.d(t,{constructFrom:()=>n})},720514:(e,t,r)=>{"use strict";r.d(t,{differenceInCalendarDays:()=>_});var n=r(502940),a=r(51730),s=r(540215);function _(e,t){const r=(0,a.startOfDay)(e),_=(0,a.startOfDay)(t),c=+r-(0,s.getTimezoneOffsetInMilliseconds)(r),l=+_-(0,s.getTimezoneOffsetInMilliseconds)(_);return Math.round((c-l)/n.millisecondsInDay)}},317764:(e,t,r)=>{"use strict";r.d(t,{differenceInDays:()=>s});var n=r(720514),a=r(902642);function s(e,t){const r=(0,a.toDate)(e),s=(0,a.toDate)(t),c=_(r,s),l=Math.abs((0,n.differenceInCalendarDays)(r,s));r.setDate(r.getDate()-c*l);const u=c*(l-Number(_(r,s)===-c));return 0===u?0:u}function _(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}},977275:(e,t,r)=>{"use strict";r.d(t,{differenceInMilliseconds:()=>a});var n=r(902642);function a(e,t){return+(0,n.toDate)(e)-+(0,n.toDate)(t)}},842340:(e,t,r)=>{"use strict";r.d(t,{eachDayOfInterval:()=>a});var n=r(902642);function a(e,t){const r=(0,n.toDate)(e.start),a=(0,n.toDate)(e.end);let s=+r>+a;const _=s?+r:+a,c=s?a:r;c.setHours(0,0,0,0);let l=t?.step??1;if(!l)return[];l<0&&(l=-l,s=!s);const u=[];for(;+c<=_;)u.push((0,n.toDate)(c)),c.setDate(c.getDate()+l),c.setHours(0,0,0,0);return s?u.reverse():u}},437519:(e,t,r)=>{"use strict";r.d(t,{endOfDay:()=>a});var n=r(902642);function a(e){const t=(0,n.toDate)(e);return t.setHours(23,59,59,999),t}},871359:(e,t,r)=>{"use strict";r.d(t,{endOfMonth:()=>a});var n=r(902642);function a(e){const t=(0,n.toDate)(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}},272483:(e,t,r)=>{"use strict";r.d(t,{endOfWeek:()=>s});var n=r(902642),a=r(182695);function s(e,t){const r=(0,a.getDefaultOptions)(),s=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,_=(0,n.toDate)(e),c=_.getDay(),l=6+(c<s?-7:0)-(c-s);return _.setDate(_.getDate()+l),_.setHours(23,59,59,999),_}},314051:(e,t,r)=>{"use strict";r.d(t,{getDaysInMonth:()=>s});var n=r(902642),a=r(35840);function s(e){const t=(0,n.toDate)(e),r=t.getFullYear(),s=t.getMonth(),_=(0,a.constructFrom)(e,0);return _.setFullYear(r,s+1,0),_.setHours(0,0,0,0),_.getDate()}},889369:(e,t,r)=>{"use strict";r.d(t,{isAfter:()=>a});var n=r(902642);function a(e,t){const r=(0,n.toDate)(e),a=(0,n.toDate)(t);return r.getTime()>a.getTime()}},272880:(e,t,r)=>{"use strict";r.d(t,{isBefore:()=>a});var n=r(902642);function a(e,t){return+(0,n.toDate)(e)<+(0,n.toDate)(t)}},32833:(e,t,r)=>{"use strict";function n(e){return e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)}r.d(t,{isDate:()=>n})},739980:(e,t,r)=>{"use strict";r.d(t,{isFirstDayOfMonth:()=>a});var n=r(902642);function a(e){return 1===(0,n.toDate)(e).getDate()}},142364:(e,t,r)=>{"use strict";r.d(t,{isLastDayOfMonth:()=>_});var n=r(437519),a=r(871359),s=r(902642);function _(e){const t=(0,s.toDate)(e);return+(0,n.endOfDay)(t)==+(0,a.endOfMonth)(t)}},885551:(e,t,r)=>{"use strict";r.d(t,{isSameDay:()=>a});var n=r(51730);function a(e,t){return+(0,n.startOfDay)(e)==+(0,n.startOfDay)(t)}},565855:(e,t,r)=>{"use strict";r.d(t,{isSameMonth:()=>a});var n=r(902642);function a(e,t){const r=(0,n.toDate)(e),a=(0,n.toDate)(t);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}},71649:(e,t,r)=>{"use strict";r.d(t,{isValid:()=>s});var n=r(32833),a=r(902642);function s(e){if(!(0,n.isDate)(e)&&"number"!=typeof e)return!1;const t=(0,a.toDate)(e);return!isNaN(Number(t))}},817287:(e,t,r)=>{"use strict";r.d(t,{isWithinInterval:()=>a});var n=r(902642);function a(e,t){const r=+(0,n.toDate)(e),[a,s]=[+(0,n.toDate)(t.start),+(0,n.toDate)(t.end)].sort(((e,t)=>e-t));return r>=a&&r<=s}},468546:(e,t,r)=>{"use strict";r.d(t,{lightFormat:()=>d,lightFormatters:()=>s.lightFormatters});var n=r(71649),a=r(902642),s=r(469021);const _=/(\w)\1*|''|'(''|[^'])+('|$)|./g,c=/^'([^]*?)'?$/,l=/''/g,u=/[a-zA-Z]/;function d(e,t){const r=(0,a.toDate)(e);if(!(0,n.isValid)(r))throw new RangeError("Invalid time value");const d=t.match(_);if(!d)return"";return d.map((e=>{if("''"===e)return"'";const t=e[0];if("'"===t)return function(e){const t=e.match(c);if(!t)return e;return t[1].replace(l,"'")}(e);const n=s.lightFormatters[t];if(n)return n(r,e);if(t.match(u))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return e})).join("")}},9380:(e,t,r)=>{"use strict";r.d(t,{setHours:()=>a});var n=r(902642);function a(e,t){const r=(0,n.toDate)(e);return r.setHours(t),r}},968570:(e,t,r)=>{"use strict";r.d(t,{setMinutes:()=>a});var n=r(902642);function a(e,t){const r=(0,n.toDate)(e);return r.setMinutes(t),r}},609551:(e,t,r)=>{"use strict";r.d(t,{setMonth:()=>_});var n=r(35840),a=r(314051),s=r(902642);function _(e,t){const r=(0,s.toDate)(e),_=r.getFullYear(),c=r.getDate(),l=(0,n.constructFrom)(e,0);l.setFullYear(_,t,15),l.setHours(0,0,0,0);const u=(0,a.getDaysInMonth)(l);return r.setMonth(t,Math.min(c,u)),r}},609016:(e,t,r)=>{"use strict";r.d(t,{setYear:()=>s});var n=r(35840),a=r(902642);function s(e,t){const r=(0,a.toDate)(e);return isNaN(+r)?(0,n.constructFrom)(e,NaN):(r.setFullYear(t),r)}},51730:(e,t,r)=>{"use strict";r.d(t,{startOfDay:()=>a});var n=r(902642);function a(e){const t=(0,n.toDate)(e);return t.setHours(0,0,0,0),t}},502344:(e,t,r)=>{"use strict";r.d(t,{startOfMinute:()=>a});var n=r(902642);function a(e){const t=(0,n.toDate)(e);return t.setSeconds(0,0),t}},42150:(e,t,r)=>{"use strict";r.d(t,{startOfMonth:()=>a});var n=r(902642);function a(e){const t=(0,n.toDate)(e);return t.setDate(1),t.setHours(0,0,0,0),t}},971169:(e,t,r)=>{"use strict";function n(){const e=new Date,t=e.getFullYear(),r=e.getMonth(),n=e.getDate(),a=new Date(0);return a.setFullYear(t,r,n+1),a.setHours(0,0,0,0),a}r.d(t,{startOfTomorrow:()=>n})},892528:(e,t,r)=>{"use strict";r.d(t,{startOfWeek:()=>s});var n=r(902642),a=r(182695);function s(e,t){const r=(0,a.getDefaultOptions)(),s=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,_=(0,n.toDate)(e),c=_.getDay(),l=(c<s?7:0)+c-s;return _.setDate(_.getDate()-l),_.setHours(0,0,0,0),_}},340828:(e,t,r)=>{"use strict";r.d(t,{subDays:()=>a});var n=r(313999);function a(e,t){return(0,n.addDays)(e,-t)}},939804:(e,t,r)=>{"use strict";r.d(t,{subMonths:()=>a});var n=r(204883);function a(e,t){return(0,n.addMonths)(e,-t)}},177396:(e,t,r)=>{"use strict";r.d(t,{subWeeks:()=>a});var n=r(811897);function a(e,t){return(0,n.addWeeks)(e,-t)}},902642:(e,t,r)=>{"use strict";function n(e){const t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new e.constructor(+e):"number"==typeof e||"[object Number]"===t||"string"==typeof e||"[object String]"===t?new Date(e):new Date(NaN)}r.d(t,{toDate:()=>n})},43014:(e,t,r)=>{"use strict";r.d(t,{persist:()=>c});var n=r(32489),a=new Map,s=e=>(t,r)=>e(r,t.ref),_=(0,n.createEvent)();function c(e){var{adapter:t,store:r,source:c=r,target:l=r,clock:u=c,done:d,fail:p=_,finally:E,pickup:m,context:g,key:A,keyPrefix:f="",contract:I}=e;if(!t)throw Error("Adapter is not defined");if(!c)throw Error("Store or source is not defined");if(!l)throw Error("Target is not defined");if(!A&&c.shortName===c.id)throw Error("Key or name is not defined");if(c===l&&!n.is.store(c))throw Error("Source must be different from target");void 0===e.def&&n.is.store(c)&&(e.def=c.defaultState);var y="factory"in t?t(e):t,R=A||c.shortName,O=function(e,t){var r=a.get(e);void 0===r&&(r=new Map,a.set(e,r));var s=r.get(t);return void 0!==s||(s=(0,n.createStore)(null,{serialize:"ignore"}),r.set(t,s)),s}(y.keyArea||y,f+R),S=(0,n.createNode)(),T=()=>(0,n.clearNode)(S),P=e=>({status:t="fail",params:r,result:n,error:a})=>"done"===t?{status:t,key:R,keyPrefix:f,operation:e,value:"get"===e?n:r}:{status:t,key:R,keyPrefix:f,operation:e,value:r,error:a};return(0,n.withRegion)(S,(()=>{var e,t=(0,n.createStore)({ref:void 0},{serialize:"ignore"}),r=y(f+R,(e=>D(e))),a=(0,n.attach)({source:t,effect:s(r.get)}),_=(0,n.attach)({source:t,effect:s(r.set)}),A=(0,n.createEffect)((e=I,t=>!e||void 0===t||("isData"in e?e.isData(t):e(t))?t:(()=>{throw"getErrorMessages"in e?e.getErrorMessages(t):void 0})())),S=(0,n.createEvent)(),T=S.filterMap((({status:e,key:t,keyPrefix:r,operation:n,value:a})=>"done"===e?{key:t,keyPrefix:r,operation:n,value:a}:void 0)),b=S.filterMap((({status:e,key:t,keyPrefix:r,operation:n,error:a,value:s})=>"fail"===e?{key:t,keyPrefix:r,operation:n,error:a,value:s}:void 0)),C=(0,n.createEvent)(),D=a;t.updates.watch((()=>{D=(e=>{try{return(0,n.scopeBind)(e,{safe:!0})}catch(t){return e}})(a)})),(0,n.sample)({source:c,clock:u,target:C}),(0,n.guard)({source:(0,n.sample)(O,C,((e,t)=>[t,e])),filter:([e,t])=>e!==t,target:_.prepend((([e])=>e))}),(0,n.forward)({from:[a.doneData,_],to:O}),(0,n.sample)({source:(0,n.merge)([a.doneData,O]),target:A}),(0,n.forward)({from:A.doneData,to:l}),(0,n.forward)({from:[a.finally.map(P("get")),_.finally.map(P("set")),A.fail.map(P("validate"))],to:S}),(0,n.forward)({from:b,to:p}),d&&(0,n.forward)({from:T,to:d}),E&&(0,n.forward)({from:S,to:E}),g&&t.on(g,(({ref:e},t)=>({ref:void 0===t?e:t}))),m?((0,n.forward)({from:m,to:a.prepend((()=>{}))}),t.on(m,(({ref:e},t)=>({ref:void 0===t?e:t})))):a()})),T.unsubscribe=T}_.watch((e=>console.error(e.error)))},225604:(e,t,r)=>{"use strict";r.d(t,{persist:()=>l});var n=r(43014),a=r(719888),s=r(764318);function _(e){return function(){try{return"undefined"!=typeof localStorage}catch(e){return!0}}()?(0,s.storage)({storage:()=>localStorage,sync:!0,...e}):(0,a.nil)({keyArea:"local"})}_.factory=!0;var c,l=e=>(0,n.persist)({adapter:_,...c,...e})},719888:(e,t,r)=>{"use strict";function n({keyArea:e=""}={}){var t=()=>({get(){},set(){}});return t.keyArea=e,t.noop=!0,t}r.d(t,{nil:()=>n}),n.factory=!0},764318:(e,t,r)=>{"use strict";function n({storage:e,sync:t=!1,serialize:r=JSON.stringify,deserialize:n=JSON.parse,timeout:a,def:s}){var _=(_,c)=>{var l,u,d,p=()=>d.setItem(_,r(u)),E=e=>{l=clearTimeout(l),e&&p(),"undefined"!=typeof removeEventListener&&removeEventListener("beforeunload",E)};return t&&"undefined"!=typeof addEventListener&&addEventListener("storage",(r=>{r.storageArea===e()&&(r.key===_&&c("force"===t?void 0:r.newValue),null===r.key&&c(null))})),{get(t){E();var r=void 0!==t?t:e().getItem(_);return null===r?void 0!==s?s:t:n(r)},set(t){u=t,d=e(),void 0===a?p():l||(l=setTimeout(E,a,1),"undefined"!=typeof addEventListener&&addEventListener("beforeunload",E))}}};try{_.keyArea=e()}catch(e){}return _}r.d(t,{storage:()=>n}),n.factory=!0},260602:(e,t,r)=>{"use strict";r.d(t,{deleteDB:()=>s,openDB:()=>a});var n=r(767500);function a(e,t,{blocked:r,upgrade:a,blocking:s,terminated:_}={}){const c=indexedDB.open(e,t),l=(0,n.w)(c);return a&&c.addEventListener("upgradeneeded",(e=>{a((0,n.w)(c.result),e.oldVersion,e.newVersion,(0,n.w)(c.transaction),e)})),r&&c.addEventListener("blocked",(e=>r(e.oldVersion,e.newVersion,e))),l.then((e=>{_&&e.addEventListener("close",(()=>_())),s&&e.addEventListener("versionchange",(e=>s(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),l}function s(e,{blocked:t}={}){const r=indexedDB.deleteDatabase(e);return t&&r.addEventListener("blocked",(e=>t(e.oldVersion,e))),(0,n.w)(r).then((()=>{}))}const _=["get","getKey","getAll","getAllKeys","count"],c=["put","add","delete","clear"],l=new Map;function u(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(l.get(t))return l.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=c.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!a&&!_.includes(r))return;const s=async function(e,...t){const s=this.transaction(e,a?"readwrite":"readonly");let _=s.store;return n&&(_=_.index(t.shift())),(await Promise.all([_[r](...t),a&&s.done]))[0]};return l.set(t,s),s}(0,n.r)((e=>({...e,get:(t,r,n)=>u(t,r)||e.get(t,r,n),has:(t,r)=>!!u(t,r)||e.has(t,r)})))},767500:(e,t,r)=>{"use strict";r.d(t,{r:()=>E,w:()=>A});const n=(e,t)=>t.some((t=>e instanceof t));let a,s;const _=new WeakMap,c=new WeakMap,l=new WeakMap,u=new WeakMap,d=new WeakMap;let p={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return c.get(e);if("objectStoreNames"===t)return e.objectStoreNames||l.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return A(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function E(e){p=e(p)}function m(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(s||(s=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(f(this),t),A(_.get(this))}:function(...t){return A(e.apply(f(this),t))}:function(t,...r){const n=e.call(f(this),t,...r);return l.set(n,t.sort?t.sort():[t]),A(n)}}function g(e){return"function"==typeof e?m(e):(e instanceof IDBTransaction&&function(e){if(c.has(e))return;const t=new Promise(((t,r)=>{const n=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",s),e.removeEventListener("abort",s)},a=()=>{t(),n()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",a),e.addEventListener("error",s),e.addEventListener("abort",s)}));c.set(e,t)}(e),n(e,a||(a=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,p):e)}function A(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,r)=>{const n=()=>{e.removeEventListener("success",a),e.removeEventListener("error",s)},a=()=>{t(A(e.result)),n()},s=()=>{r(e.error),n()};e.addEventListener("success",a),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&_.set(t,e)})).catch((()=>{})),d.set(t,e),t}(e);if(u.has(e))return u.get(e);const t=g(e);return t!==e&&(u.set(e,t),d.set(t,e)),t}const f=e=>d.get(e)},202732:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(280702),a=r(41917);const s=(0,n.default)(a.default,"DataView")},965373:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var n=r(962944),a=r(349190),s=r(178417),_=r(18813),c=r(463957);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n.default,l.prototype.delete=a.default,l.prototype.get=s.default,l.prototype.has=_.default,l.prototype.set=c.default;const u=l},277919:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var n=r(36838),a=r(362384),s=r(104787),_=r(898207),c=r(451031);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n.default,l.prototype.delete=a.default,l.prototype.get=s.default,l.prototype.has=_.default,l.prototype.set=c.default;const u=l},168335:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(280702),a=r(41917);const s=(0,n.default)(a.default,"Map")},935917:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var n=r(95088),a=r(829846),s=r(831521),_=r(782509),c=r(549);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n.default,l.prototype.delete=a.default,l.prototype.get=s.default,l.prototype.has=_.default,l.prototype.set=c.default;const u=l},20180:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(280702),a=r(41917);const s=(0,n.default)(a.default,"Promise")},439857:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(280702),a=r(41917);const s=(0,n.default)(a.default,"Set")},601275:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var n=r(935917),a=r(25668),s=r(529875);function _(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n.default;++t<r;)this.add(e[t])}_.prototype.add=_.prototype.push=a.default,_.prototype.has=s.default;const c=_},93265:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var n=r(277919),a=r(591532),s=r(42),_=r(173061),c=r(144105),l=r(487681);function u(e){var t=this.__data__=new n.default(e);this.size=t.size}u.prototype.clear=a.default,u.prototype.delete=s.default,u.prototype.get=_.default,u.prototype.has=c.default,u.prototype.set=l.default;const d=u},700241:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=r(41917).default.Symbol},243988:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=r(41917).default.Uint8Array},753631:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(280702),a=r(41917);const s=(0,n.default)(a.default,"WeakMap")},102634:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=function(e,t){for(var r=-1,n=null==e?0:e.length,a=0,s=[];++r<n;){var _=e[r];t(_,r,e)&&(s[a++]=_)}return s}},550423:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var n=r(159520),a=r(241788),s=r(292049),_=r(74616),c=r(925353),l=r(118719),u=Object.prototype.hasOwnProperty;const d=function(e,t){var r=(0,s.default)(e),d=!r&&(0,a.default)(e),p=!r&&!d&&(0,_.default)(e),E=!r&&!d&&!p&&(0,l.default)(e),m=r||d||p||E,g=m?(0,n.default)(e.length,String):[],A=g.length;for(var f in e)!t&&!u.call(e,f)||m&&("length"==f||p&&("offset"==f||"parent"==f)||E&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||(0,c.default)(f,A))||g.push(f);return g}},45572:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=function(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}},976912:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=function(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}},463736:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},633331:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=(0,r(770805).default)("length")},279010:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=function(e){return e.split("")}},652851:(e,t,r)=>{"use strict";r.d(t,{default:()=>_});var n=r(152528),a=r(166984),s=Object.prototype.hasOwnProperty;const _=function(e,t,r){var _=e[t];s.call(e,t)&&(0,a.default)(_,r)&&(void 0!==r||t in e)||(0,n.default)(e,t,r)}},210169:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=r(166984);const a=function(e,t){for(var r=e.length;r--;)if((0,n.default)(e[r][0],t))return r;return-1}},152528:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=r(684171);const a=function(e,t,r){"__proto__"==t&&n.default?(0,n.default)(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},966318:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(687465),a=r(930901);const s=function(e,t){for(var r=0,s=(t=(0,n.default)(t,e)).length;null!=e&&r<s;)e=e[(0,a.default)(t[r++])];return r&&r==s?e:void 0}},833831:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(976912),a=r(292049);const s=function(e,t,r){var s=t(e);return(0,a.default)(e)?s:(0,n.default)(s,r(e))}},979672:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var n=r(700241),a=r(240451),s=r(965606),_=n.default?n.default.toStringTag:void 0;const c=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":_&&_ in Object(e)?(0,a.default)(e):(0,s.default)(e)}},509789:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=function(e,t){return null!=e&&t in Object(e)}},974846:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(979672),a=r(753098);const s=function(e){return(0,a.default)(e)&&"[object Arguments]"==(0,n.default)(e)}},891038:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(343244),a=r(753098);const s=function e(t,r,s,_,c){return t===r||(null==t||null==r||!(0,a.default)(t)&&!(0,a.default)(r)?t!=t&&r!=r:(0,n.default)(t,r,s,_,e,c))}},343244:(e,t,r)=>{"use strict";r.d(t,{default:()=>A});var n=r(93265),a=r(608967),s=r(480402),_=r(937265),c=r(935861),l=r(292049),u=r(74616),d=r(118719),p="[object Arguments]",E="[object Array]",m="[object Object]",g=Object.prototype.hasOwnProperty;const A=function(e,t,r,A,f,I){var y=(0,l.default)(e),R=(0,l.default)(t),O=y?E:(0,c.default)(e),S=R?E:(0,c.default)(t),T=(O=O==p?m:O)==m,P=(S=S==p?m:S)==m,b=O==S;if(b&&(0,u.default)(e)){if(!(0,u.default)(t))return!1;y=!0,T=!1}if(b&&!T)return I||(I=new n.default),y||(0,d.default)(e)?(0,a.default)(e,t,r,A,f,I):(0,s.default)(e,t,O,r,A,f,I);if(!(1&r)){var C=T&&g.call(e,"__wrapped__"),D=P&&g.call(t,"__wrapped__");if(C||D){var M=C?e.value():e,L=D?t.value():t;return I||(I=new n.default),f(M,L,r,A,I)}}return!!b&&(I||(I=new n.default),(0,_.default)(e,t,r,A,f,I))}},500759:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(93265),a=r(891038);const s=function(e,t,r,s){var _=r.length,c=_,l=!s;if(null==e)return!c;for(e=Object(e);_--;){var u=r[_];if(l&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++_<c;){var d=(u=r[_])[0],p=e[d],E=u[1];if(l&&u[2]){if(void 0===p&&!(d in e))return!1}else{var m=new n.default;if(s)var g=s(p,E,d,e,t,m);if(!(void 0===g?(0,a.default)(E,p,3,s,m):g))return!1}}return!0}},651979:(e,t,r)=>{"use strict";r.d(t,{default:()=>m});var n=r(389610),a=r(870640),s=r(523149),_=r(281121),c=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,d=l.toString,p=u.hasOwnProperty,E=RegExp("^"+d.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const m=function(e){return!(!(0,s.default)(e)||(0,a.default)(e))&&((0,n.default)(e)?E:c).test((0,_.default)(e))}},712973:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(979672),a=r(753098);const s=function(e){return(0,a.default)(e)&&"[object RegExp]"==(0,n.default)(e)}},289717:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var n=r(979672),a=r(5254),s=r(753098),_={};_["[object Float32Array]"]=_["[object Float64Array]"]=_["[object Int8Array]"]=_["[object Int16Array]"]=_["[object Int32Array]"]=_["[object Uint8Array]"]=_["[object Uint8ClampedArray]"]=_["[object Uint16Array]"]=_["[object Uint32Array]"]=!0,_["[object Arguments]"]=_["[object Array]"]=_["[object ArrayBuffer]"]=_["[object Boolean]"]=_["[object DataView]"]=_["[object Date]"]=_["[object Error]"]=_["[object Function]"]=_["[object Map]"]=_["[object Number]"]=_["[object Object]"]=_["[object RegExp]"]=_["[object Set]"]=_["[object String]"]=_["[object WeakMap]"]=!1;const c=function(e){return(0,s.default)(e)&&(0,a.default)(e.length)&&!!_[(0,n.default)(e)]}},952141:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var n=r(544943),a=r(256474),s=r(929008),_=r(292049),c=r(792263);const l=function(e){return"function"==typeof e?e:null==e?s.default:"object"==typeof e?(0,_.default)(e)?(0,a.default)(e[0],e[1]):(0,n.default)(e):(0,c.default)(e)}},17064:(e,t,r)=>{"use strict";r.d(t,{default:()=>_});var n=r(897271),a=r(733938),s=Object.prototype.hasOwnProperty;const _=function(e){if(!(0,n.default)(e))return(0,a.default)(e);var t=[];for(var r in Object(e))s.call(e,r)&&"constructor"!=r&&t.push(r);return t}},708823:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var n=r(523149),a=r(897271),s=r(981493),_=Object.prototype.hasOwnProperty;const c=function(e){if(!(0,n.default)(e))return(0,s.default)(e);var t=(0,a.default)(e),r=[];for(var c in e)("constructor"!=c||!t&&_.call(e,c))&&r.push(c);return r}},544943:(e,t,r)=>{"use strict";r.d(t,{default:()=>_});var n=r(500759),a=r(997960),s=r(945997);const _=function(e){var t=(0,a.default)(e);return 1==t.length&&t[0][2]?(0,s.default)(t[0][0],t[0][1]):function(r){return r===e||(0,n.default)(r,e,t)}}},256474:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var n=r(891038),a=r(877500),s=r(217511),_=r(386586),c=r(909396),l=r(945997),u=r(930901);const d=function(e,t){return(0,_.default)(e)&&(0,c.default)(t)?(0,l.default)((0,u.default)(e),t):function(r){var _=(0,a.default)(r,e);return void 0===_&&_===t?(0,s.default)(r,e):(0,n.default)(t,_,3)}}},769084:(e,t,r)=>{"use strict";r.d(t,{default:()=>_});var n=r(966318),a=r(837346),s=r(687465);const _=function(e,t,r){for(var _=-1,c=t.length,l={};++_<c;){var u=t[_],d=(0,n.default)(e,u);r(d,u)&&(0,a.default)(l,(0,s.default)(u,e),d)}return l}},770805:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=function(e){return function(t){return null==t?void 0:t[e]}}},82199:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=r(966318);const a=function(e){return function(t){return(0,n.default)(t,e)}}},837346:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var n=r(652851),a=r(687465),s=r(925353),_=r(523149),c=r(930901);const l=function(e,t,r,l){if(!(0,_.default)(e))return e;for(var u=-1,d=(t=(0,a.default)(t,e)).length,p=d-1,E=e;null!=E&&++u<d;){var m=(0,c.default)(t[u]),g=r;if("__proto__"===m||"constructor"===m||"prototype"===m)return e;if(u!=p){var A=E[m];void 0===(g=l?l(A,m,E):void 0)&&(g=(0,_.default)(A)?A:(0,s.default)(t[u+1])?[]:{})}(0,n.default)(E,m,g),E=E[m]}return e}},237688:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=function(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s}},159520:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},630052:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var n=r(700241),a=r(45572),s=r(292049),_=r(761882),c=n.default?n.default.prototype:void 0,l=c?c.toString:void 0;const u=function e(t){if("string"==typeof t)return t;if((0,s.default)(t))return(0,a.default)(t,e)+"";if((0,_.default)(t))return l?l.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}},375488:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(507880),a=/^\s+/;const s=function(e){return e?e.slice(0,(0,n.default)(e)+1).replace(a,""):e}},552789:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=function(e){return function(t){return e(t)}}},764099:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=function(e,t){return e.has(t)}},687465:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var n=r(292049),a=r(386586),s=r(865722),_=r(648182);const c=function(e,t){return(0,n.default)(e)?e:(0,a.default)(e,t)?[e]:(0,s.default)((0,_.default)(e))}},20098:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=r(237688);const a=function(e,t,r){var a=e.length;return r=void 0===r?a:r,!t&&r>=a?e:(0,n.default)(e,t,r)}},113161:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=r(41917).default["__core-js_shared__"]},684171:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=r(280702);const a=function(){try{var e=(0,n.default)(Object,"defineProperty");return e({},"",{}),e}catch(e){}}()},608967:(e,t,r)=>{"use strict";r.d(t,{default:()=>_});var n=r(601275),a=r(463736),s=r(764099);const _=function(e,t,r,_,c,l){var u=1&r,d=e.length,p=t.length;if(d!=p&&!(u&&p>d))return!1;var E=l.get(e),m=l.get(t);if(E&&m)return E==t&&m==e;var g=-1,A=!0,f=2&r?new n.default:void 0;for(l.set(e,t),l.set(t,e);++g<d;){var I=e[g],y=t[g];if(_)var R=u?_(y,I,g,t,e,l):_(I,y,g,e,t,l);if(void 0!==R){if(R)continue;A=!1;break}if(f){if(!(0,a.default)(t,(function(e,t){if(!(0,s.default)(f,t)&&(I===e||c(I,e,r,_,l)))return f.push(t)}))){A=!1;break}}else if(I!==y&&!c(I,y,r,_,l)){A=!1;break}}return l.delete(e),l.delete(t),A}},480402:(e,t,r)=>{"use strict";r.d(t,{default:()=>p});var n=r(700241),a=r(243988),s=r(166984),_=r(608967),c=r(164877),l=r(729959),u=n.default?n.default.prototype:void 0,d=u?u.valueOf:void 0;const p=function(e,t,r,n,u,p,E){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!p(new a.default(e),new a.default(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,s.default)(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var m=c.default;case"[object Set]":var g=1&n;if(m||(m=l.default),e.size!=t.size&&!g)return!1;var A=E.get(e);if(A)return A==t;n|=2,E.set(e,t);var f=(0,_.default)(m(e),m(t),n,u,p,E);return E.delete(e),f;case"[object Symbol]":if(d)return d.call(e)==d.call(t)}return!1}},937265:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(719042),a=Object.prototype.hasOwnProperty;const s=function(e,t,r,s,_,c){var l=1&r,u=(0,n.default)(e),d=u.length;if(d!=(0,n.default)(t).length&&!l)return!1;for(var p=d;p--;){var E=u[p];if(!(l?E in t:a.call(t,E)))return!1}var m=c.get(e),g=c.get(t);if(m&&g)return m==t&&g==e;var A=!0;c.set(e,t),c.set(t,e);for(var f=l;++p<d;){var I=e[E=u[p]],y=t[E];if(s)var R=l?s(y,I,E,t,e,c):s(I,y,E,e,t,c);if(!(void 0===R?I===y||_(I,y,r,s,c):R)){A=!1;break}f||(f="constructor"==E)}if(A&&!f){var O=e.constructor,S=t.constructor;O==S||!("constructor"in e)||!("constructor"in t)||"function"==typeof O&&O instanceof O&&"function"==typeof S&&S instanceof S||(A=!1)}return c.delete(e),c.delete(t),A}},272136:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n="object"==typeof global&&global&&global.Object===Object&&global},719042:(e,t,r)=>{"use strict";r.d(t,{default:()=>_});var n=r(833831),a=r(214792),s=r(327422);const _=function(e){return(0,n.default)(e,s.default,a.default)}},883973:(e,t,r)=>{"use strict";r.d(t,{default:()=>_});var n=r(833831),a=r(283511),s=r(241865);const _=function(e){return(0,n.default)(e,s.default,a.default)}},515547:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=r(649914);const a=function(e,t){var r=e.__data__;return(0,n.default)(t)?r["string"==typeof t?"string":"hash"]:r.map}},997960:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(909396),a=r(327422);const s=function(e){for(var t=(0,a.default)(e),r=t.length;r--;){var s=t[r],_=e[s];t[r]=[s,_,(0,n.default)(_)]}return t}},280702:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(651979),a=r(208104);const s=function(e,t){var r=(0,a.default)(e,t);return(0,n.default)(r)?r:void 0}},315647:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=(0,r(40367).default)(Object.getPrototypeOf,Object)},240451:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var n=r(700241),a=Object.prototype,s=a.hasOwnProperty,_=a.toString,c=n.default?n.default.toStringTag:void 0;const l=function(e){var t=s.call(e,c),r=e[c];try{e[c]=void 0;var n=!0}catch(e){}var a=_.call(e);return n&&(t?e[c]=r:delete e[c]),a}},214792:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var n=r(102634),a=r(613153),s=Object.prototype.propertyIsEnumerable,_=Object.getOwnPropertySymbols;const c=_?function(e){return null==e?[]:(e=Object(e),(0,n.default)(_(e),(function(t){return s.call(e,t)})))}:a.default},283511:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var n=r(976912),a=r(315647),s=r(214792),_=r(613153);const c=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)(0,n.default)(t,(0,s.default)(e)),e=(0,a.default)(e);return t}:_.default},935861:(e,t,r)=>{"use strict";r.d(t,{default:()=>S});var n=r(202732),a=r(168335),s=r(20180),_=r(439857),c=r(753631),l=r(979672),u=r(281121),d="[object Map]",p="[object Promise]",E="[object Set]",m="[object WeakMap]",g="[object DataView]",A=(0,u.default)(n.default),f=(0,u.default)(a.default),I=(0,u.default)(s.default),y=(0,u.default)(_.default),R=(0,u.default)(c.default),O=l.default;(n.default&&O(new n.default(new ArrayBuffer(1)))!=g||a.default&&O(new a.default)!=d||s.default&&O(s.default.resolve())!=p||_.default&&O(new _.default)!=E||c.default&&O(new c.default)!=m)&&(O=function(e){var t=(0,l.default)(e),r="[object Object]"==t?e.constructor:void 0,n=r?(0,u.default)(r):"";if(n)switch(n){case A:return g;case f:return d;case I:return p;case y:return E;case R:return m}return t});const S=O},208104:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=function(e,t){return null==e?void 0:e[t]}},285054:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var n=r(687465),a=r(241788),s=r(292049),_=r(925353),c=r(5254),l=r(930901);const u=function(e,t,r){for(var u=-1,d=(t=(0,n.default)(t,e)).length,p=!1;++u<d;){var E=(0,l.default)(t[u]);if(!(p=null!=e&&r(e,E)))break;e=e[E]}return p||++u!=d?p:!!(d=null==e?0:e.length)&&(0,c.default)(d)&&(0,_.default)(E,d)&&((0,s.default)(e)||(0,a.default)(e))}},770898:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const a=function(e){return n.test(e)}},962944:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=r(220674);const a=function(){this.__data__=n.default?(0,n.default)(null):{},this.size=0}},349190:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},178417:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(220674),a=Object.prototype.hasOwnProperty;const s=function(e){var t=this.__data__;if(n.default){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return a.call(t,e)?t[e]:void 0}},18813:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(220674),a=Object.prototype.hasOwnProperty;const s=function(e){var t=this.__data__;return n.default?void 0!==t[e]:a.call(t,e)}},463957:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=r(220674);const a=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n.default&&void 0===t?"__lodash_hash_undefined__":t,this}},925353:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=/^(?:0|[1-9]\d*)$/;const a=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},386586:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var n=r(292049),a=r(761882),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_=/^\w*$/;const c=function(e,t){if((0,n.default)(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!(0,a.default)(e))||(_.test(e)||!s.test(e)||null!=t&&e in Object(t))}},649914:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},870640:(e,t,r)=>{"use strict";r.d(t,{default:()=>_});var n,a=r(113161),s=(n=/[^.]+$/.exec(a.default&&a.default.keys&&a.default.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";const _=function(e){return!!s&&s in e}},897271:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=Object.prototype;const a=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},909396:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=r(523149);const a=function(e){return e==e&&!(0,n.default)(e)}},36838:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=function(){this.__data__=[],this.size=0}},362384:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(210169),a=Array.prototype.splice;const s=function(e){var t=this.__data__,r=(0,n.default)(t,e);return!(r<0)&&(r==t.length-1?t.pop():a.call(t,r,1),--this.size,!0)}},104787:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=r(210169);const a=function(e){var t=this.__data__,r=(0,n.default)(t,e);return r<0?void 0:t[r][1]}},898207:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=r(210169);const a=function(e){return(0,n.default)(this.__data__,e)>-1}},451031:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=r(210169);const a=function(e,t){var r=this.__data__,a=(0,n.default)(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this}},95088:(e,t,r)=>{"use strict";r.d(t,{default:()=>_});var n=r(965373),a=r(277919),s=r(168335);const _=function(){this.size=0,this.__data__={hash:new n.default,map:new(s.default||a.default),string:new n.default}}},829846:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=r(515547);const a=function(e){var t=(0,n.default)(this,e).delete(e);return this.size-=t?1:0,t}},831521:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=r(515547);const a=function(e){return(0,n.default)(this,e).get(e)}},782509:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=r(515547);const a=function(e){return(0,n.default)(this,e).has(e)}},549:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=r(515547);const a=function(e,t){var r=(0,n.default)(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this}},164877:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}},945997:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}},760608:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=r(446632);const a=function(e){var t=(0,n.default)(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}},220674:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=(0,r(280702).default)(Object,"create")},733938:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=(0,r(40367).default)(Object.keys,Object)},981493:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}},364841:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var n=r(272136),a="object"==typeof exports&&exports&&!exports.nodeType&&exports,s=a&&"object"==typeof module&&module&&!module.nodeType&&module,_=s&&s.exports===a&&n.default.process;const c=function(){try{var e=s&&s.require&&s.require("util").types;return e||_&&_.binding&&_.binding("util")}catch(e){}}()},965606:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=Object.prototype.toString;const a=function(e){return n.call(e)}},40367:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=function(e,t){return function(r){return e(t(r))}}},41917:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(272136),a="object"==typeof self&&self&&self.Object===Object&&self;const s=n.default||a||Function("return this")()},25668:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},529875:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=function(e){return this.__data__.has(e)}},729959:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}},591532:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=r(277919);const a=function(){this.__data__=new n.default,this.size=0}},42:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},173061:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=function(e){return this.__data__.get(e)}},144105:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=function(e){return this.__data__.has(e)}},487681:(e,t,r)=>{"use strict";r.d(t,{default:()=>_});var n=r(277919),a=r(168335),s=r(935917);const _=function(e,t){var r=this.__data__;if(r instanceof n.default){var _=r.__data__;if(!a.default||_.length<199)return _.push([e,t]),this.size=++r.size,this;r=this.__data__=new s.default(_)}return r.set(e,t),this.size=r.size,this}},994553:(e,t,r)=>{"use strict";r.d(t,{default:()=>_});var n=r(633331),a=r(770898),s=r(138615);const _=function(e){return(0,a.default)(e)?(0,s.default)(e):(0,n.default)(e)}},174616:(e,t,r)=>{"use strict";r.d(t,{default:()=>_});var n=r(279010),a=r(770898),s=r(632694);const _=function(e){return(0,a.default)(e)?(0,s.default)(e):(0,n.default)(e)}},865722:(e,t,r)=>{"use strict";r.d(t,{default:()=>_});var n=r(760608),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g;const _=(0,n.default)((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,(function(e,r,n,a){t.push(n?a.replace(s,"$1"):r||e)})),t}))},930901:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=r(761882);const a=function(e){if("string"==typeof e||(0,n.default)(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},281121:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=Function.prototype.toString;const a=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},507880:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=/\s/;const a=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},138615:(e,t,r)=>{"use strict";r.d(t,{default:()=>A});var n="\\ud800-\\udfff",a="["+n+"]",s="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",_="\\ud83c[\\udffb-\\udfff]",c="[^"+n+"]",l="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",d="(?:"+s+"|"+_+")"+"?",p="[\\ufe0e\\ufe0f]?",E=p+d+("(?:\\u200d(?:"+[c,l,u].join("|")+")"+p+d+")*"),m="(?:"+[c+s+"?",s,l,u,a].join("|")+")",g=RegExp(_+"(?="+_+")|"+m+E,"g");const A=function(e){for(var t=g.lastIndex=0;g.test(e);)++t;return t}},632694:(e,t,r)=>{"use strict";r.d(t,{default:()=>A});var n="\\ud800-\\udfff",a="["+n+"]",s="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",_="\\ud83c[\\udffb-\\udfff]",c="[^"+n+"]",l="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",d="(?:"+s+"|"+_+")"+"?",p="[\\ufe0e\\ufe0f]?",E=p+d+("(?:\\u200d(?:"+[c,l,u].join("|")+")"+p+d+")*"),m="(?:"+[c+s+"?",s,l,u,a].join("|")+")",g=RegExp(_+"(?="+_+")|"+m+E,"g");const A=function(e){return e.match(g)||[]}},166984:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=function(e,t){return e===t||e!=e&&t!=t}},877500:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=r(966318);const a=function(e,t,r){var a=null==e?void 0:(0,n.default)(e,t);return void 0===a?r:a}},217511:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(509789),a=r(285054);const s=function(e,t){return null!=e&&(0,a.default)(e,t,n.default)}},929008:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=function(e){return e}},241788:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var n=r(974846),a=r(753098),s=Object.prototype,_=s.hasOwnProperty,c=s.propertyIsEnumerable,l=(0,n.default)(function(){return arguments}())?n.default:function(e){return(0,a.default)(e)&&_.call(e,"callee")&&!c.call(e,"callee")};const u=l},292049:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=Array.isArray},238446:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(389610),a=r(5254);const s=function(e){return null!=e&&(0,a.default)(e.length)&&!(0,n.default)(e)}},74616:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var n=r(41917),a=r(624639),s="object"==typeof exports&&exports&&!exports.nodeType&&exports,_=s&&"object"==typeof module&&module&&!module.nodeType&&module,c=_&&_.exports===s?n.default.Buffer:void 0;const l=(c?c.isBuffer:void 0)||a.default},389610:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(979672),a=r(523149);const s=function(e){if(!(0,a.default)(e))return!1;var t=(0,n.default)(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},5254:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},523149:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},753098:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=function(e){return null!=e&&"object"==typeof e}},411767:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var n=r(712973),a=r(552789),s=r(364841),_=s.default&&s.default.isRegExp;const c=_?(0,a.default)(_):n.default},761882:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(979672),a=r(753098);const s=function(e){return"symbol"==typeof e||(0,a.default)(e)&&"[object Symbol]"==(0,n.default)(e)}},118719:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var n=r(289717),a=r(552789),s=r(364841),_=s.default&&s.default.isTypedArray;const c=_?(0,a.default)(_):n.default},269592:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=function(e){return void 0===e}},327422:(e,t,r)=>{"use strict";r.d(t,{default:()=>_});var n=r(550423),a=r(17064),s=r(238446);const _=function(e){return(0,s.default)(e)?(0,n.default)(e):(0,a.default)(e)}},241865:(e,t,r)=>{"use strict";r.d(t,{default:()=>_});var n=r(550423),a=r(708823),s=r(238446);const _=function(e){return(0,s.default)(e)?(0,n.default)(e,!0):(0,a.default)(e)}},446632:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(935917);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var _=e.apply(this,n);return r.cache=s.set(a,_)||s,_};return r.cache=new(a.Cache||n.default),r}a.Cache=n.default;const s=a},478672:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=function(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}},596034:(e,t,r)=>{"use strict";r.d(t,{default:()=>_});var n=r(952141),a=r(478672),s=r(141470);const _=function(e,t){return(0,s.default)(e,(0,a.default)((0,n.default)(t)))}},141470:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var n=r(45572),a=r(952141),s=r(769084),_=r(883973);const c=function(e,t){if(null==e)return{};var r=(0,n.default)((0,_.default)(e),(function(e){return[e]}));return t=(0,a.default)(t),(0,s.default)(e,r,(function(e,r){return t(e,r[0])}))}},792263:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var n=r(770805),a=r(82199),s=r(386586),_=r(930901);const c=function(e){return(0,s.default)(e)?(0,n.default)((0,_.default)(e)):(0,a.default)(e)}},613153:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=function(){return[]}},624639:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=function(){return!1}},808776:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(501694),a=1/0;const s=function(e){return e?(e=(0,n.default)(e))===a||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},818593:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=r(808776);const a=function(e){var t=(0,n.default)(e),r=t%1;return t==t?r?t-r:t:0}},501694:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var n=r(375488),a=r(523149),s=r(761882),_=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;const d=function(e){if("number"==typeof e)return e;if((0,s.default)(e))return NaN;if((0,a.default)(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=(0,a.default)(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=(0,n.default)(e);var r=c.test(e);return r||l.test(e)?u(e.slice(2),r?2:8):_.test(e)?NaN:+e}},648182:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=r(630052);const a=function(e){return null==e?"":(0,n.default)(e)}},609620:(e,t,r)=>{"use strict";r.d(t,{default:()=>m});var n=r(630052),a=r(20098),s=r(770898),_=r(523149),c=r(411767),l=r(994553),u=r(174616),d=r(818593),p=r(648182),E=/\w*$/;const m=function(e,t){var r=30,m="...";if((0,_.default)(t)){var g="separator"in t?t.separator:g;r="length"in t?(0,d.default)(t.length):r,m="omission"in t?(0,n.default)(t.omission):m}var A=(e=(0,p.default)(e)).length;if((0,s.default)(e)){var f=(0,u.default)(e);A=f.length}if(r>=A)return e;var I=r-(0,l.default)(m);if(I<1)return m;var y=f?(0,a.default)(f,0,I).join(""):e.slice(0,I);if(void 0===g)return y+m;if(f&&(I+=y.length-I),(0,c.default)(g)){if(e.slice(I).search(g)){var R,O=y;for(g.global||(g=RegExp(g.source,(0,p.default)(E.exec(g))+"g")),g.lastIndex=0;R=g.exec(O);)var S=R.index;y=y.slice(0,void 0===S?I:S)}}else if(e.indexOf((0,n.default)(g),I)!=I){var T=y.lastIndexOf(g);T>-1&&(y=y.slice(0,T))}return y+m}},444329:(e,t,r)=>{"use strict";r.d(t,{customAlphabet:()=>a,nanoid:()=>s});let n=e=>crypto.getRandomValues(new Uint8Array(e)),a=(e,t=21)=>((e,t,r)=>{let n=(2<<Math.log(e.length-1)/Math.LN2)-1,a=-~(1.6*n*t/e.length);return(s=t)=>{let _="";for(;;){let t=r(a),c=a;for(;c--;)if(_+=e[t[c]&n]||"",_.length===s)return _}}})(e,t,n),s=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"),"")},331635:(e,t,r)=>{"use strict";r.d(t,{__assign:()=>s,__decorate:()=>c,__extends:()=>a,__metadata:()=>l,__read:()=>d,__rest:()=>_,__spreadArray:()=>p,__values:()=>u});var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var s=function(){return s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},s.apply(this,arguments)};function _(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}function c(e,t,r,n){var a,s=arguments.length,_=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(_=(s<3?a(_):s>3?a(t,r,_):a(t,r))||_);return s>3&&_&&Object.defineProperty(t,r,_),_}function l(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}Object.create;function u(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,s=r.call(e),_=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)_.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(a)throw a.error}}return _}function p(e,t,r){if(r||2===arguments.length)for(var n,a=0,s=t.length;a<s;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}Object.create;"function"==typeof SuppressedError&&SuppressedError}}])}if("undefined"!=typeof window&&window.partConfigEnabled?.("static_loading_execute_errors"))try{sourceFn(),window.stManager?.done?.("dist/web/chunks/common.0fff545e.js")}catch(e){throw window.stManager?.fail?.("dist/web/chunks/common.0fff545e.js",e),e}else sourceFn(),"undefined"!=typeof window&&window.stManager?.done?.("dist/web/chunks/common.0fff545e.js");